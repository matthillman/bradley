!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n?n:e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";function r(e,t,n,r,i,a){function s(){var e=u||a.when(!0);e.then(function(){n("left").toggle()}),r.hide()}function c(t){e.selected=t,e.toggleList()}function l(t){function n(e){this.user=a,this.actions=[{name:"Phone",icon:"phone",icon_url:"assets/svg/phone.svg"},{name:"Twitter",icon:"twitter",icon_url:"assets/svg/twitter.svg"},{name:"Google+",icon:"google_plus",icon_url:"assets/svg/google_plus.svg"},{name:"Hangout",icon:"hangouts",icon_url:"assets/svg/hangouts.svg"}],this.submitContact=function(t){e.hide(t)}}var a=e.selected;return u=r.show({parent:o.element(document.getElementById("content")),templateUrl:"views/partials/contactSheet.html",controller:n,controllerAs:"cp",bindToController:!0,targetEvent:t}).then(function(e){e&&i.debug(e.name+" clicked!")}),n.$inject=["$mdBottomSheet"],u}e.selected=null,e.users=[],e.selectUser=c,e.toggleList=s,e.showContactOptions=l,e.isSidenavOpen=function(){return n("left").isOpen()},t.loadAllUsers().then(function(t){e.users=[].concat(t),e.selected=t[0]});var u}var o=e("angular");e("angular-material"),r.$inject=["$scope","userService","$mdSidenav","$mdBottomSheet","$log","$q"],n.UserController=r},{angular:14,"angular-material":12}],2:[function(e,t,n){"use strict";var r=e("angular"),o=r.module("sample.app"),i=e("./UserController");o.controller("UserController",i.UserController)},{"./UserController":1,angular:14}],3:[function(e,t,n){"use strict";{var r=e("angular");r.module("sample.app")}},{angular:14}],4:[function(e,t,n){"use strict";var r=e("angular");e("angular-aria"),e("angular-animate"),e("angular-material"),r.module("sample.app",["ngMaterial"]),e("./services"),e("./directives"),e("./controllers"),r.bootstrap(document,["sample.app"])},{"./controllers":2,"./directives":3,"./services":6,angular:14,"angular-animate":8,"angular-aria":10,"angular-material":12}],5:[function(e,t,n){"use strict";function r(e){var t=[{name:"Lia Lugo",avatar:"svg-1",content:"I love cheese, especially airedale queso. Cheese and biscuits halloumi cauliflower cheese cottage cheese swiss boursin fondue caerphilly. Cow port-salut camembert de normandie macaroni cheese feta who moved my cheese babybel boursin. Red leicester roquefort boursin squirty cheese jarlsberg blue castello caerphilly chalk and cheese. Lancashire."},{name:"George Duke",avatar:"svg-2",content:"Zombie ipsum reversus ab viral inferno, nam rick grimes malum cerebro. De carne lumbering animata corpora quaeritis. Summus brains sit​​, morbo vel maleficia? De apocalypsi gorger omero undead survivor dictum mauris."},{name:"Gener Delosreyes",avatar:"svg-3",content:"Raw denim pour-over readymade Etsy Pitchfork. Four dollar toast pickled locavore bitters McSweeney's blog. Try-hard art party Shoreditch selfies. Odd Future butcher VHS, disrupt pop-up Thundercats chillwave vinyl jean shorts taxidermy master cleanse letterpress Wes Anderson mustache Helvetica. Schlitz bicycle rights chillwave irony lumberhungry Kickstarter next level sriracha typewriter Intelligentsia, migas kogi heirloom tousled. Disrupt 3 wolf moon lomo four loko. Pug mlkshk fanny pack literally hoodie bespoke, put a bird on it Marfa messenger bag kogi VHS."},{name:"Lawrence Ray",avatar:"svg-4",content:"Scratch the furniture spit up on light gray carpet instead of adjacent linoleum so eat a plant, kill a hand pelt around the house and up and down stairs chasing phantoms run in circles, or claw drapes. Always hungry pelt around the house and up and down stairs chasing phantoms."},{name:"Ernesto Urbina",avatar:"svg-5",content:"Webtwo ipsum dolor sit amet, eskobo chumby doostang bebo. Bubbli greplin stypi prezi mzinga heroku wakoopa, shopify airbnb dogster dopplr gooru jumo, reddit plickers edmodo stypi zillow etsy."},{name:"Gani Ferrer",avatar:"svg-6",content:"Lebowski ipsum yeah? What do you think happens when you get rad? You turn in your library card? Get a new driver's license? Stop being awesome? Dolor sit amet, consectetur adipiscing elit praesent ac magna justo pellentesque ac lectus. You don't go out and make a living dressed like that in the middle of a weekday. Quis elit blandit fringilla a ut turpis praesent felis ligula, malesuada suscipit malesuada."}];return{loadAllUsers:function(){return e.when(t)}}}r.$inject=["$q"],n.UserServiceFactory=r},{}],6:[function(e,t,n){"use strict";var r=e("angular"),o=r.module("sample.app");o.config(["$mdThemingProvider","$mdIconProvider",function(e,t){t.defaultIconSet("./assets/svg/avatars.svg",128).icon("menu","./assets/svg/menu.svg",24).icon("share","./assets/svg/share.svg",24).icon("google_plus","./assets/svg/google_plus.svg",512).icon("hangouts","./assets/svg/hangouts.svg",512).icon("twitter","./assets/svg/twitter.svg",512).icon("phone","./assets/svg/phone.svg",512),e.theme("default").primaryPalette("indigo").accentPalette("blue-grey")}]);var i=e("./UserService");o.service("userService",i.UserServiceFactory)},{"./UserService":5,angular:14}],7:[function(e,t,n){!function(e,t,n){"use strict";function r(e,t,n){if(!e)throw ngMinErr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function o(e,t){return e||t?e?t?(j(e)&&(e=e.join(" ")),j(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function i(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function a(e,t,n){var r="";return e=j(e)?e:e&&L(e)&&e.length?e.split(/\s+/):[],P(e,function(e,o){e&&e.length>0&&(r+=o>0?" ":"",r+=n?t+e:e+t)}),r}function s(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function c(e){if(e instanceof R)switch(e.length){case 0:return[];case 1:if(e[0].nodeType===z)return e;break;default:return R(l(e))}return e.nodeType===z?R(e):void 0}function l(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==z)return n}}function u(e,t,n){P(t,function(t){e.addClass(t,n)})}function d(e,t,n){P(t,function(t){e.removeClass(t,n)})}function m(e){return function(t,n){n.addClass&&(u(e,t,n.addClass),n.addClass=null),n.removeClass&&(d(e,t,n.removeClass),n.removeClass=null)}}function f(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||D;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=D},e.$$prepared=!0}return e}function p(e,t){h(e,t),g(e,t)}function h(e,t){t.from&&(e.css(t.from),t.from=null)}function g(e,t){t.to&&(e.css(t.to),t.to=null)}function v(e,t,n){var r=(t.addClass||"")+" "+(n.addClass||""),o=(t.removeClass||"")+" "+(n.removeClass||""),i=$(e.attr("class"),r,o);return I(t,n),t.addClass=i.addClass?i.addClass:null,t.removeClass=i.removeClass?i.removeClass:null,t}function $(e,t,n){function r(e){L(e)&&(e=e.split(" "));var t={};return P(e,function(e){e.length&&(t[e]=!0)}),t}var o=1,i=-1,a={};e=r(e),t=r(t),P(t,function(e,t){a[t]=o}),n=r(n),P(n,function(e,t){a[t]=a[t]===o?null:i});var s={addClass:"",removeClass:""};return P(a,function(t,n){var r,a;t===o?(r="addClass",a=!e[n]):t===i&&(r="removeClass",a=e[n]),a&&(s[r].length&&(s[r]+=" "),s[r]+=n)}),s}function b(e){return e instanceof t.element?e[0]:e}function E(e,t,n){var r=Object.create(null),o=e.getComputedStyle(t)||{};return P(n,function(e,t){var n=o[e];if(n){var i=n.charAt(0);("-"===i||"+"===i||i>=0)&&(n=y(n)),0===n&&(n=null),r[t]=n}}),r}function y(e){var t=0,n=e.split(/\s*,\s*/);return P(n,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function M(e){return 0===e||null!=e}function w(e,t){var n=N,r=e+"s";return t?n+=Z:r+=" linear all",[n,r]}function C(e){return[ce,e+"s"]}function A(e,t){var n=t?se:le;return[n,e+"s"]}function x(e,t){var n=t?"-"+t+"s":"";return k(e,[le,n]),[le,n]}function T(e,t){var n=t?"paused":"",r=H+ne;return k(e,[r,n]),[r,n]}function k(e,t){var n=t[0],r=t[1];e.style[n]=r}function S(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}var N,_,H,O,D=t.noop,I=t.extend,R=t.element,P=t.forEach,j=t.isArray,L=t.isString,F=t.isObject,V=t.isUndefined,q=t.isDefined,B=t.isFunction,U=t.isElement,z=1,W="ng-animate",K="$$ngAnimateChildren",Y=["$$rAF",function(e){function t(e){i.push([].concat(e)),n()}function n(){if(i.length){for(var t=[],a=0;a<i.length;a++){var s=i[a];r(s),s.length&&t.push(s)}i=t,o||e(function(){o||n()})}}function r(e){var t=e.shift();t()}var o,i=[];return t.waitUntilQuiet=function(t){o&&o(),o=e(function(){o=null,t(),n()})},t}],G=[function(){return function(e,n,r){var o=r.ngAnimateChildren;t.isString(o)&&0===o.length?n.data(K,!0):r.$observe("ngAnimateChildren",function(e){e="on"===e||"true"===e,n.data(K,e)})}}],X="";e.ontransitionend===n&&e.onwebkittransitionend!==n?(X="-webkit-",N="WebkitTransition",_="webkitTransitionEnd transitionend"):(N="transition",_="transitionend"),e.onanimationend===n&&e.onwebkitanimationend!==n?(X="-webkit-",H="WebkitAnimation",O="webkitAnimationEnd animationend"):(H="animation",O="animationend");var Z="Duration",J="Property",Q="Delay",ee="TimingFunction",te="IterationCount",ne="PlayState",re=3,oe=1.5,ie=1e3,ae=9999,se=H+Q,ce=H+Z,le=N+Q,ue=N+Z,de={transitionDuration:ue,transitionDelay:le,transitionProperty:N+J,animationDuration:ce,animationDelay:se,animationIterationCount:H+te},me={transitionDuration:ue,transitionDelay:le,animationDuration:ce,animationDelay:se},fe=["$animateProvider",function(e){var t=S(),n=S();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$document","$sniffer","$$rAFScheduler",function(e,r,o,c,l,u,d){function v(e,t){var n="$$ngAnimateParentKey",r=e.parentNode,o=r[n]||(r[n]=++L);return o+"-"+e.getAttribute("class")+"-"+t}function $(n,r,o,i){var a=t.get(o);return a||(a=E(e,n,i),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),t.put(o,a),a}function y(o,i,s,c){var l;if(t.count(s)>0&&(l=n.get(s),!l)){var u=a(i,"-stagger");r.addClass(o,u),l=E(e,o,c),l.animationDuration=Math.max(l.animationDuration,0),l.transitionDuration=Math.max(l.transitionDuration,0),r.removeClass(o,u),n.put(s,l)}return l||{}}function S(e){V.push(e),d.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=F.offsetWidth+1,r=0;r<V.length;r++)V[r](e);V.length=0})}function D(e,t,n){var r=$(e,t,n,de),o=r.animationDelay,i=r.transitionDelay;return r.maxDelay=o&&i?Math.max(o,i):o||i,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}function I(e,n){function l(){m()}function d(){m(!0)}function m(t){F||q&&V||(F=!0,V=!1,r.removeClass(e,ce),r.removeClass(e,ue),T(L,!1),x(L,!1),P(G,function(e){L.style[e[0]]=""}),R(e,n),p(e,n),n.onDone&&n.onDone(),B&&B.complete(!t))}function $(e){Ae.blockTransition&&x(L,e),Ae.blockKeyframeAnimation&&T(L,!!e)}function E(){return B=new o({end:l,cancel:d}),m(),{$$willAnimate:!1,start:function(){return B},end:l}}function I(){function t(){if(!F){if($(!1),P(G,function(e){var t=e[0],n=e[1];L.style[t]=n}),R(e,n),r.addClass(e,ue),Ae.recalculateTimingStyles){if(le=L.className+" "+ce,pe=v(L,le),we=D(L,le,pe),Ce=we.maxDelay,z=Math.max(Ce,0),K=we.maxDuration,0===K)return void m();Ae.hasTransitions=we.transitionDuration>0,Ae.hasAnimations=we.animationDuration>0}if(Ae.applyTransitionDelay||Ae.applyAnimationDelay){Ce="boolean"!=typeof n.delay&&M(n.delay)?parseFloat(n.delay):Ce,z=Math.max(Ce,0);var t;Ae.applyTransitionDelay&&(we.transitionDelay=Ce,t=A(Ce),G.push(t),L.style[t[0]]=t[1]),Ae.applyAnimationDelay&&(we.animationDelay=Ce,t=A(Ce,!0),G.push(t),L.style[t[0]]=t[1])}if(W=z*ie,Y=K*ie,n.easing){var s,u=n.easing;Ae.hasTransitions&&(s=N+ee,G.push([s,u]),L.style[s]=u),Ae.hasAnimations&&(s=H+ee,G.push([s,u]),L.style[s]=u)}we.transitionDuration&&l.push(_),we.animationDuration&&l.push(O),a=Date.now(),e.on(l.join(" "),i),c(o,W+oe*Y),g(e,n)}}function o(){m()}function i(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||t.timeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(re));Math.max(n-a,0)>=W&&r>=K&&(q=!0,m())}if(!F){if(!L.parentNode)return void m();var a,l=[],u=function(e){if(q)V&&e&&(V=!1,m());else if(V=!e,we.animationDuration){var t=T(L,V);V?G.push(t):s(G,t)}},d=ye>0&&(we.transitionDuration&&0===he.transitionDuration||we.animationDuration&&0===he.animationDuration)&&Math.max(he.animationDelay,he.transitionDelay);d?c(t,Math.floor(d*ye*ie),!1):t(),U.resume=function(){u(!0)},U.pause=function(){u(!1)}}}var L=b(e);if(!L||!L.parentNode)return E();n=f(n);var F,V,q,B,U,z,W,K,Y,G=[],X=e.attr("class"),Z=i(n);if(0===n.duration||!u.animations&&!u.transitions)return E();var Q=n.event&&j(n.event)?n.event.join(" "):n.event,te=Q&&n.structural,ne="",se="";te?ne=a(Q,"ng-",!0):Q&&(ne=Q),n.addClass&&(se+=a(n.addClass,"-add")),n.removeClass&&(se.length&&(se+=" "),se+=a(n.removeClass,"-remove")),n.applyClassesEarly&&se.length&&(R(e,n),se="");var ce=[ne,se].join(" ").trim(),le=X+" "+ce,ue=a(ce,"-active"),de=Z.to&&Object.keys(Z.to).length>0,fe=(n.keyframeStyle||"").length>0;if(!fe&&!de&&!ce)return E();var pe,he;if(n.stagger>0){var ge=parseFloat(n.stagger);he={transitionDelay:ge,animationDelay:ge,transitionDuration:0,animationDuration:0}}else pe=v(L,le),he=y(L,ce,pe,me);r.addClass(e,ce);var ve;if(n.transitionStyle){var $e=[N,n.transitionStyle];k(L,$e),G.push($e)}if(n.duration>=0){ve=L.style[N].length>0;var be=w(n.duration,ve);k(L,be),G.push(be)}if(n.keyframeStyle){var Ee=[H,n.keyframeStyle];k(L,Ee),G.push(Ee)}var ye=he?n.staggerIndex>=0?n.staggerIndex:t.count(pe):0,Me=0===ye;Me&&x(L,ae);var we=D(L,le,pe),Ce=we.maxDelay;z=Math.max(Ce,0),K=we.maxDuration;var Ae={};return Ae.hasTransitions=we.transitionDuration>0,Ae.hasAnimations=we.animationDuration>0,Ae.hasTransitionAll=Ae.hasTransitions&&"all"==we.transitionProperty,Ae.applyTransitionDuration=de&&(Ae.hasTransitions&&!Ae.hasTransitionAll||Ae.hasAnimations&&!Ae.hasTransitions),Ae.applyAnimationDuration=n.duration&&Ae.hasAnimations,Ae.applyTransitionDelay=M(n.delay)&&(Ae.applyTransitionDuration||Ae.hasTransitions),Ae.applyAnimationDelay=M(n.delay)&&Ae.hasAnimations,Ae.recalculateTimingStyles=se.length>0,(Ae.applyTransitionDuration||Ae.applyAnimationDuration)&&(K=n.duration?parseFloat(n.duration):K,Ae.applyTransitionDuration&&(Ae.hasTransitions=!0,we.transitionDuration=K,ve=L.style[N+J].length>0,G.push(w(K,ve))),Ae.applyAnimationDuration&&(Ae.hasAnimations=!0,we.animationDuration=K,G.push(C(K)))),0!==K||Ae.recalculateTimingStyles?(null==n.duration&&we.transitionDuration>0&&(Ae.recalculateTimingStyles=Ae.recalculateTimingStyles||Me),W=z*ie,Y=K*ie,n.skipBlocking||(Ae.blockTransition=we.transitionDuration>0,Ae.blockKeyframeAnimation=we.animationDuration>0&&he.animationDelay>0&&0===he.animationDuration),h(e,n),Ae.blockTransition||x(L,!1),$(K),{$$willAnimate:!0,end:l,start:function(){return F?void 0:(U={end:l,cancel:d,resume:null,pause:null},B=new o(U),S(I),B)}}):E()}var R=m(r),L=0,F=b(l).body,V=[];return I}]}],pe=["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver");var t="ng-animate-shim",n="ng-anchor",r="ng-anchor-out",o="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$document","$sniffer",function(e,i,a,s,c,l){function u(e){return e.replace(/\bng-\S+\b/g,"")}function d(e,t){return L(e)&&(e=e.split(" ")),L(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function m(i,s,c){function l(e){var t={},n=b(e).getBoundingClientRect();return P(["width","height","top","left"],function(e){var r=n[e];switch(e){case"top":r+=h.scrollTop;break;case"left":r+=h.scrollLeft}t[e]=Math.floor(r)+"px"}),t}function m(){var t=e($,{addClass:r,delay:!0,from:l(s)});return t.$$willAnimate?t:null}function f(e){return e.attr("class")||""}function p(){var t=u(f(c)),n=d(t,E),i=d(E,t),a=e($,{to:l(c),addClass:o+" "+n,removeClass:r+" "+i,delay:!0});return a.$$willAnimate?a:null}function g(){$.remove(),s.removeClass(t),c.removeClass(t)}var $=R(b(s).cloneNode(!0)),E=u(f($));s.addClass(t),c.addClass(t),$.addClass(n),v.append($);var y,M=m();if(!M&&(y=p(),!y))return g();var w=M||y;return{start:function(){function e(){n&&n.end()}var t,n=w.start();return n.done(function(){return n=null,!y&&(y=p())?(n=y.start(),n.done(function(){n=null,g(),t.complete()}),n):(g(),void t.complete())}),t=new a({end:e,cancel:e})}}}function f(e,t,n,r){var o=p(e),i=p(t),s=[];return P(r,function(e){var t=e.out,r=e["in"],o=m(n,t,r);o&&s.push(o)}),o||i||0!==s.length?{start:function(){function e(){P(t,function(e){e.end()})}var t=[];o&&t.push(o.start()),i&&t.push(i.start()),P(s,function(e){t.push(e.start())});var n=new a({end:e,cancel:e});return a.all(t,function(e){n.complete(e)}),n}}:void 0}function p(t){var n=t.element,r=t.options||{};t.structural?(r.structural=r.applyClassesEarly=!0,r.event=t.event,"leave"===r.event&&(r.onDone=r.domOperation)):r.event=null;var o=e(n,r);return o.$$willAnimate?o:null}if(!l.animations&&!l.transitions)return D;var h=b(c).body,g=b(s),v=R(h.parentNode===g?h:g);return function(e){return e.from&&e.to?f(e.from,e.to,e.classes,e.anchors):p(e)}}]}],he=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$rAFMutex","$$jqLite",function(t,n,r,o){function i(n){n=j(n)?n:n.split(" ");for(var r=[],o={},i=0;i<n.length;i++){var a=n[i],s=e.$$registeredAnimations[a];s&&!o[a]&&(r.push(t.get(s)),o[a]=!0)}return r}var a=m(o);return function(e,t,r,o){function s(){o.domOperation(),a(e,o)}function c(e,t,r,o,i){var a;switch(r){case"animate":a=[t,o.from,o.to,i];break;case"setClass":a=[t,h,g,i];break;case"addClass":a=[t,h,i];break;case"removeClass":a=[t,g,i];break;default:a=[t,i]}a.push(o);var s=e.apply(e,a);if(s)if(B(s.start)&&(s=s.start()),s instanceof n)s.done(i);else if(B(s))return s;return D}function l(e,t,r,o,i){var a=[];return P(o,function(o){var s=o[i];s&&a.push(function(){var o,i,a=!1,l=function(e){a||(a=!0,(i||D)(e),o.complete(!e))};return o=new n({end:function(){l()},cancel:function(){l(!0)}}),i=c(s,e,t,r,function(e){var t=e===!1;l(t)}),o})}),a}function u(e,t,r,o,i){var a=l(e,t,r,o,i);if(0===a.length){var s,c;"beforeSetClass"===i?(s=l(e,"removeClass",r,o,"beforeRemoveClass"),c=l(e,"addClass",r,o,"beforeAddClass")):"setClass"===i&&(s=l(e,"removeClass",r,o,"removeClass"),c=l(e,"addClass",r,o,"addClass")),s&&(a=a.concat(s)),c&&(a=a.concat(c))}if(0!==a.length)return function(e){var t=[];return a.length&&P(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){P(t,function(t){e?t.cancel():t.end()})}}}3===arguments.length&&F(r)&&(o=r,r=null),o=f(o),r||(r=e.attr("class")||"",o.addClass&&(r+=" "+o.addClass),o.removeClass&&(r+=" "+o.removeClass));var d,m,h=o.addClass,g=o.removeClass,v=i(r);if(v.length){var $,b;"leave"==t?(b="leave",$="afterLeave"):(b="before"+t.charAt(0).toUpperCase()+t.substr(1),$=t),"enter"!==t&&"move"!==t&&(d=u(e,t,o,v,b)),m=u(e,t,o,v,$)}return d||m?{start:function(){function t(t){c=!0,s(),p(e,o),l.complete(t)}function r(e){c||((i||D)(e),t(e))}var i,a=[];d&&a.push(function(e){i=d(e)}),a.length?a.push(function(e){s(),e(!0)}):s(),m&&a.push(function(e){i=m(e)});var c=!1,l=new n({end:function(){r()},cancel:function(){r(!0)}});return n.chain(a,t),l}}:void 0}}]}],ge=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,r=t.event,o=t.options,i=t.classes;return e(n,r,i,o)}return function(e){if(e.from&&e.to){var r=n(e.from),o=n(e.to);if(!r&&!o)return;return{start:function(){function e(){return function(){P(i,function(e){e.end()})}}function n(e){a.complete(e)}var i=[];r&&i.push(r.start()),o&&i.push(o.start()),t.all(i,n);var a=new t({end:e(),cancel:e()});return a}}}return n(e)}}]}],ve="data-ng-animate",$e="$ngAnimatePin",be=["$animateProvider",function(e){function t(e,t,n,r){return a[e].some(function(e){return e(t,n,r)})}function n(e,t){e=e||{};var n=(e.addClass||"").length>0,r=(e.removeClass||"").length>0;return t?n&&r:n||r}var o=1,i=2,a=this.rules={skip:[],cancel:[],join:[]};a.join.push(function(e,t,r){return!t.structural&&n(t.options)}),a.skip.push(function(e,t,r){return!t.structural&&!n(t.options)}),a.skip.push(function(e,t,n){return"leave"==n.event&&t.structural}),a.skip.push(function(e,t,n){return n.structural&&!t.structural}),a.cancel.push(function(e,t,n){return n.structural&&t.structural}),a.cancel.push(function(e,t,n){return n.state===i&&t.structural}),a.cancel.push(function(e,t,n){var r=t.options,o=n.options;return r.addClass&&r.addClass===o.removeClass||r.removeClass&&r.removeClass===o.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite",function(a,s,u,d,h,g,$,E,y){function M(e,t){return v(e,t,{})}function w(e,t){var n=b(e),r=[],o=W[t];return o&&P(o,function(e){e.node.contains(n)&&r.push(e.callback)}),r}function C(e,t,n,r){a(function(){P(w(t,e),function(e){e(t,n,r)})})}function A(e,r,a){function l(t,n,r,o){C(n,e,r,o),t.progress(n,r,o)}function u(t){X(e,a),p(e,a),a.domOperation(),h.complete(!t)}var d,m;e=c(e),e&&(d=b(e),m=e.parent()),a=f(a);var h=new $;if(!d)return u(),h;j(a.addClass)&&(a.addClass=a.addClass.join(" ")),j(a.removeClass)&&(a.removeClass=a.removeClass.join(" ")),a.from&&!F(a.from)&&(a.from=null),a.to&&!F(a.to)&&(a.to=null);var E=[d.className,a.addClass,a.removeClass].join(" ");if(!G(E))return u(),h;var y=["enter","move","leave"].indexOf(r)>=0,w=!D||O.get(d),A=!w&&H.get(d)||{},k=!!A.state;if(w||k&&A.state==o||(w=!N(e,m,r)),w)return u(),h;y&&x(e);var I={structural:y,element:e,event:r,close:u,options:a,runner:h};if(k){var R=t("skip",e,I,A);if(R)return A.state===i?(u(),h):(v(e,A.options,a),A.runner);var P=t("cancel",e,I,A);if(P)A.state===i?A.runner.end():A.structural?A.close():v(e,I.options,A.options);else{var L=t("join",e,I,A);if(L){if(A.state!==i)return r=I.event=A.event,a=v(e,A.options,I.options),h;M(e,a)}}}else M(e,a);var V=I.structural;if(V||(V="animate"===I.event&&Object.keys(I.options.to||{}).length>0||n(I.options)),!V)return u(),T(e),h;y&&S(m);var q=(A.counter||0)+1;return I.counter=q,_(e,o,I),s.$$postDigest(function(){var t=H.get(d),o=!t;t=t||{};var s=e.parent()||[],c=s.length>0&&("animate"===t.event||t.structural||n(t.options));if(o||t.counter!==q||!c)return o&&(X(e,a),p(e,a)),(o||y&&t.event!==r)&&(a.domOperation(),h.end()),void(c||T(e));r=!t.structural&&n(t.options,!0)?"setClass":t.event,t.structural&&S(s),_(e,i);var m=g(e,r,t.options);m.done(function(t){u(!t);var n=H.get(d);n&&n.counter===q&&T(b(e)),l(h,r,"close",{})}),h.setHost(m),l(h,r,"start",{})}),h}function x(e){var t=b(e),n=t.querySelectorAll("["+ve+"]");P(n,function(e){var t=parseInt(e.getAttribute(ve)),n=H.get(e);switch(t){case i:n.runner.end();case o:n&&H.remove(e)}})}function T(e){var t=b(e);t.removeAttribute(ve),H.remove(t)}function k(e,t){return b(e)===b(t)}function S(e){function t(e,t){!t.structural&&n(t.options)&&(t.state===i&&t.runner.end(),T(e))}for(var r=b(e);;){if(!r||r.nodeType!==z)break;var o=H.get(r);o&&t(r,o),r=r.parentNode}}function N(e,t,n){var r,o=!1,i=!1,a=!1,s=e.data($e);for(s&&(t=s);t&&t.length;){i||(i=k(t,u));var c=t[0];if(c.nodeType!==z)break;var l=H.get(c)||{};if(a||(a=l.structural||O.get(c)),V(r)||r===!0){var d=t.data(K);q(d)&&(r=d)}if(a&&r===!1)break;i||(i=k(t,u),i||(s=t.data($e),s&&(t=s))),o||(o=k(t,B)),t=t.parent()}var m=!a||r;return m&&i&&o}function _(e,t,n){n=n||{},n.state=t;var r=b(e);r.setAttribute(ve,t);var o=H.get(r),i=o?I(o,n):n;H.put(r,i)}var H=new h,O=new h,D=null,L=s.$watch(function(){return 0===E.totalPendingRequests},function(e){e&&(L(),s.$$postDigest(function(){s.$$postDigest(function(){null===D&&(D=!0)})}))}),B=R(d[0].body),W={},Y=e.classNameFilter(),G=Y?function(e){return Y.test(e)}:function(){return!0},X=m(y);return{on:function(e,t,n){var r=l(t);W[e]=W[e]||[],W[e].push({node:r,callback:n})},off:function(e,t,n){function r(e,t,n){var r=l(t);return e.filter(function(e){var t=e.node===r&&(!n||e.callback===n);return!t})}var o=W[e];o&&(W[e]=1===arguments.length?null:r(o,t,n))},pin:function(e,t){r(U(e),"element","not an element"),r(U(t),"parentElement","not an element"),e.data($e,t)},push:function(e,t,n,r){return n=n||{},n.domOperation=r,A(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!D;else{var r=U(e);if(r){var o=b(e),i=O.get(o);1===n?t=!i:(t=!!t,t?i&&O.remove(o):O.put(o,!0))}else t=D=!!e}return t}}}]}],Ee=["$$rAF",function(e){return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}],ye=["$q","$$rAFMutex",function(e,t){function n(e){this.setHost(e),this._doneCallbacks=[],this._runInAnimationFrame=t(),this._state=0}var r=0,o=1,i=2;return n.chain=function(e,t){function n(){return r===e.length?void t(!0):void e[r](function(e){return e===!1?void t(!1):(r++,void n())})}var r=0;n()},n.all=function(e,t){function n(n){o=o&&n,++r===e.length&&t(o)}var r=0,o=!0;P(e,function(e){e.done(n)})},n.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===i?e():this._doneCallbacks.push(e)},progress:D,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===r&&(t._state=o,t._runInAnimationFrame(function(){t._resolve(e)}))},_resolve:function(e){this._state!==i&&(P(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=i)}},n}],Me=["$animateProvider",function(e){function t(e,t){e.data(s,t)}function n(e){e.removeData(s)}function r(e){return e.data(s)}var i="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$rAFScheduler",function(e,s,c,l,u){var d=[],h=m(e),g=0,v=0,$=[];return function(m,E,y){function M(e){var t="["+i+"]",n=e.hasAttribute(i)?[e]:e.querySelectorAll(t),r=[];return P(n,function(e){var t=e.getAttribute(i);t&&t.length&&r.push(e)}),r}function w(e){var t=[],n={};P(e,function(e,r){var o=e.element,a=b(o),s=e.event,c=["enter","move"].indexOf(s)>=0,l=e.structural?M(a):[];if(l.length){var u=c?"to":"from";P(l,function(e){var t=e.getAttribute(i);n[t]=n[t]||{},n[t][u]={animationID:r,element:R(e)}})}else t.push(e)});var r={},o={};return P(n,function(n,i){var a=n.from,s=n.to;if(!a||!s){var c=a?a.animationID:s.animationID,l=c.toString();return void(r[l]||(r[l]=!0,t.push(e[c])))}var u=e[a.animationID],d=e[s.animationID],m=a.animationID.toString();if(!o[m]){var f=o[m]={structural:!0,beforeStart:function(){u.beforeStart(),d.beforeStart()},close:function(){u.close(),d.close()},classes:C(u.classes,d.classes),from:u,to:d,anchors:[]};f.classes.length?t.push(f):(t.push(u),t.push(d))}o[m].anchors.push({out:a.element,"in":s.element})}),t}function C(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;r<e.length;r++){var o=e[r];if("ng-"!==o.substring(0,3))for(var i=0;i<t.length;i++)if(o===t[i]){n.push(o);break}}return n.join(" ")}function A(e){for(var t=a.length-1;t>=0;t--){var n=a[t];if(c.has(n)){var r=c.get(n),o=r(e);if(o)return o}}}function x(){m.addClass(W),O&&e.addClass(m,O)}function T(e,t){function n(e){r(e).setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function k(){var e=r(m);!e||"leave"===E&&y.$$domOperationFired||e.end()}function S(t){m.off("$destroy",k),n(m),h(m,y),p(m,y),y.domOperation(),O&&e.removeClass(m,O),m.removeClass(W),_.complete(!t)}y=f(y);var N=["enter","move","leave"].indexOf(E)>=0,_=new l({end:function(){S()},cancel:function(){S(!0)}});if(!a.length)return S(),_;t(m,_);var H=o(m.attr("class"),o(y.addClass,y.removeClass)),O=y.tempClasses;O&&(H+=" "+O,y.tempClasses=null);var D;return N||(D=g,g+=1),d.push({element:m,classes:H,event:E,classBasedIndex:D,structural:N,options:y,beforeStart:x,close:S}),m.on("$destroy",k),d.length>1?_:(s.$$postDigest(function(){v=g,g=0,$.length=0;var e=[];P(d,function(t){r(t.element)&&e.push(t)}),d.length=0,P(w(e),function(e){function t(){e.beforeStart();var t,n=e.close,o=e.anchors?e.from.element||e.to.element:e.element;if(r(o)&&b(o).parentNode){var i=A(e);i&&(t=i.start)}if(t){var a=t();a.done(function(e){n(!e)}),T(e,a)}else n()}e.structural?t():($.push({node:b(e.element),fn:t}),e.classBasedIndex===v-1&&($=$.sort(function(e,t){return t.node.contains(e.node)}).map(function(e){return e.fn}),u($)))})}),_)}}]}];t.module("ngAnimate",[]).directive("ngAnimateChildren",G).factory("$$rAFMutex",Ee).factory("$$rAFScheduler",Y).factory("$$AnimateRunner",ye).provider("$$animateQueue",be).provider("$$animation",Me).provider("$animateCss",fe).provider("$$animateCssDriver",pe).provider("$$animateJs",he).provider("$$animateJsDriver",ge)}(window,window.angular)},{}],8:[function(e,t,n){e("./angular-animate"),t.exports="ngAnimate"},{"./angular-animate":7}],9:[function(e,t,n){!function(e,t,n){"use strict";function r(){function e(e,t,r){return function(o,i,a){var s=a.$normalize(t);n[s]&&!a[s]&&o.$watch(a[e],function(e){e=r?!e:!!e,i.attr(t,e)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaMultiline:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0,bindRoleForClick:!0};this.config=function(e){n=t.extend(n,e)},this.$get=function(){return{config:function(e){return n[e]},$$watchExpr:e}}}var o=t.module("ngAria",["ng"]).provider("$aria",r);o.directive("ngShow",["$aria",function(e){return e.$$watchExpr("ngShow","aria-hidden",!0)}]).directive("ngHide",["$aria",function(e){return e.$$watchExpr("ngHide","aria-hidden",!1)}]).directive("ngModel",["$aria",function(e){function t(t,n,r){return e.config(n)&&!r.attr(t)}function n(e,t){return!t.attr("role")&&t.attr("type")===e&&"INPUT"!==t[0].nodeName}function r(e,t){var n=e.type,r=e.role;return"checkbox"===(n||r)||"menuitemcheckbox"===r?"checkbox":"radio"===(n||r)||"menuitemradio"===r?"radio":"range"===n||"progressbar"===r||"slider"===r?"range":"textbox"===(n||r)||"TEXTAREA"===t[0].nodeName?"multiline":""}return{restrict:"A",require:"?ngModel",priority:200,compile:function(o,i){var a=r(i,o);return{pre:function(e,t,n,r){"checkbox"===a&&"checkbox"!==n.type&&(r.$isEmpty=function(e){return e===!1})},post:function(r,o,i,s){function c(){return s.$modelValue}function l(){return d?(d=!1,function(e){var t=i.value==s.$viewValue;o.attr("aria-checked",t),o.attr("tabindex",0-!t)}):function(e){o.attr("aria-checked",i.value==s.$viewValue)}}function u(){o.attr("aria-checked",!s.$isEmpty(s.$viewValue))}var d=t("tabindex","tabindex",o);switch(a){case"radio":case"checkbox":n(a,o)&&o.attr("role",a),t("aria-checked","ariaChecked",o)&&r.$watch(c,"radio"===a?l():u);break;case"range":if(n(a,o)&&o.attr("role","slider"),e.config("ariaValue")){var m=!o.attr("aria-valuemin")&&(i.hasOwnProperty("min")||i.hasOwnProperty("ngMin")),f=!o.attr("aria-valuemax")&&(i.hasOwnProperty("max")||i.hasOwnProperty("ngMax")),p=!o.attr("aria-valuenow");m&&i.$observe("min",function(e){o.attr("aria-valuemin",e)}),f&&i.$observe("max",function(e){o.attr("aria-valuemax",e)}),p&&r.$watch(c,function(e){o.attr("aria-valuenow",e)})}break;case"multiline":t("aria-multiline","ariaMultiline",o)&&o.attr("aria-multiline",!0)}d&&o.attr("tabindex",0),s.$validators.required&&t("aria-required","ariaRequired",o)&&r.$watch(function(){return s.$error.required},function(e){o.attr("aria-required",!!e)}),t("aria-invalid","ariaInvalid",o)&&r.$watch(function(){return s.$invalid},function(e){o.attr("aria-invalid",!!e)})}}}}}]).directive("ngDisabled",["$aria",function(e){return e.$$watchExpr("ngDisabled","aria-disabled")}]).directive("ngMessages",function(){
return{restrict:"A",require:"?ngMessages",link:function(e,t,n,r){t.attr("aria-live")||t.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(e,t){return{restrict:"A",compile:function(n,r){var o=t(r.ngClick,null,!0);return function(t,n,r){function i(e,t){return-1!==t.indexOf(e[0].nodeName)?!0:void 0}var a=["BUTTON","A","INPUT","TEXTAREA"];!e.config("bindRoleForClick")||n.attr("role")||i(n,a)||n.attr("role","button"),e.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),!e.config("bindKeypress")||r.ngKeypress||i(n,a)||n.on("keypress",function(e){function n(){o(t,{$event:e})}var r=e.which||e.keyCode;(32===r||13===r)&&t.$apply(n)})}}}}]).directive("ngDblclick",["$aria",function(e){return function(t,n,r){e.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0)}}])}(window,window.angular)},{}],10:[function(e,t,n){e("./angular-aria"),t.exports="ngAria"},{"./angular-aria":9}],11:[function(e,t,n){!function(e,t,n){"use strict";!function(){t.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.gestures","material.core.theming.palette","material.core.theming","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.content","material.components.chips","material.components.dialog","material.components.fabActions","material.components.divider","material.components.fabSpeedDial","material.components.fabToolbar","material.components.gridList","material.components.fabTrigger","material.components.icon","material.components.input","material.components.list","material.components.menu","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.sidenav","material.components.slider","material.components.subheader","material.components.sticky","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.whiteframe"])}(),function(){function e(e,t){e.decorator("$$rAF",["$delegate",n]),t.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("red").backgroundPalette("grey")}function n(e){return e.throttle=function(t){var n,r,o,i;return function(){n=arguments,i=this,o=t,r||(r=!0,e(function(){o.apply(i,n),r=!1}))}},e}t.module("material.core",["material.core.gestures","material.core.theming"]).config(e),e.$inject=["$provide","$mdThemingProvider"]}(),function(){function e(e,t){function n(e){return r?"webkit"+e.charAt(0).toUpperCase()+e.substring(1):e}var r=/webkit/i.test(t.vendorPrefix);return{KEY_CODE:{ENTER:13,ESCAPE:27,SPACE:32,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(r?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(r?" webkitAnimationEnd":""),TRANSFORM:n("transform"),TRANSFORM_ORIGIN:n("transformOrigin"),TRANSITION:n("transition"),TRANSITION_DURATION:n("transitionDuration"),ANIMATION_PLAY_STATE:n("animationPlayState"),ANIMATION_DURATION:n("animationDuration"),ANIMATION_NAME:n("animationName"),ANIMATION_TIMING:n("animationTimingFunction"),ANIMATION_DIRECTION:n("animationDirection")},MEDIA:{sm:"(max-width: 600px)","gt-sm":"(min-width: 600px)",md:"(min-width: 600px) and (max-width: 960px)","gt-md":"(min-width: 960px)",lg:"(min-width: 960px) and (max-width: 1200px)","gt-lg":"(min-width: 1200px)"},MEDIA_PRIORITY:["gt-lg","lg","gt-md","md","gt-sm","sm"]}}t.module("material.core").factory("$mdConstant",e),e.$inject=["$$rAF","$sniffer"]}(),function(){function e(e,n){function r(){return[].concat($)}function o(){return $.length}function i(e){return $.length&&e>-1&&e<$.length}function a(e){return e?i(m(e)+1):!1}function s(e){return e?i(m(e)-1):!1}function c(e){return i(e)?$[e]:null}function l(e,t){return $.filter(function(n){return n[e]===t})}function u(e,n){return e?(t.isNumber(n)||(n=$.length),$.splice(n,0,e),m(e)):-1}function d(e){f(e)&&$.splice(m(e),1)}function m(e){return $.indexOf(e)}function f(e){return e&&m(e)>-1}function p(){return $.length?$[0]:null}function h(){return $.length?$[$.length-1]:null}function g(e,r,o,a){o=o||v;for(var s=m(r);;){if(!i(s))return null;var c=s+(e?-1:1),l=null;if(i(c)?l=$[c]:n&&(l=e?h():p(),c=m(l)),null===l||c===a)return null;if(o(l))return l;t.isUndefined(a)&&(a=c),s=c}}var v=function(){return!0};e&&!t.isArray(e)&&(e=Array.prototype.slice.call(e)),n=!!n;var $=e||[];return{items:r,count:o,inRange:i,contains:f,indexOf:m,itemAt:c,findBy:l,add:u,remove:d,first:p,last:h,next:t.bind(null,g,!1),previous:t.bind(null,g,!0),hasPrevious:s,hasNext:a}}t.module("material.core").config(["$provide",function(t){t.decorator("$mdUtil",["$delegate",function(t){return t.iterator=e,t}])}])}(),function(){function e(e,n,r){function o(e){var n=m[e];t.isUndefined(n)&&(n=m[e]=i(e));var r=p[n];return t.isUndefined(r)&&(r=a(n)),r}function i(t){return e.MEDIA[t]||("("!==t.charAt(0)?"("+t+")":t)}function a(e){var t=f[e]=r.matchMedia(e);return t.addListener(s),p[t.media]=!!t.matches}function s(e){n.$evalAsync(function(){p[e.media]=!!e.matches})}function c(e){return f[e]}function l(t,n){for(var r=0;r<e.MEDIA_PRIORITY.length;r++){var o=e.MEDIA_PRIORITY[r];if(f[m[o]].matches){var i=d(t,n+"-"+o);if(t[i])return t[i]}}return t[d(t,n)]}function u(n,r,o){var i=[];return n.forEach(function(n){var a=d(r,n);r[a]&&i.push(r.$observe(a,t.bind(void 0,o,null)));for(var s in e.MEDIA){if(a=d(r,n+"-"+s),!r[a])return;i.push(r.$observe(a,t.bind(void 0,o,s)))}}),function(){i.forEach(function(e){e()})}}function d(e,t){return h[t]||(h[t]=e.$normalize(t))}var m={},f={},p={},h={};return o.getResponsiveAttribute=l,o.getQuery=c,o.watchResponsiveAttributes=u,o}t.module("material.core").factory("$mdMedia",e),e.$inject=["$mdConstant","$rootScope","$window"]}(),function(){var r=0;t.module("material.core").factory("$mdUtil",["$cacheFactory","$document","$timeout","$q","$window","$mdConstant",function(o,i,a,s,c,l){function u(e){return e[0]||e}var d;return d={now:e.performance?t.bind(e.performance,e.performance.now):Date.now,clientRect:function(e,t,n){var r=u(e);t=u(t||r.offsetParent||document.body);var o=r.getBoundingClientRect(),i=n?t.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:o.left-i.left,top:o.top-i.top,width:o.width,height:o.height}},offsetRect:function(e,t){return d.clientRect(e,t,!0)},nodesToArray:function(e){for(var t=[],n=0;n<e.length;++n)t.push(e.item(n));return t},disableScrollAround:function(e){function n(){function n(e){}function r(e){e.preventDefault()}var o=c.getComputedStyle(e[0]).zIndex-1;isNaN(o)&&(o=99);var s=t.element('<div class="md-scroll-mask" style="z-index: '+o+'">  <div class="md-scroll-mask-bar"></div></div>');return a.appendChild(s[0]),s.on("wheel",r),s.on("touchmove",r),i.on("keydown",n),function(){s.off("wheel"),s.off("touchmove"),s[0].parentNode.removeChild(s[0]),i.off("keydown",n),delete d.disableScrollAround._enableScrolling}}function r(){var e=a.getAttribute("style")||"",t=a.scrollTop+a.parentElement.scrollTop;return o(a,{position:"fixed",width:"100%",overflowY:"scroll",top:-t+"px"}),function(){a.setAttribute("style",e),a.scrollTop=t}}function o(e,t){for(var n in t)e.style[n]=t[n]}if(d.disableScrollAround._enableScrolling)return d.disableScrollAround._enableScrolling;e=t.element(e);var a=i[0].body,s=r(),l=n();return d.disableScrollAround._enableScrolling=function(){s(),l(),delete d.disableScrollAround._enableScrolling}},enableScrolling:function(){var e=this.disableScrollAround._enableScrolling;e&&e()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===n){var e=t.element('<div style="width: 100%; z-index: -1; position: absolute; height: 35px; overflow-y: scroll"><div style="height: 60;"></div></div>');i[0].body.appendChild(e[0]),this.floatingScrollbars.cached=e[0].offsetWidth==e[0].childNodes[0].offsetWidth,e.remove()}return this.floatingScrollbars.cached},forceFocus:function(t){var n=t[0]||t;document.addEventListener("click",function o(e){e.target===n&&e.$focus&&(n.focus(),e.stopImmediatePropagation(),e.preventDefault(),n.removeEventListener("click",o))},!0);var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!1,!0,e,{},0,0,0,0,!1,!1,!1,!1,0,null),r.$material=!0,r.$focus=!0,n.dispatchEvent(r)},transitionEndPromise:function(e,t){function n(t){t&&t.target!==e[0]||(e.off(l.CSS.TRANSITIONEND,n),r.resolve())}t=t||{};var r=s.defer();return e.on(l.CSS.TRANSITIONEND,n),t.timeout&&a(n,t.timeout),r.promise},fakeNgModel:function(){return{$fake:!0,$setTouched:t.noop,$setViewValue:function(e){this.$viewValue=e,this.$render(e),this.$viewChangeListeners.forEach(function(e){e()})},$isEmpty:function(e){return 0===(""+e).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:t.noop}},debounce:function(e,t,r,o){var i;return function(){var s=r,c=Array.prototype.slice.call(arguments);a.cancel(i),i=a(function(){i=n,e.apply(s,c)},t||10,o)}},throttle:function(e,t){var n;return function(){var r=this,o=arguments,i=d.now();(!n||i-n>t)&&(e.apply(r,o),n=i)}},time:function(e){var t=d.now();return e(),d.now()-t},nextUid:function(){return""+r++},disconnectScope:function(e){if(e&&e.$root!==e&&!e.$$destroyed){var t=e.$parent;e.$$disconnected=!0,t.$$childHead===e&&(t.$$childHead=e.$$nextSibling),t.$$childTail===e&&(t.$$childTail=e.$$prevSibling),e.$$prevSibling&&(e.$$prevSibling.$$nextSibling=e.$$nextSibling),e.$$nextSibling&&(e.$$nextSibling.$$prevSibling=e.$$prevSibling),e.$$nextSibling=e.$$prevSibling=null}},reconnectScope:function(e){if(e&&e.$root!==e&&e.$$disconnected){var t=e,n=t.$parent;t.$$disconnected=!1,t.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=t,n.$$childTail=t):n.$$childHead=n.$$childTail=t}},getClosest:function(e,n,r){if(e instanceof t.element&&(e=e[0]),n=n.toUpperCase(),r&&(e=e.parentNode),!e)return null;do if(e.nodeName===n)return e;while(e=e.parentNode);return null},extractElementByName:function(e,n){for(var r=0,o=e.length;o>r;r++)if(e[r].nodeName.toLowerCase()===n)return t.element(e[r]);return e},initOptionalProperties:function(e,n,r){r=r||{},t.forEach(e.$$isolateBindings,function(o,i){if(o.optional&&t.isUndefined(e[i])){var a=n.hasOwnProperty(n.$normalize(o.attrName));e[i]=t.isDefined(r[i])?r[i]:a}})}}}]),t.element.prototype.focus=t.element.prototype.focus||function(){return this.length&&this[0].focus(),this},t.element.prototype.blur=t.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){function e(e,n,r){function o(e,r,o){var i=e[0]||e;!i||i.hasAttribute(r)&&0!==i.getAttribute(r).length||c(i,r)||(o=t.isString(o)?o.trim():"",o.length?e.attr(r,o):n.warn('ARIA: Attribute "',r,'", required for accessibility, is missing on node:',i))}function i(t,n,r){e(function(){o(t,n,r())})}function a(e,t){i(e,t,function(){return s(e)})}function s(e){return e.text().trim()}function c(e,t){function n(e){var t=e.currentStyle?e.currentStyle:r.getComputedStyle(e);return"none"===t.display}var o=e.hasChildNodes(),i=!1;if(o)for(var a=e.childNodes,s=0;s<a.length;s++){var c=a[s];1===c.nodeType&&c.hasAttribute(t)&&(n(c)||(i=!0))}return i}return{expect:o,expectAsync:i,expectWithText:a}}t.module("material.core").service("$mdAria",e),e.$inject=["$$rAF","$log","$window"]}(),function(){function e(e,n,r,o,i,a){this.compile=function(s){var c=s.templateUrl,l=s.template||"",u=s.controller,d=s.controllerAs,m=s.resolve||{},f=s.locals||{},p=s.transformTemplate||t.identity,h=s.bindToController;return t.forEach(m,function(e,n){m[n]=t.isString(e)?r.get(e):r.invoke(e)}),t.extend(m,f),m.$template=c?n.get(c,{cache:a}).then(function(e){return e.data}):e.when(l),e.all(m).then(function(e){var n=p(e.$template),r=s.element||t.element("<div>").html(n.trim()).contents(),a=o(r);return{locals:e,element:r,link:function(n){if(e.$scope=n,u){var o=i(u,e,!0);h&&t.extend(o.instance,e);var s=o();r.data("$ngControllerController",s),r.children().data("$ngControllerController",s),d&&(n[d]=s)}return a(n)}}})}}t.module("material.core").service("$mdCompiler",e),e.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"]}(),function(){function n(){}function r(n,r,o){function i(e,t,n){var r=f[t.replace(/^\$md./,"")];if(!r)throw new Error("Failed to register element with handler "+t+". Available handlers: "+Object.keys(f).join(", "));return r.registerElement(e,n)}function a(e,r){var o=new n(e);return t.extend(o,r),f[e]=o,h}var c=navigator.userAgent||navigator.vendor||e.opera,u=c.match(/ipad|iphone|ipod/i),d=c.match(/android/i),m="undefined"!=typeof e.jQuery&&t.element===e.jQuery,h={handler:a,register:i,isHijackingClicks:(u||d)&&!m&&!p};return h.isHijackingClicks&&h.handler("click",{options:{maxDistance:6},onEnd:function(e,t){t.distance<this.state.options.maxDistance&&this.dispatchEvent(e,"click")}}),h.handler("press",{onStart:function(e,t){this.dispatchEvent(e,"$md.pressdown")},onEnd:function(e,t){this.dispatchEvent(e,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){o.cancel(this.state.timeout)},onStart:function(e,n){return this.state.registeredParent?(this.state.pos={x:n.x,y:n.y},void(this.state.timeout=o(t.bind(this,function(){this.dispatchEvent(e,"$md.hold"),this.cancel()}),this.state.options.delay,!1))):this.cancel()},onMove:function(e,t){e.preventDefault();var n=this.state.pos.x-t.x,r=this.state.pos.y-t.y;Math.sqrt(n*n+r*r)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onStart:function(e){this.state.registeredParent||this.cancel()},onMove:function(e,t){var n,r;e.preventDefault(),this.state.dragPointer?this.dispatchDragMove(e):(this.state.options.horizontal?(n=Math.abs(t.distanceX)>this.state.options.minDistance,r=Math.abs(t.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(t.distanceY)>this.state.options.minDistance,r=Math.abs(t.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=s(e),l(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragstart",this.state.dragPointer)):r&&this.cancel())},dispatchDragMove:r.throttle(function(e){this.state.isRunning&&(l(e,this.state.dragPointer),this.dispatchEvent(e,"$md.drag",this.state.dragPointer))}),onEnd:function(e,t){this.state.dragPointer&&(l(e,this.state.dragPointer),this.dispatchEvent(e,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(e,t){if(Math.abs(t.velocityX)>this.state.options.minVelocity&&Math.abs(t.distanceX)>this.state.options.minDistance){var n="left"==t.directionX?"$md.swipeleft":"$md.swiperight";this.dispatchEvent(e,n)}}})}function o(e){this.name=e,this.state={}}function i(){function n(e,n,r){r=r||d;var o=new t.element.Event(n);o.$material=!0,o.pointer=r,o.srcEvent=e,t.extend(o,{clientX:r.x,clientY:r.y,screenX:r.x,screenY:r.y,pageX:r.x,pageY:r.y,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey}),t.element(r.target).trigger(o)}function r(t,n,r){r=r||d;var o;"click"===n?(o=document.createEvent("MouseEvents"),o.initMouseEvent("click",!0,!0,e,t.detail,r.x,r.y,r.x,r.y,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget||null)):(o=document.createEvent("CustomEvent"),o.initCustomEvent(n,!0,!0,{})),o.$material=!0,o.pointer=r,o.srcEvent=t,r.target.dispatchEvent(o)}var i="undefined"!=typeof e.jQuery&&t.element===e.jQuery;return o.prototype={options:{},dispatchEvent:i?n:r,onStart:t.noop,onMove:t.noop,onEnd:t.noop,onCancel:t.noop,start:function(e,n){if(!this.state.isRunning){var r=this.getNearestParent(e.target),o=r&&r.$mdGesture[this.name]||{};this.state={isRunning:!0,options:t.extend({},this.options,o),registeredParent:r},this.onStart(e,n)}},move:function(e,t){this.state.isRunning&&this.onMove(e,t)},end:function(e,t){this.state.isRunning&&(this.onEnd(e,t),this.state.isRunning=!1)},cancel:function(e,t){this.onCancel(e,t),this.state={}},getNearestParent:function(e){for(var t=e;t;){if((t.$mdGesture||{})[this.name])return t;t=t.parentNode}return null},registerElement:function(e,t){function n(){delete e[0].$mdGesture[r.name],e.off("$destroy",n)}var r=this;return e[0].$mdGesture=e[0].$mdGesture||{},e[0].$mdGesture[this.name]=t||{},e.on("$destroy",n),n}},o}function a(e,n){function r(e,t){var r;for(var o in f)r=f[o],r instanceof n&&("start"===e&&r.cancel(),r[e](t,d))}function o(e){if(!d){var t=+Date.now();m&&!c(e,m)&&t-m.endTime<1500||(d=s(e),r("start",e))}}function i(e){d&&c(e,d)&&(l(e,d),r("move",e))}function a(e){d&&c(e,d)&&(l(e,d),d.endTime=+Date.now(),r("end",e),m=d,d=null)}document.contains||(document.contains=function(e){return document.body.contains(e)}),!h&&e.isHijackingClicks&&(document.addEventListener("click",function(e){var t=0===e.clientX&&0===e.clientY;t||e.$material||e.isIonicTap||(e.preventDefault(),e.stopPropagation())},!0),h=!0);var u="mousedown touchstart pointerdown",p="mousemove touchmove pointermove",g="mouseup mouseleave touchend touchcancel pointerup pointercancel";t.element(document).on(u,o).on(p,i).on(g,a).on("$$mdGestureReset",function(){m=d=null})}function s(e){var t=u(e),n={startTime:+Date.now(),target:e.target,type:e.type.charAt(0)};return n.startX=n.x=t.pageX,n.startY=n.y=t.pageY,n}function c(e,t){return e&&t&&e.type.charAt(0)===t.type}function l(e,t){var n=u(e),r=t.x=n.pageX,o=t.y=n.pageY;t.distanceX=r-t.startX,t.distanceY=o-t.startY,t.distance=Math.sqrt(t.distanceX*t.distanceX+t.distanceY*t.distanceY),t.directionX=t.distanceX>0?"right":t.distanceX<0?"left":"",t.directionY=t.distanceY>0?"up":t.distanceY<0?"down":"",t.duration=+Date.now()-t.startTime,t.velocityX=t.distanceX/t.duration,t.velocityY=t.distanceY/t.duration}function u(e){return e=e.originalEvent||e,e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0]||e}var d,m,f={},p=!1,h=!1;t.module("material.core.gestures",[]).provider("$mdGesture",n).factory("$$MdGestureHandler",i).run(a),n.prototype={skipClickHijack:function(){return p=!0},$get:["$$MdGestureHandler","$$rAF","$timeout",function(e,t,n){return new r(e,t,n)}]},r.$inject=["$$MdGestureHandler","$$rAF","$timeout"],a.$inject=["$mdGesture","$$MdGestureHandler"]}(),function(){function e(){function e(e){function n(e){return c.optionsFactory=e.options,c.methods=(e.methods||[]).concat(a),l}function r(e,t){return s[e]=t,l}function o(t,n){if(n=n||{},n.methods=n.methods||[],n.options=n.options||function(){return{}},/^cancel|hide|show$/.test(t))throw new Error("Preset '"+t+"' in "+e+" is reserved!");if(n.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+e+" is reserved!");return c.presets[t]={methods:n.methods.concat(a),optionsFactory:n.options,argOption:n.argOption},l}function i(n,r,o){function i(e){return e&&e._options&&(e=e._options),d.show(t.extend({},u,e))}function a(t,n){var r={};return r[e]=m,o.invoke(t||function(){return n},{},r)}var l,u,d=n(),m={hide:d.hide,cancel:d.cancel,show:i};return l=c.methods||[],u=a(c.optionsFactory,{}),t.forEach(s,function(e,t){m[t]=e}),t.forEach(c.presets,function(e,n){function r(e){this._options=t.extend({},o,e)}var o=a(e.optionsFactory,{}),i=(e.methods||[]).concat(l);if(t.extend(o,{$type:n}),t.forEach(i,function(e){r.prototype[e]=function(t){return this._options[e]=t,this}}),e.argOption){var s="show"+n.charAt(0).toUpperCase()+n.slice(1);m[s]=function(e){var t=m[n](e);return m.show(t)}}m[n]=function(n){return arguments.length&&e.argOption&&!t.isObject(n)&&!t.isArray(n)?(new r)[e.argOption](n):new r(n)}}),m}var a=["onHide","onShow","onRemove"],s={},c={presets:{}},l={setDefaults:n,addPreset:o,addMethod:r,$get:i};return l.addPreset("build",{methods:["controller","controllerAs","resolve","template","templateUrl","themable","transformTemplate","parent"]}),i.$inject=["$$interimElement","$animate","$injector"],l}function r(e,r,o,i,a,s,c,l,u){function d(e){return e&&t.isString(e)?e.replace(/\{\{/g,m).replace(/}}/g,f):e}var m=c.startSymbol(),f=c.endSymbol(),p="{{"===m&&"}}"===f,h=p?t.identity:d;return function(){function c(e){if(g.length)return p.cancel().then(function(){return c(e)});var t=new f(e);return g.push(t),t.show().then(function(){return t.deferred.promise})}function d(e){var t=g.shift();return t&&t.remove().then(function(){t.deferred.resolve(e)})}function m(e){var t=g.shift();return r.when(t&&t.remove().then(function(){t.deferred.reject(e)}))}function f(c){var d,m,f,g,v;return c=c||{},c=t.extend({preserveScope:!1,scope:c.scope||o.$new(c.isolateScope),onShow:function(e,t,n){return s.enter(t,n.parent)},onRemove:function(e,t,n){return t&&s.leave(t)||r.when()}},c),c.template&&(c.template=h(c.template)),d={options:c,deferred:r.defer(),show:function(){var n;return n=c.skipCompile?r(function(e){e({locals:{},link:function(){return c.element}})}):l.compile(c),g=n.then(function(n){function o(){c.hideDelay&&(m=i(p.cancel,c.hideDelay))}if(t.extend(n.locals,d.options),f=n.link(c.scope),t.isFunction(c.parent)?c.parent=c.parent(c.scope,f,c):t.isString(c.parent)&&(c.parent=t.element(e[0].querySelector(c.parent))),!(c.parent||{}).length){var s;a[0]&&a[0].querySelector&&(s=a[0].querySelector(":not(svg) > body")),s||(s=a[0]),"#comment"==s.nodeName&&(s=e[0].body),c.parent=t.element(s)}c.themable&&u(f);var l=c.onShow(c.scope,f,c);return r.when(l).then(function(){(c.onComplete||t.noop)(c.scope,f,c),o()})},function(e){g=!0,d.deferred.reject(e)})},cancelTimeout:function(){m&&(i.cancel(m),m=n)},remove:function(){return d.cancelTimeout(),v=r.when(g).then(function(){var e=f?c.onRemove(c.scope,f,c):!0;return r.when(e).then(function(){c.preserveScope||c.scope.$destroy(),v=!0})})}}}var p,g=[];return p={show:c,hide:d,cancel:m}}}return e.$get=r,r.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$interpolate","$mdCompiler","$mdTheming"],e}t.module("material.core").provider("$$interimElement",e)}(),function(){function e(e,n){function r(e){return e&&""!==e}var o,i=[],a={};return o={notFoundError:function(t){e.error("No instance found for handle",t)},getInstances:function(){return i},get:function(e){if(!r(e))return null;var t,n,o;for(t=0,n=i.length;n>t;t++)if(o=i[t],o.$$mdHandle===e)return o;return null},register:function(e,n){function r(){var t=i.indexOf(e);-1!==t&&i.splice(t,1)}function o(){var t=a[n];t&&(t.resolve(e),delete a[n])}return n?(e.$$mdHandle=n,i.push(e),o(),r):t.noop},when:function(e){if(r(e)){var t=n.defer(),i=o.get(e);return i?t.resolve(i):a[e]=t,t.promise}return n.reject("Invalid `md-component-id` value.")}}}t.module("material.core").factory("$mdComponentRegistry",e),e.$inject=["$log","$q"]}(),function(){!function(){function e(e){function n(n,o,i){var a=r(o);return e.attach(n,o,t.extend(a,i))}function r(e){return e.hasClass("md-icon-button")?{isMenuItem:e.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:e.hasClass("md-menu-item"),dimBackground:!0}}return{attach:n}}t.module("material.core").factory("$mdButtonInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){!function(){function e(e){function n(n,r,o){return e.attach(n,r,t.extend({center:!0,dimBackground:!1,fitRipple:!0},o))}return{attach:n}}t.module("material.core").factory("$mdCheckboxInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){!function(){function e(e){function n(n,r,o){return e.attach(n,r,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},o))}return{attach:n}}t.module("material.core").factory("$mdListInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){function e(e,n){return{controller:t.noop,link:function(t,r,o){o.hasOwnProperty("mdInkRippleCheckbox")?n.attach(t,r):e.attach(t,r)}}}function n(e,n){function r(r,o,i){function a(){var e=o.data("$mdRippleContainer");return e?e:(e=t.element('<div class="md-ripple-container">'),o.append(e),o.data("$mdRippleContainer",e),e)}function s(e){function t(e){var t="#"===e.charAt(0)?e.substr(1):e,n=t.length/3,r=t.substr(0,n),o=t.substr(n,n),i=t.substr(2*n);return 1===n&&(r+=r,o+=o,i+=i),"rgba("+parseInt(r,16)+","+parseInt(o,16)+","+parseInt(i,16)+",0.1)"}function n(e){return e.replace(")",", 0.1)").replace("(","a(")}if(e)return 0===e.indexOf("rgba")?e.replace(/\d?\.?\d*\s*\)\s*$/,"0.1)"):0===e.indexOf("rgb")?n(e):0===e.indexOf("#")?t(e):void 0}function c(e,t){v.splice(v.indexOf(e),1),0===v.length&&a().css({backgroundColor:""}),n(function(){e.remove()},t,!1)}function l(e){var t=v.indexOf(e),n=$[t]||{},r=v.length>1?!1:E,o=v.length>1?!1:y;r||n.animating||o?e.addClass("md-ripple-visible"):e&&(e.removeClass("md-ripple-visible"),i.outline&&e.css({width:p+"px",height:p+"px",marginLeft:-1*p+"px",marginTop:-1*p+"px"}),c(e,i.outline?450:650))}function u(r,c){function u(e){var n=t.element('<div class="md-ripple" data-counter="'+g++ +'">');return v.unshift(n),$.unshift({animating:!0}),f.append(n),e&&n.css(e),n}function d(e,t){var n,r,o,a=f.prop("offsetWidth"),s=f.prop("offsetHeight");return i.isMenuItem?r=Math.sqrt(Math.pow(a,2)+Math.pow(s,2)):i.outline?(o=M.getBoundingClientRect(),e-=o.left,t-=o.top,a=Math.max(e,a-e),s=Math.max(t,s-t),r=2*Math.sqrt(Math.pow(a,2)+Math.pow(s,2))):(n=i.fullRipple?1.1:.8,r=Math.sqrt(Math.pow(a,2)+Math.pow(s,2))*n,i.fitRipple&&(r=Math.min(s,a,r))),r}function m(e,t,n){function r(e){return e.replace("rgba","rgb").replace(/,[^\),]+\)/,")")}var o=M.getBoundingClientRect(),a={backgroundColor:r(C),borderColor:r(C),width:e+"px",height:e+"px"};return i.outline?(a.width=0,a.height=0):a.marginLeft=a.marginTop=e*-.5+"px",i.center?a.left=a.top="50%":(a.left=Math.round((t-o.left)/f.prop("offsetWidth")*100)+"%",a.top=Math.round((n-o.top)/f.prop("offsetHeight")*100)+"%"),a}C=s(o.attr("md-ink-ripple"))||s(e.getComputedStyle(i.colorElement[0]).color||"rgb(0, 0, 0)");var f=a(),h=d(r,c),b=m(h,r,c),E=u(b),y=v.indexOf(E),w=$[y]||{};return p=h,w.animating=!0,n(function(){i.dimBackground&&f.css({backgroundColor:C}),E.addClass("md-ripple-placed md-ripple-scaled"),E.css(i.outline?{borderWidth:.5*h+"px",marginLeft:h*-.5+"px",marginTop:h*-.5+"px"}:{left:"50%",top:"50%"}),l(E),n(function(){w.animating=!1,l(E)},i.outline?450:225,!1)},0,!1),E}function d(e){f()&&(u(e.pointer.x,e.pointer.y),y=!0)}function m(){y=!1;var e=v[v.length-1];n(function(){l(e)},0,!1)}function f(){function e(e){return e&&e.hasAttribute&&e.hasAttribute("disabled")}var t=M.parentNode,n=t&&t.parentNode,r=n&&n.parentNode;return!(e(M)||e(t)||e(n)||e(r))}if(o.controller("mdNoInk"))return t.noop;i=t.extend({colorElement:o,mousedown:!0,hover:!0,focus:!0,center:!1,mousedownPauseTime:150,dimBackground:!1,outline:!1,fullRipple:!0,isMenuItem:!1,fitRipple:!1},i);var p,h=o.controller("mdInkRipple")||{},g=0,v=[],$=[],b=o.attr("md-highlight"),E=!1,y=!1,M=o[0],w=o.attr("md-ripple-size"),C=s(o.attr("md-ink-ripple"))||s(i.colorElement.length&&e.getComputedStyle(i.colorElement[0]).color||"rgb(0, 0, 0)");switch(w){case"full":i.fullRipple=!0;break;case"partial":i.fullRipple=!1}return i.mousedown&&o.on("$md.pressdown",d).on("$md.pressup",m),h.createRipple=u,b&&r.$watch(b,function(e){E=e,E&&!v.length&&n(function(){u(0,0)},0,!1),t.forEach(v,l)}),function(){o.off("$md.pressdown",d).off("$md.pressup",m),a().remove()}}return{attach:r}}function r(){return function(){return{controller:t.noop}}}t.module("material.core").factory("$mdInkRipple",n).directive("mdInkRipple",e).directive("mdNoInk",r()).directive("mdNoBar",r()).directive("mdNoStretch",r()),e.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],n.$inject=["$window","$timeout"]}(),function(){!function(){function e(e){function n(n,r,o){return e.attach(n,r,t.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},o))}return{attach:n}}t.module("material.core").factory("$mdTabInkRipple",e),e.$inject=["$mdInkRipple"]}()}(),function(){t.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900 A700",contrastStrongLightColors:"500 600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700 800"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",
400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",1000:"#000000",A100:"#ffffff",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300",contrastStrongLightColors:"400 500"}})}(),function(){function e(e){function r(e,t){return t=t||{},u[e]=a(e,t),v}function o(e,n){return a(e,t.extend({},u[e]||{},n))}function a(e,t){var n=C.filter(function(e){return!t[e]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",e));return t}function s(e,n){if(d[e])return d[e];n=n||"default";var r="string"==typeof n?d[n]:n,o=new c(e);return r&&t.forEach(r.colors,function(e,n){o.colors[n]={name:e.name,hues:t.extend({},e.hues)}}),d[e]=o,o}function c(e){function n(e){if(e=0===arguments.length?!0:!!e,e!==r.isDark){r.isDark=e,r.foregroundPalette=r.isDark?p:f,r.foregroundShadow=r.isDark?h:g;var n=r.isDark?w:M,o=r.isDark?M:w;return t.forEach(n,function(e,t){var n=r.colors[t],i=o[t];if(n)for(var a in n.hues)n.hues[a]===i[a]&&(n.hues[a]=e[a])}),r}}var r=this;r.name=e,r.colors={},r.dark=n,n(!1),E.forEach(function(e){var n=(r.isDark?w:M)[e];r[e+"Palette"]=function(o,i){var a=r.colors[e]={name:o,hues:t.extend({},n,i)};return Object.keys(a.hues).forEach(function(e){if(!n[e])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",e).replace("%2",r.name).replace("%3",o).replace("%4",Object.keys(n).join(", ")))}),Object.keys(a.hues).map(function(e){return a.hues[e]}).forEach(function(t){if(-1==C.indexOf(t))throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",t).replace("%2",r.name).replace("%3",e).replace("%4",o).replace("%5",C.join(", ")))}),r},r[e+"Color"]=function(){var t=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+e+"Color() has been deprecated. Use $mdThemingProviderTheme."+e+"Palette() instead."),r[e+"Palette"].apply(r,t)}})}function m(e,r){function o(e){return e===n||""===e?!0:i.THEMES[e]!==n}function i(t,r){r===n&&(r=t,t=n),t===n&&(t=e),i.inherit(r,r)}return i.inherit=function(n,i){function a(e){o(e)||r.warn("Attempted to use unregistered theme '"+e+"'. Register it with $mdThemingProvider.theme().");var t=n.data("$mdThemeName");t&&n.removeClass("md-"+t+"-theme"),n.addClass("md-"+e+"-theme"),n.data("$mdThemeName",e)}var s=i.controller("mdTheme"),c=n.attr("md-theme-watch");if((b||t.isDefined(c))&&"false"!=c){var l=e.$watch(function(){return s&&s.$mdTheme||$},a);n.on("$destroy",l)}else{var u=s&&s.$mdTheme||$;a(u)}},i.THEMES=t.extend({},d),i.defaultTheme=function(){return $},i.registered=o,i}u={},d={};var v,$="default",b=!1;return t.extend(u,e),m.$inject=["$rootScope","$log"],v={definePalette:r,extendPalette:o,theme:s,setDefaultTheme:function(e){$=e},alwaysWatchTheme:function(e){b=e},$get:m,_LIGHT_DEFAULT_HUES:M,_DARK_DEFAULT_HUES:w,_PALETTES:u,_THEMES:d,_parseRules:i,_rgba:l}}function r(e,t,n){return{priority:100,link:{pre:function(r,o,i){var a={$setTheme:function(t){e.registered(t)||n.warn("attempted to use unregistered theme '"+t+"'"),a.$mdTheme=t}};o.data("$mdThemeController",a),a.$setTheme(t(i.mdTheme)(r)),i.$observe("mdTheme",a.$setTheme)}}}}function o(e){return e}function i(e,n,r){s(e,n),r=r.replace(/THEME_NAME/g,e.name);var o=[],i=e.colors[n],a=new RegExp(".md-"+e.name+"-theme","g"),c=new RegExp("('|\")?{{\\s*("+n+")-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),d=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue\-[0-3]|shadow)-?(\d\.?\d*)?\s*\}\}'?"?/g,m=u[i.name];return r=r.replace(d,function(t,n,r,o){return"foreground"===n?"shadow"==r?e.foregroundShadow:e.foregroundPalette[r]||e.foregroundPalette[1]:(0===r.indexOf("hue")&&(r=e.colors[n].hues[r]),l((u[e.colors[n].name][r]||"").value,o))}),t.forEach(i.hues,function(t,n){var i=r.replace(c,function(e,n,r,o,i){return l(m[t]["color"===o?"value":"contrast"],i)});"default"!==n&&(i=i.replace(a,".md-"+e.name+"-theme.md-"+n)),"default"==e.name&&(i=i.replace(/\.md-default-theme/g,"")),o.push(i)}),o}function a(e){function n(e){var n=e.contrastDefaultColor,r=e.contrastLightColors||[],o=e.contrastStrongLightColors||[],i=e.contrastDarkColors||[];"string"==typeof r&&(r=r.split(" ")),"string"==typeof o&&(o=o.split(" ")),"string"==typeof i&&(i=i.split(" ")),delete e.contrastDefaultColor,delete e.contrastLightColors,delete e.contrastStrongLightColors,delete e.contrastDarkColors,t.forEach(e,function(a,s){function l(){return"light"===n?i.indexOf(s)>-1?v:o.indexOf(s)>-1?b:$:r.indexOf(s)>-1?o.indexOf(s)>-1?b:$:v}if(!t.isObject(a)){var u=c(a);if(!u)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",a).replace("%2",e.name).replace("%3",s));e[s]={value:u,contrast:l()}}})}var r=document.getElementsByTagName("head")[0],o=r?r.firstElementChild:null,a=e.has("$MD_THEME_CSS")?e.get("$MD_THEME_CSS"):"";if(o&&0!==a.length){t.forEach(u,n);var s={},l=a.split(/\}(?!(\}|'|"|;))/).filter(function(e){return e&&e.length}).map(function(e){return e.trim()+"}"}),f=new RegExp("md-("+E.join("|")+")","g");E.forEach(function(e){s[e]=""}),l.forEach(function(e){for(var t,n=(e.match(f),0);t=E[n];n++)if(e.indexOf(".md-"+t)>-1)return s[t]+=e;for(n=0;t=E[n];n++)if(e.indexOf(t)>-1)return s[t]+=e;return s[y]+=e}),t.forEach(d,function(e){m[e.name]||(E.forEach(function(t){for(var n=i(e,t,s[t]);n.length;){var a=document.createElement("style");a.setAttribute("type","text/css"),a.appendChild(document.createTextNode(n.shift())),r.insertBefore(a,o)}}),e.colors.primary.name==e.colors.accent.name&&console.warn("$mdThemingProvider: Using the same palette for primary and accent. This violates the material design spec."),m[e.name]=!0)})}}function s(e,t){if(!u[(e.colors[t]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",e.name).replace("%2",t).replace("%3",Object.keys(u).join(", ")))}function c(e){if(t.isArray(e)&&3==e.length)return e;if(/^rgb/.test(e))return e.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(e,t){return 3==t?parseFloat(e,10):parseInt(e,10)});if("#"==e.charAt(0)&&(e=e.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(e)){var n=e.length/3,r=e.substr(0,n),o=e.substr(n,n),i=e.substr(2*n);return 1===n&&(r+=r,o+=o,i+=i),[parseInt(r,16),parseInt(o,16),parseInt(i,16)]}}function l(e,n){return e?(4==e.length&&(e=t.copy(e),n?e.pop():n=e.pop()),n&&("number"==typeof n||"string"==typeof n&&n.length)?"rgba("+e.join(",")+","+n+")":"rgb("+e.join(",")+")"):"rgb('0,0,0')"}t.module("material.core.theming",["material.core.theming.palette"]).directive("mdTheme",r).directive("mdThemable",o).provider("$mdTheming",e).run(a);var u,d,m={},f={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.26)",4:"rgba(0,0,0,0.12)"},p={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.3)",4:"rgba(255,255,255,0.12)"},h="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",g="",v=c("rgba(0,0,0,0.87)"),$=c("rgba(255,255,255,0.87"),b=c("rgb(255,255,255)"),E=["primary","accent","warn","background"],y="primary",M={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{"default":"A100","hue-1":"300","hue-2":"800","hue-3":"900"}},w={background:{"default":"800","hue-1":"300","hue-2":"600","hue-3":"900"}};E.forEach(function(e){var t={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};M[e]||(M[e]=t),w[e]||(w[e]=t)});var C=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"];e.$inject=["$mdColorPalette"],r.$inject=["$mdTheming","$interpolate","$log"],o.$inject=["$mdTheming"],a.$inject=["$injector"]}(),function(){t.module("material.components.autocomplete",["material.core","material.components.icon"])}(),function(){function e(e){return e}t.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",e),e.$inject=["$mdTheming"]}(),function(){function e(){return{restrict:"E"}}function n(e){function n(e,n,i,a,s,c,l,u,d){function m(r,o,d){o=i.extractElementByName(o,"md-bottom-sheet"),h=s('<md-backdrop class="md-opaque md-bottom-sheet-backdrop">')(r),h.on("click",function(){a(l.cancel)}),c.inherit(h,d.parent),e.enter(h,d.parent,null);var m=new p(o,d.parent);return d.bottomSheet=m,d.targetEvent&&t.element(d.targetEvent.target).blur(),c.inherit(m.element,d.parent),d.disableParentScroll&&(d.lastOverflow=d.parent.css("overflow"),d.parent.css("overflow","hidden")),e.enter(m.element,d.parent).then(function(){var e=t.element(o[0].querySelector("button")||o[0].querySelector("a")||o[0].querySelector("[ng-click]"));e.focus(),d.escapeToClose&&(d.rootElementKeyupCallback=function(e){e.keyCode===n.KEY_CODE.ESCAPE&&a(l.cancel)},u.on("keyup",d.rootElementKeyupCallback))})}function f(n,r,o){var i=o.bottomSheet;return e.leave(h),e.leave(i.element).then(function(){o.disableParentScroll&&(o.parent.css("overflow",o.lastOverflow),delete o.lastOverflow),i.cleanup(),o.targetEvent&&t.element(o.targetEvent.target).focus()})}function p(e,t){function i(t){e.css(n.CSS.TRANSITION_DURATION,"0ms")}function s(t){var r=t.pointer.distanceY;5>r&&(r=Math.max(-o,r/2)),e.css(n.CSS.TRANSFORM,"translate3d(0,"+(o+r)+"px,0)")}function c(t){if(t.pointer.distanceY>0&&(t.pointer.distanceY>20||Math.abs(t.pointer.velocityY)>r)){var o=e.prop("offsetHeight")-t.pointer.distanceY,i=Math.min(o/t.pointer.velocityY*.75,500);e.css(n.CSS.TRANSITION_DURATION,i+"ms"),a(l.cancel)}else e.css(n.CSS.TRANSITION_DURATION,""),e.css(n.CSS.TRANSFORM,"")}var u=d.register(t,"drag",{horizontal:!1});return t.on("$md.dragstart",i).on("$md.drag",s).on("$md.dragend",c),{element:e,cleanup:function(){u(),t.off("$md.dragstart",i).off("$md.drag",s).off("$md.dragend",c)}}}var h;return{themable:!0,targetEvent:null,onShow:m,onRemove:f,escapeToClose:!0,disableParentScroll:!0}}var r=.5,o=80;return n.$inject=["$animate","$mdConstant","$mdUtil","$timeout","$compile","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture"],e("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","targetEvent"],options:n})}t.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",e).provider("$mdBottomSheet",n),n.$inject=["$$interimElementProvider"]}(),function(){function e(e,n,r,o){function i(e){return t.isDefined(e.href)||t.isDefined(e.ngHref)||t.isDefined(e.ngLink)||t.isDefined(e.uiSref)}function a(e,t){return i(t)?'<a class="md-button" ng-transclude></a>':'<button class="md-button" ng-transclude></button>'}function s(a,s,c){var l=s[0];n(s),e.attach(a,s);var u=l.textContent.trim();u||r.expect(s,"aria-label"),i(c)&&t.isDefined(c.ngDisabled)&&a.$watch(c.ngDisabled,function(e){s.attr("tabindex",e?-1:0)}),s.on("click",function(e){c.disabled===!0&&(e.preventDefault(),e.stopImmediatePropagation())}),a.mouseActive=!1,s.on("mousedown",function(){a.mouseActive=!0,o(function(){a.mouseActive=!1},100)}).on("focus",function(){a.mouseActive===!1&&s.addClass("md-focused")}).on("blur",function(){s.removeClass("md-focused")})}return{restrict:"EA",replace:!0,transclude:!0,template:a,link:s}}t.module("material.components.button",["material.core"]).directive("mdButton",e),e.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$timeout"]}(),function(){function e(e){return{restrict:"E",link:function(t,n,r){e(n)}}}t.module("material.components.card",["material.core"]).directive("mdCard",e),e.$inject=["$mdTheming"]}(),function(){function e(e,n,r,o,i,a,s){function c(n,c){return c.type="checkbox",c.tabindex=c.tabindex||"0",n.attr("role",c.type),function(n,c,u,d){function m(e,t,r){u[e]&&n.$watch(u[e],function(e){r[e]&&c.attr(t,r[e])})}function f(e){var t=e.which||e.keyCode;(t===o.KEY_CODE.SPACE||t===o.KEY_CODE.ENTER)&&(e.preventDefault(),c.hasClass("md-focused")||c.addClass("md-focused"),p(e))}function p(e){c[0].hasAttribute("disabled")||n.$apply(function(){var t=u.ngChecked?u.checked:!d.$viewValue;d.$setViewValue(t,e&&e.type),d.$render()})}function h(){d.$viewValue?c.addClass(l):c.removeClass(l)}d=d||a.fakeNgModel(),i(c),u.ngChecked&&n.$watch(n.$eval.bind(n,u.ngChecked),d.$setViewValue.bind(d)),m("ngDisabled","tabindex",{"true":"-1","false":u.tabindex}),r.expectWithText(c,"aria-label"),e.link.pre(n,{on:t.noop,0:{}},u,[d]),n.mouseActive=!1,c.on("click",p).on("keypress",f).on("mousedown",function(){n.mouseActive=!0,s(function(){n.mouseActive=!1},100)}).on("focus",function(){n.mouseActive===!1&&c.addClass("md-focused")}).on("blur",function(){c.removeClass("md-focused")}),d.$render=h}}e=e[0];var l="md-checked";return{restrict:"E",transclude:!0,require:"?ngModel",priority:210,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:c}}t.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",e),e.$inject=["inputDirective","$mdInkRipple","$mdAria","$mdConstant","$mdTheming","$mdUtil","$timeout"]}(),function(){function e(e){function t(e,t){this.$scope=e,this.$element=t}return{restrict:"E",controller:["$scope","$element",t],link:function(t,r,o){r[0];e(r),t.$broadcast("$mdContentLoaded",r),n(r[0])}}}function n(e){t.element(e).on("$md.pressdown",function(t){"t"===t.pointer.type&&(t.$materialScrollFixed||(t.$materialScrollFixed=!0,0===e.scrollTop?e.scrollTop=1:e.scrollHeight===e.scrollTop+e.offsetHeight&&(e.scrollTop-=1)))})}t.module("material.components.content",["material.core"]).directive("mdContent",e),e.$inject=["$mdTheming"]}(),function(){t.module("material.components.chips",["material.core","material.components.autocomplete"])}(),function(){function e(e,t){return{restrict:"E",link:function(n,r,o){t(r),e(function(){var e=r[0].querySelector("md-dialog-content");e&&e.scrollHeight>e.clientHeight&&r.addClass("md-content-overflow")})}}}function n(e){function n(e,t){return{template:['<md-dialog md-theme="{{ dialog.theme }}" aria-label="{{ dialog.ariaLabel }}">','<md-dialog-content role="document" tabIndex="-1">','<h2 class="md-title">{{ dialog.title }}</h2>',"<p>{{ dialog.content }}</p>","</md-dialog-content>",'<div class="md-actions">','<md-button ng-if="dialog.$type == \'confirm\'" ng-click="dialog.abort()" class="md-primary">',"{{ dialog.cancel }}","</md-button>",'<md-button ng-click="dialog.hide()" class="md-primary">',"{{ dialog.ok }}","</md-button>","</div>","</md-dialog>"].join(""),controller:function(){this.hide=function(){e.hide(!0)},this.abort=function(){e.cancel()}},controllerAs:"dialog",bindToController:!0,theme:t.defaultTheme()}}function r(e,n,r,o,i,a,s,c,l,u,d){function m(e){var t=document.querySelector("md-dialog");t&&!t.contains(e.target)&&(e.stopImmediatePropagation(),t.focus())}function f(e,u,d){function f(){var e=u[0].querySelector(".dialog-close");if(!e){var n=u[0].querySelectorAll(".md-actions button");e=n[n.length-1]}return t.element(e)}t.element(n[0].body).addClass("md-dialog-is-showing"),u=r.extractElementByName(u,"md-dialog"),d.parent=t.element(d.parent),d.popInTarget=t.element((d.targetEvent||{}).target);var p=f();if(d.hasBackdrop){var g=d.parent[0]==n[0].body&&n[0].documentElement&&n[0].documentElement.scrollTop?t.element(n[0].documentElement):d.parent,b=g.prop("scrollTop");d.backdrop=t.element('<md-backdrop class="md-dialog-backdrop md-opaque">'),d.backdrop.css("top",b+"px"),i.inherit(d.backdrop,d.parent),l.enter(d.backdrop,d.parent),u.css("top",b+"px")}var E="dialog",y=p;return"alert"===d.$type&&(E="alertdialog",y=u.find("md-dialog-content")),h(u.find("md-dialog"),E,d),document.addEventListener("focus",m,!0),d.disableParentScroll&&(d.lastOverflow=d.parent.css("overflow"),d.parent.css("overflow","hidden")),$(u,d.parent,d.popInTarget&&d.popInTarget.length&&d.popInTarget).then(function(){v(u,!0),d.escapeToClose&&(d.rootElementKeyupCallback=function(e){e.keyCode===o.KEY_CODE.ESCAPE&&s(a.cancel)},c.on("keyup",d.rootElementKeyupCallback)),d.clickOutsideToClose&&(d.dialogClickOutsideCallback=function(e){e.target===u[0]&&s(a.cancel)},u.on("click",d.dialogClickOutsideCallback)),d.focusOnOpen&&y.focus()})}function p(e,r,o){return t.element(n[0].body).removeClass("md-dialog-is-showing"),o.backdrop&&l.leave(o.backdrop),o.disableParentScroll&&(o.parent.css("overflow",o.lastOverflow),delete o.lastOverflow),o.escapeToClose&&c.off("keyup",o.rootElementKeyupCallback),o.clickOutsideToClose&&r.off("click",o.dialogClickOutsideCallback),v(r,!1),document.removeEventListener("focus",m,!0),b(r,o.parent,o.popInTarget&&o.popInTarget.length&&o.popInTarget).then(function(){r.remove(),o.popInTarget&&o.popInTarget.focus()})}function h(t,n,o){t.attr({role:n,tabIndex:"-1"});var i=t.find("md-dialog-content");0===i.length&&(i=t);var a=t.attr("id")||"dialog_"+r.nextUid();i.attr("id",a),t.attr("aria-describedby",a),o.ariaLabel?e.expect(t,"aria-label",o.ariaLabel):e.expectAsync(t,"aria-label",function(){var e=i.text().split(/\s+/);return e.length>3&&(e=e.slice(0,3).concat("...")),e.join(" ")})}function g(e,t){return-1!==t.indexOf(e.nodeName)?!0:void 0}function v(e,t){function n(e){for(;e.parentNode;){if(e===document.body)return;for(var o=e.parentNode.children,i=0;i<o.length;i++)e===o[i]||g(o[i],["SCRIPT","STYLE"])||o[i].setAttribute(r,t);n(e=e.parentNode)}}var r="aria-hidden";e=e[0],n(e)}function $(e,t,n){var i=e.find("md-dialog");return t.append(e),E(i,n),u(function(){i.addClass("transition-in").css(o.CSS.TRANSFORM,"")}),r.transitionEndPromise(i)}function b(e,t,n){var o=e.find("md-dialog");return o.addClass("transition-out").removeClass("transition-in"),E(o,n),r.transitionEndPromise(o)}function E(e,t){if(t){var n=t[0].getBoundingClientRect(),r=e[0].getBoundingClientRect(),i=Math.min(.5,n.width/r.width),a=Math.min(.5,n.height/r.height);e.css(o.CSS.TRANSFORM,"translate3d("+(-r.left+n.left+n.width/2-r.width/2)+"px,"+(-r.top+n.top+n.height/2-r.height/2)+"px,0) scale("+i+","+a+")")}}return{hasBackdrop:!0,isolateScope:!0,onShow:f,onRemove:p,clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,focusOnOpen:!0,disableParentScroll:!0,transformTemplate:function(e){return'<div class="md-dialog-container">'+e+"</div>"}}}return n.$inject=["$mdDialog","$mdTheming"],r.$inject=["$mdAria","$document","$mdUtil","$mdConstant","$mdTheming","$mdDialog","$timeout","$rootElement","$animate","$$rAF","$q"],e("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","parent"],options:r}).addPreset("alert",{methods:["title","content","ariaLabel","ok","theme"],options:n}).addPreset("confirm",{methods:["title","content","ariaLabel","ok","cancel","theme"],options:n})}t.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",e).provider("$mdDialog",n),e.$inject=["$$rAF","$mdTheming"],n.$inject=["$$interimElementProvider"]}(),function(){!function(){function e(){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],link:function(e,n,r,o){var i=o[0]||o[1];i&&t.forEach(n.children(),function(e){t.element(e).on("focus",i.open),t.element(e).on("blur",i.close)}),n.children().wrap('<div class="md-fab-action-item">')}}}t.module("material.components.fabActions",["material.core"]).directive("mdFabActions",e)}()}(),function(){function e(e){return{restrict:"E",link:e}}t.module("material.components.divider",["material.core"]).directive("mdDivider",e),e.$inject=["$mdTheming"]}(),function(){!function(){function e(){function e(e,t){t.prepend('<div class="md-css-variables"></div>')}function t(e,t,n){function r(){a.direction=a.direction||"down",a.isOpen=a.isOpen||!1}function o(){t.on("mouseenter",a.open),t.on("mouseleave",a.close)}function i(){e.$watch("vm.direction",function(e,r){n.removeClass(t,"md-"+r),n.addClass(t,"md-"+e)}),e.$watch("vm.isOpen",function(e){var r=e?"md-is-open":"",o=e?"":"md-is-open";n.setClass(t,r,o)})}var a=this;a.open=function(){e.$apply("vm.isOpen = true")},a.close=function(){e.$apply("vm.isOpen = false")},r(),o(),i()}return t.$inject=["$scope","$element","$animate"],{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:t,controllerAs:"vm",link:e}}function n(){function e(e){var n=e[0],r=e.controller("mdFabSpeedDial"),o=n.querySelectorAll(".md-fab-action-item"),i=n.querySelector(".md-css-variables"),a=i.style.zIndex;t.forEach(o,function(e,t){var n=e.style;n.transform="",n.transitionDelay="",n.opacity=1,e.style.zIndex=o.length-t+a}),r.isOpen||t.forEach(o,function(e,t){var n,o;switch(r.direction){case"up":n=e.scrollHeight*(t+1),o="Y";break;case"down":n=-e.scrollHeight*(t+1),o="Y";break;case"left":n=e.scrollWidth*(t+1),o="X";break;case"right":n=-e.scrollWidth*(t+1),o="X"}e.style.transform="translate"+o+"("+n+"px)"})}return{addClass:function(t,n,r){t.hasClass("md-fling")&&e(t)},removeClass:function(t,n,r){e(t)}}}function r(){function e(e){var r=e[0],o=e.controller("mdFabSpeedDial"),i=r.querySelectorAll(".md-fab-action-item");t.forEach(i,function(e,t){var r=e.style,a=t*n;r.opacity=o.isOpen?1:0,r.transform=o.isOpen?"scale(1)":"scale(0)",r.transitionDelay=(o.isOpen?a:i.length-a)+"ms"})}var n=65;return{addClass:function(t,n,r){e(t)},removeClass:function(t,n,r){e(t)}}}t.module("material.components.fabSpeedDial",["material.core","material.components.fabTrigger","material.components.fabActions"]).directive("mdFabSpeedDial",e).animation(".md-fling",n).animation(".md-scale",r)}()}(),function(){!function(){function n(){function e(e,t,n){var r=this;r.isOpen=r.isOpen||!1,r.open=function(){r.isOpen=!0,e.$apply()},r.close=function(){r.isOpen=!1,e.$apply()},t.addClass("md-fab-toolbar"),t.on("mouseenter",r.open),t.on("mouseleave",r.close),e.$watch("vm.isOpen",function(e){var r=e?"md-is-open":"",o=e?"":"md-is-open";n.setClass(t,r,o)})}function t(e,t,n){t.find("md-fab-trigger").find("button").attr("tabindex","-1"),t.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}return e.$inject=["$scope","$element","$animate"],{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{isOpen:"=?mdOpen"},bindToController:!0,controller:e,controllerAs:"vm",link:t}}function r(){function n(n,r,o){var i=n[0],a=n.controller("mdFabToolbar"),s=i.querySelector(".md-fab-toolbar-background"),c=i.querySelector("md-fab-trigger button"),l=i.querySelector("md-fab-trigger button md-icon"),u=n.find("md-fab-actions").children();if(c&&s){var d=e.getComputedStyle(c).getPropertyValue("background-color"),m=i.offsetWidth,f=(i.offsetHeight,2*m);s.style.backgroundColor=d,s.style.borderRadius=m+"px",a.isOpen?(s.style.width=f+"px",s.style.height=f+"px",s.style.top=-(f/2)+"px",n.hasClass("md-left")&&(s.style.left=-(f/2)+"px",s.style.right=null),n.hasClass("md-right")&&(s.style.right=-(f/2)+"px",s.style.left=null),s.style.transitionDelay="0ms",l.style.transitionDelay=".3s",t.forEach(u,function(e,t){e.style.transitionDelay=25*(u.length-t)+"ms"})):(s.style.width=c.offsetWidth+"px",s.style.height=c.offsetHeight+"px",s.style.top="0px",n.hasClass("md-left")&&(s.style.left="0px",s.style.right=null),n.hasClass("md-right")&&(s.style.right="0px",s.style.left=null),s.style.transitionDelay="200ms",l.style.transitionDelay="0ms",t.forEach(u,function(e,t){e.style.transitionDelay=25*t+"ms"}))}}return{addClass:function(e,t,r){n(e,t,r)},removeClass:function(e,t,r){n(e,t,r)}}}t.module("material.components.fabToolbar",["material.core","material.components.fabTrigger","material.components.fabActions"]).directive("mdFabToolbar",n).animation(".md-fab-toolbar",r)}()}(),function(){function e(e,r,o,i){function a(n,a,s,c){function l(){for(var e in r.MEDIA)i(e),i.getQuery(r.MEDIA[e]).addListener(w);return i.watchResponsiveAttributes(["md-cols","md-row-height"],s,d)}function u(){c.layoutDelegate=t.noop,C();for(var e in r.MEDIA)i.getQuery(r.MEDIA[e]).removeListener(w)}function d(e){null==e?c.invalidateLayout():i(e)&&c.invalidateLayout()}function m(e){var r=g(),i={tileSpans:v(r),colCount:$(),rowMode:y(),rowHeight:E(),gutter:b()};if(e||!t.equals(i,A)){var s=o(i.colCount,i.tileSpans,r).map(function(e,n){return{grid:{element:a,style:h(i.colCount,n,i.gutter,i.rowMode,i.rowHeight)},tiles:e.map(function(e,n){return{element:t.element(r[n]),style:p(e.position,e.spans,i.colCount,i.rowCount,i.gutter,i.rowMode,i.rowHeight)}})}}).reflow().performance();n.mdOnLayout({$event:{performance:s}}),A=i}}function f(e){return x+e+T}function p(e,t,n,r,o,i,a){var s=1/n*100,c=(n-1)/n,l=k({share:s,gutterShare:c,gutter:o}),u={left:S({unit:l,offset:e.col,gutter:o}),width:N({unit:l,span:t.col,gutter:o}),paddingTop:"",marginTop:"",top:"",height:""};switch(i){case"fixed":u.top=S({unit:a,offset:e.row,gutter:o}),u.height=N({unit:a,span:t.row,gutter:o});break;case"ratio":var d=s/a,m=k({share:d,gutterShare:c,gutter:o});u.paddingTop=N({unit:m,span:t.row,gutter:o}),u.marginTop=S({unit:m,offset:e.row,gutter:o});break;case"fit":var f=(r-1)/r,d=1/r*100,m=k({share:d,gutterShare:f,gutter:o});u.top=S({unit:m,offset:e.row,gutter:o}),u.height=N({unit:m,span:t.row,gutter:o})}return u}function h(e,t,n,r,o){var i={height:"",paddingBottom:""};switch(r){case"fixed":i.height=N({unit:o,span:t,gutter:n});break;case"ratio":var a=1===e?0:(e-1)/e,s=1/e*100,c=s*(1/o),l=k({share:c,gutterShare:a,gutter:n});i.paddingBottom=N({unit:l,span:t,gutter:n});break;case"fit":}return i}function g(){return[].filter.call(a.children(),function(e){return"MD-GRID-TILE"==e.tagName})}function v(e){return[].map.call(e,function(e){var n=t.element(e).controller("mdGridTile");return{row:parseInt(i.getResponsiveAttribute(n.$attrs,"md-rowspan"),10)||1,col:parseInt(i.getResponsiveAttribute(n.$attrs,"md-colspan"),10)||1}})}function $(){var e=parseInt(i.getResponsiveAttribute(s,"md-cols"),10);if(isNaN(e))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return e}function b(){return M(i.getResponsiveAttribute(s,"md-gutter")||1)}function E(){var e=i.getResponsiveAttribute(s,"md-row-height");switch(y()){case"fixed":return M(e);case"ratio":var t=e.split(":");return parseFloat(t[0])/parseFloat(t[1]);case"fit":return 0}}function y(){var e=i.getResponsiveAttribute(s,"md-row-height");return"fit"==e?"fit":-1!==e.indexOf(":")?"ratio":"fixed"}function M(e){return/\D$/.test(e)?e:e+"px"}a.attr("role","list"),c.layoutDelegate=m;var w=t.bind(c,c.invalidateLayout),C=l();n.$on("$destroy",u);var A,x=e.startSymbol(),T=e.endSymbol(),k=e(f("share")+"% - ("+f("gutter")+" * "+f("gutterShare")+")"),S=e("calc(("+f("unit")+" + "+f("gutter")+") * "+f("offset")+")"),N=e("calc(("+f("unit")+") * "+f("span")+" + ("+f("span")+" - 1) * "+f("gutter")+")")}return{restrict:"E",controller:n,scope:{mdOnLayout:"&"},link:a}}function n(e){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=e,this.layoutDelegate=t.noop}function r(e){function n(t,n){var r,a,s,c,l,u;return c=e.time(function(){a=o(t,n)}),r={layoutInfo:function(){return a},map:function(t){return l=e.time(function(){var e=r.layoutInfo();s=t(e.positioning,e.rowCount)}),r},reflow:function(t){return u=e.time(function(){var e=t||i;e(s.grid,s.tiles)}),r},performance:function(){return{tileCount:n.length,layoutTime:c,mapTime:l,reflowTime:u,totalTime:c+l+u}}}}function r(e,t){e.element.css(e.style),t.forEach(function(e){e.element.css(e.style)})}function o(e,t){function n(t,n){if(t.col>e)throw"md-grid-list: Tile at position "+n+" has a colspan ("+t.col+") that exceeds the column count ("+e+")";for(var a=0,u=0;u-a<t.col;)s>=e?r():(a=l.indexOf(0,s),-1!==a&&-1!==(u=i(a+1))?s=u+1:(a=u=0,r()));return o(a,t.col,t.row),s=a+t.col,{col:a,row:c}}function r(){s=0,c++,o(0,e,-1)}function o(e,t,n){for(var r=e;e+t>r;r++)l[r]=Math.max(l[r]+n,0)}function i(e){var t;for(t=e;t<l.length;t++)if(0!==l[t])return t;return t===l.length?t:void 0}function a(){for(var t=[],n=0;e>n;n++)t.push(0);return t}var s=0,c=0,l=a();return{positioning:t.map(function(e,t){return{spans:e,position:n(e,t)}}),rowCount:c+Math.max.apply(Math,l)}}var i=r;return n.animateWith=function(e){i=t.isFunction(e)?e:r},n}function o(e){function n(n,r,o,i){r.attr("role","listitem");var a=e.watchResponsiveAttributes(["md-colspan","md-rowspan"],o,t.bind(i,i.invalidateLayout));i.invalidateTiles(),n.$on("$destroy",function(){a(),i.invalidateLayout()}),t.isDefined(n.$parent.$index)&&n.$watch(function(){return n.$parent.$index},function(e,t){e!==t&&i.invalidateTiles()})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(e){this.$attrs=e}],link:n}}function i(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}t.module("material.components.gridList",["material.core"]).directive("mdGridList",e).directive("mdGridTile",o).directive("mdGridTileFooter",i).directive("mdGridTileHeader",i).factory("$mdGridLayout",r),e.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia"],n.$inject=["$timeout"],n.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(t.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}},r.$inject=["$mdUtil"],o.$inject=["$mdMedia"]}(),function(){!function(){function e(){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],link:function(e,n,r,o){var i=o[0]||o[1];i&&t.forEach(n.children(),function(e){t.element(e).on("focus",i.open),t.element(e).on("blur",i.close)})}}}t.module("material.components.fabTrigger",["material.core"]).directive("mdFabTrigger",e)}()}(),function(){function e(e,t,n,r){function o(r,o,i){function a(){var e=o.parent();return e.attr("aria-label")||e.text()?!0:e.parent().attr("aria-label")||e.parent().text()?!0:!1}function s(){r.svgIcon||r.svgSrc||(r.fontIcon?(o.addClass("md-font"),o.addClass(r.fontIcon)):o.addClass(e.fontSet(r.fontSet)))}t(o),s();var c=i.alt||r.fontIcon||r.svgIcon||o.text(),l=i.$normalize(i.$attr.mdSvgIcon||i.$attr.mdSvgSrc||"");i["aria-label"]||(""==c||a()?o.text()||n.expect(o,"aria-hidden","true"):(n.expect(o,"aria-label",c),n.expect(o,"role","img"))),l&&i.$observe(l,function(t){o.empty(),t&&e(t).then(function(e){o.append(e)})})}return{scope:{fontSet:"@mdFontSet",fontIcon:"@mdFontIcon",svgIcon:"@mdSvgIcon",svgSrc:"@mdSvgSrc"},restrict:"E",link:o}}t.module("material.components.icon",["material.core"]).directive("mdIcon",e),e.$inject=["$mdIcon","$mdTheming","$mdAria","$interpolate"]}(),function(){function e(){}
function n(e,t){this.url=e,this.viewBoxSize=t||o.defaultViewBoxSize}function r(e,n,r,o,i){function a(e){return e=e||"",$[e]?r.when($[e].clone()):b.test(e)?d(e).then(c(e)):(-1==e.indexOf(":")&&(e="$default:"+e),l(e)["catch"](u)["catch"](m)["catch"](f).then(c(e)))}function s(n){var r=t.isUndefined(n)||!(n&&n.length);if(r)return e.defaultFontSet;var o=n;return t.forEach(e.fontSets,function(e){e.alias==n&&(o=e.fontSet||o)}),o}function c(t){return function(n){return $[t]=p(n)?n:new h(n,e[t]),$[t].clone()}}function l(t){var n=e[t];return n?d(n.url).then(function(e){return new h(e,n)}):r.reject(t)}function u(t){function n(e){var n=t.slice(t.lastIndexOf(":")+1),o=e.querySelector("#"+n);return o?new h(o,i):r.reject(t)}var o=t.substring(0,t.lastIndexOf(":"))||"$default",i=e[o];return i?d(i.url).then(n):r.reject(t)}function d(e){return n.get(e,{cache:i}).then(function(e){return t.element("<div>").append(e.data).find("svg")[0]})}function m(e){var n;return t.isString(e)&&(n="icon "+e+" not found",o.warn(n)),r.reject(n||e)}function f(e){var n=t.isString(e)?e:e.message||e.data||e.statusText;return o.warn(n),r.reject(n)}function p(e){return t.isDefined(e.element)&&t.isDefined(e.config)}function h(e,n){"svg"!=e.tagName&&(e=t.element('<svg xmlns="http://www.w3.org/2000/svg">').append(e)[0]),e.getAttribute("xmlns")||e.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=e,this.config=n,this.prepare()}function g(){var n=this.config?this.config.viewBoxSize:e.defaultViewBoxSize;t.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+n+" "+n},function(e,t){this.element.setAttribute(t,e)},this),t.forEach({"pointer-events":"none",display:"block"},function(e,t){this.element.style[t]=e},this)}function v(){return this.element.cloneNode(!0)}var $={},b=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/i;return h.prototype={clone:v,prepare:g},a.fontSet=s,a}t.module("material.components.icon").provider("$mdIcon",e);var o={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};e.prototype={icon:function(e,t,r){return-1==e.indexOf(":")&&(e="$default:"+e),o[e]=new n(t,r),this},iconSet:function(e,t,r){return o[e]=new n(t,r),this},defaultIconSet:function(e,t){var r="$default";return o[r]||(o[r]=new n(e,t)),o[r].viewBoxSize=t||o.defaultViewBoxSize,this},defaultViewBoxSize:function(e){return o.defaultViewBoxSize=e,this},fontSet:function(e,t){o.fontSets.push({alias:e,fontSet:t||e})},defaultFontSet:function(e){return o.defaultFontSet=e?e:"",this},defaultIconSize:function(e){return o.defaultIconSize=e,this},preloadIcons:function(e){var t=this,n=[{id:"md-tabs-arrow",url:"md-tabs-arrow.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><polygon points="15.4,7.4 14,6 8,12 14,18 15.4,16.6 10.8,12 "/></g></svg>'},{id:"md-close",url:"md-close.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"/></g></svg>'},{id:"md-cancel",url:"md-cancel.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 24 24"><g><path d="M12 2c-5.53 0-10 4.47-10 10s4.47 10 10 10 10-4.47 10-10-4.47-10-10-10zm5 13.59l-1.41 1.41-3.59-3.59-3.59 3.59-1.41-1.41 3.59-3.59-3.59-3.59 1.41-1.41 3.59 3.59 3.59-3.59 1.41 1.41-3.59 3.59 3.59 3.59z"/></g></svg>'},{id:"md-menu",url:"md-menu.svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 100 100"><path d="M 50 0 L 100 14 L 92 80 L 50 100 L 8 80 L 0 14 Z" fill="#b2b2b2"></path><path d="M 50 5 L 6 18 L 13.5 77 L 50 94 Z" fill="#E42939"></path><path d="M 50 5 L 94 18 L 86.5 77 L 50 94 Z" fill="#B72833"></path><path d="M 50 7 L 83 75 L 72 75 L 65 59 L 50 59 L 50 50 L 61 50 L 50 26 Z" fill="#b2b2b2"></path><path d="M 50 7 L 17 75 L 28 75 L 35 59 L 50 59 L 50 50 L 39 50 L 50 26 Z" fill="#fff"></path></svg>'},{id:"md-toggle-arrow",url:"md-toggle-arrow-svg",svg:'<svg version="1.1" x="0px" y="0px" viewBox="0 0 48 48"><path d="M24 16l-12 12 2.83 2.83 9.17-9.17 9.17 9.17 2.83-2.83z"/><path d="M0 0h48v48h-48z" fill="none"/></svg>'}];n.forEach(function(n){t.icon(n.id,n.url),e.put(n.url,n.svg)})},$get:["$http","$q","$log","$templateCache",function(e,t,n,i){return this.preloadIcons(i),r(o,e,t,n,i)}]}}(),function(){function e(e,t){function n(t,n,r){e(n)}function r(e,n,r){var o=this;o.isErrorGetter=r.mdIsError&&t(r.mdIsError),o.delegateClick=function(){o.input.focus()},o.element=n,o.setFocused=function(e){n.toggleClass("md-input-focused",!!e)},o.setHasValue=function(e){n.toggleClass("md-input-has-value",!!e)},o.setInvalid=function(e){n.toggleClass("md-input-invalid",!!e)},e.$watch(function(){return o.label&&o.input},function(e){e&&!o.label.attr("for")&&o.label.attr("for",o.input.attr("id"))})}return r.$inject=["$scope","$element","$attrs"],{restrict:"E",link:n,controller:r}}function n(){return{restrict:"E",require:"^?mdInputContainer",link:function(e,t,n,r){r&&!n.mdNoFloat&&(r.label=t,e.$on("$destroy",function(){r.label=null}))}}}function r(e,n,r){function o(o,i,a,s){function c(e){return d.setHasValue(!m.$isEmpty(e)),e}function l(){d.setHasValue(i.val().length>0||(i[0].validity||{}).badInput)}function u(){function r(e){return u(),e}function a(){l.style.height="auto",l.scrollTop=0;var e=s();e&&(l.style.height=e+"px")}function s(){var e=l.scrollHeight-l.offsetHeight;return l.offsetHeight+(e>0?e:0)}function c(e){l.scrollTop=0;var t=l.scrollHeight-l.offsetHeight,n=l.offsetHeight+t;l.style.height=n+"px"}var l=i[0],u=e.debounce(a,1);m?(m.$formatters.push(r),m.$viewChangeListeners.push(r)):u(),i.on("keydown input",u),i.on("scroll",c),t.element(n).on("resize",u),o.$on("$destroy",function(){t.element(n).off("resize",u)})}var d=s[0],m=s[1]||e.fakeNgModel(),f=t.isDefined(a.readonly);if(d){if(d.input)throw new Error("<md-input-container> can only have *one* <input> or <textarea> child element!");d.input=i,d.label||r.expect(i,"aria-label",i.attr("placeholder")),i.addClass("md-input"),i.attr("id")||i.attr("id","input_"+e.nextUid()),"textarea"===i[0].tagName.toLowerCase()&&u();var p=d.isErrorGetter||function(){return m.$invalid&&m.$touched};o.$watch(p,d.setInvalid),m.$parsers.push(c),m.$formatters.push(c),i.on("input",l),f||i.on("focus",function(e){d.setFocused(!0)}).on("blur",function(e){d.setFocused(!1),l()}),o.$on("$destroy",function(){d.setFocused(!1),d.setHasValue(!1),d.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel"],link:o}}function o(e){function n(n,r,o,i){function a(e){return u.text((r.val()||e||"").length+"/"+s),e}var s,c=i[0],l=i[1],u=t.element('<div class="md-char-counter">');o.$set("ngTrim","false"),l.element.append(u),c.$formatters.push(a),c.$viewChangeListeners.push(a),r.on("input keydown",function(){a()}),n.$watch(o.mdMaxlength,function(n){s=n,t.isNumber(n)&&n>0?(u.parent().length||e.enter(u,l.element,t.element(l.element[0].lastElementChild)),a()):e.leave(u)}),c.$validators["md-maxlength"]=function(e,n){return!t.isNumber(s)||0>s?!0:(e||r.val()||n||"").length<=s}}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:n}}function i(e){function n(n,o,i,a){if(a&&-1==r.indexOf(o[0].nodeName)&&!t.isDefined(a.element.attr("md-no-float"))){var s=i.placeholder;if(o.removeAttr("placeholder"),0==a.element.find("label").length){var c='<label ng-click="delegateClick()">'+s+"</label>";a.element.addClass("md-icon-float"),a.element.prepend(c)}else e.warn("The placeholder='"+s+"' will be ignored since this md-input-container has a child label element.")}}var r=["MD-SELECT"];return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:n}}t.module("material.components.input",["material.core"]).directive("mdInputContainer",e).directive("label",n).directive("input",r).directive("textarea",r).directive("mdMaxlength",o).directive("placeholder",i),e.$inject=["$mdTheming","$parse"],r.$inject=["$mdUtil","$window","$mdAria"],o.$inject=["$animate"],i.$inject=["$log"]}(),function(){function e(e){return{restrict:"E",compile:function(t){return t[0].setAttribute("role","list"),e}}}function n(e,n,r){var o=["md-checkbox","md-switch"];return{restrict:"E",controller:"MdListController",compile:function(i,a){function s(){for(var e,t,n=["md-switch","md-checkbox"],r=0;t=n[r];++r)if((e=i.find(t)[0])&&!e.hasAttribute("aria-label")){var o=i.find("p")[0];if(!o)return;e.setAttribute("aria-label","Toggle "+o.textContent)}}function c(n){var r;if("div"==n)r=t.element('<div class="md-no-style md-list-item-inner">'),r.append(i.contents()),i.addClass("md-proxy-focus");else{r=t.element('<md-button class="md-no-style"><div class="md-list-item-inner"></div></md-button>');var o=["ng-click","aria-label","ng-disabled"];t.forEach(o,function(e){i[0].hasAttribute(e)&&(r[0].setAttribute(e,i[0].getAttribute(e)),i[0].removeAttribute(e))}),r.children().eq(0).append(i.contents())}if(i[0].setAttribute("tabindex","-1"),i.append(r),f&&f.hasAttribute("ng-click")){e.expect(f,"aria-label");var s=t.element('<md-button class="md-secondary-container md-icon-button">');s.attr("ng-click",f.getAttribute("ng-click")),f.removeAttribute("ng-click"),f.setAttribute("tabindex","-1"),f.classList.remove("md-secondary"),s.append(f),f=s[0]}f&&(f.hasAttribute("ng-click")||a.ngClick&&l(f))&&(i.addClass("md-with-secondary"),i.append(f))}function l(e){return-1!=o.indexOf(e.nodeName.toLowerCase())}function u(e,i,a,s){function c(){var e=i.children();e.length&&!e[0].hasAttribute("ng-click")&&t.forEach(o,function(e){t.forEach(d.querySelectorAll(e),function(e){u.push(e)})})}function l(){(u.length||m)&&(i.addClass("md-clickable"),s.attachRipple(e,t.element(i[0].querySelector(".md-no-style"))))}var u=[],d=i[0].firstElementChild,m=d&&d.hasAttribute("ng-click");c(),l(),i.hasClass("md-proxy-focus")&&u.length&&t.forEach(u,function(n){n=t.element(n),e.mouseActive=!1,n.on("mousedown",function(){e.mouseActive=!0,r(function(){e.mouseActive=!1},100)}).on("focus",function(){e.mouseActive===!1&&i.addClass("md-focused"),n.on("blur",function t(){i.removeClass("md-focused"),n.off("blur",t)})})}),m||u.length||d&&d.addEventListener("keypress",function(e){if("INPUT"!=e.target.nodeName&&"TEXTAREA"!=e.target.nodeName){var t=e.which||e.keyCode;t==n.KEY_CODE.SPACE&&d&&(d.click(),e.preventDefault(),e.stopPropagation())}}),i.off("click"),i.off("keypress"),u.length&&d&&i.children().eq(0).on("click",function(e){d.contains(e.target)&&t.forEach(u,function(n){e.target===n||n.contains(e.target)||t.element(n).triggerHandler("click")})})}var d,m,f=i[0].querySelector(".md-secondary");if(i[0].setAttribute("role","listitem"),a.ngClick)c("button");else{for(var p,h=0;p=o[h];++h)if(m=i[0].querySelector(p)){d=!0;break}d?c("div"):i[0].querySelector("md-button")||i.addClass("md-no-proxy")}return s(),u}}}function r(e,t,n){function r(e,t){var r={};n.attach(e,t,r)}var o=this;o.attachRipple=r}t.module("material.components.list",["material.core"]).controller("MdListController",r).directive("mdList",e).directive("mdListItem",n),e.$inject=["$mdTheming"],n.$inject=["$mdAria","$mdConstant","$timeout"],r.$inject=["$scope","$element","$mdListInkRipple"]}(),function(){function e(e){function n(e){e.addClass("md-menu");var t=e.children()[0];if(t.hasAttribute("ng-click")||(t=t.querySelector("[ng-click]")),t&&t.setAttribute("aria-haspopup","true"),2!=e.children().length)throw Error("Invalid HTML for md-menu. Expected two children elements.");return r}function r(e,n,r,o){var i=t.element('<div class="md-open-menu-container md-whiteframe-z2"></div>'),a=n.children()[1];i.append(a),o.init(i),e.$on("$destroy",function(){o.isOpen&&(i.remove(),o.close())})}return{restrict:"E",require:"mdMenu",controller:"mdMenuCtrl",scope:!0,compile:n}}function n(e,t,n,r){var o,i,a=this;this.init=function(e){o=e,i=n[0].querySelector("[ng-click]")},this.open=function(){a.isOpen=!0,i.setAttribute("aria-expanded","true"),e.show({mdMenuCtrl:a,element:o,target:n[0]})},r.$mdOpenMenu=this.open,this.close=function(t){a.isOpen=!1,i.setAttribute("aria-expanded","false"),e.hide(),t||n.children()[0].focus()},this.positionMode=function(){var e=(t.mdPositionMode||"target").split(" ");return 1==e.length&&e.push(e[0]),{left:e[0],top:e[1]}},this.offsets=function(){var e=(t.mdOffset||"0 0").split(" ").map(parseFloat);if(2==e.length)return{left:e[0],top:e[1]};if(1==e.length)return{top:e[0],left:e[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")}}t.module("material.components.menu",["material.core","material.components.backdrop"]).directive("mdMenu",e).controller("mdMenuCtrl",n),e.$inject=["$mdMenu"],n.$inject=["$mdMenu","$attrs","$element","$scope"]}(),function(){function e(e){function r(e,r,i,a,s,c,l){function u(n,o,l){function u(){if(!l.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");t.extend(l,{alreadyOpen:!1,isRemoved:!1,target:t.element(l.target),parent:t.element(l.parent),menuContentEl:t.element(o[0].querySelector("md-menu-content")),backdrop:l.hasBackdrop&&t.element('<md-backdrop class="md-menu-backdrop md-click-catcher">')})}function m(){l.resizeFn=function(){p(o,l)},t.element(r).on("resize",l.resizeFn),t.element(r).on("orientationchange",l.resizeFn)}function f(){l.parent.append(o),o.removeClass("md-leave"),e(function(){e(function(){p(o,l),e(function(){o.addClass("md-active"),l.alreadyOpen=!0,o[0].style[c.CSS.TRANSFORM]=""})})})}function h(){o.addClass("md-clickable"),l.backdrop&&l.backdrop.on("click",function(e){e.preventDefault(),e.stopPropagation(),l.mdMenuCtrl.close(!0)}),l.menuContentEl.on("keydown",function(e){n.$apply(function(){switch(e.keyCode){case c.KEY_CODE.ESCAPE:l.mdMenuCtrl.close();break;case c.KEY_CODE.UP_ARROW:d(e,l.menuContentEl,l,-1);break;case c.KEY_CODE.DOWN_ARROW:d(e,l.menuContentEl,l,1)}})}),l.menuContentEl.on("click",function(e){function t(){n.$apply(function(){l.mdMenuCtrl.close()})}var r=e.target;do if(r&&r.hasAttribute("ng-click")){r.hasAttribute("disabled")||t();break}while((r=r.parentNode)&&r!=l.menuContentEl)});var e=l.menuContentEl[0].querySelector("[md-menu-focus-target]");e||(e=l.menuContentEl[0].firstElementChild.firstElementChild),e.focus()}return u(l),a.inherit(l.menuContentEl,l.target),m(),l.disableParentScroll&&(l.restoreScroll=i.disableScrollAround(l.element)),s(h,75,!1),l.backdrop&&(a.inherit(l.backdrop,l.parent),l.parent.append(l.backdrop)),f(),i.transitionEndPromise(o,{timeout:350})}function d(e,t,n,r){for(var o=i.getClosest(e.target,"MD-MENU-ITEM"),a=i.nodesToArray(t[0].children),s=a.indexOf(o),c=s+r;c>=0&&c<a.length;c+=r){var l=a[c].firstElementChild||a[c],u=m(l);if(u)break}}function m(e){return e&&-1!=e.getAttribute("tabindex")?(e.focus(),l[0].activeElement==e?!0:!1):void 0}function f(e,o,a){return a.isRemoved=!0,o.addClass("md-leave").removeClass("md-clickable"),t.element(r).off("resize",a.resizeFn),t.element(r).off("orientationchange",a.resizeFn),a.resizeFn=n,i.transitionEndPromise(o,{timeout:350}).then(function(){o.removeClass("md-active"),a.backdrop&&a.backdrop.remove(),o[0].parentNode===a.parent[0]&&a.parent[0].removeChild(o[0]),a.restoreScroll&&a.restoreScroll()})}function p(e,t){function n(e){e.top=Math.max(Math.min(e.top,h.bottom-s.offsetHeight),h.top),e.left=Math.max(Math.min(e.left,h.right-s.offsetWidth),h.left)}if(!t.isRemoved){var r,i,a,s=e[0],l=e[0].firstElementChild,u=l.getBoundingClientRect(),d=t.parent[0],m=d.getBoundingClientRect(),f=t.target[0].querySelector("[md-menu-origin]")||t.target[0],p=f.getBoundingClientRect(),h={left:m.left+o,top:m.top+o,bottom:m.bottom-o,right:m.right-o},g=t.mdMenuCtrl.positionMode();("target"==g.top||"target"==g.left||"target-right"==g.left)&&(r=l.firstElementChild.firstElementChild||l.firstElementChild,r=r.querySelector("[md-menu-align-target]")||r,i=r.getBoundingClientRect(),a={top:parseFloat(s.style.top||0),left:parseFloat(s.style.left||0)});var v={},$="top ";switch(g.top){case"target":v.top=a.top+p.top-i.top;break;default:throw new Error('Invalid target mode "'+g.top+'" specified for md-menu on Y axis.')}switch(g.left){case"target":v.left=a.left+p.left-i.left,$+="left";break;case"target-right":v.left=p.right-u.width+(u.right-i.right),$+="right";break;default:throw new Error('Invalid target mode "'+g.left+'" specified for md-menu on X axis.')}var b=t.mdMenuCtrl.offsets();v.top+=b.top,v.left+=b.left,n(v),e.css({top:v.top+"px",left:v.left+"px"}),s.style[c.CSS.TRANSFORM_ORIGIN]=$,t.alreadyOpen||(s.style[c.CSS.TRANSFORM]="scale("+Math.min(p.width/s.offsetWidth,1)+","+Math.min(p.height/s.offsetHeight,1)+")")}}return{parent:"body",onShow:u,onRemove:f,hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,themable:!0}}var o=8;return r.$inject=["$$rAF","$window","$mdUtil","$mdTheming","$timeout","$mdConstant","$document"],e("$mdMenu").setDefaults({methods:["target"],options:r})}t.module("material.components.menu").provider("$mdMenu",e),e.$inject=["$$interimElementProvider"]}(),function(){function e(e,t){function n(e){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),r}function r(n,r,i){t(r);var a=r[0],s=i.mdDiameter||48,c=s/48;a.style[e.CSS.TRANSFORM]="scale("+c+")",i.$observe("value",function(e){var t=o(e);r.attr("aria-valuenow",t)})}function o(e){return Math.max(0,Math.min(e||0,100))}return{restrict:"E",template:'<div class="md-spinner-wrapper"><div class="md-inner"><div class="md-gap"></div><div class="md-left"><div class="md-half-circle"></div></div><div class="md-right"><div class="md-half-circle"></div></div></div></div>',compile:n}}t.module("material.components.progressCircular",["material.core"]).directive("mdProgressCircular",e),e.$inject=["$mdConstant","$mdTheming"]}(),function(){function e(e,r,o){function i(e,t,n){return e.attr("aria-valuemin",0),e.attr("aria-valuemax",100),e.attr("role","progressbar"),a}function a(i,a,c){o(a);var l=a[0].querySelector(".md-bar1").style,u=a[0].querySelector(".md-bar2").style,d=t.element(a[0].querySelector(".md-container"));c.$observe("value",function(e){if("query"!=c.mdMode){var t=s(e);a.attr("aria-valuenow",t),u[r.CSS.TRANSFORM]=n[t]}}),c.$observe("mdBufferValue",function(e){l[r.CSS.TRANSFORM]=n[s(e)]}),e(function(){d.addClass("md-ready")})}function s(e){return e>100?100:0>e?0:Math.ceil(e||0)}return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:i}}t.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",e),e.$inject=["$$rAF","$mdConstant","$mdTheming"];var n=function(){function e(e){var t=e/100,n=(e-100)/2;return"translateX("+n.toString()+"%) scale("+t.toString()+", 1)"}for(var t=new Array(101),n=0;101>n;n++)t[n]=e(n);return t}()}(),function(){function e(e,n,r,o){function i(i,a,s,c){function l(){a.hasClass("md-focused")||a.addClass("md-focused")}function u(r){var o=r.which||r.keyCode;switch(o){case n.KEY_CODE.LEFT_ARROW:case n.KEY_CODE.UP_ARROW:r.preventDefault(),d.selectPrevious(),l();break;case n.KEY_CODE.RIGHT_ARROW:case n.KEY_CODE.DOWN_ARROW:r.preventDefault(),d.selectNext(),l();break;case n.KEY_CODE.ENTER:var i=t.element(e.getClosest(a[0],"form"));i.length>0&&i.triggerHandler("submit")}}r(a);var d=c[0],m=c[1]||e.fakeNgModel();d.init(m),i.mouseActive=!1,a.attr({role:"radiogroup",tabIndex:a.attr("tabindex")||"0"}).on("keydown",u).on("mousedown",function(e){i.mouseActive=!0,o(function(){i.mouseActive=!1},100)}).on("focus",function(){i.mouseActive===!1&&d.$element.addClass("md-focused")}).on("blur",function(){d.$element.removeClass("md-focused")})}function a(e){this._radioButtonRenderFns=[],this.$element=e}function s(){return{init:function(e){this._ngModelCtrl=e,this._ngModelCtrl.$render=t.bind(this,this.render)},add:function(e){this._radioButtonRenderFns.push(e)},remove:function(e){var t=this._radioButtonRenderFns.indexOf(e);-1!==t&&this._radioButtonRenderFns.splice(t,1)},render:function(){this._radioButtonRenderFns.forEach(function(e){e()})},setViewValue:function(e,t){this._ngModelCtrl.$setViewValue(e,t),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return c(this.$element,1)},selectPrevious:function(){return c(this.$element,-1)},setActiveDescendant:function(e){this.$element.attr("aria-activedescendant",e)}}}function c(n,r){var o=e.iterator(n[0].querySelectorAll("md-radio-button"),!0);if(o.count()){var i=function(e){return!t.element(e).attr("disabled")},a=n[0].querySelector("md-radio-button.md-checked"),s=o[0>r?"previous":"next"](a,i)||o.first();t.element(s).triggerHandler("click")}}return a.prototype=s(),{restrict:"E",controller:["$element",a],require:["mdRadioGroup","?ngModel"],link:{pre:i}}}function n(e,t,n){function r(r,i,a,s){function c(e){i[0].hasAttribute("disabled")||r.$apply(function(){s.setViewValue(a.value,e&&e.type)})}function l(){var e=s.getViewValue()==a.value;e!==d&&(d=e,i.attr("aria-checked",e),e?(i.addClass(o),s.setActiveDescendant(i.attr("id"))):i.removeClass(o))}function u(n,r){function o(){return a.id||"radio_"+t.nextUid()}r.ariaId=o(),n.attr({id:r.ariaId,role:"radio","aria-checked":"false"}),e.expectWithText(n,"aria-label")}var d;n(i),u(i,r),s.add(l),a.$observe("value",l),i.on("click",c).on("$destroy",function(){s.remove(l)})}var o="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:r}}t.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",e).directive("mdRadioButton",n),e.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],n.$inject=["$mdAria","$mdUtil","$mdTheming"]}(),function(){function e(e,r,o,i,a,s,c){function l(a,l){var u=a.find("md-select-label").remove();if(u.length){if(!u[0].firstElementChild){var d=t.element("<span>");d.append(u.contents()),u.append(d)}}else u=t.element("<md-select-label><span></span></md-select-label>");if(u.append('<span class="md-select-icon" aria-hidden="true"></span>'),u.addClass("md-select-label"),u[0].hasAttribute("id")||u.attr("id","select_label_"+r.nextUid()),a.find("md-content").length||a.append(t.element("<md-content>").append(a.contents())),l.mdOnOpen&&a.find("md-content").prepend(t.element("<md-progress-circular>").attr("md-mode","indeterminate").attr("ng-hide","$$loadingAsyncDone").wrap("<div>").parent()),l.name){var m=t.element('<select class="md-visually-hidden">');m.attr({name:"."+l.name,"ng-model":l.ngModel,"aria-hidden":"true",tabindex:"-1"});var f=a.find("md-option");t.forEach(f,function(e){var n=t.element("<option>"+e.innerHTML+"</option>");e.hasAttribute("ng-value")?n.attr("ng-value",e.getAttribute("ng-value")):e.hasAttribute("value")&&n.attr("value",e.getAttribute("value")),m.append(n)}),a.parent().append(m)}var p='<div class="md-select-menu-container"><md-select-menu '+(t.isDefined(l.multiple)?"multiple":"")+">"+a.html()+"</md-select-menu></div>";return a.empty().append(u),l.tabindex=l.tabindex||"0",function(a,l,u,d){function m(){var e=l.attr("placeholder");e||(e=l.find("md-select-label").text()),i.expect(l,"aria-label",e)}function f(){E&&(M=M||E.find("md-select-menu").controller("mdSelectMenu"),w.setLabelText(M.selectedLabels()))}function h(){E=t.element(p);var e=E.find("md-select-menu");e.data("$ngModelController",C),e.data("$mdSelectController",w),y=a.$new(),E=s(E)(y),M=E.find("md-select-menu").controller("mdSelectMenu")}function g(e){var n=[32,13,38,40];if(-1!=n.indexOf(e.keyCode))e.preventDefault(),v(e);else if(e.keyCode<=90&&e.keyCode>=31){e.preventDefault();var r=M.optNodeForKeyboardSearch(e);if(!r)return;var o=t.element(r).controller("mdOption");M.isMultiple||M.deselect(Object.keys(M.selected)[0]),M.select(o.hashKey,o.value),M.refreshViewValue(),C.$render()}}function v(){a.$evalAsync(function(){$=!0,e.show({scope:y,preserveScope:!0,skipCompile:!0,element:E,target:l[0],hasBackdrop:!0,loadingAsync:u.mdOnOpen?a.$eval(u.mdOnOpen)||!0:!1}).then(function(e){$=!1})})}var $,b,E,y,M,w=d[0],C=d[1],A=d[2],x=l.find("md-select-label"),T=0!==x.text().length;if(h(),o(l),u.name&&A){var k=l.parent()[0].querySelector('select[name=".'+u.name+'"]');A.$removeControl(t.element(k).controller())}var S=C.$render;C.$render=function(){S(),f()},w.setLabelText=function(e){if(!T){w.setIsPlaceholder(!e),e=e||u.placeholder||"";var t=T?x:x.children().eq(0);t.text(e)}},w.setIsPlaceholder=function(e){e?x.addClass("md-placeholder"):x.removeClass("md-placeholder")},w.triggerClose=function(){c(u.mdOnClose)(a)},a.$$postDigest(function(){m(),f()});var N;u.$observe("ngMultiple",function(e){N&&N();var t=c(e);N=a.$watch(function(){return t(a)},function(e,t){(e!==n||t!==n)&&(e?l.attr("multiple","multiple"):l.removeAttr("multiple"),E&&(M.setMultiple(e),S=C.$render,C.$render=function(){S(),f()},M.refreshViewValue(),C.$render()))})}),u.$observe("disabled",function(e){"string"==typeof e&&(e=!0),(b===n||b!==e)&&(b=e,e?(l.attr({tabindex:-1,"aria-disabled":"true"}),l.off("click",v),l.off("keydown",g)):(l.attr({tabindex:u.tabindex,"aria-disabled":"false"}),l.on("click",v),l.on("keydown",g)))}),u.disabled||u.ngDisabled||(l.attr({tabindex:u.tabindex,"aria-disabled":"false"}),l.on("click",v),l.on("keydown",g));var _={role:"combobox","aria-expanded":"false"};l[0].hasAttribute("id")||(_.id="select_"+r.nextUid()),l.attr(_),a.$on("$destroy",function(){$?e.cancel().then(function(){E.remove()}):E.remove()})}}return{restrict:"E",require:["mdSelect","ngModel","?^form"],compile:l,controller:function(){}}}function r(e,r,o){function i(e,n,i,a){function s(){n.attr({id:"select_menu_"+r.nextUid(),role:"listbox","aria-multiselectable":u.isMultiple?"true":"false"})}function c(e){(13==e.keyCode||32==e.keyCode)&&l(e)}function l(n){var o=r.getClosest(n.target,"md-option"),i=o&&t.element(o).data("$mdOptionController");if(o&&i){var a=u.hashGetter(i.value),s=t.isDefined(u.selected[a]);e.$apply(function(){u.isMultiple?s?u.deselect(a):u.select(a,i.value):s||(u.deselect(Object.keys(u.selected)[0]),u.select(a,i.value)),u.refreshViewValue()})}}var u=a[0],d=a[1];o(n),n.on("click",l),n.on("keypress",c),d&&u.init(d),s()}function a(o,i,a){function s(){var e=u.ngModel.$modelValue||u.ngModel.$viewValue;if(t.isArray(e)){var n=Object.keys(u.selected),r=e.map(u.hashGetter),o=n.filter(function(e){return-1===r.indexOf(e)});o.forEach(u.deselect),r.forEach(function(t,n){u.select(t,e[n])})}}function l(){var e=u.ngModel.$viewValue||u.ngModel.$modelValue;Object.keys(u.selected).forEach(u.deselect),u.select(u.hashGetter(e),e)}var u=this;u.isMultiple=t.isDefined(i.multiple),u.selected={},u.options={},o.$watch(function(){return u.options},function(){u.ngModel.$render()},!0);var d;u.setMultiple=function(e){function n(e,n){return t.isArray(e||n||[])}var r=u.ngModel;u.isMultiple=e,d&&d(),u.isMultiple?(r.$validators["md-multiple"]=n,r.$render=s,o.$watchCollection(i.ngModel,function(e){n(e)&&s(e)})):(delete r.$validators["md-multiple"],r.$render=l)};var m,f,p,h="",g=300;u.optNodeForKeyboardSearch=function(e){m&&clearTimeout(m),m=setTimeout(function(){m=n,h="",p=n,f=n},g),h+=String.fromCharCode(e.keyCode);var r=new RegExp("^"+h,"i");f||(f=a.find("md-option"),p=new Array(f.length),t.forEach(f,function(e,t){p[t]=e.textContent.trim()}));for(var o=0;o<p.length;++o)if(r.test(p[o]))return f[o]},u.init=function(n){if(u.ngModel=n,n.$options&&n.$options.trackBy){var r={},i=e(n.$options.trackBy);u.hashGetter=function(e,t){return r.$value=e,i(t||o,r)}}else u.hashGetter=function(e){return t.isObject(e)?"object_"+(e.$$mdSelectId||(e.$$mdSelectId=++c)):e};u.setMultiple(u.isMultiple)},u.selectedLabels=function(){var e=r.nodesToArray(a[0].querySelectorAll("md-option[selected]"));return e.length?e.map(function(e){return e.textContent}).join(", "):""},u.select=function(e,t){var n=u.options[e];n&&n.setSelected(!0),u.selected[e]=t},u.deselect=function(e){var t=u.options[e];t&&t.setSelected(!1),delete u.selected[e]},u.addOption=function(e,n){if(t.isDefined(u.options[e]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+n.value+'" found.');u.options[e]=n,t.isDefined(u.selected[e])&&(u.select(e,n.value),u.refreshViewValue())},u.removeOption=function(e){delete u.options[e]},u.refreshViewValue=function(){var e,t=[];for(var n in u.selected)t.push((e=u.options[n])?e.value:u.selected[n]);u.ngModel.$setViewValue(u.isMultiple?t:t[0])}}return a.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu","?ngModel"],controller:a,link:{pre:i}}}function o(e,n){function r(e,n){return e.append(t.element('<div class="md-text">').append(e.contents())),e.attr("tabindex",n.tabindex||"0"),o}function o(r,o,i,a){function s(e,t){var n=u.hashGetter(t,r),o=u.hashGetter(e,r);l.hashKey=o,l.value=e,u.removeOption(n,l),u.addOption(o,l)}function c(){var e={role:"option","aria-selected":"false"};o[0].hasAttribute("id")||(e.id="select_option_"+n.nextUid()),o.attr(e)}var l=a[0],u=a[1];t.isDefined(i.ngValue)?r.$watch(i.ngValue,s):t.isDefined(i.value)?s(i.value):r.$watch(function(){return o.text()},s),r.$$postDigest(function(){i.$observe("selected",function(e){t.isDefined(e)&&(e?(u.isMultiple||u.deselect(Object.keys(u.selected)[0]),u.select(l.hashKey,l.value)):u.deselect(l.hashKey),u.refreshViewValue(),u.ngModel.$render())})}),e.attach(r,o),c(),r.$on("$destroy",function(){u.removeOption(l.hashKey,l)})}function i(e){this.selected=!1,this.setSelected=function(t){t&&!this.selected?e.attr({selected:"selected","aria-selected":"true"}):!t&&this.selected&&(e.removeAttr("selected"),e.attr("aria-selected","false")),this.selected=t}}return i.$inject=["$element"],{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:i,compile:r}}function i(){function e(e,n){var r=e.find("label");r.length||(r=t.element("<label>"),e.prepend(r)),n.label&&r.text(n.label)}return{restrict:"E",compile:e}}function a(e){function r(e,r,a,c,l,u,d){function m(n,o,i){function s(){i.target.attr("aria-expanded","true")}function m(){function t(e){var t=c.nodesToArray(f),n=t.indexOf(i.focusedNode);-1===n?n=0:"next"===e&&n<t.length-1?n++:"prev"===e&&n>0&&n--;var r=i.focusedNode=t[n];r&&r.focus()}function a(){t("next")}function s(){t("prev")}function l(){u.isMultiple||(i.restoreFocus=!0,n.$evalAsync(function(){e.hide(u.ngModel.$viewValue)}))}if(!i.isRemoved){var u=i.selectEl.controller("mdSelectMenu")||{};o.addClass("md-clickable"),i.backdrop&&i.backdrop.on("click",function(t){t.preventDefault(),t.stopPropagation(),i.restoreFocus=!1,n.$apply(e.cancel)}),i.selectEl.on("keydown",function(t){switch(t.keyCode){case r.KEY_CODE.SPACE:case r.KEY_CODE.ENTER:var o=c.getClosest(t.target,"md-option");o&&(i.selectEl.triggerHandler({type:"click",target:o}),t.preventDefault());break;case r.KEY_CODE.TAB:case r.KEY_CODE.ESCAPE:t.preventDefault(),i.restoreFocus=!0,n.$apply(e.cancel)}}),i.selectEl.on("keydown",function(e){switch(e.keyCode){case r.KEY_CODE.UP_ARROW:return s();case r.KEY_CODE.DOWN_ARROW:return a();default:if(e.keyCode>=31&&e.keyCode<=90){var t=i.selectEl.controller("mdSelectMenu").optNodeForKeyboardSearch(e);t&&t.focus()}}}),i.selectEl.on("click",l),i.selectEl.on("keydown",function(e){(32==e.keyCode||13==e.keyCode)&&l()})}}if(!i.target)throw new Error('$mdSelect.show() expected a target element in options.target but got "'+i.target+'"!');t.extend(i,{isRemoved:!1,target:t.element(i.target),parent:t.element(i.parent),selectEl:o.find("md-select-menu"),contentEl:o.find("md-content"),backdrop:i.hasBackdrop&&t.element('<md-backdrop class="md-select-backdrop md-click-catcher">')}),i.resizeFn=function(){a(function(){a(function(){p(n,o,i)})})},t.element(d).on("resize",i.resizeFn),t.element(d).on("orientationchange",i.resizeFn),s(),o.removeClass("md-leave");var f=i.selectEl[0].getElementsByTagName("md-option");return i.loadingAsync&&i.loadingAsync.then?i.loadingAsync.then(function(){n.$$loadingAsyncDone=!0,a(function(){a(function(){i.isRemoved||p(n,o,i)})})}):i.loadingAsync&&(n.$$loadingAsyncDone=!0),i.disableParentScroll&&!c.getClosest(i.target,"MD-DIALOG")?i.restoreScroll=c.disableScrollAround(i.element):i.disableParentScroll=!1,
u(m,75,!1),i.backdrop&&(l.inherit(i.backdrop,i.parent),i.parent.append(i.backdrop)),i.parent.append(o),a(function(){a(function(){i.isRemoved||p(n,o,i)})}),c.transitionEndPromise(i.selectEl,{timeout:350})}function f(e,r,o){o.isRemoved=!0,r.addClass("md-leave").removeClass("md-clickable"),o.target.attr("aria-expanded","false"),t.element(d).off("resize",o.resizeFn),t.element(d).off("orientationchange",o.resizefn),o.resizeFn=n;var i=o.selectEl.controller("mdSelect");return i&&i.setLabelText(o.selectEl.controller("mdSelectMenu").selectedLabels()),c.transitionEndPromise(r,{timeout:350}).then(function(){r.removeClass("md-active"),o.backdrop&&o.backdrop.remove(),r[0].parentNode===o.parent[0]&&o.parent[0].removeChild(r[0]),o.disableParentScroll&&o.restoreScroll(),o.restoreFocus&&o.target.focus(),i&&i.triggerClose()})}function p(e,t,n){var l,u=t[0],m=n.target[0].firstElementChild.firstElementChild,f=n.parent[0],p=n.selectEl[0],h=n.contentEl[0],g=f.getBoundingClientRect(),v=m.getBoundingClientRect(),$=!1,b={left:g.left+s,top:s,bottom:g.height-s,right:g.width-s-(c.floatingScrollbars()?16:0)},E={top:v.top-b.top,left:v.left-b.left,right:b.right-(v.left+v.width),bottom:b.bottom-(v.top+v.height)},y=g.width-2*s,M=h.scrollHeight>h.offsetHeight,w=p.querySelector("md-option[selected]"),C=p.getElementsByTagName("md-option"),A=p.getElementsByTagName("md-optgroup");l=w?w:A.length?A[0]:C.length?C[0]:h.firstElementChild||h,h.offsetWidth>y&&(h.style["max-width"]=y+"px"),$&&(h.style["min-width"]=v.width+"px"),M&&p.classList.add("md-overflow");var x=p.getBoundingClientRect(),T=i(l);if(l){var k=d.getComputedStyle(l);T.paddingLeft=parseInt(k.paddingLeft,10)||0,T.paddingRight=parseInt(k.paddingRight,10)||0}var S=l;if("MD-OPTGROUP"===(S.tagName||"").toUpperCase()&&(S=C[0]||h.firstElementChild||h),M){var N=h.offsetHeight/2;h.scrollTop=T.top+T.height/2-N,E.top<N?h.scrollTop=Math.min(T.top,h.scrollTop+N-E.top):E.bottom<N&&(h.scrollTop=Math.max(T.top+T.height-x.height,h.scrollTop-N+E.bottom))}var _,H,O;$?(_=v.left,H=v.top+v.height,O="50% 0",H+x.height>b.bottom&&(H=v.top-x.height,O="50% 100%")):(_=v.left+T.left-T.paddingLeft,H=Math.floor(v.top+v.height/2-T.height/2-T.top+h.scrollTop),O=T.left+v.width/2+"px "+(T.top+T.height/2-h.scrollTop)+"px 0px",u.style.minWidth=v.width+T.paddingLeft+T.paddingRight+"px");var D=u.getBoundingClientRect();u.style.left=o(b.left,_,b.right-D.width)+"px",u.style.top=o(b.top,H,b.bottom-D.height)+"px",p.style[r.CSS.TRANSFORM_ORIGIN]=O,p.style[r.CSS.TRANSFORM]="scale("+Math.min(v.width/x.width,1)+","+Math.min(v.height/x.height,1)+")",a(function(){t.addClass("md-active"),p.style[r.CSS.TRANSFORM]="",S&&(n.focusedNode=S,S.focus())})}return{parent:"body",onShow:m,onRemove:f,hasBackdrop:!0,disableParentScroll:!0,themable:!0}}function o(e,t,n){return Math.max(e,Math.min(t,n))}function i(e){return e?{left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}:{left:0,top:0,width:0,height:0}}return r.$inject=["$mdSelect","$mdConstant","$$rAF","$mdUtil","$mdTheming","$timeout","$window"],e("$mdSelect").setDefaults({methods:["target"],options:r})}var s=8,c=0;t.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",e).directive("mdSelectMenu",r).directive("mdOption",o).directive("mdOptgroup",i).provider("$mdSelect",a),e.$inject=["$mdSelect","$mdUtil","$mdTheming","$mdAria","$interpolate","$compile","$parse"],r.$inject=["$parse","$mdUtil","$mdTheming"],o.$inject=["$mdButtonInkRipple","$mdUtil"],a.$inject=["$$interimElementProvider"]}(),function(){function e(e,n){return function(r){function o(){return e.when(r).then(function(e){return s=e,e})}var i,a="SideNav '"+r+"' is not available!",s=e.get(r);return s||e.notFoundError(r),i={isOpen:function(){return s&&s.isOpen()},isLockedOpen:function(){return s&&s.isLockedOpen()},toggle:function(){return s?s.toggle():n.reject(a)},open:function(){return s?s.open():n.reject(a)},close:function(){return s?s.close():n.reject(a)},then:function(e){var r=s?n.when(s):o();return r.then(e||t.noop)}}}}function r(){return{restrict:"A",require:"^mdSidenav",link:function(e,t,n,r){r.focusElement(t)}}}function o(e,r,o,i,a,s,c,l,u,d){function m(m,f,p,h){function g(e,t){m.isLockedOpen=e,e===t?f.toggleClass("md-locked-open",!!e):r[e?"addClass":"removeClass"](f,"md-locked-open"),T.toggleClass("md-locked-open",!!e)}function v(e){var t=f.parent();t[e?"on":"off"]("keydown",E),T[e?"on":"off"]("click",y),e&&(w=d[0].activeElement);var n=h.focusElement();return $(e),C=u.all([e?r.enter(T,t):r.leave(T),r[e?"removeClass":"addClass"](f,"md-closed")]).then(function(){m.isOpen&&n&&n.focus()})}function $(e){var r=f.parent();e?(M=r.css("overflow"),r.css("overflow","hidden")):t.isDefined(M)&&(r.css("overflow",M),M=n)}function b(t){if(m.isOpen==t)return u.when(!0);var n=u.defer();return m.isOpen=t,e(function(){C.then(function(e){m.isOpen||(w&&w.focus(),w=null),n.resolve(e)})},0,!1),n.promise}function E(e){var t=e.keyCode===s.KEY_CODE.ESCAPE;return t?y(e):u.when(!0)}function y(e){return e.preventDefault(),e.stopPropagation(),h.close()}var M,w=null,C=u.when(!0),A=o(p.mdIsLockedOpen),x=function(){return A(m.$parent,{$media:function(e){return i.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),a(e)},$mdMedia:a})},T=c('<md-backdrop class="md-sidenav-backdrop md-opaque ng-enter">')(m);f.on("$destroy",h.destroy),l.inherit(T,f),m.$watch(x,g),m.$watch("isOpen",v),h.$toggleOpen=b,h.focusElement(h.focusElement()||f)}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(e){return e.addClass("md-closed"),e.attr("tabIndex","-1"),m}}}function i(e,n,r,o,i){var a,s=this;s.isOpen=function(){return!!e.isOpen},s.isLockedOpen=function(){return!!e.isLockedOpen},s.open=function(){return s.$toggleOpen(!0)},s.close=function(){return s.$toggleOpen(!1)},s.toggle=function(){return s.$toggleOpen(!e.isOpen)},s.focusElement=function(e){return t.isDefined(e)&&(a=e),a},s.$toggleOpen=function(){return i.when(e.isOpen)},s.destroy=o.register(s,r.mdComponentId)}t.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",e).directive("mdSidenav",o).directive("mdSidenavFocus",r).controller("$mdSidenavController",i),e.$inject=["$mdComponentRegistry","$q"],o.$inject=["$timeout","$animate","$parse","$log","$mdMedia","$mdConstant","$compile","$mdTheming","$q","$document"],i.$inject=["$scope","$element","$attrs","$mdComponentRegistry","$q"]}(),function(){function e(e,n,r,o,i,a,s,c){function l(e,t){return e.attr({tabIndex:0,role:"slider"}),r.expect(e,"aria-label"),u}function u(r,l,u,d){function m(){$(),M(),v()}function f(e){Y=parseFloat(e),l.attr("aria-valuemin",e),m()}function p(e){G=parseFloat(e),l.attr("aria-valuemax",e),m()}function h(e){X=parseFloat(e),v()}function g(e){l.attr("aria-disabled",!!e)}function v(){if(t.isDefined(u.mdDiscrete)){var e=Math.floor((G-Y)/X);if(!Z){var r=n.getComputedStyle(U[0]);Z=t.element('<canvas style="position:absolute;">'),J=Z[0].getContext("2d"),J.fillStyle=r.backgroundColor||"black",U.append(Z)}var o=b();Z[0].width=o.width,Z[0].height=o.height;for(var i,a=0;e>=a;a++)i=Math.floor(o.width*(a/e)),J.fillRect(i-1,0,2,o.height)}}function $(){Q=q[0].getBoundingClientRect()}function b(){return z(),Q}function E(e){if(!l[0].hasAttribute("disabled")){var t;e.keyCode===i.KEY_CODE.LEFT_ARROW?t=-X:e.keyCode===i.KEY_CODE.RIGHT_ARROW&&(t=X),t&&((e.metaKey||e.ctrlKey||e.altKey)&&(t*=4),e.preventDefault(),e.stopPropagation(),r.$evalAsync(function(){y(d.$viewValue+t)}))}}function y(e){d.$setViewValue(w(C(e)))}function M(){isNaN(d.$viewValue)&&(d.$viewValue=d.$modelValue);var e=(d.$viewValue-Y)/(G-Y);r.modelValue=d.$viewValue,l.attr("aria-valuenow",d.$viewValue),A(e),F.text(d.$viewValue)}function w(e){return t.isNumber(e)?Math.max(Y,Math.min(G,e)):void 0}function C(e){if(t.isNumber(e)){var n=Math.round(e/X)*X;return Math.round(1e3*n)/1e3}}function A(e){B.css("width",100*e+"%"),V.css("left",100*e+"%"),l.toggleClass("md-min",0===e)}function x(e){if(!j()){l.addClass("active"),l[0].focus(),$();var t=I(D(e.pointer.x)),n=w(C(t));r.$apply(function(){y(n),A(R(n))})}}function T(e){if(!j()){l.removeClass("dragging active");var t=I(D(e.pointer.x)),n=w(C(t));r.$apply(function(){y(n),M()})}}function k(e){j()||(ee=!0,e.stopPropagation(),l.addClass("dragging"),_(e))}function S(e){ee&&(e.stopPropagation(),_(e))}function N(e){ee&&(e.stopPropagation(),ee=!1)}function _(e){te?O(e.pointer.x):H(e.pointer.x)}function H(e){r.$evalAsync(function(){y(I(D(e)))})}function O(e){var t=I(D(e)),n=w(C(t));A(D(e)),F.text(n)}function D(e){return Math.max(0,Math.min(1,(e-Q.left)/Q.width))}function I(e){return Y+e*(G-Y)}function R(e){return(e-Y)/(G-Y)}a(l),d=d||{$setViewValue:function(e){this.$viewValue=e,this.$viewChangeListeners.forEach(function(e){e()})},$parsers:[],$formatters:[],$viewChangeListeners:[]};var P=u.ngDisabled&&c(u.ngDisabled),j=P?function(){return P(r.$parent)}:t.noop,L=t.element(l[0].querySelector(".md-thumb")),F=t.element(l[0].querySelector(".md-thumb-text")),V=L.parent(),q=t.element(l[0].querySelector(".md-track-container")),B=t.element(l[0].querySelector(".md-track-fill")),U=t.element(l[0].querySelector(".md-track-ticks")),z=o.throttle($,5e3);t.isDefined(u.min)?u.$observe("min",f):f(0),t.isDefined(u.max)?u.$observe("max",p):p(100),t.isDefined(u.step)?u.$observe("step",h):h(1);var W=t.noop;u.ngDisabled&&(W=r.$parent.$watch(u.ngDisabled,g)),s.register(l,"drag"),l.on("keydown",E).on("$md.pressdown",x).on("$md.pressup",T).on("$md.dragstart",k).on("$md.drag",S).on("$md.dragend",N),setTimeout(m);var K=e.throttle(m);t.element(n).on("resize",K),r.$on("$destroy",function(){t.element(n).off("resize",K),W()}),d.$render=M,d.$viewChangeListeners.push(M),d.$formatters.push(w),d.$formatters.push(C);var Y,G,X,Z,J,Q={};$();var ee=!1,te=t.isDefined(u.mdDiscrete)}return{scope:{},require:"?ngModel",template:'<div class="md-slider-wrapper">        <div class="md-track-container">          <div class="md-track"></div>          <div class="md-track md-track-fill"></div>          <div class="md-track-ticks"></div>        </div>        <div class="md-thumb-container">          <div class="md-thumb"></div>          <div class="md-focus-thumb"></div>          <div class="md-focus-ring"></div>          <div class="md-sign">            <span class="md-thumb-text"></span>          </div>          <div class="md-disabled-thumb"></div>        </div>      </div>',compile:l}}t.module("material.components.slider",["material.core"]).directive("mdSlider",e),e.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse"]}(),function(){function e(e,n,r){return{restrict:"E",replace:!0,transclude:!0,template:'<h2 class="md-subheader"><div class="md-subheader-inner"><span class="md-subheader-content"></span></div></h2>',compile:function(o,i,a){return function(o,i,s){function c(e){return t.element(e[0].querySelector(".md-subheader-content"))}r(i);var l=i[0].outerHTML;a(o,function(e){c(i).append(e)}),i.hasClass("md-no-sticky")||a(o,function(r){var a=n(t.element(l))(o);c(a).append(r),e(o,i,a)})}}}}t.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",e),e.$inject=["$mdSticky","$compile","$mdTheming"]}(),function(){function e(e,r,o,i,a){function s(e){function t(e,t){t.addClass("md-sticky-clone"),t.css("top",g+"px");var n={element:e,clone:t};return h.items.push(n),f.parent().prepend(n.clone),p(),function(){h.items.forEach(function(t,n){t.element[0]===e[0]&&(h.items.splice(n,1),t.clone.remove())}),p()}}function o(){h.items.forEach(s),h.items=h.items.sort(function(e,t){return e.top<t.top?-1:1});for(var e,t=f.prop("scrollTop"),n=h.items.length-1;n>=0;n--)if(t>h.items[n].top){e=h.items[n];break}u(e)}function s(e){var t=e.element[0];for(e.top=0,e.left=0;t&&t!==f[0];)e.top+=t.offsetTop,e.left+=t.offsetLeft,t=t.offsetParent;e.height=e.element.prop("offsetHeight"),e.clone.css("margin-left",e.left+"px"),a.floatingScrollbars()&&e.clone.css("margin-right","0")}function c(){var e=f.prop("scrollTop"),t=e>(c.prevScrollTop||0);c.prevScrollTop=e,0===e?u(null):t&&h.next?h.next.top-e<=0?u(h.next):h.current&&(h.next.top-e<=h.next.height?m(h.current,h.next.top-h.next.height-e):m(h.current,null)):!t&&h.current&&(e<h.current.top&&u(h.prev),h.current&&h.next&&(e>=h.next.top-h.current.height?m(h.current,h.next.top-e-h.current.height):m(h.current,null)))}function u(e){if(h.current!==e){h.current&&(m(h.current,null),d(h.current,null)),e&&d(e,"active"),h.current=e;var t=h.items.indexOf(e);h.next=h.items[t+1],h.prev=h.items[t-1],d(h.next,"next"),d(h.prev,"prev")}}function d(e,t){e&&e.state!==t&&(e.state&&(e.clone.attr("sticky-prev-state",e.state),e.element.attr("sticky-prev-state",e.state)),e.clone.attr("sticky-state",t),e.element.attr("sticky-state",t),e.state=t)}function m(e,t){e&&(null===t||t===n?e.translateY&&(e.translateY=null,e.clone.css(r.CSS.TRANSFORM,"")):(e.translateY=t,e.clone.css(r.CSS.TRANSFORM,"translate3d("+e.left+"px,"+t+"px,0)")))}var f=e.$element,p=i.throttle(o);l(f),f.on("$scrollstart",p),f.on("$scroll",c);var h,g=f.prop("offsetTop");return h={prev:null,current:null,next:null,items:[],add:t,refreshElements:o}}function c(n){var r,o=t.element("<div>");e[0].body.appendChild(o[0]);for(var i=["sticky","-webkit-sticky"],a=0;a<i.length;++a)if(o.css({position:i[a],top:0,"z-index":2}),o.css("position")==i[a]){r=i[a];break}return o.remove(),r}function l(e){function t(){+a.now()-r>o?(n=!1,e.triggerHandler("$scrollend")):(e.triggerHandler("$scroll"),i(t))}var n,r,o=200;e.on("scroll touchmove",function(){n||(n=!0,i(t),e.triggerHandler("$scrollstart")),e.triggerHandler("$scroll"),r=+a.now()})}var u=c();return function(e,t,n){var r=t.controller("mdContent");if(r)if(u)t.css({position:u,top:0,"z-index":2});else{var o=r.$element.data("$$sticky");o||(o=s(r),r.$element.data("$$sticky",o));var i=o.add(t,n||t.clone());e.$on("$destroy",i)}}}t.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",e),e.$inject=["$document","$mdConstant","$compile","$$rAF","$mdUtil"]}(),function(){function e(e){function t(e){function t(t,o,i){var a=e(i[n]);o.on(r,function(e){t.$apply(function(){a(t,{$event:e})})})}return{restrict:"A",link:t}}var n="md"+e,r="$md."+e.toLowerCase();return t.$inject=["$parse"],t}t.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",e("SwipeLeft")).directive("mdSwipeRight",e("SwipeRight"))}(),function(){function e(e,n,r,o,i,a,s,c){function l(e,n){var o=u.compile(e,n);return e.addClass("md-dragging"),function(e,n,l,u){function d(t){h(e)||(t.stopPropagation(),n.addClass("md-dragging"),$={width:g.prop("offsetWidth")},n.removeClass("transition"))}function m(e){if($){e.stopPropagation(),e.srcEvent&&e.srcEvent.preventDefault();var t=e.pointer.distanceX/$.width,n=u.$viewValue?1+t:t;n=Math.max(0,Math.min(1,n)),g.css(i.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),$.translate=n}}function f(e){if($){e.stopPropagation(),n.removeClass("md-dragging"),g.css(i.CSS.TRANSFORM,"");var t=u.$viewValue?$.translate<.5:$.translate>.5;t&&p(!u.$viewValue),$=null}}function p(t){e.$apply(function(){u.$setViewValue(t),u.$render()})}u=u||r.fakeNgModel();var h=a(l.ngDisabled),g=t.element(n[0].querySelector(".md-thumb-container")),v=t.element(n[0].querySelector(".md-container"));s(function(){n.removeClass("md-dragging")}),o(e,n,l,u),t.isDefined(l.ngDisabled)&&e.$watch(h,function(e){n.attr("tabindex",e?-1:0)}),c.register(v,"drag"),v.on("$md.dragstart",d).on("$md.drag",m).on("$md.dragend",f);var $}}var u=e[0];return{restrict:"E",priority:210,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:"?ngModel",compile:l}}t.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",e),e.$inject=["mdCheckboxDirective","$mdTheming","$mdUtil","$document","$mdConstant","$parse","$$rAF","$mdGesture"]}(),function(){t.module("material.components.tabs",["material.core","material.components.icon"])}(),function(){function e(){return{restrict:"E"}}function n(e){function t(e,t,r,o){function i(i,a,c){return a=o.extractElementByName(a,"md-toast"),n=c.content,a.addClass(c.position.split(" ").map(function(e){return"md-"+e}).join(" ")),c.parent.addClass(s(c.position)),c.onSwipe=function(t,n){a.addClass("md-"+t.type.replace("$md.","")),e(r.cancel)},a.on("$md.swipeleft $md.swiperight",c.onSwipe),t.enter(a,c.parent)}function a(e,n,r){return n.off("$md.swipeleft $md.swiperight",r.onSwipe),r.parent.removeClass(s(r.position)),t.leave(n)}function s(e){return"md-toast-open-"+(e.indexOf("top")>-1?"top":"bottom")}return{onShow:i,onRemove:a,position:"bottom left",themable:!0,hideDelay:3e3}}var n,r=e("$mdToast").setDefaults({methods:["position","hideDelay","capsule"],options:t}).addPreset("simple",{argOption:"content",methods:["content","action","highlightAction","theme","parent"],options:["$mdToast","$mdTheming",function(e,t){var r={template:['<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">',"<span flex>{{ toast.content }}</span>",'<md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()" ng-class="{\'md-highlight\': toast.highlightAction}">',"{{ toast.action }}","</md-button>","</md-toast>"].join(""),controller:["$scope",function(t){var r=this;t.$watch(function(){return n},function(){r.content=n}),this.resolve=function(){e.hide()}}],theme:t.defaultTheme(),controllerAs:"toast",bindToController:!0};return r}]}).addMethod("updateContent",function(e){n=e});return t.$inject=["$timeout","$animate","$mdToast","$mdUtil"],r}t.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",e).provider("$mdToast",n),n.$inject=["$$interimElementProvider"]}(),function(){function e(e,n,r,o,i,a){return{restrict:"E",controller:t.noop,link:function(s,c,l){function u(){function t(t,n){c.parent()[0]===n.parent()[0]&&(m&&m.off("scroll",g),n.on("scroll",g),n.attr("scroll-shrink","true"),m=n,e(o))}function o(){d=c.prop("offsetHeight");var e=-d*h+"px";m.css("margin-top",e),m.css("margin-bottom",e),u()}function u(e){var t=e?e.target.scrollTop:p;v(),f=Math.min(d/h,Math.max(0,f+t-p)),c.css(n.CSS.TRANSFORM,"translate3d(0,"+-f*h+"px,0)"),m.css(n.CSS.TRANSFORM,"translate3d(0,"+(d-f)*h+"px,0)"),p=t,c.hasClass("md-whiteframe-z1")?f||a(function(){i.removeClass(c,"md-whiteframe-z1")}):f&&a(function(){i.addClass(c,"md-whiteframe-z1")})}var d,m,f=0,p=0,h=l.mdShrinkSpeedFactor||.5,g=e.throttle(u),v=r.debounce(o,5e3);s.$on("$mdContentLoaded",t)}o(c),t.isDefined(l.mdScrollShrink)&&u()}}}t.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",e),e.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate","$timeout"]}(),function(){function e(e,n,r,o,i,a,s,c,l){function u(u,f,p){function h(){g(),b(),w(),v(),$()}function g(){t.isDefined(p.mdDelay)||(u.delay=d)}function v(){u.$on("$destroy",function(){u.visible=!1,f.remove(),t.element(n).off("resize",D)}),u.$watch("visible",function(e){e?A():x()})}function $(){k.attr("aria-label")||k.text().trim()||k.attr("aria-label",f.text().trim())}function b(){f.detach(),f.attr("role","tooltip")}function E(){for(var e=f.parent();e&&"none"==n.getComputedStyle(e[0])["pointer-events"];)e=e.parent();return e}function y(){for(var e=f.parent()[0];e&&e!==s[0]&&e!==document.body;)e=e.parentNode;return e}function M(e,r){var o=n.getComputedStyle(f[0]);return t.isDefined(o[e])&&o[e]==r}function w(){var e=!1,r=function(){M("pointer-events","none")||C(!0)},i=function(){var t=u.hasOwnProperty("autohide")?u.autohide:p.hasOwnProperty("mdAutohide");(t||e||o[0].activeElement!==k[0])&&C(!1),e=!1};k.on("mousedown",function(){e=!0}),k.on("focus mouseenter touchstart",r),k.on("blur mouseleave touchend touchcancel",i),t.element(n).on("resize",D)}function C(t){C.value=!!t,C.queued||(t?(C.queued=!0,e(function(){u.visible=C.value,C.queued=!1},u.delay)):e(function(){u.visible=!1}))}function A(){return O.append(f),M("display","none")?(u.visible=!1,void f.detach()):(T(),void t.forEach([f,S,N],function(e){c.addClass(e,"md-show")}))}function x(){l.all([c.removeClass(N,"md-show"),c.removeClass(S,"md-show"),c.removeClass(f,"md-show")]).then(function(){u.visible||f.detach()})}function T(){function e(){var e="left"===_||"right"===_?2*Math.sqrt(Math.pow(r.width,2)+Math.pow(r.height/2,2)):2*Math.sqrt(Math.pow(r.width/2,2)+Math.pow(r.height,2)),t="left"===_?{left:100,top:50}:"right"===_?{left:0,top:50}:"top"===_?{left:50,top:100}:{left:50,top:0};S.css({width:e+"px",height:e+"px",left:t.left+"%",top:t.top+"%"})}function t(e){var t={left:e.left,top:e.top};return t.left=Math.min(t.left,O.prop("scrollWidth")-r.width-m),t.left=Math.max(t.left,m),t.top=Math.min(t.top,O.prop("scrollHeight")-r.height-m),t.top=Math.max(t.top,m),t}function n(e){return"left"===e?{left:o.left-r.width-m,top:o.top+o.height/2-r.height/2}:"right"===e?{left:o.left+o.width+m,top:o.top+o.height/2-r.height/2}:"top"===e?{left:o.left+o.width/2-r.width/2,top:o.top-r.height-m}:{left:o.left+o.width/2-r.width/2,top:o.top+o.height+m}}var r=i.offsetRect(f,O),o=i.offsetRect(k,O),a=n(_);_?a=t(a):a.top>f.prop("offsetParent").scrollHeight-r.height-m&&(a=t(n("top"))),f.css({top:a.top+"px",left:a.left+"px"}),e()}a(f);var k=E(),S=t.element(f[0].getElementsByClassName("md-background")[0]),N=t.element(f[0].getElementsByClassName("md-content")[0]),_=p.mdDirection,H=y(),O=t.element(H||document.body),D=r.throttle(function(){u.visible&&T()});return h()}var d=300,m=8;return{restrict:"E",transclude:!0,priority:210,template:'        <div class="md-background"></div>        <div class="md-content" ng-transclude></div>',scope:{visible:"=?mdVisible",delay:"=?mdDelay",autohide:"=?mdAutohide"},link:u}}t.module("material.components.tooltip",["material.core"]).directive("mdTooltip",e),e.$inject=["$timeout","$window","$$rAF","$document","$mdUtil","$mdTheming","$rootElement","$animate","$q"]}(),function(){t.module("material.components.whiteframe",[])}(),function(){function e(e,n,i,a,s,c,l,u,d,m){function f(){i.initOptionalProperties(e,m,{searchText:null,selectedItem:null}),c(n),v(),s(function(){b(),g(),h()})}function p(){function e(){var e=J.ul.getBoundingClientRect(),n={};e.right>i.right-o&&(n.left=t.right-e.width+"px"),J.$.ul.css(n)}if(!J)return s(p,0,!1);var t=J.wrap.getBoundingClientRect(),n=J.snap.getBoundingClientRect(),i=J.root.getBoundingClientRect(),a=n.bottom-i.top,c=i.bottom-n.top,l=t.left-i.left,u=t.width,d={left:l+"px",minWidth:u+"px",maxWidth:Math.max(t.right-i.left,i.right-t.left)-o+"px"};a>c&&i.height-t.bottom-o<r?(d.top="auto",d.bottom=c+"px",d.maxHeight=Math.min(r,t.top-i.top-o)+"px"):(d.top=a+"px",d.bottom="auto",d.maxHeight=Math.min(r,i.bottom-t.bottom-o)+"px"),J.$.ul.css(d),s(e,0,!1)}function h(){J.$.root.length&&(c(J.$.ul),J.$.ul.detach(),J.$.root.append(J.$.ul),u.pin&&u.pin(J.$.ul,d))}function g(){e.autofocus&&J.input.focus()}function v(){var n=parseInt(e.delay,10)||0;m.$observe("disabled",function(e){G.isDisabled=e}),m.$observe("required",function(e){G.isRequired=null!==e}),e.$watch("searchText",n?i.debounce(N,n):N),k(x),e.$watch("selectedItem",T),t.element(l).on("resize",p),e.$on("$destroy",$)}function $(){t.element(l).off("resize",p),J.$.ul.remove()}function b(){J={main:n[0],ul:n.find("ul")[0],input:n.find("input")[0],wrap:n.find("md-autocomplete-wrap")[0],root:document.body},J.li=J.ul.getElementsByTagName("li"),J.snap=E(),J.$=y(J)}function E(){for(var e=n;e.length;e=e.parent())if(t.isDefined(e.attr("md-autocomplete-snap")))return e[0];return J.wrap}function y(e){var n={};for(var r in e)n[r]=t.element(e[r]);return n}function M(e,t){!e&&t&&p(),e?i.enableScrolling():J&&s(function(){i.disableScrollAround(J.ul)},0,!1)}function w(){te=!0}function C(){te=!1,re||(G.hidden=!0)}function A(){J.input.focus()}function x(t,n){t&&(e.searchText=I(t)),e.itemChange&&t!==n&&e.itemChange(R(t))}function T(e,t){for(var n=0;n<ne.length;++n)ne[n](e,t)}function k(e){-1==ne.indexOf(e)&&ne.push(e)}function S(e){var t=ne.indexOf(e);-1!=t&&ne.splice(t,1)}function N(t,n){G.index=P(),t!==n&&t!==I(e.selectedItem)&&(e.selectedItem=null,e.textChange&&t!==n&&e.textChange(R(e.selectedItem)),F()?Y():(G.loading=!1,G.matches=[],G.hidden=j(),z()))}function _(){re=!1,te||(G.hidden=!0)}function H(){re=!0,t.isString(e.searchText)||(e.searchText=""),e.minLength>0||(G.hidden=j(),G.hidden||Y())}function O(e){switch(e.keyCode){case a.KEY_CODE.DOWN_ARROW:if(G.loading)return;e.preventDefault(),G.index=Math.min(G.index+1,G.matches.length-1),K(),z();break;case a.KEY_CODE.UP_ARROW:if(G.loading)return;e.preventDefault(),G.index=G.index<0?G.matches.length-1:Math.max(0,G.index-1),K(),z();break;case a.KEY_CODE.TAB:case a.KEY_CODE.ENTER:if(G.hidden||G.loading||G.index<0||G.matches.length<1)return;e.preventDefault(),q(G.index);break;case a.KEY_CODE.ESCAPE:G.matches=[],G.hidden=!0,G.index=P()}}function D(){return t.isNumber(e.minLength)?e.minLength:1}function I(t){return t&&e.itemText?e.itemText(R(t)):t}function R(e){if(e){var t={};return G.itemName&&(t[G.itemName]=e),t}}function P(){return e.autoselect?0:-1}function j(){return F()?void 0:!0}function L(){return I(G.matches[G.index])}function F(){return t.isDefined(e.searchText)&&e.searchText.length>=D()}function V(e,t,n){Object.defineProperty(G,e,{get:function(){return n},set:function(e){var r=n;n=e,t(e,r)}})}function q(t){e.selectedItem=G.matches[t],G.hidden=!0,G.index=0,G.matches=[],s(function(){J.$.input.controller("ngModel").$setViewValue(I(e.selectedItem)||e.searchText),G.hidden=!0})}function B(){e.searchText="",q(-1);var t=document.createEvent("CustomEvent");t.initCustomEvent("input",!0,!0,{value:e.searchText}),J.input.dispatchEvent(t),J.input.focus()}function U(n){function r(t){ee[i]=t,n===e.searchText&&(G.loading=!1,Q=null,G.matches=t,G.hidden=j(),z(),p())}var o=e.$parent.$eval(Z),i=n.toLowerCase();t.isArray(o)?r(o):o&&(G.loading=!0,o.success&&o.success(r),o.then&&o.then(r),o.error&&o.error(function(){G.loading=!1}))}function z(){G.messages=[W(),L()]}function W(){if(oe===G.matches.length)return"";switch(oe=G.matches.length,G.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+G.matches.length+" matches available."}}function K(){if(J.li[G.index]){var e=J.li[G.index],t=e.offsetTop,n=t+e.offsetHeight,r=J.ul.clientHeight;t<J.ul.scrollTop?J.ul.scrollTop=t:n>J.ul.scrollTop+r&&(J.ul.scrollTop=n-r)}}function Y(){var t=e.searchText,n=t.toLowerCase();Q&&Q.cancel&&(Q.cancel(),Q=null),!e.noCache&&ee[n]?(G.matches=ee[n],z()):U(t),re&&(G.hidden=j())}var G=this,X=e.itemsExpr.split(/ in /i),Z=X[1],J=null,Q=null,ee={},te=!1,ne=[],re=!1,oe=0;return V("hidden",M,!0),G.scope=e,G.parent=e.$parent,G.itemName=X[0],G.matches=[],G.loading=!1,G.hidden=!0,G.index=null,G.messages=[],G.id=i.nextUid(),G.isDisabled=null,G.isRequired=null,G.keydown=O,G.blur=_,G.focus=H,G.clear=B,G.select=q,G.listEnter=w,G.listLeave=C,G.mouseUp=A,G.getCurrentDisplayValue=L,G.registerSelectedItemWatcher=k,G.unregisterSelectedItemWatcher=S,f()}t.module("material.components.autocomplete").controller("MdAutocompleteCtrl",e);var n=41,r=5.5*n,o=8;e.$inject=["$scope","$element","$mdUtil","$mdConstant","$timeout","$mdTheming","$window","$animate","$rootElement","$attrs"]}(),function(){function e(e,t){return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",noCache:"=?mdNoCache",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass"},template:function(e,t){function n(){var t=e.find("md-item-template").remove(),n=t.length?t.html():e.html();return t.length||e.empty(),n}function r(){var t=e.find("md-not-found").remove(),n=t.length?t.html():"";return n?'<li ng-if="!$mdAutocompleteCtrl.matches.length && !$mdAutocompleteCtrl.loading                         && !$mdAutocompleteCtrl.hidden"                         ng-hide="$mdAutocompleteCtrl.hidden"                         md-autocomplete-parent-scope>'+n+"</li>":""}function o(){return t.mdFloatingLabel?'            <md-input-container flex ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="search"                  id="fl-input-{{$mdAutocompleteCtrl.id}}"                  name="{{inputName}}"                  autocomplete="off"                  ng-required="isRequired"                  ng-minlength="inputMinlength"                  ng-maxlength="inputMaxlength"                  ng-disabled="$mdAutocompleteCtrl.isDisabled"                  ng-model="$mdAutocompleteCtrl.scope.searchText"                  ng-keydown="$mdAutocompleteCtrl.keydown($event)"                  ng-blur="$mdAutocompleteCtrl.blur()"                  ng-focus="$mdAutocompleteCtrl.focus()"                  aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                  aria-label="{{floatingLabel}}"                  aria-autocomplete="list"                  aria-haspopup="true"                  aria-activedescendant=""                  aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>              <div md-autocomplete-parent-scope md-autocomplete-replace>'+s+"</div>            </md-input-container>":'            <input flex type="search"                id="input-{{$mdAutocompleteCtrl.id}}"                name="{{inputName}}"                ng-if="!floatingLabel"                autocomplete="off"                ng-required="isRequired"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur()"                ng-focus="$mdAutocompleteCtrl.focus()"                placeholder="{{placeholder}}"                aria-owns="ul-{{$mdAutocompleteCtrl.id}}"                aria-label="{{placeholder}}"                aria-autocomplete="list"                aria-haspopup="true"                aria-activedescendant=""                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"/>            <button                type="button"                tabindex="-1"                ng-if="$mdAutocompleteCtrl.scope.searchText && !$mdAutocompleteCtrl.isDisabled"                ng-click="$mdAutocompleteCtrl.clear()">              <md-icon md-svg-icon="md-close"></md-icon>              <span class="md-visually-hidden">Clear</span>            </button>                '}var i=r(),a=n(),s=e.html();return'        <md-autocomplete-wrap            layout="row"            ng-class="{ \'md-whiteframe-z1\': !floatingLabel }"            role="listbox">          '+o()+'          <md-progress-linear              ng-if="$mdAutocompleteCtrl.loading"              md-mode="indeterminate"></md-progress-linear>          <ul role="presentation"              class="md-autocomplete-suggestions md-whiteframe-z1 {{menuClass || \'\'}}"              id="ul-{{$mdAutocompleteCtrl.id}}"              ng-hide="$mdAutocompleteCtrl.hidden"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              ng-mouseup="$mdAutocompleteCtrl.mouseUp()">            <li ng-repeat="(index, item) in $mdAutocompleteCtrl.matches"                ng-class="{ selected: index === $mdAutocompleteCtrl.index }"                ng-click="$mdAutocompleteCtrl.select(index)"                md-autocomplete-list-item="$mdAutocompleteCtrl.itemName">                '+a+"            </li>            "+i+'          </ul>        </md-autocomplete-wrap>        <aria-status            class="md-visually-hidden"            role="status"            aria-live="assertive">          <p ng-repeat="message in $mdAutocompleteCtrl.messages" ng-if="message">{{message}}</p>        </aria-status>';

}}}t.module("material.components.autocomplete").directive("mdAutocomplete",e),e.$inject=["$mdTheming","$mdUtil"]}(),function(){function e(e,n,r){function o(o){var i=r(n.html())(e),s=t.element("<div>").text(i).html(),c=n.attr("md-highlight-flags")||"",l=e.$watch(o,function(e){var t=a(e,c),r=s.replace(t,'<span class="highlight">$&</span>');n.html(r)});n.on("$destroy",function(){l()})}function i(e){return e?e.replace(/[\\\^\$\*\+\?\.\(\)\|\{\}\[\]]/g,"\\$&"):e}function a(e,t){var n="";return t.indexOf("^")>=1&&(n+="^"),n+=e,t.indexOf("$")>=1&&(n+="$"),new RegExp(i(n),t.replace(/[\$\^]/g,""))}return this.init=o,o()}t.module("material.components.autocomplete").controller("MdHighlightCtrl",e),e.$inject=["$scope","$element","$interpolate"]}(),function(){function e(){return{terminal:!0,scope:!1,controller:"MdHighlightCtrl",link:function(e,t,n,r){r.init(n.mdHighlightText)}}}t.module("material.components.autocomplete").directive("mdHighlightText",e)}(),function(){function e(e,t){function n(n,r,o){var i=n.$parent.$mdAutocompleteCtrl,a=i.parent.$new(!1,i.parent),s=i.scope.$eval(o.mdAutocompleteListItem);a[s]=n.item,e(r.contents())(a),r.attr({role:"option",id:"item_"+t.nextUid()})}return{terminal:!0,link:n,scope:!1}}t.module("material.components.autocomplete").directive("mdAutocompleteListItem",e),e.$inject=["$compile","$mdUtil"]}(),function(){function e(e,t){function n(t,n,r){var o=t.$parent.$mdAutocompleteCtrl;e(n.contents())(o.parent),r.hasOwnProperty("mdAutocompleteReplace")&&(n.after(n.contents()),n.remove())}return{restrict:"A",terminal:!0,link:n,scope:!1}}t.module("material.components.autocomplete").directive("mdAutocompleteParentScope",e),e.$inject=["$compile","$mdUtil"]}(),function(){function e(e){function r(r,o){return r.append(n),function(n,r,o,i){r.addClass("md-chip"),e(r),i&&t.element(r[0].querySelector(".md-chip-content")).on("blur",function(){i.selectedChip=-1})}}return{restrict:"E",require:"^?mdChips",compile:r}}t.module("material.components.chips").directive("mdChip",e);var n='    <span ng-if="!$mdChipsCtrl.readonly" class="md-visually-hidden">      {{$mdChipsCtrl.deleteHint}}    </span>';e.$inject=["$mdTheming"]}(),function(){function e(e){function t(t,n,r,o){n.on("click",function(e){t.$apply(function(){o.removeChip(t.$$replacedScope.$index)})}),e(function(){n.attr({tabindex:-1,ariaHidden:!0}),n.find("button").attr("tabindex","-1")})}return{restrict:"A",require:"^mdChips",scope:!1,link:t}}t.module("material.components.chips").directive("mdChipRemove",e),e.$inject=["$timeout"]}(),function(){function e(e,t){function n(t,n,r){var o=t.$parent.$mdChipsCtrl,i=o.parent.$new(!1,o.parent);i.$$replacedScope=t,i.$chip=t.$chip,i.$mdChipsCtrl=o,n.html(o.$scope.$eval(r.mdChipTransclude)),e(n.contents())(i)}return{restrict:"EA",terminal:!0,link:n,scope:!1}}t.module("material.components.chips").directive("mdChipTransclude",e),e.$inject=["$compile","$mdUtil"]}(),function(){function e(e,t,n,r,o){this.$timeout=o,this.$mdConstant=t,this.$scope=e,this.parent=e.$parent,this.$log=n,this.$element=r,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useMdOnAppend=!1}t.module("material.components.chips").controller("MdChipsCtrl",e),e.$inject=["$scope","$mdConstant","$log","$element","$timeout"],e.prototype.inputKeydown=function(e){var t=this.getChipBuffer();switch(e.keyCode){case this.$mdConstant.KEY_CODE.ENTER:if(this.$scope.requireMatch||!t)break;e.preventDefault(),this.appendChip(t),this.resetChipBuffer();break;case this.$mdConstant.KEY_CODE.BACKSPACE:if(t)break;e.stopPropagation(),this.items.length&&this.selectAndFocusChipSafe(this.items.length-1)}},e.prototype.chipKeydown=function(e){if(!this.getChipBuffer())switch(e.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;e.preventDefault(),this.removeAndSelectAdjacentChip(this.selectedChip);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:e.preventDefault(),this.selectedChip<0&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:e.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;e.preventDefault(),this.onFocus()}},e.prototype.getPlaceholder=function(){var e=this.items.length&&(""==this.secondaryPlaceholder||this.secondaryPlaceholder);return e?this.placeholder:this.secondaryPlaceholder},e.prototype.removeAndSelectAdjacentChip=function(e){var n=this.getAdjacentChipIndex(e);this.removeChip(e),this.$timeout(t.bind(this,function(){this.selectAndFocusChipSafe(n)}))},e.prototype.resetSelectedChip=function(){this.selectedChip=-1},e.prototype.getAdjacentChipIndex=function(e){var t=this.items.length-1;return 0==t?-1:e==t?e-1:e},e.prototype.appendChip=function(e){this.items.indexOf(e)+1||(this.useMdOnAppend&&this.mdOnAppend&&(e=this.mdOnAppend({$chip:e})),this.items.push(e))},e.prototype.useMdOnAppendExpression=function(){this.useMdOnAppend=!0},e.prototype.getChipBuffer=function(){return this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer},e.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},e.prototype.removeChip=function(e){this.items.splice(e,1)},e.prototype.removeChipAndFocusInput=function(e){this.removeChip(e),this.onFocus()},e.prototype.selectAndFocusChipSafe=function(e){return this.items.length?e===this.items.length?this.onFocus():(e=Math.max(e,0),e=Math.min(e,this.items.length-1),this.selectChip(e),void this.focusChip(e)):(this.selectChip(-1),void this.onFocus())},e.prototype.selectChip=function(e){e>=-1&&e<=this.items.length?this.selectedChip=e:this.$log.warn("Selected Chip index out of bounds; ignoring.")},e.prototype.selectAndFocusChip=function(e){this.selectChip(e),-1!=e&&this.focusChip(e)},e.prototype.focusChip=function(e){this.$element[0].querySelector('md-chip[index="'+e+'"] .md-chip-content').focus()},e.prototype.configureNgModel=function(e){this.ngModelCtrl=e;var t=this;e.$render=function(){t.items=t.ngModelCtrl.$viewValue}},e.prototype.onFocus=function(){var e=this.$element[0].querySelector("input");e&&e.focus(),this.resetSelectedChip()},e.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.resetSelectedChip()},e.prototype.onInputBlur=function(){this.inputHasFocus=!1},e.prototype.configureUserInput=function(e){this.userInputElement=e;var n=e.controller("ngModel");n!=this.ngModelCtrl&&(this.userInputNgModelCtrl=n);var r=this.$scope,o=this;e.attr({tabindex:0}).on("keydown",function(e){r.$apply(t.bind(o,function(){o.inputKeydown(e)}))}).on("focus",t.bind(o,o.onInputFocus)).on("blur",t.bind(o,o.onInputBlur))},e.prototype.configureAutocomplete=function(e){e.registerSelectedItemWatcher(t.bind(this,function(e){e&&(this.appendChip(e),this.resetChipBuffer())})),this.$element.find("input").on("focus",t.bind(this,this.onInputFocus)).on("blur",t.bind(this,this.onInputBlur))},e.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0}}(),function(){function e(e,t,a,s,c){function l(n,l){function u(e){if(l.ngModel){var t=d[0].querySelector(e);return t&&t.outerHTML}}var d=l.$mdUserTemplate;l.$mdUserTemplate=null;var m=u("md-chips>*[md-chip-remove]")||i,f=u("md-chips>md-chip-template")||o,p=u("md-chips>md-autocomplete")||u("md-chips>input")||r,h=d.find("md-chip");return d[0].querySelector("md-chip-template>*[md-chip-remove]")&&s.warn("invalid placement of md-chip-remove within md-chip-template."),function(n,o,i,s){t.initOptionalProperties(n,l),e(o);var u=s[0];if(u.chipContentsTemplate=f,u.chipRemoveTemplate=m,u.chipInputTemplate=p,o.attr({ariaHidden:!0,tabindex:-1}).on("focus",function(){u.onFocus()}),l.ngModel&&(u.configureNgModel(o.controller("ngModel")),i.mdOnAppend&&u.useMdOnAppendExpression(),p!=r&&c(function(){0===p.indexOf("<md-autocomplete")&&u.configureAutocomplete(o.find("md-autocomplete").controller("mdAutocomplete")),u.configureUserInput(o.find("input"))})),h.length>0){var d=a(h)(n.$parent);c(function(){o.find("md-chips-wrap").prepend(d)})}}}return{template:function(e,t){t.$mdUserTemplate=e.clone();return n},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:l,scope:{readonly:"=readonly",placeholder:"@",secondaryPlaceholder:"@",mdOnAppend:"&",deleteHint:"@",deleteButtonLabel:"@",requireMatch:"=?mdRequireMatch"}}}t.module("material.components.chips").directive("mdChips",e);var n='      <md-chips-wrap          ng-if="!$mdChipsCtrl.readonly || $mdChipsCtrl.items.length > 0"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus() }"          class="md-chips">        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"            ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index}">          <div class="md-chip-content"              tabindex="-1"              aria-hidden="true"              ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div class="md-chip-remove-container"              md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl"            class="md-chip-input-container"            md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',r='        <input            tabindex="0"            placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            aria-label="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',o="      <span>{{$chip}}</span>",i='      <button          class="md-chip-remove"          ng-if="!$mdChipsCtrl.readonly"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index)"          type="button"          aria-hidden="true"          tabindex="-1">        <md-icon md-svg-icon="md-close"></md-icon>        <span class="md-visually-hidden">          {{$mdChipsCtrl.deleteButtonLabel}}        </span>      </button>';e.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout"]}(),function(){function e(){this.selectedItem=null,this.searchText=""}t.module("material.components.chips").controller("MdContactChipsCtrl",e),e.prototype.queryContact=function(e){var n=this.contactQuery({$query:e});return this.filterSelected?n.filter(t.bind(this,this.filterSelectedContacts)):n},e.prototype.filterSelectedContacts=function(e){return-1==this.contacts.indexOf(e)}}(),function(){function e(e,t){function r(n,r){return function(n,o,i,a){t.initOptionalProperties(n,r),e(o),o.attr("tabindex","-1")}}return{template:function(e,t){return n},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:r,scope:{contactQuery:"&mdContacts",placeholder:"@",secondaryPlaceholder:"@",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",requireMatch:"=?mdRequireMatch"}}}t.module("material.components.chips").directive("mdContactChips",e);var n='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.mdContactName"              md-no-cache="true"              md-autoselect              placeholder="{{$mdContactChipsCtrl.contacts.length == 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>';e.$inject=["$mdTheming","$mdUtil"]}(),function(){function e(){function e(e,n,r,o){if(o){var i=n.parent()[0].getElementsByTagName("md-tab"),a=Array.prototype.indexOf.call(i,n[0]),s=n.find("md-tab-body").eq(0).remove(),c=n.find("md-tab-label").eq(0).remove(),l=o.insertTab({scope:e,parent:e.$parent,index:a,element:n,template:s.html(),label:c.html()},a);e.select=e.select||t.noop,e.deselect=e.deselect||t.noop,e.$watch("active",function(e){e&&o.select(l.getIndex())}),e.$watch("disabled",function(){o.refreshIndex()}),e.$watch(function(){return Array.prototype.indexOf.call(i,n[0])},function(e){l.index=e,o.updateTabOrder()}),e.$on("$destroy",function(){o.removeTab(l)})}}return{require:"^?mdTabs",terminal:!0,template:function(e,t){function n(){function n(){return t.label}function r(){var t=e.find("md-tab-label").eq(0);return t.length?t.remove().html():void 0}function o(){var t=e.html();return e.empty(),t}return r()||n()||o()}function r(){var n=e.find("md-tab-body").eq(0),r=n.length?n.html():t.label?e.html():"";return n.length?n.remove():t.label&&e.empty(),r}var o=n(),i=r();return"<md-tab-label>"+o+"</md-tab-label><md-tab-body>"+i+"</md-tab-body>"},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect"},link:e}}t.module("material.components.tabs").directive("mdTab",e)}(),function(){function e(){return{require:"^?mdTabs",link:function(e,t,n,r){r&&r.attachRipple(e,t)}}}t.module("material.components.tabs").directive("mdTabItem",e)}(),function(){function e(){return{terminal:!0}}t.module("material.components.tabs").directive("mdTabLabel",e)}(),function(){function e(e){return{restrict:"A",compile:function(t,n){var r=e(n.mdTabScroll,null,!0);return function(e,t){t.on("mousewheel",function(t){e.$apply(function(){r(e,{$event:t})})})}}}}t.module("material.components.tabs").directive("mdTabScroll",e),e.$inject=["$parse"]}(),function(){function e(e,n,r,o,i,a,s,c,l,u,d){function m(){e.selectedIndex=e.selectedIndex||0,f(),h(),p(),d(n),o(function(){W(),q(),j(),Z.tabs[e.selectedIndex]&&Z.tabs[e.selectedIndex].scope.select(),ne=!0})}function f(){var e=l.$mdTabsTemplate,n=t.element(Q.data);n.html(e),u(n.contents())(Z.parent),delete l.$mdTabsTemplate}function p(){t.element(r).on("resize",T),t.element(Q.paging).on("DOMSubtreeModified",Z.updateInkBarStyles),t.element(Q.paging).on("DOMSubtreeModified",j)}function h(){s.initOptionalProperties(e,l),l.$observe("mdNoBar",function(n){e.noInkBar=t.isDefined(n)}),e.$watch("selectedIndex",E),e.$watch("dynamicHeight",function(e){e?n.addClass("md-dynamic-height"):n.removeClass("md-dynamic-height")}),e.$on("$destroy",g)}function g(){te=!0,t.element(r).off("resize",T),t.element(Q.paging).off("DOMSubtreeModified",Z.updateInkBarStyles),t.element(Q.paging).off("DOMSubtreeModified",j)}function v(e){n[e?"removeClass":"addClass"]("md-no-tab-content")}function $(n){var r=Z.shouldCenterTabs?"":"-"+n+"px";t.element(Q.paging).css(i.CSS.TRANSFORM,"translate3d("+r+", 0, 0)"),e.$broadcast("$mdTabsPaginationChanged")}function b(e,t){e!==t&&Q.tabs[e]&&(q(),V())}function E(t,n){t!==n&&(e.selectedIndex=R(t),Z.lastSelectedIndex=n,Z.updateInkBarStyles(),W(),q(t),e.$broadcast("$mdTabsChanged"),Z.tabs[n]&&Z.tabs[n].scope.deselect(),Z.tabs[t]&&Z.tabs[t].scope.select())}function y(){y.watcher||(y.watcher=e.$watch(function(){o(function(){y.watcher&&n.prop("offsetParent")&&(y.watcher(),y.watcher=null,T())},0,!1)}))}function M(t){switch(t.keyCode){case i.KEY_CODE.LEFT_ARROW:t.preventDefault(),F(-1,!0);break;case i.KEY_CODE.RIGHT_ARROW:t.preventDefault(),F(1,!0);break;case i.KEY_CODE.SPACE:case i.KEY_CODE.ENTER:t.preventDefault(),J||(e.selectedIndex=Z.focusIndex)}Z.lastClick=!1}function w(t){J||(Z.focusIndex=e.selectedIndex=t),Z.lastClick=!0,Z.tabs[t].element.triggerHandler("click")}function C(e){Z.shouldPaginate&&(e.preventDefault(),Z.offsetLeft=G(Z.offsetLeft-e.wheelDelta))}function A(){var e,t,n=Q.canvas.clientWidth,r=n+Z.offsetLeft;for(e=0;e<Q.tabs.length&&(t=Q.tabs[e],!(t.offsetLeft+t.offsetWidth>r));e++);Z.offsetLeft=G(t.offsetLeft)}function x(){var e,t;for(e=0;e<Q.tabs.length&&(t=Q.tabs[e],!(t.offsetLeft+t.offsetWidth>=Z.offsetLeft));e++);Z.offsetLeft=G(t.offsetLeft+t.offsetWidth-Q.canvas.clientWidth)}function T(){e.$apply(function(){Z.lastSelectedIndex=e.selectedIndex,Z.offsetLeft=G(Z.offsetLeft),o(Z.updateInkBarStyles,0,!1),o(j)})}function k(t){var n=e.selectedIndex,r=Z.tabs.splice(t.getIndex(),1)[0];z(),e.selectedIndex!==n||te||(r.scope.deselect(),Z.tabs[e.selectedIndex]&&Z.tabs[e.selectedIndex].scope.select()),o(function(){j(),Z.offsetLeft=G(Z.offsetLeft)})}function S(n,r){var i={getIndex:function(){return Z.tabs.indexOf(a)},isActive:function(){return this.getIndex()===e.selectedIndex},isLeft:function(){return this.getIndex()<e.selectedIndex},isRight:function(){return this.getIndex()>e.selectedIndex},shouldRender:function(){return!e.noDisconnect||this.isActive()},hasFocus:function(){return!Z.lastClick&&Z.hasFocus&&this.getIndex()===Z.focusIndex},id:s.nextUid()},a=t.extend(i,n);return t.isDefined(r)?Z.tabs.splice(r,0,a):Z.tabs.push(a),B(),U(),ne&&e.autoselect&&o(function(){w(Z.tabs.indexOf(a))}),o(j),a}function N(){var e={};return e.wrapper=n[0].getElementsByTagName("md-tabs-wrapper")[0],e.data=n[0].getElementsByTagName("md-tab-data")[0],e.canvas=e.wrapper.getElementsByTagName("md-tabs-canvas")[0],e.paging=e.canvas.getElementsByTagName("md-pagination-wrapper")[0],e.tabs=e.paging.getElementsByTagName("md-tab-item"),e.dummies=e.canvas.getElementsByTagName("md-dummy-tab"),e.inkBar=e.paging.getElementsByTagName("md-ink-bar")[0],e.contentsWrapper=n[0].getElementsByTagName("md-tabs-content-wrapper")[0],e.contents=e.contentsWrapper.getElementsByTagName("md-tab-content"),e}function _(){return Z.offsetLeft>0}function H(){var e=Q.tabs[Q.tabs.length-1];return e&&e.offsetLeft+e.offsetWidth>Q.canvas.clientWidth+Z.offsetLeft}function O(){switch(e.stretchTabs){case"always":return!0;case"never":return!1;default:return!Z.shouldPaginate&&r.matchMedia("(max-width: 600px)").matches}}function D(){return e.centerTabs&&!Z.shouldPaginate}function I(){if(e.noPagination||!ne)return!1;var r=n.prop("clientWidth");return t.forEach(Q.dummies,function(e){r-=e.offsetWidth}),0>r}function R(e){var t,n,r=Math.max(Z.tabs.length-e,e);for(t=0;r>=t;t++){if(n=Z.tabs[e+t],n&&n.scope.disabled!==!0)return n.getIndex();if(n=Z.tabs[e-t],n&&n.scope.disabled!==!0)return n.getIndex()}return e}function P(e,t,n){Object.defineProperty(Z,e,{get:function(){return n},set:function(e){var r=n;n=e,t(e,r)}})}function j(){Z.shouldPaginate=I(),Z.shouldCenterTabs=D(),o(function(){q(e.selectedIndex)})}function L(){var t=Z.tabs[e.selectedIndex],n=Z.tabs[Z.focusIndex];Z.tabs=Z.tabs.sort(function(e,t){return e.index-t.index}),e.selectedIndex=Z.tabs.indexOf(t),Z.focusIndex=Z.tabs.indexOf(n)}function F(e){var t,n=Z.focusIndex;for(t=n+e;Z.tabs[t]&&Z.tabs[t].scope.disabled;t+=e);Z.tabs[t]&&(Z.focusIndex=t)}function V(){Q.dummies[Z.focusIndex].focus()}function q(e){if(!Z.shouldCenterTabs){null==e&&(e=Z.focusIndex);var t=Q.tabs[e],n=t.offsetLeft,r=t.offsetWidth+n;Z.offsetLeft=Math.max(Z.offsetLeft,G(r-Q.canvas.clientWidth)),Z.offsetLeft=Math.min(Z.offsetLeft,G(n))}}function B(){ee.forEach(function(e){o(e)}),ee=[]}function U(){var e=!1;t.forEach(Z.tabs,function(t){t.template&&(e=!0)}),Z.hasContent=e}function z(){e.selectedIndex=R(e.selectedIndex),Z.focusIndex=R(Z.focusIndex)}function W(){if(!e.dynamicHeight)return n.css("height","");if(!Z.tabs.length)return ee.push(W);var t=Q.contents[e.selectedIndex],r=t?t.offsetHeight:0,o=Q.wrapper.offsetHeight,i=r+o,a=n.prop("clientHeight");a!==i&&(J=!0,c.animate(n,{height:a+"px"},{height:i+"px"}).then(function(){n.css("height",""),J=!1}))}function K(){if(Q.tabs[e.selectedIndex]){if(!Z.tabs.length)return ee.push(Z.updateInkBarStyles);if(!n.prop("offsetParent"))return y();var r=e.selectedIndex,o=Q.paging.offsetWidth,i=Q.tabs[r],a=i.offsetLeft,s=o-a-i.offsetWidth;Y(),t.element(Q.inkBar).css({left:a+"px",right:s+"px"})}}function Y(){var n=e.selectedIndex,r=Z.lastSelectedIndex,o=t.element(Q.inkBar);t.isNumber(r)&&(r>n?o.addClass("md-left").removeClass("md-right"):n>r&&o.addClass("md-right").removeClass("md-left"))}function G(e){if(!Q.tabs.length||!Z.shouldPaginate)return 0;var t=Q.tabs[Q.tabs.length-1],n=t.offsetLeft+t.offsetWidth;return e=Math.max(0,e),e=Math.min(n-Q.canvas.clientWidth,e)}function X(e,n){var r={colorElement:t.element(Q.inkBar)};a.attach(e,n,r)}var Z=this,J=!1,Q=N(),ee=[],te=!1,ne=!1;P("focusIndex",b,e.selectedIndex||0),P("offsetLeft",$,0),P("hasContent",v,!1),Z.scope=e,Z.parent=e.$parent,Z.tabs=[],Z.lastSelectedIndex=null,Z.hasFocus=!1,Z.lastClick=!0,Z.shouldPaginate=!1,Z.shouldCenterTabs=D(),Z.redirectFocus=V,Z.attachRipple=X,Z.shouldStretchTabs=O,Z.insertTab=S,Z.removeTab=k,Z.select=w,Z.scroll=C,Z.nextPage=A,Z.previousPage=x,Z.keydown=M,Z.canPageForward=H,Z.canPageBack=_,Z.refreshIndex=z,Z.incrementSelectedIndex=F,Z.updateInkBarStyles=s.debounce(K,100),Z.updateTabOrder=s.debounce(L,100),m()}t.module("material.components.tabs").controller("MdTabsController",e),e.$inject=["$scope","$element","$window","$timeout","$mdConstant","$mdTabInkRipple","$mdUtil","$animate","$attrs","$compile","$mdTheming"]}(),function(){function e(e,t,n){return{scope:{noPagination:"=?mdNoPagination",dynamicHeight:"=?mdDynamicHeight",centerTabs:"=?mdCenterTabs",selectedIndex:"=?mdSelected",stretchTabs:"@?mdStretchTabs",swipeContent:"=?mdSwipeContent",noDisconnect:"=?mdNoDisconnect",autoselect:"=?mdAutoselect"},template:function(e,t){return t.$mdTabsTemplate=e.html(),'        <md-tabs-wrapper ng-class="{ \'md-stretch-tabs\': $mdTabsCtrl.shouldStretchTabs() }">          <md-tab-data></md-tab-data>          <md-prev-button              tabindex="-1"              role="button"              aria-label="Previous Page"              aria-disabled="{{!$mdTabsCtrl.canPageBack()}}"              ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }"              ng-if="$mdTabsCtrl.shouldPaginate"              ng-click="$mdTabsCtrl.previousPage()">            <md-icon md-svg-icon="md-tabs-arrow"></md-icon>          </md-prev-button>          <md-next-button              tabindex="-1"              role="button"              aria-label="Next Page"              aria-disabled="{{!$mdTabsCtrl.canPageForward()}}"              ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }"              ng-if="$mdTabsCtrl.shouldPaginate"              ng-click="$mdTabsCtrl.nextPage()">            <md-icon md-svg-icon="md-tabs-arrow"></md-icon>          </md-next-button>          <md-tabs-canvas              tabindex="0"              aria-activedescendant="tab-item-{{$mdTabsCtrl.tabs[$mdTabsCtrl.focusIndex].id}}"              ng-focus="$mdTabsCtrl.redirectFocus()"              ng-class="{                  \'md-paginated\': $mdTabsCtrl.shouldPaginate,                  \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs              }"              ng-keydown="$mdTabsCtrl.keydown($event)"              role="tablist">            <md-pagination-wrapper                ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }"                md-tab-scroll="$mdTabsCtrl.scroll($event)">              <md-tab-item                  tabindex="-1"                  class="md-tab"                  style="max-width: {{ tabWidth ? tabWidth + \'px\' : \'none\' }}"                  ng-repeat="tab in $mdTabsCtrl.tabs"                  role="tab"                  aria-controls="tab-content-{{tab.id}}"                  aria-selected="{{tab.isActive()}}"                  aria-disabled="{{tab.scope.disabled || \'false\'}}"                  ng-click="$mdTabsCtrl.select(tab.getIndex())"                  ng-class="{                      \'md-active\':    tab.isActive(),                      \'md-focused\':   tab.hasFocus(),                      \'md-disabled\':  tab.scope.disabled                  }"                  ng-disabled="tab.scope.disabled"                  md-swipe-left="$mdTabsCtrl.nextPage()"                  md-swipe-right="$mdTabsCtrl.previousPage()"                  md-template="tab.label"                  md-scope="tab.parent"></md-tab-item>              <md-ink-bar ng-hide="noInkBar"></md-ink-bar>            </md-pagination-wrapper>            <div class="md-visually-hidden md-dummy-wrapper">              <md-dummy-tab                  class="md-tab"                  tabindex="-1"                  id="tab-item-{{tab.id}}"                  role="tab"                  aria-controls="tab-content-{{tab.id}}"                  aria-selected="{{tab.isActive()}}"                  aria-disabled="{{tab.scope.disabled || \'false\'}}"                  ng-focus="$mdTabsCtrl.hasFocus = true"                  ng-blur="$mdTabsCtrl.hasFocus = false"                  ng-repeat="tab in $mdTabsCtrl.tabs"                  md-template="tab.label"                  md-scope="tab.parent"></md-dummy-tab>            </div>          </md-tabs-canvas>        </md-tabs-wrapper>        <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent">          <md-tab-content              id="tab-content-{{tab.id}}"              role="tabpanel"              aria-labelledby="tab-item-{{tab.id}}"              md-swipe-left="swipeContent && $mdTabsCtrl.incrementSelectedIndex(1)"              md-swipe-right="swipeContent && $mdTabsCtrl.incrementSelectedIndex(-1)"              ng-if="$mdTabsCtrl.hasContent"              ng-repeat="(index, tab) in $mdTabsCtrl.tabs"              md-connected-if="tab.isActive()"              ng-class="{                \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null,                \'md-active\':        tab.isActive(),                \'md-left\':          tab.isLeft(),                \'md-right\':         tab.isRight(),                \'md-no-scroll\':     dynamicHeight              }">            <div                md-template="tab.template"                md-scope="tab.parent"                ng-if="tab.shouldRender()"></div>          </md-tab-content>        </md-tabs-content-wrapper>      '},controller:"MdTabsController",controllerAs:"$mdTabsCtrl"}}t.module("material.components.tabs").directive("mdTabs",e),e.$inject=["$mdTheming","$mdUtil","$compile"]}(),function(){function e(e,t,n){function r(r,o,i,a){function s(){r.$watch("connected",function(e){e===!1?c():l()}),r.$on("$destroy",l)}function c(){a.scope.noDisconnect||t.disconnectScope(u)}function l(){a.scope.noDisconnect||t.reconnectScope(u)}if(a){var u=r.compileScope.$new();return o.html(r.template),e(o.contents())(u),n(s)}}return{restrict:"A",link:r,scope:{template:"=mdTemplate",compileScope:"=mdScope",connected:"=?mdConnectedIf"},require:"^?mdTabs"}}t.module("material.components.tabs").directive("mdTemplate",e),e.$inject=["$compile","$mdUtil","$timeout"]}(),function(){t.module("material.core").constant("$MD_THEME_CSS","/* mixin definition ; sets LTR and RTL within the same style call */md-autocomplete.md-THEME_NAME-theme {  background: '{{background-50}}'; }  md-autocomplete.md-THEME_NAME-theme[disabled] {    background: '{{background-100}}'; }  md-autocomplete.md-THEME_NAME-theme button md-icon path {    fill: '{{background-600}}'; }  md-autocomplete.md-THEME_NAME-theme button:after {    background: '{{background-600-0.3}}'; }.md-autocomplete-suggestions.md-THEME_NAME-theme {  background: '{{background-50}}'; }  .md-autocomplete-suggestions.md-THEME_NAME-theme li {    color: '{{background-900}}'; }    .md-autocomplete-suggestions.md-THEME_NAME-theme li .highlight {      color: '{{background-600}}'; }    .md-autocomplete-suggestions.md-THEME_NAME-theme li:hover, .md-autocomplete-suggestions.md-THEME_NAME-theme li.selected {      background: '{{background-200}}'; }md-backdrop.md-opaque.md-THEME_NAME-theme {  background-color: '{{foreground-4-0.5}}'; }md-bottom-sheet.md-THEME_NAME-theme {  background-color: '{{background-50}}';  border-top-color: '{{background-300}}'; }  md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item {    color: '{{foreground-1}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    background-color: '{{background-50}}'; }  md-bottom-sheet.md-THEME_NAME-theme .md-subheader {    color: '{{foreground-1}}'; }a.md-button.md-THEME_NAME-theme, .md-button.md-THEME_NAME-theme {  border-radius: 3px; }  a.md-button.md-THEME_NAME-theme:not([disabled]):hover, .md-button.md-THEME_NAME-theme:not([disabled]):hover {    background-color: '{{background-500-0.2}}'; }  a.md-button.md-THEME_NAME-theme:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme:not([disabled]).md-focused {    background-color: '{{background-500-0.2}}'; }  a.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover, .md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover {    background-color: transparent; }  a.md-button.md-THEME_NAME-theme.md-fab, .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab md-icon, .md-button.md-THEME_NAME-theme.md-fab md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {      background-color: '{{accent-A700}}'; }  a.md-button.md-THEME_NAME-theme.md-icon-button, .md-button.md-THEME_NAME-theme.md-icon-button {    border-radius: 50%; }  a.md-button.md-THEME_NAME-theme.md-primary, .md-button.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }    a.md-button.md-THEME_NAME-theme.md-primary.md-raised, a.md-button.md-THEME_NAME-theme.md-primary.md-fab, .md-button.md-THEME_NAME-theme.md-primary.md-raised, .md-button.md-THEME_NAME-theme.md-primary.md-fab {      color: '{{primary-contrast}}';      background-color: '{{primary-color}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon {        color: '{{primary-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover {        background-color: '{{primary-color}}'; }      a.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused {        background-color: '{{primary-600}}'; }    a.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon {      color: '{{primary-color}}'; }  a.md-button.md-THEME_NAME-theme.md-fab, .md-button.md-THEME_NAME-theme.md-fab {    border-radius: 50%;    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon {      color: '{{accent-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover {      background-color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused {      background-color: '{{accent-A700}}'; }  a.md-button.md-THEME_NAME-theme.md-raised, .md-button.md-THEME_NAME-theme.md-raised {    color: '{{background-contrast}}';    background-color: '{{background-50}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]) .md-icon {      color: '{{background-contrast}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover {      background-color: '{{background-50}}'; }    a.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused {      background-color: '{{background-200}}'; }  a.md-button.md-THEME_NAME-theme.md-warn, .md-button.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }    a.md-button.md-THEME_NAME-theme.md-warn.md-raised, a.md-button.md-THEME_NAME-theme.md-warn.md-fab, .md-button.md-THEME_NAME-theme.md-warn.md-raised, .md-button.md-THEME_NAME-theme.md-warn.md-fab {      color: '{{warn-contrast}}';      background-color: '{{warn-color}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon {        color: '{{warn-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover {        background-color: '{{warn-color}}'; }      a.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused {        background-color: '{{warn-700}}'; }    a.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon {      color: '{{warn-color}}'; }  a.md-button.md-THEME_NAME-theme.md-accent, .md-button.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }    a.md-button.md-THEME_NAME-theme.md-accent.md-raised, a.md-button.md-THEME_NAME-theme.md-accent.md-fab, .md-button.md-THEME_NAME-theme.md-accent.md-raised, .md-button.md-THEME_NAME-theme.md-accent.md-fab {      color: '{{accent-contrast}}';      background-color: '{{accent-color}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon {        color: '{{accent-contrast}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover {        background-color: '{{accent-color}}'; }      a.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, a.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused, .md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused {        background-color: '{{accent-700}}'; }    a.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon, .md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon {      color: '{{accent-color}}'; }  a.md-button.md-THEME_NAME-theme[disabled], a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], a.md-button.md-THEME_NAME-theme.md-accent[disabled], a.md-button.md-THEME_NAME-theme.md-warn[disabled], .md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled], .md-button.md-THEME_NAME-theme.md-accent[disabled], .md-button.md-THEME_NAME-theme.md-warn[disabled] {    color: '{{foreground-3}}';    cursor: not-allowed; }    a.md-button.md-THEME_NAME-theme[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, a.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon, .md-button.md-THEME_NAME-theme[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon, .md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon {      color: '{{foreground-3}}'; }  a.md-button.md-THEME_NAME-theme.md-raised[disabled], a.md-button.md-THEME_NAME-theme.md-fab[disabled], .md-button.md-THEME_NAME-theme.md-raised[disabled], .md-button.md-THEME_NAME-theme.md-fab[disabled] {    background-color: '{{foreground-4}}'; }  a.md-button.md-THEME_NAME-theme[disabled], .md-button.md-THEME_NAME-theme[disabled] {    background-color: transparent; }md-card.md-THEME_NAME-theme {  background-color: '{{background-color}}';  border-radius: 2px; }  md-card.md-THEME_NAME-theme .md-card-image {    border-radius: 2px 2px 0 0; }md-checkbox.md-THEME_NAME-theme .md-ripple {  color: '{{accent-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon {  background-color: '{{accent-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple {  color: '{{primary-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple {  color: '{{background-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon {  background-color: '{{primary-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple {  color: '{{warn-600}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-icon {  border-color: '{{foreground-2}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon {  background-color: '{{warn-color-0.87}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after {  border-color: '{{background-200}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-icon {  border-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon {  background-color: '{{foreground-3}}'; }md-checkbox.md-THEME_NAME-theme[disabled] .md-label {  color: '{{foreground-3}}'; }md-content.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }md-chips.md-THEME_NAME-theme .md-chips {  box-shadow: 0 1px '{{background-300}}'; }  md-chips.md-THEME_NAME-theme .md-chips.md-focused {    box-shadow: 0 2px '{{primary-color}}'; }md-chips.md-THEME_NAME-theme .md-chip {  background: '{{background-300}}';  color: '{{background-800}}'; }  md-chips.md-THEME_NAME-theme .md-chip.md-focused {    background: '{{primary-color}}';    color: '{{primary-contrast}}'; }    md-chips.md-THEME_NAME-theme .md-chip.md-focused md-icon {      color: '{{primary-contrast}}'; }md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path {  fill: '{{background-500}}'; }.md-contact-suggestion span.md-contact-email {  color: '{{background-400}}'; }md-dialog.md-THEME_NAME-theme {  border-radius: 4px;  background-color: '{{background-color}}'; }  md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions {    border-top-color: '{{foreground-4}}'; }md-divider.md-THEME_NAME-theme {  border-top-color: '{{foreground-4}}'; }md-icon.md-THEME_NAME-theme {  color: '{{foreground-2}}'; }  md-icon.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  md-icon.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  md-icon.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-input-container.md-THEME_NAME-theme .md-input {  color: '{{foreground-1}}';  border-color: '{{foreground-4}}';  text-shadow: '{{foreground-shadow}}'; }  md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder, md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder, md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder {    color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme > md-icon {  color: '{{foreground-1}}'; }md-input-container.md-THEME_NAME-theme label, md-input-container.md-THEME_NAME-theme .md-placeholder {  text-shadow: '{{foreground-shadow}}';  color: '{{foreground-3}}'; }md-input-container.md-THEME_NAME-theme ng-messages, md-input-container.md-THEME_NAME-theme [ng-message], md-input-container.md-THEME_NAME-theme [data-ng-message], md-input-container.md-THEME_NAME-theme [x-ng-message] {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label {  color: '{{foreground-2}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input {  border-color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon {  color: '{{primary-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input {  border-color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label {  color: '{{accent-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input {  border-color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid.md-input-focused label {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme.md-input-invalid ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid data-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid x-ng-message, md-input-container.md-THEME_NAME-theme.md-input-invalid [ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [data-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid [x-ng-message], md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter {  color: '{{warn-500}}'; }md-input-container.md-THEME_NAME-theme .md-input[disabled], [disabled] md-input-container.md-THEME_NAME-theme .md-input {  border-bottom-color: transparent;  color: '{{foreground-3}}';  background-image: linear-gradient(to right, '{{foreground-3}}' 0%, '{{foreground-3}}' 33%, transparent 0%);  background-image: -ms-linear-gradient(left, transparent 0%, '{{foreground-3}}' 100%); }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4 {  color: '{{foreground-1}}'; }md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p, md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p {  color: '{{foreground-2}}'; }md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style {  background-color: '{{background-100}}'; }md-list.md-THEME_NAME-theme md-list-item > md-icon {  color: '{{foreground-2}}'; }  md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight {    color: '{{primary-color}}'; }    md-list.md-THEME_NAME-theme md-list-item > md-icon.md-highlight.md-accent {      color: '{{accent-color}}'; }md-list.md-THEME_NAME-theme md-list-item button {  background-color: '{{background-color}}'; }  md-list.md-THEME_NAME-theme md-list-item button.md-button:not([disabled]):hover {    background-color: '{{background-color}}'; }md-menu-content.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }  md-menu-content.md-THEME_NAME-theme md-menu-divider {    background-color: '{{foreground-4}}'; }md-progress-circular.md-THEME_NAME-theme {  background-color: transparent; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-gap {    border-top-color: '{{primary-color}}';    border-bottom-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-top-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-right .md-half-circle {    border-right-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme .md-inner .md-left .md-half-circle {    border-left-color: '{{primary-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-gap {    border-top-color: '{{warn-color}}';    border-bottom-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-top-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-right .md-half-circle {    border-right-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-warn .md-inner .md-left .md-half-circle {    border-left-color: '{{warn-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-gap {    border-top-color: '{{accent-color}}';    border-bottom-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle, md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-top-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-right .md-half-circle {    border-right-color: '{{accent-color}}'; }  md-progress-circular.md-THEME_NAME-theme.md-accent .md-inner .md-left .md-half-circle {    border-left-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme .md-container {  background-color: '{{primary-100}}'; }md-progress-linear.md-THEME_NAME-theme .md-bar {  background-color: '{{primary-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-container {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar {  background-color: '{{warn-color}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-container {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar {  background-color: '{{accent-color}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1 {  background-color: '{{warn-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before {  background: radial-gradient('{{warn-100}}' 0%, '{{warn-100}}' 16%, transparent 42%); }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1 {  background-color: '{{accent-100}}'; }md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before {  background: radial-gradient('{{accent-100}}' 0%, '{{accent-100}}' 16%, transparent 42%); }md-radio-button.md-THEME_NAME-theme .md-off {  border-color: '{{foreground-2}}'; }md-radio-button.md-THEME_NAME-theme .md-on {  background-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-off {  border-color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple {  color: '{{accent-color-0.87}}'; }md-radio-button.md-THEME_NAME-theme .md-container .md-ripple {  color: '{{accent-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on {  background-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off {  border-color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple {  color: '{{primary-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple {  color: '{{primary-600}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on {  background-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off {  border-color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple {  color: '{{warn-color-0.87}}'; }md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple, md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple {  color: '{{warn-600}}'; }md-radio-group.md-THEME_NAME-theme[disabled], md-radio-button.md-THEME_NAME-theme[disabled] {  color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off, md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off {    border-color: '{{foreground-3}}'; }  md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on, md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on {    border-color: '{{foreground-3}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before {  background-color: '{{accent-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked:not([disabled]).md-primary .md-container:before {  background-color: '{{primary-color-0.26}}'; }md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before {  background-color: '{{warn-color-0.26}}'; }md-select.md-THEME_NAME-theme.ng-invalid.ng-dirty .md-select-label {  color: '{{warn-500}}' !important;  border-bottom-color: '{{warn-500}}' !important; }md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-label {  border-bottom-color: '{{primary-color}}';  color: '{{ foreground-1 }}'; }  md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-label.md-placeholder {    color: '{{ foreground-1 }}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-label {  border-bottom-color: '{{accent-color}}'; }md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-label {  border-bottom-color: '{{warn-color}}'; }md-select.md-THEME_NAME-theme[disabled] .md-select-label {  color: '{{foreground-3}}'; }  md-select.md-THEME_NAME-theme[disabled] .md-select-label.md-placeholder {    color: '{{foreground-3}}'; }md-select.md-THEME_NAME-theme .md-select-label {  border-bottom-color: '{{foreground-4}}'; }  md-select.md-THEME_NAME-theme .md-select-label.md-placeholder {    color: '{{foreground-2}}'; }md-select-menu.md-THEME_NAME-theme md-optgroup {  color: '{{foreground-2}}'; }  md-select-menu.md-THEME_NAME-theme md-optgroup md-option {    color: '{{foreground-1}}'; }md-select-menu.md-THEME_NAME-theme md-option[selected] {  color: '{{primary-500}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected]:focus {    color: '{{primary-600}}'; }  md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent {    color: '{{accent-500}}'; }    md-select-menu.md-THEME_NAME-theme md-option[selected].md-accent:focus {      color: '{{accent-600}}'; }md-select-menu.md-THEME_NAME-theme md-option:focus:not([selected]) {  background: '{{background-200}}'; }md-sidenav.md-THEME_NAME-theme {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track {  background-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme .md-track-ticks {  background-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-focus-thumb {  background-color: '{{foreground-2}}'; }md-slider.md-THEME_NAME-theme .md-focus-ring {  border-color: '{{foreground-4}}'; }md-slider.md-THEME_NAME-theme .md-disabled-thumb {  border-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme.md-min .md-thumb:after {  background-color: '{{background-color}}'; }md-slider.md-THEME_NAME-theme .md-track.md-track-fill {  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb:after {  border-color: '{{accent-color}}';  background-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-sign {  background-color: '{{accent-color}}'; }  md-slider.md-THEME_NAME-theme .md-sign:after {    border-top-color: '{{accent-color}}'; }md-slider.md-THEME_NAME-theme .md-thumb-text {  color: '{{accent-contrast}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill {  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after {  border-color: '{{warn-color}}';  background-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-sign {  background-color: '{{warn-color}}'; }  md-slider.md-THEME_NAME-theme.md-warn .md-sign:after {    border-top-color: '{{warn-color}}'; }md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text {  color: '{{warn-contrast}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill {  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after {  border-color: '{{primary-color}}';  background-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-sign {  background-color: '{{primary-color}}'; }  md-slider.md-THEME_NAME-theme.md-primary .md-sign:after {    border-top-color: '{{primary-color}}'; }md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text {  color: '{{primary-contrast}}'; }md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after {  border-color: '{{foreground-3}}'; }md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after {  background-color: '{{foreground-3}}'; }.md-subheader.md-THEME_NAME-theme {  color: '{{ foreground-2-0.23 }}';  background-color: '{{background-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-primary {    color: '{{primary-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-accent {    color: '{{accent-color}}'; }  .md-subheader.md-THEME_NAME-theme.md-warn {    color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme .md-thumb {  background-color: '{{background-50}}'; }md-switch.md-THEME_NAME-theme .md-bar {  background-color: '{{background-500}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-thumb {  background-color: '{{accent-color}}'; }md-switch.md-THEME_NAME-theme.md-checked .md-bar {  background-color: '{{accent-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-focused .md-thumb:before {  background-color: '{{accent-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-thumb {  background-color: '{{primary-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary .md-bar {  background-color: '{{primary-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-primary.md-focused .md-thumb:before {  background-color: '{{primary-color-0.26}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-thumb {  background-color: '{{warn-color}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn .md-bar {  background-color: '{{warn-color-0.5}}'; }md-switch.md-THEME_NAME-theme.md-checked.md-warn.md-focused .md-thumb:before {  background-color: '{{warn-color-0.26}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-thumb {  background-color: '{{background-400}}'; }md-switch.md-THEME_NAME-theme[disabled] .md-bar {  background-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: transparent;  border-color: '{{foreground-4}}'; }md-tabs.md-THEME_NAME-theme .md-paginator md-icon {  color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme md-ink-bar {  color: '{{accent-color}}';  background: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme .md-tab {  color: '{{foreground-2}}'; }  md-tabs.md-THEME_NAME-theme .md-tab[disabled] {    color: '{{foreground-3}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-active, md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    color: '{{primary-color}}'; }  md-tabs.md-THEME_NAME-theme .md-tab.md-focused {    background: '{{primary-color-0.1}}'; }  md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container {    color: '{{accent-100}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-tabs-wrapper {  background-color: '{{accent-color}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]) {  color: '{{accent-100}}'; }  md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]).md-focused {    color: '{{accent-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-accent md-tab-item:not([disabled]).md-focused {    background: '{{accent-contrast-0.1}}'; }md-tabs.md-THEME_NAME-theme.md-accent md-ink-bar {  color: '{{primary-600-1}}';  background: '{{primary-600-1}}'; }md-tabs.md-THEME_NAME-theme.md-primary md-tabs-wrapper {  background-color: '{{primary-color}}'; }md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]) {  color: '{{primary-100}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]).md-focused {    color: '{{primary-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-primary md-tab-item:not([disabled]).md-focused {    background: '{{primary-contrast-0.1}}'; }md-tabs.md-THEME_NAME-theme.md-warn md-tabs-wrapper {  background-color: '{{warn-color}}'; }md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]) {  color: '{{warn-100}}'; }  md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]).md-active, md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]).md-focused {    color: '{{warn-contrast}}'; }  md-tabs.md-THEME_NAME-theme.md-warn md-tab-item:not([disabled]).md-focused {    background: '{{warn-contrast-0.1}}'; }md-toolbar > md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: '{{primary-color}}'; }md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]) {  color: '{{primary-100}}'; }  md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-active, md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    color: '{{primary-contrast}}'; }  md-toolbar > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    background: '{{primary-contrast-0.1}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: '{{accent-color}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]) {  color: '{{accent-100}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-active, md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    color: '{{accent-contrast}}'; }  md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    background: '{{accent-contrast-0.1}}'; }md-toolbar.md-accent > md-tabs.md-THEME_NAME-theme md-ink-bar {  color: '{{primary-600-1}}';  background: '{{primary-600-1}}'; }md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tabs-wrapper {  background-color: '{{warn-color}}'; }md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]) {  color: '{{warn-100}}'; }  md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-active, md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    color: '{{warn-contrast}}'; }  md-toolbar.md-warn > md-tabs.md-THEME_NAME-theme md-tab-item:not([disabled]).md-focused {    background: '{{warn-contrast-0.1}}'; }md-toast.md-THEME_NAME-theme {  background-color: #323232;  color: '{{background-50}}'; }  md-toast.md-THEME_NAME-theme .md-button {    color: '{{background-50}}'; }    md-toast.md-THEME_NAME-theme .md-button.md-highlight {      color: '{{primary-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-accent {        color: '{{accent-A200}}'; }      md-toast.md-THEME_NAME-theme .md-button.md-highlight.md-warn {        color: '{{warn-A200}}'; }md-toolbar.md-THEME_NAME-theme {  background-color: '{{primary-color}}';  color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme md-icon {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme .md-button {    color: '{{primary-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-accent {    background-color: '{{accent-color}}';    color: '{{accent-contrast}}'; }  md-toolbar.md-THEME_NAME-theme.md-warn {    background-color: '{{warn-color}}';    color: '{{warn-contrast}}'; }md-tooltip.md-THEME_NAME-theme {  color: '{{background-A100}}'; }  md-tooltip.md-THEME_NAME-theme .md-background {    background-color: '{{foreground-2}}'; }");

}()}(window,window.angular)},{}],12:[function(e,t,n){e("angular"),e("angular-animate"),e("angular-aria"),e("./angular-material"),t.exports="ngMaterial"},{"./angular-material":11,angular:14,"angular-animate":8,"angular-aria":10}],13:[function(e,t,n){!function(e,t,n){"use strict";function r(e,t){return t=t||Error,function(){var n,r,o=2,i=arguments,a=i[0],s="["+(e?e+":":"")+a+"] ",c=i[1];for(s+=c.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+o;return n<i.length?be(i[n]):e}),s+="\nhttp://errors.angularjs.org/1.4.3/"+(e?e+"/":"")+a,r=o,n="?";r<i.length;r++,n="&")s+=n+"p"+(r-o)+"="+encodeURIComponent(be(i[r]));return new t(s)}}function o(e){if(null==e||k(e))return!1;var t="length"in Object(e)&&e.length;return e.nodeType===Kr&&t?!0:w(e)||jr(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){var r,a;if(e)if(x(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(jr(e)||o(e)){var s="object"!=typeof e;for(r=0,a=e.length;a>r;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==i)e.forEach(t,n,e);else if(M(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)yr.call(e,r)&&t.call(n,e[r],r,e);return e}function a(e,t,n){for(var r=Object.keys(e).sort(),o=0;o<r.length;o++)t.call(n,e[r[o]],r[o]);return r}function s(e){return function(t,n){e(n,t)}}function c(){return++Rr}function l(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function u(e,t,n){for(var r=e.$$hashKey,o=0,i=t.length;i>o;++o){var a=t[o];if(y(a)||x(a))for(var s=Object.keys(a),c=0,d=s.length;d>c;c++){var m=s[c],f=a[m];n&&y(f)?A(f)?e[m]=new Date(f.valueOf()):(y(e[m])||(e[m]=jr(f)?[]:{}),u(e[m],[f],!0)):e[m]=f}}return l(e,r),e}function d(e){return u(e,Sr.call(arguments,1),!1)}function m(e){return u(e,Sr.call(arguments,1),!0)}function f(e){return parseInt(e,10)}function p(e,t){return d(Object.create(e),t)}function h(){}function g(e){return e}function v(e){return function(){return e}}function $(e){return x(e.toString)&&e.toString!==Object.prototype.toString}function b(e){return"undefined"==typeof e}function E(e){return"undefined"!=typeof e}function y(e){return null!==e&&"object"==typeof e}function M(e){return null!==e&&"object"==typeof e&&!Or(e)}function w(e){return"string"==typeof e}function C(e){return"number"==typeof e}function A(e){return"[object Date]"===Hr.call(e)}function x(e){return"function"==typeof e}function T(e){return"[object RegExp]"===Hr.call(e)}function k(e){return e&&e.window===e}function S(e){return e&&e.$evalAsync&&e.$watch}function N(e){return"[object File]"===Hr.call(e)}function _(e){return"[object FormData]"===Hr.call(e)}function H(e){return"[object Blob]"===Hr.call(e)}function O(e){return"boolean"==typeof e}function D(e){return e&&x(e.then)}function I(e){return Lr.test(Hr.call(e))}function R(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function P(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function j(e){return Er(e.nodeName||e[0]&&e[0].nodeName)}function L(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function F(e,t,n,r){if(k(e)||S(e))throw Dr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(I(t))throw Dr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t){if(e===t)throw Dr("cpi","Can't copy! Source and destination are identical.");n=n||[],r=r||[],y(e)&&(n.push(e),r.push(t));var o;if(jr(e)){t.length=0;for(var a=0;a<e.length;a++)t.push(F(e[a],null,n,r))}else{var s=t.$$hashKey;if(jr(t)?t.length=0:i(t,function(e,n){delete t[n]}),M(e))for(o in e)t[o]=F(e[o],null,n,r);else if(e&&"function"==typeof e.hasOwnProperty)for(o in e)e.hasOwnProperty(o)&&(t[o]=F(e[o],null,n,r));else for(o in e)yr.call(e,o)&&(t[o]=F(e[o],null,n,r));l(t,s)}}else if(t=e,y(e)){var c;if(n&&-1!==(c=n.indexOf(e)))return r[c];if(jr(e))return F(e,[],n,r);if(I(e))t=new e.constructor(e);else if(A(e))t=new Date(e.getTime());else{if(!T(e)){var u=Object.create(Or(e));return F(e,u,n,r)}t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex}r&&(n.push(e),r.push(t))}return t}function V(e,t){if(jr(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(y(e)){t=t||{};for(var o in e)("$"!==o.charAt(0)||"$"!==o.charAt(1))&&(t[o]=e[o])}return t||e}function q(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var r,o,i,a=typeof e,s=typeof t;if(a==s&&"object"==a){if(!jr(e)){if(A(e))return A(t)?q(e.getTime(),t.getTime()):!1;if(T(e))return T(t)?e.toString()==t.toString():!1;if(S(e)||S(t)||k(e)||k(t)||jr(t)||A(t)||T(t))return!1;i=ge();for(o in e)if("$"!==o.charAt(0)&&!x(e[o])){if(!q(e[o],t[o]))return!1;i[o]=!0}for(o in t)if(!(o in i||"$"===o.charAt(0)||t[o]===n||x(t[o])))return!1;return!0}if(!jr(t))return!1;if((r=e.length)==t.length){for(o=0;r>o;o++)if(!q(e[o],t[o]))return!1;return!0}}return!1}function B(e,t,n){return e.concat(Sr.call(t,n))}function U(e,t){return Sr.call(e,t||0)}function z(e,t){var n=arguments.length>2?U(arguments,2):[];return!x(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,B(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function W(e,r){var o=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?o=n:k(r)?o="$WINDOW":r&&t===r?o="$DOCUMENT":S(r)&&(o="$SCOPE"),o}function K(e,t){return"undefined"==typeof e?n:(C(t)||(t=t?2:null),JSON.stringify(e,W,t))}function Y(e){return w(e)?JSON.parse(e):e}function G(e,t){var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function X(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function Z(e,t,n){n=n?-1:1;var r=G(t,e.getTimezoneOffset());return X(e,n*(r-e.getTimezoneOffset()))}function J(e){e=xr(e).clone();try{e.empty()}catch(t){}var n=xr("<div>").append(e).html();try{return e[0].nodeType===Gr?Er(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Er(t)})}catch(t){return Er(n)}}function Q(e){try{return decodeURIComponent(e)}catch(t){}}function ee(e){var t,n,r={};return i((e||"").split("&"),function(e){if(e&&(t=e.replace(/\+/g,"%20").split("="),n=Q(t[0]),E(n))){var o=E(t[1])?Q(t[1]):!0;yr.call(r,n)?jr(r[n])?r[n].push(o):r[n]=[r[n],o]:r[n]=o}}),r}function te(e){var t=[];return i(e,function(e,n){jr(e)?i(e,function(e){t.push(re(n,!0)+(e===!0?"":"="+re(e,!0)))}):t.push(re(n,!0)+(e===!0?"":"="+re(e,!0)))}),t.length?t.join("&"):""}function ne(e){return re(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function re(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function oe(e,t){var n,r,o=Ur.length;for(r=0;o>r;++r)if(n=Ur[r]+t,w(n=e.getAttribute(n)))return n;return null}function ie(e,t){var n,r,o={};i(Ur,function(t){var o=t+"app";!n&&e.hasAttribute&&e.hasAttribute(o)&&(n=e,r=e.getAttribute(o))}),i(Ur,function(t){var o,i=t+"app";!n&&(o=e.querySelector("["+i.replace(":","\\:")+"]"))&&(n=o,r=o.getAttribute(i))}),n&&(o.strictDi=null!==oe(n,"strict-di"),t(n,r?[r]:[],o))}function ae(n,r,o){y(o)||(o={});var a={strictDi:!1};o=d(a,o);var s=function(){if(n=xr(n),n.injector()){var e=n[0]===t?"document":J(n);throw Dr("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),o.debugInfoEnabled&&r.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),r.unshift("ng");var i=Je(r,o.strictDi);return i.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),i},c=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&c.test(e.name)&&(o.debugInfoEnabled=!0,e.name=e.name.replace(c,"")),e&&!l.test(e.name)?s():(e.name=e.name.replace(l,""),Ir.resumeBootstrap=function(e){return i(e,function(e){r.push(e)}),s()},void(x(Ir.resumeDeferredBootstrap)&&Ir.resumeDeferredBootstrap()))}function se(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function ce(e){var t=Ir.element(e).injector();if(!t)throw Dr("test","no injector found for element argument to getTestability");return t.get("$$testability")}function le(e,t){return t=t||"_",e.replace(zr,function(e,n){return(n?t:"")+e.toLowerCase()})}function ue(){var t;if(!Wr){var r=Br();Tr=e.jQuery,E(r)&&(Tr=null===r?n:e[r]),Tr&&Tr.fn.on?(xr=Tr,d(Tr.fn,{scope:po.scope,isolateScope:po.isolateScope,controller:po.controller,injector:po.injector,inheritedData:po.inheritedData}),t=Tr.cleanData,Tr.cleanData=function(e){var n;if(Pr)Pr=!1;else for(var r,o=0;null!=(r=e[o]);o++)n=Tr._data(r,"events"),n&&n.$destroy&&Tr(r).triggerHandler("$destroy");t(e)}):xr=ke,Ir.element=xr,Wr=!0}}function de(e,t,n){if(!e)throw Dr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function me(e,t,n){return n&&jr(e)&&(e=e[e.length-1]),de(x(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function fe(e,t){if("hasOwnProperty"===e)throw Dr("badname","hasOwnProperty is not a valid {0} name",t)}function pe(e,t,n){if(!t)return e;for(var r,o=t.split("."),i=e,a=o.length,s=0;a>s;s++)r=o[s],e&&(e=(i=e)[r]);return!n&&x(e)?z(i,e):e}function he(e){var t=e[0],n=e[e.length-1],r=[t];do{if(t=t.nextSibling,!t)break;r.push(t)}while(t!==n);return xr(r)}function ge(){return Object.create(null)}function ve(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),o=r("ng"),i=t(e,"angular",Object);return i.$$minErr=i.$$minErr||r,t(i,"module",function(){var e={};return function(r,i,a){var s=function(e,t){if("hasOwnProperty"===e)throw o("badname","hasOwnProperty is not a valid {0} name",t)};return s(r,"module"),i&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,t,n,r){return r||(r=o),function(){return r[n||"push"]([e,t,arguments]),u}}function t(e,t){return function(n,i){return i&&x(i)&&(i.$$moduleName=r),o.push([e,t,arguments]),u}}if(!i)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var o=[],s=[],c=[],l=e("$injector","invoke","push",s),u={_invokeQueue:o,_configBlocks:s,_runBlocks:c,requires:i,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:l,run:function(e){return c.push(e),this}};return a&&l(a),u})}})}function $e(e){var t=[];return JSON.stringify(e,function(e,n){if(n=W(e,n),y(n)){if(t.indexOf(n)>=0)return"<<already seen>>";t.push(n)}return n})}function be(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?$e(e):e}function Ee(t){d(t,{bootstrap:ae,copy:F,extend:d,merge:m,equals:q,element:xr,forEach:i,injector:Je,noop:h,bind:z,toJson:K,fromJson:Y,identity:g,isUndefined:b,isDefined:E,isString:w,isFunction:x,isObject:y,isNumber:C,isElement:R,isArray:jr,version:Qr,isDate:A,lowercase:Er,uppercase:Mr,callbacks:{counter:0},getTestability:ce,$$minErr:r,$$csp:qr,reloadWithDebugInfo:se}),kr=ve(e);try{kr("ngLocale")}catch(n){kr("ngLocale",[]).provider("$locale",_t)}kr("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:vn}),e.provider("$compile",ct).directive({a:ui,input:Ti,textarea:Ti,form:hi,script:ba,select:Ma,style:Ca,option:wa,ngBind:Ni,ngBindHtml:Hi,ngBindTemplate:_i,ngClass:Di,ngClassEven:Ri,ngClassOdd:Ii,ngCloak:Pi,ngController:ji,ngForm:gi,ngHide:fa,ngIf:Vi,ngInclude:qi,ngInit:Ui,ngNonBindable:oa,ngPluralize:ca,ngRepeat:la,ngShow:ma,ngStyle:pa,ngSwitch:ha,ngSwitchWhen:ga,ngSwitchDefault:va,ngOptions:sa,ngTransclude:$a,ngModel:ta,ngList:zi,ngChange:Oi,pattern:xa,ngPattern:xa,required:Aa,ngRequired:Aa,minlength:ka,ngMinlength:ka,maxlength:Ta,ngMaxlength:Ta,ngValue:Si,ngModelOptions:ra}).directive({ngInclude:Bi}).directive(di).directive(Li),e.provider({$anchorScroll:Qe,$animate:So,$$animateQueue:ko,$$AnimateRunner:To,$browser:it,$cacheFactory:at,$controller:ft,$document:pt,$exceptionHandler:ht,$filter:_n,$interpolate:St,$interval:Nt,$http:At,$httpParamSerializer:vt,$httpParamSerializerJQLike:$t,$httpBackend:Tt,$location:zt,$log:Wt,$parse:dn,$rootScope:gn,$q:mn,$$q:fn,$sce:yn,$sceDelegate:En,$sniffer:Mn,$templateCache:st,$templateRequest:wn,$$testability:Cn,$timeout:An,$window:kn,$$rAF:hn,$$jqLite:Ke,$$HashMap:$o,$$cookieReader:Nn})}])}function ye(){return++to}function Me(e){return e.replace(oo,function(e,t,n,r){return r?n.toUpperCase():n}).replace(io,"Moz$1")}function we(e){return!lo.test(e)}function Ce(e){var t=e.nodeType;return t===Kr||!t||t===Zr}function Ae(e){for(var t in eo[e.ng339])return!0;return!1}function xe(e,t){var n,r,o,a,s=t.createDocumentFragment(),c=[];if(we(e))c.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),r=(uo.exec(e)||["",""])[1].toLowerCase(),o=fo[r]||fo._default,n.innerHTML=o[1]+e.replace(mo,"<$1></$2>")+o[2],a=o[0];a--;)n=n.lastChild;c=B(c,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",i(c,function(e){s.appendChild(e)}),s}function Te(e,n){n=n||t;var r;return(r=co.exec(e))?[n.createElement(r[1])]:(r=xe(e,n))?r.childNodes:[]}function ke(e){if(e instanceof ke)return e;var t;if(w(e)&&(e=Fr(e),t=!0),!(this instanceof ke)){if(t&&"<"!=e.charAt(0))throw so("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ke(e)}t?je(this,Te(e)):je(this,e)}function Se(e){return e.cloneNode(!0)}function Ne(e,t){if(t||He(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,o=n.length;o>r;r++)He(n[r])}function _e(e,t,n,r){if(E(r))throw so("offargs","jqLite#off() does not support the `selector` argument");var o=Oe(e),a=o&&o.events,s=o&&o.handle;if(s)if(t)i(t.split(" "),function(t){if(E(n)){var r=a[t];if(L(r||[],n),r&&r.length>0)return}ro(e,t,s),delete a[t]});else for(t in a)"$destroy"!==t&&ro(e,t,s),delete a[t]}function He(e,t){var r=e.ng339,o=r&&eo[r];if(o){if(t)return void delete o.data[t];o.handle&&(o.events.$destroy&&o.handle({},"$destroy"),_e(e)),delete eo[r],e.ng339=n}}function Oe(e,t){var r=e.ng339,o=r&&eo[r];return t&&!o&&(e.ng339=r=ye(),o=eo[r]={events:{},data:{},handle:n}),o}function De(e,t,n){if(Ce(e)){var r=E(n),o=!r&&t&&!y(t),i=!t,a=Oe(e,!o),s=a&&a.data;if(r)s[t]=n;else{if(i)return s;if(o)return s&&s[t];d(s,t)}}}function Ie(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function Re(e,t){t&&e.setAttribute&&i(t.split(" "),function(t){e.setAttribute("class",Fr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Fr(t)+" "," ")))})}function Pe(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");i(t.split(" "),function(e){e=Fr(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Fr(n))}}function je(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Le(e,t){return Fe(e,"$"+(t||"ngController")+"Controller")}function Fe(e,t,r){e.nodeType==Zr&&(e=e.documentElement);for(var o=jr(t)?t:[t];e;){for(var i=0,a=o.length;a>i;i++)if((r=xr.data(e,o[i]))!==n)return r;e=e.parentNode||e.nodeType===Jr&&e.host}}function Ve(e){for(Ne(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function qe(e,t){t||Ne(e);var n=e.parentNode;n&&n.removeChild(e)}function Be(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):xr(n).on("load",t)}function Ue(e,t){var n=ho[t.toLowerCase()];return n&&go[j(e)]&&n}function ze(e,t){var n=e.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&vo[t]}function We(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var o=t[r||n.type],i=o?o.length:0;if(i){if(b(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},i>1&&(o=V(o));for(var s=0;i>s;s++)n.isImmediatePropagationStopped()||o[s].call(e,n)}};return n.elem=e,n}function Ke(){this.$get=function(){return d(ke,{hasClass:function(e,t){return e.attr&&(e=e[0]),Ie(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Pe(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Re(e,t)}})}}function Ye(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||c)():r+":"+e}function Ge(e,t){if(t){var n=0;this.nextUid=function(){return++n}}i(e,this.put,this)}function Xe(e){var t=e.toString().replace(Mo,""),n=t.match(bo);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Ze(e,t,n){var r,o,a,s;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw w(n)&&n||(n=e.name||Xe(e)),wo("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=e.toString().replace(Mo,""),a=o.match(bo),i(a[1].split(Eo),function(e){e.replace(yo,function(e,t,n){r.push(n)})})}e.$inject=r}}else jr(e)?(s=e.length-1,me(e[s],"fn"),r=e.slice(0,s)):me(e,"fn",!0);return r}function Je(e,t){function r(e){return function(t,n){return y(t)?void i(t,s(e)):e(t,n)}}function o(e,t){if(fe(e,"service"),(x(t)||jr(t))&&(t=C.instantiate(t)),!t.$get)throw wo("pget","Provider '{0}' must define $get factory method.",e);return M[e+g]=t}function a(e,t){return function(){var n=T.invoke(t,this);if(b(n))throw wo("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function c(e,t,n){return o(e,{$get:n!==!1?a(e,t):t})}function l(e,t){return c(e,["$injector",function(e){return e.instantiate(t)}])}function u(e,t){return c(e,v(t),!1)}function d(e,t){fe(e,"constant"),M[e]=t,A[e]=t}function m(e,t){var n=C.get(e+g),r=n.$get;n.$get=function(){var e=T.invoke(r,n);return T.invoke(t,null,{$delegate:e})}}function f(e){var t,n=[];return i(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],o=C.get(r[0]);o[r[1]].apply(o,r[2])}}if(!E.get(e)){E.put(e,!0);try{w(e)?(t=kr(e),n=n.concat(f(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):x(e)?n.push(C.invoke(e)):jr(e)?n.push(C.invoke(e)):me(e,"module")}catch(o){throw jr(e)&&(e=e[e.length-1]),o.message&&o.stack&&-1==o.stack.indexOf(o.message)&&(o=o.message+"\n"+o.stack),wo("modulerr","Failed to instantiate module {0} due to:\n{1}",e,o.stack||o.message||o)}}}),n}function p(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===h)throw wo("cdep","Circular dependency found: {0}",t+" <- "+$.join(" <- "));return e[t]}try{return $.unshift(t),e[t]=h,e[t]=n(t,r)}catch(o){throw e[t]===h&&delete e[t],o}finally{$.shift()}}function o(e,n,o,i){"string"==typeof o&&(i=o,o=null);var a,s,c,l=[],u=Je.$$annotate(e,t,i);for(s=0,a=u.length;a>s;s++){if(c=u[s],"string"!=typeof c)throw wo("itkn","Incorrect injection token! Expected service name as string, got {0}",c);l.push(o&&o.hasOwnProperty(c)?o[c]:r(c,i))}return jr(e)&&(e=e[a]),e.apply(n,l)}function i(e,t,n){var r=Object.create((jr(e)?e[e.length-1]:e).prototype||null),i=o(e,r,t,n);return y(i)||x(i)?i:r}return{invoke:o,instantiate:i,get:r,annotate:Je.$$annotate,has:function(t){return M.hasOwnProperty(t+g)||e.hasOwnProperty(t)}}}t=t===!0;var h={},g="Provider",$=[],E=new Ge([],!0),M={$provide:{provider:r(o),factory:r(c),service:r(l),value:r(u),constant:r(d),decorator:m}},C=M.$injector=p(M,function(e,t){throw Ir.isString(t)&&$.push(t),wo("unpr","Unknown provider: {0}",$.join(" <- "))}),A={},T=A.$injector=p(A,function(e,t){var r=C.get(e+g,t);return T.invoke(r.$get,r,n,e)});return i(f(e),function(e){e&&T.invoke(e)}),T}function Qe(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function o(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===j(e)?(t=e,!0):void 0}),t}function i(){var e=s.yOffset;if(x(e))e=e();else if(R(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else C(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=i();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(e){e=w(e)?e:n.hash();var t;e?(t=c.getElementById(e))?a(t):(t=o(c.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var c=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){(e!==t||""!==e)&&Be(function(){r.$evalAsync(s)})}),s}]}function et(e,t){return e||t?e?t?(jr(e)&&(e=e.join(" ")),jr(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function tt(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Ao)return n}}function nt(e){w(e)&&(e=e.split(" "));var t=ge();return i(e,function(e){e.length&&(t[e]=!0)}),t}function rt(e){return y(e)?e:{}}function ot(e,t,n,r){function o(e){try{e.apply(null,U(arguments,1))}finally{if($--,0===$)for(;E.length;)try{E.pop()()}catch(t){n.error(t)}}}function a(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function s(){l(),u()}function c(){try{return f.state}catch(e){}}function l(){y=c(),y=b(y)?null:y,q(y,k)&&(y=k),k=y}function u(){(w!==d.url()||M!==y)&&(w=d.url(),M=y,i(x,function(e){e(d.url(),y)}))}var d=this,m=(t[0],e.location),f=e.history,p=e.setTimeout,g=e.clearTimeout,v={};d.isMock=!1;var $=0,E=[];d.$$completeOutstandingRequest=o,d.$$incOutstandingRequestCount=function(){$++},d.notifyWhenNoOutstandingRequests=function(e){0===$?e():E.push(e)};var y,M,w=m.href,C=t.find("base"),A=null;l(),M=y,d.url=function(t,n,o){if(b(o)&&(o=null),m!==e.location&&(m=e.location),f!==e.history&&(f=e.history),t){var i=M===o;if(w===t&&(!r.history||i))return d;var s=w&&Rt(w)===Rt(t);return w=t,M=o,!r.history||s&&i?((!s||A)&&(A=t),n?m.replace(t):s?m.hash=a(t):m.href=t):(f[n?"replaceState":"pushState"](o,"",t),l(),M=y),d}return A||m.href.replace(/%27/g,"'")},d.state=function(){return y};var x=[],T=!1,k=null;d.onUrlChange=function(t){return T||(r.history&&xr(e).on("popstate",s),xr(e).on("hashchange",s),T=!0),x.push(t),t},d.$$applicationDestroyed=function(){xr(e).off("hashchange popstate",s)},d.$$checkUrlChange=u,d.baseHref=function(){var e=C.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},d.defer=function(e,t){var n;return $++,n=p(function(){delete v[n],o(e)},t||0),v[n]=!0,n},d.defer.cancel=function(e){return v[e]?(delete v[e],g(e),o(h),!0):!1}}function it(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new ot(e,r,t,n)}]}function at(){this.$get=function(){function e(e,n){function o(e){e!=m&&(f?f==e&&(f=e.n):f=e,i(e.n,e.p),i(e,m),m=e,m.n=null)}function i(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=d({},n,{id:e}),c={},l=n&&n.capacity||Number.MAX_VALUE,u={},m=null,f=null;return t[e]={put:function(e,t){if(!b(t)){if(l<Number.MAX_VALUE){var n=u[e]||(u[e]={key:e});o(n)}return e in c||a++,c[e]=t,a>l&&this.remove(f.key),t}},get:function(e){if(l<Number.MAX_VALUE){var t=u[e];if(!t)return;o(t)}return c[e]},remove:function(e){if(l<Number.MAX_VALUE){var t=u[e];if(!t)return;t==m&&(m=t.p),t==f&&(f=t.n),i(t.n,t.p),delete u[e]}delete c[e],a--},removeAll:function(){c={},a=0,u={},m=f=null},destroy:function(){c=null,s=null,u=null,delete t[e]},info:function(){return d({},s,{size:a})}}}var t={};return e.info=function(){var e={};return i(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function st(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function ct(e,r){function o(e,t,n){var r=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,o={};return i(e,function(e,i){var a=e.match(r);if(!a)throw No("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,i,e,n?"controller bindings definition":"isolate scope definition");o[i]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||i}}),o}function a(e,t){var n={isolateScope:null,bindToController:null};if(y(e.scope)&&(e.bindToController===!0?(n.bindToController=o(e.scope,t,!0),n.isolateScope={}):n.isolateScope=o(e.scope,t,!1)),y(e.bindToController)&&(n.bindToController=o(e.bindToController,t,!0)),y(n.bindToController)){var r=e.controller,i=e.controllerAs;if(!r)throw No("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!mt(r,i))throw No("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function c(e){var t=e.charAt(0);if(!t||t!==Er(t))throw No("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw No("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}var l={},u="Directive",m=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,$=P("ngSrc,ngSrcset,src,srcset"),b=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,M=/^(on[a-z]+|formaction)$/;this.directive=function A(t,n){return fe(t,"directive"),w(t)?(c(t),de(n,"directiveFactory"),l.hasOwnProperty(t)||(l[t]=[],e.factory(t+u,["$injector","$exceptionHandler",function(e,n){var r=[];return i(l[t],function(o,i){try{var s=e.invoke(o);x(s)?s={compile:v(s)}:!s.compile&&s.link&&(s.compile=v(s.link)),s.priority=s.priority||0,s.index=i,s.name=s.name||t,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA";var c=s.$$bindings=a(s,s.name);y(c.isolateScope)&&(s.$$isolateBindings=c.isolateScope),s.$$moduleName=o.$$moduleName,r.push(s)}catch(l){n(l)}}),r}])),l[t].push(n)):i(t,s(A)),this},this.aHrefSanitizationWhitelist=function(e){return E(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return E(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var C=!0;this.debugInfoEnabled=function(e){return E(e)?(C=e,this):C},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,o,a,s,c,v,E,A,T,k){function N(e,t){try{e.addClass(t)}catch(n){}}function _(e,t,n,r,o){e instanceof xr||(e=xr(e)),i(e,function(t,n){t.nodeType==Gr&&t.nodeValue.match(/\S+/)&&(e[n]=xr(t).wrap("<span></span>").parent()[0])});var a=O(e,t,e,n,r,o);_.$$addScopeClass(e);var s=null;return function(t,n,r){de(t,"scope"),r=r||{};var o=r.parentBoundTranscludeFn,i=r.transcludeControllers,c=r.futureParentElement;o&&o.$$boundTransclude&&(o=o.$$boundTransclude),s||(s=H(c));var l;if(l="html"!==s?xr(Z(s,xr("<div>").append(e).html())):n?po.clone.call(e):e,i)for(var u in i)l.data("$"+u+"Controller",i[u].instance);return _.$$addScopeInfo(l,t),n&&n(l,t),a&&a(t,l,l,o),l}}function H(e){var t=e&&e[0];return t&&"foreignobject"!==j(t)&&t.toString().match(/SVG/)?"svg":"html"}function O(e,t,r,o,i,a){function s(e,r,o,i){var a,s,c,l,u,d,m,f,g;if(p){var v=r.length;for(g=new Array(v),u=0;u<h.length;u+=3)m=h[u],g[m]=r[m]}else g=r;for(u=0,d=h.length;d>u;)if(c=g[h[u++]],a=h[u++],s=h[u++],a){if(a.scope){l=e.$new(),_.$$addScopeInfo(xr(c),l);var $=a.$$destroyBindings;$&&(a.$$destroyBindings=null,l.$on("$destroyed",$))}else l=e;f=a.transcludeOnThisElement?D(e,a.transclude,i):!a.templateOnThisElement&&i?i:!i&&t?D(e,t):null,a(s,l,c,o,f,a)}else s&&s(e,c.childNodes,n,i)}for(var c,l,u,d,m,f,p,h=[],g=0;g<e.length;g++)c=new ie,l=I(e[g],[],c,0===g?o:n,i),u=l.length?F(l,e[g],c,t,r,null,[],[],a):null,u&&u.scope&&_.$$addScopeClass(c.$$element),m=u&&u.terminal||!(d=e[g].childNodes)||!d.length?null:O(d,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||m)&&(h.push(g,u,m),f=!0,p=p||u),a=null;return f?s:null}function D(e,t,n){var r=function(r,o,i,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,o,{parentBoundTranscludeFn:n,transcludeControllers:i,futureParentElement:a})};return r}function I(e,t,n,r,o){var i,a,s=e.nodeType,c=n.$attr;switch(s){case Kr:B(t,lt(j(e)),"E",r,o);for(var l,u,d,p,h,g,v=e.attributes,$=0,b=v&&v.length;b>$;$++){var E=!1,M=!1;l=v[$],u=l.name,h=Fr(l.value),p=lt(u),(g=ue.test(p))&&(u=u.replace(_o,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var C=p.replace(/(Start|End)$/,"");z(C)&&p===C+"Start"&&(E=u,M=u.substr(0,u.length-5)+"end",u=u.substr(0,u.length-6)),d=lt(u.toLowerCase()),c[d]=u,(g||!n.hasOwnProperty(d))&&(n[d]=h,Ue(e,d)&&(n[d]=!0)),ee(e,t,h,d,g),B(t,d,"A",r,o,E,M)}if(a=e.className,y(a)&&(a=a.animVal),w(a)&&""!==a)for(;i=f.exec(a);)d=lt(i[2]),B(t,d,"C",r,o)&&(n[d]=Fr(i[3])),a=a.substr(i.index+i[0].length);break;case Gr:if(11===Ar)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===Gr;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);X(t,e.nodeValue);break;case Xr:try{i=m.exec(e.nodeValue),i&&(d=lt(i[1]),B(t,d,"M",r,o)&&(n[d]=Fr(i[2])))}catch(A){}}return t.sort(Y),t}function R(e,t,n){var r=[],o=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw No("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==Kr&&(e.hasAttribute(t)&&o++,e.hasAttribute(n)&&o--),r.push(e),e=e.nextSibling}while(o>0)}else r.push(e);return xr(r)}function P(e,t,n){return function(r,o,i,a,s){return o=R(o[0],t,n),e(r,o,i,a,s)}}function F(e,r,i,a,s,l,u,d,m){function f(e,t,n,r){e&&(n&&(e=P(e,n,r)),e.require=v.require,e.directiveName=$,(N===v||v.$$isolateScope)&&(e=ne(e,{isolateScope:!0})),u.push(e)),t&&(n&&(t=P(t,n,r)),t.require=v.require,t.directiveName=$,(N===v||v.$$isolateScope)&&(t=ne(t,{isolateScope:!0})),d.push(t))}function p(e,t,n,r){var o;if(w(t)){var i=t.match(b),a=t.substring(i[0].length),s=i[1]||i[3],c="?"===i[2];if("^^"===s?n=n.parent():(o=r&&r[a],o=o&&o.instance),!o){var l="$"+a+"Controller";o=s?n.inheritedData(l):n.data(l)}if(!o&&!c)throw No("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,e)}else if(jr(t)){o=[];for(var u=0,d=t.length;d>u;u++)o[u]=p(e,t[u],n,r)}return o||null}function h(e,t,n,r,o,i){var a=ge();for(var s in r){var l=r[s],u={$scope:l===N||l.$$isolateScope?o:i,$element:e,$attrs:t,$transclude:n},d=l.controller;"@"==d&&(d=t[l.name]);var m=c(d,u,!0,l.controllerAs);a[l.name]=m,L||e.data("$"+l.name+"Controller",m.instance)}return a}function g(e,t,o,a,s,c){function l(e,t,r){var o;return S(e)||(r=t,t=e,e=n),L&&(o=b),r||(r=L?y.parent():y),s(e,t,o,r,O)}var m,f,g,v,$,b,E,y,M;if(r===o?(M=i,y=i.$$element):(y=xr(o),M=new ie(y,i)),N&&($=t.$new(!0)),s&&(E=l,E.$$boundTransclude=s),k&&(b=h(y,M,E,k,$,t)),N&&(_.$$addScopeInfo(y,$,!0,!(H&&(H===N||H===N.$$originalDirective))),_.$$addScopeClass(y,!0),$.$$isolateBindings=N.$$isolateBindings,oe(t,M,$,$.$$isolateBindings,N,$)),b){var w,C,A=N||T;A&&b[A.name]&&(w=A.$$bindings.bindToController,v=b[A.name],v&&v.identifier&&w&&(C=v,c.$$destroyBindings=oe(t,M,v.instance,w,A)));for(m in b){v=b[m];var x=v();x!==v.instance&&(v.instance=x,y.data("$"+m+"Controller",x),v===C&&(c.$$destroyBindings(),c.$$destroyBindings=oe(t,M,x,w,A)))}}for(m=0,f=u.length;f>m;m++)g=u[m],re(g,g.isolateScope?$:t,y,M,g.require&&p(g.directiveName,g.require,y,b),E);var O=t;for(N&&(N.template||null===N.templateUrl)&&(O=$),e&&e(O,o.childNodes,n,s),m=d.length-1;m>=0;m--)g=d[m],re(g,g.isolateScope?$:t,y,M,g.require&&p(g.directiveName,g.require,y,b),E)}m=m||{};for(var v,$,E,M,C,A=-Number.MAX_VALUE,T=m.newScopeDirective,k=m.controllerDirectives,N=m.newIsolateScopeDirective,H=m.templateDirective,O=m.nonTlbTranscludeDirective,D=!1,j=!1,L=m.hasElementTranscludeDirective,F=i.$$element=xr(r),q=l,B=a,z=0,Y=e.length;Y>z;z++){v=e[z];var X=v.$$start,Q=v.$$end;if(X&&(F=R(r,X,Q)),E=n,A>v.priority)break;if((C=v.scope)&&(v.templateUrl||(y(C)?(G("new/isolated scope",N||T,v,F),
N=v):G("new/isolated scope",N,v,F)),T=T||v),$=v.name,!v.templateUrl&&v.controller&&(C=v.controller,k=k||ge(),G("'"+$+"' controller",k[$],v,F),k[$]=v),(C=v.transclude)&&(D=!0,v.$$tlb||(G("transclusion",O,v,F),O=v),"element"==C?(L=!0,A=v.priority,E=F,F=i.$$element=xr(t.createComment(" "+$+": "+i[$]+" ")),r=F[0],te(s,U(E),r),B=_(E,a,A,q&&q.name,{nonTlbTranscludeDirective:O})):(E=xr(Se(r)).contents(),F.empty(),B=_(E,a))),v.template)if(j=!0,G("template",H,v,F),H=v,C=x(v.template)?v.template(F,i):v.template,C=ce(C),v.replace){if(q=v,E=we(C)?[]:dt(Z(v.templateNamespace,Fr(C))),r=E[0],1!=E.length||r.nodeType!==Kr)throw No("tplrt","Template for directive '{0}' must have exactly one root element. {1}",$,"");te(s,F,r);var ee={$attr:{}},ae=I(r,[],ee),se=e.splice(z+1,e.length-(z+1));N&&V(ae),e=e.concat(ae).concat(se),W(i,ee),Y=e.length}else F.html(C);if(v.templateUrl)j=!0,G("template",H,v,F),H=v,v.replace&&(q=v),g=K(e.splice(z,e.length-z),F,i,s,D&&B,u,d,{controllerDirectives:k,newScopeDirective:T!==v&&T,newIsolateScopeDirective:N,templateDirective:H,nonTlbTranscludeDirective:O}),Y=e.length;else if(v.compile)try{M=v.compile(F,i,B),x(M)?f(null,M,X,Q):M&&f(M.pre,M.post,X,Q)}catch(le){o(le,J(F))}v.terminal&&(g.terminal=!0,A=Math.max(A,v.priority))}return g.scope=T&&T.scope===!0,g.transcludeOnThisElement=D,g.templateOnThisElement=j,g.transclude=B,m.hasElementTranscludeDirective=L,g}function V(e){for(var t=0,n=e.length;n>t;t++)e[t]=p(e[t],{$$isolateScope:!0})}function B(t,r,i,a,s,c,d){if(r===s)return null;var m=null;if(l.hasOwnProperty(r))for(var f,h=e.get(r+u),g=0,v=h.length;v>g;g++)try{f=h[g],(a===n||a>f.priority)&&-1!=f.restrict.indexOf(i)&&(c&&(f=p(f,{$$start:c,$$end:d})),t.push(f),m=f)}catch($){o($)}return m}function z(t){if(l.hasOwnProperty(t))for(var n,r=e.get(t+u),o=0,i=r.length;i>o;o++)if(n=r[o],n.multiElement)return!0;return!1}function W(e,t){var n=t.$attr,r=e.$attr,o=e.$$element;i(e,function(r,o){"$"!=o.charAt(0)&&(t[o]&&t[o]!==r&&(r+=("style"===o?";":" ")+t[o]),e.$set(o,r,!0,n[o]))}),i(t,function(t,i){"class"==i?(N(o,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==i?(o.attr("style",o.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==i.charAt(0)||e.hasOwnProperty(i)||(e[i]=t,r[i]=n[i])})}function K(e,t,n,r,o,s,c,l){var u,d,m=[],f=t[0],h=e.shift(),g=p(h,{templateUrl:null,transclude:null,replace:null,$$originalDirective:h}),v=x(h.templateUrl)?h.templateUrl(t,n):h.templateUrl,$=h.templateNamespace;return t.empty(),a(v).then(function(a){var p,b,E,M;if(a=ce(a),h.replace){if(E=we(a)?[]:dt(Z($,Fr(a))),p=E[0],1!=E.length||p.nodeType!==Kr)throw No("tplrt","Template for directive '{0}' must have exactly one root element. {1}",h.name,v);b={$attr:{}},te(r,t,p);var w=I(p,[],b);y(h.scope)&&V(w),e=w.concat(e),W(n,b)}else p=f,t.html(a);for(e.unshift(g),u=F(e,p,n,o,t,h,s,c,l),i(r,function(e,n){e==p&&(r[n]=t[0])}),d=O(t[0].childNodes,o);m.length;){var C=m.shift(),A=m.shift(),x=m.shift(),T=m.shift(),k=t[0];if(!C.$$destroyed){if(A!==f){var S=A.className;l.hasElementTranscludeDirective&&h.replace||(k=Se(p)),te(x,xr(A),k),N(xr(k),S)}M=u.transcludeOnThisElement?D(C,u.transclude,T):T,u(d,C,k,r,M,u)}}m=null}),function(e,t,n,r,o){var i=o;t.$$destroyed||(m?m.push(t,n,r,i):(u.transcludeOnThisElement&&(i=D(t,u.transclude,o)),u(d,t,n,r,i,u)))}}function Y(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function G(e,t,n,r){function o(e){return e?" (module: "+e+")":""}if(t)throw No("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,o(t.$$moduleName),n.name,o(n.$$moduleName),e,J(r))}function X(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),r=!!t.length;return r&&_.$$addBindingClass(t),function(e,t){var o=t.parent();r||_.$$addBindingClass(o),_.$$addBindingInfo(o,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function Z(e,n){switch(e=Er(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function Q(e,t){if("srcdoc"==t)return A.HTML;var n=j(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?A.RESOURCE_URL:void 0}function ee(e,t,n,o,i){var a=Q(e,o);i=$[o]||i;var s=r(n,!0,a,i);if(s){if("multiple"===o&&"select"===j(e))throw No("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",J(e));t.push({priority:100,compile:function(){return{pre:function(e,t,c){var l=c.$$observers||(c.$$observers={});if(M.test(o))throw No("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var u=c[o];u!==n&&(s=u&&r(u,!0,a,i),n=u),s&&(c[o]=s(e),(l[o]||(l[o]=[])).$$inter=!0,(c.$$observers&&c.$$observers[o].$$scope||e).$watch(s,function(e,t){"class"===o&&e!=t?c.$updateClass(e,t):c.$set(o,e)}))}}}})}}function te(e,n,r){var o,i,a=n[0],s=n.length,c=a.parentNode;if(e)for(o=0,i=e.length;i>o;o++)if(e[o]==a){e[o++]=r;for(var l=o,u=l+s-1,d=e.length;d>l;l++,u++)d>u?e[l]=e[u]:delete e[l];e.length-=s-1,e.context===a&&(e.context=r);break}c&&c.replaceChild(r,a);var m=t.createDocumentFragment();m.appendChild(a),xr.hasData(a)&&(xr(r).data(xr(a).data()),Tr?(Pr=!0,Tr.cleanData([a])):delete xr.cache[a[xr.expando]]);for(var f=1,p=n.length;p>f;f++){var h=n[f];xr(h).remove(),m.appendChild(h),delete n[f]}n[0]=r,n.length=1}function ne(e,t){return d(function(){return e.apply(null,arguments)},e,t)}function re(e,t,n,r,i,a){try{e(t,n,r,i,a)}catch(s){o(s,J(n))}}function oe(e,t,o,a,c,l){var u;i(a,function(i,a){var l,d,m,f,p=i.attrName,g=i.optional,v=i.mode;switch(yr.call(t,p)||(t[p]=n),v){case"@":t[p]||g||(o[a]=n),t.$observe(p,function(e){o[a]=e}),t.$$observers[p].$$scope=e,t[p]&&(o[a]=r(t[p])(e));break;case"=":if(g&&!t[p])return;d=s(t[p]),f=d.literal?q:function(e,t){return e===t||e!==e&&t!==t},m=d.assign||function(){throw l=o[a]=d(e),No("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",t[p],c.name)},l=o[a]=d(e);var $=function(t){return f(t,o[a])||(f(t,l)?m(e,t=o[a]):o[a]=t),l=t};$.$stateful=!0;var b;b=i.collection?e.$watchCollection(t[p],$):e.$watch(s(t[p],$),null,d.literal),u=u||[],u.push(b);break;case"&":if(d=s(t[p]),d===h&&g)break;o[a]=function(t){return d(e,t)}}});var d=u?function(){for(var e=0,t=u.length;t>e;++e)u[e]()}:h;return l&&d!==h?(l.$on("$destroy",d),h):d}var ie=function(e,t){if(t){var n,r,o,i=Object.keys(t);for(n=0,r=i.length;r>n;n++)o=i[n],this[o]=t[o]}else this.$attr={};this.$$element=e};ie.prototype={$normalize:lt,$addClass:function(e){e&&e.length>0&&T.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=ut(e,t);n&&n.length&&T.addClass(this.$$element,n);var r=ut(t,e);r&&r.length&&T.removeClass(this.$$element,r)},$set:function(e,t,r,a){var s,c=this.$$element[0],l=Ue(c,e),u=ze(c,e),d=e;if(l?(this.$$element.prop(e,t),a=l):u&&(this[u]=t,d=u),this[e]=t,a?this.$attr[e]=a:(a=this.$attr[e],a||(this.$attr[e]=a=le(e,"-"))),s=j(this.$$element),"a"===s&&"href"===e||"img"===s&&"src"===e)this[e]=t=k(t,"src"===e);else if("img"===s&&"srcset"===e){for(var m="",f=Fr(t),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,h=/\s/.test(f)?p:/(,)/,g=f.split(h),v=Math.floor(g.length/2),$=0;v>$;$++){var b=2*$;m+=k(Fr(g[b]),!0),m+=" "+Fr(g[b+1])}var E=Fr(g[2*$]).split(/\s/);m+=k(Fr(E[0]),!0),2===E.length&&(m+=" "+Fr(E[1])),this[e]=t=m}r!==!1&&(null===t||t===n?this.$$element.removeAttr(a):this.$$element.attr(a,t));var y=this.$$observers;y&&i(y[d],function(e){try{e(t)}catch(n){o(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=ge()),o=r[e]||(r[e]=[]);return o.push(t),v.$evalAsync(function(){!o.$$inter&&n.hasOwnProperty(e)&&t(n[e])}),function(){L(o,t)}}};var ae=r.startSymbol(),se=r.endSymbol(),ce="{{"==ae||"}}"==se?g:function(e){return e.replace(/\{\{/g,ae).replace(/}}/g,se)},ue=/^ngAttr[A-Z]/;return _.$$addBindingInfo=C?function(e,t){var n=e.data("$binding")||[];jr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:h,_.$$addBindingClass=C?function(e){N(e,"ng-binding")}:h,_.$$addScopeInfo=C?function(e,t,n,r){var o=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(o,t)}:h,_.$$addScopeClass=C?function(e,t){N(e,t?"ng-isolate-scope":"ng-scope")}:h,_}]}function lt(e){return Me(e.replace(_o,""))}function ut(e,t){var n="",r=e.split(/\s+/),o=t.split(/\s+/);e:for(var i=0;i<r.length;i++){for(var a=r[i],s=0;s<o.length;s++)if(a==o[s])continue e;n+=(n.length>0?" ":"")+a}return n}function dt(e){e=xr(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===Xr&&Nr.call(e,t,1)}return e}function mt(e,t){if(t&&w(t))return t;if(w(e)){var n=Oo.exec(e);if(n)return n[3]}}function ft(){var e={},t=!1;this.register=function(t,n){fe(t,"controller"),y(t)?d(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(o,i){function a(e,t,n,o){if(!e||!y(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",o,t);e.$scope[t]=n}return function(r,s,c,l){var u,m,f,p;if(c=c===!0,l&&w(l)&&(p=l),w(r)){if(m=r.match(Oo),!m)throw Ho("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);f=m[1],p=p||m[3],r=e.hasOwnProperty(f)?e[f]:pe(s.$scope,f,!0)||(t?pe(i,f,!0):n),me(r,f,!0)}if(c){var h=(jr(r)?r[r.length-1]:r).prototype;u=Object.create(h||null),p&&a(s,p,u,f||r.name);var g;return g=d(function(){var e=o.invoke(r,u,s,f);return e!==u&&(y(e)||x(e))&&(u=e,p&&a(s,p,u,f||r.name)),u},{instance:u,identifier:p})}return u=o.instantiate(r,s,f),p&&a(s,p,u,f||r.name),u}}]}function pt(){this.$get=["$window",function(e){return xr(e.document)}]}function ht(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function gt(e){return y(e)?A(e)?e.toISOString():K(e):e}function vt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return a(e,function(e,n){null===e||b(e)||(jr(e)?i(e,function(e,r){t.push(re(n)+"="+re(gt(e)))}):t.push(re(n)+"="+re(gt(e))))}),t.join("&")}}}function $t(){this.$get=function(){return function(e){function t(e,r,o){null===e||b(e)||(jr(e)?i(e,function(e){t(e,r+"[]")}):y(e)&&!A(e)?a(e,function(e,n){t(e,r+(o?"":"[")+n+(o?"":"]"))}):n.push(re(r)+"="+re(gt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function bt(e,t){if(w(e)){var n=e.replace(jo,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Do)||Et(n))&&(e=Y(n))}}return e}function Et(e){var t=e.match(Ro);return t&&Po[t[0]].test(e)}function yt(e){function t(e,t){e&&(r[e]=r[e]?r[e]+", "+t:t)}var n,r=ge();return w(e)?i(e.split("\n"),function(e){n=e.indexOf(":"),t(Er(Fr(e.substr(0,n))),Fr(e.substr(n+1)))}):y(e)&&i(e,function(e,n){t(Er(n),Fr(e))}),r}function Mt(e){var t;return function(n){if(t||(t=yt(e)),n){var r=t[Er(n)];return void 0===r&&(r=null),r}return t}}function wt(e,t,n,r){return x(r)?r(e,t,n):(i(r,function(r){e=r(e,t,n)}),e)}function Ct(e){return e>=200&&300>e}function At(){var e=this.defaults={transformResponse:[bt],transformRequest:[function(e){return!y(e)||N(e)||H(e)||_(e)?e:K(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:V(Io),put:V(Io),patch:V(Io)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return E(e)?(t=!!e,this):t};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,c,l,u,m){function f(t){function o(e){var t=d({},e);return t.data=e.data?wt(e.data,e.headers,e.status,c.transformResponse):e.data,Ct(e.status)?t:u.reject(t)}function a(e,t){var n,r={};return i(e,function(e,o){x(e)?(n=e(t),null!=n&&(r[o]=n)):r[o]=e}),r}function s(t){var n,r,o,i=e.headers,s=d({},t.headers);i=d({},i.common,i[Er(t.method)]);e:for(n in i){r=Er(n);for(o in s)if(Er(o)===r)continue e;s[n]=i[n]}return a(s,V(t))}if(!Ir.isObject(t))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);var c=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);c.headers=s(t),c.method=Mr(c.method),c.paramSerializer=w(c.paramSerializer)?m.get(c.paramSerializer):c.paramSerializer;var l=function(t){var r=t.headers,a=wt(t.data,Mt(r),n,t.transformRequest);return b(a)&&i(r,function(e,t){"content-type"===Er(t)&&delete r[t]}),b(t.withCredentials)&&!b(e.withCredentials)&&(t.withCredentials=e.withCredentials),g(t,a).then(o,o)},f=[l,n],p=u.when(c);for(i(M,function(e){(e.request||e.requestError)&&f.unshift(e.request,e.requestError),(e.response||e.responseError)&&f.push(e.response,e.responseError)});f.length;){var h=f.shift(),v=f.shift();p=p.then(h,v)}return p.success=function(e){return me(e,"fn"),p.then(function(t){e(t.data,t.status,t.headers,c)}),p},p.error=function(e){return me(e,"fn"),p.then(null,function(t){e(t.data,t.status,t.headers,c)}),p},p}function p(e){i(arguments,function(e){f[e]=function(t,n){return f(d({},n||{},{method:e,url:t}))}})}function h(e){i(arguments,function(e){f[e]=function(t,n,r){return f(d({},r||{},{method:e,url:t,data:n}))}})}function g(r,o){function i(e,n,r,o){function i(){c(n,e,r,o)}p&&(Ct(e)?p.put(C,[e,n,yt(r),o]):p.remove(C)),t?l.$applyAsync(i):(i(),l.$$phase||l.$apply())}function c(e,t,n,o){t=Math.max(t,0),(Ct(t)?g.resolve:g.reject)({data:e,status:t,headers:Mt(n),config:r,statusText:o})}function d(e){c(e.data,e.status,V(e.headers()),e.statusText)}function m(){var e=f.pendingRequests.indexOf(r);-1!==e&&f.pendingRequests.splice(e,1)}var p,h,g=u.defer(),M=g.promise,w=r.headers,C=v(r.url,r.paramSerializer(r.params));if(f.pendingRequests.push(r),M.then(m,m),!r.cache&&!e.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(p=y(r.cache)?r.cache:y(e.cache)?e.cache:$),p&&(h=p.get(C),E(h)?D(h)?h.then(d,d):jr(h)?c(h[1],h[0],V(h[2]),h[3]):c(h,200,{},"OK"):p.put(C,M)),b(h)){var A=Tn(r.url)?s()[r.xsrfCookieName||e.xsrfCookieName]:n;A&&(w[r.xsrfHeaderName||e.xsrfHeaderName]=A),a(r.method,C,o,i,w,r.timeout,r.withCredentials,r.responseType)}return M}function v(e,t){return t.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var $=c("$http");e.paramSerializer=w(e.paramSerializer)?m.get(e.paramSerializer):e.paramSerializer;var M=[];return i(o,function(e){M.unshift(w(e)?m.get(e):m.invoke(e))}),f.pendingRequests=[],p("get","delete","head","jsonp"),h("post","put","patch"),f.defaults=e,f}]}function xt(){return new e.XMLHttpRequest}function Tt(){this.$get=["$browser","$window","$document",function(e,t,n){return kt(e,xt,e.defer,t.angular.callbacks,n[0])}]}function kt(e,t,r,o,a){function s(e,t,n){var r=a.createElement("script"),i=null;return r.type="text/javascript",r.src=e,r.async=!0,i=function(e){ro(r,"load",i),ro(r,"error",i),a.body.removeChild(r),r=null;var s=-1,c="unknown";e&&("load"!==e.type||o[t].called||(e={type:"error"}),c=e.type,s="error"===e.type?404:200),n&&n(s,c)},no(r,"load",i),no(r,"error",i),a.body.appendChild(r),i}return function(a,c,l,u,d,m,f,p){function g(){b&&b(),y&&y.abort()}function v(t,o,i,a,s){C!==n&&r.cancel(C),b=y=null,t(o,i,a,s),e.$$completeOutstandingRequest(h)}if(e.$$incOutstandingRequestCount(),c=c||e.url(),"jsonp"==Er(a)){var $="_"+(o.counter++).toString(36);o[$]=function(e){o[$].data=e,o[$].called=!0};var b=s(c.replace("JSON_CALLBACK","angular.callbacks."+$),$,function(e,t){v(u,e,o[$].data,"",t),o[$]=h})}else{var y=t();y.open(a,c,!0),i(d,function(e,t){E(e)&&y.setRequestHeader(t,e)}),y.onload=function(){var e=y.statusText||"",t="response"in y?y.response:y.responseText,n=1223===y.status?204:y.status;0===n&&(n=t?200:"file"==xn(c).protocol?404:0),v(u,n,t,y.getAllResponseHeaders(),e)};var M=function(){v(u,-1,null,null,"")};if(y.onerror=M,y.onabort=M,f&&(y.withCredentials=!0),p)try{y.responseType=p}catch(w){if("json"!==p)throw w}y.send(l)}if(m>0)var C=r(g,m);else D(m)&&m.then(g)}}function St(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,o){function i(e){return"\\\\\\"+e}function a(n){return n.replace(m,e).replace(f,t)}function s(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=K(e)}return e}function c(i,c,m,f){function p(e){try{return e=k(e),f&&!E(e)?e:s(e)}catch(t){r(Lo.interr(i,t))}}f=!!f;for(var h,g,v,$=0,y=[],M=[],w=i.length,C=[],A=[];w>$;){if(-1==(h=i.indexOf(e,$))||-1==(g=i.indexOf(t,h+l))){$!==w&&C.push(a(i.substring($)));break}$!==h&&C.push(a(i.substring($,h))),v=i.substring(h+l,g),y.push(v),M.push(n(v,p)),$=g+u,A.push(C.length),C.push("")}if(m&&C.length>1&&Lo.throwNoconcat(i),!c||y.length){var T=function(e){for(var t=0,n=y.length;n>t;t++){if(f&&b(e[t]))return;C[A[t]]=e[t]}return C.join("")},k=function(e){return m?o.getTrusted(m,e):o.valueOf(e)};return d(function(e){var t=0,n=y.length,o=new Array(n);try{for(;n>t;t++)o[t]=M[t](e);return T(o)}catch(a){r(Lo.interr(i,a))}},{exp:i,expressions:y,$$watchDelegate:function(e,t){var n;return e.$watchGroup(M,function(r,o){var i=T(r);x(t)&&t.call(this,i,r!==o?n:i,e),n=i})}})}}var l=e.length,u=t.length,m=new RegExp(e.replace(/./g,i),"g"),f=new RegExp(t.replace(/./g,i),"g");return c.startSymbol=function(){return e},c.endSymbol=function(){return t},c}]}function Nt(){this.$get=["$rootScope","$window","$q","$$q",function(e,t,n,r){function o(o,a,s,c){var l=arguments.length>4,u=l?U(arguments,4):[],d=t.setInterval,m=t.clearInterval,f=0,p=E(c)&&!c,h=(p?r:n).defer(),g=h.promise;return s=E(s)?s:0,g.then(null,null,l?function(){o.apply(null,u)}:o),g.$$intervalId=d(function(){h.notify(f++),s>0&&f>=s&&(h.resolve(f),m(g.$$intervalId),delete i[g.$$intervalId]),p||e.$apply()},a),i[g.$$intervalId]=h,g}var i={};return o.cancel=function(e){return e&&e.$$intervalId in i?(i[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete i[e.$$intervalId],!0):!1},o}]}function _t(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(e){return 1===e?"one":"other"}}}}function Ht(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ne(t[n]);return t.join("/")}function Ot(e,t){var n=xn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=f(n.port)||Vo[n.protocol]||null}function Dt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=xn(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=ee(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function It(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function Rt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Pt(e){return e.replace(/(#.+)|#$/,"$1")}function jt(e){return e.substr(0,Rt(e).lastIndexOf("/")+1)}function Lt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Ft(e,t){this.$$html5=!0,t=t||"";var r=jt(e);Ot(e,this),this.$$parse=function(e){var t=It(r,e);if(!w(t))throw qo("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,r);Dt(t,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=te(this.$$search),t=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=Ht(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(o,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var a,s,c;return(a=It(e,o))!==n?(s=a,c=(a=It(t,a))!==n?r+(It("/",a)||a):e+s):(a=It(r,o))!==n?c=r+a:r==o+"/"&&(c=r),c&&this.$$parse(c),!!c}}function Vt(e,t){var n=jt(e);Ot(e,this),this.$$parse=function(r){function o(e,t,n){var r,o=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),o.exec(t)?e:(r=o.exec(e),r?r[1]:e)}var i,a=It(e,r)||It(n,r);b(a)||"#"!==a.charAt(0)?this.$$html5?i=a:(i="",b(a)&&(e=r,this.replace())):(i=It(t,a),b(i)&&(i=a)),Dt(i,this),this.$$path=o(this.$$path,i,e),this.$$compose()},this.$$compose=function(){var n=te(this.$$search),r=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=Ht(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return Rt(e)==Rt(t)?(this.$$parse(t),!0):!1}}function qt(e,t){this.$$html5=!0,Vt.apply(this,arguments);var n=jt(e);this.$$parseLinkUrl=function(r,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var i,a;return e==Rt(r)?i=r:(a=It(n,r))?i=e+t+a:n===r+"/"&&(i=n),i&&this.$$parse(i),!!i},this.$$compose=function(){var n=te(this.$$search),r=this.$$hash?"#"+ne(this.$$hash):"";this.$$url=Ht(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+t+this.$$url}}function Bt(e){return function(){return this[e]}}function Ut(e,t){return function(n){return b(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function zt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return E(t)?(e=t,this):e},this.html5Mode=function(e){return O(e)?(t.enabled=e,this):y(e)?(O(e.enabled)&&(t.enabled=e.enabled),O(e.requireBase)&&(t.requireBase=e.requireBase),O(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,o,i,a){function s(e,t,n){var o=l.url(),i=l.$$state;try{r.url(e,t,n),l.$$state=r.state()}catch(a){throw l.url(o),l.$$state=i,a}}function c(e,t){n.$broadcast("$locationChangeSuccess",l.absUrl(),e,l.$$state,t)}var l,u,d,m=r.baseHref(),f=r.url();if(t.enabled){if(!m&&t.requireBase)throw qo("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=Lt(f)+(m||"/"),u=o.history?Ft:qt}else d=Rt(f),u=Vt;l=new u(d,"#"+e),l.$$parseLinkUrl(f,f),l.$$state=r.state();var p=/^\s*(javascript|mailto):/i;i.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var o=xr(e.target);"a"!==j(o[0]);)if(o[0]===i[0]||!(o=o.parent())[0])return;var s=o.prop("href"),c=o.attr("href")||o.attr("xlink:href");y(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=xn(s.animVal).href),p.test(s)||!s||o.attr("target")||e.isDefaultPrevented()||l.$$parseLinkUrl(s,c)&&(e.preventDefault(),l.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Pt(l.absUrl())!=Pt(f)&&r.url(l.absUrl(),!0);var h=!0;return r.onUrlChange(function(e,t){n.$evalAsync(function(){var r,o=l.absUrl(),i=l.$$state;l.$$parse(e),l.$$state=t,r=n.$broadcast("$locationChangeStart",e,o,t,i).defaultPrevented,l.absUrl()===e&&(r?(l.$$parse(o),l.$$state=i,s(o,!1,i)):(h=!1,c(o,i)))}),n.$$phase||n.$digest()}),n.$watch(function(){var e=Pt(r.url()),t=Pt(l.absUrl()),i=r.state(),a=l.$$replace,u=e!==t||l.$$html5&&o.history&&i!==l.$$state;(h||u)&&(h=!1,n.$evalAsync(function(){var t=l.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,l.$$state,i).defaultPrevented;l.absUrl()===t&&(r?(l.$$parse(e),l.$$state=i):(u&&s(t,a,i===l.$$state?null:l.$$state),c(e,i)))})),l.$$replace=!1}),l}]}function Wt(){var e=!0,t=this;this.debugEnabled=function(t){return E(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},o=t[e]||t.log||h,a=!1;try{a=!!o.apply}catch(s){}return a?function(){var e=[];return i(arguments,function(t){e.push(r(t))}),o.apply(t,e)}:function(e,t){o(e,null==t?"":t)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Kt(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Uo("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function Yt(e,t){if(e){if(e.constructor===e)throw Uo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw Uo("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Uo("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw Uo("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Gt(e,t){if(e){if(e.constructor===e)throw Uo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===zo||e===Wo||e===Ko)throw Uo("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function Xt(e,t){return"undefined"!=typeof e?e:t}function Zt(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function Jt(e,t){var n=e(t);return!n.$stateful}function Qt(e,t){var n,r;switch(e.type){case Zo.Program:n=!0,i(e.body,function(e){Qt(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case Zo.Literal:e.constant=!0,e.toWatch=[];break;case Zo.UnaryExpression:Qt(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Zo.BinaryExpression:Qt(e.left,t),Qt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Zo.LogicalExpression:Qt(e.left,t),Qt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Zo.ConditionalExpression:Qt(e.test,t),Qt(e.alternate,t),Qt(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Zo.Identifier:e.constant=!1,e.toWatch=[e];break;case Zo.MemberExpression:Qt(e.object,t),e.computed&&Qt(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case Zo.CallExpression:n=e.filter?Jt(t,e.callee.name):!1,r=[],i(e.arguments,function(e){Qt(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&Jt(t,e.callee.name)?r:[e];break;case Zo.AssignmentExpression:Qt(e.left,t),Qt(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Zo.ArrayExpression:n=!0,r=[],i(e.elements,function(e){Qt(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case Zo.ObjectExpression:n=!0,r=[],i(e.properties,function(e){Qt(e.value,t),n=n&&e.value.constant,e.value.constant||r.push.apply(r,e.value.toWatch)}),e.constant=n,e.toWatch=r;break;case Zo.ThisExpression:e.constant=!1,e.toWatch=[]}}function en(e){if(1==e.length){var t=e[0].expression,r=t.toWatch;return 1!==r.length?r:r[0]!==t?r:n}}function tn(e){return e.type===Zo.Identifier||e.type===Zo.MemberExpression}function nn(e){return 1===e.body.length&&tn(e.body[0].expression)?{type:Zo.AssignmentExpression,left:e.body[0].expression,right:{type:Zo.NGValueParameter},operator:"="}:void 0}function rn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Zo.Literal||e.body[0].expression.type===Zo.ArrayExpression||e.body[0].expression.type===Zo.ObjectExpression)}function on(e){return e.constant}function an(e,t){this.astBuilder=e,this.$filter=t}function sn(e,t){this.astBuilder=e,this.$filter=t}function cn(e,t,n,r){Yt(e,r);for(var o,i=t.split("."),a=0;i.length>1;a++){o=Kt(i.shift(),r);var s=Yt(e[o],r);s||(s={},e[o]=s),e=s}return o=Kt(i.shift(),r),Yt(e[o],r),e[o]=n,n}function ln(e){return"constructor"==e}function un(e){return x(e.valueOf)?e.valueOf():Qo.call(e)}function dn(){var e=ge(),t=ge();this.$get=["$filter","$sniffer",function(r,o){function a(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=un(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function s(e,t,r,o,i){var s,c=o.inputs;if(1===c.length){var l=a;return c=c[0],e.$watch(function(e){var t=c(e);return a(t,l)||(s=o(e,n,n,[t]),l=t&&un(t)),s},t,r,i)}for(var u=[],d=[],m=0,f=c.length;f>m;m++)u[m]=a,d[m]=null;return e.$watch(function(e){for(var t=!1,r=0,i=c.length;i>r;r++){var l=c[r](e);(t||(t=!a(l,u[r])))&&(d[r]=l,u[r]=l&&un(l))}return t&&(s=o(e,n,n,d)),s},t,r,i)}function c(e,t,n,r){var o,i;return o=e.$watch(function(e){return r(e)},function(e,n,r){i=e,x(t)&&t.apply(this,arguments),E(e)&&r.$$postDigest(function(){E(i)&&o()})},n)}function l(e,t,n,r){function o(e){var t=!0;return i(e,function(e){E(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return r(e)},function(e,n,r){s=e,x(t)&&t.call(this,e,n,r),o(e)&&r.$$postDigest(function(){o(s)&&a()})},n)}function u(e,t,n,r){var o;return o=e.$watch(function(e){return r(e)},function(e,n,r){x(t)&&t.apply(this,arguments),o()},n)}function d(e,t){if(!t)return e;var n=e.$$watchDelegate,r=n!==l&&n!==c,o=r?function(n,r,o,i){var a=e(n,r,o,i);return t(a,n,r)}:function(n,r,o,i){var a=e(n,r,o,i),s=t(a,n,r);return E(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==s?o.$$watchDelegate=e.$$watchDelegate:t.$stateful||(o.$$watchDelegate=s,o.inputs=e.inputs?e.inputs:[e]),o}var m={csp:o.csp,expensiveChecks:!1},f={csp:o.csp,expensiveChecks:!0};return function(n,o,i){var a,p,g;switch(typeof n){case"string":n=n.trim(),g=n;var v=i?t:e;if(a=v[g],!a){":"===n.charAt(0)&&":"===n.charAt(1)&&(p=!0,n=n.substring(2));var $=i?f:m,b=new Xo($),E=new Jo(b,r,$);a=E.parse(n),a.constant?a.$$watchDelegate=u:p?a.$$watchDelegate=a.literal?l:c:a.inputs&&(a.$$watchDelegate=s),v[g]=a}return d(a,o);case"function":return d(n,o);default:return h}}}]}function mn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return pn(function(t){e.$evalAsync(t)},t)}]}function fn(){this.$get=["$browser","$exceptionHandler",function(e,t){return pn(function(t){e.defer(t)},t)}]}function pn(e,t){function o(e,t,n){function r(t){return function(n){o||(o=!0,t.call(e,n))}}var o=!1;return[r(t),r(n)]}function a(){this.$$state={status:0}}function s(e,t){return function(n){t.call(e,n)}}function c(e){var r,o,i;i=e.pending,e.processScheduled=!1,e.pending=n;for(var a=0,s=i.length;s>a;++a){o=i[a][0],r=i[a][e.status];try{x(r)?o.resolve(r(e.value)):1===e.status?o.resolve(e.value):o.reject(e.value)}catch(c){o.reject(c),t(c)}}}function l(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){c(t)}))}function u(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function d(e){var t=new u,n=0,r=jr(e)?[]:{};return i(e,function(e,o){n++,v(e).then(function(e){r.hasOwnProperty(o)||(r[o]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(o)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var m=r("$q",TypeError),f=function(){return new u};a.prototype={then:function(e,t,n){var r=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&l(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return g(t,!0,e)},function(t){return g(t,!1,e)},t)}},u.prototype={resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(m("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var n,r;r=o(this,this.$$resolve,this.$$reject);try{(y(e)||x(e))&&(n=e&&e.then),x(n)?(this.promise.$$state.status=-1,n.call(e,r[0],r[1],this.notify)):(this.promise.$$state.value=e,this.promise.$$state.status=1,l(this.promise.$$state))}catch(i){
r[1](i),t(i)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,o,i=0,a=r.length;a>i;i++){o=r[i][0],e=r[i][3];try{o.notify(x(e)?e(n):n)}catch(s){t(s)}}})}};var p=function(e){var t=new u;return t.reject(e),t.promise},h=function(e,t){var n=new u;return t?n.resolve(e):n.reject(e),n.promise},g=function(e,t,n){var r=null;try{x(n)&&(r=n())}catch(o){return h(o,!1)}return D(r)?r.then(function(){return h(e,t)},function(e){return h(e,!1)}):h(e,t)},v=function(e,t,n,r){var o=new u;return o.resolve(e),o.promise.then(t,n,r)},$=v,b=function E(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!x(e))throw m("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof E))return new E(e);var r=new u;return e(t,n),r.promise};return b.defer=f,b.reject=p,b.when=v,b.resolve=$,b.all=d,b}function hn(){this.$get=["$window","$timeout",function(e,t){function n(){for(var e=0;e<u.length;e++){var t=u[e];t&&(u[e]=null,t())}l=u.length=0}function r(e){var t=u.length;return l++,u.push(e),0===t&&(c=s(n)),function(){t>=0&&(u[t]=null,t=null,0===--l&&c&&(c(),c=null,u.length=0))}}var o=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,a=!!o,s=a?function(e){var t=o(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};r.supported=a;var c,l=0,u=[];return r}]}function gn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=c(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,l,u,d){function m(e){e.currentScope.$$destroyed=!0}function f(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(e){if(C.$$phase)throw n("inprog","{0} already in progress",C.$$phase);C.$$phase=e}function g(){C.$$phase=null}function v(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function $(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function E(){}function M(){for(;k.length;)try{k.shift()()}catch(e){l(e)}s=null}function w(){null===s&&(s=d.defer(function(){C.$apply(M)}))}f.prototype={constructor:f,$new:function(t,n){var r;return n=n||this,t?(r=new f,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",m),r},$watch:function(e,t,n,r){var o=u(e);if(o.$$watchDelegate)return o.$$watchDelegate(this,t,n,o,e);var i=this,s=i.$$watchers,c={fn:t,last:E,get:o,exp:r||e,eq:!!n};return a=null,x(t)||(c.fn=h),s||(s=i.$$watchers=[]),s.unshift(c),v(this,1),function(){L(s,c)>=0&&v(i,-1),a=null}},$watchGroup:function(e,t){function n(){c=!1,l?(l=!1,t(o,o,s)):t(o,r,s)}var r=new Array(e.length),o=new Array(e.length),a=[],s=this,c=!1,l=!0;if(!e.length){var u=!0;return s.$evalAsync(function(){u&&t(o,o,s)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,i){o[0]=e,r[0]=n,t(o,e===n?o:r,i)}):(i(e,function(e,t){var i=s.$watch(e,function(e,i){o[t]=e,r[t]=i,c||(c=!0,s.$evalAsync(n))});a.push(i)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function n(e){i=e;var t,n,r,s,c;if(!b(i)){if(y(i))if(o(i)){a!==f&&(a=f,g=a.length=0,d++),t=i.length,g!==t&&(d++,a.length=g=t);for(var l=0;t>l;l++)c=a[l],s=i[l],r=c!==c&&s!==s,r||c===s||(d++,a[l]=s)}else{a!==p&&(a=p={},g=0,d++),t=0;for(n in i)i.hasOwnProperty(n)&&(t++,s=i[n],c=a[n],n in a?(r=c!==c&&s!==s,r||c===s||(d++,a[n]=s)):(g++,a[n]=s,d++));if(g>t){d++;for(n in a)i.hasOwnProperty(n)||(g--,delete a[n])}}else a!==i&&(a=i,d++);return d}}function r(){if(h?(h=!1,t(i,i,c)):t(i,s,c),l)if(y(i))if(o(i)){s=new Array(i.length);for(var e=0;e<i.length;e++)s[e]=i[e]}else{s={};for(var n in i)yr.call(i,n)&&(s[n]=i[n])}else s=i}n.$stateful=!0;var i,a,s,c=this,l=t.length>1,d=0,m=u(e,n),f=[],p={},h=!0,g=0;return this.$watch(m,r)},$digest:function(){var e,r,o,i,c,u,m,f,h,v,$=t,b=this,y=[];p("$digest"),d.$$checkUrlChange(),this===C&&null!==s&&(d.defer.cancel(s),M()),a=null;do{for(u=!1,f=b;A.length;){try{v=A.shift(),v.scope.$eval(v.expression,v.locals)}catch(w){l(w)}a=null}e:do{if(i=f.$$watchers)for(c=i.length;c--;)try{if(e=i[c])if((r=e.get(f))===(o=e.last)||(e.eq?q(r,o):"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))){if(e===a){u=!1;break e}}else u=!0,a=e,e.last=e.eq?F(r,null):r,e.fn(r,o===E?r:o,f),5>$&&(h=4-$,y[h]||(y[h]=[]),y[h].push({msg:x(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:o}))}catch(w){l(w)}if(!(m=f.$$watchersCount&&f.$$childHead||f!==b&&f.$$nextSibling))for(;f!==b&&!(m=f.$$nextSibling);)f=f.$parent}while(f=m);if((u||A.length)&&!$--)throw g(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,y)}while(u||A.length);for(g();T.length;)try{T.shift()()}catch(w){l(w)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===C&&d.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var t in this.$$listenerCount)$(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=h,this.$on=this.$watch=this.$watchGroup=function(){return h},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(e,t){return u(e)(this,t)},$evalAsync:function(e,t){C.$$phase||A.length||d.defer(function(){A.length&&C.$digest()}),A.push({scope:this,expression:e,locals:t})},$$postDigest:function(e){T.push(e)},$apply:function(e){try{return p("$apply"),this.$eval(e)}catch(t){l(t)}finally{g();try{C.$digest()}catch(t){throw l(t),t}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&k.push(t),w()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var o=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,$(o,1,e))}},$emit:function(e,t){var n,r,o,i=[],a=this,s=!1,c={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=B([c],arguments,1);do{for(n=a.$$listeners[e]||i,c.currentScope=a,r=0,o=n.length;o>r;r++)if(n[r])try{n[r].apply(null,u)}catch(d){l(d)}else n.splice(r,1),r--,o--;if(s)return c.currentScope=null,c;a=a.$parent}while(a);return c.currentScope=null,c},$broadcast:function(e,t){var n=this,r=n,o=n,i={name:e,targetScope:n,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return i;for(var a,s,c,u=B([i],arguments,1);r=o;){for(i.currentScope=r,a=r.$$listeners[e]||[],s=0,c=a.length;c>s;s++)if(a[s])try{a[s].apply(null,u)}catch(d){l(d)}else a.splice(s,1),s--,c--;if(!(o=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(o=r.$$nextSibling);)r=r.$parent}return i.currentScope=null,i}};var C=new f,A=C.$$asyncQueue=[],T=C.$$postDigestQueue=[],k=C.$$applyAsyncQueue=[];return C}]}function vn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return E(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return E(e)?(t=e,this):t},this.$get=function(){return function(n,r){var o,i=r?t:e;return o=xn(n).href,""===o||o.match(i)?n:"unsafe:"+o}}}function $n(e){if("self"===e)return e;if(w(e)){if(e.indexOf("***")>-1)throw ei("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Vr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(T(e))return new RegExp("^"+e.source+"$");throw ei("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function bn(e){var t=[];return E(e)&&i(e,function(e){t.push($n(e))}),t}function En(){this.SCE_CONTEXTS=ti;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=bn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=bn(e)),t},this.$get=["$injector",function(r){function o(e,t){return"self"===e?Tn(t):!!e.exec(t.href)}function i(n){var r,i,a=xn(n.toString()),s=!1;for(r=0,i=e.length;i>r;r++)if(o(e[r],a)){s=!0;break}if(s)for(r=0,i=t.length;i>r;r++)if(o(t[r],a)){s=!1;break}return s}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function s(e,t){var r=m.hasOwnProperty(e)?m[e]:null;if(!r)throw ei("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw ei("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new r(t)}function c(e){return e instanceof d?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||t===n||""===t)return t;var r=m.hasOwnProperty(e)?m[e]:null;if(r&&t instanceof r)return t.$$unwrapTrustedValue();if(e===ti.RESOURCE_URL){if(i(t))return t;throw ei("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===ti.HTML)return u(t);throw ei("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(e){throw ei("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(u=r.get("$sanitize"));var d=a(),m={};return m[ti.HTML]=a(d),m[ti.CSS]=a(d),m[ti.URL]=a(d),m[ti.JS]=a(d),m[ti.RESOURCE_URL]=a(m[ti.URL]),{trustAs:s,getTrusted:l,valueOf:c}}]}function yn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Ar)throw ei("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=V(ti);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=g),r.parseAs=function(e,n){var o=t(n);return o.literal&&o.constant?o:t(n,function(t){return r.getTrusted(e,t)})};var o=r.parseAs,a=r.getTrusted,s=r.trustAs;return i(ti,function(e,t){var n=Er(t);r[Me("parse_as_"+n)]=function(t){return o(e,t)},r[Me("get_trusted_"+n)]=function(t){return a(e,t)},r[Me("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function Mn(){this.$get=["$window","$document",function(e,t){var n,r,o={},i=f((/android (\d+)/.exec(Er((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},c=/^(Moz|webkit|ms)(?=[A-Z])/,l=s.body&&s.body.style,u=!1,d=!1;if(l){for(var m in l)if(r=c.exec(m)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),u=!!("transition"in l||n+"Transition"in l),d=!!("animation"in l||n+"Animation"in l),!i||u&&d||(u=w(l.webkitTransition),d=w(l.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>i||a),hasEvent:function(e){if("input"===e&&11>=Ar)return!1;if(b(o[e])){var t=s.createElement("div");o[e]="on"+e in t}return o[e]},csp:qr(),vendorPrefix:n,transitions:u,animations:d,android:i}}]}function wn(){this.$get=["$templateCache","$http","$q","$sce",function(e,t,n,r){function o(i,a){function s(e){if(!a)throw No("tpload","Failed to load template: {0} (HTTP status: {1} {2})",i,e.status,e.statusText);return n.reject(e)}o.totalPendingRequests++,w(i)&&e.get(i)||(i=r.getTrustedResourceUrl(i));var c=t.defaults&&t.defaults.transformResponse;jr(c)?c=c.filter(function(e){return e!==bt}):c===bt&&(c=null);var l={cache:e,transformResponse:c};return t.get(i,l)["finally"](function(){o.totalPendingRequests--}).then(function(t){return e.put(i,t.data),t.data},s)}return o.totalPendingRequests=0,o}]}function Cn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),o=[];return i(r,function(e){var r=Ir.element(e).data("$binding");r&&i(r,function(r){if(n){var i=new RegExp("(^|\\s)"+Vr(t)+"(\\s|\\||$)");i.test(r)&&o.push(e)}else-1!=r.indexOf(t)&&o.push(e)})}),o},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],o=0;o<r.length;++o){var i=n?"=":"*=",a="["+r[o]+"model"+i+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function An(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,o){function i(i,s,c){x(i)||(c=s,s=i,i=h);var l,u=U(arguments,3),d=E(c)&&!c,m=(d?r:n).defer(),f=m.promise;return l=t.defer(function(){try{m.resolve(i.apply(null,u))}catch(t){m.reject(t),o(t)}finally{delete a[f.$$timeoutId]}d||e.$apply()},s),f.$$timeoutId=l,a[l]=m,f}var a={};return i.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},i}]}function xn(e){var t=e;return Ar&&(ni.setAttribute("href",t),t=ni.href),ni.setAttribute("href",t),{href:ni.href,protocol:ni.protocol?ni.protocol.replace(/:$/,""):"",host:ni.host,search:ni.search?ni.search.replace(/^\?/,""):"",hash:ni.hash?ni.hash.replace(/^#/,""):"",hostname:ni.hostname,port:ni.port,pathname:"/"===ni.pathname.charAt(0)?ni.pathname:"/"+ni.pathname}}function Tn(e){var t=w(e)?xn(e):e;return t.protocol===ri.protocol&&t.host===ri.host}function kn(){this.$get=v(e)}function Sn(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var r=e[0]||{},o={},i="";return function(){var e,a,s,c,l,u=r.cookie||"";if(u!==i)for(i=u,e=i.split("; "),o={},s=0;s<e.length;s++)a=e[s],c=a.indexOf("="),c>0&&(l=t(a.substring(0,c)),o[l]===n&&(o[l]=t(a.substring(c+1))));return o}}function Nn(){this.$get=Sn}function _n(e){function t(r,o){if(y(r)){var a={};return i(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,o)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Rn),t("date",Gn),t("filter",Hn),t("json",Xn),t("limitTo",Zn),t("lowercase",ci),t("number",Pn),t("orderBy",Jn),t("uppercase",li)}function Hn(){return function(e,t,n){if(!o(e)){if(null==e)return e;throw r("filter")("notarray","Expected array but received: {0}",e)}var i,a,s=In(t);switch(s){case"function":i=t;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":i=On(t,n,a);break;default:return e}return Array.prototype.filter.call(e,i)}}function On(e,t,n){var r,o=y(e)&&"$"in e;return t===!0?t=q:x(t)||(t=function(e,t){return b(e)?!1:null===e||null===t?e===t:y(t)||y(e)&&!$(e)?!1:(e=Er(""+e),t=Er(""+t),-1!==e.indexOf(t))}),r=function(r){return o&&!y(r)?Dn(r,e.$,t,!1):Dn(r,e,t,n)}}function Dn(e,t,n,r,o){var i=In(e),a=In(t);if("string"===a&&"!"===t.charAt(0))return!Dn(e,t.substring(1),n,r);if(jr(e))return e.some(function(e){return Dn(e,t,n,r)});switch(i){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&Dn(e[s],t,n,!0))return!0;return o?!1:Dn(e,t,n,!1)}if("object"===a){for(s in t){var c=t[s];if(!x(c)&&!b(c)){var l="$"===s,u=l?e:e[s];if(!Dn(u,c,n,l,l))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function In(e){return null===e?"null":typeof e}function Rn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return b(n)&&(n=t.CURRENCY_SYM),b(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:jn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Pn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:jn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function jn(e,t,n,r,o){if(y(e))return"";var i=0>e;e=Math.abs(e);var a=e===1/0;if(!a&&!isFinite(e))return"";var s=e+"",c="",l=!1,u=[];if(a&&(c="∞"),!a&&-1!==s.indexOf("e")){var d=s.match(/([\d\.]+)e(-?)(\d+)/);d&&"-"==d[2]&&d[3]>o+1?e=0:(c=s,l=!0)}if(a||l)o>0&&1>e&&(c=e.toFixed(o),e=parseFloat(c));else{var m=(s.split(oi)[1]||"").length;b(o)&&(o=Math.min(Math.max(t.minFrac,m),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+o)).toString()+"e"+-o);var f=(""+e).split(oi),p=f[0];f=f[1]||"";var h,g=0,v=t.lgSize,$=t.gSize;if(p.length>=v+$)for(g=p.length-v,h=0;g>h;h++)(g-h)%$===0&&0!==h&&(c+=n),c+=p.charAt(h);for(h=g;h<p.length;h++)(p.length-h)%v===0&&0!==h&&(c+=n),c+=p.charAt(h);for(;f.length<o;)f+="0";o&&"0"!==o&&(c+=r+f.substr(0,o))}return 0===e&&(i=!1),u.push(i?t.negPre:t.posPre,c,i?t.negSuf:t.posSuf),u.join("")}function Ln(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function Fn(e,t,n,r){return n=n||0,function(o){var i=o["get"+e]();return(n>0||i>-n)&&(i+=n),0===i&&-12==n&&(i=12),Ln(i,t,r)}}function Vn(e,t){return function(n,r){var o=n["get"+e](),i=Mr(t?"SHORT"+e:e);return r[i][o]}}function qn(e,t,n){var r=-1*n,o=r>=0?"+":"";return o+=Ln(Math[r>0?"floor":"ceil"](r/60),2)+Ln(Math.abs(r%60),2)}function Bn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Un(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function zn(e){return function(t){var n=Bn(t.getFullYear()),r=Un(t),o=+r-+n,i=1+Math.round(o/6048e5);return Ln(i,e)}}function Wn(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Kn(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function Yn(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function Gn(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),o=0,i=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(o=f(t[9]+t[10]),i=f(t[9]+t[11])),a.call(r,f(t[1]),f(t[2])-1,f(t[3]));var c=f(t[4]||0)-o,l=f(t[5]||0)-i,u=f(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,c,l,u,d),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,o){var a,s,c="",l=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,w(n)&&(n=si.test(n)?f(n):t(n)),C(n)&&(n=new Date(n)),!A(n)||!isFinite(n.getTime()))return n;for(;r;)s=ai.exec(r),s?(l=B(l,s,1),r=l.pop()):(l.push(r),r=null);var u=n.getTimezoneOffset();return o&&(u=G(o,n.getTimezoneOffset()),n=Z(n,o,!0)),i(l,function(t){a=ii[t],c+=a?a(n,e.DATETIME_FORMATS,u):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function Xn(){return function(e,t){return b(t)&&(t=2),K(e,t)}}function Zn(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):f(t),isNaN(t)?e:(C(e)&&(e=e.toString()),jr(e)||w(e)?(n=!n||isNaN(n)?0:f(n),n=0>n&&n>=-e.length?e.length+n:n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function Jn(e){function t(t,n){return n=n?-1:1,t.map(function(t){var r=1,o=g;if(x(t))o=t;else if(w(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(r="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(o=e(t),o.constant))){var i=o();o=function(e){return e[i]}}return{get:o,descending:r*n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function r(e,t){return"function"==typeof e.valueOf&&(e=e.valueOf(),n(e))?e:$(e)&&(e=e.toString(),n(e))?e:t}function i(e,t){var n=typeof e;return null===e?(n="string",e="null"):"string"===n?e=e.toLowerCase():"object"===n&&(e=r(e,t)),{value:e,type:n}}function a(e,t){var n=0;return e.type===t.type?e.value!==t.value&&(n=e.value<t.value?-1:1):n=e.type<t.type?-1:1,n}return function(e,n,r){function s(e,t){return{value:e,predicateValues:l.map(function(n){return i(n.get(e),t)})}}function c(e,t){for(var n=0,r=0,o=l.length;o>r&&!(n=a(e.predicateValues[r],t.predicateValues[r])*l[r].descending);++r);return n}if(!o(e))return e;jr(n)||(n=[n]),0===n.length&&(n=["+"]);var l=t(n,r),u=Array.prototype.map.call(e,s);return u.sort(c),e=u.map(function(e){return e.value})}}function Qn(e){return x(e)&&(e={link:e}),e.restrict=e.restrict||"AC",v(e)}function er(e,t){e.$name=t}function tr(e,t,r,o,a){var s=this,c=[],l=s.$$parentForm=e.parent().controller("form")||mi;s.$error={},s.$$success={},s.$pending=n,s.$name=a(t.name||t.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,l.$addControl(s),s.$rollbackViewValue=function(){i(c,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){i(c,function(e){e.$commitViewValue()})},s.$addControl=function(e){fe(e.$name,"input"),c.push(e),e.$name&&(s[e.$name]=e)},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],i(s.$pending,function(t,n){s.$setValidity(n,null,e)}),i(s.$error,function(t,n){s.$setValidity(n,null,e)}),i(s.$$success,function(t,n){s.$setValidity(n,null,e)}),L(c,e)},gr({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var o=r.indexOf(n);-1===o&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(L(r,n),0===r.length&&delete e[t])},parentForm:l,$animate:o}),s.$setDirty=function(){o.removeClass(e,Yi),o.addClass(e,Gi),s.$dirty=!0,s.$pristine=!1,l.$setDirty()},s.$setPristine=function(){o.setClass(e,Yi,Gi+" "+fi),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,i(c,function(e){e.$setPristine()})},s.$setUntouched=function(){i(c,function(e){e.$setUntouched()})},s.$setSubmitted=function(){o.addClass(e,fi),s.$submitted=!0,l.$setSubmitted()}}function nr(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function rr(e,t,n,r,o,i){or(e,t,n,r,o,i),nr(r)}function or(e,t,n,r,o,i){var a=Er(t[0].type);if(!o.android){var s=!1;t.on("compositionstart",function(e){s=!0}),t.on("compositionend",function(){s=!1,c()})}var c=function(e){if(l&&(i.defer.cancel(l),l=null),!s){var o=t.val(),c=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(o=Fr(o)),(r.$viewValue!==o||""===o&&r.$$hasNativeValidators)&&r.$setViewValue(o,c)}};if(o.hasEvent("input"))t.on("input",c);else{var l,u=function(e,t,n){l||(l=i.defer(function(){l=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||u(e,this,this.value)}),o.hasEvent("paste")&&t.on("paste cut",u)}t.on("change",c),r.$render=function(){t.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function ir(e,t){if(A(e))return e;if(w(e)){wi.lastIndex=0;var n=wi.exec(e);if(n){var r=+n[1],o=+n[2],i=0,a=0,s=0,c=0,l=Bn(r),u=7*(o-1);return t&&(i=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),c=t.getMilliseconds()),new Date(r,0,l.getDate()+u,i,a,s,c)}}return 0/0}function ar(e,t){return function(n,r){var o,a;if(A(n))return n;if(w(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),vi.test(n))return new Date(n);if(e.lastIndex=0,o=e.exec(n))return o.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},i(o,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return 0/0}}function sr(e,t,r,o){return function(i,a,s,c,l,u,d){function m(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function f(e){return E(e)?A(e)?e:r(e):n}cr(i,a,s,c),or(i,a,s,c,l,u);var p,h=c&&c.$options&&c.$options.timezone;if(c.$$parserName=e,c.$parsers.push(function(e){if(c.$isEmpty(e))return null;if(t.test(e)){var o=r(e,p);return h&&(o=Z(o,h)),o}return n}),c.$formatters.push(function(e){if(e&&!A(e))throw Qi("datefmt","Expected `{0}` to be a date",e);return m(e)?(p=e,p&&h&&(p=Z(p,h,!0)),d("date")(e,o,h)):(p=null,"")}),E(s.min)||s.ngMin){var g;c.$validators.min=function(e){return!m(e)||b(g)||r(e)>=g},s.$observe("min",function(e){g=f(e),c.$validate()})}if(E(s.max)||s.ngMax){var v;c.$validators.max=function(e){return!m(e)||b(v)||r(e)<=v},s.$observe("max",function(e){v=f(e),c.$validate()})}}}function cr(e,t,r,o){var i=t[0],a=o.$$hasNativeValidators=y(i.validity);a&&o.$parsers.push(function(e){var r=t.prop(br)||{};return r.badInput&&!r.typeMismatch?n:e})}function lr(e,t,r,o,i,a){if(cr(e,t,r,o),or(e,t,r,o,i,a),o.$$parserName="number",o.$parsers.push(function(e){return o.$isEmpty(e)?null:Ei.test(e)?parseFloat(e):n}),o.$formatters.push(function(e){if(!o.$isEmpty(e)){if(!C(e))throw Qi("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),E(r.min)||r.ngMin){var s;o.$validators.min=function(e){return o.$isEmpty(e)||b(s)||e>=s},r.$observe("min",function(e){E(e)&&!C(e)&&(e=parseFloat(e,10)),s=C(e)&&!isNaN(e)?e:n,o.$validate()})}if(E(r.max)||r.ngMax){var c;o.$validators.max=function(e){return o.$isEmpty(e)||b(c)||c>=e},r.$observe("max",function(e){E(e)&&!C(e)&&(e=parseFloat(e,10)),c=C(e)&&!isNaN(e)?e:n,o.$validate()})}}function ur(e,t,n,r,o,i){or(e,t,n,r,o,i),nr(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||$i.test(n)}}function dr(e,t,n,r,o,i){or(e,t,n,r,o,i),nr(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||bi.test(n)}}function mr(e,t,n,r){b(n.name)&&t.attr("name",c());var o=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",o),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function fr(e,t,n,o,i){var a;if(E(o)){if(a=e(o),!a.constant)throw r("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,o);return a(t)}return i}function pr(e,t,n,r,o,i,a,s){var c=fr(s,e,"ngTrueValue",n.ngTrueValue,!0),l=fr(s,e,"ngFalseValue",n.ngFalseValue,!1),u=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",u),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return q(e,c)}),r.$parsers.push(function(e){return e?c:l})}function hr(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var o=e[r],i=0;i<t.length;i++)if(o==t[i])continue e;n.push(o)}return n}function o(e){var t=[];return jr(e)?(i(e,function(e){t=t.concat(o(e))}),t):w(e)?e.split(" "):y(e)?(i(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,c){function l(e){var t=d(e,1);c.$addClass(t)}function u(e){var t=d(e,-1);c.$removeClass(t)}function d(e,t){var n=s.data("$classCounts")||ge(),r=[];return i(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function m(e,t){var o=r(t,e),i=r(e,t);o=d(o,1),i=d(i,-1),o&&o.length&&n.addClass(s,o),i&&i.length&&n.removeClass(s,i)}function f(e){if(t===!0||a.$index%2===t){var n=o(e||[]);if(p){if(!q(e,p)){var r=o(p);m(r,n)}}else l(n)}p=V(e)}var p;a.$watch(c[e],f,!0),c.$observe("class",function(t){f(a.$eval(c[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,r){var i=1&n;if(i!==(1&r)){var s=o(a.$eval(c[e]));i===t?l(s):u(s)}})}}}]}function gr(e){function t(e,t,c){t===n?r("$pending",e,c):o("$pending",e,c),O(t)?t?(d(s.$error,e,c),u(s.$$success,e,c)):(u(s.$error,e,c),d(s.$$success,e,c)):(d(s.$error,e,c),d(s.$$success,e,c)),s.$pending?(i(Ji,!0),s.$valid=s.$invalid=n,a("",null)):(i(Ji,!1),s.$valid=vr(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var l;l=s.$pending&&s.$pending[e]?n:s.$error[e]?!1:s.$$success[e]?!0:null,a(e,l),m.$setValidity(e,l,s)}function r(e,t,n){s[e]||(s[e]={}),u(s[e],t,n)}function o(e,t,r){s[e]&&d(s[e],t,r),vr(s[e])&&(s[e]=n)}function i(e,t){t&&!l[e]?(f.addClass(c,e),l[e]=!0):!t&&l[e]&&(f.removeClass(c,e),l[e]=!1)}function a(e,t){e=e?"-"+le(e,"-"):"",i(Wi+e,t===!0),i(Ki+e,t===!1)}var s=e.ctrl,c=e.$element,l={},u=e.set,d=e.unset,m=e.parentForm,f=e.$animate;l[Ki]=!(l[Wi]=c.hasClass(Wi)),s.$setValidity=t}function vr(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var $r=/^\/(.+)\/([a-z]*)$/,br="validity",Er=function(e){return w(e)?e.toLowerCase():e},yr=Object.prototype.hasOwnProperty,Mr=function(e){return w(e)?e.toUpperCase():e},wr=function(e){return w(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Cr=function(e){return w(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Er=wr,Mr=Cr);var Ar,xr,Tr,kr,Sr=[].slice,Nr=[].splice,_r=[].push,Hr=Object.prototype.toString,Or=Object.getPrototypeOf,Dr=r("ng"),Ir=e.angular||(e.angular={}),Rr=0;Ar=t.documentMode,h.$inject=[],g.$inject=[];var Pr,jr=Array.isArray,Lr=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,Fr=function(e){return w(e)?e.trim():e},Vr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},qr=function(){if(E(qr.isActive_))return qr.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(n){e=!0}return qr.isActive_=e},Br=function(){if(E(Br.name_))return Br.name_;var e,n,r,o,i=Ur.length;for(n=0;i>n;++n)if(r=Ur[n],e=t.querySelector("["+r.replace(":","\\:")+"jq]")){o=e.getAttribute(r+"jq");break}return Br.name_=o},Ur=["ng-","data-ng-","ng:","x-ng-"],zr=/[A-Z]/g,Wr=!1,Kr=1,Yr=2,Gr=3,Xr=8,Zr=9,Jr=11,Qr={full:"1.4.3",major:1,minor:4,dot:3,codeName:"foam-acceleration"};ke.expando="ng339";var eo=ke.cache={},to=1,no=function(e,t,n){e.addEventListener(t,n,!1)},ro=function(e,t,n){e.removeEventListener(t,n,!1)};ke._data=function(e){return this.cache[e[this.expando]]||{}};var oo=/([\:\-\_]+(.))/g,io=/^moz([A-Z])/,ao={mouseleave:"mouseout",mouseenter:"mouseover"},so=r("jqLite"),co=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,lo=/<|&#?\w+;/,uo=/<([\w:]+)/,mo=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,fo={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};fo.optgroup=fo.option,fo.tbody=fo.tfoot=fo.colgroup=fo.caption=fo.thead,fo.th=fo.td;var po=ke.prototype={ready:function(n){function r(){o||(o=!0,n())}var o=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),ke(e).on("load",r))},toString:function(){var e=[];return i(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return xr(e>=0?this[e]:this[this.length+e])},length:0,push:_r,sort:[].sort,splice:[].splice},ho={};i("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){ho[Er(e)]=e});var go={};i("input,select,option,textarea,button,form,details".split(","),function(e){go[e]=!0});var vo={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};i({data:De,removeData:He,hasData:Ae},function(e,t){ke[t]=e}),i({data:De,inheritedData:Fe,scope:function(e){return xr.data(e,"$scope")||Fe(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return xr.data(e,"$isolateScope")||xr.data(e,"$isolateScopeNoTemplate")},controller:Le,injector:function(e){return Fe(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Ie,
css:function(e,t,n){return t=Me(t),E(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,r){var o=e.nodeType;if(o!==Gr&&o!==Yr&&o!==Xr){var i=Er(t);if(ho[i]){if(!E(r))return e[t]||(e.attributes.getNamedItem(t)||h).specified?i:n;r?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(E(r))e.setAttribute(t,r);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?n:a}}},prop:function(e,t,n){return E(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(b(t)){var n=e.nodeType;return n===Kr||n===Gr?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(b(t)){if(e.multiple&&"select"===j(e)){var n=[];return i(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return b(t)?e.innerHTML:(Ne(e,!0),void(e.innerHTML=t))},empty:Ve},function(e,t){ke.prototype[t]=function(t,r){var o,i,a=this.length;if(e!==Ve&&(2==e.length&&e!==Ie&&e!==Le?t:r)===n){if(y(t)){for(o=0;a>o;o++)if(e===De)e(this[o],t);else for(i in t)e(this[o],i,t[i]);return this}for(var s=e.$dv,c=s===n?Math.min(a,1):a,l=0;c>l;l++){var u=e(this[l],t,r);s=s?s+u:u}return s}for(o=0;a>o;o++)e(this[o],t,r);return this}}),i({removeData:He,on:function Sa(e,t,n,r){if(E(r))throw so("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Ce(e)){var o=Oe(e,!0),i=o.events,a=o.handle;a||(a=o.handle=We(e,i));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],c=s.length;c--;){t=s[c];var l=i[t];l||(i[t]=[],"mouseenter"===t||"mouseleave"===t?Sa(e,ao[t],function(e){var n=this,r=e.relatedTarget;(!r||r!==n&&!n.contains(r))&&a(e,t)}):"$destroy"!==t&&no(e,t,a),l=i[t]),l.push(n)}}},off:_e,one:function(e,t,n){e=xr(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;Ne(e),i(new ke(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return i(e.childNodes,function(e){e.nodeType===Kr&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Kr||n===Jr){t=new ke(t);for(var r=0,o=t.length;o>r;r++){var i=t[r];e.appendChild(i)}}},prepend:function(e,t){if(e.nodeType===Kr){var n=e.firstChild;i(new ke(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=xr(t).eq(0).clone()[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:qe,detach:function(e){qe(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new ke(t);for(var o=0,i=t.length;i>o;o++){var a=t[o];r.insertBefore(a,n.nextSibling),n=a}},addClass:Pe,removeClass:Re,toggleClass:function(e,t,n){t&&i(t.split(" "),function(t){var r=n;b(r)&&(r=!Ie(e,t)),(r?Pe:Re)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==Jr?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Se,triggerHandler:function(e,t,n){var r,o,a,s=t.type||t,c=Oe(e),l=c&&c.events,u=l&&l[s];u&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:h,type:s,target:e},t.type&&(r=d(r,t)),o=V(u),a=n?[r].concat(n):[r],i(o,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){ke.prototype[t]=function(t,n,r){for(var o,i=0,a=this.length;a>i;i++)b(o)?(o=e(this[i],t,n,r),E(o)&&(o=xr(o))):je(o,e(this[i],t,n,r));return E(o)?o:this},ke.prototype.bind=ke.prototype.on,ke.prototype.unbind=ke.prototype.off}),Ge.prototype={put:function(e,t){this[Ye(e,this.nextUid)]=t},get:function(e){return this[Ye(e,this.nextUid)]},remove:function(e){var t=this[e=Ye(e,this.nextUid)];return delete this[e],t}};var $o=[function(){this.$get=[function(){return Ge}]}],bo=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Eo=/,/,yo=/^\s*(_?)(\S+?)\1\s*$/,Mo=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,wo=r("$injector");Je.$$annotate=Ze;var Co=r("$animate"),Ao=1,xo="ng-animate",To=function(){this.$get=["$q","$$rAF",function(e,t){function n(){}return n.all=h,n.chain=h,n.prototype={end:h,cancel:h,resume:h,pause:h,complete:h,then:function(n,r){return e(function(e){t(function(){e()})}).then(n,r)}},n}]},ko=function(){var e=new Ge,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function o(n,o,a){var s=e.get(n);s||(e.put(n,s={}),t.push(n)),o&&i(o.split(" "),function(e){e&&(s[e]=!0)}),a&&i(a.split(" "),function(e){e&&(s[e]=!1)}),t.length>1||r.$$postDigest(function(){i(t,function(t){var n=e.get(t);if(n){var r=nt(t.attr("class")),o="",a="";i(n,function(e,t){var n=!!r[t];e!==n&&(e?o+=(o.length?" ":"")+t:a+=(a.length?" ":"")+t)}),i(t,function(e){o&&Pe(e,o),a&&Re(e,a)}),e.remove(t)}}),t.length=0})}return{enabled:h,on:h,off:h,pin:h,push:function(e,t,r,i){return i&&i(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&o(e,r.addClass,r.removeClass),new n}}}]},So=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Co("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var o=n+"-animation";t.$$registeredAnimations[n.substr(1)]=o,e.factory(o,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+xo+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Co("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',xo)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=tt(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,o,i){return r=r&&xr(r),o=o&&xr(o),r=r||o.parent(),t(n,r,o),e.push(n,"enter",rt(i))},move:function(n,r,o,i){return r=r&&xr(r),o=o&&xr(o),r=r||o.parent(),t(n,r,o),e.push(n,"move",rt(i))},leave:function(t,n){return e.push(t,"leave",rt(n),function(){t.remove()})},addClass:function(t,n,r){return r=rt(r),r.addClass=et(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=rt(r),r.removeClass=et(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,o){return o=rt(o),o.addClass=et(o.addClass,n),o.removeClass=et(o.removeClass,r),e.push(t,"setClass",o)},animate:function(t,n,r,o,i){return i=rt(i),i.from=i.from?d(i.from,n):n,i.to=i.to?d(i.to,r):r,o=o||"ng-inline-animate",i.tempClasses=et(i.tempClasses,o),e.push(t,"animate",i)}}}]}],No=r("$compile");ct.$inject=["$provide","$$sanitizeUriProvider"];var _o=/^((?:x|data)[\:\-_])/i,Ho=r("$controller"),Oo=/^(\S+)(\s+as\s+(\w+))?$/,Do="application/json",Io={"Content-Type":Do+";charset=utf-8"},Ro=/^\[|^\{(?!\{)/,Po={"[":/]$/,"{":/}$/},jo=/^\)\]\}',?\n/,Lo=Ir.$interpolateMinErr=r("$interpolate");Lo.throwNoconcat=function(e){throw Lo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Lo.interr=function(e,t){return Lo("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Fo=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Vo={http:80,https:443,ftp:21},qo=r("$location"),Bo={$$html5:!1,$$replace:!1,absUrl:Bt("$$absUrl"),url:function(e){if(b(e))return this.$$url;var t=Fo.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Bt("$$protocol"),host:Bt("$$host"),port:Bt("$$port"),path:Ut("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(w(e)||C(e))e=e.toString(),this.$$search=ee(e);else{if(!y(e))throw qo("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=F(e,{}),i(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:b(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Ut("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};i([qt,Vt,Ft],function(e){e.prototype=Object.create(Bo),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Ft||!this.$$html5)throw qo("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=b(t)?null:t,this}});var Uo=r("$parse"),zo=Function.prototype.call,Wo=Function.prototype.apply,Ko=Function.prototype.bind,Yo=ge();i("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Yo[e]=!0});var Go={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Xo=function(e){this.options=e};Xo.prototype={constructor:Xo,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),o=Yo[t],i=Yo[n],a=Yo[r];if(o||i||a){var s=a?r:i?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=E(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Uo("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Er(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,o=!1;this.index<this.text.length;){var i=this.text.charAt(this.index);if(r+=i,o){if("u"===i){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=Go[i];n+=s||i}o=!1}else if("\\"===i)o=!0;else{if(i===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=i}this.index++}this.throwError("Unterminated quote",t)}};var Zo=function(e,t){this.lexer=e,this.options=t};Zo.Program="Program",Zo.ExpressionStatement="ExpressionStatement",Zo.AssignmentExpression="AssignmentExpression",Zo.ConditionalExpression="ConditionalExpression",Zo.LogicalExpression="LogicalExpression",Zo.BinaryExpression="BinaryExpression",Zo.UnaryExpression="UnaryExpression",Zo.CallExpression="CallExpression",Zo.MemberExpression="MemberExpression",Zo.Identifier="Identifier",Zo.Literal="Literal",Zo.ArrayExpression="ArrayExpression",Zo.Property="Property",Zo.ObjectExpression="ObjectExpression",Zo.ThisExpression="ThisExpression",Zo.NGValueParameter="NGValueParameter",Zo.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Zo.Program,body:e}},expressionStatement:function(){return{type:Zo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:Zo.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Zo.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Zo.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Zo.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Zo.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Zo.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Zo.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Zo.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Zo.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.constants.hasOwnProperty(this.peek().text)?e=F(this.constants[this.consume().text]):this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:Zo.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Zo.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Zo.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:Zo.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Zo.Identifier,name:e.text}},constant:function(){return{type:Zo.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Zo.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Zo.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Zo.ObjectExpression,properties:t}},throwError:function(e,t){throw Uo("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Uo("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Uo("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,o){if(this.tokens.length>e){var i=this.tokens[e],a=i.text;if(a===t||a===n||a===r||a===o||!t&&!n&&!r&&!o)return i}return!1},expect:function(e,t,n,r){var o=this.peek(e,t,n,r);return o?(this.tokens.shift(),o):!1},constants:{"true":{type:Zo.Literal,value:!0},"false":{type:Zo.Literal,value:!1},"null":{type:Zo.Literal,value:null},undefined:{type:Zo.Literal,value:n},"this":{type:Zo.ThisExpression}}},an.prototype={compile:function(e,t){var r=this,o=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Qt(o,r.$filter);var a,s="";if(this.stage="assign",a=nn(o)){this.state.computing="assign";var c=this.nextId();this.recurse(a,c),s="fn.assign="+this.generateFunction("assign","s,v,l")}var l=en(o.body);r.stage="inputs",i(l,function(e,t){var n="fn"+t;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var o=r.nextId();r.recurse(e,o),r.return_(o),r.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(o);var u='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",d=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",u)(this.$filter,Kt,Yt,Gt,Xt,Zt,e);return this.state=this.stage=n,d.literal=rn(o),d.constant=on(o),d},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return i(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return i(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,r,o,a,s){var c,l,u,d,m=this;if(o=o||h,!s&&E(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,r,o,a,!0));switch(e.type){case Zo.Program:i(e.body,function(t,r){m.recurse(t.expression,n,n,function(e){l=e}),r!==e.body.length-1?m.current().body.push(l,";"):m.return_(l)});break;case Zo.Literal:d=this.escape(e.value),this.assign(t,d),o(d);break;case Zo.UnaryExpression:this.recurse(e.argument,n,n,function(e){l=e}),d=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,d),o(d);break;case Zo.BinaryExpression:this.recurse(e.left,n,n,function(e){c=e}),this.recurse(e.right,n,n,function(e){l=e}),d="+"===e.operator?this.plus(c,l):"-"===e.operator?this.ifDefined(c,0)+e.operator+this.ifDefined(l,0):"("+c+")"+e.operator+"("+l+")",this.assign(t,d),o(d);break;case Zo.LogicalExpression:t=t||this.nextId(),m.recurse(e.left,t),m.if_("&&"===e.operator?t:m.not(t),m.lazyRecurse(e.right,t)),o(t);break;case Zo.ConditionalExpression:t=t||this.nextId(),m.recurse(e.test,t),m.if_(t,m.lazyRecurse(e.alternate,t),m.lazyRecurse(e.consequent,t)),o(t);break;case Zo.Identifier:t=t||this.nextId(),r&&(r.context="inputs"===m.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),r.computed=!1,r.name=e.name),Kt(e.name),m.if_("inputs"===m.stage||m.not(m.getHasOwnProperty("l",e.name)),function(){m.if_("inputs"===m.stage||"s",function(){a&&1!==a&&m.if_(m.not(m.nonComputedMember("s",e.name)),m.lazyAssign(m.nonComputedMember("s",e.name),"{}")),m.assign(t,m.nonComputedMember("s",e.name))})},t&&m.lazyAssign(t,m.nonComputedMember("l",e.name))),(m.state.expensiveChecks||ln(e.name))&&m.addEnsureSafeObject(t),o(t);break;case Zo.MemberExpression:c=r&&(r.context=this.nextId())||this.nextId(),t=t||this.nextId(),m.recurse(e.object,c,n,function(){m.if_(m.notNull(c),function(){e.computed?(l=m.nextId(),m.recurse(e.property,l),m.addEnsureSafeMemberName(l),a&&1!==a&&m.if_(m.not(m.computedMember(c,l)),m.lazyAssign(m.computedMember(c,l),"{}")),d=m.ensureSafeObject(m.computedMember(c,l)),m.assign(t,d),r&&(r.computed=!0,r.name=l)):(Kt(e.property.name),a&&1!==a&&m.if_(m.not(m.nonComputedMember(c,e.property.name)),m.lazyAssign(m.nonComputedMember(c,e.property.name),"{}")),d=m.nonComputedMember(c,e.property.name),(m.state.expensiveChecks||ln(e.property.name))&&(d=m.ensureSafeObject(d)),m.assign(t,d),r&&(r.computed=!1,r.name=e.property.name))},function(){m.assign(t,"undefined")}),o(t)},!!a);break;case Zo.CallExpression:t=t||this.nextId(),e.filter?(l=m.filter(e.callee.name),u=[],i(e.arguments,function(e){var t=m.nextId();m.recurse(e,t),u.push(t)}),d=l+"("+u.join(",")+")",m.assign(t,d),o(t)):(l=m.nextId(),c={},u=[],m.recurse(e.callee,l,c,function(){m.if_(m.notNull(l),function(){m.addEnsureSafeFunction(l),i(e.arguments,function(e){m.recurse(e,m.nextId(),n,function(e){u.push(m.ensureSafeObject(e))})}),c.name?(m.state.expensiveChecks||m.addEnsureSafeObject(c.context),d=m.member(c.context,c.name,c.computed)+"("+u.join(",")+")"):d=l+"("+u.join(",")+")",d=m.ensureSafeObject(d),m.assign(t,d)},function(){m.assign(t,"undefined")}),o(t)}));break;case Zo.AssignmentExpression:if(l=this.nextId(),c={},!tn(e.left))throw Uo("lval","Trying to assing a value to a non l-value");this.recurse(e.left,n,c,function(){m.if_(m.notNull(c.context),function(){m.recurse(e.right,l),m.addEnsureSafeObject(m.member(c.context,c.name,c.computed)),d=m.member(c.context,c.name,c.computed)+e.operator+l,m.assign(t,d),o(t||d)})},1);break;case Zo.ArrayExpression:u=[],i(e.elements,function(e){m.recurse(e,m.nextId(),n,function(e){u.push(e)})}),d="["+u.join(",")+"]",this.assign(t,d),o(d);break;case Zo.ObjectExpression:u=[],i(e.properties,function(e){m.recurse(e.value,m.nextId(),n,function(t){u.push(m.escape(e.key.type===Zo.Identifier?e.key.name:""+e.key.value)+":"+t)})}),d="{"+u.join(",")+"}",this.assign(t,d),o(d);break;case Zo.ThisExpression:this.assign(t,"s"),o("s");break;case Zo.NGValueParameter:this.assign(t,"v"),o("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},lazyRecurse:function(e,t,n,r,o,i){var a=this;return function(){a.recurse(e,t,n,r,o,i)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(w(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(C(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw Uo("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},sn.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,Qt(r,n.$filter);var o,a;(o=nn(r))&&(a=this.recurse(o));var s,c=en(r.body);c&&(s=[],i(c,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var l=[];i(r.body,function(e){l.push(n.recurse(e.expression))});var u=0===r.body.length?function(){}:1===r.body.length?l[0]:function(e,t){var n;return i(l,function(r){n=r(e,t)}),n};return a&&(u.assign=function(e,t,n){return a(e,n,t)}),s&&(u.inputs=s),u.literal=rn(r),u.constant=on(r),u},recurse:function(e,t,r){var o,a,s,c=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Zo.Literal:return this.value(e.value,t);case Zo.UnaryExpression:return a=this.recurse(e.argument),this["unary"+e.operator](a,t);case Zo.BinaryExpression:return o=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](o,a,t);case Zo.LogicalExpression:return o=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](o,a,t);case Zo.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Zo.Identifier:return Kt(e.name,c.expression),c.identifier(e.name,c.expensiveChecks||ln(e.name),t,r,c.expression);case Zo.MemberExpression:return o=this.recurse(e.object,!1,!!r),e.computed||(Kt(e.property.name,c.expression),a=e.property.name),e.computed&&(a=this.recurse(e.property)),e.computed?this.computedMember(o,a,t,r,c.expression):this.nonComputedMember(o,a,c.expensiveChecks,t,r,c.expression);case Zo.CallExpression:return s=[],i(e.arguments,function(e){s.push(c.recurse(e))}),e.filter&&(a=this.$filter(e.callee.name)),e.filter||(a=this.recurse(e.callee,!0)),e.filter?function(e,r,o,i){for(var c=[],l=0;l<s.length;++l)c.push(s[l](e,r,o,i));var u=a.apply(n,c,i);return t?{context:n,name:n,value:u}:u}:function(e,n,r,o){var i,l=a(e,n,r,o);if(null!=l.value){Yt(l.context,c.expression),Gt(l.value,c.expression);for(var u=[],d=0;d<s.length;++d)u.push(Yt(s[d](e,n,r,o),c.expression));i=Yt(l.value.apply(l.context,u),c.expression)}return t?{value:i}:i};case Zo.AssignmentExpression:return o=this.recurse(e.left,!0,1),a=this.recurse(e.right),function(e,n,r,i){var s=o(e,n,r,i),l=a(e,n,r,i);return Yt(s.value,c.expression),s.context[s.name]=l,t?{value:l}:l};case Zo.ArrayExpression:return s=[],i(e.elements,function(e){s.push(c.recurse(e))}),function(e,n,r,o){for(var i=[],a=0;a<s.length;++a)i.push(s[a](e,n,r,o));return t?{value:i}:i};case Zo.ObjectExpression:return s=[],i(e.properties,function(e){s.push({key:e.key.type===Zo.Identifier?e.key.name:""+e.key.value,value:c.recurse(e.value)})}),function(e,n,r,o){for(var i={},a=0;a<s.length;++a)i[s[a].key]=s[a].value(e,n,r,o);return t?{value:i}:i};case Zo.ThisExpression:return function(e){return t?{value:e}:e};case Zo.NGValueParameter:return function(e,n,r,o){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,o,i){var a=e(n,r,o,i);return a=E(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,o,i){var a=e(n,r,o,i);return a=E(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,o,i){var a=!e(n,r,o,i);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a),c=t(r,o,i,a),l=Zt(s,c);return n?{value:l}:l}},"binary-":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a),c=t(r,o,i,a),l=(E(s)?s:0)-(E(c)?c:0);return n?{value:l}:l}},"binary*":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)*t(r,o,i,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)/t(r,o,i,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)%t(r,o,i,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)===t(r,o,i,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)!==t(r,o,i,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)==t(r,o,i,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)!=t(r,o,i,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)<t(r,o,i,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)>t(r,o,i,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)<=t(r,o,i,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)>=t(r,o,i,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)&&t(r,o,i,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,o,i,a){var s=e(r,o,i,a)||t(r,o,i,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(o,i,a,s){var c=e(o,i,a,s)?t(o,i,a,s):n(o,i,a,s);return r?{value:c}:c}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,r,o,i){return function(a,s,c,l){var u=s&&e in s?s:a;o&&1!==o&&u&&!u[e]&&(u[e]={});var d=u?u[e]:n;return t&&Yt(d,i),r?{context:u,name:e,value:d}:d}},computedMember:function(e,t,n,r,o){return function(i,a,s,c){var l,u,d=e(i,a,s,c);return null!=d&&(l=t(i,a,s,c),Kt(l,o),r&&1!==r&&d&&!d[l]&&(d[l]={}),u=d[l],Yt(u,o)),n?{context:d,name:l,value:u}:u}},nonComputedMember:function(e,t,r,o,i,a){return function(s,c,l,u){var d=e(s,c,l,u);i&&1!==i&&d&&!d[t]&&(d[t]={});var m=null!=d?d[t]:n;return(r||ln(t))&&Yt(m,a),o?{context:d,name:t,value:m}:m}},inputs:function(e,t){return function(n,r,o,i){return i?i[t]:e(n,r,o)}}};var Jo=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new Zo(this.lexer),this.astCompiler=n.csp?new sn(this.ast,t):new an(this.ast,t)};Jo.prototype={constructor:Jo,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var Qo=(ge(),ge(),Object.prototype.valueOf),ei=r("$sce"),ti={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},No=r("$compile"),ni=t.createElement("a"),ri=xn(e.location.href);Sn.$inject=["$document"],_n.$inject=["$provide"],Rn.$inject=["$locale"],Pn.$inject=["$locale"];var oi=".",ii={yyyy:Fn("FullYear",4),yy:Fn("FullYear",2,0,!0),y:Fn("FullYear",1),MMMM:Vn("Month"),MMM:Vn("Month",!0),MM:Fn("Month",2,1),M:Fn("Month",1,1),dd:Fn("Date",2),d:Fn("Date",1),HH:Fn("Hours",2),H:Fn("Hours",1),hh:Fn("Hours",2,-12),h:Fn("Hours",1,-12),mm:Fn("Minutes",2),m:Fn("Minutes",1),ss:Fn("Seconds",2),s:Fn("Seconds",1),sss:Fn("Milliseconds",3),EEEE:Vn("Day"),EEE:Vn("Day",!0),a:Wn,Z:qn,ww:zn(2),w:zn(1),G:Kn,GG:Kn,GGG:Kn,GGGG:Yn},ai=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,si=/^\-?\d+$/;Gn.$inject=["$locale"];var ci=v(Er),li=v(Mr);Jn.$inject=["$parse"];var ui=v({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Hr.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){
t.attr(n)||e.preventDefault()})}}}}),di={};i(ho,function(e,t){function n(e,n,o){e.$watch(o[r],function(e){o.$set(t,!!e)})}if("multiple"!=e){var r=lt("ng-"+t),o=n;"checked"===e&&(o=function(e,t,o){o.ngModel!==o[r]&&n(e,t,o)}),di[r]=function(){return{restrict:"A",priority:100,link:o}}}}),i(vo,function(e,t){di[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var o=r.ngPattern.match($r);if(o)return void r.$set("ngPattern",new RegExp(o[1],o[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),i(["src","srcset","href"],function(e){var t=lt("ng-"+e);di[t]=function(){return{priority:99,link:function(n,r,o){var i=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Hr.call(r.prop("href"))&&(a="xlinkHref",o.$attr[a]="xlink:href",i=null),o.$observe(t,function(t){return t?(o.$set(a,t),void(Ar&&i&&r.prop(i,o[a]))):void("href"===e&&o.$set(a,null))})}}}});var mi={$addControl:h,$$renameControl:er,$removeControl:h,$setValidity:h,$setDirty:h,$setPristine:h,$setSubmitted:h},fi="ng-submitted";tr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var pi=function(e){return["$timeout",function(t){var r={name:"form",restrict:e?"EAC":"E",controller:tr,compile:function(r,o){r.addClass(Yi).addClass(Wi);var i=o.name?"name":e&&o.ngForm?"ngForm":!1;return{pre:function(e,r,o,a){if(!("action"in o)){var s=function(t){e.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),t.preventDefault()};no(r[0],"submit",s),r.on("$destroy",function(){t(function(){ro(r[0],"submit",s)},0,!1)})}var c=a.$$parentForm;i&&(cn(e,a.$name,a,a.$name),o.$observe(i,function(t){a.$name!==t&&(cn(e,a.$name,n,a.$name),c.$$renameControl(a,t),cn(e,a.$name,a,a.$name))})),r.on("$destroy",function(){c.$removeControl(a),i&&cn(e,o[i],n,a.$name),d(a,mi)})}}}};return r}]},hi=pi(),gi=pi(!0),vi=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,$i=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,bi=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Ei=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,yi=/^(\d{4})-(\d{2})-(\d{2})$/,Mi=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,wi=/^(\d{4})-W(\d\d)$/,Ci=/^(\d{4})-(\d\d)$/,Ai=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,xi={text:rr,date:sr("date",yi,ar(yi,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":sr("datetimelocal",Mi,ar(Mi,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:sr("time",Ai,ar(Ai,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:sr("week",wi,ir,"yyyy-Www"),month:sr("month",Ci,ar(Ci,["yyyy","MM"]),"yyyy-MM"),number:lr,url:ur,email:dr,radio:mr,checkbox:pr,hidden:h,button:h,submit:h,reset:h,file:h},Ti=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(o,i,a,s){s[0]&&(xi[Er(a.type)]||xi.text)(o,i,a,s[0],t,e,n,r)}}}}],ki=/^(true|false|\d+)$/,Si=function(){return{restrict:"A",priority:100,compile:function(e,t){return ki.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Ni=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,r,o){e.$$addBindingInfo(r,o.ngBind),r=r[0],t.$watch(o.ngBind,function(e){r.textContent=e===n?"":e})}}}}],_i=["$interpolate","$compile",function(e,t){return{compile:function(r){return t.$$addBindingClass(r),function(r,o,i){var a=e(o.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(o,a.expressions),o=o[0],i.$observe("ngBindTemplate",function(e){o.textContent=e===n?"":e})}}}}],Hi=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,o){var i=t(o.ngBindHtml),a=t(o.ngBindHtml,function(e){return(e||"").toString()});return n.$$addBindingClass(r),function(t,r,o){n.$$addBindingInfo(r,o.ngBindHtml),t.$watch(a,function(){r.html(e.getTrustedHtml(i(t))||"")})}}}}],Oi=v({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Di=hr("",!0),Ii=hr("Odd",0),Ri=hr("Even",1),Pi=Qn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),ji=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Li={},Fi={blur:!0,focus:!0};i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=lt("ng-"+e);Li[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(o,i){var a=n(i[t],null,!0);return function(t,n){n.on(e,function(n){var o=function(){a(t,{$event:n})};Fi[e]&&r.$$phase?t.$evalAsync(o):t.$apply(o)})}}}}]});var Vi=["$animate",function(e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,o,i,a){var s,c,l;n.$watch(o.ngIf,function(n){n?c||a(function(n,i){c=i,n[n.length++]=t.createComment(" end ngIf: "+o.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)}):(l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),s&&(l=he(s.clone),e.leave(l).then(function(){l=null}),s=null))})}}}],qi=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Ir.noop,compile:function(r,o){var i=o.ngInclude||o.src,a=o.onload||"",s=o.autoscroll;return function(r,o,c,l,u){var d,m,f,p=0,h=function(){m&&(m.remove(),m=null),d&&(d.$destroy(),d=null),f&&(n.leave(f).then(function(){m=null}),m=f,f=null)};r.$watch(i,function(i){var c=function(){!E(s)||s&&!r.$eval(s)||t()},m=++p;i?(e(i,!0).then(function(e){if(m===p){var t=r.$new();l.template=e;var s=u(t,function(e){h(),n.enter(e,null,o).then(c)});d=t,f=s,d.$emit("$includeContentLoaded",i),r.$eval(a)}},function(){m===p&&(h(),r.$emit("$includeContentError",i))}),r.$emit("$includeContentRequested",i)):(h(),l.template=null)})}}}}],Bi=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,o,i){return/SVG/.test(r[0].toString())?(r.empty(),void e(xe(i.template,t).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(i.template),void e(r.contents())(n))}}}],Ui=Qn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),zi=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,o){var a=t.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,c=s?Fr(a):a,l=function(e){if(!b(e)){var t=[];return e&&i(e.split(c),function(e){e&&t.push(s?Fr(e):e)}),t}};o.$parsers.push(l),o.$formatters.push(function(e){return jr(e)?e.join(a):n}),o.$isEmpty=function(e){return!e||!e.length}}}},Wi="ng-valid",Ki="ng-invalid",Yi="ng-pristine",Gi="ng-dirty",Xi="ng-untouched",Zi="ng-touched",Ji="ng-pending",Qi=new r("ngModel"),ea=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,o,a,s,c,l,u,d){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(r.name||"",!1)(e);var m,f=a(r.ngModel),p=f.assign,g=f,v=p,$=null,y=this;this.$$setOptions=function(e){if(y.$options=e,e&&e.getterSetter){var t=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");g=function(e){var n=f(e);return x(n)&&(n=t(e)),n},v=function(e,t){x(f(e))?n(e,{$$$p:y.$modelValue}):p(e,y.$modelValue)}}else if(!f.assign)throw Qi("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,J(o))},this.$render=h,this.$isEmpty=function(e){return b(e)||""===e||null===e||e!==e};var M=o.inheritedData("$formController")||mi,w=0;gr({ctrl:this,$element:o,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},parentForm:M,$animate:s}),this.$setPristine=function(){y.$dirty=!1,y.$pristine=!0,s.removeClass(o,Gi),s.addClass(o,Yi)},this.$setDirty=function(){y.$dirty=!0,y.$pristine=!1,s.removeClass(o,Yi),s.addClass(o,Gi),M.$setDirty()},this.$setUntouched=function(){y.$touched=!1,y.$untouched=!0,s.setClass(o,Xi,Zi)},this.$setTouched=function(){y.$touched=!0,y.$untouched=!1,s.setClass(o,Zi,Xi)},this.$rollbackViewValue=function(){c.cancel($),y.$viewValue=y.$$lastCommittedViewValue,y.$render()},this.$validate=function(){if(!C(y.$modelValue)||!isNaN(y.$modelValue)){var e=y.$$lastCommittedViewValue,t=y.$$rawModelValue,r=y.$valid,o=y.$modelValue,i=y.$options&&y.$options.allowInvalid;y.$$runValidators(t,e,function(e){i||r===e||(y.$modelValue=e?t:n,y.$modelValue!==o&&y.$$writeModelToScope())})}},this.$$runValidators=function(e,t,r){function o(){var e=y.$$parserName||"parse";return m!==n?(m||(i(y.$validators,function(e,t){c(t,null)}),i(y.$asyncValidators,function(e,t){c(t,null)})),c(e,m),m):(c(e,null),!0)}function a(){var n=!0;return i(y.$validators,function(r,o){var i=r(e,t);n=n&&i,c(o,i)}),n?!0:(i(y.$asyncValidators,function(e,t){c(t,null)}),!1)}function s(){var r=[],o=!0;i(y.$asyncValidators,function(i,a){var s=i(e,t);if(!D(s))throw Qi("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);c(a,n),r.push(s.then(function(){c(a,!0)},function(e){o=!1,c(a,!1)}))}),r.length?u.all(r).then(function(){l(o)},h):l(!0)}function c(e,t){d===w&&y.$setValidity(e,t)}function l(e){d===w&&r(e)}w++;var d=w;return o()&&a()?void s():void l(!1)},this.$commitViewValue=function(){var e=y.$viewValue;c.cancel($),(y.$$lastCommittedViewValue!==e||""===e&&y.$$hasNativeValidators)&&(y.$$lastCommittedViewValue=e,y.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){y.$modelValue!==a&&y.$$writeModelToScope()}var r=y.$$lastCommittedViewValue,o=r;if(m=b(o)?n:!0)for(var i=0;i<y.$parsers.length;i++)if(o=y.$parsers[i](o),b(o)){m=!1;break}C(y.$modelValue)&&isNaN(y.$modelValue)&&(y.$modelValue=g(e));var a=y.$modelValue,s=y.$options&&y.$options.allowInvalid;y.$$rawModelValue=o,s&&(y.$modelValue=o,t()),y.$$runValidators(o,y.$$lastCommittedViewValue,function(e){s||(y.$modelValue=e?o:n,t())})},this.$$writeModelToScope=function(){v(e,y.$modelValue),i(y.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){y.$viewValue=e,(!y.$options||y.$options.updateOnDefault)&&y.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,o=y.$options;o&&E(o.debounce)&&(n=o.debounce,C(n)?r=n:C(n[t])?r=n[t]:C(n["default"])&&(r=n["default"])),c.cancel($),r?$=c(function(){y.$commitViewValue()},r):l.$$phase?y.$commitViewValue():e.$apply(function(){y.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==y.$modelValue&&(y.$modelValue===y.$modelValue||t===t)){y.$modelValue=y.$$rawModelValue=t,m=n;for(var r=y.$formatters,o=r.length,i=t;o--;)i=r[o](i);y.$viewValue!==i&&(y.$viewValue=y.$$lastCommittedViewValue=i,y.$render(),y.$$runValidators(t,i,h))}return t})}],ta=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ea,priority:1,compile:function(t){return t.addClass(Yi).addClass(Xi).addClass(Wi),{pre:function(e,t,n,r){var o=r[0],i=r[1]||mi;o.$$setOptions(r[2]&&r[2].$options),i.$addControl(o),n.$observe("name",function(e){o.$name!==e&&i.$$renameControl(o,e)}),e.$on("$destroy",function(){i.$removeControl(o)})},post:function(t,n,r,o){var i=o[0];i.$options&&i.$options.updateOn&&n.on(i.$options.updateOn,function(e){i.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(n){i.$touched||(e.$$phase?t.$evalAsync(i.$setTouched):t.$apply(i.$setTouched))})}}}}}],na=/(\s+|^)default(\s+|$)/,ra=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var r=this;this.$options=F(e.$eval(t.ngModelOptions)),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=Fr(this.$options.updateOn.replace(na,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},oa=Qn({terminal:!0,priority:1e3}),ia=r("ngOptions"),aa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,sa=["$compile","$parse",function(e,n){function r(e,t,r){function i(e,t,n,r,o){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=o}function a(e){var t;if(!l&&o(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(aa);if(!s)throw ia("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,J(t));var c=s[5]||s[7],l=s[6],u=/ as /.test(s[0])&&s[1],d=s[9],m=n(s[2]?s[1]:c),f=u&&n(u),p=f||m,h=d&&n(d),g=d?function(e,t){return h(r,t)}:function(e){return Ye(e)},v=function(e,t){return g(e,w(e,t))},$=n(s[2]||s[1]),b=n(s[3]||""),E=n(s[4]||""),y=n(s[8]),M={},w=l?function(e,t){return M[l]=t,M[c]=e,M}:function(e){return M[c]=e,M};return{trackBy:d,getTrackByValue:v,getWatchables:n(y,function(e){var t=[];e=e||[];for(var n=a(e),o=n.length,i=0;o>i;i++){var c=e===n?i:n[i],l=(e[c],w(e[c],c)),u=g(e[c],l);if(t.push(u),s[2]||s[1]){var d=$(r,l);t.push(d)}if(s[4]){var m=E(r,l);t.push(m)}}return t}),getOptions:function(){for(var e=[],t={},n=y(r)||[],o=a(n),s=o.length,c=0;s>c;c++){var l=n===o?c:o[c],u=n[l],m=w(u,l),f=p(r,m),h=g(f,m),M=$(r,m),C=b(r,m),A=E(r,m),x=new i(h,f,M,C,A);e.push(x),t[h]=x}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return d?Ir.copy(e.viewValue):e.viewValue}}}}}var a=t.createElement("option"),s=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(t,n,o,c){function l(e,t){e.element=t,t.disabled=e.disabled,e.value!==t.value&&(t.value=e.selectValue),e.label!==t.label&&(t.label=e.label,t.textContent=e.label)}function u(e,t,n,r){var o;return t&&Er(t.nodeName)===n?o=t:(o=r.cloneNode(!1),t?e.insertBefore(o,t):e.appendChild(o)),o}function d(e){for(var t;e;)t=e.nextSibling,qe(e),e=t}function m(e){var t=h&&h[0],n=M&&M[0];if(t||n)for(;e&&(e===t||e===n);)e=e.nextSibling;return e}function f(){var e=w&&g.readValue();w=C.getOptions();var t={},r=n[0].firstChild;if(y&&n.prepend(h),r=m(r),w.items.forEach(function(e){var o,i,c;e.group?(o=t[e.group],o||(i=u(n[0],r,"optgroup",s),r=i.nextSibling,i.label=e.group,o=t[e.group]={groupElement:i,currentOptionElement:i.firstChild}),c=u(o.groupElement,o.currentOptionElement,"option",a),l(e,c),o.currentOptionElement=c.nextSibling):(c=u(n[0],r,"option",a),l(e,c),r=c.nextSibling)}),Object.keys(t).forEach(function(e){d(t[e].currentOptionElement)}),d(r),p.$render(),!p.$isEmpty(e)){var o=g.readValue();(C.trackBy?q(e,o):e===o)||(p.$setViewValue(o),p.$render())}}var p=c[1];if(p){for(var h,g=c[0],v=o.multiple,$=0,b=n.children(),E=b.length;E>$;$++)if(""===b[$].value){h=b.eq($);break}var y=!!h,M=xr(a.cloneNode(!1));M.val("?");var w,C=r(o.ngOptions,n,t),A=function(){y||n.prepend(h),n.val(""),h.prop("selected",!0),h.attr("selected",!0)},x=function(){y||h.remove()},T=function(){n.prepend(M),n.val("?"),M.prop("selected",!0),M.attr("selected",!0)},k=function(){M.remove()};v?(p.$isEmpty=function(e){return!e||0===e.length},g.writeValue=function(e){w.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=w.getOptionFromViewValue(e);t&&!t.disabled&&(t.element.selected=!0)})},g.readValue=function(){var e=n.val()||[],t=[];return i(e,function(e){var n=w.selectValueMap[e];n.disabled||t.push(w.getViewValueFromOption(n))}),t},C.trackBy&&t.$watchCollection(function(){return jr(p.$viewValue)?p.$viewValue.map(function(e){return C.getTrackByValue(e)}):void 0},function(){p.$render()})):(g.writeValue=function(e){var t=w.getOptionFromViewValue(e);t&&!t.disabled?n[0].value!==t.selectValue&&(k(),x(),n[0].value=t.selectValue,t.element.selected=!0,t.element.setAttribute("selected","selected")):null===e||y?(k(),A()):(x(),T())},g.readValue=function(){var e=w.selectValueMap[n.val()];return e&&!e.disabled?(x(),k(),w.getViewValueFromOption(e)):null},C.trackBy&&t.$watch(function(){return C.getTrackByValue(p.$viewValue)},function(){p.$render()})),y?(h.remove(),e(h)(t),h.removeClass("ng-scope")):h=xr(a.cloneNode(!1)),f(),t.$watchCollection(C.getWatchables,f)}}}}],ca=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,c){function l(e){s.text(e||"")}var u,d=c.count,m=c.$attr.when&&s.attr(c.$attr.when),f=c.offset||0,p=a.$eval(m)||{},g={},v=t.startSymbol(),$=t.endSymbol(),E=v+d+"-"+f+$,y=Ir.noop;i(c,function(e,t){var n=o.exec(t);if(n){var r=(n[1]?"-":"")+Er(n[2]);p[r]=s.attr(c.$attr[t])}}),i(p,function(e,n){g[n]=t(e.replace(r,E))}),a.$watch(d,function(t){var r=parseFloat(t),o=isNaN(r);if(o||r in p||(r=e.pluralCat(r-f)),r!==u&&!(o&&C(u)&&isNaN(u))){y();var i=g[r];b(i)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+m),y=h,l()):y=a.$watch(i,l),u=r}})}}}],la=["$parse","$animate",function(e,a){var s="$$NG_REMOVED",c=r("ngRepeat"),l=function(e,t,n,r,o,i,a){e[n]=r,o&&(e[o]=i),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},u=function(e){return e.clone[0]},d=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,m){var f=m.ngRepeat,p=t.createComment(" end ngRepeat: "+f+" "),h=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw c("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var g=h[1],v=h[2],$=h[3],b=h[4];if(h=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!h)throw c("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var E=h[3]||h[1],y=h[2];if($&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test($)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test($)))throw c("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",$);var M,w,C,A,x={$id:Ye};return b?M=e(b):(C=function(e,t){return Ye(t)},A=function(e){return e}),function(e,t,r,m,h){M&&(w=function(t,n,r){return y&&(x[y]=t),x[E]=n,x.$index=r,M(e,x)});var g=ge();e.$watchCollection(v,function(r){var m,v,b,M,x,T,k,S,N,_,H,O,D=t[0],I=ge();if($&&(e[$]=r),o(r))N=r,S=w||C;else{S=w||A,N=[];for(var R in r)r.hasOwnProperty(R)&&"$"!==R.charAt(0)&&N.push(R)}for(M=N.length,H=new Array(M),m=0;M>m;m++)if(x=r===N?m:N[m],T=r[x],k=S(x,T,m),g[k])_=g[k],delete g[k],I[k]=_,H[m]=_;else{if(I[k])throw i(H,function(e){e&&e.scope&&(g[e.id]=e)}),c("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,k,T);H[m]={id:k,scope:n,clone:n},I[k]=!0}for(var P in g){if(_=g[P],O=he(_.clone),a.leave(O),O[0].parentNode)for(m=0,v=O.length;v>m;m++)O[m][s]=!0;_.scope.$destroy()}for(m=0;M>m;m++)if(x=r===N?m:N[m],T=r[x],_=H[m],_.scope){b=D;do b=b.nextSibling;while(b&&b[s]);u(_)!=b&&a.move(he(_.clone),null,xr(D)),D=d(_),l(_.scope,m,E,T,y,x,M)}else h(function(e,t){_.scope=t;var n=p.cloneNode(!1);e[e.length++]=n,a.enter(e,null,xr(D)),D=n,_.clone=e,I[_.id]=_,l(_.scope,m,E,T,y,x,M)});g=I})}}}}],ua="ng-hide",da="ng-hide-animate",ma=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,ua,{tempClasses:da})})}}}],fa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,ua,{tempClasses:da})})}}}],pa=Qn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&i(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),ha=["$animate",function(e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,o,a){var s=o.ngSwitch||o.on,c=[],l=[],u=[],d=[],m=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var r,o;for(r=0,o=u.length;o>r;++r)e.cancel(u[r]);for(u.length=0,r=0,o=d.length;o>r;++r){var s=he(l[r].clone);d[r].$destroy();var f=u[r]=e.leave(s);f.then(m(u,r))}l.length=0,d.length=0,(c=a.cases["!"+n]||a.cases["?"])&&i(c,function(n){n.transclude(function(r,o){d.push(o);var i=n.element;r[r.length++]=t.createComment(" end ngSwitchWhen: ");var a={clone:r};l.push(a),e.enter(r,i.parent(),i)})})})}}}],ga=Qn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,o){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:o,element:t})}}),va=Qn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,o){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:o,element:t})}}),$a=Qn({restrict:"EAC",link:function(e,t,n,o,i){if(!i)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",J(t));i(function(e){t.empty(),t.append(e)})}}),ba=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,o=t[0].text;e.put(r,o)}}}}],Ea={$setViewValue:h,$render:h},ya=["$element","$scope","$attrs",function(e,r,o){var i=this,a=new Ge;i.ngModelCtrl=Ea,i.unknownOption=xr(t.createElement("option")),i.renderUnknownOption=function(t){var n="? "+Ye(t)+" ?";i.unknownOption.val(n),e.prepend(i.unknownOption),e.val(n)},r.$on("$destroy",function(){i.renderUnknownOption=h}),i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.readValue=function(){return i.removeUnknownOption(),e.val()},i.writeValue=function(t){i.hasOption(t)?(i.removeUnknownOption(),e.val(t),""===t&&i.emptyOption.prop("selected",!0)):null==t&&i.emptyOption?(i.removeUnknownOption(),e.val("")):i.renderUnknownOption(t)},i.addOption=function(e,t){fe(e,'"option value"'),""===e&&(i.emptyOption=t);var n=a.get(e)||0;a.put(e,n+1)},i.removeOption=function(e){var t=a.get(e);t&&(1===t?(a.remove(e),""===e&&(i.emptyOption=n)):a.put(e,t-1))},i.hasOption=function(e){return!!a.get(e)}}],Ma=function(){return{restrict:"E",require:["select","?ngModel"],controller:ya,link:function(e,t,n,r){var o=r[1];if(o){var a=r[0];if(a.ngModelCtrl=o,o.$render=function(){a.writeValue(o.$viewValue)},t.on("change",function(){e.$apply(function(){o.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return i(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new Ge(e);i(t.find("option"),function(e){e.selected=E(n.get(e.value))})};var s,c=0/0;e.$watch(function(){c!==o.$viewValue||q(s,o.$viewValue)||(s=V(o.$viewValue),o.$render()),c=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}}}},wa=["$interpolate",function(e){function t(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}return{restrict:"E",priority:100,compile:function(n,r){if(b(r.value)){var o=e(n.text(),!0);o||r.$set("value",n.text())}return function(e,n,r){var i="$selectController",a=n.parent(),s=a.data(i)||a.parent().data(i);s&&s.ngModelCtrl&&(o?e.$watch(o,function(e,o){r.$set("value",e),o!==e&&s.removeOption(o),s.addOption(e,n),s.ngModelCtrl.$render(),t(n)}):(s.addOption(r.value,n),s.ngModelCtrl.$render(),t(n)),n.on("$destroy",function(){s.removeOption(r.value),s.ngModelCtrl.$render()}))}}}}],Ca=v({restrict:"E",terminal:!1}),Aa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},xa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,o,i){if(i){var a,s=o.ngPattern||o.pattern;o.$observe("pattern",function(e){if(w(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,J(t));a=e||n,i.$validate()}),i.$validators.pattern=function(e){return i.$isEmpty(e)||b(a)||a.test(e)}}}}},Ta=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var o=-1;n.$observe("maxlength",function(e){var t=f(e);o=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>o||r.$isEmpty(t)||t.length<=o}}}}},ka=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var o=0;n.$observe("minlength",function(e){o=f(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=o}}}}};return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ue(),Ee(Ir),void xr(t).ready(function(){ie(t,ae)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},{}],14:[function(e,t,n){e("./angular"),t.exports=angular},{"./angular":13}]},{},[4]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJidWlsZC9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlci5qcyIsIm1haW4uanMiLCJidWlsZC9jb250cm9sbGVycy9pbmRleC5qcyIsImJ1aWxkL2RpcmVjdGl2ZXMvaW5kZXguanMiLCJidWlsZC9tYWluLmpzIiwiYnVpbGQvc2VydmljZXMvVXNlclNlcnZpY2UuanMiLCJidWlsZC9zZXJ2aWNlcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9hbmd1bGFyLWFuaW1hdGUvYW5ndWxhci1hbmltYXRlLmpzIiwibm9kZV9tb2R1bGVzL2FuZ3VsYXItYW5pbWF0ZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9hbmd1bGFyLWFyaWEvYW5ndWxhci1hcmlhLmpzIiwibm9kZV9tb2R1bGVzL2FuZ3VsYXItYXJpYS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9hbmd1bGFyLW1hdGVyaWFsL2FuZ3VsYXItbWF0ZXJpYWwuanMiLCJub2RlX21vZHVsZXMvYW5ndWxhci1tYXRlcmlhbC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9hbmd1bGFyL2FuZ3VsYXIuanMiLCJub2RlX21vZHVsZXMvYW5ndWxhci9pbmRleC5qcyJdLCJuYW1lcyI6WyJlIiwidCIsIm4iLCJyIiwicyIsIm8iLCJ1IiwiYSIsInJlcXVpcmUiLCJpIiwiZiIsIkVycm9yIiwiY29kZSIsImwiLCJleHBvcnRzIiwiY2FsbCIsImxlbmd0aCIsMSwibW9kdWxlIiwiVXNlckNvbnRyb2xsZXIiLCIkc2NvcGUiLCJ1c2VyU2VydmljZSIsIiRtZFNpZGVuYXYiLCIkbWRCb3R0b21TaGVldCIsIiRsb2ciLCIkcSIsInRvZ2dsZVVzZXJzTGlzdCIsInBlbmRpbmciLCJib3R0b21TaGVldFByb21pc2UiLCJ3aGVuIiwidGhlbiIsInRvZ2dsZSIsImhpZGUiLCJzZWxlY3RVc2VyIiwidXNlciIsInNlbGVjdGVkIiwidG9nZ2xlTGlzdCIsInNob3dDb250YWN0T3B0aW9ucyIsIiRldmVudCIsIkNvbnRhY3RQYW5lbENvbnRyb2xsZXIiLCJ0aGlzIiwiYWN0aW9ucyIsIm5hbWUiLCJpY29uIiwiaWNvbl91cmwiLCJzdWJtaXRDb250YWN0IiwiYWN0aW9uIiwic2hvdyIsInBhcmVudCIsImFuZ3VsYXIiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsImJpbmRUb0NvbnRyb2xsZXIiLCJ0YXJnZXRFdmVudCIsImNsaWNrZWRJdGVtIiwiZGVidWciLCIkaW5qZWN0IiwidXNlcnMiLCJpc1NpZGVuYXZPcGVuIiwiaXNPcGVuIiwibG9hZEFsbFVzZXJzIiwiY29uY2F0IiwiYW5ndWxhci1tYXRlcmlhbCIsMiwiYXBwIiwiVUMiLCIuL1VzZXJDb250cm9sbGVyIiwzLDQsImJvb3RzdHJhcCIsIi4vY29udHJvbGxlcnMiLCIuL2RpcmVjdGl2ZXMiLCIuL3NlcnZpY2VzIiwiYW5ndWxhci1hbmltYXRlIiwiYW5ndWxhci1hcmlhIiw1LCJVc2VyU2VydmljZUZhY3RvcnkiLCJhdmF0YXIiLCJjb250ZW50Iiw2LCJjb25maWciLCIkbWRUaGVtaW5nUHJvdmlkZXIiLCIkbWRJY29uUHJvdmlkZXIiLCJkZWZhdWx0SWNvblNldCIsInRoZW1lIiwicHJpbWFyeVBhbGV0dGUiLCJhY2NlbnRQYWxldHRlIiwiVVMiLCJzZXJ2aWNlIiwiLi9Vc2VyU2VydmljZSIsNywid2luZG93IiwidW5kZWZpbmVkIiwiYXNzZXJ0QXJnIiwiYXJnIiwicmVhc29uIiwibmdNaW5FcnIiLCJtZXJnZUNsYXNzZXMiLCJiIiwiaXNBcnJheSIsImpvaW4iLCJwYWNrYWdlU3R5bGVzIiwib3B0aW9ucyIsInN0eWxlcyIsInRvIiwiZnJvbSIsInBlbmRDbGFzc2VzIiwiY2xhc3NlcyIsImZpeCIsImlzUHJlZml4IiwiY2xhc3NOYW1lIiwiaXNTdHJpbmciLCJzcGxpdCIsImZvckVhY2giLCJrbGFzcyIsInJlbW92ZUZyb21BcnJheSIsImFyciIsInZhbCIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsInN0cmlwQ29tbWVudHNGcm9tRWxlbWVudCIsImpxTGl0ZSIsIm5vZGVUeXBlIiwiRUxFTUVOVF9OT0RFIiwiZXh0cmFjdEVsZW1lbnROb2RlIiwiZWxtIiwiJCRhZGRDbGFzcyIsIiQkanFMaXRlIiwiYWRkQ2xhc3MiLCIkJHJlbW92ZUNsYXNzIiwicmVtb3ZlQ2xhc3MiLCJhcHBseUFuaW1hdGlvbkNsYXNzZXNGYWN0b3J5IiwicHJlcGFyZUFuaW1hdGlvbk9wdGlvbnMiLCIkJHByZXBhcmVkIiwiZG9tT3BlcmF0aW9uIiwibm9vcCIsIiQkZG9tT3BlcmF0aW9uRmlyZWQiLCJhcHBseUFuaW1hdGlvblN0eWxlcyIsImFwcGx5QW5pbWF0aW9uRnJvbVN0eWxlcyIsImFwcGx5QW5pbWF0aW9uVG9TdHlsZXMiLCJjc3MiLCJtZXJnZUFuaW1hdGlvbk9wdGlvbnMiLCJ0YXJnZXQiLCJuZXdPcHRpb25zIiwidG9BZGQiLCJ0b1JlbW92ZSIsInJlc29sdmVFbGVtZW50Q2xhc3NlcyIsImF0dHIiLCJleHRlbmQiLCJleGlzdGluZyIsInNwbGl0Q2xhc3Nlc1RvTG9va3VwIiwib2JqIiwiQUREX0NMQVNTIiwiUkVNT1ZFX0NMQVNTIiwiZmxhZ3MiLCJ2YWx1ZSIsImtleSIsInByb3AiLCJhbGxvdyIsImdldERvbU5vZGUiLCJjb21wdXRlQ3NzU3R5bGVzIiwiJHdpbmRvdyIsInByb3BlcnRpZXMiLCJPYmplY3QiLCJjcmVhdGUiLCJkZXRlY3RlZFN0eWxlcyIsImdldENvbXB1dGVkU3R5bGUiLCJmb3JtYWxTdHlsZU5hbWUiLCJhY3R1YWxTdHlsZU5hbWUiLCJjIiwiY2hhckF0IiwicGFyc2VNYXhUaW1lIiwic3RyIiwibWF4VmFsdWUiLCJ2YWx1ZXMiLCJzdWJzdHJpbmciLCJwYXJzZUZsb2F0IiwiTWF0aCIsIm1heCIsInRydXRoeVRpbWluZ1ZhbHVlIiwiZ2V0Q3NzVHJhbnNpdGlvbkR1cmF0aW9uU3R5bGUiLCJkdXJhdGlvbiIsImFwcGx5T25seUR1cmF0aW9uIiwic3R5bGUiLCJUUkFOU0lUSU9OX1BST1AiLCJEVVJBVElPTl9LRVkiLCJnZXRDc3NLZXlmcmFtZUR1cmF0aW9uU3R5bGUiLCJBTklNQVRJT05fRFVSQVRJT05fUFJPUCIsImdldENzc0RlbGF5U3R5bGUiLCJkZWxheSIsImlzS2V5ZnJhbWVBbmltYXRpb24iLCJBTklNQVRJT05fREVMQVlfUFJPUCIsIlRSQU5TSVRJT05fREVMQVlfUFJPUCIsImJsb2NrVHJhbnNpdGlvbnMiLCJub2RlIiwiYXBwbHlJbmxpbmVTdHlsZSIsImJsb2NrS2V5ZnJhbWVBbmltYXRpb25zIiwiYXBwbHlCbG9jayIsIkFOSU1BVElPTl9QUk9QIiwiQU5JTUFUSU9OX1BMQVlTVEFURV9LRVkiLCJzdHlsZVR1cGxlIiwiY3JlYXRlTG9jYWxDYWNoZUxvb2t1cCIsImNhY2hlIiwiZmx1c2giLCJjb3VudCIsImVudHJ5IiwidG90YWwiLCJnZXQiLCJwdXQiLCJUUkFOU0lUSU9ORU5EX0VWRU5UIiwiQU5JTUFUSU9ORU5EX0VWRU5UIiwiaXNPYmplY3QiLCJpc1VuZGVmaW5lZCIsImlzRGVmaW5lZCIsImlzRnVuY3Rpb24iLCJpc0VsZW1lbnQiLCJOR19BTklNQVRFX0NMQVNTTkFNRSIsIk5HX0FOSU1BVEVfQ0hJTERSRU5fREFUQSIsIiQkckFGU2NoZWR1bGVyRmFjdG9yeSIsIiQkckFGIiwic2NoZWR1bGVyIiwidGFza3MiLCJ0aWNrUXVldWUiLCJwdXNoIiwibmV4dFRpY2siLCJ1cGRhdGVkUXVldWUiLCJpbm5lclF1ZXVlIiwicnVuTmV4dFRhc2siLCJjYW5jZWxGbiIsIm5leHRUYXNrIiwic2hpZnQiLCJ3YWl0VW50aWxRdWlldCIsImZuIiwiJCRBbmltYXRlQ2hpbGRyZW5EaXJlY3RpdmUiLCJzY29wZSIsImF0dHJzIiwibmdBbmltYXRlQ2hpbGRyZW4iLCJkYXRhIiwiJG9ic2VydmUiLCJDU1NfUFJFRklYIiwib250cmFuc2l0aW9uZW5kIiwib253ZWJraXR0cmFuc2l0aW9uZW5kIiwib25hbmltYXRpb25lbmQiLCJvbndlYmtpdGFuaW1hdGlvbmVuZCIsIlBST1BFUlRZX0tFWSIsIkRFTEFZX0tFWSIsIlRJTUlOR19LRVkiLCJBTklNQVRJT05fSVRFUkFUSU9OX0NPVU5UX0tFWSIsIkVMQVBTRURfVElNRV9NQVhfREVDSU1BTF9QTEFDRVMiLCJDTE9TSU5HX1RJTUVfQlVGRkVSIiwiT05FX1NFQ09ORCIsIlNBRkVfRkFTVF9GT1JXQVJEX0RVUkFUSU9OX1ZBTFVFIiwiVFJBTlNJVElPTl9EVVJBVElPTl9QUk9QIiwiREVURUNUX0NTU19QUk9QRVJUSUVTIiwidHJhbnNpdGlvbkR1cmF0aW9uIiwidHJhbnNpdGlvbkRlbGF5IiwidHJhbnNpdGlvblByb3BlcnR5IiwiYW5pbWF0aW9uRHVyYXRpb24iLCJhbmltYXRpb25EZWxheSIsImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IiwiREVURUNUX1NUQUdHRVJfQ1NTX1BST1BFUlRJRVMiLCIkQW5pbWF0ZUNzc1Byb3ZpZGVyIiwiJGFuaW1hdGVQcm92aWRlciIsImdjc0xvb2t1cCIsImdjc1N0YWdnZXJMb29rdXAiLCIkZ2V0IiwiJCRBbmltYXRlUnVubmVyIiwiJHRpbWVvdXQiLCIkZG9jdW1lbnQiLCIkc25pZmZlciIsIiQkckFGU2NoZWR1bGVyIiwiZ2NzSGFzaEZuIiwiZXh0cmFDbGFzc2VzIiwiS0VZIiwicGFyZW50Tm9kZSIsInBhcmVudElEIiwicGFyZW50Q291bnRlciIsImdldEF0dHJpYnV0ZSIsImNvbXB1dGVDYWNoZWRDc3NTdHlsZXMiLCJjYWNoZUtleSIsInRpbWluZ3MiLCJjb21wdXRlQ2FjaGVkQ3NzU3RhZ2dlclN0eWxlcyIsInN0YWdnZXIiLCJzdGFnZ2VyQ2xhc3NOYW1lIiwiY2FsbGJhY2siLCJyYWZXYWl0UXVldWUiLCJ3aWR0aCIsImJvZCIsIm9mZnNldFdpZHRoIiwiY29tcHV0ZVRpbWluZ3MiLCJhRCIsInREIiwibWF4RGVsYXkiLCJtYXhEdXJhdGlvbiIsImluaXQiLCJlbmRGbiIsImNsb3NlIiwicmVqZWN0ZWQiLCJhbmltYXRpb25DbG9zZWQiLCJhbmltYXRpb25Db21wbGV0ZWQiLCJhbmltYXRpb25QYXVzZWQiLCJzZXR1cENsYXNzZXMiLCJhY3RpdmVDbGFzc2VzIiwidGVtcG9yYXJ5U3R5bGVzIiwiYXBwbHlBbmltYXRpb25DbGFzc2VzIiwib25Eb25lIiwicnVubmVyIiwiY29tcGxldGUiLCJhcHBseUJsb2NraW5nIiwiYmxvY2tUcmFuc2l0aW9uIiwiYmxvY2tLZXlmcmFtZUFuaW1hdGlvbiIsImNsb3NlQW5kUmV0dXJuTm9vcEFuaW1hdG9yIiwiZW5kIiwiY2FuY2VsIiwiJCR3aWxsQW5pbWF0ZSIsInN0YXJ0IiwidHJpZ2dlckFuaW1hdGlvblN0YXJ0IiwicmVjYWxjdWxhdGVUaW1pbmdTdHlsZXMiLCJmdWxsQ2xhc3NOYW1lIiwicmVsYXRpdmVEZWxheSIsImhhc1RyYW5zaXRpb25zIiwiaGFzQW5pbWF0aW9ucyIsImFwcGx5VHJhbnNpdGlvbkRlbGF5IiwiYXBwbHlBbmltYXRpb25EZWxheSIsImRlbGF5U3R5bGUiLCJtYXhEZWxheVRpbWUiLCJtYXhEdXJhdGlvblRpbWUiLCJlYXNpbmciLCJlYXNlUHJvcCIsImVhc2VWYWwiLCJldmVudHMiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93Iiwib24iLCJvbkFuaW1hdGlvblByb2dyZXNzIiwib25BbmltYXRpb25FeHBpcmVkIiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJldiIsIm9yaWdpbmFsRXZlbnQiLCJ0aW1lU3RhbXAiLCIkbWFudWFsVGltZVN0YW1wIiwiZWxhcHNlZFRpbWUiLCJ0b0ZpeGVkIiwicGxheVBhdXNlIiwicGxheUFuaW1hdGlvbiIsIm1heFN0YWdnZXIiLCJpdGVtSW5kZXgiLCJmbG9vciIsInJ1bm5lckhvc3QiLCJyZXN1bWUiLCJwYXVzZSIsImFuaW1hdGlvbnMiLCJ0cmFuc2l0aW9ucyIsIm1ldGhvZCIsImlzU3RydWN0dXJhbCIsInN0cnVjdHVyYWwiLCJzdHJ1Y3R1cmFsQ2xhc3NOYW1lIiwiYWRkUmVtb3ZlQ2xhc3NOYW1lIiwiYXBwbHlDbGFzc2VzRWFybHkiLCJ0cmltIiwiaGFzVG9TdHlsZXMiLCJrZXlzIiwiY29udGFpbnNLZXlmcmFtZUFuaW1hdGlvbiIsImtleWZyYW1lU3R5bGUiLCJzdGFnZ2VyVmFsIiwidHJhbnNpdGlvblN0eWxlIiwiZHVyYXRpb25TdHlsZSIsInN0YWdnZXJJbmRleCIsImlzRmlyc3QiLCJoYXNUcmFuc2l0aW9uQWxsIiwiYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24iLCJhcHBseUFuaW1hdGlvbkR1cmF0aW9uIiwic2tpcEJsb2NraW5nIiwiYm9keSIsIiQkQW5pbWF0ZUNzc0RyaXZlclByb3ZpZGVyIiwiJCRhbmltYXRpb25Qcm92aWRlciIsImRyaXZlcnMiLCJOR19BTklNQVRFX1NISU1fQ0xBU1NfTkFNRSIsIk5HX0FOSU1BVEVfQU5DSE9SX0NMQVNTX05BTUUiLCJOR19PVVRfQU5DSE9SX0NMQVNTX05BTUUiLCJOR19JTl9BTkNIT1JfQ0xBU1NfTkFNRSIsIiRhbmltYXRlQ3NzIiwiJHJvb3RTY29wZSIsIiRyb290RWxlbWVudCIsImZpbHRlckNzc0NsYXNzZXMiLCJyZXBsYWNlIiwiZ2V0VW5pcXVlVmFsdWVzIiwiZmlsdGVyIiwicHJlcGFyZUFuY2hvcmVkQW5pbWF0aW9uIiwib3V0QW5jaG9yIiwiaW5BbmNob3IiLCJjYWxjdWxhdGVBbmNob3JTdHlsZXMiLCJhbmNob3IiLCJjb29yZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJib2R5Tm9kZSIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJwcmVwYXJlT3V0QW5pbWF0aW9uIiwiYW5pbWF0b3IiLCJjbG9uZSIsImdldENsYXNzVmFsIiwicHJlcGFyZUluQW5pbWF0aW9uIiwiZW5kaW5nQ2xhc3NlcyIsInN0YXJ0aW5nQ2xhc3NlcyIsInJlbW92ZSIsImNsb25lTm9kZSIsInJvb3RCb2R5RWxlbWVudCIsImFwcGVuZCIsImFuaW1hdG9ySW4iLCJhbmltYXRvck91dCIsInN0YXJ0aW5nQW5pbWF0b3IiLCJjdXJyZW50QW5pbWF0aW9uIiwiZG9uZSIsInByZXBhcmVGcm9tVG9BbmNob3JBbmltYXRpb24iLCJhbmNob3JzIiwiZnJvbUFuaW1hdGlvbiIsInByZXBhcmVSZWd1bGFyQW5pbWF0aW9uIiwidG9BbmltYXRpb24iLCJhbmNob3JBbmltYXRpb25zIiwib3V0RWxlbWVudCIsImluRWxlbWVudCIsImFuaW1hdGlvblJ1bm5lcnMiLCJhbmltYXRpb24iLCJhbGwiLCJzdGF0dXMiLCJhbmltYXRpb25EZXRhaWxzIiwicm9vdE5vZGUiLCIkJEFuaW1hdGVKc1Byb3ZpZGVyIiwiJGluamVjdG9yIiwiJCRyQUZNdXRleCIsImxvb2t1cEFuaW1hdGlvbnMiLCJtYXRjaGVzIiwiZmxhZ01hcCIsImFuaW1hdGlvbkZhY3RvcnkiLCIkJHJlZ2lzdGVyZWRBbmltYXRpb25zIiwiYXBwbHlPcHRpb25zIiwiZXhlY3V0ZUFuaW1hdGlvbkZuIiwiYXJncyIsImNsYXNzZXNUb0FkZCIsImNsYXNzZXNUb1JlbW92ZSIsImFwcGx5IiwiZ3JvdXBFdmVudGVkQW5pbWF0aW9ucyIsImZuTmFtZSIsIm9wZXJhdGlvbnMiLCJhbmkiLCJlbmRQcm9ncmVzc0NiIiwicmVzb2x2ZWQiLCJvbkFuaW1hdGlvbkNvbXBsZXRlIiwicmVzdWx0IiwiY2FuY2VsbGVkIiwicGFja2FnZUFuaW1hdGlvbnMiLCJydW5uZXJzIiwiYW5pbWF0ZUZuIiwicmVqZWN0IiwiYXJndW1lbnRzIiwiYmVmb3JlIiwiYWZ0ZXIiLCJhZnRlckZuIiwiYmVmb3JlRm4iLCJ0b1VwcGVyQ2FzZSIsInN1YnN0ciIsIm9uQ29tcGxldGUiLCJzdWNjZXNzIiwiZW5kQW5pbWF0aW9ucyIsImNsb3NlQWN0aXZlQW5pbWF0aW9ucyIsImNoYWluIiwiJCRBbmltYXRlSnNEcml2ZXJQcm92aWRlciIsIiQkYW5pbWF0ZUpzIiwicHJlcGFyZUFuaW1hdGlvbiIsImVuZEZuRmFjdG9yeSIsIk5HX0FOSU1BVEVfQVRUUl9OQU1FIiwiTkdfQU5JTUFURV9QSU5fREFUQSIsIiQkQW5pbWF0ZVF1ZXVlUHJvdmlkZXIiLCJpc0FsbG93ZWQiLCJydWxlVHlwZSIsInByZXZpb3VzQW5pbWF0aW9uIiwicnVsZXMiLCJzb21lIiwiaGFzQW5pbWF0aW9uQ2xhc3NlcyIsImFuZCIsIlBSRV9ESUdFU1RfU1RBVEUiLCJSVU5OSU5HX1NUQVRFIiwic2tpcCIsIm5ld0FuaW1hdGlvbiIsInN0YXRlIiwibk8iLCJjTyIsIiQkSGFzaE1hcCIsIiQkYW5pbWF0aW9uIiwiJHRlbXBsYXRlUmVxdWVzdCIsIm5vcm1hbGl6ZUFuaW1hdGlvbk9wdGlvbnMiLCJmaW5kQ2FsbGJhY2tzIiwidGFyZ2V0Tm9kZSIsImVudHJpZXMiLCJjYWxsYmFja1JlZ2lzdHJ5IiwiY29udGFpbnMiLCJ0cmlnZ2VyQ2FsbGJhY2siLCJwaGFzZSIsInF1ZXVlQW5pbWF0aW9uIiwibm90aWZ5UHJvZ3Jlc3MiLCJwcm9ncmVzcyIsImlzQW5pbWF0YWJsZUNsYXNzTmFtZSIsInNraXBBbmltYXRpb25zIiwiYW5pbWF0aW9uc0VuYWJsZWQiLCJkaXNhYmxlZEVsZW1lbnRzTG9va3VwIiwiZXhpc3RpbmdBbmltYXRpb24iLCJhY3RpdmVBbmltYXRpb25zTG9va3VwIiwiaGFzRXhpc3RpbmdBbmltYXRpb24iLCJhcmVBbmltYXRpb25zQWxsb3dlZCIsImNsb3NlQ2hpbGRBbmltYXRpb25zIiwic2tpcEFuaW1hdGlvbkZsYWciLCJjYW5jZWxBbmltYXRpb25GbGFnIiwiam9pbkFuaW1hdGlvbkZsYWciLCJpc1ZhbGlkQW5pbWF0aW9uIiwiY2xlYXJFbGVtZW50QW5pbWF0aW9uU3RhdGUiLCJjbG9zZVBhcmVudENsYXNzQmFzZWRBbmltYXRpb25zIiwiY291bnRlciIsIm1hcmtFbGVtZW50QW5pbWF0aW9uU3RhdGUiLCIkJHBvc3REaWdlc3QiLCJhbmltYXRpb25DYW5jZWxsZWQiLCJwYXJlbnRFbGVtZW50IiwicmVhbFJ1bm5lciIsInNldEhvc3QiLCJjaGlsZHJlbiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjaGlsZCIsInBhcnNlSW50IiwicmVtb3ZlQXR0cmlidXRlIiwiaXNNYXRjaGluZ0VsZW1lbnQiLCJub2RlT3JFbG1BIiwibm9kZU9yRWxtQiIsInN0YXJ0aW5nRWxlbWVudCIsImV4YW1pbmVQYXJlbnRBbmltYXRpb24iLCJhbmltYXRlQ2hpbGRyZW4iLCJib2R5RWxlbWVudERldGVjdGVkIiwicm9vdEVsZW1lbnREZXRlY3RlZCIsInBhcmVudEFuaW1hdGlvbkRldGVjdGVkIiwicGFyZW50SG9zdCIsImRldGFpbHMiLCJib2R5RWxlbWVudCIsImFsbG93QW5pbWF0aW9uIiwic2V0QXR0cmlidXRlIiwib2xkVmFsdWUiLCJuZXdWYWx1ZSIsImRlcmVnaXN0ZXJXYXRjaCIsIiR3YXRjaCIsInRvdGFsUGVuZGluZ1JlcXVlc3RzIiwiaXNFbXB0eSIsImNsYXNzTmFtZUZpbHRlciIsInRlc3QiLCJjb250YWluZXIiLCJvZmYiLCJmaWx0ZXJGcm9tUmVnaXN0cnkiLCJsaXN0IiwibWF0Y2hDb250YWluZXIiLCJtYXRjaENhbGxiYWNrIiwiY29udGFpbmVyTm9kZSIsImlzTWF0Y2giLCJwaW4iLCJlbmFibGVkIiwiYm9vbCIsImFyZ0NvdW50IiwiaGFzRWxlbWVudCIsInJlY29yZEV4aXN0cyIsIiQkckFGTXV0ZXhGYWN0b3J5IiwicGFzc2VkIiwiJCRBbmltYXRlUnVubmVyRmFjdG9yeSIsIkFuaW1hdGVSdW5uZXIiLCJob3N0IiwiX2RvbmVDYWxsYmFja3MiLCJfcnVuSW5BbmltYXRpb25GcmFtZSIsIl9zdGF0ZSIsIklOSVRJQUxfU1RBVEUiLCJET05FX1BFTkRJTkdfU1RBVEUiLCJET05FX0NPTVBMRVRFX1NUQVRFIiwibmV4dCIsInJlc3BvbnNlIiwib25Qcm9ncmVzcyIsInByb3RvdHlwZSIsImdldFByb21pc2UiLCJwcm9taXNlIiwic2VsZiIsInJlc29sdmUiLCJyZXNvbHZlSGFuZGxlciIsInJlamVjdEhhbmRsZXIiLCJjYXRjaCIsImhhbmRsZXIiLCJmaW5hbGx5IiwiX3Jlc29sdmUiLCIkJEFuaW1hdGlvblByb3ZpZGVyIiwic2V0UnVubmVyIiwiUlVOTkVSX1NUT1JBR0VfS0VZIiwicmVtb3ZlUnVubmVyIiwicmVtb3ZlRGF0YSIsImdldFJ1bm5lciIsIk5HX0FOSU1BVEVfUkVGX0FUVFIiLCJhbmltYXRpb25RdWV1ZSIsInRvdGFsUGVuZGluZ0NsYXNzQmFzZWRBbmltYXRpb25zIiwidG90YWxBY3RpdmVDbGFzc0Jhc2VkQW5pbWF0aW9ucyIsImNsYXNzQmFzZWRBbmltYXRpb25zUXVldWUiLCJnZXRBbmNob3JOb2RlcyIsIlNFTEVDVE9SIiwiaXRlbXMiLCJoYXNBdHRyaWJ1dGUiLCJncm91cEFuaW1hdGlvbnMiLCJwcmVwYXJlZEFuaW1hdGlvbnMiLCJyZWZMb29rdXAiLCJlbnRlck9yTW92ZSIsImFuY2hvck5vZGVzIiwiZGlyZWN0aW9uIiwiYW5pbWF0aW9uSUQiLCJ1c2VkSW5kaWNlc0xvb2t1cCIsImFuY2hvckdyb3VwcyIsImluZGV4S2V5IiwidG9TdHJpbmciLCJsb29rdXBLZXkiLCJncm91cCIsImJlZm9yZVN0YXJ0IiwiY3NzQ2xhc3Nlc0ludGVyc2VjdGlvbiIsIm91dCIsImluIiwiYWEiLCJqIiwiaW52b2tlRmlyc3REcml2ZXIiLCJkcml2ZXJOYW1lIiwiaGFzIiwiZmFjdG9yeSIsImRyaXZlciIsInRlbXBDbGFzc2VzIiwidXBkYXRlQW5pbWF0aW9uUnVubmVycyIsIm5ld1J1bm5lciIsInVwZGF0ZSIsImhhbmRsZURlc3Ryb3llZEVsZW1lbnQiLCJjbGFzc0Jhc2VkSW5kZXgiLCJhbmltYXRpb25FbnRyeSIsInN0YXJ0QW5pbWF0aW9uRm4iLCJjbG9zZUZuIiwidGFyZ2V0RWxlbWVudCIsIm9wZXJhdGlvbiIsImFuaW1hdGlvblJ1bm5lciIsInNvcnQiLCJtYXAiLCJkaXJlY3RpdmUiLCJwcm92aWRlciIsOCwiLi9hbmd1bGFyLWFuaW1hdGUiLDksIiRBcmlhUHJvdmlkZXIiLCJ3YXRjaEV4cHIiLCJhdHRyTmFtZSIsImFyaWFBdHRyIiwibmVnYXRlIiwiZWxlbSIsImFyaWFDYW1lbE5hbWUiLCIkbm9ybWFsaXplIiwiYm9vbFZhbCIsImFyaWFIaWRkZW4iLCJhcmlhQ2hlY2tlZCIsImFyaWFEaXNhYmxlZCIsImFyaWFSZXF1aXJlZCIsImFyaWFJbnZhbGlkIiwiYXJpYU11bHRpbGluZSIsImFyaWFWYWx1ZSIsInRhYmluZGV4IiwiYmluZEtleXByZXNzIiwiYmluZFJvbGVGb3JDbGljayIsIm5ld0NvbmZpZyIsIiQkd2F0Y2hFeHByIiwibmdBcmlhTW9kdWxlIiwiJGFyaWEiLCJzaG91bGRBdHRhY2hBdHRyIiwibm9ybWFsaXplZEF0dHIiLCJzaG91bGRBdHRhY2hSb2xlIiwicm9sZSIsIm5vZGVOYW1lIiwiZ2V0U2hhcGUiLCJ0eXBlIiwicmVzdHJpY3QiLCJwcmlvcml0eSIsImNvbXBpbGUiLCJzaGFwZSIsInByZSIsIm5nTW9kZWwiLCIkaXNFbXB0eSIsInBvc3QiLCJuZ0FyaWFXYXRjaE1vZGVsVmFsdWUiLCIkbW9kZWxWYWx1ZSIsImdldFJhZGlvUmVhY3Rpb24iLCJuZWVkc1RhYkluZGV4IiwibmV3VmFsIiwiJHZpZXdWYWx1ZSIsIm5nQXJpYUNoZWNrYm94UmVhY3Rpb24iLCJuZWVkc0FyaWFWYWx1ZW1pbiIsImhhc093blByb3BlcnR5IiwibmVlZHNBcmlhVmFsdWVtYXgiLCJuZWVkc0FyaWFWYWx1ZW5vdyIsIiR2YWxpZGF0b3JzIiwicmVxdWlyZWQiLCIkZXJyb3IiLCIkaW52YWxpZCIsImxpbmsiLCJuZ01lc3NhZ2VzIiwiJHBhcnNlIiwibmdDbGljayIsImlzTm9kZU9uZU9mIiwibm9kZVR5cGVBcnJheSIsIm5vZGVCbGFja0xpc3QiLCJuZ0tleXByZXNzIiwia2V5Q29kZSIsIndoaWNoIiwiJGFwcGx5IiwxMCwiLi9hbmd1bGFyLWFyaWEiLDExLCJNZENvcmVDb25maWd1cmUiLCIkcHJvdmlkZSIsImRlY29yYXRvciIsInJBRkRlY29yYXRvciIsIndhcm5QYWxldHRlIiwiYmFja2dyb3VuZFBhbGV0dGUiLCIkZGVsZWdhdGUiLCJ0aHJvdHRsZSIsImNiIiwicXVldWVBcmdzIiwiYWxyZWFkeVF1ZXVlZCIsInF1ZXVlQ2IiLCJjb250ZXh0IiwiTWRDb25zdGFudEZhY3RvcnkiLCJ2ZW5kb3JQcm9wZXJ0eSIsIndlYmtpdCIsInZlbmRvclByZWZpeCIsIktFWV9DT0RFIiwiRU5URVIiLCJFU0NBUEUiLCJTUEFDRSIsIkxFRlRfQVJST1ciLCJVUF9BUlJPVyIsIlJJR0hUX0FSUk9XIiwiRE9XTl9BUlJPVyIsIlRBQiIsIkJBQ0tTUEFDRSIsIkRFTEVURSIsIkNTUyIsIlRSQU5TSVRJT05FTkQiLCJBTklNQVRJT05FTkQiLCJUUkFOU0ZPUk0iLCJUUkFOU0ZPUk1fT1JJR0lOIiwiVFJBTlNJVElPTiIsIlRSQU5TSVRJT05fRFVSQVRJT04iLCJBTklNQVRJT05fUExBWV9TVEFURSIsIkFOSU1BVElPTl9EVVJBVElPTiIsIkFOSU1BVElPTl9OQU1FIiwiQU5JTUFUSU9OX1RJTUlORyIsIkFOSU1BVElPTl9ESVJFQ1RJT04iLCJNRURJQSIsInNtIiwiZ3Qtc20iLCJtZCIsImd0LW1kIiwibGciLCJndC1sZyIsIk1FRElBX1BSSU9SSVRZIiwiTWRJdGVyYXRvciIsInJlbG9vcCIsImdldEl0ZW1zIiwiX2l0ZW1zIiwiaW5SYW5nZSIsImhhc05leHQiLCJpdGVtIiwiaGFzUHJldmlvdXMiLCJpdGVtQXQiLCJmaW5kQnkiLCJhZGQiLCJpc051bWJlciIsImZpcnN0IiwibGFzdCIsImZpbmRTdWJzZXF1ZW50SXRlbSIsImJhY2t3YXJkcyIsInZhbGlkYXRlIiwibGltaXQiLCJ0cnVlRm4iLCJjdXJJbmRleCIsIm5leHRJbmRleCIsImZvdW5kSXRlbSIsIkFycmF5Iiwic2xpY2UiLCJiaW5kIiwicHJldmlvdXMiLCJpdGVyYXRvciIsIm1kTWVkaWFGYWN0b3J5IiwiJG1kQ29uc3RhbnQiLCIkbWRNZWRpYSIsInF1ZXJ5IiwidmFsaWRhdGVkIiwicXVlcmllcyIsInJlc3VsdHMiLCJtcWxzIiwibWF0Y2hNZWRpYSIsImFkZExpc3RlbmVyIiwib25RdWVyeUNoYW5nZSIsIm1lZGlhIiwiJGV2YWxBc3luYyIsImdldFF1ZXJ5IiwiZ2V0UmVzcG9uc2l2ZUF0dHJpYnV0ZSIsIm1lZGlhTmFtZSIsIm5vcm1hbGl6ZWROYW1lIiwiZ2V0Tm9ybWFsaXplZE5hbWUiLCJ3YXRjaFJlc3BvbnNpdmVBdHRyaWJ1dGVzIiwiYXR0ck5hbWVzIiwid2F0Y2hGbiIsInVud2F0Y2hGbnMiLCJub3JtYWxpemVDYWNoZSIsIm5leHRVbmlxdWVJZCIsIiRjYWNoZUZhY3RvcnkiLCJnZXROb2RlIiwiZWwiLCJVdGlsIiwicGVyZm9ybWFuY2UiLCJjbGllbnRSZWN0Iiwib2Zmc2V0UGFyZW50IiwiaXNPZmZzZXRSZWN0Iiwibm9kZVJlY3QiLCJvZmZzZXRSZWN0IiwibGVmdCIsInRvcCIsImhlaWdodCIsIm5vZGVzVG9BcnJheSIsIm5vZGVzIiwiZGlzYWJsZVNjcm9sbEFyb3VuZCIsImRpc2FibGVFbGVtZW50U2Nyb2xsIiwiZGlzYWJsZUtleU5hdiIsInByZXZlbnREZWZhdWx0IiwiekluZGV4IiwiaXNOYU4iLCJzY3JvbGxNYXNrIiwiYXBwZW5kQ2hpbGQiLCJyZW1vdmVDaGlsZCIsIl9lbmFibGVTY3JvbGxpbmciLCJkaXNhYmxlQm9keVNjcm9sbCIsInJlc3RvcmVTdHlsZSIsInNjcm9sbE9mZnNldCIsImFwcGx5U3R5bGVzIiwicG9zaXRpb24iLCJvdmVyZmxvd1kiLCJyZXN0b3JlQm9keSIsInJlc3RvcmVFbGVtZW50IiwiZW5hYmxlU2Nyb2xsaW5nIiwiZmxvYXRpbmdTY3JvbGxiYXJzIiwiY2FjaGVkIiwidGVtcE5vZGUiLCJjaGlsZE5vZGVzIiwiZm9yY2VGb2N1cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJmb2N1c09uQ2xpY2siLCIkZm9jdXMiLCJmb2N1cyIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJuZXdFdmVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdE1vdXNlRXZlbnQiLCIkbWF0ZXJpYWwiLCJkaXNwYXRjaEV2ZW50IiwidHJhbnNpdGlvbkVuZFByb21pc2UiLCJvcHRzIiwiZmluaXNoZWQiLCJkZWZlcnJlZCIsImRlZmVyIiwidGltZW91dCIsImZha2VOZ01vZGVsIiwiJGZha2UiLCIkc2V0VG91Y2hlZCIsIiRzZXRWaWV3VmFsdWUiLCIkcmVuZGVyIiwiJHZpZXdDaGFuZ2VMaXN0ZW5lcnMiLCIkcGFyc2VycyIsIiRmb3JtYXR0ZXJzIiwiZGVib3VuY2UiLCJmdW5jIiwid2FpdCIsImludm9rZUFwcGx5IiwidGltZXIiLCJyZWNlbnQiLCJ0aW1lIiwibmV4dFVpZCIsImRpc2Nvbm5lY3RTY29wZSIsIiRyb290IiwiJCRkZXN0cm95ZWQiLCIkcGFyZW50IiwiJCRkaXNjb25uZWN0ZWQiLCIkJGNoaWxkSGVhZCIsIiQkbmV4dFNpYmxpbmciLCIkJGNoaWxkVGFpbCIsIiQkcHJldlNpYmxpbmciLCJyZWNvbm5lY3RTY29wZSIsImdldENsb3Nlc3QiLCJ0YWdOYW1lIiwib25seVBhcmVudCIsImV4dHJhY3RFbGVtZW50QnlOYW1lIiwibGVuIiwidG9Mb3dlckNhc2UiLCJpbml0T3B0aW9uYWxQcm9wZXJ0aWVzIiwiZGVmYXVsdHMiLCIkJGlzb2xhdGVCaW5kaW5ncyIsImJpbmRpbmciLCJvcHRpb25hbCIsImhhc0tleSIsImJsdXIiLCJBcmlhU2VydmljZSIsImV4cGVjdCIsImRlZmF1bHRWYWx1ZSIsImNoaWxkSGFzQXR0cmlidXRlIiwid2FybiIsImV4cGVjdEFzeW5jIiwiZGVmYXVsdFZhbHVlR2V0dGVyIiwiZXhwZWN0V2l0aFRleHQiLCJnZXRUZXh0IiwidGV4dCIsImlzSGlkZGVuIiwiY3VycmVudFN0eWxlIiwiZGlzcGxheSIsImhhc0NoaWxkcmVuIiwiaGFzQ2hpbGROb2RlcyIsImhhc0F0dHIiLCJtZENvbXBpbGVyU2VydmljZSIsIiRodHRwIiwiJGNvbXBpbGUiLCIkY29udHJvbGxlciIsIiR0ZW1wbGF0ZUNhY2hlIiwidGVtcGxhdGUiLCJsb2NhbHMiLCJ0cmFuc2Zvcm1UZW1wbGF0ZSIsImlkZW50aXR5IiwiaW52b2tlIiwiJHRlbXBsYXRlIiwiaHRtbCIsImNvbnRlbnRzIiwibGlua0ZuIiwiaW52b2tlQ3RybCIsImluc3RhbmNlIiwiY3RybCIsIk1kR2VzdHVyZVByb3ZpZGVyIiwiTWRHZXN0dXJlIiwiJCRNZEdlc3R1cmVIYW5kbGVyIiwicmVnaXN0ZXIiLCJoYW5kbGVyTmFtZSIsIkhBTkRMRVJTIiwicmVnaXN0ZXJFbGVtZW50IiwiYWRkSGFuZGxlciIsImRlZmluaXRpb24iLCJ1c2VyQWdlbnQiLCJuYXZpZ2F0b3IiLCJ2ZW5kb3IiLCJvcGVyYSIsImlzSW9zIiwibWF0Y2giLCJpc0FuZHJvaWQiLCJoYXNKUXVlcnkiLCJqUXVlcnkiLCJpc0hpamFja2luZ0NsaWNrcyIsImZvcmNlU2tpcENsaWNrSGlqYWNrIiwibWF4RGlzdGFuY2UiLCJvbkVuZCIsInBvaW50ZXIiLCJkaXN0YW5jZSIsIm9uU3RhcnQiLCJvbkNhbmNlbCIsInJlZ2lzdGVyZWRQYXJlbnQiLCJwb3MiLCJ4IiwieSIsIm9uTW92ZSIsImR4IiwiZHkiLCJzcXJ0IiwibWluRGlzdGFuY2UiLCJob3Jpem9udGFsIiwiY2FuY2VsTXVsdGlwbGllciIsInNob3VsZFN0YXJ0RHJhZyIsInNob3VsZENhbmNlbCIsImRyYWdQb2ludGVyIiwiZGlzcGF0Y2hEcmFnTW92ZSIsImFicyIsImRpc3RhbmNlWCIsImRpc3RhbmNlWSIsIm1ha2VTdGFydFBvaW50ZXIiLCJ1cGRhdGVQb2ludGVyU3RhdGUiLCJpc1J1bm5pbmciLCJtaW5WZWxvY2l0eSIsInZlbG9jaXR5WCIsImV2ZW50VHlwZSIsImRpcmVjdGlvblgiLCJHZXN0dXJlSGFuZGxlciIsIk1kR2VzdHVyZUhhbmRsZXIiLCJqUXVlcnlEaXNwYXRjaEV2ZW50Iiwic3JjRXZlbnQiLCJldmVudFBvaW50ZXIiLCJldmVudE9iaiIsIkV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJzY3JlZW5YIiwic2NyZWVuWSIsInBhZ2VYIiwicGFnZVkiLCJjdHJsS2V5IiwiYWx0S2V5Iiwic2hpZnRLZXkiLCJtZXRhS2V5IiwidHJpZ2dlciIsIm5hdGl2ZURpc3BhdGNoRXZlbnQiLCJkZXRhaWwiLCJidXR0b24iLCJyZWxhdGVkVGFyZ2V0IiwiaW5pdEN1c3RvbUV2ZW50IiwicGFyZW50VGFyZ2V0IiwiZ2V0TmVhcmVzdFBhcmVudCIsInBhcmVudFRhcmdldE9wdGlvbnMiLCIkbWRHZXN0dXJlIiwibW92ZSIsImN1cnJlbnQiLCJvbkRlc3Ryb3kiLCJhdHRhY2hUb0RvY3VtZW50IiwicnVuSGFuZGxlcnMiLCJoYW5kbGVyRXZlbnQiLCJnZXN0dXJlU3RhcnQiLCJsYXN0UG9pbnRlciIsInR5cGVzTWF0Y2giLCJlbmRUaW1lIiwiZ2VzdHVyZU1vdmUiLCJnZXN0dXJlRW5kIiwiaXNJbml0aWFsaXplZCIsImlzS2V5Q2xpY2siLCJpc0lvbmljVGFwIiwiU1RBUlRfRVZFTlRTIiwiTU9WRV9FVkVOVFMiLCJFTkRfRVZFTlRTIiwicG9pbnQiLCJnZXRFdmVudFBvaW50Iiwic3RhcnRQb2ludGVyIiwic3RhcnRYIiwic3RhcnRZIiwiZGlyZWN0aW9uWSIsInZlbG9jaXR5WSIsInRvdWNoZXMiLCJjaGFuZ2VkVG91Y2hlcyIsInJ1biIsInNraXBDbGlja0hpamFjayIsIkludGVyaW1FbGVtZW50UHJvdmlkZXIiLCJjcmVhdGVJbnRlcmltRWxlbWVudFByb3ZpZGVyIiwiaW50ZXJpbUZhY3RvcnlOYW1lIiwic2V0RGVmYXVsdHMiLCJwcm92aWRlckNvbmZpZyIsIm9wdGlvbnNGYWN0b3J5IiwibWV0aG9kcyIsIkVYUE9TRURfTUVUSE9EUyIsImFkZE1ldGhvZCIsImN1c3RvbU1ldGhvZHMiLCJhZGRQcmVzZXQiLCJwcmVzZXRzIiwiYXJnT3B0aW9uIiwiJCRpbnRlcmltRWxlbWVudCIsIiRhbmltYXRlIiwic2hvd0ludGVyaW1FbGVtZW50IiwiX29wdGlvbnMiLCJpbnRlcmltRWxlbWVudFNlcnZpY2UiLCJkZWZhdWx0T3B0aW9ucyIsImludm9rZUZhY3RvcnkiLCJkZWZhdWx0VmFsIiwicHVibGljU2VydmljZSIsImRlZmF1bHRNZXRob2RzIiwiUHJlc2V0IiwicHJlc2V0RGVmYXVsdHMiLCJwcmVzZXRNZXRob2RzIiwiJHR5cGUiLCJtZXRob2ROYW1lIiwiSW50ZXJpbUVsZW1lbnRGYWN0b3J5IiwiJGludGVycG9sYXRlIiwiJG1kQ29tcGlsZXIiLCIkbWRUaGVtaW5nIiwicmVwbGFjZUludGVycG9sYXRpb25TeW1ib2xzIiwic3RhcnRTeW1ib2wiLCJlbmRTeW1ib2wiLCJ1c2VzU3RhbmRhcmRTeW1ib2xzIiwicHJvY2Vzc1RlbXBsYXRlIiwic3RhY2siLCJpbnRlcmltRWxlbWVudCIsIkludGVyaW1FbGVtZW50IiwiaGlkZVRpbWVvdXQiLCJzaG93RG9uZSIsInJlbW92ZURvbmUiLCJwcmVzZXJ2ZVNjb3BlIiwiJG5ldyIsImlzb2xhdGVTY29wZSIsIm9uU2hvdyIsImVudGVyIiwib25SZW1vdmUiLCJsZWF2ZSIsImNvbXBpbGVQcm9taXNlIiwic2tpcENvbXBpbGUiLCJjb21waWxlRGF0YSIsInN0YXJ0SGlkZVRpbWVvdXQiLCJoaWRlRGVsYXkiLCJxdWVyeVNlbGVjdG9yIiwidGhlbWFibGUiLCJyZXQiLCJjYW5jZWxUaW1lb3V0IiwiJGRlc3Ryb3kiLCJDb21wb25lbnRSZWdpc3RyeSIsImlzVmFsaWRJRCIsImhhbmRsZSIsImluc3RhbmNlcyIsInBlbmRpbmdzIiwibm90Rm91bmRFcnJvciIsImVycm9yIiwiZ2V0SW5zdGFuY2VzIiwiJCRtZEhhbmRsZSIsImRlcmVnaXN0ZXIiLCJyZXNvbHZlV2hlbiIsImRmZCIsIk1kQnV0dG9uSW5rUmlwcGxlIiwiJG1kSW5rUmlwcGxlIiwiYXR0YWNoIiwiZWxlbWVudE9wdGlvbnMiLCJvcHRpb25zRm9yRWxlbWVudCIsImhhc0NsYXNzIiwiaXNNZW51SXRlbSIsImZpdFJpcHBsZSIsImNlbnRlciIsImRpbUJhY2tncm91bmQiLCJNZENoZWNrYm94SW5rUmlwcGxlIiwiTWRMaXN0SW5rUmlwcGxlIiwib3V0bGluZSIsInJpcHBsZVNpemUiLCJJbmtSaXBwbGVEaXJlY3RpdmUiLCIkbWRCdXR0b25JbmtSaXBwbGUiLCIkbWRDaGVja2JveElua1JpcHBsZSIsIklua1JpcHBsZVNlcnZpY2UiLCJnZXRSaXBwbGVDb250YWluZXIiLCJwYXJzZUNvbG9yIiwiY29sb3IiLCJoZXhUb1JHQkEiLCJoZXgiLCJkaWciLCJyZWQiLCJncm4iLCJibHUiLCJyZ2JUb1JHQkEiLCJyZW1vdmVFbGVtZW50IiwicmlwcGxlcyIsImJhY2tncm91bmRDb2xvciIsInVwZGF0ZUVsZW1lbnQiLCJzdGF0ZXMiLCJlbGVtSXNBY3RpdmUiLCJpc0FjdGl2ZSIsImVsZW1Jc0hlbGQiLCJpc0hlbGQiLCJhbmltYXRpbmciLCJtYXJnaW5MZWZ0IiwibWFyZ2luVG9wIiwiY3JlYXRlUmlwcGxlIiwiZ2V0UmlwcGxlRWxlbWVudCIsInVuc2hpZnQiLCJnZXRSaXBwbGVTaXplIiwibXVsdGlwbGllciIsInNpemUiLCJyZWN0IiwicG93IiwiZnVsbFJpcHBsZSIsIm1pbiIsImdldFJpcHBsZUNzcyIsInJnYmFUb1JHQiIsImJvcmRlckNvbG9yIiwicm91bmQiLCJjb2xvckVsZW1lbnQiLCJib3JkZXJXaWR0aCIsIm9uUHJlc3NEb3duIiwiaXNSaXBwbGVBbGxvd2VkIiwib25QcmVzc1VwIiwicmlwcGxlIiwiaXNEaXNhYmxlZCIsImdyYW5kcGFyZW50IiwiYW5jZXN0b3IiLCJtb3VzZWRvd24iLCJob3ZlciIsIm1vdXNlZG93blBhdXNlVGltZSIsImlzQWN0aXZlRXhwciIsInJpcHBsZVNpemVTZXR0aW5nIiwiYXR0ck5vRGlyZWN0aXZlIiwiTWRUYWJJbmtSaXBwbGUiLCJjb25zdGFudCIsIjUwIiwiMTAwIiwiMjAwIiwiMzAwIiwiNDAwIiwiNTAwIiwiNjAwIiwiNzAwIiwiODAwIiwiOTAwIiwiQTEwMCIsIkEyMDAiLCJBNDAwIiwiQTcwMCIsImNvbnRyYXN0RGVmYXVsdENvbG9yIiwiY29udHJhc3REYXJrQ29sb3JzIiwiY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyIsInBpbmsiLCJwdXJwbGUiLCJkZWVwLXB1cnBsZSIsImluZGlnbyIsImJsdWUiLCJsaWdodC1ibHVlIiwiY29udHJhc3RMaWdodENvbG9ycyIsImN5YW4iLCJ0ZWFsIiwiZ3JlZW4iLCJsaWdodC1ncmVlbiIsImxpbWUiLCJ5ZWxsb3ciLCJhbWJlciIsIm9yYW5nZSIsImRlZXAtb3JhbmdlIiwiYnJvd24iLCJncmV5IiwiMTAwMCIsImJsdWUtZ3JleSIsIlRoZW1pbmdQcm92aWRlciIsIiRtZENvbG9yUGFsZXR0ZSIsImRlZmluZVBhbGV0dGUiLCJQQUxFVFRFUyIsImNoZWNrUGFsZXR0ZVZhbGlkIiwidGhlbWluZ1Byb3ZpZGVyIiwiZXh0ZW5kUGFsZXR0ZSIsIm1pc3NpbmdDb2xvcnMiLCJWQUxJRF9IVUVfVkFMVUVTIiwiZmllbGQiLCJyZWdpc3RlclRoZW1lIiwiaW5oZXJpdEZyb20iLCJUSEVNRVMiLCJwYXJlbnRUaGVtZSIsIlRoZW1lIiwiY29sb3JzIiwiY29sb3JUeXBlIiwiaHVlcyIsInNldERhcmsiLCJpc0RhcmsiLCJmb3JlZ3JvdW5kUGFsZXR0ZSIsIkxJR0hUX0ZPUkVHUk9VTkQiLCJEQVJLX0ZPUkVHUk9VTkQiLCJmb3JlZ3JvdW5kU2hhZG93IiwiREFSS19TSEFET1ciLCJMSUdIVF9TSEFET1ciLCJuZXdEZWZhdWx0SHVlcyIsIkRBUktfREVGQVVMVF9IVUVTIiwiTElHSFRfREVGQVVMVF9IVUVTIiwib2xkRGVmYXVsdEh1ZXMiLCJuZXdEZWZhdWx0cyIsIm9sZERlZmF1bHRzIiwiaHVlTmFtZSIsImRhcmsiLCJUSEVNRV9DT0xPUl9UWVBFUyIsImRlZmF1bHRIdWVzIiwicGFsZXR0ZU5hbWUiLCJodWVWYWx1ZSIsImNvbnNvbGUiLCJUaGVtaW5nU2VydmljZSIsInJlZ2lzdGVyZWQiLCJ0aGVtZU5hbWUiLCJhcHBseVRoZW1lIiwiaW5oZXJpdCIsImNoYW5nZVRoZW1lIiwib2xkVGhlbWUiLCJhdHRyVGhlbWVWYWx1ZSIsImFsd2F5c1dhdGNoVGhlbWUiLCIkbWRUaGVtZSIsImRlZmF1bHRUaGVtZSIsInNldERlZmF1bHRUaGVtZSIsImFsd2F5c1dhdGNoIiwiX0xJR0hUX0RFRkFVTFRfSFVFUyIsIl9EQVJLX0RFRkFVTFRfSFVFUyIsIl9QQUxFVFRFUyIsIl9USEVNRVMiLCJfcGFyc2VSdWxlcyIsInBhcnNlUnVsZXMiLCJfcmdiYSIsInJnYmEiLCJUaGVtaW5nRGlyZWN0aXZlIiwiJHNldFRoZW1lIiwibWRUaGVtZSIsIlRoZW1hYmxlRGlyZWN0aXZlIiwiY2hlY2tWYWxpZFBhbGV0dGUiLCJnZW5lcmF0ZWRSdWxlcyIsInRoZW1lTmFtZVJlZ2V4IiwiUmVnRXhwIiwiaHVlUmVnZXgiLCJzaW1wbGVWYXJpYWJsZVJlZ2V4IiwicGFsZXR0ZSIsImh1ZSIsIm9wYWNpdHkiLCJuZXdSdWxlIiwiXyIsImh1ZVR5cGUiLCJnZW5lcmF0ZVRoZW1lcyIsInNhbml0aXplUGFsZXR0ZSIsImRlZmF1bHRDb250cmFzdCIsImxpZ2h0Q29sb3JzIiwic3Ryb25nTGlnaHRDb2xvcnMiLCJkYXJrQ29sb3JzIiwiZ2V0Q29udHJhc3RDb2xvciIsIkRBUktfQ09OVFJBU1RfQ09MT1IiLCJTVFJPTkdfTElHSFRfQ09OVFJBU1RfQ09MT1IiLCJMSUdIVF9DT05UUkFTVF9DT0xPUiIsInJnYlZhbHVlIiwiY29sb3JUb1JnYmFBcnJheSIsImNvbnRyYXN0IiwiaGVhZCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZmlyc3RDaGlsZCIsImZpcnN0RWxlbWVudENoaWxkIiwidGhlbWVDc3MiLCJydWxlc0J5VHlwZSIsInJ1bGUiLCJydWxlTWF0Y2hSZWdleCIsIkRFRkFVTFRfQ09MT1JfVFlQRSIsIkdFTkVSQVRFRCIsInN0eWxlU3RyaW5ncyIsImNyZWF0ZUVsZW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsImluc2VydEJlZm9yZSIsInByaW1hcnkiLCJhY2NlbnQiLCJjbHIiLCJyZ2JBcnJheSIsImNvcHkiLCJwb3AiLCJkZWZhdWx0IiwiaHVlLTEiLCJodWUtMiIsImh1ZS0zIiwiYmFja2dyb3VuZCIsImRlZmF1bHREZWZhdWx0SHVlcyIsIkJhY2tkcm9wRGlyZWN0aXZlIiwiTWRCb3R0b21TaGVldERpcmVjdGl2ZSIsIk1kQm90dG9tU2hlZXRQcm92aWRlciIsIiQkaW50ZXJpbUVsZW1lbnRQcm92aWRlciIsImJvdHRvbVNoZWV0RGVmYXVsdHMiLCIkbWRVdGlsIiwiYmFja2Ryb3AiLCJib3R0b21TaGVldCIsIkJvdHRvbVNoZWV0IiwiZGlzYWJsZVBhcmVudFNjcm9sbCIsImxhc3RPdmVyZmxvdyIsImZvY3VzYWJsZSIsImVzY2FwZVRvQ2xvc2UiLCJyb290RWxlbWVudEtleXVwQ2FsbGJhY2siLCJjbGVhbnVwIiwib25EcmFnU3RhcnQiLCJvbkRyYWciLCJ0cmFuc2Zvcm0iLCJQQURESU5HIiwib25EcmFnRW5kIiwiQ0xPU0lOR19WRUxPQ0lUWSIsImRpc3RhbmNlUmVtYWluaW5nIiwiTWRCdXR0b25EaXJlY3RpdmUiLCIkbWRBcmlhIiwiaXNBbmNob3IiLCJocmVmIiwibmdIcmVmIiwibmdMaW5rIiwidWlTcmVmIiwiZ2V0VGVtcGxhdGUiLCJwb3N0TGluayIsImVsZW1lbnRIYXNUZXh0IiwidGV4dENvbnRlbnQiLCJuZ0Rpc2FibGVkIiwiZGlzYWJsZWQiLCJtb3VzZUFjdGl2ZSIsInRyYW5zY2x1ZGUiLCJtZENhcmREaXJlY3RpdmUiLCIkZWxlbWVudCIsIiRhdHRyIiwiTWRDaGVja2JveERpcmVjdGl2ZSIsImlucHV0RGlyZWN0aXZlIiwidEVsZW1lbnQiLCJ0QXR0cnMiLCJuZ01vZGVsQ3RybCIsImV4cHIiLCJodG1sQXR0ciIsInZhbHVlT3B0cyIsImtleXByZXNzSGFuZGxlciIsImxpc3RlbmVyIiwidmlld1ZhbHVlIiwibmdDaGVja2VkIiwiY2hlY2tlZCIsInJlbmRlciIsIkNIRUNLRURfQ1NTIiwiJGV2YWwiLCJ0cnVlIiwiZmFsc2UiLCJtZENvbnRlbnREaXJlY3RpdmUiLCJDb250ZW50Q29udHJvbGxlciIsIiRicm9hZGNhc3QiLCJpb3NTY3JvbGxGaXgiLCIkbWF0ZXJpYWxTY3JvbGxGaXhlZCIsInNjcm9sbEhlaWdodCIsIm9mZnNldEhlaWdodCIsIk1kRGlhbG9nRGlyZWN0aXZlIiwiY2xpZW50SGVpZ2h0IiwiTWREaWFsb2dQcm92aWRlciIsImFkdmFuY2VkRGlhbG9nT3B0aW9ucyIsIiRtZERpYWxvZyIsImFib3J0IiwiZGlhbG9nRGVmYXVsdE9wdGlvbnMiLCJ0cmFwRm9jdXMiLCJkaWFsb2ciLCJmaW5kQ2xvc2VCdXR0b24iLCJjbG9zZUJ1dHRvbiIsImFjdGlvbkJ1dHRvbnMiLCJwb3BJblRhcmdldCIsImhhc0JhY2tkcm9wIiwiY29tcHV0ZUZyb20iLCJkb2N1bWVudEVsZW1lbnQiLCJwYXJlbnRPZmZzZXQiLCJlbGVtZW50VG9Gb2N1cyIsImZpbmQiLCJjb25maWd1cmVBcmlhIiwiZGlhbG9nUG9wSW4iLCJhcHBseUFyaWFUb1NpYmxpbmdzIiwiY2xpY2tPdXRzaWRlVG9DbG9zZSIsImRpYWxvZ0NsaWNrT3V0c2lkZUNhbGxiYWNrIiwiZm9jdXNPbk9wZW4iLCJkaWFsb2dQb3BPdXQiLCJ0YWJJbmRleCIsImRpYWxvZ0NvbnRlbnQiLCJkaWFsb2dJZCIsImFyaWFMYWJlbCIsIndvcmRzIiwid2Fsa0RPTSIsImF0dHJpYnV0ZSIsImNsaWNrRWxlbWVudCIsImRpYWxvZ0VsIiwidHJhbnNmb3JtVG9DbGlja0VsZW1lbnQiLCJjbGlja1JlY3QiLCJkaWFsb2dSZWN0Iiwic2NhbGVYIiwic2NhbGVZIiwiTWRGYWJBY3Rpb25zRGlyZWN0aXZlIiwiYXR0cmlidXRlcyIsImNvbnRyb2xsZXJzIiwib3BlbiIsIndyYXAiLCJNZERpdmlkZXJEaXJlY3RpdmUiLCJNZEZhYlNwZWVkRGlhbERpcmVjdGl2ZSIsIkZhYlNwZWVkRGlhbExpbmsiLCJwcmVwZW5kIiwiRmFiU3BlZWREaWFsQ29udHJvbGxlciIsInNldHVwRGVmYXVsdHMiLCJ2bSIsInNldHVwTGlzdGVuZXJzIiwic2V0dXBXYXRjaGVycyIsIm5ld0RpciIsIm9sZERpciIsInNldENsYXNzIiwiTWRGYWJTcGVlZERpYWxGbGluZ0FuaW1hdGlvbiIsInJ1bkFuaW1hdGlvbiIsInZhcmlhYmxlc0VsZW1lbnQiLCJzdGFydFpJbmRleCIsIm5ld1Bvc2l0aW9uIiwiYXhpcyIsInNjcm9sbFdpZHRoIiwiTWRGYWJTcGVlZERpYWxTY2FsZUFuaW1hdGlvbiIsIm9mZnNldERlbGF5IiwiTWRGYWJUb29sYmFyRGlyZWN0aXZlIiwiRmFiVG9vbGJhckNvbnRyb2xsZXIiLCJNZEZhYlRvb2xiYXJBbmltYXRpb24iLCJiYWNrZ3JvdW5kRWxlbWVudCIsInRyaWdnZXJFbGVtZW50IiwiaWNvbkVsZW1lbnQiLCJnZXRQcm9wZXJ0eVZhbHVlIiwic2NhbGUiLCJib3JkZXJSYWRpdXMiLCJyaWdodCIsIkdyaWRMaXN0RGlyZWN0aXZlIiwiJG1kR3JpZExheW91dCIsIndhdGNoTWVkaWEiLCJpbnZhbGlkYXRlTGF5b3V0IiwibGF5b3V0SWZNZWRpYU1hdGNoIiwidW53YXRjaE1lZGlhIiwibGF5b3V0RGVsZWdhdGUiLCJ1bndhdGNoQXR0cnMiLCJyZW1vdmVMaXN0ZW5lciIsInRpbGVzSW52YWxpZGF0ZWQiLCJ0aWxlcyIsImdldFRpbGVFbGVtZW50cyIsInByb3BzIiwidGlsZVNwYW5zIiwiZ2V0VGlsZVNwYW5zIiwiY29sQ291bnQiLCJnZXRDb2x1bW5Db3VudCIsInJvd01vZGUiLCJnZXRSb3dNb2RlIiwicm93SGVpZ2h0IiwiZ2V0Um93SGVpZ2h0IiwiZ3V0dGVyIiwiZ2V0R3V0dGVyIiwiZXF1YWxzIiwibGFzdExheW91dFByb3BzIiwidGlsZVBvc2l0aW9ucyIsInJvd0NvdW50IiwiZ3JpZCIsImdldEdyaWRTdHlsZSIsInBzIiwiZ2V0VGlsZVN0eWxlIiwic3BhbnMiLCJyZWZsb3ciLCJtZE9uTGF5b3V0IiwiZXhwclN0ciIsImhTaGFyZSIsImhHdXR0ZXJTaGFyZSIsImhVbml0IiwiVU5JVCIsInNoYXJlIiwiZ3V0dGVyU2hhcmUiLCJQT1NJVElPTiIsInVuaXQiLCJvZmZzZXQiLCJjb2wiLCJESU1FTlNJT04iLCJzcGFuIiwicGFkZGluZ1RvcCIsInJvdyIsInZTaGFyZSIsInZVbml0Iiwidkd1dHRlclNoYXJlIiwicGFkZGluZ0JvdHRvbSIsImVsZSIsInRpbGVFbGVtZW50cyIsIiRhdHRycyIsImFwcGx5RGVmYXVsdFVuaXQiLCJ3aFJhdGlvIiwiJG9uIiwiR3JpZExpc3RDb250cm9sbGVyIiwibGF5b3V0SW52YWxpZGF0ZWQiLCIkdGltZW91dF8iLCJHcmlkTGF5b3V0RmFjdG9yeSIsIkdyaWRMYXlvdXQiLCJsYXlvdXRJbmZvIiwiZ3JpZFN0eWxlcyIsImxheW91dFRpbWUiLCJtYXBUaW1lIiwicmVmbG93VGltZSIsImNhbGN1bGF0ZUdyaWRGb3IiLCJ1cGRhdGVGbiIsImluZm8iLCJwb3NpdGlvbmluZyIsImFuaW1hdG9yRm4iLCJkZWZhdWx0QW5pbWF0b3IiLCJ0aWxlQ291bnQiLCJ0b3RhbFRpbWUiLCJHcmlkVGlsZUFuaW1hdG9yIiwicmVzZXJ2ZVNwYWNlIiwiY3VyQ29sIiwibmV4dFJvdyIsInNwYWNlVHJhY2tlciIsImZpbmRFbmQiLCJhZGp1c3RSb3ciLCJjdXJSb3ciLCJjb2xzIiwiYnkiLCJuZXdTcGFjZVRyYWNrZXIiLCJ0cmFja2VyIiwiYW5pbWF0ZVdpdGgiLCJjdXN0b21BbmltYXRvciIsIkdyaWRUaWxlRGlyZWN0aXZlIiwiZ3JpZEN0cmwiLCJpbnZhbGlkYXRlVGlsZXMiLCIkaW5kZXgiLCJuZXdJZHgiLCJvbGRJZHgiLCJHcmlkVGlsZUNhcHRpb25EaXJlY3RpdmUiLCJsYXlvdXQiLCJNZEZhYlRyaWdnZXJEaXJlY3RpdmUiLCJtZEljb25EaXJlY3RpdmUiLCIkbWRJY29uIiwicGFyZW50c0hhdmVUZXh0IiwicHJlcGFyZUZvckZvbnRJY29uIiwic3ZnSWNvbiIsInN2Z1NyYyIsImZvbnRJY29uIiwiZm9udFNldCIsImxhYmVsIiwiYWx0IiwibWRTdmdJY29uIiwibWRTdmdTcmMiLCJhdHRyVmFsIiwiZW1wdHkiLCJzdmciLCJNZEljb25Qcm92aWRlciIsIkNvbmZpZ3VyYXRpb25JdGVtIiwidXJsIiwidmlld0JveFNpemUiLCJkZWZhdWx0Vmlld0JveFNpemUiLCJNZEljb25TZXJ2aWNlIiwiZ2V0SWNvbiIsImlkIiwiaWNvbkNhY2hlIiwidXJsUmVnZXgiLCJsb2FkQnlVUkwiLCJjYWNoZUljb24iLCJsb2FkQnlJRCIsImxvYWRGcm9tSWNvblNldCIsImFubm91bmNlSWROb3RGb3VuZCIsImFubm91bmNlTm90Rm91bmQiLCJmaW5kUmVnaXN0ZXJlZEZvbnRTZXQiLCJhbGlhcyIsInVzZURlZmF1bHQiLCJkZWZhdWx0Rm9udFNldCIsImZvbnRTZXRzIiwiaXQiLCJpc0ljb24iLCJJY29uIiwiaWNvbkNvbmZpZyIsImV4dHJhY3RGcm9tU2V0Iiwic2V0IiwiaWNvbk5hbWUiLCJsYXN0SW5kZXhPZiIsImljb25TZXRDb25maWciLCJzZXROYW1lIiwibXNnIiwiZXJyIiwibWVzc2FnZSIsInN0YXR1c1RleHQiLCJwcmVwYXJlIiwicHJlcGFyZUFuZFN0eWxlIiwiZml0IiwicHJlc2VydmVBc3BlY3RSYXRpbyIsInZpZXdCb3giLCJwb2ludGVyLWV2ZW50cyIsImNsb25lU1ZHIiwiaWNvblNldCIsImRlZmF1bHRJY29uU2l6ZSIsImljb25TaXplIiwicHJlbG9hZEljb25zIiwiaWNvblByb3ZpZGVyIiwic3ZnUmVnaXN0cnkiLCJhc3NldCIsIm1kSW5wdXRDb250YWluZXJEaXJlY3RpdmUiLCJDb250YWluZXJDdHJsIiwiaXNFcnJvckdldHRlciIsIm1kSXNFcnJvciIsImRlbGVnYXRlQ2xpY2siLCJpbnB1dCIsInNldEZvY3VzZWQiLCJpc0ZvY3VzZWQiLCJ0b2dnbGVDbGFzcyIsInNldEhhc1ZhbHVlIiwiaGFzVmFsdWUiLCJzZXRJbnZhbGlkIiwiaXNJbnZhbGlkIiwiaGFzTGFiZWxBbmRJbnB1dCIsImxhYmVsRGlyZWN0aXZlIiwiY29udGFpbmVyQ3RybCIsIm1kTm9GbG9hdCIsImlucHV0VGV4dGFyZWFEaXJlY3RpdmUiLCJjdHJscyIsIm5nTW9kZWxQaXBlbGluZUNoZWNrVmFsdWUiLCJpbnB1dENoZWNrVmFsdWUiLCJ2YWxpZGl0eSIsImJhZElucHV0Iiwic2V0dXBUZXh0YXJlYSIsInBpcGVsaW5lTGlzdGVuZXIiLCJvbkNoYW5nZVRleHRhcmVhIiwiZ3Jvd1RleHRhcmVhIiwiZ2V0SGVpZ2h0IiwibGluZSIsIm9uU2Nyb2xsIiwiaXNSZWFkb25seSIsInJlYWRvbmx5IiwiJHRvdWNoZWQiLCJtZE1heGxlbmd0aERpcmVjdGl2ZSIsInJlbmRlckNoYXJDb3VudCIsImNoYXJDb3VudEVsIiwibWF4bGVuZ3RoIiwiJHNldCIsIm1kTWF4bGVuZ3RoIiwibGFzdEVsZW1lbnRDaGlsZCIsIm1vZGVsVmFsdWUiLCJwbGFjZWhvbGRlckRpcmVjdGl2ZSIsImlucHV0Q29udGFpbmVyIiwiYmxhY2tMaXN0RWxlbWVudHMiLCJwbGFjZWhvbGRlclRleHQiLCJwbGFjZWhvbGRlciIsInJlbW92ZUF0dHIiLCJtZExpc3REaXJlY3RpdmUiLCJ0RWwiLCJtZExpc3RJdGVtRGlyZWN0aXZlIiwicHJveGllZFR5cGVzIiwic2V0dXBUb2dnbGVBcmlhIiwidG9nZ2xlVHlwZSIsInRvZ2dsZVR5cGVzIiwicCIsIndyYXBJbiIsImNvcGllZEF0dHJzIiwiZXEiLCJzZWNvbmRhcnlJdGVtIiwiYnV0dG9uV3JhcHBlciIsImNsYXNzTGlzdCIsImlzUHJveGllZEVsZW1lbnQiLCJjb21wdXRlUHJveGllcyIsInByb3hpZXMiLCJjb21wdXRlQ2xpY2thYmxlIiwiaGFzQ2xpY2siLCJhdHRhY2hSaXBwbGUiLCJwcm94eSIsInByb3h5T25CbHVyIiwiY2xpY2siLCJ0cmlnZ2VySGFuZGxlciIsImhhc1Byb3hpZWRFbGVtZW50IiwicHJveHlFbGVtZW50IiwiTWRMaXN0Q29udHJvbGxlciIsIiRtZExpc3RJbmtSaXBwbGUiLCJNZW51RGlyZWN0aXZlIiwiJG1kTWVudSIsInRlbXBsYXRlRWxlbWVudCIsIm1kTWVudUN0cmwiLCJtZW51Q29udGFpbmVyIiwibWVudUNvbnRlbnRzIiwiTWVudUNvbnRyb2xsZXIiLCJzZXRNZW51Q29udGFpbmVyIiwiJG1kT3Blbk1lbnUiLCJza2lwRm9jdXMiLCJwb3NpdGlvbk1vZGUiLCJhdHRhY2htZW50IiwibWRQb3NpdGlvbk1vZGUiLCJvZmZzZXRzIiwibWRPZmZzZXQiLCJNZW51UHJvdmlkZXIiLCJtZW51RGVmYXVsdE9wdGlvbnMiLCJidWlsZE9wdHMiLCJhbHJlYWR5T3BlbiIsImlzUmVtb3ZlZCIsIm1lbnVDb250ZW50RWwiLCJoYW5kbGVSZXNpemluZyIsInJlc2l6ZUZuIiwicG9zaXRpb25NZW51Iiwic2hvd01lbnUiLCJhY3RpdmF0ZUludGVyYWN0aW9uIiwiZm9jdXNNZW51SXRlbSIsImZvY3VzVGFyZ2V0IiwicmVzdG9yZVNjcm9sbCIsIm1lbnVFbCIsImN1cnJlbnRJdGVtIiwiY3VycmVudEluZGV4IiwiZGlkRm9jdXMiLCJhdHRlbXB0Rm9jdXMiLCJhY3RpdmVFbGVtZW50IiwiY2xhbXAiLCJib3VuZHMiLCJib3R0b20iLCJhbGlnblRhcmdldCIsImFsaWduVGFyZ2V0UmVjdCIsImV4aXN0aW5nT2Zmc2V0cyIsIm9wZW5NZW51Tm9kZSIsIm9wZW5NZW51Tm9kZVJlY3QiLCJib3VuZHJ5Tm9kZSIsImJvdW5kcnlOb2RlUmVjdCIsIm9yaWdpbk5vZGUiLCJvcmlnaW5Ob2RlUmVjdCIsIk1FTlVfRURHRV9NQVJHSU4iLCJ0cmFuc2Zvcm1PcmlnaW4iLCJNZFByb2dyZXNzQ2lyY3VsYXJEaXJlY3RpdmUiLCJjaXJjbGUiLCJkaWFtZXRlciIsIm1kRGlhbWV0ZXIiLCJwZXJjZW50VmFsdWUiLCJNZFByb2dyZXNzTGluZWFyRGlyZWN0aXZlIiwiYmFyMVN0eWxlIiwiYmFyMlN0eWxlIiwibWRNb2RlIiwiY2xhbXBlZCIsInRyYW5zZm9ybXMiLCJjZWlsIiwibWFrZVRyYW5zZm9ybSIsInRyYW5zbGF0ZVgiLCJtZFJhZGlvR3JvdXBEaXJlY3RpdmUiLCJsaW5rUmFkaW9Hcm91cCIsInNldEZvY3VzIiwia2V5ZG93bkxpc3RlbmVyIiwicmdDdHJsIiwic2VsZWN0UHJldmlvdXMiLCJzZWxlY3ROZXh0IiwiZm9ybSIsIlJhZGlvR3JvdXBDb250cm9sbGVyIiwiX3JhZGlvQnV0dG9uUmVuZGVyRm5zIiwiY3JlYXRlUmFkaW9Hcm91cENvbnRyb2xsZXJQcm90byIsIl9uZ01vZGVsQ3RybCIsInJiUmVuZGVyIiwic2V0Vmlld1ZhbHVlIiwiZ2V0Vmlld1ZhbHVlIiwiY2hhbmdlU2VsZWN0ZWRCdXR0b24iLCJzZXRBY3RpdmVEZXNjZW5kYW50IiwicmFkaW9JZCIsImluY3JlbWVudCIsImJ1dHRvbnMiLCJtZFJhZGlvQnV0dG9uRGlyZWN0aXZlIiwibGFzdENoZWNrZWQiLCJidWlsZEFyaWFJRCIsImFyaWFJZCIsImFyaWEtY2hlY2tlZCIsIlNlbGVjdERpcmVjdGl2ZSIsIiRtZFNlbGVjdCIsImxhYmVsRWwiLCJzcGFuV3JhcHBlciIsIm1kT25PcGVuIiwiYXV0b2ZpbGxDbG9uZSIsIm5nLW1vZGVsIiwiYXJpYS1oaWRkZW4iLCJuZXdFbCIsImlubmVySFRNTCIsInNlbGVjdFRlbXBsYXRlIiwibXVsdGlwbGUiLCJzZXRBcmlhTGFiZWwiLCJsYWJlbFRleHQiLCJzeW5jTGFiZWxUZXh0Iiwic2VsZWN0Q29udGFpbmVyIiwic2VsZWN0TWVudUN0cmwiLCJtZFNlbGVjdEN0cmwiLCJzZXRMYWJlbFRleHQiLCJzZWxlY3RlZExhYmVscyIsImNyZWF0ZVNlbGVjdCIsInNlbGVjdEVsIiwic2VsZWN0U2NvcGUiLCJoYW5kbGVLZXlwcmVzcyIsImFsbG93ZWRDb2RlcyIsIm9wZW5TZWxlY3QiLCJvcHROb2RlRm9yS2V5Ym9hcmRTZWFyY2giLCJvcHRpb25DdHJsIiwiaXNNdWx0aXBsZSIsImRlc2VsZWN0Iiwic2VsZWN0IiwiaGFzaEtleSIsInJlZnJlc2hWaWV3VmFsdWUiLCJsb2FkaW5nQXN5bmMiLCJzZWxlY3RlZFRleHQiLCJmb3JtQ3RybCIsImN1c3RvbUxhYmVsIiwiJHJlbW92ZUNvbnRyb2wiLCJvcmlnaW5hbFJlbmRlciIsInNldElzUGxhY2Vob2xkZXIiLCJ0cmlnZ2VyQ2xvc2UiLCJtZE9uQ2xvc2UiLCJkZXJlZ2lzdGVyV2F0Y2hlciIsInBhcnNlciIsInByZXZWYWwiLCJzZXRNdWx0aXBsZSIsImFyaWEtZGlzYWJsZWQiLCJhcmlhQXR0cnMiLCJhcmlhLWV4cGFuZGVkIiwiU2VsZWN0TWVudURpcmVjdGl2ZSIsInByZUxpbmsiLCJhcmlhLW11bHRpc2VsZWN0YWJsZSIsInNlbGVjdEN0cmwiLCJrZXlMaXN0ZW5lciIsImNsaWNrTGlzdGVuZXIiLCJvcHRpb24iLCJvcHRpb25IYXNoS2V5IiwiaGFzaEdldHRlciIsImlzU2VsZWN0ZWQiLCJTZWxlY3RNZW51Q29udHJvbGxlciIsInJlbmRlck11bHRpcGxlIiwibmV3U2VsZWN0ZWRWYWx1ZXMiLCJvbGRTZWxlY3RlZCIsIm5ld1NlbGVjdGVkSGFzaGVzIiwiZGVzZWxlY3RlZCIsImhhc2giLCJyZW5kZXJTaW5ndWxhciIsImRlcmVnaXN0ZXJDb2xsZWN0aW9uV2F0Y2giLCJ2YWxpZGF0ZUFycmF5IiwiJHdhdGNoQ29sbGVjdGlvbiIsImNsZWFyU2VhcmNoVGltZW91dCIsIm9wdE5vZGVzIiwib3B0VGV4dCIsInNlYXJjaFN0ciIsIkNMRUFSX1NFQVJDSF9BRlRFUiIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJzZWFyY2giLCIkb3B0aW9ucyIsInRyYWNrQnkiLCJ0cmFja0J5TG9jYWxzIiwidHJhY2tCeVBhcnNlZCIsInZhbHVlU2NvcGUiLCIkdmFsdWUiLCIkJG1kU2VsZWN0SWQiLCJzZWxlY3ROZXh0SWQiLCJzZWxlY3RlZE9wdGlvbkVscyIsImhhc2hlZFZhbHVlIiwic2V0U2VsZWN0ZWQiLCJhZGRPcHRpb24iLCJyZW1vdmVPcHRpb24iLCJPcHRpb25EaXJlY3RpdmUiLCJzZXRPcHRpb25WYWx1ZSIsIm9sZEhhc2hLZXkiLCJuZXdIYXNoS2V5IiwiYXJpYS1zZWxlY3RlZCIsIm5nVmFsdWUiLCJPcHRpb25Db250cm9sbGVyIiwiT3B0Z3JvdXBEaXJlY3RpdmUiLCJsYWJlbEVsZW1lbnQiLCJTZWxlY3RQcm92aWRlciIsInNlbGVjdERlZmF1bHRPcHRpb25zIiwiZm9jdXNPcHRpb24iLCJvcHRpb25zQXJyYXkiLCJvcHRpb25Ob2RlcyIsImZvY3VzZWROb2RlIiwibmV3T3B0aW9uIiwiZm9jdXNOZXh0T3B0aW9uIiwiZm9jdXNQcmV2T3B0aW9uIiwiY2hlY2tDbG9zZU1lbnUiLCJyZXN0b3JlRm9jdXMiLCJvcHROb2RlIiwiY29udGVudEVsIiwiYW5pbWF0ZVNlbGVjdCIsIiQkbG9hZGluZ0FzeW5jRG9uZSIsInJlc2l6ZWZuIiwibWRTZWxlY3QiLCJjZW50ZXJlZE5vZGUiLCJzZWxlY3ROb2RlIiwiY29udGVudE5vZGUiLCJwYXJlbnRSZWN0IiwidGFyZ2V0UmVjdCIsInNob3VsZE9wZW5Bcm91bmRUYXJnZXQiLCJTRUxFQ1RfRURHRV9NQVJHSU4iLCJzcGFjZUF2YWlsYWJsZSIsIm1heFdpZHRoIiwiaXNTY3JvbGxhYmxlIiwic2VsZWN0ZWROb2RlIiwib3B0Z3JvdXBOb2RlcyIsInNlbGVjdE1lbnVSZWN0IiwiY2VudGVyZWRSZWN0IiwiZ2V0T2Zmc2V0UmVjdCIsImNlbnRlcmVkU3R5bGUiLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCIsInNjcm9sbEJ1ZmZlciIsIm1pbldpZHRoIiwiY29udGFpbmVyUmVjdCIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJTaWRlbmF2U2VydmljZSIsIiRtZENvbXBvbmVudFJlZ2lzdHJ5Iiwid2FpdEZvckluc3RhbmNlIiwiZXJyb3JNc2ciLCJpc0xvY2tlZE9wZW4iLCJjYWxsYmFja0ZuIiwiU2lkZW5hdkZvY3VzRGlyZWN0aXZlIiwic2lkZW5hdkN0cmwiLCJmb2N1c0VsZW1lbnQiLCJTaWRlbmF2RGlyZWN0aXZlIiwidXBkYXRlSXNMb2NrZWQiLCJpc0xvY2tlZCIsInVwZGF0ZUlzT3BlbiIsIm9uS2V5RG93biIsInRyaWdnZXJpbmdFbGVtZW50IiwiZm9jdXNFbCIsImxhc3RQYXJlbnRPdmVyRmxvdyIsInRvZ2dsZU9wZW4iLCJpc0VzY2FwZSIsImlzTG9ja2VkT3BlblBhcnNlZCIsIm1kSXNMb2NrZWRPcGVuIiwiJG1lZGlhIiwiZGVzdHJveSIsIiR0b2dnbGVPcGVuIiwiU2lkZW5hdkNvbnRyb2xsZXIiLCJtZENvbXBvbmVudElkIiwiU2xpZGVyRGlyZWN0aXZlIiwidXBkYXRlQWxsIiwicmVmcmVzaFNsaWRlckRpbWVuc2lvbnMiLCJuZ01vZGVsUmVuZGVyIiwicmVkcmF3VGlja3MiLCJ1cGRhdGVNaW4iLCJ1cGRhdGVNYXgiLCJ1cGRhdGVTdGVwIiwic3RlcCIsInVwZGF0ZUFyaWFEaXNhYmxlZCIsIm1kRGlzY3JldGUiLCJudW1TdGVwcyIsInRpY2tDYW52YXMiLCJ0cmFja1RpY2tzU3R5bGUiLCJ0aWNrQ29udGFpbmVyIiwidGlja0N0eCIsImdldENvbnRleHQiLCJmaWxsU3R5bGUiLCJkaW1lbnNpb25zIiwiZ2V0U2xpZGVyRGltZW5zaW9ucyIsImZpbGxSZWN0Iiwic2xpZGVyRGltZW5zaW9ucyIsInRyYWNrQ29udGFpbmVyIiwidGhyb3R0bGVkUmVmcmVzaERpbWVuc2lvbnMiLCJjaGFuZ2VBbW91bnQiLCJzZXRNb2RlbFZhbHVlIiwibWluTWF4VmFsaWRhdG9yIiwic3RlcFZhbGlkYXRvciIsInBlcmNlbnQiLCJzZXRTbGlkZXJQZXJjZW50IiwidGh1bWJUZXh0IiwiZm9ybWF0dGVkVmFsdWUiLCJhY3RpdmVUcmFjayIsInRodW1iQ29udGFpbmVyIiwiaXNEaXNhYmxlZEdldHRlciIsImV4YWN0VmFsIiwicGVyY2VudFRvVmFsdWUiLCJwb3NpdGlvblRvUGVyY2VudCIsImNsb3Nlc3RWYWwiLCJ2YWx1ZVRvUGVyY2VudCIsImlzRHJhZ2dpbmciLCJzZXRTbGlkZXJGcm9tRXZlbnQiLCJpc0Rpc2NyZXRlIiwiYWRqdXN0VGh1bWJQb3NpdGlvbiIsImRvU2xpZGUiLCJpc0Rpc2FibGVkUGFyc2VkIiwidGh1bWIiLCJzdG9wRGlzYWJsZWRXYXRjaCIsImRlYm91bmNlZFVwZGF0ZUFsbCIsIk1kU3ViaGVhZGVyRGlyZWN0aXZlIiwiJG1kU3RpY2t5IiwiZ2V0Q29udGVudCIsIm91dGVySFRNTCIsInN0aWNreUNsb25lIiwiTWRTdGlja3kiLCJzZXR1cFN0aWNreSIsImNvbnRlbnRDdHJsIiwic3RpY2t5QmFzZW9mZnNldCIsImRlYm91bmNlZFJlZnJlc2hFbGVtZW50cyIsInJlZnJlc2hFbGVtZW50cyIsInJlZnJlc2hQb3NpdGlvbiIsImN1cnJlbnRTY3JvbGxUb3AiLCJzZXRDdXJyZW50SXRlbSIsImlzU2Nyb2xsaW5nRG93biIsInByZXZTY3JvbGxUb3AiLCJ0cmFuc2xhdGUiLCJwcmV2Iiwic2V0U3RpY2t5U3RhdGUiLCJhbW91bnQiLCJ0cmFuc2xhdGVZIiwic2V0dXBBdWdtZW50ZWRTY3JvbGxFdmVudHMiLCJjaGVja1N0aWNreVN1cHBvcnQiLCIkZWwiLCJzdGlja3lQcm9wIiwidGVzdEVsIiwic3RpY2t5UHJvcHMiLCJ6LWluZGV4IiwibG9vcFNjcm9sbEV2ZW50IiwibGFzdFNjcm9sbFRpbWUiLCJTQ1JPTExfRU5EX0RFTEFZIiwiaXNTY3JvbGxpbmciLCJicm93c2VyU3RpY2t5U3VwcG9ydCIsIiQkc3RpY2t5IiwiZ2V0RGlyZWN0aXZlIiwiRGlyZWN0aXZlRmFjdG9yeSIsImRpcmVjdGl2ZU5hbWUiLCJldmVudE5hbWUiLCJNZFN3aXRjaCIsIm1kQ2hlY2tib3hEaXJlY3RpdmUiLCJjaGVja2JveExpbmsiLCJjaGVja2JveERpcmVjdGl2ZSIsImRpc2FibGVkR2V0dGVyIiwiZHJhZyIsImlzQ2hhbmdlZCIsImFwcGx5TW9kZWxWYWx1ZSIsInN3aXRjaENvbnRhaW5lciIsIk1kVG9hc3REaXJlY3RpdmUiLCJNZFRvYXN0UHJvdmlkZXIiLCJ0b2FzdERlZmF1bHRPcHRpb25zIiwiJG1kVG9hc3QiLCJhY3RpdmVUb2FzdENvbnRlbnQiLCJ0b2FzdE9wZW5DbGFzcyIsIm9uU3dpcGUiLCJnZXN0dXJlIiwibmV3Q29udGVudCIsIm1kVG9vbGJhckRpcmVjdGl2ZSIsInNldHVwU2Nyb2xsU2hyaW5rIiwib25NZENvbnRlbnRMb2FkIiwibmV3Q29udGVudEVsIiwiY29udGVudEVsZW1lbnQiLCJkZWJvdW5jZWRDb250ZW50U2Nyb2xsIiwidXBkYXRlVG9vbGJhckhlaWdodCIsInRvb2xiYXJIZWlnaHQiLCJtYXJnaW4iLCJzaHJpbmtTcGVlZEZhY3RvciIsIm9uQ29udGVudFNjcm9sbCIsImRlYm91bmNlZFVwZGF0ZUhlaWdodCIsIm1kU2hyaW5rU3BlZWRGYWN0b3IiLCJtZFNjcm9sbFNocmluayIsIk1kVG9vbHRpcERpcmVjdGl2ZSIsIm1hbmlwdWxhdGVFbGVtZW50IiwiYmluZEV2ZW50cyIsImNvbmZpZ3VyZVdhdGNoZXJzIiwiYWRkQXJpYUxhYmVsIiwibWREZWxheSIsIlRPT0xUSVBfU0hPV19ERUxBWSIsInZpc2libGUiLCJkZWJvdW5jZWRPblJlc2l6ZSIsImlzVmlzaWJsZSIsInNob3dUb29sdGlwIiwiaGlkZVRvb2x0aXAiLCJkZXRhY2giLCJnZXRQYXJlbnRXaXRoUG9pbnRlckV2ZW50cyIsImdldE5lYXJlc3RDb250ZW50RWxlbWVudCIsImhhc0NvbXB1dGVkU3R5bGVWYWx1ZSIsImNvbXB1dGVkU3R5bGVzIiwiZW50ZXJIYW5kbGVyIiwic2V0VmlzaWJsZSIsImxlYXZlSGFuZGxlciIsImF1dG9oaWRlIiwicXVldWVkIiwidG9vbHRpcFBhcmVudCIsInBvc2l0aW9uVG9vbHRpcCIsInBvc2l0aW9uQmFja2dyb3VuZCIsInRpcFJlY3QiLCJmaXRJblBhcmVudCIsIlRPT0xUSVBfV0lORE9XX0VER0VfU1BBQ0UiLCJnZXRQb3NpdGlvbiIsImRpciIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJtZERpcmVjdGlvbiIsIk1kQXV0b2NvbXBsZXRlQ3RybCIsInNlYXJjaFRleHQiLCJzZWxlY3RlZEl0ZW0iLCJnYXRoZXJFbGVtZW50cyIsIm1vdmVEcm9wZG93biIsInBvc2l0aW9uRHJvcGRvd24iLCJjb3JyZWN0SG9yaXpvbnRhbEFsaWdubWVudCIsImRyb3Bkb3duIiwiZWxlbWVudHMiLCJ1bCIsInJvb3QiLCJNRU5VX1BBRERJTkciLCJocmVjdCIsIiQiLCJ2cmVjdCIsInNuYXAiLCJib3QiLCJNQVhfSEVJR0hUIiwibWF4SGVpZ2h0IiwiYXV0b2ZvY3VzIiwiaXNSZXF1aXJlZCIsImhhbmRsZVNlYXJjaFRleHQiLCJyZWdpc3RlclNlbGVjdGVkSXRlbVdhdGNoZXIiLCJzZWxlY3RlZEl0ZW1DaGFuZ2UiLCJoYW5kbGVTZWxlY3RlZEl0ZW1DaGFuZ2UiLCJtYWluIiwibGkiLCJnZXRTbmFwVGFyZ2V0IiwiZ2V0QW5ndWxhckVsZW1lbnRzIiwiaGFuZGxlSGlkZGVuQ2hhbmdlIiwiaGlkZGVuIiwib2xkSGlkZGVuIiwib25MaXN0RW50ZXIiLCJub0JsdXIiLCJvbkxpc3RMZWF2ZSIsImhhc0ZvY3VzIiwib25Nb3VzZXVwIiwicHJldmlvdXNTZWxlY3RlZEl0ZW0iLCJnZXREaXNwbGF5VmFsdWUiLCJpdGVtQ2hhbmdlIiwiZ2V0SXRlbVNjb3BlIiwic2VsZWN0ZWRJdGVtV2F0Y2hlcnMiLCJ1bnJlZ2lzdGVyU2VsZWN0ZWRJdGVtV2F0Y2hlciIsInByZXZpb3VzU2VhcmNoVGV4dCIsImdldERlZmF1bHRJbmRleCIsInRleHRDaGFuZ2UiLCJpc01pbkxlbmd0aE1ldCIsImhhbmRsZVF1ZXJ5IiwibG9hZGluZyIsInNob3VsZEhpZGUiLCJ1cGRhdGVNZXNzYWdlcyIsIm1pbkxlbmd0aCIsImtleWRvd24iLCJ1cGRhdGVTY3JvbGwiLCJnZXRNaW5MZW5ndGgiLCJpdGVtVGV4dCIsIml0ZW1OYW1lIiwiYXV0b3NlbGVjdCIsImdldEN1cnJlbnREaXNwbGF5VmFsdWUiLCJkZWZpbmVQcm9wZXJ0eSIsImNsZWFyVmFsdWUiLCJmZXRjaFJlc3VsdHMiLCJoYW5kbGVSZXN1bHRzIiwidGVybSIsIml0ZW1FeHByIiwibWVzc2FnZXMiLCJnZXRDb3VudE1lc3NhZ2UiLCJsYXN0Q291bnQiLCJoZ3QiLCJub0NhY2hlIiwiaXRlbVBhcnRzIiwiaXRlbXNFeHByIiwiY2xlYXIiLCJsaXN0RW50ZXIiLCJsaXN0TGVhdmUiLCJtb3VzZVVwIiwiSVRFTV9IRUlHSFQiLCJNZEF1dG9jb21wbGV0ZSIsImlucHV0TmFtZSIsImlucHV0TWlubGVuZ3RoIiwiaW5wdXRNYXhsZW5ndGgiLCJmbG9hdGluZ0xhYmVsIiwibWVudUNsYXNzIiwiZ2V0SXRlbVRlbXBsYXRlIiwidGVtcGxhdGVUYWciLCJnZXROb0l0ZW1zVGVtcGxhdGUiLCJnZXRJbnB1dEVsZW1lbnQiLCJtZEZsb2F0aW5nTGFiZWwiLCJsZWZ0b3ZlciIsIm5vSXRlbXNUZW1wbGF0ZSIsIml0ZW1UZW1wbGF0ZSIsIk1kSGlnaGxpZ2h0Q3RybCIsInVuc2FmZVRleHQiLCJ3YXRjaGVyIiwicmVnZXgiLCJnZXRSZWdFeHAiLCJzYW5pdGl6ZSIsIk1kSGlnaGxpZ2h0IiwidGVybWluYWwiLCJtZEhpZ2hsaWdodFRleHQiLCJNZEF1dG9jb21wbGV0ZUxpc3RJdGVtIiwiJG1kQXV0b2NvbXBsZXRlQ3RybCIsIm5ld1Njb3BlIiwibWRBdXRvY29tcGxldGVMaXN0SXRlbSIsIk1kQXV0b2NvbXBsZXRlUGFyZW50U2NvcGUiLCJNZENoaXAiLCJERUxFVEVfSElOVF9URU1QTEFURSIsInNlbGVjdGVkQ2hpcCIsIk1kQ2hpcFJlbW92ZSIsInJlbW92ZUNoaXAiLCIkJHJlcGxhY2VkU2NvcGUiLCJNZENoaXBUcmFuc2NsdWRlIiwiJG1kQ2hpcHNDdHJsIiwiJGNoaXAiLCJtZENoaXBUcmFuc2NsdWRlIiwiTWRDaGlwc0N0cmwiLCJ1c2VySW5wdXROZ01vZGVsQ3RybCIsInVzZXJJbnB1dEVsZW1lbnQiLCJkZWxldGVIaW50IiwiZGVsZXRlQnV0dG9uTGFiZWwiLCJjaGlwQnVmZmVyIiwidXNlTWRPbkFwcGVuZCIsImlucHV0S2V5ZG93biIsImdldENoaXBCdWZmZXIiLCJyZXF1aXJlTWF0Y2giLCJhcHBlbmRDaGlwIiwicmVzZXRDaGlwQnVmZmVyIiwic2VsZWN0QW5kRm9jdXNDaGlwU2FmZSIsImNoaXBLZXlkb3duIiwicmVtb3ZlQW5kU2VsZWN0QWRqYWNlbnRDaGlwIiwib25Gb2N1cyIsImdldFBsYWNlaG9sZGVyIiwidXNlU2Vjb25kYXJ5Iiwic2Vjb25kYXJ5UGxhY2Vob2xkZXIiLCJzZWxJbmRleCIsImdldEFkamFjZW50Q2hpcEluZGV4IiwicmVzZXRTZWxlY3RlZENoaXAiLCJuZXdDaGlwIiwibWRPbkFwcGVuZCIsInVzZU1kT25BcHBlbmRFeHByZXNzaW9uIiwicmVtb3ZlQ2hpcEFuZEZvY3VzSW5wdXQiLCJzZWxlY3RDaGlwIiwiZm9jdXNDaGlwIiwic2VsZWN0QW5kRm9jdXNDaGlwIiwiY29uZmlndXJlTmdNb2RlbCIsIm9uSW5wdXRGb2N1cyIsImlucHV0SGFzRm9jdXMiLCJvbklucHV0Qmx1ciIsImNvbmZpZ3VyZVVzZXJJbnB1dCIsImlucHV0RWxlbWVudCIsImNvbmZpZ3VyZUF1dG9jb21wbGV0ZSIsIk1kQ2hpcHMiLCJnZXRUZW1wbGF0ZUJ5UXVlcnkiLCJ1c2VyVGVtcGxhdGUiLCJjaGlwUmVtb3ZlVGVtcGxhdGUiLCJDSElQX1JFTU9WRV9URU1QTEFURSIsImNoaXBDb250ZW50c1RlbXBsYXRlIiwiQ0hJUF9ERUZBVUxUX1RFTVBMQVRFIiwiY2hpcElucHV0VGVtcGxhdGUiLCJDSElQX0lOUFVUX1RFTVBMQVRFIiwic3RhdGljQ2hpcHMiLCJtZENoaXBzQ3RybCIsImNvbXBpbGVkU3RhdGljQ2hpcHMiLCJNRF9DSElQU19URU1QTEFURSIsIk1kQ29udGFjdENoaXBzQ3RybCIsInF1ZXJ5Q29udGFjdCIsImNvbnRhY3RRdWVyeSIsIiRxdWVyeSIsImZpbHRlclNlbGVjdGVkIiwiZmlsdGVyU2VsZWN0ZWRDb250YWN0cyIsImNvbnRhY3QiLCJjb250YWN0cyIsIk1kQ29udGFjdENoaXBzIiwiTURfQ09OVEFDVF9DSElQU19URU1QTEFURSIsImNvbnRhY3ROYW1lIiwiY29udGFjdEltYWdlIiwiY29udGFjdEVtYWlsIiwiTWRUYWIiLCJ0YWJzIiwiaW5zZXJ0VGFiIiwiYWN0aXZlIiwiZ2V0SW5kZXgiLCJyZWZyZXNoSW5kZXgiLCJuZXdJbmRleCIsInVwZGF0ZVRhYk9yZGVyIiwicmVtb3ZlVGFiIiwiZ2V0TGFiZWwiLCJnZXRMYWJlbEF0dHJpYnV0ZSIsImdldExhYmVsRWxlbWVudCIsImdldEVsZW1lbnRDb250ZW50cyIsIk1kVGFiSXRlbSIsIk1kVGFiTGFiZWwiLCJNZFRhYlNjcm9sbCIsIm1kVGFiU2Nyb2xsIiwiTWRUYWJzQ29udHJvbGxlciIsIiRtZFRhYklua1JpcHBsZSIsInNlbGVjdGVkSW5kZXgiLCJjb21waWxlVGVtcGxhdGUiLCJ1cGRhdGVIZWlnaHRGcm9tQ29udGVudCIsImFkanVzdE9mZnNldCIsInVwZGF0ZVBhZ2luYXRpb24iLCJsb2FkZWQiLCIkbWRUYWJzVGVtcGxhdGUiLCJoYW5kbGVXaW5kb3dSZXNpemUiLCJwYWdpbmciLCJ1cGRhdGVJbmtCYXJTdHlsZXMiLCJub0lua0JhciIsImhhbmRsZVNlbGVjdGVkSW5kZXhDaGFuZ2UiLCJkZXN0cm95ZWQiLCJoYW5kbGVIYXNDb250ZW50IiwiaGFzQ29udGVudCIsImhhbmRsZU9mZnNldENoYW5nZSIsInNob3VsZENlbnRlclRhYnMiLCJoYW5kbGVGb2N1c0luZGV4Q2hhbmdlIiwib2xkSW5kZXgiLCJyZWRpcmVjdEZvY3VzIiwiZ2V0TmVhcmVzdFNhZmVJbmRleCIsImxhc3RTZWxlY3RlZEluZGV4IiwiaGFuZGxlUmVzaXplV2hlblZpc2libGUiLCJpbmNyZW1lbnRTZWxlY3RlZEluZGV4IiwibG9ja2VkIiwiZm9jdXNJbmRleCIsImxhc3RDbGljayIsInNjcm9sbCIsInNob3VsZFBhZ2luYXRlIiwiZml4T2Zmc2V0Iiwid2hlZWxEZWx0YSIsIm5leHRQYWdlIiwidGFiIiwidmlld3BvcnRXaWR0aCIsImNhbnZhcyIsImNsaWVudFdpZHRoIiwidG90YWxXaWR0aCIsInByZXZpb3VzUGFnZSIsInRhYkRhdGEiLCJwcm90byIsImlzTGVmdCIsImlzUmlnaHQiLCJzaG91bGRSZW5kZXIiLCJub0Rpc2Nvbm5lY3QiLCJwcm9jZXNzUXVldWUiLCJ1cGRhdGVIYXNDb250ZW50IiwiZ2V0RWxlbWVudHMiLCJ3cmFwcGVyIiwiZHVtbWllcyIsImlua0JhciIsImNvbnRlbnRzV3JhcHBlciIsImNhblBhZ2VCYWNrIiwiY2FuUGFnZUZvcndhcmQiLCJsYXN0VGFiIiwic2hvdWxkU3RyZXRjaFRhYnMiLCJzdHJldGNoVGFicyIsImNlbnRlclRhYnMiLCJub1BhZ2luYXRpb24iLCJjYW52YXNXaWR0aCIsIm1heE9mZnNldCIsImZvY3VzSXRlbSIsImluYyIsInF1ZXVlIiwiZHluYW1pY0hlaWdodCIsInRhYkNvbnRlbnQiLCJjb250ZW50SGVpZ2h0IiwidGFic0hlaWdodCIsIm5ld0hlaWdodCIsImN1cnJlbnRIZWlnaHQiLCJhbmltYXRlIiwidXBkYXRlSW5rQmFyQ2xhc3NOYW1lIiwiaW5rIiwiTWRUYWJzIiwic3dpcGVDb250ZW50IiwiTWRUZW1wbGF0ZSIsImhhbmRsZVNjb3BlIiwiZGlzY29ubmVjdCIsInJlY29ubmVjdCIsImNvbXBpbGVTY29wZSIsImNvbm5lY3RlZCIsMTIsIi4vYW5ndWxhci1tYXRlcmlhbCIsMTMsIm1pbkVyciIsIkVycm9yQ29uc3RydWN0b3IiLCJwYXJhbVByZWZpeCIsIlNLSVBfSU5ERVhFUyIsInRlbXBsYXRlQXJncyIsInNoaWZ0ZWRJbmRleCIsInRvRGVidWdTdHJpbmciLCJlbmNvZGVVUklDb21wb25lbnQiLCJpc0FycmF5TGlrZSIsImlzV2luZG93IiwiTk9ERV9UWVBFX0VMRU1FTlQiLCJpc1ByaW1pdGl2ZSIsImlzQmxhbmtPYmplY3QiLCJmb3JFYWNoU29ydGVkIiwicmV2ZXJzZVBhcmFtcyIsIml0ZXJhdG9yRm4iLCJ1aWQiLCJzZXRIYXNoS2V5IiwiaCIsIiQkaGFzaEtleSIsImJhc2VFeHRlbmQiLCJkc3QiLCJvYmpzIiwiZGVlcCIsImlpIiwiamoiLCJzcmMiLCJpc0RhdGUiLCJ2YWx1ZU9mIiwibWVyZ2UiLCJ0b0ludCIsImV4dHJhIiwidmFsdWVGbiIsImhhc0N1c3RvbVRvU3RyaW5nIiwiZ2V0UHJvdG90eXBlT2YiLCJpc1JlZ0V4cCIsImlzU2NvcGUiLCJpc0ZpbGUiLCJpc0Zvcm1EYXRhIiwiaXNCbG9iIiwiaXNCb29sZWFuIiwiaXNQcm9taXNlTGlrZSIsImlzVHlwZWRBcnJheSIsIlRZUEVEX0FSUkFZX1JFR0VYUCIsIm1ha2VNYXAiLCJub2RlTmFtZV8iLCJsb3dlcmNhc2UiLCJhcnJheVJlbW92ZSIsImFycmF5Iiwic291cmNlIiwiZGVzdGluYXRpb24iLCJzdGFja1NvdXJjZSIsInN0YWNrRGVzdCIsImNvbnN0cnVjdG9yIiwiZ2V0VGltZSIsImVtcHR5T2JqZWN0IiwibGFzdEluZGV4Iiwic2hhbGxvd0NvcHkiLCJvMSIsIm8yIiwia2V5U2V0IiwidDEiLCJ0MiIsImNyZWF0ZU1hcCIsImFycmF5MSIsImFycmF5MiIsInNsaWNlQXJncyIsInN0YXJ0SW5kZXgiLCJjdXJyeUFyZ3MiLCJ0b0pzb25SZXBsYWNlciIsInRvSnNvbiIsInByZXR0eSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmcm9tSnNvbiIsImpzb24iLCJwYXJzZSIsInRpbWV6b25lVG9PZmZzZXQiLCJ0aW1lem9uZSIsImZhbGxiYWNrIiwicmVxdWVzdGVkVGltZXpvbmVPZmZzZXQiLCJhZGREYXRlTWludXRlcyIsImRhdGUiLCJtaW51dGVzIiwic2V0TWludXRlcyIsImdldE1pbnV0ZXMiLCJjb252ZXJ0VGltZXpvbmVUb0xvY2FsIiwicmV2ZXJzZSIsInRpbWV6b25lT2Zmc2V0IiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJzdGFydGluZ1RhZyIsImVsZW1IdG1sIiwiTk9ERV9UWVBFX1RFWFQiLCJ0cnlEZWNvZGVVUklDb21wb25lbnQiLCJkZWNvZGVVUklDb21wb25lbnQiLCJwYXJzZUtleVZhbHVlIiwia2V5VmFsdWUiLCJrZXlfdmFsdWUiLCJ0b0tleVZhbHVlIiwicGFydHMiLCJhcnJheVZhbHVlIiwiZW5jb2RlVXJpUXVlcnkiLCJlbmNvZGVVcmlTZWdtZW50IiwicGN0RW5jb2RlU3BhY2VzIiwiZ2V0TmdBdHRyaWJ1dGUiLCJuZ0F0dHIiLCJuZ0F0dHJQcmVmaXhlcyIsImFuZ3VsYXJJbml0IiwiYXBwRWxlbWVudCIsInByZWZpeCIsImNhbmRpZGF0ZSIsInN0cmljdERpIiwibW9kdWxlcyIsImRlZmF1bHRDb25maWciLCJkb0Jvb3RzdHJhcCIsImluamVjdG9yIiwidGFnIiwiZGVidWdJbmZvRW5hYmxlZCIsIiRjb21waWxlUHJvdmlkZXIiLCJjcmVhdGVJbmplY3RvciIsIk5HX0VOQUJMRV9ERUJVR19JTkZPIiwiTkdfREVGRVJfQk9PVFNUUkFQIiwicmVzdW1lQm9vdHN0cmFwIiwiZXh0cmFNb2R1bGVzIiwicmVzdW1lRGVmZXJyZWRCb290c3RyYXAiLCJyZWxvYWRXaXRoRGVidWdJbmZvIiwibG9jYXRpb24iLCJyZWxvYWQiLCJnZXRUZXN0YWJpbGl0eSIsInJvb3RFbGVtZW50Iiwic25ha2VfY2FzZSIsInNlcGFyYXRvciIsIlNOQUtFX0NBU0VfUkVHRVhQIiwibGV0dGVyIiwiYmluZEpRdWVyeSIsIm9yaWdpbmFsQ2xlYW5EYXRhIiwiYmluZEpRdWVyeUZpcmVkIiwianFOYW1lIiwianEiLCJKUUxpdGVQcm90b3R5cGUiLCJpbmhlcml0ZWREYXRhIiwiY2xlYW5EYXRhIiwiZWxlbXMiLCJza2lwRGVzdHJveU9uTmV4dEpRdWVyeUNsZWFuRGF0YSIsIl9kYXRhIiwiSlFMaXRlIiwiYXNzZXJ0QXJnRm4iLCJhY2NlcHRBcnJheUFubm90YXRpb24iLCJhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eSIsImdldHRlciIsInBhdGgiLCJiaW5kRm5Ub1Njb3BlIiwibGFzdEluc3RhbmNlIiwiZ2V0QmxvY2tOb2RlcyIsImVuZE5vZGUiLCJibG9ja05vZGVzIiwibmV4dFNpYmxpbmciLCJzZXR1cE1vZHVsZUxvYWRlciIsImVuc3VyZSIsIiRpbmplY3Rvck1pbkVyciIsIiQkbWluRXJyIiwicmVxdWlyZXMiLCJjb25maWdGbiIsImludm9rZUxhdGVyIiwiaW5zZXJ0TWV0aG9kIiwiaW52b2tlUXVldWUiLCJtb2R1bGVJbnN0YW5jZSIsImludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSIsInJlY2lwZU5hbWUiLCJmYWN0b3J5RnVuY3Rpb24iLCIkJG1vZHVsZU5hbWUiLCJjb25maWdCbG9ja3MiLCJydW5CbG9ja3MiLCJfaW52b2tlUXVldWUiLCJfY29uZmlnQmxvY2tzIiwiX3J1bkJsb2NrcyIsImJsb2NrIiwic2VyaWFsaXplT2JqZWN0Iiwic2VlbiIsInB1Ymxpc2hFeHRlcm5hbEFQSSIsInZlcnNpb24iLCJ1cHBlcmNhc2UiLCJjYWxsYmFja3MiLCIkJGNzcCIsImNzcCIsImFuZ3VsYXJNb2R1bGUiLCIkTG9jYWxlUHJvdmlkZXIiLCIkJHNhbml0aXplVXJpIiwiJCRTYW5pdGl6ZVVyaVByb3ZpZGVyIiwiJENvbXBpbGVQcm92aWRlciIsImh0bWxBbmNob3JEaXJlY3RpdmUiLCJ0ZXh0YXJlYSIsImZvcm1EaXJlY3RpdmUiLCJzY3JpcHQiLCJzY3JpcHREaXJlY3RpdmUiLCJzZWxlY3REaXJlY3RpdmUiLCJzdHlsZURpcmVjdGl2ZSIsIm9wdGlvbkRpcmVjdGl2ZSIsIm5nQmluZCIsIm5nQmluZERpcmVjdGl2ZSIsIm5nQmluZEh0bWwiLCJuZ0JpbmRIdG1sRGlyZWN0aXZlIiwibmdCaW5kVGVtcGxhdGUiLCJuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSIsIm5nQ2xhc3MiLCJuZ0NsYXNzRGlyZWN0aXZlIiwibmdDbGFzc0V2ZW4iLCJuZ0NsYXNzRXZlbkRpcmVjdGl2ZSIsIm5nQ2xhc3NPZGQiLCJuZ0NsYXNzT2RkRGlyZWN0aXZlIiwibmdDbG9hayIsIm5nQ2xvYWtEaXJlY3RpdmUiLCJuZ0NvbnRyb2xsZXIiLCJuZ0NvbnRyb2xsZXJEaXJlY3RpdmUiLCJuZ0Zvcm0iLCJuZ0Zvcm1EaXJlY3RpdmUiLCJuZ0hpZGUiLCJuZ0hpZGVEaXJlY3RpdmUiLCJuZ0lmIiwibmdJZkRpcmVjdGl2ZSIsIm5nSW5jbHVkZSIsIm5nSW5jbHVkZURpcmVjdGl2ZSIsIm5nSW5pdCIsIm5nSW5pdERpcmVjdGl2ZSIsIm5nTm9uQmluZGFibGUiLCJuZ05vbkJpbmRhYmxlRGlyZWN0aXZlIiwibmdQbHVyYWxpemUiLCJuZ1BsdXJhbGl6ZURpcmVjdGl2ZSIsIm5nUmVwZWF0IiwibmdSZXBlYXREaXJlY3RpdmUiLCJuZ1Nob3ciLCJuZ1Nob3dEaXJlY3RpdmUiLCJuZ1N0eWxlIiwibmdTdHlsZURpcmVjdGl2ZSIsIm5nU3dpdGNoIiwibmdTd2l0Y2hEaXJlY3RpdmUiLCJuZ1N3aXRjaFdoZW4iLCJuZ1N3aXRjaFdoZW5EaXJlY3RpdmUiLCJuZ1N3aXRjaERlZmF1bHQiLCJuZ1N3aXRjaERlZmF1bHREaXJlY3RpdmUiLCJuZ09wdGlvbnMiLCJuZ09wdGlvbnNEaXJlY3RpdmUiLCJuZ1RyYW5zY2x1ZGUiLCJuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUiLCJuZ01vZGVsRGlyZWN0aXZlIiwibmdMaXN0IiwibmdMaXN0RGlyZWN0aXZlIiwibmdDaGFuZ2UiLCJuZ0NoYW5nZURpcmVjdGl2ZSIsInBhdHRlcm4iLCJwYXR0ZXJuRGlyZWN0aXZlIiwibmdQYXR0ZXJuIiwicmVxdWlyZWREaXJlY3RpdmUiLCJuZ1JlcXVpcmVkIiwibWlubGVuZ3RoIiwibWlubGVuZ3RoRGlyZWN0aXZlIiwibmdNaW5sZW5ndGgiLCJtYXhsZW5ndGhEaXJlY3RpdmUiLCJuZ01heGxlbmd0aCIsIm5nVmFsdWVEaXJlY3RpdmUiLCJuZ01vZGVsT3B0aW9ucyIsIm5nTW9kZWxPcHRpb25zRGlyZWN0aXZlIiwibmdJbmNsdWRlRmlsbENvbnRlbnREaXJlY3RpdmUiLCJuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcyIsIm5nRXZlbnREaXJlY3RpdmVzIiwiJGFuY2hvclNjcm9sbCIsIiRBbmNob3JTY3JvbGxQcm92aWRlciIsIiRBbmltYXRlUHJvdmlkZXIiLCIkJGFuaW1hdGVRdWV1ZSIsIiQkQ29yZUFuaW1hdGVRdWV1ZVByb3ZpZGVyIiwiJCRDb3JlQW5pbWF0ZVJ1bm5lclByb3ZpZGVyIiwiJGJyb3dzZXIiLCIkQnJvd3NlclByb3ZpZGVyIiwiJENhY2hlRmFjdG9yeVByb3ZpZGVyIiwiJENvbnRyb2xsZXJQcm92aWRlciIsIiREb2N1bWVudFByb3ZpZGVyIiwiJGV4Y2VwdGlvbkhhbmRsZXIiLCIkRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyIiwiJGZpbHRlciIsIiRGaWx0ZXJQcm92aWRlciIsIiRJbnRlcnBvbGF0ZVByb3ZpZGVyIiwiJGludGVydmFsIiwiJEludGVydmFsUHJvdmlkZXIiLCIkSHR0cFByb3ZpZGVyIiwiJGh0dHBQYXJhbVNlcmlhbGl6ZXIiLCIkSHR0cFBhcmFtU2VyaWFsaXplclByb3ZpZGVyIiwiJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2UiLCIkSHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZVByb3ZpZGVyIiwiJGh0dHBCYWNrZW5kIiwiJEh0dHBCYWNrZW5kUHJvdmlkZXIiLCIkbG9jYXRpb24iLCIkTG9jYXRpb25Qcm92aWRlciIsIiRMb2dQcm92aWRlciIsIiRQYXJzZVByb3ZpZGVyIiwiJFJvb3RTY29wZVByb3ZpZGVyIiwiJFFQcm92aWRlciIsIiQkcSIsIiQkUVByb3ZpZGVyIiwiJHNjZSIsIiRTY2VQcm92aWRlciIsIiRzY2VEZWxlZ2F0ZSIsIiRTY2VEZWxlZ2F0ZVByb3ZpZGVyIiwiJFNuaWZmZXJQcm92aWRlciIsIiRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIiLCIkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIiLCIkJHRlc3RhYmlsaXR5IiwiJCRUZXN0YWJpbGl0eVByb3ZpZGVyIiwiJFRpbWVvdXRQcm92aWRlciIsIiRXaW5kb3dQcm92aWRlciIsIiQkUkFGUHJvdmlkZXIiLCIkJGpxTGl0ZVByb3ZpZGVyIiwiJCRIYXNoTWFwUHJvdmlkZXIiLCIkJGNvb2tpZVJlYWRlciIsIiQkQ29va2llUmVhZGVyUHJvdmlkZXIiLCJqcU5leHRJZCIsImpxSWQiLCJjYW1lbENhc2UiLCJTUEVDSUFMX0NIQVJTX1JFR0VYUCIsIk1PWl9IQUNLX1JFR0VYUCIsImpxTGl0ZUlzVGV4dE5vZGUiLCJIVE1MX1JFR0VYUCIsImpxTGl0ZUFjY2VwdHNEYXRhIiwiTk9ERV9UWVBFX0RPQ1VNRU5UIiwianFMaXRlSGFzRGF0YSIsImpxQ2FjaGUiLCJuZzMzOSIsImpxTGl0ZUJ1aWxkRnJhZ21lbnQiLCJ0bXAiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJUQUdfTkFNRV9SRUdFWFAiLCJleGVjIiwid3JhcE1hcCIsIl9kZWZhdWx0IiwiWEhUTUxfVEFHX1JFR0VYUCIsImxhc3RDaGlsZCIsImpxTGl0ZVBhcnNlSFRNTCIsInBhcnNlZCIsIlNJTkdMRV9UQUdfUkVHRVhQIiwiYXJnSXNTdHJpbmciLCJqcUxpdGVNaW5FcnIiLCJqcUxpdGVBZGROb2RlcyIsImpxTGl0ZUNsb25lIiwianFMaXRlRGVhbG9jIiwib25seURlc2NlbmRhbnRzIiwianFMaXRlUmVtb3ZlRGF0YSIsImRlc2NlbmRhbnRzIiwianFMaXRlT2ZmIiwidW5zdXBwb3J0ZWQiLCJleHBhbmRvU3RvcmUiLCJqcUxpdGVFeHBhbmRvU3RvcmUiLCJsaXN0ZW5lckZucyIsInJlbW92ZUV2ZW50TGlzdGVuZXJGbiIsImV4cGFuZG9JZCIsImNyZWF0ZUlmTmVjZXNzYXJ5IiwianFMaXRlRGF0YSIsImlzU2ltcGxlU2V0dGVyIiwiaXNTaW1wbGVHZXR0ZXIiLCJtYXNzR2V0dGVyIiwianFMaXRlSGFzQ2xhc3MiLCJzZWxlY3RvciIsImpxTGl0ZVJlbW92ZUNsYXNzIiwiY3NzQ2xhc3NlcyIsImNzc0NsYXNzIiwianFMaXRlQWRkQ2xhc3MiLCJleGlzdGluZ0NsYXNzZXMiLCJqcUxpdGVDb250cm9sbGVyIiwianFMaXRlSW5oZXJpdGVkRGF0YSIsIm5hbWVzIiwiTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UIiwianFMaXRlRW1wdHkiLCJqcUxpdGVSZW1vdmUiLCJrZWVwRGF0YSIsImpxTGl0ZURvY3VtZW50TG9hZGVkIiwid2luIiwicmVhZHlTdGF0ZSIsImdldEJvb2xlYW5BdHRyTmFtZSIsImJvb2xlYW5BdHRyIiwiQk9PTEVBTl9BVFRSIiwiQk9PTEVBTl9FTEVNRU5UUyIsImdldEFsaWFzZWRBdHRyTmFtZSIsIkFMSUFTRURfQVRUUiIsImNyZWF0ZUV2ZW50SGFuZGxlciIsImV2ZW50SGFuZGxlciIsImlzRGVmYXVsdFByZXZlbnRlZCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJldmVudEZucyIsImV2ZW50Rm5zTGVuZ3RoIiwiaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkIiwib3JpZ2luYWxTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCIsIm5leHRVaWRGbiIsIm9ialR5cGUiLCJIYXNoTWFwIiwiaXNvbGF0ZWRVaWQiLCJhbm9uRm4iLCJmblRleHQiLCJTVFJJUF9DT01NRU5UUyIsIkZOX0FSR1MiLCJhbm5vdGF0ZSIsImFyZ0RlY2wiLCJGTl9BUkdfU1BMSVQiLCJGTl9BUkciLCJ1bmRlcnNjb3JlIiwibW9kdWxlc1RvTG9hZCIsInN1cHBvcnRPYmplY3QiLCJkZWxlZ2F0ZSIsInByb3ZpZGVyXyIsInByb3ZpZGVySW5qZWN0b3IiLCJpbnN0YW50aWF0ZSIsInByb3ZpZGVyQ2FjaGUiLCJwcm92aWRlclN1ZmZpeCIsImVuZm9yY2VSZXR1cm5WYWx1ZSIsImluc3RhbmNlSW5qZWN0b3IiLCJmYWN0b3J5Rm4iLCJlbmZvcmNlIiwiaW5zdGFuY2VDYWNoZSIsInNlcnZpY2VOYW1lIiwiZGVjb3JGbiIsIm9yaWdQcm92aWRlciIsIm9yaWckZ2V0Iiwib3JpZ0luc3RhbmNlIiwibG9hZE1vZHVsZXMiLCJtb2R1bGVGbiIsInJ1bkludm9rZVF1ZXVlIiwiaW52b2tlQXJncyIsImxvYWRlZE1vZHVsZXMiLCJjcmVhdGVJbnRlcm5hbEluamVjdG9yIiwiZ2V0U2VydmljZSIsImNhbGxlciIsIklOU1RBTlRJQVRJTkciLCIkJGFubm90YXRlIiwiVHlwZSIsInJldHVybmVkVmFsdWUiLCJhdXRvU2Nyb2xsaW5nRW5hYmxlZCIsImRpc2FibGVBdXRvU2Nyb2xsaW5nIiwiZ2V0Rmlyc3RBbmNob3IiLCJnZXRZT2Zmc2V0IiwieU9mZnNldCIsInNjcm9sbFRvIiwic2Nyb2xsSW50b1ZpZXciLCJlbGVtVG9wIiwic2Nyb2xsQnkiLCJnZXRFbGVtZW50c0J5TmFtZSIsIm9sZFZhbCIsInNwbGl0Q2xhc3NlcyIsInByZXBhcmVBbmltYXRlT3B0aW9ucyIsIkJyb3dzZXIiLCJjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdCIsIm91dHN0YW5kaW5nUmVxdWVzdENvdW50Iiwib3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzIiwiZ2V0SGFzaCIsImNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlIiwiY2FjaGVTdGF0ZSIsImZpcmVVcmxDaGFuZ2UiLCJnZXRDdXJyZW50U3RhdGUiLCJoaXN0b3J5IiwiY2FjaGVkU3RhdGUiLCJsYXN0Q2FjaGVkU3RhdGUiLCJsYXN0QnJvd3NlclVybCIsImxhc3RIaXN0b3J5U3RhdGUiLCJ1cmxDaGFuZ2VMaXN0ZW5lcnMiLCJwZW5kaW5nRGVmZXJJZHMiLCJpc01vY2siLCIkJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0IiwiJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCIsIm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHMiLCJiYXNlRWxlbWVudCIsInJlbG9hZExvY2F0aW9uIiwic2FtZVN0YXRlIiwic2FtZUJhc2UiLCJzdHJpcEhhc2giLCJ1cmxDaGFuZ2VJbml0Iiwib25VcmxDaGFuZ2UiLCIkJGFwcGxpY2F0aW9uRGVzdHJveWVkIiwiJCRjaGVja1VybENoYW5nZSIsImJhc2VIcmVmIiwidGltZW91dElkIiwiZGVmZXJJZCIsImNhY2hlRmFjdG9yeSIsImNhY2hlSWQiLCJyZWZyZXNoIiwiZnJlc2hFbmQiLCJzdGFsZUVuZCIsIm5leHRFbnRyeSIsInByZXZFbnRyeSIsImNhY2hlcyIsInN0YXRzIiwiY2FwYWNpdHkiLCJOdW1iZXIiLCJNQVhfVkFMVUUiLCJscnVIYXNoIiwibHJ1RW50cnkiLCJyZW1vdmVBbGwiLCIkJHNhbml0aXplVXJpUHJvdmlkZXIiLCJwYXJzZUlzb2xhdGVCaW5kaW5ncyIsImlzQ29udHJvbGxlciIsIkxPQ0FMX1JFR0VYUCIsImJpbmRpbmdzIiwic2NvcGVOYW1lIiwiJGNvbXBpbGVNaW5FcnIiLCJtb2RlIiwiY29sbGVjdGlvbiIsInBhcnNlRGlyZWN0aXZlQmluZGluZ3MiLCJpZGVudGlmaWVyRm9yQ29udHJvbGxlciIsImFzc2VydFZhbGlkRGlyZWN0aXZlTmFtZSIsImhhc0RpcmVjdGl2ZXMiLCJTdWZmaXgiLCJDT01NRU5UX0RJUkVDVElWRV9SRUdFWFAiLCJDTEFTU19ESVJFQ1RJVkVfUkVHRVhQIiwiQUxMX09SX05PVEhJTkdfQVRUUlMiLCJSRVFVSVJFX1BSRUZJWF9SRUdFWFAiLCJFVkVOVF9IQU5ETEVSX0FUVFJfUkVHRVhQIiwicmVnaXN0ZXJEaXJlY3RpdmUiLCJkaXJlY3RpdmVGYWN0b3J5IiwiZGlyZWN0aXZlcyIsIiQkYmluZGluZ3MiLCJhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCIsInJlZ2V4cCIsImltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCIsInNhZmVBZGRDbGFzcyIsIiRjb21waWxlTm9kZXMiLCJ0cmFuc2NsdWRlRm4iLCJtYXhQcmlvcml0eSIsImlnbm9yZURpcmVjdGl2ZSIsInByZXZpb3VzQ29tcGlsZUNvbnRleHQiLCJub2RlVmFsdWUiLCJjb21wb3NpdGVMaW5rRm4iLCJjb21waWxlTm9kZXMiLCIkJGFkZFNjb3BlQ2xhc3MiLCJuYW1lc3BhY2UiLCJjbG9uZUNvbm5lY3RGbiIsInBhcmVudEJvdW5kVHJhbnNjbHVkZUZuIiwidHJhbnNjbHVkZUNvbnRyb2xsZXJzIiwiZnV0dXJlUGFyZW50RWxlbWVudCIsIiQkYm91bmRUcmFuc2NsdWRlIiwiZGV0ZWN0TmFtZXNwYWNlRm9yQ2hpbGRFbGVtZW50cyIsIiRsaW5rTm9kZSIsIndyYXBUZW1wbGF0ZSIsImNvbnRyb2xsZXJOYW1lIiwiJCRhZGRTY29wZUluZm8iLCJub2RlTGlzdCIsIm5vZGVMaW5rRm4iLCJjaGlsZExpbmtGbiIsImNoaWxkU2NvcGUiLCJpZHgiLCJjaGlsZEJvdW5kVHJhbnNjbHVkZUZuIiwic3RhYmxlTm9kZUxpc3QiLCJub2RlTGlua0ZuRm91bmQiLCJub2RlTGlzdExlbmd0aCIsImxpbmtGbnMiLCJkZXN0cm95QmluZGluZ3MiLCIkJGRlc3Ryb3lCaW5kaW5ncyIsInRyYW5zY2x1ZGVPblRoaXNFbGVtZW50IiwiY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4iLCJ0ZW1wbGF0ZU9uVGhpc0VsZW1lbnQiLCJsaW5rRm5Gb3VuZCIsIkF0dHJpYnV0ZXMiLCJjb2xsZWN0RGlyZWN0aXZlcyIsImFwcGx5RGlyZWN0aXZlc1RvTm9kZSIsIiQkZWxlbWVudCIsInByZXZpb3VzQm91bmRUcmFuc2NsdWRlRm4iLCJib3VuZFRyYW5zY2x1ZGVGbiIsInRyYW5zY2x1ZGVkU2NvcGUiLCJjbG9uZUZuIiwiY29udGFpbmluZ1Njb3BlIiwiJCR0cmFuc2NsdWRlZCIsImF0dHJzTWFwIiwiYWRkRGlyZWN0aXZlIiwiZGlyZWN0aXZlTm9ybWFsaXplIiwibk5hbWUiLCJuZ0F0dHJOYW1lIiwiaXNOZ0F0dHIiLCJuQXR0cnMiLCJhdHRyU3RhcnROYW1lIiwiYXR0ckVuZE5hbWUiLCJOR19BVFRSX0JJTkRJTkciLCJQUkVGSVhfUkVHRVhQIiwiZGlyZWN0aXZlTk5hbWUiLCJkaXJlY3RpdmVJc011bHRpRWxlbWVudCIsImFkZEF0dHJJbnRlcnBvbGF0ZURpcmVjdGl2ZSIsImFuaW1WYWwiLCJtc2llIiwiYWRkVGV4dEludGVycG9sYXRlRGlyZWN0aXZlIiwiTk9ERV9UWVBFX0NPTU1FTlQiLCJieVByaW9yaXR5IiwiZ3JvdXBTY2FuIiwiYXR0clN0YXJ0IiwiYXR0ckVuZCIsImRlcHRoIiwiZ3JvdXBFbGVtZW50c0xpbmtGbldyYXBwZXIiLCJjb21waWxlTm9kZSIsInRlbXBsYXRlQXR0cnMiLCJqcUNvbGxlY3Rpb24iLCJvcmlnaW5hbFJlcGxhY2VEaXJlY3RpdmUiLCJwcmVMaW5rRm5zIiwicG9zdExpbmtGbnMiLCJhZGRMaW5rRm5zIiwibmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlIiwiJCRpc29sYXRlU2NvcGUiLCJjbG9uZUFuZEFubm90YXRlRm4iLCJnZXRDb250cm9sbGVycyIsImVsZW1lbnRDb250cm9sbGVycyIsImluaGVyaXRUeXBlIiwiZGF0YU5hbWUiLCJzZXR1cENvbnRyb2xsZXJzIiwiY29udHJvbGxlckRpcmVjdGl2ZXMiLCJjb250cm9sbGVyS2V5IiwiJHRyYW5zY2x1ZGUiLCJjb250cm9sbGVySW5zdGFuY2UiLCJoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSIsImxpbmtOb2RlIiwidGhpc0xpbmtGbiIsImNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlIiwiY2xvbmVBdHRhY2hGbiIsInNjb3BlVG9DaGlsZCIsInRlbXBsYXRlRGlyZWN0aXZlIiwiJCRvcmlnaW5hbERpcmVjdGl2ZSIsImluaXRpYWxpemVEaXJlY3RpdmVCaW5kaW5ncyIsImNvbnRyb2xsZXJGb3JCaW5kaW5ncyIsInNjb3BlRGlyZWN0aXZlIiwibmV3U2NvcGVEaXJlY3RpdmUiLCJpZGVudGlmaWVyIiwiY29udHJvbGxlclJlc3VsdCIsImludm9rZUxpbmtGbiIsImRpcmVjdGl2ZVZhbHVlIiwidGVybWluYWxQcmlvcml0eSIsIm5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUiLCJoYXNUcmFuc2NsdWRlRGlyZWN0aXZlIiwiaGFzVGVtcGxhdGUiLCIkY29tcGlsZU5vZGUiLCJyZXBsYWNlRGlyZWN0aXZlIiwiY2hpbGRUcmFuc2NsdWRlRm4iLCIkJHN0YXJ0IiwiJCRlbmQiLCJhc3NlcnROb0R1cGxpY2F0ZSIsIiQkdGxiIiwiY3JlYXRlQ29tbWVudCIsInJlcGxhY2VXaXRoIiwiZGVub3JtYWxpemVUZW1wbGF0ZSIsInJlbW92ZUNvbW1lbnRzIiwidGVtcGxhdGVOYW1lc3BhY2UiLCJuZXdUZW1wbGF0ZUF0dHJzIiwidGVtcGxhdGVEaXJlY3RpdmVzIiwidW5wcm9jZXNzZWREaXJlY3RpdmVzIiwibWFya0RpcmVjdGl2ZXNBc0lzb2xhdGUiLCJtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyIsImNvbXBpbGVUZW1wbGF0ZVVybCIsInREaXJlY3RpdmVzIiwic3RhcnRBdHRyTmFtZSIsImVuZEF0dHJOYW1lIiwibXVsdGlFbGVtZW50Iiwic3JjQXR0ciIsImRzdEF0dHIiLCJhZnRlclRlbXBsYXRlTm9kZUxpbmtGbiIsImFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbiIsImxpbmtRdWV1ZSIsImJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGUiLCJvcmlnQXN5bmNEaXJlY3RpdmUiLCJkZXJpdmVkU3luY0RpcmVjdGl2ZSIsInRlbXBUZW1wbGF0ZUF0dHJzIiwiYmVmb3JlVGVtcGxhdGVMaW5rTm9kZSIsImxpbmtSb290RWxlbWVudCIsIm9sZENsYXNzZXMiLCJpZ25vcmVDaGlsZExpbmtGbiIsImRpZmYiLCJ3aGF0IiwicHJldmlvdXNEaXJlY3RpdmUiLCJ3cmFwTW9kdWxlTmFtZUlmRGVmaW5lZCIsIm1vZHVsZU5hbWUiLCJpbnRlcnBvbGF0ZUZuIiwidGVtcGxhdGVOb2RlIiwidGVtcGxhdGVOb2RlUGFyZW50IiwiaGFzQ29tcGlsZVBhcmVudCIsIiQkYWRkQmluZGluZ0NsYXNzIiwiJCRhZGRCaW5kaW5nSW5mbyIsImV4cHJlc3Npb25zIiwiZ2V0VHJ1c3RlZENvbnRleHQiLCJhdHRyTm9ybWFsaXplZE5hbWUiLCJIVE1MIiwiUkVTT1VSQ0VfVVJMIiwiYWxsT3JOb3RoaW5nIiwidHJ1c3RlZENvbnRleHQiLCIkJG9ic2VydmVycyIsIiQkaW50ZXIiLCIkJHNjb3BlIiwiJHVwZGF0ZUNsYXNzIiwiZWxlbWVudHNUb1JlbW92ZSIsIm5ld05vZGUiLCJmaXJzdEVsZW1lbnRUb1JlbW92ZSIsInJlbW92ZUNvdW50IiwiajIiLCJyZXBsYWNlQ2hpbGQiLCJoYXNEYXRhIiwiZXhwYW5kbyIsImsiLCJrayIsImFubm90YXRpb24iLCJvbk5ld1Njb3BlRGVzdHJveWVkIiwibGFzdFZhbHVlIiwicGFyZW50R2V0IiwicGFyZW50U2V0IiwiY29tcGFyZSIsImxpdGVyYWwiLCJhc3NpZ24iLCJwYXJlbnRWYWx1ZVdhdGNoIiwicGFyZW50VmFsdWUiLCIkc3RhdGVmdWwiLCJ1bndhdGNoIiwiYXR0cmlidXRlc1RvQ29weSIsIiRhZGRDbGFzcyIsImNsYXNzVmFsIiwiJHJlbW92ZUNsYXNzIiwibmV3Q2xhc3NlcyIsInRva2VuRGlmZmVyZW5jZSIsIndyaXRlQXR0ciIsImJvb2xlYW5LZXkiLCJhbGlhc2VkS2V5Iiwib2JzZXJ2ZXIiLCJ0cmltbWVkU3Jjc2V0Iiwic3JjUGF0dGVybiIsInJhd1VyaXMiLCJuYnJVcmlzV2l0aDJwYXJ0cyIsImlubmVySWR4IiwibGFzdFR1cGxlIiwibGlzdGVuZXJzIiwiaXNvbGF0ZWQiLCJub1RlbXBsYXRlIiwic3RyMSIsInN0cjIiLCJ0b2tlbnMxIiwidG9rZW5zMiIsIm91dGVyIiwidG9rZW4iLCJqcU5vZGVzIiwiaWRlbnQiLCJDTlRSTF9SRUciLCJnbG9iYWxzIiwiYWxsb3dHbG9iYWxzIiwiYWRkSWRlbnRpZmllciIsImV4cHJlc3Npb24iLCJsYXRlciIsIiRjb250cm9sbGVyTWluRXJyIiwiY29udHJvbGxlclByb3RvdHlwZSIsImV4Y2VwdGlvbiIsImNhdXNlIiwic2VyaWFsaXplVmFsdWUiLCJ2IiwidG9JU09TdHJpbmciLCJwYXJhbXMiLCJzZXJpYWxpemUiLCJ0b1NlcmlhbGl6ZSIsInRvcExldmVsIiwiZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybSIsImhlYWRlcnMiLCJ0ZW1wRGF0YSIsIkpTT05fUFJPVEVDVElPTl9QUkVGSVgiLCJjb250ZW50VHlwZSIsIkFQUExJQ0FUSU9OX0pTT04iLCJpc0pzb25MaWtlIiwianNvblN0YXJ0IiwiSlNPTl9TVEFSVCIsIkpTT05fRU5EUyIsInBhcnNlSGVhZGVycyIsImZpbGxJblBhcnNlZCIsImhlYWRlclZhbCIsImhlYWRlcktleSIsImhlYWRlcnNHZXR0ZXIiLCJoZWFkZXJzT2JqIiwidHJhbnNmb3JtRGF0YSIsImZucyIsImlzU3VjY2VzcyIsInRyYW5zZm9ybVJlc3BvbnNlIiwidHJhbnNmb3JtUmVxdWVzdCIsImQiLCJjb21tb24iLCJBY2NlcHQiLCJDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiIsInBhdGNoIiwieHNyZkNvb2tpZU5hbWUiLCJ4c3JmSGVhZGVyTmFtZSIsInBhcmFtU2VyaWFsaXplciIsInVzZUFwcGx5QXN5bmMiLCJpbnRlcmNlcHRvckZhY3RvcmllcyIsImludGVyY2VwdG9ycyIsInJlcXVlc3RDb25maWciLCJyZXNwIiwiZXhlY3V0ZUhlYWRlckZucyIsImhlYWRlckNvbnRlbnQiLCJwcm9jZXNzZWRIZWFkZXJzIiwiaGVhZGVyRm4iLCJoZWFkZXIiLCJtZXJnZUhlYWRlcnMiLCJkZWZIZWFkZXJOYW1lIiwibG93ZXJjYXNlRGVmSGVhZGVyTmFtZSIsInJlcUhlYWRlck5hbWUiLCJkZWZIZWFkZXJzIiwicmVxSGVhZGVycyIsImRlZmF1bHRIZWFkZXJzSXRlcmF0aW9uIiwic2VydmVyUmVxdWVzdCIsInJlcURhdGEiLCJ3aXRoQ3JlZGVudGlhbHMiLCJzZW5kUmVxIiwicmV2ZXJzZWRJbnRlcmNlcHRvcnMiLCJpbnRlcmNlcHRvciIsInJlcXVlc3QiLCJyZXF1ZXN0RXJyb3IiLCJyZXNwb25zZUVycm9yIiwidGhlbkZuIiwicmVqZWN0Rm4iLCJjcmVhdGVTaG9ydE1ldGhvZHMiLCJjcmVhdGVTaG9ydE1ldGhvZHNXaXRoRGF0YSIsImhlYWRlcnNTdHJpbmciLCJyZXNvbHZlSHR0cFByb21pc2UiLCJyZXNvbHZlUHJvbWlzZSIsIiRhcHBseUFzeW5jIiwiJCRwaGFzZSIsInJlc29sdmVQcm9taXNlV2l0aFJlc3VsdCIsInJlbW92ZVBlbmRpbmdSZXEiLCJwZW5kaW5nUmVxdWVzdHMiLCJjYWNoZWRSZXNwIiwiYnVpbGRVcmwiLCJkZWZhdWx0Q2FjaGUiLCJ4c3JmVmFsdWUiLCJ1cmxJc1NhbWVPcmlnaW4iLCJyZXNwb25zZVR5cGUiLCJzZXJpYWxpemVkUGFyYW1zIiwiaW50ZXJjZXB0b3JGYWN0b3J5IiwiY3JlYXRlWGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJjcmVhdGVIdHRwQmFja2VuZCIsIiRicm93c2VyRGVmZXIiLCJyYXdEb2N1bWVudCIsImpzb25wUmVxIiwiY2FsbGJhY2tJZCIsImFzeW5jIiwiY2FsbGVkIiwiYWRkRXZlbnRMaXN0ZW5lckZuIiwidGltZW91dFJlcXVlc3QiLCJqc29ucERvbmUiLCJ4aHIiLCJjb21wbGV0ZVJlcXVlc3QiLCJzZXRSZXF1ZXN0SGVhZGVyIiwib25sb2FkIiwicmVzcG9uc2VUZXh0IiwidXJsUmVzb2x2ZSIsInByb3RvY29sIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwib25lcnJvciIsIm9uYWJvcnQiLCJzZW5kIiwiZXNjYXBlIiwiY2giLCJ1bmVzY2FwZVRleHQiLCJlc2NhcGVkU3RhcnRSZWdleHAiLCJlc2NhcGVkRW5kUmVnZXhwIiwibXVzdEhhdmVFeHByZXNzaW9uIiwicGFyc2VTdHJpbmdpZnlJbnRlcmNlcHRvciIsImdldFZhbHVlIiwiJGludGVycG9sYXRlTWluRXJyIiwiaW50ZXJyIiwiZW5kSW5kZXgiLCJleHAiLCJwYXJzZUZucyIsInRleHRMZW5ndGgiLCJleHByZXNzaW9uUG9zaXRpb25zIiwic3RhcnRTeW1ib2xMZW5ndGgiLCJlbmRTeW1ib2xMZW5ndGgiLCJ0aHJvd05vY29uY2F0IiwiY29tcHV0ZSIsImdldFRydXN0ZWQiLCIkJHdhdGNoRGVsZWdhdGUiLCIkd2F0Y2hHcm91cCIsIm9sZFZhbHVlcyIsImN1cnJWYWx1ZSIsImludGVydmFsIiwiaGFzUGFyYW1zIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiaXRlcmF0aW9uIiwic2tpcEFwcGx5IiwiJCRpbnRlcnZhbElkIiwibm90aWZ5IiwiaW50ZXJ2YWxzIiwiTlVNQkVSX0ZPUk1BVFMiLCJERUNJTUFMX1NFUCIsIkdST1VQX1NFUCIsIlBBVFRFUk5TIiwibWluSW50IiwibWluRnJhYyIsIm1heEZyYWMiLCJwb3NQcmUiLCJwb3NTdWYiLCJuZWdQcmUiLCJuZWdTdWYiLCJnU2l6ZSIsImxnU2l6ZSIsIkNVUlJFTkNZX1NZTSIsIkRBVEVUSU1FX0ZPUk1BVFMiLCJNT05USCIsIlNIT1JUTU9OVEgiLCJEQVkiLCJTSE9SVERBWSIsIkFNUE1TIiwibWVkaXVtIiwic2hvcnQiLCJmdWxsRGF0ZSIsImxvbmdEYXRlIiwibWVkaXVtRGF0ZSIsInNob3J0RGF0ZSIsIm1lZGl1bVRpbWUiLCJzaG9ydFRpbWUiLCJFUkFOQU1FUyIsIkVSQVMiLCJwbHVyYWxDYXQiLCJudW0iLCJlbmNvZGVQYXRoIiwic2VnbWVudHMiLCJwYXJzZUFic29sdXRlVXJsIiwiYWJzb2x1dGVVcmwiLCJsb2NhdGlvbk9iaiIsInBhcnNlZFVybCIsIiQkcHJvdG9jb2wiLCIkJGhvc3QiLCJob3N0bmFtZSIsIiQkcG9ydCIsInBvcnQiLCJERUZBVUxUX1BPUlRTIiwicGFyc2VBcHBVcmwiLCJyZWxhdGl2ZVVybCIsInByZWZpeGVkIiwiJCRwYXRoIiwicGF0aG5hbWUiLCIkJHNlYXJjaCIsIiQkaGFzaCIsImJlZ2luc1dpdGgiLCJiZWdpbiIsIndob2xlIiwidHJpbUVtcHR5SGFzaCIsInN0cmlwRmlsZSIsInNlcnZlckJhc2UiLCJMb2NhdGlvbkh0bWw1VXJsIiwiYXBwQmFzZSIsImJhc2VQcmVmaXgiLCIkJGh0bWw1IiwiYXBwQmFzZU5vRmlsZSIsIiQkcGFyc2UiLCJwYXRoVXJsIiwiJGxvY2F0aW9uTWluRXJyIiwiJCRjb21wb3NlIiwiJCR1cmwiLCIkJGFic1VybCIsIiQkcGFyc2VMaW5rVXJsIiwicmVsSHJlZiIsImFwcFVybCIsInByZXZBcHBVcmwiLCJyZXdyaXR0ZW5VcmwiLCJMb2NhdGlvbkhhc2hiYW5nVXJsIiwiaGFzaFByZWZpeCIsInJlbW92ZVdpbmRvd3NEcml2ZU5hbWUiLCJiYXNlIiwiZmlyc3RQYXRoU2VnbWVudE1hdGNoIiwid2luZG93c0ZpbGVQYXRoRXhwIiwid2l0aG91dEhhc2hVcmwiLCJ3aXRob3V0QmFzZVVybCIsIkxvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsIiwibG9jYXRpb25HZXR0ZXIiLCJwcm9wZXJ0eSIsImxvY2F0aW9uR2V0dGVyU2V0dGVyIiwicHJlcHJvY2VzcyIsImh0bWw1TW9kZSIsInJlcXVpcmVCYXNlIiwicmV3cml0ZUxpbmtzIiwic2V0QnJvd3NlclVybFdpdGhGYWxsYmFjayIsIm9sZFVybCIsIm9sZFN0YXRlIiwiJCRzdGF0ZSIsImFmdGVyTG9jYXRpb25DaGFuZ2UiLCJhYnNVcmwiLCJMb2NhdGlvbk1vZGUiLCJpbml0aWFsVXJsIiwiSUdOT1JFX1VSSV9SRUdFWFAiLCJhYnNIcmVmIiwiaW5pdGlhbGl6aW5nIiwibmV3VXJsIiwibmV3U3RhdGUiLCIkZGlnZXN0IiwiY3VycmVudFJlcGxhY2UiLCIkJHJlcGxhY2UiLCJ1cmxPclN0YXRlQ2hhbmdlZCIsImRlYnVnRW5hYmxlZCIsImZsYWciLCJmb3JtYXRFcnJvciIsInNvdXJjZVVSTCIsImNvbnNvbGVMb2ciLCJsb2dGbiIsImxvZyIsImhhc0FwcGx5IiwiYXJnMSIsImFyZzIiLCJlbnN1cmVTYWZlTWVtYmVyTmFtZSIsImZ1bGxFeHByZXNzaW9uIiwiJHBhcnNlTWluRXJyIiwiZW5zdXJlU2FmZU9iamVjdCIsImVuc3VyZVNhZmVGdW5jdGlvbiIsIkNBTEwiLCJBUFBMWSIsIkJJTkQiLCJpZkRlZmluZWQiLCJwbHVzRm4iLCJpc1N0YXRlbGVzcyIsImZpbHRlck5hbWUiLCJmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zIiwiYXN0IiwiYWxsQ29uc3RhbnRzIiwiYXJnc1RvV2F0Y2giLCJBU1QiLCJQcm9ncmFtIiwiTGl0ZXJhbCIsInRvV2F0Y2giLCJVbmFyeUV4cHJlc3Npb24iLCJhcmd1bWVudCIsIkJpbmFyeUV4cHJlc3Npb24iLCJMb2dpY2FsRXhwcmVzc2lvbiIsIkNvbmRpdGlvbmFsRXhwcmVzc2lvbiIsImFsdGVybmF0ZSIsImNvbnNlcXVlbnQiLCJJZGVudGlmaWVyIiwiTWVtYmVyRXhwcmVzc2lvbiIsIm9iamVjdCIsImNvbXB1dGVkIiwiQ2FsbEV4cHJlc3Npb24iLCJjYWxsZWUiLCJBc3NpZ25tZW50RXhwcmVzc2lvbiIsIkFycmF5RXhwcmVzc2lvbiIsIk9iamVjdEV4cHJlc3Npb24iLCJUaGlzRXhwcmVzc2lvbiIsImdldElucHV0cyIsImxhc3RFeHByZXNzaW9uIiwiaXNBc3NpZ25hYmxlIiwiYXNzaWduYWJsZUFTVCIsIk5HVmFsdWVQYXJhbWV0ZXIiLCJvcGVyYXRvciIsImlzTGl0ZXJhbCIsImlzQ29uc3RhbnQiLCJBU1RDb21waWxlciIsImFzdEJ1aWxkZXIiLCJBU1RJbnRlcnByZXRlciIsInNldHRlciIsInNldFZhbHVlIiwiZnVsbEV4cCIsInByb3BlcnR5T2JqIiwiaXNQb3NzaWJseURhbmdlcm91c01lbWJlck5hbWUiLCJnZXRWYWx1ZU9mIiwib2JqZWN0VmFsdWVPZiIsImNhY2hlRGVmYXVsdCIsImNhY2hlRXhwZW5zaXZlIiwiZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayIsIm9sZFZhbHVlT2ZWYWx1ZSIsImlucHV0c1dhdGNoRGVsZWdhdGUiLCJvYmplY3RFcXVhbGl0eSIsInBhcnNlZEV4cHJlc3Npb24iLCJwcmV0dHlQcmludEV4cHJlc3Npb24iLCJsYXN0UmVzdWx0IiwiaW5wdXRFeHByZXNzaW9ucyIsImlucHV0cyIsIm9sZElucHV0VmFsdWVPZiIsIm5ld0lucHV0VmFsdWUiLCJvbGRJbnB1dFZhbHVlT2ZWYWx1ZXMiLCJvbGRJbnB1dFZhbHVlcyIsImNoYW5nZWQiLCJvbmVUaW1lV2F0Y2hEZWxlZ2F0ZSIsIm9sZCIsIm9uZVRpbWVMaXRlcmFsV2F0Y2hEZWxlZ2F0ZSIsImlzQWxsRGVmaW5lZCIsImFsbERlZmluZWQiLCJjb25zdGFudFdhdGNoRGVsZWdhdGUiLCJhZGRJbnRlcmNlcHRvciIsImludGVyY2VwdG9yRm4iLCJ3YXRjaERlbGVnYXRlIiwicmVndWxhcldhdGNoIiwiJHBhcnNlT3B0aW9ucyIsImV4cGVuc2l2ZUNoZWNrcyIsIiRwYXJzZU9wdGlvbnNFeHBlbnNpdmUiLCJvbmVUaW1lIiwicGFyc2VPcHRpb25zIiwibGV4ZXIiLCJMZXhlciIsIlBhcnNlciIsInFGYWN0b3J5IiwiZXhjZXB0aW9uSGFuZGxlciIsImNhbGxPbmNlIiwicmVzb2x2ZUZuIiwiUHJvbWlzZSIsInNpbXBsZUJpbmQiLCJwcm9jZXNzU2NoZWR1bGVkIiwic2NoZWR1bGVQcm9jZXNzUXVldWUiLCJEZWZlcnJlZCIsInByb21pc2VzIiwiJHFNaW5FcnIiLCJUeXBlRXJyb3IiLCJvbkZ1bGZpbGxlZCIsIm9uUmVqZWN0ZWQiLCJwcm9ncmVzc0JhY2siLCJoYW5kbGVDYWxsYmFjayIsIiQkcmVqZWN0IiwiJCRyZXNvbHZlIiwibWFrZVByb21pc2UiLCJpc1Jlc29sdmVkIiwiY2FsbGJhY2tPdXRwdXQiLCJlcnJiYWNrIiwiJFEiLCJRIiwicmVzb2x2ZXIiLCJ0YXNrUXVldWUiLCJ0YXNrIiwidGFza0NvdW50IiwicXVldWVGbiIsImFzeW5jRm4iLCJjYW5jZWxMYXN0UkFGIiwicmFmRm4iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2Via2l0Q2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicmFmU3VwcG9ydGVkIiwic3VwcG9ydGVkIiwiY3JlYXRlQ2hpbGRTY29wZUNsYXNzIiwiQ2hpbGRTY29wZSIsIiQkd2F0Y2hlcnMiLCIkJGxpc3RlbmVycyIsIiQkbGlzdGVuZXJDb3VudCIsIiQkd2F0Y2hlcnNDb3VudCIsIiRpZCIsIiQkQ2hpbGRTY29wZSIsIlRUTCIsIiRyb290U2NvcGVNaW5FcnIiLCJsYXN0RGlydHlXYXRjaCIsImFwcGx5QXN5bmNJZCIsImRpZ2VzdFR0bCIsImRlc3Ryb3lDaGlsZFNjb3BlIiwiY3VycmVudFNjb3BlIiwiU2NvcGUiLCJiZWdpblBoYXNlIiwiY2xlYXJQaGFzZSIsImluY3JlbWVudFdhdGNoZXJzQ291bnQiLCJkZWNyZW1lbnRMaXN0ZW5lckNvdW50IiwiaW5pdFdhdGNoVmFsIiwiZmx1c2hBcHBseUFzeW5jIiwiYXBwbHlBc3luY1F1ZXVlIiwic2NoZWR1bGVBcHBseUFzeW5jIiwiaXNvbGF0ZSIsIndhdGNoRXhwIiwid2F0Y2hFeHByZXNzaW9ucyIsIndhdGNoR3JvdXBBY3Rpb24iLCJjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCIsImZpcnN0UnVuIiwibmV3VmFsdWVzIiwiZGVyZWdpc3RlckZucyIsInNob3VsZENhbGwiLCJ1bndhdGNoRm4iLCIkd2F0Y2hDb2xsZWN0aW9uSW50ZXJjZXB0b3IiLCJfdmFsdWUiLCJuZXdMZW5ndGgiLCJib3RoTmFOIiwibmV3SXRlbSIsIm9sZEl0ZW0iLCJpbnRlcm5hbEFycmF5Iiwib2xkTGVuZ3RoIiwiY2hhbmdlRGV0ZWN0ZWQiLCJpbnRlcm5hbE9iamVjdCIsIiR3YXRjaENvbGxlY3Rpb25BY3Rpb24iLCJpbml0UnVuIiwidmVyeU9sZFZhbHVlIiwidHJhY2tWZXJ5T2xkVmFsdWUiLCJjaGFuZ2VEZXRlY3RvciIsIndhdGNoIiwid2F0Y2hlcnMiLCJkaXJ0eSIsImxvZ0lkeCIsImFzeW5jVGFzayIsInR0bCIsIndhdGNoTG9nIiwiYXN5bmNRdWV1ZSIsInRyYXZlcnNlU2NvcGVzTG9vcCIsInBvc3REaWdlc3RRdWV1ZSIsIiRhcHBseUFzeW5jRXhwcmVzc2lvbiIsIm5hbWVkTGlzdGVuZXJzIiwiaW5kZXhPZkxpc3RlbmVyIiwiJGVtaXQiLCJ0YXJnZXRTY29wZSIsImxpc3RlbmVyQXJncyIsIiQkYXN5bmNRdWV1ZSIsIiQkcG9zdERpZ2VzdFF1ZXVlIiwiJCRhcHBseUFzeW5jUXVldWUiLCJ1cmkiLCJpc0ltYWdlIiwibm9ybWFsaXplZFZhbCIsImFkanVzdE1hdGNoZXIiLCJtYXRjaGVyIiwiJHNjZU1pbkVyciIsImVzY2FwZUZvclJlZ2V4cCIsImFkanVzdE1hdGNoZXJzIiwibWF0Y2hlcnMiLCJhZGp1c3RlZE1hdGNoZXJzIiwiU0NFX0NPTlRFWFRTIiwicmVzb3VyY2VVcmxXaGl0ZWxpc3QiLCJyZXNvdXJjZVVybEJsYWNrbGlzdCIsIm1hdGNoVXJsIiwiaXNSZXNvdXJjZVVybEFsbG93ZWRCeVBvbGljeSIsImFsbG93ZWQiLCJnZW5lcmF0ZUhvbGRlclR5cGUiLCJCYXNlIiwiaG9sZGVyVHlwZSIsInRydXN0ZWRWYWx1ZSIsIiQkdW53cmFwVHJ1c3RlZFZhbHVlIiwidHJ1c3RBcyIsIkNvbnN0cnVjdG9yIiwiYnlUeXBlIiwibWF5YmVUcnVzdGVkIiwidHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSIsImh0bWxTYW5pdGl6ZXIiLCJVUkwiLCJKUyIsInNjZSIsImlzRW5hYmxlZCIsInBhcnNlQXMiLCJlbnVtVmFsdWUiLCJsTmFtZSIsImV2ZW50U3VwcG9ydCIsImFuZHJvaWQiLCJib3hlZSIsInZlbmRvclJlZ2V4IiwiYm9keVN0eWxlIiwid2Via2l0VHJhbnNpdGlvbiIsIndlYmtpdEFuaW1hdGlvbiIsInB1c2hTdGF0ZSIsImhhc0V2ZW50IiwiZGl2RWxtIiwiaGFuZGxlUmVxdWVzdEZuIiwidHBsIiwiaWdub3JlUmVxdWVzdEVycm9yIiwiaGFuZGxlRXJyb3IiLCJnZXRUcnVzdGVkUmVzb3VyY2VVcmwiLCJ0cmFuc2Zvcm1lciIsImh0dHBPcHRpb25zIiwidGVzdGFiaWxpdHkiLCJmaW5kQmluZGluZ3MiLCJvcHRfZXhhY3RNYXRjaCIsImRhdGFCaW5kaW5nIiwiYmluZGluZ05hbWUiLCJmaW5kTW9kZWxzIiwicHJlZml4ZXMiLCJhdHRyaWJ1dGVFcXVhbHMiLCJnZXRMb2NhdGlvbiIsInNldExvY2F0aW9uIiwid2hlblN0YWJsZSIsImRlZmVycmVkcyIsIiQkdGltZW91dElkIiwidXJsUGFyc2luZ05vZGUiLCJyZXF1ZXN0VXJsIiwib3JpZ2luVXJsIiwiJCRDb29raWVSZWFkZXIiLCJzYWZlRGVjb2RlVVJJQ29tcG9uZW50IiwibGFzdENvb2tpZXMiLCJsYXN0Q29va2llU3RyaW5nIiwiY29va2llQXJyYXkiLCJjb29raWUiLCJjdXJyZW50Q29va2llU3RyaW5nIiwiZmlsdGVycyIsInN1ZmZpeCIsImN1cnJlbmN5RmlsdGVyIiwiZGF0ZUZpbHRlciIsImZpbHRlckZpbHRlciIsImpzb25GaWx0ZXIiLCJsaW1pdFRvRmlsdGVyIiwibG93ZXJjYXNlRmlsdGVyIiwibnVtYmVyRmlsdGVyIiwib3JkZXJCeUZpbHRlciIsInVwcGVyY2FzZUZpbHRlciIsImNvbXBhcmF0b3IiLCJwcmVkaWNhdGVGbiIsIm1hdGNoQWdhaW5zdEFueVByb3AiLCJleHByZXNzaW9uVHlwZSIsImdldFR5cGVGb3JGaWx0ZXIiLCJjcmVhdGVQcmVkaWNhdGVGbiIsInNob3VsZE1hdGNoUHJpbWl0aXZlcyIsImFjdHVhbCIsImV4cGVjdGVkIiwiZGVlcENvbXBhcmUiLCJkb250TWF0Y2hXaG9sZU9iamVjdCIsImFjdHVhbFR5cGUiLCJleHBlY3RlZFR5cGUiLCJleHBlY3RlZFZhbCIsIm1hdGNoQW55UHJvcGVydHkiLCJhY3R1YWxWYWwiLCIkbG9jYWxlIiwiZm9ybWF0cyIsImN1cnJlbmN5U3ltYm9sIiwiZnJhY3Rpb25TaXplIiwiZm9ybWF0TnVtYmVyIiwibnVtYmVyIiwiZ3JvdXBTZXAiLCJkZWNpbWFsU2VwIiwiaXNOZWdhdGl2ZSIsImlzSW5maW5pdHkiLCJJbmZpbml0eSIsImlzRmluaXRlIiwibnVtU3RyIiwiZm9ybWF0ZWRUZXh0IiwiaGFzRXhwb25lbnQiLCJmcmFjdGlvbkxlbiIsImZyYWN0aW9uIiwibGdyb3VwIiwicGFkTnVtYmVyIiwiZGlnaXRzIiwibmVnIiwiZGF0ZUdldHRlciIsImRhdGVTdHJHZXR0ZXIiLCJzaG9ydEZvcm0iLCJ0aW1lWm9uZUdldHRlciIsInpvbmUiLCJwYWRkZWRab25lIiwiZ2V0Rmlyc3RUaHVyc2RheU9mWWVhciIsInllYXIiLCJkYXlPZldlZWtPbkZpcnN0IiwiZ2V0RGF5IiwiZ2V0VGh1cnNkYXlUaGlzV2VlayIsImRhdGV0aW1lIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJ3ZWVrR2V0dGVyIiwiZmlyc3RUaHVycyIsInRoaXNUaHVycyIsImFtcG1HZXR0ZXIiLCJnZXRIb3VycyIsImVyYUdldHRlciIsImxvbmdFcmFHZXR0ZXIiLCJqc29uU3RyaW5nVG9EYXRlIiwic3RyaW5nIiwiUl9JU084NjAxX1NUUiIsInR6SG91ciIsInR6TWluIiwiZGF0ZVNldHRlciIsInNldFVUQ0Z1bGxZZWFyIiwic2V0RnVsbFllYXIiLCJ0aW1lU2V0dGVyIiwic2V0VVRDSG91cnMiLCJzZXRIb3VycyIsIm0iLCJtcyIsImZvcm1hdCIsIk5VTUJFUl9TVFJJTkciLCJEQVRFX0ZPUk1BVFNfU1BMSVQiLCJkYXRlVGltZXpvbmVPZmZzZXQiLCJEQVRFX0ZPUk1BVFMiLCJzcGFjaW5nIiwicHJvY2Vzc1ByZWRpY2F0ZXMiLCJzb3J0UHJlZGljYXRlIiwicmV2ZXJzZU9yZGVyIiwicHJlZGljYXRlIiwiZGVzY2VuZGluZyIsIm9iamVjdFZhbHVlIiwiZ2V0UHJlZGljYXRlVmFsdWUiLCJ2MSIsInYyIiwiZ2V0Q29tcGFyaXNvbk9iamVjdCIsInByZWRpY2F0ZVZhbHVlcyIsInByZWRpY2F0ZXMiLCJkb0NvbXBhcmlzb24iLCJjb21wYXJlVmFsdWVzIiwibmdEaXJlY3RpdmUiLCJudWxsRm9ybVJlbmFtZUNvbnRyb2wiLCJjb250cm9sIiwiJG5hbWUiLCJGb3JtQ29udHJvbGxlciIsImNvbnRyb2xzIiwicGFyZW50Rm9ybSIsIiQkcGFyZW50Rm9ybSIsIm51bGxGb3JtQ3RybCIsIiQkc3VjY2VzcyIsIiRwZW5kaW5nIiwiJGRpcnR5IiwiJHByaXN0aW5lIiwiJHZhbGlkIiwiJHN1Ym1pdHRlZCIsIiRhZGRDb250cm9sIiwiJHJvbGxiYWNrVmlld1ZhbHVlIiwiJGNvbW1pdFZpZXdWYWx1ZSIsIiQkcmVuYW1lQ29udHJvbCIsIm5ld05hbWUiLCJvbGROYW1lIiwiJHNldFZhbGlkaXR5IiwiYWRkU2V0VmFsaWRpdHlNZXRob2QiLCJ1bnNldCIsIiRzZXREaXJ0eSIsIlBSSVNUSU5FX0NMQVNTIiwiRElSVFlfQ0xBU1MiLCIkc2V0UHJpc3RpbmUiLCJTVUJNSVRURURfQ0xBU1MiLCIkc2V0VW50b3VjaGVkIiwiJHNldFN1Ym1pdHRlZCIsInN0cmluZ0Jhc2VkSW5wdXRUeXBlIiwidGV4dElucHV0VHlwZSIsImJhc2VJbnB1dFR5cGUiLCJjb21wb3NpbmciLCJuZ1RyaW0iLCIkJGhhc05hdGl2ZVZhbGlkYXRvcnMiLCJkZWZlckxpc3RlbmVyIiwib3JpZ1ZhbHVlIiwid2Vla1BhcnNlciIsImlzb1dlZWsiLCJleGlzdGluZ0RhdGUiLCJXRUVLX1JFR0VYUCIsIndlZWsiLCJob3VycyIsInNlY29uZHMiLCJtaWxsaXNlY29uZHMiLCJhZGREYXlzIiwiZ2V0U2Vjb25kcyIsImdldE1pbGxpc2Vjb25kcyIsIk5hTiIsImNyZWF0ZURhdGVQYXJzZXIiLCJtYXBwaW5nIiwiaXNvIiwiSVNPX0RBVEVfUkVHRVhQIiwieXl5eSIsIk1NIiwiZGQiLCJISCIsIm1tIiwic3MiLCJzc3MiLCJwYXJ0IiwiY3JlYXRlRGF0ZUlucHV0VHlwZSIsInBhcnNlRGF0ZSIsImlzVmFsaWREYXRlIiwicGFyc2VPYnNlcnZlZERhdGVWYWx1ZSIsImJhZElucHV0Q2hlY2tlciIsInByZXZpb3VzRGF0ZSIsIiQkcGFyc2VyTmFtZSIsInBhcnNlZERhdGUiLCIkbmdNb2RlbE1pbkVyciIsIm5nTWluIiwibWluVmFsIiwiJHZhbGlkYXRlIiwibmdNYXgiLCJtYXhWYWwiLCJuYXRpdmVWYWxpZGF0aW9uIiwiVkFMSURJVFlfU1RBVEVfUFJPUEVSVFkiLCJ0eXBlTWlzbWF0Y2giLCJudW1iZXJJbnB1dFR5cGUiLCJOVU1CRVJfUkVHRVhQIiwidXJsSW5wdXRUeXBlIiwiVVJMX1JFR0VYUCIsImVtYWlsSW5wdXRUeXBlIiwiZW1haWwiLCJFTUFJTF9SRUdFWFAiLCJyYWRpb0lucHV0VHlwZSIsInBhcnNlQ29uc3RhbnRFeHByIiwicGFyc2VGbiIsImNoZWNrYm94SW5wdXRUeXBlIiwidHJ1ZVZhbHVlIiwibmdUcnVlVmFsdWUiLCJmYWxzZVZhbHVlIiwibmdGYWxzZVZhbHVlIiwiY2xhc3NEaXJlY3RpdmUiLCJhcnJheURpZmZlcmVuY2UiLCJhcnJheUNsYXNzZXMiLCJhZGRDbGFzc2VzIiwiZGlnZXN0Q2xhc3NDb3VudHMiLCJyZW1vdmVDbGFzc2VzIiwiY2xhc3NDb3VudHMiLCJjbGFzc2VzVG9VcGRhdGUiLCJ1cGRhdGVDbGFzc2VzIiwibmdDbGFzc1dhdGNoQWN0aW9uIiwib2xkJGluZGV4IiwibW9kIiwic2V0VmFsaWRpdHkiLCJ2YWxpZGF0aW9uRXJyb3JLZXkiLCJjcmVhdGVBbmRTZXQiLCJ1bnNldEFuZENsZWFudXAiLCJjYWNoZWRUb2dnbGVDbGFzcyIsIlBFTkRJTkdfQ0xBU1MiLCJ0b2dnbGVWYWxpZGF0aW9uQ3NzIiwiaXNPYmplY3RFbXB0eSIsImNvbWJpbmVkU3RhdGUiLCJzd2l0Y2hWYWx1ZSIsImNsYXNzQ2FjaGUiLCJpc1ZhbGlkIiwiVkFMSURfQ0xBU1MiLCJJTlZBTElEX0NMQVNTIiwiUkVHRVhfU1RSSU5HX1JFR0VYUCIsIm1hbnVhbExvd2VyY2FzZSIsImNoYXJDb2RlQXQiLCJtYW51YWxVcHBlcmNhc2UiLCJkb2N1bWVudE1vZGUiLCJpc0FjdGl2ZV8iLCJGdW5jdGlvbiIsIm5hbWVfIiwiTk9ERV9UWVBFX0FUVFJJQlVURSIsImZ1bGwiLCJtYWpvciIsIm1pbm9yIiwiZG90IiwiY29kZU5hbWUiLCJNT1VTRV9FVkVOVF9NQVAiLCJtb3VzZWxlYXZlIiwibW91c2VlbnRlciIsInRoZWFkIiwidHIiLCJ0ZCIsIm9wdGdyb3VwIiwidGJvZHkiLCJ0Zm9vdCIsImNvbGdyb3VwIiwiY2FwdGlvbiIsInRoIiwicmVhZHkiLCJmaXJlZCIsImxvd2VyY2FzZWROYW1lIiwiZ2V0TmFtZWRJdGVtIiwic3BlY2lmaWVkIiwiJGR2Iiwibm9kZUNvdW50IiwianFMaXRlT24iLCJ0eXBlcyIsInJlbGF0ZWQiLCJvbmUiLCJvbkZuIiwicmVwbGFjZU5vZGUiLCJjb250ZW50RG9jdW1lbnQiLCJ3cmFwTm9kZSIsIm5ld0VsZW1lbnQiLCJjb25kaXRpb24iLCJjbGFzc0NvbmRpdGlvbiIsIm5leHRFbGVtZW50U2libGluZyIsImV4dHJhUGFyYW1ldGVycyIsImR1bW15RXZlbnQiLCJldmVudEZuc0NvcHkiLCJoYW5kbGVyQXJncyIsImFyZzMiLCJ1bmJpbmQiLCIkYW5pbWF0ZU1pbkVyciIsInBhc3MiLCJmYWlsIiwicG9zdERpZ2VzdEVsZW1lbnRzIiwiYWRkUmVtb3ZlQ2xhc3Nlc1Bvc3REaWdlc3QiLCIkJGNsYXNzTmFtZUZpbHRlciIsInJlc2VydmVkUmVnZXgiLCJkb21JbnNlcnQiLCJhZnRlckVsZW1lbnQiLCJhZnRlck5vZGUiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiYWRkY2xhc3MiLCJDb250ZW50LVR5cGUiLCJbIiwieyIsIlBBVEhfTUFUQ0giLCJodHRwIiwiaHR0cHMiLCJmdHAiLCJsb2NhdGlvblByb3RvdHlwZSIsInBhcmFtVmFsdWUiLCJMb2NhdGlvbiIsIk9QRVJBVE9SUyIsIiciLCJcIiIsImxleCIsInRva2VucyIsInJlYWRTdHJpbmciLCJwZWVrIiwicmVhZE51bWJlciIsImlzSWRlbnQiLCJyZWFkSWRlbnQiLCJpcyIsImlzV2hpdGVzcGFjZSIsImNoMiIsImNoMyIsIm9wMSIsIm9wMiIsIm9wMyIsInRocm93RXJyb3IiLCJjaGFycyIsImlzRXhwT3BlcmF0b3IiLCJjb2xTdHIiLCJwZWVrQ2giLCJxdW90ZSIsInJhd1N0cmluZyIsInJlcCIsIkV4cHJlc3Npb25TdGF0ZW1lbnQiLCJQcm9wZXJ0eSIsInByb2dyYW0iLCJleHByZXNzaW9uU3RhdGVtZW50IiwiZmlsdGVyQ2hhaW4iLCJhc3NpZ25tZW50IiwidGVybmFyeSIsImxvZ2ljYWxPUiIsImNvbnN1bWUiLCJsb2dpY2FsQU5EIiwiZXF1YWxpdHkiLCJyZWxhdGlvbmFsIiwiYWRkaXRpdmUiLCJtdWx0aXBsaWNhdGl2ZSIsInVuYXJ5IiwiYXJyYXlEZWNsYXJhdGlvbiIsImNvbnN0YW50cyIsInBhcnNlQXJndW1lbnRzIiwiYmFzZUV4cHJlc3Npb24iLCJwZWVrVG9rZW4iLCJraW5kIiwiZTEiLCJlMiIsImUzIiwiZTQiLCJwZWVrQWhlYWQiLCJudWxsIiwibmV4dElkIiwidmFycyIsIm93biIsImFzc2lnbmFibGUiLCJzdGFnZSIsImNvbXB1dGluZyIsInJlY3Vyc2UiLCJnZW5lcmF0ZUZ1bmN0aW9uIiwiZm5LZXkiLCJpbnRvSWQiLCJyZXR1cm5fIiwid2F0Y2hJZCIsImZuU3RyaW5nIiwiVVNFIiwiU1RSSUNUIiwiZmlsdGVyUHJlZml4Iiwid2F0Y2hGbnMiLCJ2YXJzUHJlZml4Iiwic2VjdGlvbiIsIm5hbWVJZCIsInJlY3Vyc2lvbkZuIiwic2tpcFdhdGNoSWRDaGVjayIsImlmXyIsImxhenlBc3NpZ24iLCJjb21wdXRlZE1lbWJlciIsImxhenlSZWN1cnNlIiwicGx1cyIsIm5vdCIsImdldEhhc093blByb3BlcnR5Iiwibm9uQ29tcHV0ZWRNZW1iZXIiLCJhZGRFbnN1cmVTYWZlT2JqZWN0Iiwibm90TnVsbCIsImFkZEVuc3VyZVNhZmVNZW1iZXJOYW1lIiwiYWRkRW5zdXJlU2FmZUZ1bmN0aW9uIiwibWVtYmVyIiwic3RyaW5nRXNjYXBlUmVnZXgiLCJzdHJpbmdFc2NhcGVGbiIsInJocyIsImxocyIsInVuYXJ5KyIsInVuYXJ5LSIsInVuYXJ5ISIsImJpbmFyeSsiLCJiaW5hcnktIiwiYmluYXJ5KiIsImJpbmFyeS8iLCJiaW5hcnklIiwiYmluYXJ5PT09IiwiYmluYXJ5IT09IiwiYmluYXJ5PT0iLCJiaW5hcnkhPSIsImJpbmFyeTwiLCJiaW5hcnk+IiwiYmluYXJ5PD0iLCJiaW5hcnk+PSIsImJpbmFyeSYmIiwiYmluYXJ5fHwiLCJ0ZXJuYXJ5PzoiLCJhc3RDb21waWxlciIsInl5IiwiTU1NTSIsIk1NTSIsIk0iLCJIIiwiaGgiLCJFRUVFIiwiRUVFIiwiWiIsInd3IiwidyIsIkciLCJHRyIsIkdHRyIsIkdHR0ciLCJ4bGlua0hyZWYiLCJwcm9wTmFtZSIsImRlZmF1bHRMaW5rRm4iLCJub3JtYWxpemVkIiwiZm9ybURpcmVjdGl2ZUZhY3RvcnkiLCJpc05nRm9ybSIsImZvcm1FbGVtZW50IiwibmFtZUF0dHIiLCJoYW5kbGVGb3JtU3VibWlzc2lvbiIsInBhcmVudEZvcm1DdHJsIiwiREFURV9SRUdFWFAiLCJEQVRFVElNRUxPQ0FMX1JFR0VYUCIsIk1PTlRIX1JFR0VYUCIsIlRJTUVfUkVHRVhQIiwiaW5wdXRUeXBlIiwiZGF0ZXRpbWUtbG9jYWwiLCJtb250aCIsInJhZGlvIiwiY2hlY2tib3giLCJzdWJtaXQiLCJyZXNldCIsImZpbGUiLCJDT05TVEFOVF9WQUxVRV9SRUdFWFAiLCJ0cGxBdHRyIiwibmdCaW5kSHRtbEdldHRlciIsIm5nQmluZEh0bWxXYXRjaCIsImdldFRydXN0ZWRIdG1sIiwiZm9yY2VBc3luY0V2ZW50cyIsInByZXZpb3VzRWxlbWVudHMiLCJzcmNFeHAiLCJvbmxvYWRFeHAiLCJhdXRvU2Nyb2xsRXhwIiwiYXV0b3Njcm9sbCIsInByZXZpb3VzRWxlbWVudCIsImN1cnJlbnRFbGVtZW50IiwiY2hhbmdlQ291bnRlciIsImNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQiLCJhZnRlckFuaW1hdGlvbiIsInRoaXNDaGFuZ2VJZCIsInRyaW1WYWx1ZXMiLCJVTlRPVUNIRURfQ0xBU1MiLCJUT1VDSEVEX0NMQVNTIiwiTmdNb2RlbENvbnRyb2xsZXIiLCIkJHJhd01vZGVsVmFsdWUiLCIkYXN5bmNWYWxpZGF0b3JzIiwiJHVudG91Y2hlZCIsInBhcnNlclZhbGlkIiwicGFyc2VkTmdNb2RlbCIsInBhcnNlZE5nTW9kZWxBc3NpZ24iLCJuZ01vZGVsR2V0IiwibmdNb2RlbFNldCIsInBlbmRpbmdEZWJvdW5jZSIsIiQkc2V0T3B0aW9ucyIsImdldHRlclNldHRlciIsImludm9rZU1vZGVsR2V0dGVyIiwiaW52b2tlTW9kZWxTZXR0ZXIiLCIkJCRwIiwiY3VycmVudFZhbGlkYXRpb25SdW5JZCIsIiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSIsInByZXZWYWxpZCIsInByZXZNb2RlbFZhbHVlIiwiYWxsb3dJbnZhbGlkIiwiJCRydW5WYWxpZGF0b3JzIiwiYWxsVmFsaWQiLCIkJHdyaXRlTW9kZWxUb1Njb3BlIiwiZG9uZUNhbGxiYWNrIiwicHJvY2Vzc1BhcnNlRXJyb3JzIiwiZXJyb3JLZXkiLCJwcm9jZXNzU3luY1ZhbGlkYXRvcnMiLCJzeW5jVmFsaWRhdG9yc1ZhbGlkIiwidmFsaWRhdG9yIiwicHJvY2Vzc0FzeW5jVmFsaWRhdG9ycyIsInZhbGlkYXRvclByb21pc2VzIiwidmFsaWRhdGlvbkRvbmUiLCJsb2NhbFZhbGlkYXRpb25SdW5JZCIsIiQkcGFyc2VBbmRWYWxpZGF0ZSIsIndyaXRlVG9Nb2RlbElmTmVlZGVkIiwidXBkYXRlT25EZWZhdWx0IiwiJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdCIsImRlYm91bmNlRGVsYXkiLCJmb3JtYXR0ZXJzIiwibW9kZWxDdHJsIiwidXBkYXRlT24iLCJERUZBVUxUX1JFR0VYUCIsInRoYXQiLCJuZ09wdGlvbnNNaW5FcnIiLCJOR19PUFRJT05TX1JFR0VYUCIsInBhcnNlT3B0aW9uc0V4cHJlc3Npb24iLCJvcHRpb25zRXhwIiwic2VsZWN0RWxlbWVudCIsIk9wdGlvbiIsInNlbGVjdFZhbHVlIiwiZ2V0T3B0aW9uVmFsdWVzS2V5cyIsIm9wdGlvblZhbHVlcyIsIm9wdGlvblZhbHVlc0tleXMiLCJrZXlOYW1lIiwiaXRlbUtleSIsInZhbHVlTmFtZSIsInNlbGVjdEFzIiwic2VsZWN0QXNGbiIsInZpZXdWYWx1ZUZuIiwidHJhY2tCeUZuIiwiZ2V0VHJhY2tCeVZhbHVlRm4iLCJnZXRUcmFja0J5VmFsdWUiLCJnZXRMb2NhbHMiLCJkaXNwbGF5Rm4iLCJncm91cEJ5Rm4iLCJkaXNhYmxlV2hlbkZuIiwidmFsdWVzRm4iLCJnZXRXYXRjaGFibGVzIiwid2F0Y2hlZEFycmF5Iiwib3B0aW9uVmFsdWVzTGVuZ3RoIiwiZGlzYWJsZVdoZW4iLCJnZXRPcHRpb25zIiwib3B0aW9uSXRlbXMiLCJzZWxlY3RWYWx1ZU1hcCIsIm9wdGlvbkl0ZW0iLCJnZXRPcHRpb25Gcm9tVmlld1ZhbHVlIiwiZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbiIsIm9wdGlvblRlbXBsYXRlIiwib3B0R3JvdXBUZW1wbGF0ZSIsInVwZGF0ZU9wdGlvbkVsZW1lbnQiLCJhZGRPclJldXNlRWxlbWVudCIsInJlbW92ZUV4Y2Vzc0VsZW1lbnRzIiwic2tpcEVtcHR5QW5kVW5rbm93bk9wdGlvbnMiLCJlbXB0eU9wdGlvbl8iLCJlbXB0eU9wdGlvbiIsInVua25vd25PcHRpb25fIiwidW5rbm93bk9wdGlvbiIsInVwZGF0ZU9wdGlvbnMiLCJwcmV2aW91c1ZhbHVlIiwicmVhZFZhbHVlIiwiZ3JvdXBNYXAiLCJwcm92aWRlZEVtcHR5T3B0aW9uIiwiZ3JvdXBFbGVtZW50Iiwib3B0aW9uRWxlbWVudCIsImN1cnJlbnRPcHRpb25FbGVtZW50IiwibmV4dFZhbHVlIiwicmVuZGVyRW1wdHlPcHRpb24iLCJyZW1vdmVFbXB0eU9wdGlvbiIsInJlbmRlclVua25vd25PcHRpb24iLCJyZW1vdmVVbmtub3duT3B0aW9uIiwid3JpdGVWYWx1ZSIsInNlbGVjdGVkVmFsdWVzIiwic2VsZWN0aW9ucyIsInNlbGVjdGVkT3B0aW9uIiwiQlJBQ0UiLCJJU19XSEVOIiwidXBkYXRlRWxlbWVudFRleHQiLCJuZXdUZXh0IiwibnVtYmVyRXhwIiwid2hlbkV4cCIsIndoZW5zIiwid2hlbnNFeHBGbnMiLCJicmFjZVJlcGxhY2VtZW50Iiwid2F0Y2hSZW1vdmVyIiwiYXR0cmlidXRlTmFtZSIsInRtcE1hdGNoIiwid2hlbktleSIsImNvdW50SXNOYU4iLCJ3aGVuRXhwRm4iLCJOR19SRU1PVkVEIiwibmdSZXBlYXRNaW5FcnIiLCJ1cGRhdGVTY29wZSIsInZhbHVlSWRlbnRpZmllciIsImtleUlkZW50aWZpZXIiLCJhcnJheUxlbmd0aCIsIiRmaXJzdCIsIiRsYXN0IiwiJG1pZGRsZSIsIiRvZGQiLCIkZXZlbiIsImdldEJsb2NrU3RhcnQiLCJnZXRCbG9ja0VuZCIsIm5nUmVwZWF0RW5kQ29tbWVudCIsImFsaWFzQXMiLCJ0cmFja0J5RXhwIiwidHJhY2tCeUV4cEdldHRlciIsInRyYWNrQnlJZEV4cEZuIiwidHJhY2tCeUlkQXJyYXlGbiIsInRyYWNrQnlJZE9iakZuIiwiaGFzaEZuTG9jYWxzIiwibGFzdEJsb2NrTWFwIiwibmV4dE5vZGUiLCJjb2xsZWN0aW9uTGVuZ3RoIiwidHJhY2tCeUlkIiwidHJhY2tCeUlkRm4iLCJjb2xsZWN0aW9uS2V5cyIsIm5leHRCbG9ja09yZGVyIiwicHJldmlvdXNOb2RlIiwibmV4dEJsb2NrTWFwIiwiYmxvY2tLZXkiLCJOR19ISURFX0NMQVNTIiwiTkdfSElERV9JTl9QUk9HUkVTU19DTEFTUyIsIm5ld1N0eWxlcyIsIm9sZFN0eWxlcyIsImNhc2VzIiwibmdTd2l0Y2hDb250cm9sbGVyIiwic2VsZWN0ZWRUcmFuc2NsdWRlcyIsInNlbGVjdGVkRWxlbWVudHMiLCJwcmV2aW91c0xlYXZlQW5pbWF0aW9ucyIsInNlbGVjdGVkU2NvcGVzIiwic3BsaWNlRmFjdG9yeSIsInNlbGVjdGVkVHJhbnNjbHVkZSIsImNhc2VFbGVtZW50Iiwic2VsZWN0ZWRTY29wZSIsIm5vb3BOZ01vZGVsQ29udHJvbGxlciIsIlNlbGVjdENvbnRyb2xsZXIiLCJvcHRpb25zTWFwIiwidW5rbm93blZhbCIsImhhc09wdGlvbiIsImxhc3RWaWV3IiwibGFzdFZpZXdSZWYiLCJjaHJvbWVIYWNrIiwic2VsZWN0Q3RybE5hbWUiLCJwYXR0ZXJuRXhwIiwiaW50VmFsIiwxNCwiLi9hbmd1bGFyIl0sIm1hcHBpbmdzIjoiQ0FBQSxRQUFBQSxHQUFBQyxFQUFBQyxFQUFBQyxHQUFBLFFBQUFDLEdBQUFDLEVBQUFDLEdBQUEsSUFBQUosRUFBQUcsR0FBQSxDQUFBLElBQUFKLEVBQUFJLEdBQUEsQ0FBQSxHQUFBRSxHQUFBLGtCQUFBQyxVQUFBQSxPQUFBLEtBQUFGLEdBQUFDLEVBQUEsTUFBQUEsR0FBQUYsR0FBQSxFQUFBLElBQUFJLEVBQUEsTUFBQUEsR0FBQUosR0FBQSxFQUFBLElBQUFLLEdBQUEsR0FBQUMsT0FBQSx1QkFBQU4sRUFBQSxJQUFBLE1BQUFLLEdBQUFFLEtBQUEsbUJBQUFGLEVBQUEsR0FBQUcsR0FBQVgsRUFBQUcsSUFBQVMsV0FBQWIsR0FBQUksR0FBQSxHQUFBVSxLQUFBRixFQUFBQyxRQUFBLFNBQUFkLEdBQUEsR0FBQUUsR0FBQUQs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VUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLHFCQUFBLFFBQ0FDLG1CQUFBLDBCQUNBQywwQkFBQSw4QkFFQUMsTUFDQWpCLEdBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxxQkFBQSxRQUNBQyxtQkFBQSwwQkFDQUMsMEJBQUEsMEJBRUFFLFFBQ0FsQixHQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMscUJBQUEsUUFDQUMsbUJBQUEsa0JBQ0FDLDBCQUFBLDBCQUVBRyxlQUNBbkIsR0FBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLHFCQUFBLFFBQ0FDLG1CQUFBLGtCQUNBQywwQkFBQSxnQkFFQUksUUFDQXBCLEdBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxxQkFBQSxRQUNBQyxtQkFBQSxrQkFDQUMsMEJBQUEscUJBRUFLLE1BQ0FyQixHQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMscUJBQUEsUUFDQUMsbUJBQUEsdUJBQ0FDLDBCQUFBLDhCQUVBTSxjQUNBdEIsR0FBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLHFCQUFBLE9BQ0FTLG9CQUFBLDJCQUNBUCwwQkFBQSx3QkFFQVEsTUFDQXhCLEdBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxxQkFBQSxPQUNBUyxvQkFBQSxzQkFDQVAsMEJBQUEsbUJBRUFTLE1BQ0F6QixHQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMscUJBQUEsT0FDQVMsb0JBQUEsc0JBQ0FQLDBCQUFBLGVBRUFVLE9BQ0ExQixHQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMscUJBQUEsT0FDQVMsb0JBQUEsc0JBQ0FQLDBCQUFBLGVBRUFXLGVBQ0EzQixHQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMscUJBQUEsT0FDQVMsb0JBQUEsVUFDQVAsMEJBQUEsV0FFQVksTUFDQTVCLEdBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxxQkFBQSxPQUNBUyxvQkFBQSxNQUNBUCwwQkFBQSxPQUVBYSxRQUNBN0IsR0FBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLHFCQUFBLFFBRUFnQixPQUNBOUIsR0FBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQTtBQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLHFCQUFBLFFBRUFpQixRQUNBL0IsR0FBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLHFCQUFBLE9BQ0FTLG9CQUFBLFVBQ0FQLDBCQUFBLFdBRUFnQixlQUNBaEMsR0FBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLHFCQUFBLFFBQ0FDLG1CQUFBLCtCQUNBQywwQkFBQSxpQ0FFQWlCLE9BQ0FqQyxHQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMscUJBQUEsUUFDQUMsbUJBQUEsYUFDQUMsMEJBQUEsV0FFQWtCLE1BQ0FsQyxHQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0EwQixLQUFBLFVBQ0F6QixLQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FBQSxVQUNBQyxLQUFBLFVBQ0FDLHFCQUFBLE9BQ0FTLG9CQUFBLG1CQUVBYSxhQUNBcEMsR0FBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxLQUFBLFVBQ0FDLEtBQUEsVUFDQUMsS0FB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MkYsU0FBQSxZQUFBLFNBQUFuRixHQUNBLEdBQUFza0ksR0FBQXYxRCxFQUFBL3VFLEVBQ0E0L0MsR0FBQW4xQixNQUFBNjVHLEdBQUEsR0FBQUEsRUFDQWx6RyxFQUFBbzJGLGNBRUFwMkYsRUFBQXBQLFlBQUE0OUIsVUFBQSxTQUFBSSxFQUFBdlMsR0FDQSxNQUFBLEdBQUFtUyxHQUFBeHVCLEVBQUFqUSxTQUFBc3NCLElBQUFBLEVBQUF6MkMsUUFBQTRvRCxPQU1BbzlCLEdBQUEsV0FDQSxPQUNBbjhELFNBQUEsSUFDQXJxQixRQUFBLFdBQ0E0ckIsS0FBQSxTQUFBcmQsRUFBQTdHLEVBQUFzQixFQUFBNHhCLEdBQ0EsR0FBQUEsRUFBQSxDQUVBLEdBQUEyckQsR0FBQSxDQUNBdjlFLEdBQUEyRixTQUFBLFlBQUEsU0FBQW5GLEdBQ0ErOEUsRUFBQWhPLEVBQUEvdUUsSUFBQSxFQUNBb3hCLEVBQUFvMkYsY0FFQXAyRixFQUFBcFAsWUFBQSs2RCxVQUFBLFNBQUEvOEIsRUFBQXZTLEdBQ0EsTUFBQXJjLEdBQUFqUSxTQUFBc3NCLElBQUFBLEVBQUF6MkMsUUFBQStsRixNQU1BLE9BQUFoaEYsR0FBQTlDLFFBQUF3QixjQUVBaXJDLFNBQUEybEUsSUFBQSxtREFNQTkxQixLQUVBNkMsR0FBQW4vRSxRQUVBNkUsSUFBQTNFLEdBQUE4eUgsTUFBQSxXQUNBcjRDLEdBQUF6NkUsRUFBQXNCLFFaMHdtQkdzQixPQUFRNUMsV2FsOTlDWDRDLE9BQUE5QyxRQUFBdS9FLFNBQUF6OEUsT0FBQTlDLFFBQUFDLFFBQUFDLFNBQUEwdkMsTUFBQTJJLFFBQUEsdVJBQ0EreUYsSUFBQSxTQUFBL3RJLEVBQUFVLEVBQUFKLEdicTk5Q0FOLEVBQVEsYUFDUlUsRUFBT0osUUFBVW1DLFVBRWR1ckksWUFBWSxVQUFVIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIid1c2Ugc3RyaWN0JztcbnZhciBhbmd1bGFyID0gcmVxdWlyZSgnYW5ndWxhcicpO1xucmVxdWlyZSgnYW5ndWxhci1tYXRlcmlhbCcpO1xuLy8gQG5nSW5qZWN0XG5mdW5jdGlvbiBVc2VyQ29udHJvbGxlcigkc2NvcGUsIHVzZXJTZXJ2aWNlLCAkbWRTaWRlbmF2LCAkbWRCb3R0b21TaGVldCwgJGxvZywgJHEpIHtcbiAgICAkc2NvcGUuc2VsZWN0ZWQgPSBudWxsO1xuICAgICRzY29wZS51c2VycyA9IFtdO1xuICAgICRzY29wZS5zZWxlY3RVc2VyID0gc2VsZWN0VXNlcjtcbiAgICAkc2NvcGUudG9nZ2xlTGlzdCA9IHRvZ2dsZVVzZXJzTGlzdDtcbiAgICAkc2NvcGUuc2hvd0NvbnRhY3RPcHRpb25zID0gc2hvd0NvbnRhY3RPcHRpb25zO1xuICAgICRzY29wZS5pc1NpZGVuYXZPcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJG1kU2lkZW5hdignbGVmdCcpLmlzT3BlbigpO1xuICAgIH07XG4gICAgLy8gTG9hZCBhbGwgcmVnaXN0ZXJlZCB1c2Vyc1xuICAgIHVzZXJTZXJ2aWNlXG4gICAgICAgIC5sb2FkQWxsVXNlcnMoKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAodXNlcnMpIHtcbiAgICAgICAgJHNjb3BlLnVzZXJzID0gW10uY29uY2F0KHVzZXJzKTtcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkID0gdXNlcnNbMF07XG4gICAgfSk7XG4gICAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgLy8gSW50ZXJuYWwgbWV0aG9kc1xuICAgIC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgIC8qKlxuICAgICAqIEZpcnN0IGhpZGUgdGhlIGJvdHRvbXNoZWV0IElGIHZpc2libGUsIHRoZW5cbiAgICAgKiBoaWRlIG9yIFNob3cgdGhlICdsZWZ0JyBzaWRlTmF2IGFyZWFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b2dnbGVVc2Vyc0xpc3QoKSB7XG4gICAgICAgIHZhciBwZW5kaW5nID0gYm90dG9tU2hlZXRQcm9taXNlIHx8ICRxLndoZW4odHJ1ZSk7XG4gICAgICAgIHBlbmRpbmcudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkbWRTaWRlbmF2KCdsZWZ0JykudG9nZ2xlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAkbWRCb3R0b21TaGVldC5oaWRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbGVjdCB0aGUgY3VycmVudCBhdmF0YXJzXG4gICAgICogQHBhcmFtIG1lbnVJZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNlbGVjdFVzZXIodXNlcikge1xuICAgICAgICAkc2NvcGUuc2VsZWN0ZWQgPSB1c2VyO1xuICAgICAgICAkc2NvcGUudG9nZ2xlTGlzdCgpO1xuICAgIH1cbiAgICB2YXIgYm90dG9tU2hlZXRQcm9taXNlO1xuICAgIC8qKlxuICAgICAqIFNob3cgdGhlIGJvdHRvbSBzaGVldFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNob3dDb250YWN0T3B0aW9ucygkZXZlbnQpIHtcbiAgICAgICAgdmFyIHVzZXIgPSAkc2NvcGUuc2VsZWN0ZWQ7XG4gICAgICAgIGJvdHRvbVNoZWV0UHJvbWlzZSA9ICRtZEJvdHRvbVNoZWV0LnNob3coe1xuICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKSksXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3BhcnRpYWxzL2NvbnRhY3RTaGVldC5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IENvbnRhY3RQYW5lbENvbnRyb2xsZXIsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6IFwiY3BcIixcbiAgICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICAgICAgICB0YXJnZXRFdmVudDogJGV2ZW50XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGNsaWNrZWRJdGVtKSB7XG4gICAgICAgICAgICBjbGlja2VkSXRlbSAmJiAkbG9nLmRlYnVnKGNsaWNrZWRJdGVtLm5hbWUgKyAnIGNsaWNrZWQhJyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYm90dG9tU2hlZXRQcm9taXNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogIEJvdHRvbSBTaGVldCBjb250cm9sbGVyIGZvciB0aGUgQXZhdGFyIEFjdGlvbnNcbiAgICAgICAgICpcbiAgICAgICAgICogIEBuZ0luamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gQ29udGFjdFBhbmVsQ29udHJvbGxlcigkbWRCb3R0b21TaGVldCkge1xuICAgICAgICAgICAgdGhpcy51c2VyID0gdXNlcjtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IFtcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdQaG9uZScsIGljb246ICdwaG9uZScsIGljb25fdXJsOiAnYXNzZXRzL3N2Zy9waG9uZS5zdmcnIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnVHdpdHRlcicsIGljb246ICd0d2l0dGVyJywgaWNvbl91cmw6ICdhc3NldHMvc3ZnL3R3aXR0ZXIuc3ZnJyB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0dvb2dsZSsnLCBpY29uOiAnZ29vZ2xlX3BsdXMnLCBpY29uX3VybDogJ2Fzc2V0cy9zdmcvZ29vZ2xlX3BsdXMuc3ZnJyB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0hhbmdvdXQnLCBpY29uOiAnaGFuZ291dHMnLCBpY29uX3VybDogJ2Fzc2V0cy9zdmcvaGFuZ291dHMuc3ZnJyB9XG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgdGhpcy5zdWJtaXRDb250YWN0ID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICAgICAgICAgICRtZEJvdHRvbVNoZWV0LmhpZGUoYWN0aW9uKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlVzZXJDb250cm9sbGVyID0gVXNlckNvbnRyb2xsZXI7XG4iLG51bGwsIid1c2Ugc3RyaWN0JztcbnZhciBhbmd1bGFyID0gcmVxdWlyZSgnYW5ndWxhcicpO1xudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdzYW1wbGUuYXBwJyk7XG52YXIgVUMgPSByZXF1aXJlKCcuL1VzZXJDb250cm9sbGVyJyk7XG5hcHAuY29udHJvbGxlcignVXNlckNvbnRyb2xsZXInLCBVQy5Vc2VyQ29udHJvbGxlcik7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgYW5ndWxhciA9IHJlcXVpcmUoJ2FuZ3VsYXInKTtcbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnc2FtcGxlLmFwcCcpO1xuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFuZ3VsYXIgPSByZXF1aXJlKCdhbmd1bGFyJyk7XG5yZXF1aXJlKCdhbmd1bGFyLWFyaWEnKTtcbnJlcXVpcmUoJ2FuZ3VsYXItYW5pbWF0ZScpO1xucmVxdWlyZSgnYW5ndWxhci1tYXRlcmlhbCcpO1xuYW5ndWxhci5tb2R1bGUoJ3NhbXBsZS5hcHAnLCBbJ25nTWF0ZXJpYWwnXSk7XG5yZXF1aXJlKCcuL3NlcnZpY2VzJyk7XG5yZXF1aXJlKCcuL2RpcmVjdGl2ZXMnKTtcbnJlcXVpcmUoJy4vY29udHJvbGxlcnMnKTtcbmFuZ3VsYXIuYm9vdHN0cmFwKGRvY3VtZW50LCBbJ3NhbXBsZS5hcHAnXSk7XG4iLCIndXNlIHN0cmljdCc7XG4vLyBAbmdJbmplY3RcbmZ1bmN0aW9uIFVzZXJTZXJ2aWNlRmFjdG9yeSgkcSkge1xuICAgIHZhciB1c2VycyA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ0xpYSBMdWdvJyxcbiAgICAgICAgICAgIGF2YXRhcjogJ3N2Zy0xJyxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICdJIGxvdmUgY2hlZXNlLCBlc3BlY2lhbGx5IGFpcmVkYWxlIHF1ZXNvLiBDaGVlc2UgYW5kIGJpc2N1aXRzIGhhbGxvdW1pIGNhdWxpZmxvd2VyIGNoZWVzZSBjb3R0YWdlIGNoZWVzZSBzd2lzcyBib3Vyc2luIGZvbmR1ZSBjYWVycGhpbGx5LiBDb3cgcG9ydC1zYWx1dCBjYW1lbWJlcnQgZGUgbm9ybWFuZGllIG1hY2Fyb25pIGNoZWVzZSBmZXRhIHdobyBtb3ZlZCBteSBjaGVlc2UgYmFieWJlbCBib3Vyc2luLiBSZWQgbGVpY2VzdGVyIHJvcXVlZm9ydCBib3Vyc2luIHNxdWlydHkgY2hlZXNlIGphcmxzYmVyZyBibHVlIGNhc3RlbGxvIGNhZXJwaGlsbHkgY2hhbGsgYW5kIGNoZWVzZS4gTGFuY2FzaGlyZS4nXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdHZW9yZ2UgRHVrZScsXG4gICAgICAgICAgICBhdmF0YXI6ICdzdmctMicsXG4gICAgICAgICAgICBjb250ZW50OiAnWm9tYmllIGlwc3VtIHJldmVyc3VzIGFiIHZpcmFsIGluZmVybm8sIG5hbSByaWNrIGdyaW1lcyBtYWx1bSBjZXJlYnJvLiBEZSBjYXJuZSBsdW1iZXJpbmcgYW5pbWF0YSBjb3Jwb3JhIHF1YWVyaXRpcy4gU3VtbXVzIGJyYWlucyBzaXTigIvigIssIG1vcmJvIHZlbCBtYWxlZmljaWE/IERlIGFwb2NhbHlwc2kgZ29yZ2VyIG9tZXJvIHVuZGVhZCBzdXJ2aXZvciBkaWN0dW0gbWF1cmlzLidcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ0dlbmVyIERlbG9zcmV5ZXMnLFxuICAgICAgICAgICAgYXZhdGFyOiAnc3ZnLTMnLFxuICAgICAgICAgICAgY29udGVudDogXCJSYXcgZGVuaW0gcG91ci1vdmVyIHJlYWR5bWFkZSBFdHN5IFBpdGNoZm9yay4gRm91ciBkb2xsYXIgdG9hc3QgcGlja2xlZCBsb2Nhdm9yZSBiaXR0ZXJzIE1jU3dlZW5leSdzIGJsb2cuIFRyeS1oYXJkIGFydCBwYXJ0eSBTaG9yZWRpdGNoIHNlbGZpZXMuIE9kZCBGdXR1cmUgYnV0Y2hlciBWSFMsIGRpc3J1cHQgcG9wLXVwIFRodW5kZXJjYXRzIGNoaWxsd2F2ZSB2aW55bCBqZWFuIHNob3J0cyB0YXhpZGVybXkgbWFzdGVyIGNsZWFuc2UgbGV0dGVycHJlc3MgV2VzIEFuZGVyc29uIG11c3RhY2hlIEhlbHZldGljYS4gU2NobGl0eiBiaWN5Y2xlIHJpZ2h0cyBjaGlsbHdhdmUgaXJvbnkgbHVtYmVyaHVuZ3J5IEtpY2tzdGFydGVyIG5leHQgbGV2ZWwgc3JpcmFjaGEgdHlwZXdyaXRlciBJbnRlbGxpZ2VudHNpYSwgbWlnYXMga29naSBoZWlybG9vbSB0b3VzbGVkLiBEaXNydXB0IDMgd29sZiBtb29uIGxvbW8gZm91ciBsb2tvLiBQdWcgbWxrc2hrIGZhbm55IHBhY2sgbGl0ZXJhbGx5IGhvb2RpZSBiZXNwb2tlLCBwdXQgYSBiaXJkIG9uIGl0IE1hcmZhIG1lc3NlbmdlciBiYWcga29naSBWSFMuXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ0xhd3JlbmNlIFJheScsXG4gICAgICAgICAgICBhdmF0YXI6ICdzdmctNCcsXG4gICAgICAgICAgICBjb250ZW50OiAnU2NyYXRjaCB0aGUgZnVybml0dXJlIHNwaXQgdXAgb24gbGlnaHQgZ3JheSBjYXJwZXQgaW5zdGVhZCBvZiBhZGphY2VudCBsaW5vbGV1bSBzbyBlYXQgYSBwbGFudCwga2lsbCBhIGhhbmQgcGVsdCBhcm91bmQgdGhlIGhvdXNlIGFuZCB1cCBhbmQgZG93biBzdGFpcnMgY2hhc2luZyBwaGFudG9tcyBydW4gaW4gY2lyY2xlcywgb3IgY2xhdyBkcmFwZXMuIEFsd2F5cyBodW5ncnkgcGVsdCBhcm91bmQgdGhlIGhvdXNlIGFuZCB1cCBhbmQgZG93biBzdGFpcnMgY2hhc2luZyBwaGFudG9tcy4nXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdFcm5lc3RvIFVyYmluYScsXG4gICAgICAgICAgICBhdmF0YXI6ICdzdmctNScsXG4gICAgICAgICAgICBjb250ZW50OiAnV2VidHdvIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBlc2tvYm8gY2h1bWJ5IGRvb3N0YW5nIGJlYm8uIEJ1YmJsaSBncmVwbGluIHN0eXBpIHByZXppIG16aW5nYSBoZXJva3Ugd2Frb29wYSwgc2hvcGlmeSBhaXJibmIgZG9nc3RlciBkb3BwbHIgZ29vcnUganVtbywgcmVkZGl0IHBsaWNrZXJzIGVkbW9kbyBzdHlwaSB6aWxsb3cgZXRzeS4nXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdHYW5pIEZlcnJlcicsXG4gICAgICAgICAgICBhdmF0YXI6ICdzdmctNicsXG4gICAgICAgICAgICBjb250ZW50OiBcIkxlYm93c2tpIGlwc3VtIHllYWg/IFdoYXQgZG8geW91IHRoaW5rIGhhcHBlbnMgd2hlbiB5b3UgZ2V0IHJhZD8gWW91IHR1cm4gaW4geW91ciBsaWJyYXJ5IGNhcmQ/IEdldCBhIG5ldyBkcml2ZXIncyBsaWNlbnNlPyBTdG9wIGJlaW5nIGF3ZXNvbWU/IERvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQgcHJhZXNlbnQgYWMgbWFnbmEganVzdG8gcGVsbGVudGVzcXVlIGFjIGxlY3R1cy4gWW91IGRvbid0IGdvIG91dCBhbmQgbWFrZSBhIGxpdmluZyBkcmVzc2VkIGxpa2UgdGhhdCBpbiB0aGUgbWlkZGxlIG9mIGEgd2Vla2RheS4gUXVpcyBlbGl0IGJsYW5kaXQgZnJpbmdpbGxhIGEgdXQgdHVycGlzIHByYWVzZW50IGZlbGlzIGxpZ3VsYSwgbWFsZXN1YWRhIHN1c2NpcGl0IG1hbGVzdWFkYS5cIlxuICAgICAgICB9XG4gICAgXTtcbiAgICAvLyBQcm9taXNlLWJhc2VkIEFQSVxuICAgIHJldHVybiB7XG4gICAgICAgIGxvYWRBbGxVc2VyczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gU2ltdWxhdGUgYXN5bmMgbmF0dXJlIG9mIHJlYWwgcmVtb3RlIGNhbGxzXG4gICAgICAgICAgICByZXR1cm4gJHEud2hlbih1c2Vycyk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuZXhwb3J0cy5Vc2VyU2VydmljZUZhY3RvcnkgPSBVc2VyU2VydmljZUZhY3Rvcnk7XG4iLCIndXNlIHN0cmljdCc7XG52YXIgYW5ndWxhciA9IHJlcXVpcmUoJ2FuZ3VsYXInKTtcbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnc2FtcGxlLmFwcCcpO1xuYXBwLmNvbmZpZyhmdW5jdGlvbiAoJG1kVGhlbWluZ1Byb3ZpZGVyLCAkbWRJY29uUHJvdmlkZXIpIHtcbiAgICAkbWRJY29uUHJvdmlkZXJcbiAgICAgICAgLmRlZmF1bHRJY29uU2V0KFwiLi9hc3NldHMvc3ZnL2F2YXRhcnMuc3ZnXCIsIDEyOClcbiAgICAgICAgLmljb24oXCJtZW51XCIsIFwiLi9hc3NldHMvc3ZnL21lbnUuc3ZnXCIsIDI0KVxuICAgICAgICAuaWNvbihcInNoYXJlXCIsIFwiLi9hc3NldHMvc3ZnL3NoYXJlLnN2Z1wiLCAyNClcbiAgICAgICAgLmljb24oXCJnb29nbGVfcGx1c1wiLCBcIi4vYXNzZXRzL3N2Zy9nb29nbGVfcGx1cy5zdmdcIiwgNTEyKVxuICAgICAgICAuaWNvbihcImhhbmdvdXRzXCIsIFwiLi9hc3NldHMvc3ZnL2hhbmdvdXRzLnN2Z1wiLCA1MTIpXG4gICAgICAgIC5pY29uKFwidHdpdHRlclwiLCBcIi4vYXNzZXRzL3N2Zy90d2l0dGVyLnN2Z1wiLCA1MTIpXG4gICAgICAgIC5pY29uKFwicGhvbmVcIiwgXCIuL2Fzc2V0cy9zdmcvcGhvbmUuc3ZnXCIsIDUxMik7XG4gICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkZWZhdWx0JylcbiAgICAgICAgLnByaW1hcnlQYWxldHRlKCdpbmRpZ28nKVxuICAgICAgICAuYWNjZW50UGFsZXR0ZSgnYmx1ZS1ncmV5Jyk7XG59KTtcbnZhciBVUyA9IHJlcXVpcmUoJy4vVXNlclNlcnZpY2UnKTtcbmFwcC5zZXJ2aWNlKCd1c2VyU2VydmljZScsIFVTLlVzZXJTZXJ2aWNlRmFjdG9yeSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS40LjNcbiAqIChjKSAyMDEwLTIwMTUgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuKGZ1bmN0aW9uKHdpbmRvdywgYW5ndWxhciwgdW5kZWZpbmVkKSB7J3VzZSBzdHJpY3QnO1xuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG52YXIgbm9vcCAgICAgICAgPSBhbmd1bGFyLm5vb3A7XG52YXIgZXh0ZW5kICAgICAgPSBhbmd1bGFyLmV4dGVuZDtcbnZhciBqcUxpdGUgICAgICA9IGFuZ3VsYXIuZWxlbWVudDtcbnZhciBmb3JFYWNoICAgICA9IGFuZ3VsYXIuZm9yRWFjaDtcbnZhciBpc0FycmF5ICAgICA9IGFuZ3VsYXIuaXNBcnJheTtcbnZhciBpc1N0cmluZyAgICA9IGFuZ3VsYXIuaXNTdHJpbmc7XG52YXIgaXNPYmplY3QgICAgPSBhbmd1bGFyLmlzT2JqZWN0O1xudmFyIGlzVW5kZWZpbmVkID0gYW5ndWxhci5pc1VuZGVmaW5lZDtcbnZhciBpc0RlZmluZWQgICA9IGFuZ3VsYXIuaXNEZWZpbmVkO1xudmFyIGlzRnVuY3Rpb24gID0gYW5ndWxhci5pc0Z1bmN0aW9uO1xudmFyIGlzRWxlbWVudCAgID0gYW5ndWxhci5pc0VsZW1lbnQ7XG5cbnZhciBFTEVNRU5UX05PREUgPSAxO1xudmFyIENPTU1FTlRfTk9ERSA9IDg7XG5cbnZhciBOR19BTklNQVRFX0NMQVNTTkFNRSA9ICduZy1hbmltYXRlJztcbnZhciBOR19BTklNQVRFX0NISUxEUkVOX0RBVEEgPSAnJCRuZ0FuaW1hdGVDaGlsZHJlbic7XG5cbnZhciBpc1Byb21pc2VMaWtlID0gZnVuY3Rpb24ocCkge1xuICByZXR1cm4gcCAmJiBwLnRoZW4gPyB0cnVlIDogZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGFzc2VydEFyZyhhcmcsIG5hbWUsIHJlYXNvbikge1xuICBpZiAoIWFyZykge1xuICAgIHRocm93IG5nTWluRXJyKCdhcmVxJywgXCJBcmd1bWVudCAnezB9JyBpcyB7MX1cIiwgKG5hbWUgfHwgJz8nKSwgKHJlYXNvbiB8fCBcInJlcXVpcmVkXCIpKTtcbiAgfVxuICByZXR1cm4gYXJnO1xufVxuXG5mdW5jdGlvbiBtZXJnZUNsYXNzZXMoYSxiKSB7XG4gIGlmICghYSAmJiAhYikgcmV0dXJuICcnO1xuICBpZiAoIWEpIHJldHVybiBiO1xuICBpZiAoIWIpIHJldHVybiBhO1xuICBpZiAoaXNBcnJheShhKSkgYSA9IGEuam9pbignICcpO1xuICBpZiAoaXNBcnJheShiKSkgYiA9IGIuam9pbignICcpO1xuICByZXR1cm4gYSArICcgJyArIGI7XG59XG5cbmZ1bmN0aW9uIHBhY2thZ2VTdHlsZXMob3B0aW9ucykge1xuICB2YXIgc3R5bGVzID0ge307XG4gIGlmIChvcHRpb25zICYmIChvcHRpb25zLnRvIHx8IG9wdGlvbnMuZnJvbSkpIHtcbiAgICBzdHlsZXMudG8gPSBvcHRpb25zLnRvO1xuICAgIHN0eWxlcy5mcm9tID0gb3B0aW9ucy5mcm9tO1xuICB9XG4gIHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIHBlbmRDbGFzc2VzKGNsYXNzZXMsIGZpeCwgaXNQcmVmaXgpIHtcbiAgdmFyIGNsYXNzTmFtZSA9ICcnO1xuICBjbGFzc2VzID0gaXNBcnJheShjbGFzc2VzKVxuICAgICAgPyBjbGFzc2VzXG4gICAgICA6IGNsYXNzZXMgJiYgaXNTdHJpbmcoY2xhc3NlcykgJiYgY2xhc3Nlcy5sZW5ndGhcbiAgICAgICAgICA/IGNsYXNzZXMuc3BsaXQoL1xccysvKVxuICAgICAgICAgIDogW107XG4gIGZvckVhY2goY2xhc3NlcywgZnVuY3Rpb24oa2xhc3MsIGkpIHtcbiAgICBpZiAoa2xhc3MgJiYga2xhc3MubGVuZ3RoID4gMCkge1xuICAgICAgY2xhc3NOYW1lICs9IChpID4gMCkgPyAnICcgOiAnJztcbiAgICAgIGNsYXNzTmFtZSArPSBpc1ByZWZpeCA/IGZpeCArIGtsYXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBrbGFzcyArIGZpeDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gY2xhc3NOYW1lO1xufVxuXG5mdW5jdGlvbiByZW1vdmVGcm9tQXJyYXkoYXJyLCB2YWwpIHtcbiAgdmFyIGluZGV4ID0gYXJyLmluZGV4T2YodmFsKTtcbiAgaWYgKHZhbCA+PSAwKSB7XG4gICAgYXJyLnNwbGljZShpbmRleCwgMSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RyaXBDb21tZW50c0Zyb21FbGVtZW50KGVsZW1lbnQpIHtcbiAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBqcUxpdGUpIHtcbiAgICBzd2l0Y2ggKGVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMTpcbiAgICAgICAgLy8gdGhlcmUgaXMgbm8gcG9pbnQgb2Ygc3RyaXBwaW5nIGFueXRoaW5nIGlmIHRoZSBlbGVtZW50XG4gICAgICAgIC8vIGlzIHRoZSBvbmx5IGVsZW1lbnQgd2l0aGluIHRoZSBqcUxpdGUgd3JhcHBlci5cbiAgICAgICAgLy8gKGl0J3MgaW1wb3J0YW50IHRoYXQgd2UgcmV0YWluIHRoZSBlbGVtZW50IGluc3RhbmNlLilcbiAgICAgICAgaWYgKGVsZW1lbnRbMF0ubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4ganFMaXRlKGV4dHJhY3RFbGVtZW50Tm9kZShlbGVtZW50KSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcbiAgICByZXR1cm4ganFMaXRlKGVsZW1lbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RFbGVtZW50Tm9kZShlbGVtZW50KSB7XG4gIGlmICghZWxlbWVudFswXSkgcmV0dXJuIGVsZW1lbnQ7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBlbG0gPSBlbGVtZW50W2ldO1xuICAgIGlmIChlbG0ubm9kZVR5cGUgPT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgICByZXR1cm4gZWxtO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiAkJGFkZENsYXNzKCQkanFMaXRlLCBlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgZm9yRWFjaChlbGVtZW50LCBmdW5jdGlvbihlbG0pIHtcbiAgICAkJGpxTGl0ZS5hZGRDbGFzcyhlbG0sIGNsYXNzTmFtZSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiAkJHJlbW92ZUNsYXNzKCQkanFMaXRlLCBlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgZm9yRWFjaChlbGVtZW50LCBmdW5jdGlvbihlbG0pIHtcbiAgICAkJGpxTGl0ZS5yZW1vdmVDbGFzcyhlbG0sIGNsYXNzTmFtZSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhcHBseUFuaW1hdGlvbkNsYXNzZXNGYWN0b3J5KCQkanFMaXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuYWRkQ2xhc3MpIHtcbiAgICAgICQkYWRkQ2xhc3MoJCRqcUxpdGUsIGVsZW1lbnQsIG9wdGlvbnMuYWRkQ2xhc3MpO1xuICAgICAgb3B0aW9ucy5hZGRDbGFzcyA9IG51bGw7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnJlbW92ZUNsYXNzKSB7XG4gICAgICAkJHJlbW92ZUNsYXNzKCQkanFMaXRlLCBlbGVtZW50LCBvcHRpb25zLnJlbW92ZUNsYXNzKTtcbiAgICAgIG9wdGlvbnMucmVtb3ZlQ2xhc3MgPSBudWxsO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwcmVwYXJlQW5pbWF0aW9uT3B0aW9ucyhvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBpZiAoIW9wdGlvbnMuJCRwcmVwYXJlZCkge1xuICAgIHZhciBkb21PcGVyYXRpb24gPSBvcHRpb25zLmRvbU9wZXJhdGlvbiB8fCBub29wO1xuICAgIG9wdGlvbnMuZG9tT3BlcmF0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICBvcHRpb25zLiQkZG9tT3BlcmF0aW9uRmlyZWQgPSB0cnVlO1xuICAgICAgZG9tT3BlcmF0aW9uKCk7XG4gICAgICBkb21PcGVyYXRpb24gPSBub29wO1xuICAgIH07XG4gICAgb3B0aW9ucy4kJHByZXBhcmVkID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gb3B0aW9ucztcbn1cblxuZnVuY3Rpb24gYXBwbHlBbmltYXRpb25TdHlsZXMoZWxlbWVudCwgb3B0aW9ucykge1xuICBhcHBseUFuaW1hdGlvbkZyb21TdHlsZXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gIGFwcGx5QW5pbWF0aW9uVG9TdHlsZXMoZWxlbWVudCwgb3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIGFwcGx5QW5pbWF0aW9uRnJvbVN0eWxlcyhlbGVtZW50LCBvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zLmZyb20pIHtcbiAgICBlbGVtZW50LmNzcyhvcHRpb25zLmZyb20pO1xuICAgIG9wdGlvbnMuZnJvbSA9IG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlBbmltYXRpb25Ub1N0eWxlcyhlbGVtZW50LCBvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zLnRvKSB7XG4gICAgZWxlbWVudC5jc3Mob3B0aW9ucy50byk7XG4gICAgb3B0aW9ucy50byA9IG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWVyZ2VBbmltYXRpb25PcHRpb25zKGVsZW1lbnQsIHRhcmdldCwgbmV3T3B0aW9ucykge1xuICB2YXIgdG9BZGQgPSAodGFyZ2V0LmFkZENsYXNzIHx8ICcnKSArICcgJyArIChuZXdPcHRpb25zLmFkZENsYXNzIHx8ICcnKTtcbiAgdmFyIHRvUmVtb3ZlID0gKHRhcmdldC5yZW1vdmVDbGFzcyB8fCAnJykgKyAnICcgKyAobmV3T3B0aW9ucy5yZW1vdmVDbGFzcyB8fCAnJyk7XG4gIHZhciBjbGFzc2VzID0gcmVzb2x2ZUVsZW1lbnRDbGFzc2VzKGVsZW1lbnQuYXR0cignY2xhc3MnKSwgdG9BZGQsIHRvUmVtb3ZlKTtcblxuICBleHRlbmQodGFyZ2V0LCBuZXdPcHRpb25zKTtcblxuICBpZiAoY2xhc3Nlcy5hZGRDbGFzcykge1xuICAgIHRhcmdldC5hZGRDbGFzcyA9IGNsYXNzZXMuYWRkQ2xhc3M7XG4gIH0gZWxzZSB7XG4gICAgdGFyZ2V0LmFkZENsYXNzID0gbnVsbDtcbiAgfVxuXG4gIGlmIChjbGFzc2VzLnJlbW92ZUNsYXNzKSB7XG4gICAgdGFyZ2V0LnJlbW92ZUNsYXNzID0gY2xhc3Nlcy5yZW1vdmVDbGFzcztcbiAgfSBlbHNlIHtcbiAgICB0YXJnZXQucmVtb3ZlQ2xhc3MgPSBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUVsZW1lbnRDbGFzc2VzKGV4aXN0aW5nLCB0b0FkZCwgdG9SZW1vdmUpIHtcbiAgdmFyIEFERF9DTEFTUyA9IDE7XG4gIHZhciBSRU1PVkVfQ0xBU1MgPSAtMTtcblxuICB2YXIgZmxhZ3MgPSB7fTtcbiAgZXhpc3RpbmcgPSBzcGxpdENsYXNzZXNUb0xvb2t1cChleGlzdGluZyk7XG5cbiAgdG9BZGQgPSBzcGxpdENsYXNzZXNUb0xvb2t1cCh0b0FkZCk7XG4gIGZvckVhY2godG9BZGQsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICBmbGFnc1trZXldID0gQUREX0NMQVNTO1xuICB9KTtcblxuICB0b1JlbW92ZSA9IHNwbGl0Q2xhc3Nlc1RvTG9va3VwKHRvUmVtb3ZlKTtcbiAgZm9yRWFjaCh0b1JlbW92ZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgIGZsYWdzW2tleV0gPSBmbGFnc1trZXldID09PSBBRERfQ0xBU1MgPyBudWxsIDogUkVNT1ZFX0NMQVNTO1xuICB9KTtcblxuICB2YXIgY2xhc3NlcyA9IHtcbiAgICBhZGRDbGFzczogJycsXG4gICAgcmVtb3ZlQ2xhc3M6ICcnXG4gIH07XG5cbiAgZm9yRWFjaChmbGFncywgZnVuY3Rpb24odmFsLCBrbGFzcykge1xuICAgIHZhciBwcm9wLCBhbGxvdztcbiAgICBpZiAodmFsID09PSBBRERfQ0xBU1MpIHtcbiAgICAgIHByb3AgPSAnYWRkQ2xhc3MnO1xuICAgICAgYWxsb3cgPSAhZXhpc3Rpbmdba2xhc3NdO1xuICAgIH0gZWxzZSBpZiAodmFsID09PSBSRU1PVkVfQ0xBU1MpIHtcbiAgICAgIHByb3AgPSAncmVtb3ZlQ2xhc3MnO1xuICAgICAgYWxsb3cgPSBleGlzdGluZ1trbGFzc107XG4gICAgfVxuICAgIGlmIChhbGxvdykge1xuICAgICAgaWYgKGNsYXNzZXNbcHJvcF0ubGVuZ3RoKSB7XG4gICAgICAgIGNsYXNzZXNbcHJvcF0gKz0gJyAnO1xuICAgICAgfVxuICAgICAgY2xhc3Nlc1twcm9wXSArPSBrbGFzcztcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHNwbGl0Q2xhc3Nlc1RvTG9va3VwKGNsYXNzZXMpIHtcbiAgICBpZiAoaXNTdHJpbmcoY2xhc3NlcykpIHtcbiAgICAgIGNsYXNzZXMgPSBjbGFzc2VzLnNwbGl0KCcgJyk7XG4gICAgfVxuXG4gICAgdmFyIG9iaiA9IHt9O1xuICAgIGZvckVhY2goY2xhc3NlcywgZnVuY3Rpb24oa2xhc3MpIHtcbiAgICAgIC8vIHNvbWV0aW1lcyB0aGUgc3BsaXQgbGVhdmVzIGVtcHR5IHN0cmluZyB2YWx1ZXNcbiAgICAgIC8vIGluY2FzZSBleHRyYSBzcGFjZXMgd2VyZSBhcHBsaWVkIHRvIHRoZSBvcHRpb25zXG4gICAgICBpZiAoa2xhc3MubGVuZ3RoKSB7XG4gICAgICAgIG9ialtrbGFzc10gPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICByZXR1cm4gY2xhc3Nlcztcbn1cblxuZnVuY3Rpb24gZ2V0RG9tTm9kZShlbGVtZW50KSB7XG4gIHJldHVybiAoZWxlbWVudCBpbnN0YW5jZW9mIGFuZ3VsYXIuZWxlbWVudCkgPyBlbGVtZW50WzBdIDogZWxlbWVudDtcbn1cblxudmFyICQkckFGU2NoZWR1bGVyRmFjdG9yeSA9IFsnJCRyQUYnLCBmdW5jdGlvbigkJHJBRikge1xuICB2YXIgdGlja1F1ZXVlID0gW107XG4gIHZhciBjYW5jZWxGbjtcblxuICBmdW5jdGlvbiBzY2hlZHVsZXIodGFza3MpIHtcbiAgICAvLyB3ZSBtYWtlIGEgY29weSBzaW5jZSBSQUZTY2hlZHVsZXIgbXV0YXRlcyB0aGUgc3RhdGVcbiAgICAvLyBvZiB0aGUgcGFzc2VkIGluIGFycmF5IHZhcmlhYmxlIGFuZCB0aGlzIHdvdWxkIGJlIGRpZmZpY3VsdFxuICAgIC8vIHRvIHRyYWNrIGRvd24gb24gdGhlIG91dHNpZGUgY29kZVxuICAgIHRpY2tRdWV1ZS5wdXNoKFtdLmNvbmNhdCh0YXNrcykpO1xuICAgIG5leHRUaWNrKCk7XG4gIH1cblxuICAvKiB3YWl0VW50aWxRdWlldCBkb2VzIHR3byB0aGluZ3M6XG4gICAqIDEuIEl0IHdpbGwgcnVuIHRoZSBGSU5BTCBgZm5gIHZhbHVlIG9ubHkgd2hlbiBhbiB1bmNhbmNlbGxlZCBSQUYgaGFzIHBhc3NlZCB0aHJvdWdoXG4gICAqIDIuIEl0IHdpbGwgZGVsYXkgdGhlIG5leHQgd2F2ZSBvZiB0YXNrcyBmcm9tIHJ1bm5pbmcgdW50aWwgdGhlIHF1aWV0IGBmbmAgaGFzIHJ1bi5cbiAgICpcbiAgICogVGhlIG1vdGl2YXRpb24gaGVyZSBpcyB0aGF0IGFuaW1hdGlvbiBjb2RlIGNhbiByZXF1ZXN0IG1vcmUgdGltZSBmcm9tIHRoZSBzY2hlZHVsZXJcbiAgICogYmVmb3JlIHRoZSBuZXh0IHdhdmUgcnVucy4gVGhpcyBhbGxvd3MgZm9yIGNlcnRhaW4gRE9NIHByb3BlcnRpZXMgc3VjaCBhcyBjbGFzc2VzIHRvXG4gICAqIGJlIHJlc29sdmVkIGluIHRpbWUgZm9yIHRoZSBuZXh0IGFuaW1hdGlvbiB0byBydW4uXG4gICAqL1xuICBzY2hlZHVsZXIud2FpdFVudGlsUXVpZXQgPSBmdW5jdGlvbihmbikge1xuICAgIGlmIChjYW5jZWxGbikgY2FuY2VsRm4oKTtcblxuICAgIGNhbmNlbEZuID0gJCRyQUYoZnVuY3Rpb24oKSB7XG4gICAgICBjYW5jZWxGbiA9IG51bGw7XG4gICAgICBmbigpO1xuICAgICAgbmV4dFRpY2soKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gc2NoZWR1bGVyO1xuXG4gIGZ1bmN0aW9uIG5leHRUaWNrKCkge1xuICAgIGlmICghdGlja1F1ZXVlLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgdmFyIHVwZGF0ZWRRdWV1ZSA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGlja1F1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaW5uZXJRdWV1ZSA9IHRpY2tRdWV1ZVtpXTtcbiAgICAgIHJ1bk5leHRUYXNrKGlubmVyUXVldWUpO1xuICAgICAgaWYgKGlubmVyUXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHVwZGF0ZWRRdWV1ZS5wdXNoKGlubmVyUXVldWUpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aWNrUXVldWUgPSB1cGRhdGVkUXVldWU7XG5cbiAgICBpZiAoIWNhbmNlbEZuKSB7XG4gICAgICAkJHJBRihmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFjYW5jZWxGbikgbmV4dFRpY2soKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJ1bk5leHRUYXNrKHRhc2tzKSB7XG4gICAgdmFyIG5leHRUYXNrID0gdGFza3Muc2hpZnQoKTtcbiAgICBuZXh0VGFzaygpO1xuICB9XG59XTtcblxudmFyICQkQW5pbWF0ZUNoaWxkcmVuRGlyZWN0aXZlID0gW2Z1bmN0aW9uKCkge1xuICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgdmFyIHZhbCA9IGF0dHJzLm5nQW5pbWF0ZUNoaWxkcmVuO1xuICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKHZhbCkgJiYgdmFsLmxlbmd0aCA9PT0gMCkgeyAvL2VtcHR5IGF0dHJpYnV0ZVxuICAgICAgZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfQ0hJTERSRU5fREFUQSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF0dHJzLiRvYnNlcnZlKCduZ0FuaW1hdGVDaGlsZHJlbicsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPT09ICdvbicgfHwgdmFsdWUgPT09ICd0cnVlJztcbiAgICAgICAgZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfQ0hJTERSRU5fREFUQSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV07XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRhbmltYXRlQ3NzXG4gKiBAa2luZCBvYmplY3RcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgJGFuaW1hdGVDc3NgIHNlcnZpY2UgaXMgYSB1c2VmdWwgdXRpbGl0eSB0byB0cmlnZ2VyIGN1c3RvbWl6ZWQgQ1NTLWJhc2VkIHRyYW5zaXRpb25zL2tleWZyYW1lc1xuICogZnJvbSBhIEphdmFTY3JpcHQtYmFzZWQgYW5pbWF0aW9uIG9yIGRpcmVjdGx5IGZyb20gYSBkaXJlY3RpdmUuIFRoZSBwdXJwb3NlIG9mIGAkYW5pbWF0ZUNzc2AgaXMgTk9UXG4gKiB0byBzaWRlLXN0ZXAgaG93IGAkYW5pbWF0ZWAgYW5kIG5nQW5pbWF0ZSB3b3JrLCBidXQgdGhlIGdvYWwgaXMgdG8gYWxsb3cgcHJlLWV4aXN0aW5nIGFuaW1hdGlvbnMgb3JcbiAqIGRpcmVjdGl2ZXMgdG8gY3JlYXRlIG1vcmUgY29tcGxleCBhbmltYXRpb25zIHRoYXQgY2FuIGJlIHB1cmVseSBkcml2ZW4gdXNpbmcgQ1NTIGNvZGUuXG4gKlxuICogTm90ZSB0aGF0IG9ubHkgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IENTUyB0cmFuc2l0aW9ucyBhbmQvb3Iga2V5ZnJhbWUgYW5pbWF0aW9ucyBhcmUgY2FwYWJsZSBvZlxuICogcmVuZGVyaW5nIGFuaW1hdGlvbnMgdHJpZ2dlcmVkIHZpYSBgJGFuaW1hdGVDc3NgIChiYWQgbmV3cyBmb3IgSUU5IGFuZCBsb3dlcikuXG4gKlxuICogIyMgVXNhZ2VcbiAqIE9uY2UgYWdhaW4sIGAkYW5pbWF0ZUNzc2AgaXMgZGVzaWduZWQgdG8gYmUgdXNlZCBpbnNpZGUgb2YgYSByZWdpc3RlcmVkIEphdmFTY3JpcHQgYW5pbWF0aW9uIHRoYXRcbiAqIGlzIHBvd2VyZWQgYnkgbmdBbmltYXRlLiBJdCBpcyBwb3NzaWJsZSB0byB1c2UgYCRhbmltYXRlQ3NzYCBkaXJlY3RseSBpbnNpZGUgb2YgYSBkaXJlY3RpdmUsIGhvd2V2ZXIsXG4gKiBhbnkgYXV0b21hdGljIGNvbnRyb2wgb3ZlciBjYW5jZWxsaW5nIGFuaW1hdGlvbnMgYW5kL29yIHByZXZlbnRpbmcgYW5pbWF0aW9ucyBmcm9tIGJlaW5nIHJ1biBvblxuICogY2hpbGQgZWxlbWVudHMgd2lsbCBub3QgYmUgaGFuZGxlZCBieSBBbmd1bGFyLiBGb3IgdGhpcyB0byB3b3JrIGFzIGV4cGVjdGVkLCBwbGVhc2UgdXNlIGAkYW5pbWF0ZWAgdG9cbiAqIHRyaWdnZXIgdGhlIGFuaW1hdGlvbiBhbmQgdGhlbiBzZXR1cCBhIEphdmFTY3JpcHQgYW5pbWF0aW9uIHRoYXQgaW5qZWN0cyBgJGFuaW1hdGVDc3NgIHRvIHRyaWdnZXJcbiAqIHRoZSBDU1MgYW5pbWF0aW9uLlxuICpcbiAqIFRoZSBleGFtcGxlIGJlbG93IHNob3dzIGhvdyB3ZSBjYW4gY3JlYXRlIGEgZm9sZGluZyBhbmltYXRpb24gb24gYW4gZWxlbWVudCB1c2luZyBgbmctaWZgOlxuICpcbiAqIGBgYGh0bWxcbiAqIDwhLS0gbm90aWNlIHRoZSBgZm9sZC1hbmltYXRpb25gIENTUyBjbGFzcyAtLT5cbiAqIDxkaXYgbmctaWY9XCJvbk9mZlwiIGNsYXNzPVwiZm9sZC1hbmltYXRpb25cIj5cbiAqICAgVGhpcyBlbGVtZW50IHdpbGwgZ28gQk9PTVxuICogPC9kaXY+XG4gKiA8YnV0dG9uIG5nLWNsaWNrPVwib25PZmY9dHJ1ZVwiPkZvbGQgSW48L2J1dHRvbj5cbiAqIGBgYFxuICpcbiAqIE5vdyB3ZSBjcmVhdGUgdGhlICoqSmF2YVNjcmlwdCBhbmltYXRpb24qKiB0aGF0IHdpbGwgdHJpZ2dlciB0aGUgQ1NTIHRyYW5zaXRpb246XG4gKlxuICogYGBganNcbiAqIG5nTW9kdWxlLmFuaW1hdGlvbignLmZvbGQtYW5pbWF0aW9uJywgWyckYW5pbWF0ZUNzcycsIGZ1bmN0aW9uKCRhbmltYXRlQ3NzKSB7XG4gKiAgIHJldHVybiB7XG4gKiAgICAgZW50ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmVGbikge1xuICogICAgICAgdmFyIGhlaWdodCA9IGVsZW1lbnRbMF0ub2Zmc2V0SGVpZ2h0O1xuICogICAgICAgcmV0dXJuICRhbmltYXRlQ3NzKGVsZW1lbnQsIHtcbiAqICAgICAgICAgZnJvbTogeyBoZWlnaHQ6JzBweCcgfSxcbiAqICAgICAgICAgdG86IHsgaGVpZ2h0OmhlaWdodCArICdweCcgfSxcbiAqICAgICAgICAgZHVyYXRpb246IDEgLy8gb25lIHNlY29uZFxuICogICAgICAgfSk7XG4gKiAgICAgfVxuICogICB9XG4gKiB9XSk7XG4gKiBgYGBcbiAqXG4gKiAjIyBNb3JlIEFkdmFuY2VkIFVzZXNcbiAqXG4gKiBgJGFuaW1hdGVDc3NgIGlzIHRoZSB1bmRlcmx5aW5nIGNvZGUgdGhhdCBuZ0FuaW1hdGUgdXNlcyB0byBwb3dlciAqKkNTUy1iYXNlZCBhbmltYXRpb25zKiogYmVoaW5kIHRoZSBzY2VuZXMuIFRoZXJlZm9yZSBDU1MgaG9va3NcbiAqIGxpa2UgYC5uZy1FVkVOVGAsIGAubmctRVZFTlQtYWN0aXZlYCwgYC5uZy1FVkVOVC1zdGFnZ2VyYCBhcmUgYWxsIGZlYXR1cmVzIHRoYXQgY2FuIGJlIHRyaWdnZXJlZCB1c2luZyBgJGFuaW1hdGVDc3NgIHZpYSBKYXZhU2NyaXB0IGNvZGUuXG4gKlxuICogVGhpcyBhbHNvIG1lYW5zIHRoYXQganVzdCBhYm91dCBhbnkgY29tYmluYXRpb24gb2YgYWRkaW5nIGNsYXNzZXMsIHJlbW92aW5nIGNsYXNzZXMsIHNldHRpbmcgc3R5bGVzLCBkeW5hbWljYWxseSBzZXR0aW5nIGEga2V5ZnJhbWUgYW5pbWF0aW9uLFxuICogYXBwbHlpbmcgYSBoYXJkY29kZWQgZHVyYXRpb24gb3IgZGVsYXkgdmFsdWUsIGNoYW5naW5nIHRoZSBhbmltYXRpb24gZWFzaW5nIG9yIGFwcGx5aW5nIGEgc3RhZ2dlciBhbmltYXRpb24gYXJlIGFsbCBvcHRpb25zIHRoYXQgd29yayB3aXRoXG4gKiBgJGFuaW1hdGVDc3NgLiBUaGUgc2VydmljZSBpdHNlbGYgaXMgc21hcnQgZW5vdWdoIHRvIGZpZ3VyZSBvdXQgdGhlIGNvbWJpbmF0aW9uIG9mIG9wdGlvbnMgYW5kIGV4YW1pbmUgdGhlIGVsZW1lbnQgc3R5bGluZyBwcm9wZXJ0aWVzIGluIG9yZGVyXG4gKiB0byBwcm92aWRlIGEgd29ya2luZyBhbmltYXRpb24gdGhhdCB3aWxsIHJ1biBpbiBDU1MuXG4gKlxuICogVGhlIGV4YW1wbGUgYmVsb3cgc2hvd2Nhc2VzIGEgbW9yZSBhZHZhbmNlZCB2ZXJzaW9uIG9mIHRoZSBgLmZvbGQtYW5pbWF0aW9uYCBmcm9tIHRoZSBleGFtcGxlIGFib3ZlOlxuICpcbiAqIGBgYGpzXG4gKiBuZ01vZHVsZS5hbmltYXRpb24oJy5mb2xkLWFuaW1hdGlvbicsIFsnJGFuaW1hdGVDc3MnLCBmdW5jdGlvbigkYW5pbWF0ZUNzcykge1xuICogICByZXR1cm4ge1xuICogICAgIGVudGVyOiBmdW5jdGlvbihlbGVtZW50LCBkb25lRm4pIHtcbiAqICAgICAgIHZhciBoZWlnaHQgPSBlbGVtZW50WzBdLm9mZnNldEhlaWdodDtcbiAqICAgICAgIHJldHVybiAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7XG4gKiAgICAgICAgIGFkZENsYXNzOiAncmVkIGxhcmdlLXRleHQgcHVsc2UtdHdpY2UnLFxuICogICAgICAgICBlYXNpbmc6ICdlYXNlLW91dCcsXG4gKiAgICAgICAgIGZyb206IHsgaGVpZ2h0OicwcHgnIH0sXG4gKiAgICAgICAgIHRvOiB7IGhlaWdodDpoZWlnaHQgKyAncHgnIH0sXG4gKiAgICAgICAgIGR1cmF0aW9uOiAxIC8vIG9uZSBzZWNvbmRcbiAqICAgICAgIH0pO1xuICogICAgIH1cbiAqICAgfVxuICogfV0pO1xuICogYGBgXG4gKlxuICogU2luY2Ugd2UncmUgYWRkaW5nL3JlbW92aW5nIENTUyBjbGFzc2VzIHRoZW4gdGhlIENTUyB0cmFuc2l0aW9uIHdpbGwgYWxzbyBwaWNrIHRob3NlIHVwOlxuICpcbiAqIGBgYGNzc1xuICogLyYjNDI7IHNpbmNlIGEgaGFyZGNvZGVkIGR1cmF0aW9uIHZhbHVlIG9mIDEgd2FzIHByb3ZpZGVkIGluIHRoZSBKYXZhU2NyaXB0IGFuaW1hdGlvbiBjb2RlLFxuICogdGhlIENTUyBjbGFzc2VzIGJlbG93IHdpbGwgYmUgdHJhbnNpdGlvbmVkIGRlc3BpdGUgdGhlbSBiZWluZyBkZWZpbmVkIGFzIHJlZ3VsYXIgQ1NTIGNsYXNzZXMgJiM0MjsvXG4gKiAucmVkIHsgYmFja2dyb3VuZDpyZWQ7IH1cbiAqIC5sYXJnZS10ZXh0IHsgZm9udC1zaXplOjIwcHg7IH1cbiAqXG4gKiAvJiM0Mjsgd2UgY2FuIGFsc28gdXNlIGEga2V5ZnJhbWUgYW5pbWF0aW9uIGFuZCAkYW5pbWF0ZUNzcyB3aWxsIG1ha2UgaXQgd29yayBhbG9uZ3NpZGUgdGhlIHRyYW5zaXRpb24gJiM0MjsvXG4gKiAucHVsc2UtdHdpY2Uge1xuICogICBhbmltYXRpb246IDAuNXMgcHVsc2UgbGluZWFyIDI7XG4gKiAgIC13ZWJraXQtYW5pbWF0aW9uOiAwLjVzIHB1bHNlIGxpbmVhciAyO1xuICogfVxuICpcbiAqIEBrZXlmcmFtZXMgcHVsc2Uge1xuICogICBmcm9tIHsgdHJhbnNmb3JtOiBzY2FsZSgwLjUpOyB9XG4gKiAgIHRvIHsgdHJhbnNmb3JtOiBzY2FsZSgxLjUpOyB9XG4gKiB9XG4gKlxuICogQC13ZWJraXQta2V5ZnJhbWVzIHB1bHNlIHtcbiAqICAgZnJvbSB7IC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgwLjUpOyB9XG4gKiAgIHRvIHsgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEuNSk7IH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEdpdmVuIHRoaXMgY29tcGxleCBjb21iaW5hdGlvbiBvZiBDU1MgY2xhc3Nlcywgc3R5bGVzIGFuZCBvcHRpb25zLCBgJGFuaW1hdGVDc3NgIHdpbGwgZmlndXJlIGV2ZXJ5dGhpbmcgb3V0IGFuZCBtYWtlIHRoZSBhbmltYXRpb24gaGFwcGVuLlxuICpcbiAqICMjIEhvdyB0aGUgT3B0aW9ucyBhcmUgaGFuZGxlZFxuICpcbiAqIGAkYW5pbWF0ZUNzc2AgaXMgdmVyeSB2ZXJzYXRpbGUgYW5kIGludGVsbGlnZW50IHdoZW4gaXQgY29tZXMgdG8gZmlndXJpbmcgb3V0IHdoYXQgY29uZmlndXJhdGlvbnMgdG8gYXBwbHkgdG8gdGhlIGVsZW1lbnQgdG8gZW5zdXJlIHRoZSBhbmltYXRpb25cbiAqIHdvcmtzIHdpdGggdGhlIG9wdGlvbnMgcHJvdmlkZWQuIFNheSBmb3IgZXhhbXBsZSB3ZSB3ZXJlIGFkZGluZyBhIGNsYXNzIHRoYXQgY29udGFpbmVkIGEga2V5ZnJhbWUgdmFsdWUgYW5kIHdlIHdhbnRlZCB0byBhbHNvIGFuaW1hdGUgc29tZSBpbmxpbmVcbiAqIHN0eWxlcyB1c2luZyB0aGUgYGZyb21gIGFuZCBgdG9gIHByb3BlcnRpZXMuXG4gKlxuICogYGBganNcbiAqIHZhciBhbmltYXRvciA9ICRhbmltYXRlQ3NzKGVsZW1lbnQsIHtcbiAqICAgZnJvbTogeyBiYWNrZ3JvdW5kOidyZWQnIH0sXG4gKiAgIHRvOiB7IGJhY2tncm91bmQ6J2JsdWUnIH1cbiAqIH0pO1xuICogYW5pbWF0b3Iuc3RhcnQoKTtcbiAqIGBgYFxuICpcbiAqIGBgYGNzc1xuICogLnJvdGF0aW5nLWFuaW1hdGlvbiB7XG4gKiAgIGFuaW1hdGlvbjowLjVzIHJvdGF0ZSBsaW5lYXI7XG4gKiAgIC13ZWJraXQtYW5pbWF0aW9uOjAuNXMgcm90YXRlIGxpbmVhcjtcbiAqIH1cbiAqXG4gKiBAa2V5ZnJhbWVzIHJvdGF0ZSB7XG4gKiAgIGZyb20geyB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfVxuICogICB0byB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH1cbiAqIH1cbiAqXG4gKiBALXdlYmtpdC1rZXlmcmFtZXMgcm90YXRlIHtcbiAqICAgZnJvbSB7IC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH1cbiAqICAgdG8geyAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH1cbiAqIH1cbiAqIGBgYFxuICpcbiAqIFRoZSBtaXNzaW5nIHBpZWNlcyBoZXJlIGFyZSB0aGF0IHdlIGRvIG5vdCBoYXZlIGEgdHJhbnNpdGlvbiBzZXQgKHdpdGhpbiB0aGUgQ1NTIGNvZGUgbm9yIHdpdGhpbiB0aGUgYCRhbmltYXRlQ3NzYCBvcHRpb25zKSBhbmQgdGhlIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24gaXNcbiAqIGdvaW5nIHRvIGJlIGRldGVjdGVkIGZyb20gd2hhdCB0aGUga2V5ZnJhbWUgc3R5bGVzIG9uIHRoZSBDU1MgY2xhc3MgYXJlLiBJbiB0aGlzIGV2ZW50LCBgJGFuaW1hdGVDc3NgIHdpbGwgYXV0b21hdGljYWxseSBjcmVhdGUgYW4gaW5saW5lIHRyYW5zaXRpb25cbiAqIHN0eWxlIG1hdGNoaW5nIHRoZSBkdXJhdGlvbiBkZXRlY3RlZCBmcm9tIHRoZSBrZXlmcmFtZSBzdHlsZSAod2hpY2ggaXMgcHJlc2VudCBpbiB0aGUgQ1NTIGNsYXNzIHRoYXQgaXMgYmVpbmcgYWRkZWQpIGFuZCB0aGVuIHByZXBhcmUgYm90aCB0aGUgdHJhbnNpdGlvblxuICogYW5kIGtleWZyYW1lIGFuaW1hdGlvbnMgdG8gcnVuIGluIHBhcmFsbGVsIG9uIHRoZSBlbGVtZW50LiBUaGVuIHdoZW4gdGhlIGFuaW1hdGlvbiBpcyB1bmRlcndheSB0aGUgcHJvdmlkZWQgYGZyb21gIGFuZCBgdG9gIENTUyBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkXG4gKiBhbmQgc3ByZWFkIGFjcm9zcyB0aGUgdHJhbnNpdGlvbiBhbmQga2V5ZnJhbWUgYW5pbWF0aW9uLlxuICpcbiAqICMjIFdoYXQgaXMgcmV0dXJuZWRcbiAqXG4gKiBgJGFuaW1hdGVDc3NgIHdvcmtzIGluIHR3byBzdGFnZXM6IGEgcHJlcGFyYXRpb24gcGhhc2UgYW5kIGFuIGFuaW1hdGlvbiBwaGFzZS4gVGhlcmVmb3JlIHdoZW4gYCRhbmltYXRlQ3NzYCBpcyBmaXJzdCBjYWxsZWQgaXQgd2lsbCBOT1QgYWN0dWFsbHlcbiAqIHN0YXJ0IHRoZSBhbmltYXRpb24uIEFsbCB0aGF0IGlzIGdvaW5nIG9uIGhlcmUgaXMgdGhhdCB0aGUgZWxlbWVudCBpcyBiZWluZyBwcmVwYXJlZCBmb3IgdGhlIGFuaW1hdGlvbiAod2hpY2ggbWVhbnMgdGhhdCB0aGUgZ2VuZXJhdGVkIENTUyBjbGFzc2VzIGFyZVxuICogYWRkZWQgYW5kIHJlbW92ZWQgb24gdGhlIGVsZW1lbnQpLiBPbmNlIGAkYW5pbWF0ZUNzc2AgaXMgY2FsbGVkIGl0IHdpbGwgcmV0dXJuIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqXG4gKiBgYGBqc1xuICogdmFyIGFuaW1hdG9yID0gJGFuaW1hdGVDc3MoZWxlbWVudCwgeyAuLi4gfSk7XG4gKiBgYGBcbiAqXG4gKiBOb3cgd2hhdCBkbyB0aGUgY29udGVudHMgb2Ygb3VyIGBhbmltYXRvcmAgdmFyaWFibGUgbG9vayBsaWtlOlxuICpcbiAqIGBgYGpzXG4gKiB7XG4gKiAgIC8vIHN0YXJ0cyB0aGUgYW5pbWF0aW9uXG4gKiAgIHN0YXJ0OiBGdW5jdGlvbixcbiAqXG4gKiAgIC8vIGVuZHMgKGFib3J0cykgdGhlIGFuaW1hdGlvblxuICogICBlbmQ6IEZ1bmN0aW9uXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBUbyBhY3R1YWxseSBzdGFydCB0aGUgYW5pbWF0aW9uIHdlIG5lZWQgdG8gcnVuIGBhbmltYXRpb24uc3RhcnQoKWAgd2hpY2ggd2lsbCB0aGVuIHJldHVybiBhIHByb21pc2UgdGhhdCB3ZSBjYW4gaG9vayBpbnRvIHRvIGRldGVjdCB3aGVuIHRoZSBhbmltYXRpb24gZW5kcy5cbiAqIElmIHdlIGNob29zZSBub3QgdG8gcnVuIHRoZSBhbmltYXRpb24gdGhlbiB3ZSBNVVNUIHJ1biBgYW5pbWF0aW9uLmVuZCgpYCB0byBwZXJmb3JtIGEgY2xlYW51cCBvbiB0aGUgZWxlbWVudCAoc2luY2Ugc29tZSBDU1MgY2xhc3NlcyBhbmQgc3RseWVzIG1heSBoYXZlIGJlZW5cbiAqIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQgZHVyaW5nIHRoZSBwcmVwYXJhdGlvbiBwaGFzZSkuIE5vdGUgdGhhdCBhbGwgb3RoZXIgcHJvcGVydGllcyBzdWNoIGFzIGR1cmF0aW9uLCBkZWxheSwgdHJhbnNpdGlvbnMgYW5kIGtleWZyYW1lcyBhcmUganVzdCBwcm9wZXJ0aWVzXG4gKiBhbmQgdGhhdCBjaGFuZ2luZyB0aGVtIHdpbGwgbm90IHJlY29uZmlndXJlIHRoZSBwYXJhbWV0ZXJzIG9mIHRoZSBhbmltYXRpb24uXG4gKlxuICogIyMjIHJ1bm5lci5kb25lKCkgdnMgcnVubmVyLnRoZW4oKVxuICogSXQgaXMgZG9jdW1lbnRlZCB0aGF0IGBhbmltYXRpb24uc3RhcnQoKWAgd2lsbCByZXR1cm4gYSBwcm9taXNlIG9iamVjdCBhbmQgdGhpcyBpcyB0cnVlLCBob3dldmVyLCB0aGVyZSBpcyBhbHNvIGFuIGFkZGl0aW9uYWwgbWV0aG9kIGF2YWlsYWJsZSBvbiB0aGVcbiAqIHJ1bm5lciBjYWxsZWQgYC5kb25lKGNhbGxiYWNrRm4pYC4gVGhlIGRvbmUgbWV0aG9kIHdvcmtzIHRoZSBzYW1lIGFzIGAuZmluYWxseShjYWxsYmFja0ZuKWAsIGhvd2V2ZXIsIGl0IGRvZXMgKipub3QgdHJpZ2dlciBhIGRpZ2VzdCB0byBvY2N1cioqLlxuICogVGhlcmVmb3JlLCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgaXQncyBhbHdheXMgYmVzdCB0byB1c2UgYHJ1bm5lci5kb25lKGNhbGxiYWNrKWAgaW5zdGVhZCBvZiBgcnVubmVyLnRoZW4oKWAsIGBydW5uZXIuY2F0Y2goKWAgb3IgYHJ1bm5lci5maW5hbGx5KClgXG4gKiB1bmxlc3MgeW91IHJlYWxseSBuZWVkIGEgZGlnZXN0IHRvIGtpY2sgb2ZmIGFmdGVyd2FyZHMuXG4gKlxuICogS2VlcCBpbiBtaW5kIHRoYXQsIHRvIG1ha2UgdGhpcyBlYXNpZXIsIG5nQW5pbWF0ZSBoYXMgdHdlYWtlZCB0aGUgSlMgYW5pbWF0aW9ucyBBUEkgdG8gcmVjb2duaXplIHdoZW4gYSBydW5uZXIgaW5zdGFuY2UgaXMgcmV0dXJuZWQgZnJvbSAkYW5pbWF0ZUNzc1xuICogKHNvIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2FsbCBgcnVubmVyLmRvbmUoZG9uZUZuKWAgaW5zaWRlIG9mIHlvdXIgSmF2YVNjcmlwdCBhbmltYXRpb24gY29kZSkuXG4gKiBDaGVjayB0aGUge0BsaW5rIG5nQW5pbWF0ZS4kYW5pbWF0ZUNzcyN1c2FnZSBhbmltYXRpb24gY29kZSBhYm92ZX0gdG8gc2VlIGhvdyB0aGlzIHdvcmtzLlxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB0aGF0IHdpbGwgYmUgYW5pbWF0ZWRcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIHRoZSBhbmltYXRpb24tcmVsYXRlZCBvcHRpb25zIHRoYXQgd2lsbCBiZSBhcHBsaWVkIGR1cmluZyB0aGUgYW5pbWF0aW9uXG4gKlxuICogKiBgZXZlbnRgIC0gVGhlIERPTSBldmVudCAoZS5nLiBlbnRlciwgbGVhdmUsIG1vdmUpLiBXaGVuIHVzZWQsIGEgZ2VuZXJhdGVkIENTUyBjbGFzcyBvZiBgbmctRVZFTlRgIGFuZCBgbmctRVZFTlQtYWN0aXZlYCB3aWxsIGJlIGFwcGxpZWRcbiAqIHRvIHRoZSBlbGVtZW50IGR1cmluZyB0aGUgYW5pbWF0aW9uLiBNdWx0aXBsZSBldmVudHMgY2FuIGJlIHByb3ZpZGVkIHdoZW4gc3BhY2VzIGFyZSB1c2VkIGFzIGEgc2VwYXJhdG9yLiAoTm90ZSB0aGF0IHRoaXMgd2lsbCBub3QgcGVyZm9ybSBhbnkgRE9NIG9wZXJhdGlvbi4pXG4gKiAqIGBlYXNpbmdgIC0gVGhlIENTUyBlYXNpbmcgdmFsdWUgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIHRyYW5zaXRpb24gb3Iga2V5ZnJhbWUgYW5pbWF0aW9uIChvciBib3RoKS5cbiAqICogYHRyYW5zaXRpb25gIC0gVGhlIHJhdyBDU1MgdHJhbnNpdGlvbiBzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCAoZS5nLiBgMXMgbGluZWFyIGFsbGApLlxuICogKiBga2V5ZnJhbWVTdHlsZWAgLSBUaGUgcmF3IENTUyBrZXlmcmFtZSBhbmltYXRpb24gc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgKGUuZy4gYDFzIG15X2FuaW1hdGlvbiBsaW5lYXJgKS5cbiAqICogYGZyb21gIC0gVGhlIHN0YXJ0aW5nIENTUyBzdHlsZXMgKGEga2V5L3ZhbHVlIG9iamVjdCkgdGhhdCB3aWxsIGJlIGFwcGxpZWQgYXQgdGhlIHN0YXJ0IG9mIHRoZSBhbmltYXRpb24uXG4gKiAqIGB0b2AgLSBUaGUgZW5kaW5nIENTUyBzdHlsZXMgKGEga2V5L3ZhbHVlIG9iamVjdCkgdGhhdCB3aWxsIGJlIGFwcGxpZWQgYWNyb3NzIHRoZSBhbmltYXRpb24gdmlhIGEgQ1NTIHRyYW5zaXRpb24uXG4gKiAqIGBhZGRDbGFzc2AgLSBBIHNwYWNlIHNlcGFyYXRlZCBsaXN0IG9mIENTUyBjbGFzc2VzIHRoYXQgd2lsbCBiZSBhZGRlZCB0byB0aGUgZWxlbWVudCBhbmQgc3ByZWFkIGFjcm9zcyB0aGUgYW5pbWF0aW9uLlxuICogKiBgcmVtb3ZlQ2xhc3NgIC0gQSBzcGFjZSBzZXBhcmF0ZWQgbGlzdCBvZiBDU1MgY2xhc3NlcyB0aGF0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50IGFuZCBzcHJlYWQgYWNyb3NzIHRoZSBhbmltYXRpb24uXG4gKiAqIGBkdXJhdGlvbmAgLSBBIG51bWJlciB2YWx1ZSByZXByZXNlbnRpbmcgdGhlIHRvdGFsIGR1cmF0aW9uIG9mIHRoZSB0cmFuc2l0aW9uIGFuZC9vciBrZXlmcmFtZSAobm90ZSB0aGF0IGEgdmFsdWUgb2YgMSBpcyAxMDAwbXMpLiBJZiBhIHZhbHVlIG9mIGAwYFxuICogaXMgcHJvdmlkZWQgdGhlbiB0aGUgYW5pbWF0aW9uIHdpbGwgYmUgc2tpcHBlZCBlbnRpcmVseS5cbiAqICogYGRlbGF5YCAtIEEgbnVtYmVyIHZhbHVlIHJlcHJlc2VudGluZyB0aGUgdG90YWwgZGVsYXkgb2YgdGhlIHRyYW5zaXRpb24gYW5kL29yIGtleWZyYW1lIChub3RlIHRoYXQgYSB2YWx1ZSBvZiAxIGlzIDEwMDBtcykuIElmIGEgdmFsdWUgb2YgYHRydWVgIGlzXG4gKiB1c2VkIHRoZW4gd2hhdGV2ZXIgZGVsYXkgdmFsdWUgaXMgZGV0ZWN0ZWQgZnJvbSB0aGUgQ1NTIGNsYXNzZXMgd2lsbCBiZSBtaXJyb3JlZCBvbiB0aGUgZWxlbWVudHMgc3R5bGVzIChlLmcuIGJ5IHNldHRpbmcgZGVsYXkgdHJ1ZSB0aGVuIHRoZSBzdHlsZSB2YWx1ZVxuICogb2YgdGhlIGVsZW1lbnQgd2lsbCBiZSBgdHJhbnNpdGlvbi1kZWxheTogREVURUNURURfVkFMVUVgKS4gVXNpbmcgYHRydWVgIGlzIHVzZWZ1bCB3aGVuIHlvdSB3YW50IHRoZSBDU1MgY2xhc3NlcyBhbmQgaW5saW5lIHN0eWxlcyB0byBhbGwgc2hhcmUgdGhlIHNhbWVcbiAqIENTUyBkZWxheSB2YWx1ZS5cbiAqICogYHN0YWdnZXJgIC0gQSBudW1lcmljIHRpbWUgdmFsdWUgcmVwcmVzZW50aW5nIHRoZSBkZWxheSBiZXR3ZWVuIHN1Y2Nlc3NpdmVseSBhbmltYXRlZCBlbGVtZW50c1xuICogKHtAbGluayBuZ0FuaW1hdGUjY3NzLXN0YWdnZXJpbmctYW5pbWF0aW9ucyBDbGljayBoZXJlIHRvIGxlYXJuIGhvdyBDU1MtYmFzZWQgc3RhZ2dlcmluZyB3b3JrcyBpbiBuZ0FuaW1hdGUufSlcbiAqICogYHN0YWdnZXJJbmRleGAgLSBUaGUgbnVtZXJpYyBpbmRleCByZXByZXNlbnRpbmcgdGhlIHN0YWdnZXIgaXRlbSAoZS5nLiBhIHZhbHVlIG9mIDUgaXMgZXF1YWwgdG8gdGhlIHNpeHRoIGl0ZW0gaW4gdGhlIHN0YWdnZXI7IHRoZXJlZm9yZSB3aGVuIGFcbiAqIGBzdGFnZ2VyYCBvcHRpb24gdmFsdWUgb2YgYDAuMWAgaXMgdXNlZCB0aGVuIHRoZXJlIHdpbGwgYmUgYSBzdGFnZ2VyIGRlbGF5IG9mIGA2MDBtc2ApXG4gKiBgYXBwbHlDbGFzc2VzRWFybHlgIC0gV2hldGhlciBvciBub3QgdGhlIGNsYXNzZXMgYmVpbmcgYWRkZWQgb3IgcmVtb3ZlZCB3aWxsIGJlIHVzZWQgd2hlbiBkZXRlY3RpbmcgdGhlIGFuaW1hdGlvbi4gVGhpcyBpcyBzZXQgYnkgYCRhbmltYXRlYCB3aGVuIGVudGVyL2xlYXZlL21vdmUgYW5pbWF0aW9ucyBhcmUgZmlyZWQgdG8gZW5zdXJlIHRoYXQgdGhlIENTUyBjbGFzc2VzIGFyZSByZXNvbHZlZCBpbiB0aW1lLiAoTm90ZSB0aGF0IHRoaXMgd2lsbCBwcmV2ZW50IGFueSB0cmFuc2l0aW9ucyBmcm9tIG9jY3VyaW5nIG9uIHRoZSBjbGFzc2VzIGJlaW5nIGFkZGVkIGFuZCByZW1vdmVkLilcbiAqXG4gKiBAcmV0dXJuIHtvYmplY3R9IGFuIG9iamVjdCB3aXRoIHN0YXJ0IGFuZCBlbmQgbWV0aG9kcyBhbmQgZGV0YWlscyBhYm91dCB0aGUgYW5pbWF0aW9uLlxuICpcbiAqICogYHN0YXJ0YCAtIFRoZSBtZXRob2QgdG8gc3RhcnQgdGhlIGFuaW1hdGlvbi4gVGhpcyB3aWxsIHJldHVybiBhIGBQcm9taXNlYCB3aGVuIGNhbGxlZC5cbiAqICogYGVuZGAgLSBUaGlzIG1ldGhvZCB3aWxsIGNhbmNlbCB0aGUgYW5pbWF0aW9uIGFuZCByZW1vdmUgYWxsIGFwcGxpZWQgQ1NTIGNsYXNzZXMgYW5kIHN0eWxlcy5cbiAqL1xuXG4vLyBEZXRlY3QgcHJvcGVyIHRyYW5zaXRpb25lbmQvYW5pbWF0aW9uZW5kIGV2ZW50IG5hbWVzLlxudmFyIENTU19QUkVGSVggPSAnJywgVFJBTlNJVElPTl9QUk9QLCBUUkFOU0lUSU9ORU5EX0VWRU5ULCBBTklNQVRJT05fUFJPUCwgQU5JTUFUSU9ORU5EX0VWRU5UO1xuXG4vLyBJZiB1bnByZWZpeGVkIGV2ZW50cyBhcmUgbm90IHN1cHBvcnRlZCBidXQgd2Via2l0LXByZWZpeGVkIGFyZSwgdXNlIHRoZSBsYXR0ZXIuXG4vLyBPdGhlcndpc2UsIGp1c3QgdXNlIFczQyBuYW1lcywgYnJvd3NlcnMgbm90IHN1cHBvcnRpbmcgdGhlbSBhdCBhbGwgd2lsbCBqdXN0IGlnbm9yZSB0aGVtLlxuLy8gTm90ZTogQ2hyb21lIGltcGxlbWVudHMgYHdpbmRvdy5vbndlYmtpdGFuaW1hdGlvbmVuZGAgYW5kIGRvZXNuJ3QgaW1wbGVtZW50IGB3aW5kb3cub25hbmltYXRpb25lbmRgXG4vLyBidXQgYXQgdGhlIHNhbWUgdGltZSBkaXNwYXRjaGVzIHRoZSBgYW5pbWF0aW9uZW5kYCBldmVudCBhbmQgbm90IGB3ZWJraXRBbmltYXRpb25FbmRgLlxuLy8gUmVnaXN0ZXIgYm90aCBldmVudHMgaW4gY2FzZSBgd2luZG93Lm9uYW5pbWF0aW9uZW5kYCBpcyBub3Qgc3VwcG9ydGVkIGJlY2F1c2Ugb2YgdGhhdCxcbi8vIGRvIHRoZSBzYW1lIGZvciBgdHJhbnNpdGlvbmVuZGAgYXMgU2FmYXJpIGlzIGxpa2VseSB0byBleGhpYml0IHNpbWlsYXIgYmVoYXZpb3IuXG4vLyBBbHNvLCB0aGUgb25seSBtb2Rlcm4gYnJvd3NlciB0aGF0IHVzZXMgdmVuZG9yIHByZWZpeGVzIGZvciB0cmFuc2l0aW9ucy9rZXlmcmFtZXMgaXMgd2Via2l0XG4vLyB0aGVyZWZvcmUgdGhlcmUgaXMgbm8gcmVhc29uIHRvIHRlc3QgYW55bW9yZSBmb3Igb3RoZXIgdmVuZG9yIHByZWZpeGVzOlxuLy8gaHR0cDovL2Nhbml1c2UuY29tLyNzZWFyY2g9dHJhbnNpdGlvblxuaWYgKHdpbmRvdy5vbnRyYW5zaXRpb25lbmQgPT09IHVuZGVmaW5lZCAmJiB3aW5kb3cub253ZWJraXR0cmFuc2l0aW9uZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgQ1NTX1BSRUZJWCA9ICctd2Via2l0LSc7XG4gIFRSQU5TSVRJT05fUFJPUCA9ICdXZWJraXRUcmFuc2l0aW9uJztcbiAgVFJBTlNJVElPTkVORF9FVkVOVCA9ICd3ZWJraXRUcmFuc2l0aW9uRW5kIHRyYW5zaXRpb25lbmQnO1xufSBlbHNlIHtcbiAgVFJBTlNJVElPTl9QUk9QID0gJ3RyYW5zaXRpb24nO1xuICBUUkFOU0lUSU9ORU5EX0VWRU5UID0gJ3RyYW5zaXRpb25lbmQnO1xufVxuXG5pZiAod2luZG93Lm9uYW5pbWF0aW9uZW5kID09PSB1bmRlZmluZWQgJiYgd2luZG93Lm9ud2Via2l0YW5pbWF0aW9uZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgQ1NTX1BSRUZJWCA9ICctd2Via2l0LSc7XG4gIEFOSU1BVElPTl9QUk9QID0gJ1dlYmtpdEFuaW1hdGlvbic7XG4gIEFOSU1BVElPTkVORF9FVkVOVCA9ICd3ZWJraXRBbmltYXRpb25FbmQgYW5pbWF0aW9uZW5kJztcbn0gZWxzZSB7XG4gIEFOSU1BVElPTl9QUk9QID0gJ2FuaW1hdGlvbic7XG4gIEFOSU1BVElPTkVORF9FVkVOVCA9ICdhbmltYXRpb25lbmQnO1xufVxuXG52YXIgRFVSQVRJT05fS0VZID0gJ0R1cmF0aW9uJztcbnZhciBQUk9QRVJUWV9LRVkgPSAnUHJvcGVydHknO1xudmFyIERFTEFZX0tFWSA9ICdEZWxheSc7XG52YXIgVElNSU5HX0tFWSA9ICdUaW1pbmdGdW5jdGlvbic7XG52YXIgQU5JTUFUSU9OX0lURVJBVElPTl9DT1VOVF9LRVkgPSAnSXRlcmF0aW9uQ291bnQnO1xudmFyIEFOSU1BVElPTl9QTEFZU1RBVEVfS0VZID0gJ1BsYXlTdGF0ZSc7XG52YXIgRUxBUFNFRF9USU1FX01BWF9ERUNJTUFMX1BMQUNFUyA9IDM7XG52YXIgQ0xPU0lOR19USU1FX0JVRkZFUiA9IDEuNTtcbnZhciBPTkVfU0VDT05EID0gMTAwMDtcbnZhciBCQVNFX1RFTiA9IDEwO1xuXG52YXIgU0FGRV9GQVNUX0ZPUldBUkRfRFVSQVRJT05fVkFMVUUgPSA5OTk5O1xuXG52YXIgQU5JTUFUSU9OX0RFTEFZX1BST1AgPSBBTklNQVRJT05fUFJPUCArIERFTEFZX0tFWTtcbnZhciBBTklNQVRJT05fRFVSQVRJT05fUFJPUCA9IEFOSU1BVElPTl9QUk9QICsgRFVSQVRJT05fS0VZO1xuXG52YXIgVFJBTlNJVElPTl9ERUxBWV9QUk9QID0gVFJBTlNJVElPTl9QUk9QICsgREVMQVlfS0VZO1xudmFyIFRSQU5TSVRJT05fRFVSQVRJT05fUFJPUCA9IFRSQU5TSVRJT05fUFJPUCArIERVUkFUSU9OX0tFWTtcblxudmFyIERFVEVDVF9DU1NfUFJPUEVSVElFUyA9IHtcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiAgICAgIFRSQU5TSVRJT05fRFVSQVRJT05fUFJPUCxcbiAgdHJhbnNpdGlvbkRlbGF5OiAgICAgICAgIFRSQU5TSVRJT05fREVMQVlfUFJPUCxcbiAgdHJhbnNpdGlvblByb3BlcnR5OiAgICAgIFRSQU5TSVRJT05fUFJPUCArIFBST1BFUlRZX0tFWSxcbiAgYW5pbWF0aW9uRHVyYXRpb246ICAgICAgIEFOSU1BVElPTl9EVVJBVElPTl9QUk9QLFxuICBhbmltYXRpb25EZWxheTogICAgICAgICAgQU5JTUFUSU9OX0RFTEFZX1BST1AsXG4gIGFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiBBTklNQVRJT05fUFJPUCArIEFOSU1BVElPTl9JVEVSQVRJT05fQ09VTlRfS0VZXG59O1xuXG52YXIgREVURUNUX1NUQUdHRVJfQ1NTX1BST1BFUlRJRVMgPSB7XG4gIHRyYW5zaXRpb25EdXJhdGlvbjogICAgICBUUkFOU0lUSU9OX0RVUkFUSU9OX1BST1AsXG4gIHRyYW5zaXRpb25EZWxheTogICAgICAgICBUUkFOU0lUSU9OX0RFTEFZX1BST1AsXG4gIGFuaW1hdGlvbkR1cmF0aW9uOiAgICAgICBBTklNQVRJT05fRFVSQVRJT05fUFJPUCxcbiAgYW5pbWF0aW9uRGVsYXk6ICAgICAgICAgIEFOSU1BVElPTl9ERUxBWV9QUk9QXG59O1xuXG5mdW5jdGlvbiBjb21wdXRlQ3NzU3R5bGVzKCR3aW5kb3csIGVsZW1lbnQsIHByb3BlcnRpZXMpIHtcbiAgdmFyIHN0eWxlcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHZhciBkZXRlY3RlZFN0eWxlcyA9ICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSB8fCB7fTtcbiAgZm9yRWFjaChwcm9wZXJ0aWVzLCBmdW5jdGlvbihmb3JtYWxTdHlsZU5hbWUsIGFjdHVhbFN0eWxlTmFtZSkge1xuICAgIHZhciB2YWwgPSBkZXRlY3RlZFN0eWxlc1tmb3JtYWxTdHlsZU5hbWVdO1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHZhciBjID0gdmFsLmNoYXJBdCgwKTtcblxuICAgICAgLy8gb25seSBudW1lcmljYWwtYmFzZWQgdmFsdWVzIGhhdmUgYSBuZWdhdGl2ZSBzaWduIG9yIGRpZ2l0IGFzIHRoZSBmaXJzdCB2YWx1ZVxuICAgICAgaWYgKGMgPT09ICctJyB8fCBjID09PSAnKycgfHwgYyA+PSAwKSB7XG4gICAgICAgIHZhbCA9IHBhcnNlTWF4VGltZSh2YWwpO1xuICAgICAgfVxuXG4gICAgICAvLyBieSBzZXR0aW5nIHRoaXMgdG8gbnVsbCBpbiB0aGUgZXZlbnQgdGhhdCB0aGUgZGVsYXkgaXMgbm90IHNldCBvciBpcyBzZXQgZGlyZWN0bHkgYXMgMFxuICAgICAgLy8gdGhlbiB3ZSBjYW4gc3RpbGwgYWxsb3cgZm9yIHplZ2F0aXZlIHZhbHVlcyB0byBiZSB1c2VkIGxhdGVyIG9uIGFuZCBub3QgbWlzdGFrZSB0aGlzXG4gICAgICAvLyB2YWx1ZSBmb3IgYmVpbmcgZ3JlYXRlciB0aGFuIGFueSBvdGhlciBuZWdhdGl2ZSB2YWx1ZS5cbiAgICAgIGlmICh2YWwgPT09IDApIHtcbiAgICAgICAgdmFsID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHN0eWxlc1thY3R1YWxTdHlsZU5hbWVdID0gdmFsO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gcGFyc2VNYXhUaW1lKHN0cikge1xuICB2YXIgbWF4VmFsdWUgPSAwO1xuICB2YXIgdmFsdWVzID0gc3RyLnNwbGl0KC9cXHMqLFxccyovKTtcbiAgZm9yRWFjaCh2YWx1ZXMsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgLy8gaXQncyBhbHdheXMgc2FmZSB0byBjb25zaWRlciBvbmx5IHNlY29uZCB2YWx1ZXMgYW5kIG9taXQgYG1zYCB2YWx1ZXMgc2luY2VcbiAgICAvLyBnZXRDb21wdXRlZFN0eWxlIHdpbGwgYWx3YXlzIGhhbmRsZSB0aGUgY29udmVyc2lvbiBmb3IgdXNcbiAgICBpZiAodmFsdWUuY2hhckF0KHZhbHVlLmxlbmd0aCAtIDEpID09ICdzJykge1xuICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMCwgdmFsdWUubGVuZ3RoIC0gMSk7XG4gICAgfVxuICAgIHZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSkgfHwgMDtcbiAgICBtYXhWYWx1ZSA9IG1heFZhbHVlID8gTWF0aC5tYXgodmFsdWUsIG1heFZhbHVlKSA6IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIG1heFZhbHVlO1xufVxuXG5mdW5jdGlvbiB0cnV0aHlUaW1pbmdWYWx1ZSh2YWwpIHtcbiAgcmV0dXJuIHZhbCA9PT0gMCB8fCB2YWwgIT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0Q3NzVHJhbnNpdGlvbkR1cmF0aW9uU3R5bGUoZHVyYXRpb24sIGFwcGx5T25seUR1cmF0aW9uKSB7XG4gIHZhciBzdHlsZSA9IFRSQU5TSVRJT05fUFJPUDtcbiAgdmFyIHZhbHVlID0gZHVyYXRpb24gKyAncyc7XG4gIGlmIChhcHBseU9ubHlEdXJhdGlvbikge1xuICAgIHN0eWxlICs9IERVUkFUSU9OX0tFWTtcbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSArPSAnIGxpbmVhciBhbGwnO1xuICB9XG4gIHJldHVybiBbc3R5bGUsIHZhbHVlXTtcbn1cblxuZnVuY3Rpb24gZ2V0Q3NzS2V5ZnJhbWVEdXJhdGlvblN0eWxlKGR1cmF0aW9uKSB7XG4gIHJldHVybiBbQU5JTUFUSU9OX0RVUkFUSU9OX1BST1AsIGR1cmF0aW9uICsgJ3MnXTtcbn1cblxuZnVuY3Rpb24gZ2V0Q3NzRGVsYXlTdHlsZShkZWxheSwgaXNLZXlmcmFtZUFuaW1hdGlvbikge1xuICB2YXIgcHJvcCA9IGlzS2V5ZnJhbWVBbmltYXRpb24gPyBBTklNQVRJT05fREVMQVlfUFJPUCA6IFRSQU5TSVRJT05fREVMQVlfUFJPUDtcbiAgcmV0dXJuIFtwcm9wLCBkZWxheSArICdzJ107XG59XG5cbmZ1bmN0aW9uIGJsb2NrVHJhbnNpdGlvbnMobm9kZSwgZHVyYXRpb24pIHtcbiAgLy8gd2UgdXNlIGEgbmVnYXRpdmUgZGVsYXkgdmFsdWUgc2luY2UgaXQgcGVyZm9ybXMgYmxvY2tpbmdcbiAgLy8geWV0IGl0IGRvZXNuJ3Qga2lsbCBhbnkgZXhpc3RpbmcgdHJhbnNpdGlvbnMgcnVubmluZyBvbiB0aGVcbiAgLy8gc2FtZSBlbGVtZW50IHdoaWNoIG1ha2VzIHRoaXMgc2FmZSBmb3IgY2xhc3MtYmFzZWQgYW5pbWF0aW9uc1xuICB2YXIgdmFsdWUgPSBkdXJhdGlvbiA/ICctJyArIGR1cmF0aW9uICsgJ3MnIDogJyc7XG4gIGFwcGx5SW5saW5lU3R5bGUobm9kZSwgW1RSQU5TSVRJT05fREVMQVlfUFJPUCwgdmFsdWVdKTtcbiAgcmV0dXJuIFtUUkFOU0lUSU9OX0RFTEFZX1BST1AsIHZhbHVlXTtcbn1cblxuZnVuY3Rpb24gYmxvY2tLZXlmcmFtZUFuaW1hdGlvbnMobm9kZSwgYXBwbHlCbG9jaykge1xuICB2YXIgdmFsdWUgPSBhcHBseUJsb2NrID8gJ3BhdXNlZCcgOiAnJztcbiAgdmFyIGtleSA9IEFOSU1BVElPTl9QUk9QICsgQU5JTUFUSU9OX1BMQVlTVEFURV9LRVk7XG4gIGFwcGx5SW5saW5lU3R5bGUobm9kZSwgW2tleSwgdmFsdWVdKTtcbiAgcmV0dXJuIFtrZXksIHZhbHVlXTtcbn1cblxuZnVuY3Rpb24gYXBwbHlJbmxpbmVTdHlsZShub2RlLCBzdHlsZVR1cGxlKSB7XG4gIHZhciBwcm9wID0gc3R5bGVUdXBsZVswXTtcbiAgdmFyIHZhbHVlID0gc3R5bGVUdXBsZVsxXTtcbiAgbm9kZS5zdHlsZVtwcm9wXSA9IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMb2NhbENhY2hlTG9va3VwKCkge1xuICB2YXIgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICByZXR1cm4ge1xuICAgIGZsdXNoOiBmdW5jdGlvbigpIHtcbiAgICAgIGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB9LFxuXG4gICAgY291bnQ6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgdmFyIGVudHJ5ID0gY2FjaGVba2V5XTtcbiAgICAgIHJldHVybiBlbnRyeSA/IGVudHJ5LnRvdGFsIDogMDtcbiAgICB9LFxuXG4gICAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHZhciBlbnRyeSA9IGNhY2hlW2tleV07XG4gICAgICByZXR1cm4gZW50cnkgJiYgZW50cnkudmFsdWU7XG4gICAgfSxcblxuICAgIHB1dDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKCFjYWNoZVtrZXldKSB7XG4gICAgICAgIGNhY2hlW2tleV0gPSB7IHRvdGFsOiAxLCB2YWx1ZTogdmFsdWUgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhY2hlW2tleV0udG90YWwrKztcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbnZhciAkQW5pbWF0ZUNzc1Byb3ZpZGVyID0gWyckYW5pbWF0ZVByb3ZpZGVyJywgZnVuY3Rpb24oJGFuaW1hdGVQcm92aWRlcikge1xuICB2YXIgZ2NzTG9va3VwID0gY3JlYXRlTG9jYWxDYWNoZUxvb2t1cCgpO1xuICB2YXIgZ2NzU3RhZ2dlckxvb2t1cCA9IGNyZWF0ZUxvY2FsQ2FjaGVMb29rdXAoKTtcblxuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCAnJCRqcUxpdGUnLCAnJCRBbmltYXRlUnVubmVyJywgJyR0aW1lb3V0JyxcbiAgICAgICAgICAgICAgICckZG9jdW1lbnQnLCAnJHNuaWZmZXInLCAnJCRyQUZTY2hlZHVsZXInLFxuICAgICAgIGZ1bmN0aW9uKCR3aW5kb3csICAgJCRqcUxpdGUsICAgJCRBbmltYXRlUnVubmVyLCAgICR0aW1lb3V0LFxuICAgICAgICAgICAgICAgICRkb2N1bWVudCwgICAkc25pZmZlciwgICAkJHJBRlNjaGVkdWxlcikge1xuXG4gICAgdmFyIGFwcGx5QW5pbWF0aW9uQ2xhc3NlcyA9IGFwcGx5QW5pbWF0aW9uQ2xhc3Nlc0ZhY3RvcnkoJCRqcUxpdGUpO1xuXG4gICAgdmFyIHBhcmVudENvdW50ZXIgPSAwO1xuICAgIGZ1bmN0aW9uIGdjc0hhc2hGbihub2RlLCBleHRyYUNsYXNzZXMpIHtcbiAgICAgIHZhciBLRVkgPSBcIiQkbmdBbmltYXRlUGFyZW50S2V5XCI7XG4gICAgICB2YXIgcGFyZW50Tm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgIHZhciBwYXJlbnRJRCA9IHBhcmVudE5vZGVbS0VZXSB8fCAocGFyZW50Tm9kZVtLRVldID0gKytwYXJlbnRDb3VudGVyKTtcbiAgICAgIHJldHVybiBwYXJlbnRJRCArICctJyArIG5vZGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpICsgJy0nICsgZXh0cmFDbGFzc2VzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbXB1dGVDYWNoZWRDc3NTdHlsZXMobm9kZSwgY2xhc3NOYW1lLCBjYWNoZUtleSwgcHJvcGVydGllcykge1xuICAgICAgdmFyIHRpbWluZ3MgPSBnY3NMb29rdXAuZ2V0KGNhY2hlS2V5KTtcblxuICAgICAgaWYgKCF0aW1pbmdzKSB7XG4gICAgICAgIHRpbWluZ3MgPSBjb21wdXRlQ3NzU3R5bGVzKCR3aW5kb3csIG5vZGUsIHByb3BlcnRpZXMpO1xuICAgICAgICBpZiAodGltaW5ncy5hbmltYXRpb25JdGVyYXRpb25Db3VudCA9PT0gJ2luZmluaXRlJykge1xuICAgICAgICAgIHRpbWluZ3MuYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgPSAxO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHdlIGtlZXAgcHV0dGluZyB0aGlzIGluIG11bHRpcGxlIHRpbWVzIGV2ZW4gdGhvdWdoIHRoZSB2YWx1ZSBhbmQgdGhlIGNhY2hlS2V5IGFyZSB0aGUgc2FtZVxuICAgICAgLy8gYmVjYXVzZSB3ZSdyZSBrZWVwaW5nIGFuIGludGVyYWwgdGFsbHkgb2YgaG93IG1hbnkgZHVwbGljYXRlIGFuaW1hdGlvbnMgYXJlIGRldGVjdGVkLlxuICAgICAgZ2NzTG9va3VwLnB1dChjYWNoZUtleSwgdGltaW5ncyk7XG4gICAgICByZXR1cm4gdGltaW5ncztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb21wdXRlQ2FjaGVkQ3NzU3RhZ2dlclN0eWxlcyhub2RlLCBjbGFzc05hbWUsIGNhY2hlS2V5LCBwcm9wZXJ0aWVzKSB7XG4gICAgICB2YXIgc3RhZ2dlcjtcblxuICAgICAgLy8gaWYgd2UgaGF2ZSBvbmUgb3IgbW9yZSBleGlzdGluZyBtYXRjaGVzIG9mIG1hdGNoaW5nIGVsZW1lbnRzXG4gICAgICAvLyBjb250YWluaW5nIHRoZSBzYW1lIHBhcmVudCArIENTUyBzdHlsZXMgKHdoaWNoIGlzIGhvdyBjYWNoZUtleSB3b3JrcylcbiAgICAgIC8vIHRoZW4gc3RhZ2dlcmluZyBpcyBwb3NzaWJsZVxuICAgICAgaWYgKGdjc0xvb2t1cC5jb3VudChjYWNoZUtleSkgPiAwKSB7XG4gICAgICAgIHN0YWdnZXIgPSBnY3NTdGFnZ2VyTG9va3VwLmdldChjYWNoZUtleSk7XG5cbiAgICAgICAgaWYgKCFzdGFnZ2VyKSB7XG4gICAgICAgICAgdmFyIHN0YWdnZXJDbGFzc05hbWUgPSBwZW5kQ2xhc3NlcyhjbGFzc05hbWUsICctc3RhZ2dlcicpO1xuXG4gICAgICAgICAgJCRqcUxpdGUuYWRkQ2xhc3Mobm9kZSwgc3RhZ2dlckNsYXNzTmFtZSk7XG5cbiAgICAgICAgICBzdGFnZ2VyID0gY29tcHV0ZUNzc1N0eWxlcygkd2luZG93LCBub2RlLCBwcm9wZXJ0aWVzKTtcblxuICAgICAgICAgIC8vIGZvcmNlIHRoZSBjb252ZXJzaW9uIG9mIGEgbnVsbCB2YWx1ZSB0byB6ZXJvIGluY2FzZSBub3Qgc2V0XG4gICAgICAgICAgc3RhZ2dlci5hbmltYXRpb25EdXJhdGlvbiA9IE1hdGgubWF4KHN0YWdnZXIuYW5pbWF0aW9uRHVyYXRpb24sIDApO1xuICAgICAgICAgIHN0YWdnZXIudHJhbnNpdGlvbkR1cmF0aW9uID0gTWF0aC5tYXgoc3RhZ2dlci50cmFuc2l0aW9uRHVyYXRpb24sIDApO1xuXG4gICAgICAgICAgJCRqcUxpdGUucmVtb3ZlQ2xhc3Mobm9kZSwgc3RhZ2dlckNsYXNzTmFtZSk7XG5cbiAgICAgICAgICBnY3NTdGFnZ2VyTG9va3VwLnB1dChjYWNoZUtleSwgc3RhZ2dlcik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0YWdnZXIgfHwge307XG4gICAgfVxuXG4gICAgdmFyIGJvZCA9IGdldERvbU5vZGUoJGRvY3VtZW50KS5ib2R5O1xuICAgIHZhciByYWZXYWl0UXVldWUgPSBbXTtcbiAgICBmdW5jdGlvbiB3YWl0VW50aWxRdWlldChjYWxsYmFjaykge1xuICAgICAgcmFmV2FpdFF1ZXVlLnB1c2goY2FsbGJhY2spO1xuICAgICAgJCRyQUZTY2hlZHVsZXIud2FpdFVudGlsUXVpZXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGdjc0xvb2t1cC5mbHVzaCgpO1xuICAgICAgICBnY3NTdGFnZ2VyTG9va3VwLmZsdXNoKCk7XG5cbiAgICAgICAgLy90aGUgbGluZSBiZWxvdyB3aWxsIGZvcmNlIHRoZSBicm93c2VyIHRvIHBlcmZvcm0gYSByZXBhaW50IHNvXG4gICAgICAgIC8vdGhhdCBhbGwgdGhlIGFuaW1hdGVkIGVsZW1lbnRzIHdpdGhpbiB0aGUgYW5pbWF0aW9uIGZyYW1lIHdpbGxcbiAgICAgICAgLy9iZSBwcm9wZXJseSB1cGRhdGVkIGFuZCBkcmF3biBvbiBzY3JlZW4uIFRoaXMgaXMgcmVxdWlyZWQgdG9cbiAgICAgICAgLy9lbnN1cmUgdGhhdCB0aGUgcHJlcGFyYXRpb24gYW5pbWF0aW9uIGlzIHByb3Blcmx5IGZsdXNoZWQgc28gdGhhdFxuICAgICAgICAvL3RoZSBhY3RpdmUgc3RhdGUgcGlja3MgdXAgZnJvbSB0aGVyZS4gRE8gTk9UIFJFTU9WRSBUSElTIExJTkUuXG4gICAgICAgIC8vRE8gTk9UIE9QVElNSVpFIFRISVMgTElORS4gVEhFIE1JTklGSUVSIFdJTEwgUkVNT1ZFIElUIE9USEVSV0lTRSBXSElDSFxuICAgICAgICAvL1dJTEwgUkVTVUxUIElOIEFOIFVOUFJFRElDVEFCTEUgQlVHIFRIQVQgSVMgVkVSWSBIQVJEIFRPIFRSQUNLIERPV04gQU5EXG4gICAgICAgIC8vV0lMTCBUQUtFIFlFQVJTIEFXQVkgRlJPTSBZT1VSIExJRkUuXG4gICAgICAgIHZhciB3aWR0aCA9IGJvZC5vZmZzZXRXaWR0aCArIDE7XG5cbiAgICAgICAgLy8gd2UgdXNlIGEgZm9yIGxvb3AgdG8gZW5zdXJlIHRoYXQgaWYgdGhlIHF1ZXVlIGlzIGNoYW5nZWRcbiAgICAgICAgLy8gZHVyaW5nIHRoaXMgbG9vcGluZyB0aGVuIGl0IHdpbGwgY29uc2lkZXIgbmV3IHJlcXVlc3RzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFmV2FpdFF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgcmFmV2FpdFF1ZXVlW2ldKHdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICByYWZXYWl0UXVldWUubGVuZ3RoID0gMDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBpbml0O1xuXG4gICAgZnVuY3Rpb24gY29tcHV0ZVRpbWluZ3Mobm9kZSwgY2xhc3NOYW1lLCBjYWNoZUtleSkge1xuICAgICAgdmFyIHRpbWluZ3MgPSBjb21wdXRlQ2FjaGVkQ3NzU3R5bGVzKG5vZGUsIGNsYXNzTmFtZSwgY2FjaGVLZXksIERFVEVDVF9DU1NfUFJPUEVSVElFUyk7XG4gICAgICB2YXIgYUQgPSB0aW1pbmdzLmFuaW1hdGlvbkRlbGF5O1xuICAgICAgdmFyIHREID0gdGltaW5ncy50cmFuc2l0aW9uRGVsYXk7XG4gICAgICB0aW1pbmdzLm1heERlbGF5ID0gYUQgJiYgdERcbiAgICAgICAgICA/IE1hdGgubWF4KGFELCB0RClcbiAgICAgICAgICA6IChhRCB8fCB0RCk7XG4gICAgICB0aW1pbmdzLm1heER1cmF0aW9uID0gTWF0aC5tYXgoXG4gICAgICAgICAgdGltaW5ncy5hbmltYXRpb25EdXJhdGlvbiAqIHRpbWluZ3MuYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQsXG4gICAgICAgICAgdGltaW5ncy50cmFuc2l0aW9uRHVyYXRpb24pO1xuXG4gICAgICByZXR1cm4gdGltaW5ncztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0KGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBub2RlID0gZ2V0RG9tTm9kZShlbGVtZW50KTtcbiAgICAgIGlmICghbm9kZSB8fCAhbm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIHJldHVybiBjbG9zZUFuZFJldHVybk5vb3BBbmltYXRvcigpO1xuICAgICAgfVxuXG4gICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGlvbk9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICAgIHZhciB0ZW1wb3JhcnlTdHlsZXMgPSBbXTtcbiAgICAgIHZhciBjbGFzc2VzID0gZWxlbWVudC5hdHRyKCdjbGFzcycpO1xuICAgICAgdmFyIHN0eWxlcyA9IHBhY2thZ2VTdHlsZXMob3B0aW9ucyk7XG4gICAgICB2YXIgYW5pbWF0aW9uQ2xvc2VkO1xuICAgICAgdmFyIGFuaW1hdGlvblBhdXNlZDtcbiAgICAgIHZhciBhbmltYXRpb25Db21wbGV0ZWQ7XG4gICAgICB2YXIgcnVubmVyO1xuICAgICAgdmFyIHJ1bm5lckhvc3Q7XG4gICAgICB2YXIgbWF4RGVsYXk7XG4gICAgICB2YXIgbWF4RGVsYXlUaW1lO1xuICAgICAgdmFyIG1heER1cmF0aW9uO1xuICAgICAgdmFyIG1heER1cmF0aW9uVGltZTtcblxuICAgICAgaWYgKG9wdGlvbnMuZHVyYXRpb24gPT09IDAgfHwgKCEkc25pZmZlci5hbmltYXRpb25zICYmICEkc25pZmZlci50cmFuc2l0aW9ucykpIHtcbiAgICAgICAgcmV0dXJuIGNsb3NlQW5kUmV0dXJuTm9vcEFuaW1hdG9yKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBtZXRob2QgPSBvcHRpb25zLmV2ZW50ICYmIGlzQXJyYXkob3B0aW9ucy5ldmVudClcbiAgICAgICAgICAgID8gb3B0aW9ucy5ldmVudC5qb2luKCcgJylcbiAgICAgICAgICAgIDogb3B0aW9ucy5ldmVudDtcblxuICAgICAgdmFyIGlzU3RydWN0dXJhbCA9IG1ldGhvZCAmJiBvcHRpb25zLnN0cnVjdHVyYWw7XG4gICAgICB2YXIgc3RydWN0dXJhbENsYXNzTmFtZSA9ICcnO1xuICAgICAgdmFyIGFkZFJlbW92ZUNsYXNzTmFtZSA9ICcnO1xuXG4gICAgICBpZiAoaXNTdHJ1Y3R1cmFsKSB7XG4gICAgICAgIHN0cnVjdHVyYWxDbGFzc05hbWUgPSBwZW5kQ2xhc3NlcyhtZXRob2QsICduZy0nLCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAobWV0aG9kKSB7XG4gICAgICAgIHN0cnVjdHVyYWxDbGFzc05hbWUgPSBtZXRob2Q7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmFkZENsYXNzKSB7XG4gICAgICAgIGFkZFJlbW92ZUNsYXNzTmFtZSArPSBwZW5kQ2xhc3NlcyhvcHRpb25zLmFkZENsYXNzLCAnLWFkZCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5yZW1vdmVDbGFzcykge1xuICAgICAgICBpZiAoYWRkUmVtb3ZlQ2xhc3NOYW1lLmxlbmd0aCkge1xuICAgICAgICAgIGFkZFJlbW92ZUNsYXNzTmFtZSArPSAnICc7XG4gICAgICAgIH1cbiAgICAgICAgYWRkUmVtb3ZlQ2xhc3NOYW1lICs9IHBlbmRDbGFzc2VzKG9wdGlvbnMucmVtb3ZlQ2xhc3MsICctcmVtb3ZlJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIHRoZXJlIG1heSBiZSBhIHNpdHVhdGlvbiB3aGVyZSBhIHN0cnVjdHVyYWwgYW5pbWF0aW9uIGlzIGNvbWJpbmVkIHRvZ2V0aGVyXG4gICAgICAvLyB3aXRoIENTUyBjbGFzc2VzIHRoYXQgbmVlZCB0byByZXNvbHZlIGJlZm9yZSB0aGUgYW5pbWF0aW9uIGlzIGNvbXB1dGVkLlxuICAgICAgLy8gSG93ZXZlciB0aGlzIG1lYW5zIHRoYXQgdGhlcmUgaXMgbm8gZXhwbGljaXQgQ1NTIGNvZGUgdG8gYmxvY2sgdGhlIGFuaW1hdGlvblxuICAgICAgLy8gZnJvbSBoYXBwZW5pbmcgKGJ5IHNldHRpbmcgMHMgbm9uZSBpbiB0aGUgY2xhc3MgbmFtZSkuIElmIHRoaXMgaXMgdGhlIGNhc2VcbiAgICAgIC8vIHdlIG5lZWQgdG8gYXBwbHkgdGhlIGNsYXNzZXMgYmVmb3JlIHRoZSBmaXJzdCByQUYgc28gd2Uga25vdyB0byBjb250aW51ZSBpZlxuICAgICAgLy8gdGhlcmUgYWN0dWFsbHkgaXMgYSBkZXRlY3RlZCB0cmFuc2l0aW9uIG9yIGtleWZyYW1lIGFuaW1hdGlvblxuICAgICAgaWYgKG9wdGlvbnMuYXBwbHlDbGFzc2VzRWFybHkgJiYgYWRkUmVtb3ZlQ2xhc3NOYW1lLmxlbmd0aCkge1xuICAgICAgICBhcHBseUFuaW1hdGlvbkNsYXNzZXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgIGFkZFJlbW92ZUNsYXNzTmFtZSA9ICcnO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2V0dXBDbGFzc2VzID0gW3N0cnVjdHVyYWxDbGFzc05hbWUsIGFkZFJlbW92ZUNsYXNzTmFtZV0uam9pbignICcpLnRyaW0oKTtcbiAgICAgIHZhciBmdWxsQ2xhc3NOYW1lID0gY2xhc3NlcyArICcgJyArIHNldHVwQ2xhc3NlcztcbiAgICAgIHZhciBhY3RpdmVDbGFzc2VzID0gcGVuZENsYXNzZXMoc2V0dXBDbGFzc2VzLCAnLWFjdGl2ZScpO1xuICAgICAgdmFyIGhhc1RvU3R5bGVzID0gc3R5bGVzLnRvICYmIE9iamVjdC5rZXlzKHN0eWxlcy50bykubGVuZ3RoID4gMDtcbiAgICAgIHZhciBjb250YWluc0tleWZyYW1lQW5pbWF0aW9uID0gKG9wdGlvbnMua2V5ZnJhbWVTdHlsZSB8fCAnJykubGVuZ3RoID4gMDtcblxuICAgICAgLy8gdGhlcmUgaXMgbm8gd2F5IHdlIGNhbiB0cmlnZ2VyIGFuIGFuaW1hdGlvbiBpZiBubyBzdHlsZXMgYW5kXG4gICAgICAvLyBubyBjbGFzc2VzIGFyZSBiZWluZyBhcHBsaWVkIHdoaWNoIHdvdWxkIHRoZW4gdHJpZ2dlciBhIHRyYW5zaXRpb24sXG4gICAgICAvLyB1bmxlc3MgdGhlcmUgYSBpcyByYXcga2V5ZnJhbWUgdmFsdWUgdGhhdCBpcyBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgaWYgKCFjb250YWluc0tleWZyYW1lQW5pbWF0aW9uXG4gICAgICAgICAgICYmICFoYXNUb1N0eWxlc1xuICAgICAgICAgICAmJiAhc2V0dXBDbGFzc2VzKSB7XG4gICAgICAgIHJldHVybiBjbG9zZUFuZFJldHVybk5vb3BBbmltYXRvcigpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2FjaGVLZXksIHN0YWdnZXI7XG4gICAgICBpZiAob3B0aW9ucy5zdGFnZ2VyID4gMCkge1xuICAgICAgICB2YXIgc3RhZ2dlclZhbCA9IHBhcnNlRmxvYXQob3B0aW9ucy5zdGFnZ2VyKTtcbiAgICAgICAgc3RhZ2dlciA9IHtcbiAgICAgICAgICB0cmFuc2l0aW9uRGVsYXk6IHN0YWdnZXJWYWwsXG4gICAgICAgICAgYW5pbWF0aW9uRGVsYXk6IHN0YWdnZXJWYWwsXG4gICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiAwLFxuICAgICAgICAgIGFuaW1hdGlvbkR1cmF0aW9uOiAwXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWNoZUtleSA9IGdjc0hhc2hGbihub2RlLCBmdWxsQ2xhc3NOYW1lKTtcbiAgICAgICAgc3RhZ2dlciA9IGNvbXB1dGVDYWNoZWRDc3NTdGFnZ2VyU3R5bGVzKG5vZGUsIHNldHVwQ2xhc3NlcywgY2FjaGVLZXksIERFVEVDVF9TVEFHR0VSX0NTU19QUk9QRVJUSUVTKTtcbiAgICAgIH1cblxuICAgICAgJCRqcUxpdGUuYWRkQ2xhc3MoZWxlbWVudCwgc2V0dXBDbGFzc2VzKTtcblxuICAgICAgdmFyIGFwcGx5T25seUR1cmF0aW9uO1xuXG4gICAgICBpZiAob3B0aW9ucy50cmFuc2l0aW9uU3R5bGUpIHtcbiAgICAgICAgdmFyIHRyYW5zaXRpb25TdHlsZSA9IFtUUkFOU0lUSU9OX1BST1AsIG9wdGlvbnMudHJhbnNpdGlvblN0eWxlXTtcbiAgICAgICAgYXBwbHlJbmxpbmVTdHlsZShub2RlLCB0cmFuc2l0aW9uU3R5bGUpO1xuICAgICAgICB0ZW1wb3JhcnlTdHlsZXMucHVzaCh0cmFuc2l0aW9uU3R5bGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5kdXJhdGlvbiA+PSAwKSB7XG4gICAgICAgIGFwcGx5T25seUR1cmF0aW9uID0gbm9kZS5zdHlsZVtUUkFOU0lUSU9OX1BST1BdLmxlbmd0aCA+IDA7XG4gICAgICAgIHZhciBkdXJhdGlvblN0eWxlID0gZ2V0Q3NzVHJhbnNpdGlvbkR1cmF0aW9uU3R5bGUob3B0aW9ucy5kdXJhdGlvbiwgYXBwbHlPbmx5RHVyYXRpb24pO1xuXG4gICAgICAgIC8vIHdlIHNldCB0aGUgZHVyYXRpb24gc28gdGhhdCBpdCB3aWxsIGJlIHBpY2tlZCB1cCBieSBnZXRDb21wdXRlZFN0eWxlIGxhdGVyXG4gICAgICAgIGFwcGx5SW5saW5lU3R5bGUobm9kZSwgZHVyYXRpb25TdHlsZSk7XG4gICAgICAgIHRlbXBvcmFyeVN0eWxlcy5wdXNoKGR1cmF0aW9uU3R5bGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5rZXlmcmFtZVN0eWxlKSB7XG4gICAgICAgIHZhciBrZXlmcmFtZVN0eWxlID0gW0FOSU1BVElPTl9QUk9QLCBvcHRpb25zLmtleWZyYW1lU3R5bGVdO1xuICAgICAgICBhcHBseUlubGluZVN0eWxlKG5vZGUsIGtleWZyYW1lU3R5bGUpO1xuICAgICAgICB0ZW1wb3JhcnlTdHlsZXMucHVzaChrZXlmcmFtZVN0eWxlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGl0ZW1JbmRleCA9IHN0YWdnZXJcbiAgICAgICAgICA/IG9wdGlvbnMuc3RhZ2dlckluZGV4ID49IDBcbiAgICAgICAgICAgICAgPyBvcHRpb25zLnN0YWdnZXJJbmRleFxuICAgICAgICAgICAgICA6IGdjc0xvb2t1cC5jb3VudChjYWNoZUtleSlcbiAgICAgICAgICA6IDA7XG5cbiAgICAgIHZhciBpc0ZpcnN0ID0gaXRlbUluZGV4ID09PSAwO1xuXG4gICAgICAvLyB0aGlzIGlzIGEgcHJlLWVtcHRpdmUgd2F5IG9mIGZvcmNpbmcgdGhlIHNldHVwIGNsYXNzZXMgdG8gYmUgYWRkZWQgYW5kIGFwcGxpZWQgSU5TVEFOVExZXG4gICAgICAvLyB3aXRob3V0IGNhdXNpbmcgYW55IGNvbWJpbmF0aW9uIG9mIHRyYW5zaXRpb25zIHRvIGtpY2sgaW4uIEJ5IGFkZGluZyBhIG5lZ2F0aXZlIGRlbGF5IHZhbHVlXG4gICAgICAvLyBpdCBmb3JjZXMgdGhlIHNldHVwIGNsYXNzJyB0cmFuc2l0aW9uIHRvIGVuZCBpbW1lZGlhdGVseS4gV2UgbGF0ZXIgdGhlbiByZW1vdmUgdGhlIG5lZ2F0aXZlXG4gICAgICAvLyB0cmFuc2l0aW9uIGRlbGF5IHRvIGFsbG93IGZvciB0aGUgdHJhbnNpdGlvbiB0byBuYXR1cmFsbHkgZG8gaXQncyB0aGluZy4gVGhlIGJlYXV0eSBoZXJlIGlzXG4gICAgICAvLyB0aGF0IGlmIHRoZXJlIGlzIG5vIHRyYW5zaXRpb24gZGVmaW5lZCB0aGVuIG5vdGhpbmcgd2lsbCBoYXBwZW4gYW5kIHRoaXMgd2lsbCBhbHNvIGFsbG93XG4gICAgICAvLyBvdGhlciB0cmFuc2l0aW9ucyB0byBiZSBzdGFja2VkIG9uIHRvcCBvZiBlYWNoIG90aGVyIHdpdGhvdXQgYW55IGNob3BwaW5nIHRoZW0gb3V0LlxuICAgICAgaWYgKGlzRmlyc3QpIHtcbiAgICAgICAgYmxvY2tUcmFuc2l0aW9ucyhub2RlLCBTQUZFX0ZBU1RfRk9SV0FSRF9EVVJBVElPTl9WQUxVRSk7XG4gICAgICB9XG5cbiAgICAgIHZhciB0aW1pbmdzID0gY29tcHV0ZVRpbWluZ3Mobm9kZSwgZnVsbENsYXNzTmFtZSwgY2FjaGVLZXkpO1xuICAgICAgdmFyIHJlbGF0aXZlRGVsYXkgPSB0aW1pbmdzLm1heERlbGF5O1xuICAgICAgbWF4RGVsYXkgPSBNYXRoLm1heChyZWxhdGl2ZURlbGF5LCAwKTtcbiAgICAgIG1heER1cmF0aW9uID0gdGltaW5ncy5tYXhEdXJhdGlvbjtcblxuICAgICAgdmFyIGZsYWdzID0ge307XG4gICAgICBmbGFncy5oYXNUcmFuc2l0aW9ucyAgICAgICAgICA9IHRpbWluZ3MudHJhbnNpdGlvbkR1cmF0aW9uID4gMDtcbiAgICAgIGZsYWdzLmhhc0FuaW1hdGlvbnMgICAgICAgICAgID0gdGltaW5ncy5hbmltYXRpb25EdXJhdGlvbiA+IDA7XG4gICAgICBmbGFncy5oYXNUcmFuc2l0aW9uQWxsICAgICAgICA9IGZsYWdzLmhhc1RyYW5zaXRpb25zICYmIHRpbWluZ3MudHJhbnNpdGlvblByb3BlcnR5ID09ICdhbGwnO1xuICAgICAgZmxhZ3MuYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24gPSBoYXNUb1N0eWxlcyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZsYWdzLmhhc1RyYW5zaXRpb25zICYmICFmbGFncy5oYXNUcmFuc2l0aW9uQWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoZmxhZ3MuaGFzQW5pbWF0aW9ucyAmJiAhZmxhZ3MuaGFzVHJhbnNpdGlvbnMpKTtcbiAgICAgIGZsYWdzLmFwcGx5QW5pbWF0aW9uRHVyYXRpb24gID0gb3B0aW9ucy5kdXJhdGlvbiAmJiBmbGFncy5oYXNBbmltYXRpb25zO1xuICAgICAgZmxhZ3MuYXBwbHlUcmFuc2l0aW9uRGVsYXkgICAgPSB0cnV0aHlUaW1pbmdWYWx1ZShvcHRpb25zLmRlbGF5KSAmJiAoZmxhZ3MuYXBwbHlUcmFuc2l0aW9uRHVyYXRpb24gfHwgZmxhZ3MuaGFzVHJhbnNpdGlvbnMpO1xuICAgICAgZmxhZ3MuYXBwbHlBbmltYXRpb25EZWxheSAgICAgPSB0cnV0aHlUaW1pbmdWYWx1ZShvcHRpb25zLmRlbGF5KSAmJiBmbGFncy5oYXNBbmltYXRpb25zO1xuICAgICAgZmxhZ3MucmVjYWxjdWxhdGVUaW1pbmdTdHlsZXMgPSBhZGRSZW1vdmVDbGFzc05hbWUubGVuZ3RoID4gMDtcblxuICAgICAgaWYgKGZsYWdzLmFwcGx5VHJhbnNpdGlvbkR1cmF0aW9uIHx8IGZsYWdzLmFwcGx5QW5pbWF0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgbWF4RHVyYXRpb24gPSBvcHRpb25zLmR1cmF0aW9uID8gcGFyc2VGbG9hdChvcHRpb25zLmR1cmF0aW9uKSA6IG1heER1cmF0aW9uO1xuXG4gICAgICAgIGlmIChmbGFncy5hcHBseVRyYW5zaXRpb25EdXJhdGlvbikge1xuICAgICAgICAgIGZsYWdzLmhhc1RyYW5zaXRpb25zID0gdHJ1ZTtcbiAgICAgICAgICB0aW1pbmdzLnRyYW5zaXRpb25EdXJhdGlvbiA9IG1heER1cmF0aW9uO1xuICAgICAgICAgIGFwcGx5T25seUR1cmF0aW9uID0gbm9kZS5zdHlsZVtUUkFOU0lUSU9OX1BST1AgKyBQUk9QRVJUWV9LRVldLmxlbmd0aCA+IDA7XG4gICAgICAgICAgdGVtcG9yYXJ5U3R5bGVzLnB1c2goZ2V0Q3NzVHJhbnNpdGlvbkR1cmF0aW9uU3R5bGUobWF4RHVyYXRpb24sIGFwcGx5T25seUR1cmF0aW9uKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmxhZ3MuYXBwbHlBbmltYXRpb25EdXJhdGlvbikge1xuICAgICAgICAgIGZsYWdzLmhhc0FuaW1hdGlvbnMgPSB0cnVlO1xuICAgICAgICAgIHRpbWluZ3MuYW5pbWF0aW9uRHVyYXRpb24gPSBtYXhEdXJhdGlvbjtcbiAgICAgICAgICB0ZW1wb3JhcnlTdHlsZXMucHVzaChnZXRDc3NLZXlmcmFtZUR1cmF0aW9uU3R5bGUobWF4RHVyYXRpb24pKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobWF4RHVyYXRpb24gPT09IDAgJiYgIWZsYWdzLnJlY2FsY3VsYXRlVGltaW5nU3R5bGVzKSB7XG4gICAgICAgIHJldHVybiBjbG9zZUFuZFJldHVybk5vb3BBbmltYXRvcigpO1xuICAgICAgfVxuXG4gICAgICAvLyB3ZSBuZWVkIHRvIHJlY2FsY3VsYXRlIHRoZSBkZWxheSB2YWx1ZSBzaW5jZSB3ZSB1c2VkIGEgcHJlLWVtcHRpdmUgbmVnYXRpdmVcbiAgICAgIC8vIGRlbGF5IHZhbHVlIGFuZCB0aGUgZGVsYXkgdmFsdWUgaXMgcmVxdWlyZWQgZm9yIHRoZSBmaW5hbCBldmVudCBjaGVja2luZy4gVGhpc1xuICAgICAgLy8gcHJvcGVydHkgd2lsbCBlbnN1cmUgdGhhdCB0aGlzIHdpbGwgaGFwcGVuIGFmdGVyIHRoZSBSQUYgcGhhc2UgaGFzIHBhc3NlZC5cbiAgICAgIGlmIChvcHRpb25zLmR1cmF0aW9uID09IG51bGwgJiYgdGltaW5ncy50cmFuc2l0aW9uRHVyYXRpb24gPiAwKSB7XG4gICAgICAgIGZsYWdzLnJlY2FsY3VsYXRlVGltaW5nU3R5bGVzID0gZmxhZ3MucmVjYWxjdWxhdGVUaW1pbmdTdHlsZXMgfHwgaXNGaXJzdDtcbiAgICAgIH1cblxuICAgICAgbWF4RGVsYXlUaW1lID0gbWF4RGVsYXkgKiBPTkVfU0VDT05EO1xuICAgICAgbWF4RHVyYXRpb25UaW1lID0gbWF4RHVyYXRpb24gKiBPTkVfU0VDT05EO1xuICAgICAgaWYgKCFvcHRpb25zLnNraXBCbG9ja2luZykge1xuICAgICAgICBmbGFncy5ibG9ja1RyYW5zaXRpb24gPSB0aW1pbmdzLnRyYW5zaXRpb25EdXJhdGlvbiA+IDA7XG4gICAgICAgIGZsYWdzLmJsb2NrS2V5ZnJhbWVBbmltYXRpb24gPSB0aW1pbmdzLmFuaW1hdGlvbkR1cmF0aW9uID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhZ2dlci5hbmltYXRpb25EZWxheSA+IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWdnZXIuYW5pbWF0aW9uRHVyYXRpb24gPT09IDA7XG4gICAgICB9XG5cbiAgICAgIGFwcGx5QW5pbWF0aW9uRnJvbVN0eWxlcyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgIGlmICghZmxhZ3MuYmxvY2tUcmFuc2l0aW9uKSB7XG4gICAgICAgIGJsb2NrVHJhbnNpdGlvbnMobm9kZSwgZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBhcHBseUJsb2NraW5nKG1heER1cmF0aW9uKTtcblxuICAgICAgLy8gVE9ETyhtYXRza28pOiBmb3IgMS41IGNoYW5nZSB0aGlzIGNvZGUgdG8gaGF2ZSBhbiBhbmltYXRvciBvYmplY3QgZm9yIGJldHRlciBkZWJ1Z2dpbmdcbiAgICAgIHJldHVybiB7XG4gICAgICAgICQkd2lsbEFuaW1hdGU6IHRydWUsXG4gICAgICAgIGVuZDogZW5kRm4sXG4gICAgICAgIHN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoYW5pbWF0aW9uQ2xvc2VkKSByZXR1cm47XG5cbiAgICAgICAgICBydW5uZXJIb3N0ID0ge1xuICAgICAgICAgICAgZW5kOiBlbmRGbixcbiAgICAgICAgICAgIGNhbmNlbDogY2FuY2VsRm4sXG4gICAgICAgICAgICByZXN1bWU6IG51bGwsIC8vdGhpcyB3aWxsIGJlIHNldCBkdXJpbmcgdGhlIHN0YXJ0KCkgcGhhc2VcbiAgICAgICAgICAgIHBhdXNlOiBudWxsXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJ1bm5lciA9IG5ldyAkJEFuaW1hdGVSdW5uZXIocnVubmVySG9zdCk7XG5cbiAgICAgICAgICB3YWl0VW50aWxRdWlldChzdGFydCk7XG5cbiAgICAgICAgICAvLyB3ZSBkb24ndCBoYXZlIGFjY2VzcyB0byBwYXVzZS9yZXN1bWUgdGhlIGFuaW1hdGlvblxuICAgICAgICAgIC8vIHNpbmNlIGl0IGhhc24ndCBydW4geWV0LiBBbmltYXRlUnVubmVyIHdpbGwgdGhlcmVmb3JlXG4gICAgICAgICAgLy8gc2V0IG5vb3AgZnVuY3Rpb25zIGZvciByZXN1bWUgYW5kIHBhdXNlIGFuZCB0aGV5IHdpbGxcbiAgICAgICAgICAvLyBsYXRlciBiZSBvdmVycmlkZGVuIG9uY2UgdGhlIGFuaW1hdGlvbiBpcyB0cmlnZ2VyZWRcbiAgICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBlbmRGbigpIHtcbiAgICAgICAgY2xvc2UoKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2FuY2VsRm4oKSB7XG4gICAgICAgIGNsb3NlKHRydWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjbG9zZShyZWplY3RlZCkgeyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbiAgICAgICAgLy8gaWYgdGhlIHByb21pc2UgaGFzIGJlZW4gY2FsbGVkIGFscmVhZHkgdGhlbiB3ZSBzaG91bGRuJ3QgY2xvc2VcbiAgICAgICAgLy8gdGhlIGFuaW1hdGlvbiBhZ2FpblxuICAgICAgICBpZiAoYW5pbWF0aW9uQ2xvc2VkIHx8IChhbmltYXRpb25Db21wbGV0ZWQgJiYgYW5pbWF0aW9uUGF1c2VkKSkgcmV0dXJuO1xuICAgICAgICBhbmltYXRpb25DbG9zZWQgPSB0cnVlO1xuICAgICAgICBhbmltYXRpb25QYXVzZWQgPSBmYWxzZTtcblxuICAgICAgICAkJGpxTGl0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCBzZXR1cENsYXNzZXMpO1xuICAgICAgICAkJGpxTGl0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCBhY3RpdmVDbGFzc2VzKTtcblxuICAgICAgICBibG9ja0tleWZyYW1lQW5pbWF0aW9ucyhub2RlLCBmYWxzZSk7XG4gICAgICAgIGJsb2NrVHJhbnNpdGlvbnMobm9kZSwgZmFsc2UpO1xuXG4gICAgICAgIGZvckVhY2godGVtcG9yYXJ5U3R5bGVzLCBmdW5jdGlvbihlbnRyeSkge1xuICAgICAgICAgIC8vIFRoZXJlIGlzIG9ubHkgb25lIHdheSB0byByZW1vdmUgaW5saW5lIHN0eWxlIHByb3BlcnRpZXMgZW50aXJlbHkgZnJvbSBlbGVtZW50cy5cbiAgICAgICAgICAvLyBCeSB1c2luZyBgcmVtb3ZlUHJvcGVydHlgIHRoaXMgd29ya3MsIGJ1dCB3ZSBuZWVkIHRvIGNvbnZlcnQgY2FtZWwtY2FzZWQgQ1NTXG4gICAgICAgICAgLy8gc3R5bGVzIGRvd24gdG8gaHlwaGVuYXRlZCB2YWx1ZXMuXG4gICAgICAgICAgbm9kZS5zdHlsZVtlbnRyeVswXV0gPSAnJztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXBwbHlBbmltYXRpb25DbGFzc2VzKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICBhcHBseUFuaW1hdGlvblN0eWxlcyhlbGVtZW50LCBvcHRpb25zKTtcblxuICAgICAgICAvLyB0aGUgcmVhc29uIHdoeSB3ZSBoYXZlIHRoaXMgb3B0aW9uIGlzIHRvIGFsbG93IGEgc3luY2hyb25vdXMgY2xvc2luZyBjYWxsYmFja1xuICAgICAgICAvLyB0aGF0IGlzIGZpcmVkIGFzIFNPT04gYXMgdGhlIGFuaW1hdGlvbiBlbmRzICh3aGVuIHRoZSBDU1MgaXMgcmVtb3ZlZCkgb3IgaWZcbiAgICAgICAgLy8gdGhlIGFuaW1hdGlvbiBuZXZlciB0YWtlcyBvZmYgYXQgYWxsLiBBIGdvb2QgZXhhbXBsZSBpcyBhIGxlYXZlIGFuaW1hdGlvbiBzaW5jZVxuICAgICAgICAvLyB0aGUgZWxlbWVudCBtdXN0IGJlIHJlbW92ZWQganVzdCBhZnRlciB0aGUgYW5pbWF0aW9uIGlzIG92ZXIgb3IgZWxzZSB0aGUgZWxlbWVudFxuICAgICAgICAvLyB3aWxsIGFwcGVhciBvbiBzY3JlZW4gZm9yIG9uZSBhbmltYXRpb24gZnJhbWUgY2F1c2luZyBhbiBvdmVyYmVhcmluZyBmbGlja2VyLlxuICAgICAgICBpZiAob3B0aW9ucy5vbkRvbmUpIHtcbiAgICAgICAgICBvcHRpb25zLm9uRG9uZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlIHByZXBhcmF0aW9uIGZ1bmN0aW9uIGZhaWxzIHRoZW4gdGhlIHByb21pc2UgaXMgbm90IHNldHVwXG4gICAgICAgIGlmIChydW5uZXIpIHtcbiAgICAgICAgICBydW5uZXIuY29tcGxldGUoIXJlamVjdGVkKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBhcHBseUJsb2NraW5nKGR1cmF0aW9uKSB7XG4gICAgICAgIGlmIChmbGFncy5ibG9ja1RyYW5zaXRpb24pIHtcbiAgICAgICAgICBibG9ja1RyYW5zaXRpb25zKG5vZGUsIGR1cmF0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmbGFncy5ibG9ja0tleWZyYW1lQW5pbWF0aW9uKSB7XG4gICAgICAgICAgYmxvY2tLZXlmcmFtZUFuaW1hdGlvbnMobm9kZSwgISFkdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2xvc2VBbmRSZXR1cm5Ob29wQW5pbWF0b3IoKSB7XG4gICAgICAgIHJ1bm5lciA9IG5ldyAkJEFuaW1hdGVSdW5uZXIoe1xuICAgICAgICAgIGVuZDogZW5kRm4sXG4gICAgICAgICAgY2FuY2VsOiBjYW5jZWxGblxuICAgICAgICB9KTtcblxuICAgICAgICBjbG9zZSgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgJCR3aWxsQW5pbWF0ZTogZmFsc2UsXG4gICAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVuZDogZW5kRm5cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIGlmIChhbmltYXRpb25DbG9zZWQpIHJldHVybjtcbiAgICAgICAgaWYgKCFub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGFydFRpbWUsIGV2ZW50cyA9IFtdO1xuXG4gICAgICAgIC8vIGV2ZW4gdGhvdWdoIHdlIG9ubHkgcGF1c2Uga2V5ZnJhbWUgYW5pbWF0aW9ucyBoZXJlIHRoZSBwYXVzZSBmbGFnXG4gICAgICAgIC8vIHdpbGwgc3RpbGwgaGFwcGVuIHdoZW4gdHJhbnNpdGlvbnMgYXJlIHVzZWQuIE9ubHkgdGhlIHRyYW5zaXRpb24gd2lsbFxuICAgICAgICAvLyBub3QgYmUgcGF1c2VkIHNpbmNlIHRoYXQgaXMgbm90IHBvc3NpYmxlLiBJZiB0aGUgYW5pbWF0aW9uIGVuZHMgd2hlblxuICAgICAgICAvLyBwYXVzZWQgdGhlbiBpdCB3aWxsIG5vdCBjb21wbGV0ZSB1bnRpbCB1bnBhdXNlZCBvciBjYW5jZWxsZWQuXG4gICAgICAgIHZhciBwbGF5UGF1c2UgPSBmdW5jdGlvbihwbGF5QW5pbWF0aW9uKSB7XG4gICAgICAgICAgaWYgKCFhbmltYXRpb25Db21wbGV0ZWQpIHtcbiAgICAgICAgICAgIGFuaW1hdGlvblBhdXNlZCA9ICFwbGF5QW5pbWF0aW9uO1xuICAgICAgICAgICAgaWYgKHRpbWluZ3MuYW5pbWF0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgdmFyIHZhbHVlID0gYmxvY2tLZXlmcmFtZUFuaW1hdGlvbnMobm9kZSwgYW5pbWF0aW9uUGF1c2VkKTtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uUGF1c2VkXG4gICAgICAgICAgICAgICAgICA/IHRlbXBvcmFyeVN0eWxlcy5wdXNoKHZhbHVlKVxuICAgICAgICAgICAgICAgICAgOiByZW1vdmVGcm9tQXJyYXkodGVtcG9yYXJ5U3R5bGVzLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChhbmltYXRpb25QYXVzZWQgJiYgcGxheUFuaW1hdGlvbikge1xuICAgICAgICAgICAgYW5pbWF0aW9uUGF1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBjaGVja2luZyB0aGUgc3RhZ2dlciBkdXJhdGlvbiBwcmV2ZW50cyBhbiBhY2NpZGVudGx5IGNhc2NhZGUgb2YgdGhlIENTUyBkZWxheSBzdHlsZVxuICAgICAgICAvLyBiZWluZyBpbmhlcml0ZWQgZnJvbSB0aGUgcGFyZW50LiBJZiB0aGUgdHJhbnNpdGlvbiBkdXJhdGlvbiBpcyB6ZXJvIHRoZW4gd2UgY2FuIHNhZmVseVxuICAgICAgICAvLyByZWx5IHRoYXQgdGhlIGRlbGF5IHZhbHVlIGlzIGFuIGludGVudGlhbCBzdGFnZ2VyIGRlbGF5IHN0eWxlLlxuICAgICAgICB2YXIgbWF4U3RhZ2dlciA9IGl0ZW1JbmRleCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoKHRpbWluZ3MudHJhbnNpdGlvbkR1cmF0aW9uICYmIHN0YWdnZXIudHJhbnNpdGlvbkR1cmF0aW9uID09PSAwKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aW1pbmdzLmFuaW1hdGlvbkR1cmF0aW9uICYmIHN0YWdnZXIuYW5pbWF0aW9uRHVyYXRpb24gPT09IDApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICYmIE1hdGgubWF4KHN0YWdnZXIuYW5pbWF0aW9uRGVsYXksIHN0YWdnZXIudHJhbnNpdGlvbkRlbGF5KTtcbiAgICAgICAgaWYgKG1heFN0YWdnZXIpIHtcbiAgICAgICAgICAkdGltZW91dCh0cmlnZ2VyQW5pbWF0aW9uU3RhcnQsXG4gICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihtYXhTdGFnZ2VyICogaXRlbUluZGV4ICogT05FX1NFQ09ORCksXG4gICAgICAgICAgICAgICAgICAgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyaWdnZXJBbmltYXRpb25TdGFydCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhpcyB3aWxsIGRlY29yYXRlIHRoZSBleGlzdGluZyBwcm9taXNlIHJ1bm5lciB3aXRoIHBhdXNlL3Jlc3VtZSBtZXRob2RzXG4gICAgICAgIHJ1bm5lckhvc3QucmVzdW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcGxheVBhdXNlKHRydWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJ1bm5lckhvc3QucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBwbGF5UGF1c2UoZmFsc2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHRyaWdnZXJBbmltYXRpb25TdGFydCgpIHtcbiAgICAgICAgICAvLyBqdXN0IGluY2FzZSBhIHN0YWdnZXIgYW5pbWF0aW9uIGtpY2tzIGluIHdoZW4gdGhlIGFuaW1hdGlvblxuICAgICAgICAgIC8vIGl0c2VsZiB3YXMgY2FuY2VsbGVkIGVudGlyZWx5XG4gICAgICAgICAgaWYgKGFuaW1hdGlvbkNsb3NlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgYXBwbHlCbG9ja2luZyhmYWxzZSk7XG5cbiAgICAgICAgICBmb3JFYWNoKHRlbXBvcmFyeVN0eWxlcywgZnVuY3Rpb24oZW50cnkpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBlbnRyeVswXTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGVudHJ5WzFdO1xuICAgICAgICAgICAgbm9kZS5zdHlsZVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBhcHBseUFuaW1hdGlvbkNsYXNzZXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgJCRqcUxpdGUuYWRkQ2xhc3MoZWxlbWVudCwgYWN0aXZlQ2xhc3Nlcyk7XG5cbiAgICAgICAgICBpZiAoZmxhZ3MucmVjYWxjdWxhdGVUaW1pbmdTdHlsZXMpIHtcbiAgICAgICAgICAgIGZ1bGxDbGFzc05hbWUgPSBub2RlLmNsYXNzTmFtZSArICcgJyArIHNldHVwQ2xhc3NlcztcbiAgICAgICAgICAgIGNhY2hlS2V5ID0gZ2NzSGFzaEZuKG5vZGUsIGZ1bGxDbGFzc05hbWUpO1xuXG4gICAgICAgICAgICB0aW1pbmdzID0gY29tcHV0ZVRpbWluZ3Mobm9kZSwgZnVsbENsYXNzTmFtZSwgY2FjaGVLZXkpO1xuICAgICAgICAgICAgcmVsYXRpdmVEZWxheSA9IHRpbWluZ3MubWF4RGVsYXk7XG4gICAgICAgICAgICBtYXhEZWxheSA9IE1hdGgubWF4KHJlbGF0aXZlRGVsYXksIDApO1xuICAgICAgICAgICAgbWF4RHVyYXRpb24gPSB0aW1pbmdzLm1heER1cmF0aW9uO1xuXG4gICAgICAgICAgICBpZiAobWF4RHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmbGFncy5oYXNUcmFuc2l0aW9ucyA9IHRpbWluZ3MudHJhbnNpdGlvbkR1cmF0aW9uID4gMDtcbiAgICAgICAgICAgIGZsYWdzLmhhc0FuaW1hdGlvbnMgPSB0aW1pbmdzLmFuaW1hdGlvbkR1cmF0aW9uID4gMDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZmxhZ3MuYXBwbHlUcmFuc2l0aW9uRGVsYXkgfHwgZmxhZ3MuYXBwbHlBbmltYXRpb25EZWxheSkge1xuICAgICAgICAgICAgcmVsYXRpdmVEZWxheSA9IHR5cGVvZiBvcHRpb25zLmRlbGF5ICE9PSBcImJvb2xlYW5cIiAmJiB0cnV0aHlUaW1pbmdWYWx1ZShvcHRpb25zLmRlbGF5KVxuICAgICAgICAgICAgICAgICAgPyBwYXJzZUZsb2F0KG9wdGlvbnMuZGVsYXkpXG4gICAgICAgICAgICAgICAgICA6IHJlbGF0aXZlRGVsYXk7XG5cbiAgICAgICAgICAgIG1heERlbGF5ID0gTWF0aC5tYXgocmVsYXRpdmVEZWxheSwgMCk7XG5cbiAgICAgICAgICAgIHZhciBkZWxheVN0eWxlO1xuICAgICAgICAgICAgaWYgKGZsYWdzLmFwcGx5VHJhbnNpdGlvbkRlbGF5KSB7XG4gICAgICAgICAgICAgIHRpbWluZ3MudHJhbnNpdGlvbkRlbGF5ID0gcmVsYXRpdmVEZWxheTtcbiAgICAgICAgICAgICAgZGVsYXlTdHlsZSA9IGdldENzc0RlbGF5U3R5bGUocmVsYXRpdmVEZWxheSk7XG4gICAgICAgICAgICAgIHRlbXBvcmFyeVN0eWxlcy5wdXNoKGRlbGF5U3R5bGUpO1xuICAgICAgICAgICAgICBub2RlLnN0eWxlW2RlbGF5U3R5bGVbMF1dID0gZGVsYXlTdHlsZVsxXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZsYWdzLmFwcGx5QW5pbWF0aW9uRGVsYXkpIHtcbiAgICAgICAgICAgICAgdGltaW5ncy5hbmltYXRpb25EZWxheSA9IHJlbGF0aXZlRGVsYXk7XG4gICAgICAgICAgICAgIGRlbGF5U3R5bGUgPSBnZXRDc3NEZWxheVN0eWxlKHJlbGF0aXZlRGVsYXksIHRydWUpO1xuICAgICAgICAgICAgICB0ZW1wb3JhcnlTdHlsZXMucHVzaChkZWxheVN0eWxlKTtcbiAgICAgICAgICAgICAgbm9kZS5zdHlsZVtkZWxheVN0eWxlWzBdXSA9IGRlbGF5U3R5bGVbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbWF4RGVsYXlUaW1lID0gbWF4RGVsYXkgKiBPTkVfU0VDT05EO1xuICAgICAgICAgIG1heER1cmF0aW9uVGltZSA9IG1heER1cmF0aW9uICogT05FX1NFQ09ORDtcblxuICAgICAgICAgIGlmIChvcHRpb25zLmVhc2luZykge1xuICAgICAgICAgICAgdmFyIGVhc2VQcm9wLCBlYXNlVmFsID0gb3B0aW9ucy5lYXNpbmc7XG4gICAgICAgICAgICBpZiAoZmxhZ3MuaGFzVHJhbnNpdGlvbnMpIHtcbiAgICAgICAgICAgICAgZWFzZVByb3AgPSBUUkFOU0lUSU9OX1BST1AgKyBUSU1JTkdfS0VZO1xuICAgICAgICAgICAgICB0ZW1wb3JhcnlTdHlsZXMucHVzaChbZWFzZVByb3AsIGVhc2VWYWxdKTtcbiAgICAgICAgICAgICAgbm9kZS5zdHlsZVtlYXNlUHJvcF0gPSBlYXNlVmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZsYWdzLmhhc0FuaW1hdGlvbnMpIHtcbiAgICAgICAgICAgICAgZWFzZVByb3AgPSBBTklNQVRJT05fUFJPUCArIFRJTUlOR19LRVk7XG4gICAgICAgICAgICAgIHRlbXBvcmFyeVN0eWxlcy5wdXNoKFtlYXNlUHJvcCwgZWFzZVZhbF0pO1xuICAgICAgICAgICAgICBub2RlLnN0eWxlW2Vhc2VQcm9wXSA9IGVhc2VWYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRpbWluZ3MudHJhbnNpdGlvbkR1cmF0aW9uKSB7XG4gICAgICAgICAgICBldmVudHMucHVzaChUUkFOU0lUSU9ORU5EX0VWRU5UKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGltaW5ncy5hbmltYXRpb25EdXJhdGlvbikge1xuICAgICAgICAgICAgZXZlbnRzLnB1c2goQU5JTUFUSU9ORU5EX0VWRU5UKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgIGVsZW1lbnQub24oZXZlbnRzLmpvaW4oJyAnKSwgb25BbmltYXRpb25Qcm9ncmVzcyk7XG4gICAgICAgICAgJHRpbWVvdXQob25BbmltYXRpb25FeHBpcmVkLCBtYXhEZWxheVRpbWUgKyBDTE9TSU5HX1RJTUVfQlVGRkVSICogbWF4RHVyYXRpb25UaW1lKTtcblxuICAgICAgICAgIGFwcGx5QW5pbWF0aW9uVG9TdHlsZXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvbkFuaW1hdGlvbkV4cGlyZWQoKSB7XG4gICAgICAgICAgLy8gYWx0aG91Z2ggYW4gZXhwaXJlZCBhbmltYXRpb24gaXMgYSBmYWlsZWQgYW5pbWF0aW9uLCBnZXR0aW5nIHRvXG4gICAgICAgICAgLy8gdGhpcyBvdXRjb21lIGlzIHZlcnkgZWFzeSBpZiB0aGUgQ1NTIGNvZGUgc2NyZXdzIHVwLiBUaGVyZWZvcmUgd2VcbiAgICAgICAgICAvLyBzaG91bGQgc3RpbGwgY29udGludWUgbm9ybWFsbHkgYXMgaWYgdGhlIGFuaW1hdGlvbiBjb21wbGV0ZWQgY29ycmVjdGx5LlxuICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvbkFuaW1hdGlvblByb2dyZXNzKGV2ZW50KSB7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgdmFyIGV2ID0gZXZlbnQub3JpZ2luYWxFdmVudCB8fCBldmVudDtcbiAgICAgICAgICB2YXIgdGltZVN0YW1wID0gZXYuJG1hbnVhbFRpbWVTdGFtcCB8fCBldi50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTtcblxuICAgICAgICAgIC8qIEZpcmVmb3ggKG9yIHBvc3NpYmx5IGp1c3QgR2Vja28pIGxpa2VzIHRvIG5vdCByb3VuZCB2YWx1ZXMgdXBcbiAgICAgICAgICAgKiB3aGVuIGEgbXMgbWVhc3VyZW1lbnQgaXMgdXNlZCBmb3IgdGhlIGFuaW1hdGlvbiAqL1xuICAgICAgICAgIHZhciBlbGFwc2VkVGltZSA9IHBhcnNlRmxvYXQoZXYuZWxhcHNlZFRpbWUudG9GaXhlZChFTEFQU0VEX1RJTUVfTUFYX0RFQ0lNQUxfUExBQ0VTKSk7XG5cbiAgICAgICAgICAvKiAkbWFudWFsVGltZVN0YW1wIGlzIGEgbW9ja2VkIHRpbWVTdGFtcCB2YWx1ZSB3aGljaCBpcyBzZXRcbiAgICAgICAgICAgKiB3aXRoaW4gYnJvd3NlclRyaWdnZXIoKS4gVGhpcyBpcyBvbmx5IGhlcmUgc28gdGhhdCB0ZXN0cyBjYW5cbiAgICAgICAgICAgKiBtb2NrIGFuaW1hdGlvbnMgcHJvcGVybHkuIFJlYWwgZXZlbnRzIGZhbGxiYWNrIHRvIGV2ZW50LnRpbWVTdGFtcCxcbiAgICAgICAgICAgKiBvciwgaWYgdGhleSBkb24ndCwgdGhlbiBhIHRpbWVTdGFtcCBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgZm9yIHRoZW0uXG4gICAgICAgICAgICogV2UncmUgY2hlY2tpbmcgdG8gc2VlIGlmIHRoZSB0aW1lU3RhbXAgc3VycGFzc2VzIHRoZSBleHBlY3RlZCBkZWxheSxcbiAgICAgICAgICAgKiBidXQgd2UncmUgdXNpbmcgZWxhcHNlZFRpbWUgaW5zdGVhZCBvZiB0aGUgdGltZVN0YW1wIG9uIHRoZSAybmRcbiAgICAgICAgICAgKiBwcmUtY29uZGl0aW9uIHNpbmNlIGFuaW1hdGlvbnMgc29tZXRpbWVzIGNsb3NlIG9mZiBlYXJseSAqL1xuICAgICAgICAgIGlmIChNYXRoLm1heCh0aW1lU3RhbXAgLSBzdGFydFRpbWUsIDApID49IG1heERlbGF5VGltZSAmJiBlbGFwc2VkVGltZSA+PSBtYXhEdXJhdGlvbikge1xuICAgICAgICAgICAgLy8gd2Ugc2V0IHRoaXMgZmxhZyB0byBlbnN1cmUgdGhhdCBpZiB0aGUgdHJhbnNpdGlvbiBpcyBwYXVzZWQgdGhlbiwgd2hlbiByZXN1bWVkLFxuICAgICAgICAgICAgLy8gdGhlIGFuaW1hdGlvbiB3aWxsIGF1dG9tYXRpY2FsbHkgY2xvc2UgaXRzZWxmIHNpbmNlIHRyYW5zaXRpb25zIGNhbm5vdCBiZSBwYXVzZWQuXG4gICAgICAgICAgICBhbmltYXRpb25Db21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1dO1xufV07XG5cbnZhciAkJEFuaW1hdGVDc3NEcml2ZXJQcm92aWRlciA9IFsnJCRhbmltYXRpb25Qcm92aWRlcicsIGZ1bmN0aW9uKCQkYW5pbWF0aW9uUHJvdmlkZXIpIHtcbiAgJCRhbmltYXRpb25Qcm92aWRlci5kcml2ZXJzLnB1c2goJyQkYW5pbWF0ZUNzc0RyaXZlcicpO1xuXG4gIHZhciBOR19BTklNQVRFX1NISU1fQ0xBU1NfTkFNRSA9ICduZy1hbmltYXRlLXNoaW0nO1xuICB2YXIgTkdfQU5JTUFURV9BTkNIT1JfQ0xBU1NfTkFNRSA9ICduZy1hbmNob3InO1xuXG4gIHZhciBOR19PVVRfQU5DSE9SX0NMQVNTX05BTUUgPSAnbmctYW5jaG9yLW91dCc7XG4gIHZhciBOR19JTl9BTkNIT1JfQ0xBU1NfTkFNRSA9ICduZy1hbmNob3ItaW4nO1xuXG4gIHRoaXMuJGdldCA9IFsnJGFuaW1hdGVDc3MnLCAnJHJvb3RTY29wZScsICckJEFuaW1hdGVSdW5uZXInLCAnJHJvb3RFbGVtZW50JywgJyRkb2N1bWVudCcsICckc25pZmZlcicsXG4gICAgICAgZnVuY3Rpb24oJGFuaW1hdGVDc3MsICAgJHJvb3RTY29wZSwgICAkJEFuaW1hdGVSdW5uZXIsICAgJHJvb3RFbGVtZW50LCAgICRkb2N1bWVudCwgICAkc25pZmZlcikge1xuXG4gICAgLy8gb25seSBicm93c2VycyB0aGF0IHN1cHBvcnQgdGhlc2UgcHJvcGVydGllcyBjYW4gcmVuZGVyIGFuaW1hdGlvbnNcbiAgICBpZiAoISRzbmlmZmVyLmFuaW1hdGlvbnMgJiYgISRzbmlmZmVyLnRyYW5zaXRpb25zKSByZXR1cm4gbm9vcDtcblxuICAgIHZhciBib2R5Tm9kZSA9IGdldERvbU5vZGUoJGRvY3VtZW50KS5ib2R5O1xuICAgIHZhciByb290Tm9kZSA9IGdldERvbU5vZGUoJHJvb3RFbGVtZW50KTtcblxuICAgIHZhciByb290Qm9keUVsZW1lbnQgPSBqcUxpdGUoYm9keU5vZGUucGFyZW50Tm9kZSA9PT0gcm9vdE5vZGUgPyBib2R5Tm9kZSA6IHJvb3ROb2RlKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbml0RHJpdmVyRm4oYW5pbWF0aW9uRGV0YWlscykge1xuICAgICAgcmV0dXJuIGFuaW1hdGlvbkRldGFpbHMuZnJvbSAmJiBhbmltYXRpb25EZXRhaWxzLnRvXG4gICAgICAgICAgPyBwcmVwYXJlRnJvbVRvQW5jaG9yQW5pbWF0aW9uKGFuaW1hdGlvbkRldGFpbHMuZnJvbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uRGV0YWlscy50byxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uRGV0YWlscy5jbGFzc2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25EZXRhaWxzLmFuY2hvcnMpXG4gICAgICAgICAgOiBwcmVwYXJlUmVndWxhckFuaW1hdGlvbihhbmltYXRpb25EZXRhaWxzKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZmlsdGVyQ3NzQ2xhc3NlcyhjbGFzc2VzKSB7XG4gICAgICAvL3JlbW92ZSBhbGwgdGhlIGBuZy1gIHN0dWZmXG4gICAgICByZXR1cm4gY2xhc3Nlcy5yZXBsYWNlKC9cXGJuZy1cXFMrXFxiL2csICcnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRVbmlxdWVWYWx1ZXMoYSwgYikge1xuICAgICAgaWYgKGlzU3RyaW5nKGEpKSBhID0gYS5zcGxpdCgnICcpO1xuICAgICAgaWYgKGlzU3RyaW5nKGIpKSBiID0gYi5zcGxpdCgnICcpO1xuICAgICAgcmV0dXJuIGEuZmlsdGVyKGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICByZXR1cm4gYi5pbmRleE9mKHZhbCkgPT09IC0xO1xuICAgICAgfSkuam9pbignICcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByZXBhcmVBbmNob3JlZEFuaW1hdGlvbihjbGFzc2VzLCBvdXRBbmNob3IsIGluQW5jaG9yKSB7XG4gICAgICB2YXIgY2xvbmUgPSBqcUxpdGUoZ2V0RG9tTm9kZShvdXRBbmNob3IpLmNsb25lTm9kZSh0cnVlKSk7XG4gICAgICB2YXIgc3RhcnRpbmdDbGFzc2VzID0gZmlsdGVyQ3NzQ2xhc3NlcyhnZXRDbGFzc1ZhbChjbG9uZSkpO1xuXG4gICAgICBvdXRBbmNob3IuYWRkQ2xhc3MoTkdfQU5JTUFURV9TSElNX0NMQVNTX05BTUUpO1xuICAgICAgaW5BbmNob3IuYWRkQ2xhc3MoTkdfQU5JTUFURV9TSElNX0NMQVNTX05BTUUpO1xuXG4gICAgICBjbG9uZS5hZGRDbGFzcyhOR19BTklNQVRFX0FOQ0hPUl9DTEFTU19OQU1FKTtcblxuICAgICAgcm9vdEJvZHlFbGVtZW50LmFwcGVuZChjbG9uZSk7XG5cbiAgICAgIHZhciBhbmltYXRvckluLCBhbmltYXRvck91dCA9IHByZXBhcmVPdXRBbmltYXRpb24oKTtcblxuICAgICAgLy8gdGhlIHVzZXIgbWF5IG5vdCBlbmQgdXAgdXNpbmcgdGhlIGBvdXRgIGFuaW1hdGlvbiBhbmRcbiAgICAgIC8vIG9ubHkgbWFraW5nIHVzZSBvZiB0aGUgYGluYCBhbmltYXRpb24gb3IgdmljZS12ZXJzYS5cbiAgICAgIC8vIEluIGVpdGhlciBjYXNlIHdlIHNob3VsZCBhbGxvdyB0aGlzIGFuZCBub3QgYXNzdW1lIHRoZVxuICAgICAgLy8gYW5pbWF0aW9uIGlzIG92ZXIgdW5sZXNzIGJvdGggYW5pbWF0aW9ucyBhcmUgbm90IHVzZWQuXG4gICAgICBpZiAoIWFuaW1hdG9yT3V0KSB7XG4gICAgICAgIGFuaW1hdG9ySW4gPSBwcmVwYXJlSW5BbmltYXRpb24oKTtcbiAgICAgICAgaWYgKCFhbmltYXRvckluKSB7XG4gICAgICAgICAgcmV0dXJuIGVuZCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBzdGFydGluZ0FuaW1hdG9yID0gYW5pbWF0b3JPdXQgfHwgYW5pbWF0b3JJbjtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBydW5uZXI7XG5cbiAgICAgICAgICB2YXIgY3VycmVudEFuaW1hdGlvbiA9IHN0YXJ0aW5nQW5pbWF0b3Iuc3RhcnQoKTtcbiAgICAgICAgICBjdXJyZW50QW5pbWF0aW9uLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjdXJyZW50QW5pbWF0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIGlmICghYW5pbWF0b3JJbikge1xuICAgICAgICAgICAgICBhbmltYXRvckluID0gcHJlcGFyZUluQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgIGlmIChhbmltYXRvckluKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudEFuaW1hdGlvbiA9IGFuaW1hdG9ySW4uc3RhcnQoKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50QW5pbWF0aW9uLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBjdXJyZW50QW5pbWF0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgIGVuZCgpO1xuICAgICAgICAgICAgICAgICAgcnVubmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRBbmltYXRpb247XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGluIHRoZSBldmVudCB0aGF0IHRoZXJlIGlzIG5vIGBpbmAgYW5pbWF0aW9uXG4gICAgICAgICAgICBlbmQoKTtcbiAgICAgICAgICAgIHJ1bm5lci5jb21wbGV0ZSgpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcnVubmVyID0gbmV3ICQkQW5pbWF0ZVJ1bm5lcih7XG4gICAgICAgICAgICBlbmQ6IGVuZEZuLFxuICAgICAgICAgICAgY2FuY2VsOiBlbmRGblxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIHJ1bm5lcjtcblxuICAgICAgICAgIGZ1bmN0aW9uIGVuZEZuKCkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRBbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgY3VycmVudEFuaW1hdGlvbi5lbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZUFuY2hvclN0eWxlcyhhbmNob3IpIHtcbiAgICAgICAgdmFyIHN0eWxlcyA9IHt9O1xuXG4gICAgICAgIHZhciBjb29yZHMgPSBnZXREb21Ob2RlKGFuY2hvcikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgLy8gd2UgaXRlcmF0ZSBkaXJlY3RseSBzaW5jZSBzYWZhcmkgbWVzc2VzIHVwIGFuZCBkb2Vzbid0IHJldHVyblxuICAgICAgICAvLyBhbGwgdGhlIGtleXMgZm9yIHRoZSBjb29kcyBvYmplY3Qgd2hlbiBpdGVyYXRlZFxuICAgICAgICBmb3JFYWNoKFsnd2lkdGgnLCdoZWlnaHQnLCd0b3AnLCdsZWZ0J10sIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGNvb3Jkc1trZXldO1xuICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICB2YWx1ZSArPSBib2R5Tm9kZS5zY3JvbGxUb3A7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgIHZhbHVlICs9IGJvZHlOb2RlLnNjcm9sbExlZnQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdHlsZXNba2V5XSA9IE1hdGguZmxvb3IodmFsdWUpICsgJ3B4JztcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdHlsZXM7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHByZXBhcmVPdXRBbmltYXRpb24oKSB7XG4gICAgICAgIHZhciBhbmltYXRvciA9ICRhbmltYXRlQ3NzKGNsb25lLCB7XG4gICAgICAgICAgYWRkQ2xhc3M6IE5HX09VVF9BTkNIT1JfQ0xBU1NfTkFNRSxcbiAgICAgICAgICBkZWxheTogdHJ1ZSxcbiAgICAgICAgICBmcm9tOiBjYWxjdWxhdGVBbmNob3JTdHlsZXMob3V0QW5jaG9yKVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyByZWFkIHRoZSBjb21tZW50IHdpdGhpbiBgcHJlcGFyZVJlZ3VsYXJBbmltYXRpb25gIHRvIHVuZGVyc3RhbmRcbiAgICAgICAgLy8gd2h5IHRoaXMgY2hlY2sgaXMgbmVjZXNzYXJ5XG4gICAgICAgIHJldHVybiBhbmltYXRvci4kJHdpbGxBbmltYXRlID8gYW5pbWF0b3IgOiBudWxsO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRDbGFzc1ZhbChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LmF0dHIoJ2NsYXNzJykgfHwgJyc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHByZXBhcmVJbkFuaW1hdGlvbigpIHtcbiAgICAgICAgdmFyIGVuZGluZ0NsYXNzZXMgPSBmaWx0ZXJDc3NDbGFzc2VzKGdldENsYXNzVmFsKGluQW5jaG9yKSk7XG4gICAgICAgIHZhciB0b0FkZCA9IGdldFVuaXF1ZVZhbHVlcyhlbmRpbmdDbGFzc2VzLCBzdGFydGluZ0NsYXNzZXMpO1xuICAgICAgICB2YXIgdG9SZW1vdmUgPSBnZXRVbmlxdWVWYWx1ZXMoc3RhcnRpbmdDbGFzc2VzLCBlbmRpbmdDbGFzc2VzKTtcblxuICAgICAgICB2YXIgYW5pbWF0b3IgPSAkYW5pbWF0ZUNzcyhjbG9uZSwge1xuICAgICAgICAgIHRvOiBjYWxjdWxhdGVBbmNob3JTdHlsZXMoaW5BbmNob3IpLFxuICAgICAgICAgIGFkZENsYXNzOiBOR19JTl9BTkNIT1JfQ0xBU1NfTkFNRSArICcgJyArIHRvQWRkLFxuICAgICAgICAgIHJlbW92ZUNsYXNzOiBOR19PVVRfQU5DSE9SX0NMQVNTX05BTUUgKyAnICcgKyB0b1JlbW92ZSxcbiAgICAgICAgICBkZWxheTogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyByZWFkIHRoZSBjb21tZW50IHdpdGhpbiBgcHJlcGFyZVJlZ3VsYXJBbmltYXRpb25gIHRvIHVuZGVyc3RhbmRcbiAgICAgICAgLy8gd2h5IHRoaXMgY2hlY2sgaXMgbmVjZXNzYXJ5XG4gICAgICAgIHJldHVybiBhbmltYXRvci4kJHdpbGxBbmltYXRlID8gYW5pbWF0b3IgOiBudWxsO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBlbmQoKSB7XG4gICAgICAgIGNsb25lLnJlbW92ZSgpO1xuICAgICAgICBvdXRBbmNob3IucmVtb3ZlQ2xhc3MoTkdfQU5JTUFURV9TSElNX0NMQVNTX05BTUUpO1xuICAgICAgICBpbkFuY2hvci5yZW1vdmVDbGFzcyhOR19BTklNQVRFX1NISU1fQ0xBU1NfTkFNRSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJlcGFyZUZyb21Ub0FuY2hvckFuaW1hdGlvbihmcm9tLCB0bywgY2xhc3NlcywgYW5jaG9ycykge1xuICAgICAgdmFyIGZyb21BbmltYXRpb24gPSBwcmVwYXJlUmVndWxhckFuaW1hdGlvbihmcm9tKTtcbiAgICAgIHZhciB0b0FuaW1hdGlvbiA9IHByZXBhcmVSZWd1bGFyQW5pbWF0aW9uKHRvKTtcblxuICAgICAgdmFyIGFuY2hvckFuaW1hdGlvbnMgPSBbXTtcbiAgICAgIGZvckVhY2goYW5jaG9ycywgZnVuY3Rpb24oYW5jaG9yKSB7XG4gICAgICAgIHZhciBvdXRFbGVtZW50ID0gYW5jaG9yWydvdXQnXTtcbiAgICAgICAgdmFyIGluRWxlbWVudCA9IGFuY2hvclsnaW4nXTtcbiAgICAgICAgdmFyIGFuaW1hdG9yID0gcHJlcGFyZUFuY2hvcmVkQW5pbWF0aW9uKGNsYXNzZXMsIG91dEVsZW1lbnQsIGluRWxlbWVudCk7XG4gICAgICAgIGlmIChhbmltYXRvcikge1xuICAgICAgICAgIGFuY2hvckFuaW1hdGlvbnMucHVzaChhbmltYXRvcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBubyBwb2ludCBpbiBkb2luZyBhbnl0aGluZyB3aGVuIHRoZXJlIGFyZSBubyBlbGVtZW50cyB0byBhbmltYXRlXG4gICAgICBpZiAoIWZyb21BbmltYXRpb24gJiYgIXRvQW5pbWF0aW9uICYmIGFuY2hvckFuaW1hdGlvbnMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYW5pbWF0aW9uUnVubmVycyA9IFtdO1xuXG4gICAgICAgICAgaWYgKGZyb21BbmltYXRpb24pIHtcbiAgICAgICAgICAgIGFuaW1hdGlvblJ1bm5lcnMucHVzaChmcm9tQW5pbWF0aW9uLnN0YXJ0KCkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0b0FuaW1hdGlvbikge1xuICAgICAgICAgICAgYW5pbWF0aW9uUnVubmVycy5wdXNoKHRvQW5pbWF0aW9uLnN0YXJ0KCkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZvckVhY2goYW5jaG9yQW5pbWF0aW9ucywgZnVuY3Rpb24oYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICBhbmltYXRpb25SdW5uZXJzLnB1c2goYW5pbWF0aW9uLnN0YXJ0KCkpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdmFyIHJ1bm5lciA9IG5ldyAkJEFuaW1hdGVSdW5uZXIoe1xuICAgICAgICAgICAgZW5kOiBlbmRGbixcbiAgICAgICAgICAgIGNhbmNlbDogZW5kRm4gLy8gQ1NTLWRyaXZlbiBhbmltYXRpb25zIGNhbm5vdCBiZSBjYW5jZWxsZWQsIG9ubHkgZW5kZWRcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgICQkQW5pbWF0ZVJ1bm5lci5hbGwoYW5pbWF0aW9uUnVubmVycywgZnVuY3Rpb24oc3RhdHVzKSB7XG4gICAgICAgICAgICBydW5uZXIuY29tcGxldGUoc3RhdHVzKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBydW5uZXI7XG5cbiAgICAgICAgICBmdW5jdGlvbiBlbmRGbigpIHtcbiAgICAgICAgICAgIGZvckVhY2goYW5pbWF0aW9uUnVubmVycywgZnVuY3Rpb24ocnVubmVyKSB7XG4gICAgICAgICAgICAgIHJ1bm5lci5lbmQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmVwYXJlUmVndWxhckFuaW1hdGlvbihhbmltYXRpb25EZXRhaWxzKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IGFuaW1hdGlvbkRldGFpbHMuZWxlbWVudDtcbiAgICAgIHZhciBvcHRpb25zID0gYW5pbWF0aW9uRGV0YWlscy5vcHRpb25zIHx8IHt9O1xuXG4gICAgICBpZiAoYW5pbWF0aW9uRGV0YWlscy5zdHJ1Y3R1cmFsKSB7XG4gICAgICAgIC8vIHN0cnVjdHVyYWwgYW5pbWF0aW9ucyBlbnN1cmUgdGhhdCB0aGUgQ1NTIGNsYXNzZXMgYXJlIGFsd2F5cyBhcHBsaWVkXG4gICAgICAgIC8vIGJlZm9yZSB0aGUgZGV0ZWN0aW9uIHN0YXJ0cy5cbiAgICAgICAgb3B0aW9ucy5zdHJ1Y3R1cmFsID0gb3B0aW9ucy5hcHBseUNsYXNzZXNFYXJseSA9IHRydWU7XG5cbiAgICAgICAgLy8gd2Ugc3BlY2lhbCBjYXNlIHRoZSBsZWF2ZSBhbmltYXRpb24gc2luY2Ugd2Ugd2FudCB0byBlbnN1cmUgdGhhdFxuICAgICAgICAvLyB0aGUgZWxlbWVudCBpcyByZW1vdmVkIGFzIHNvb24gYXMgdGhlIGFuaW1hdGlvbiBpcyBvdmVyLiBPdGhlcndpc2VcbiAgICAgICAgLy8gYSBmbGlja2VyIG1pZ2h0IGFwcGVhciBvciB0aGUgZWxlbWVudCBtYXkgbm90IGJlIHJlbW92ZWQgYXQgYWxsXG4gICAgICAgIG9wdGlvbnMuZXZlbnQgPSBhbmltYXRpb25EZXRhaWxzLmV2ZW50O1xuICAgICAgICBpZiAob3B0aW9ucy5ldmVudCA9PT0gJ2xlYXZlJykge1xuICAgICAgICAgIG9wdGlvbnMub25Eb25lID0gb3B0aW9ucy5kb21PcGVyYXRpb247XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbnMuZXZlbnQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgYW5pbWF0b3IgPSAkYW5pbWF0ZUNzcyhlbGVtZW50LCBvcHRpb25zKTtcblxuICAgICAgLy8gdGhlIGRyaXZlciBsb29rdXAgY29kZSBpbnNpZGUgb2YgJCRhbmltYXRpb24gYXR0ZW1wdHMgdG8gc3Bhd24gYVxuICAgICAgLy8gZHJpdmVyIG9uZSBieSBvbmUgdW50aWwgYSBkcml2ZXIgcmV0dXJucyBhLiQkd2lsbEFuaW1hdGUgYW5pbWF0b3Igb2JqZWN0LlxuICAgICAgLy8gJGFuaW1hdGVDc3Mgd2lsbCBhbHdheXMgcmV0dXJuIGFuIG9iamVjdCwgaG93ZXZlciwgaXQgd2lsbCBwYXNzIGluXG4gICAgICAvLyBhIGZsYWcgYXMgYSBoaW50IGFzIHRvIHdoZXRoZXIgYW4gYW5pbWF0aW9uIHdhcyBkZXRlY3RlZCBvciBub3RcbiAgICAgIHJldHVybiBhbmltYXRvci4kJHdpbGxBbmltYXRlID8gYW5pbWF0b3IgOiBudWxsO1xuICAgIH1cbiAgfV07XG59XTtcblxuLy8gVE9ETyhtYXRza28pOiB1c2UgY2FjaGluZyBoZXJlIHRvIHNwZWVkIHRoaW5ncyB1cCBmb3IgZGV0ZWN0aW9uXG4vLyBUT0RPKG1hdHNrbyk6IGFkZCBkb2N1bWVudGF0aW9uXG4vLyAgYnkgdGhlIHRpbWUuLi5cblxudmFyICQkQW5pbWF0ZUpzUHJvdmlkZXIgPSBbJyRhbmltYXRlUHJvdmlkZXInLCBmdW5jdGlvbigkYW5pbWF0ZVByb3ZpZGVyKSB7XG4gIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgJyQkQW5pbWF0ZVJ1bm5lcicsICckJHJBRk11dGV4JywgJyQkanFMaXRlJyxcbiAgICAgICBmdW5jdGlvbigkaW5qZWN0b3IsICAgJCRBbmltYXRlUnVubmVyLCAgICQkckFGTXV0ZXgsICAgJCRqcUxpdGUpIHtcblxuICAgIHZhciBhcHBseUFuaW1hdGlvbkNsYXNzZXMgPSBhcHBseUFuaW1hdGlvbkNsYXNzZXNGYWN0b3J5KCQkanFMaXRlKTtcbiAgICAgICAgIC8vICRhbmltYXRlSnMoZWxlbWVudCwgJ2VudGVyJyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50LCBjbGFzc2VzLCBvcHRpb25zKSB7XG4gICAgICAvLyB0aGUgYGNsYXNzZXNgIGFyZ3VtZW50IGlzIG9wdGlvbmFsIGFuZCBpZiBpdCBpcyBub3QgdXNlZFxuICAgICAgLy8gdGhlbiB0aGUgY2xhc3NlcyB3aWxsIGJlIHJlc29sdmVkIGZyb20gdGhlIGVsZW1lbnQncyBjbGFzc05hbWVcbiAgICAgIC8vIHByb3BlcnR5IGFzIHdlbGwgYXMgb3B0aW9ucy5hZGRDbGFzcy9vcHRpb25zLnJlbW92ZUNsYXNzLlxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMgJiYgaXNPYmplY3QoY2xhc3NlcykpIHtcbiAgICAgICAgb3B0aW9ucyA9IGNsYXNzZXM7XG4gICAgICAgIGNsYXNzZXMgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGlvbk9wdGlvbnMob3B0aW9ucyk7XG4gICAgICBpZiAoIWNsYXNzZXMpIHtcbiAgICAgICAgY2xhc3NlcyA9IGVsZW1lbnQuYXR0cignY2xhc3MnKSB8fCAnJztcbiAgICAgICAgaWYgKG9wdGlvbnMuYWRkQ2xhc3MpIHtcbiAgICAgICAgICBjbGFzc2VzICs9ICcgJyArIG9wdGlvbnMuYWRkQ2xhc3M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMucmVtb3ZlQ2xhc3MpIHtcbiAgICAgICAgICBjbGFzc2VzICs9ICcgJyArIG9wdGlvbnMucmVtb3ZlQ2xhc3M7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGNsYXNzZXNUb0FkZCA9IG9wdGlvbnMuYWRkQ2xhc3M7XG4gICAgICB2YXIgY2xhc3Nlc1RvUmVtb3ZlID0gb3B0aW9ucy5yZW1vdmVDbGFzcztcblxuICAgICAgLy8gdGhlIGxvb2t1cEFuaW1hdGlvbnMgZnVuY3Rpb24gcmV0dXJucyBhIHNlcmllcyBvZiBhbmltYXRpb24gb2JqZWN0cyB0aGF0IGFyZVxuICAgICAgLy8gbWF0Y2hlZCB1cCB3aXRoIG9uZSBvciBtb3JlIG9mIHRoZSBDU1MgY2xhc3Nlcy4gVGhlc2UgYW5pbWF0aW9uIG9iamVjdHMgYXJlXG4gICAgICAvLyBkZWZpbmVkIHZpYSB0aGUgbW9kdWxlLmFuaW1hdGlvbiBmYWN0b3J5IGZ1bmN0aW9uLiBJZiBub3RoaW5nIGlzIGRldGVjdGVkIHRoZW5cbiAgICAgIC8vIHdlIGRvbid0IHJldHVybiBhbnl0aGluZyB3aGljaCB0aGVuIG1ha2VzICRhbmltYXRpb24gcXVlcnkgdGhlIG5leHQgZHJpdmVyLlxuICAgICAgdmFyIGFuaW1hdGlvbnMgPSBsb29rdXBBbmltYXRpb25zKGNsYXNzZXMpO1xuICAgICAgdmFyIGJlZm9yZSwgYWZ0ZXI7XG4gICAgICBpZiAoYW5pbWF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGFmdGVyRm4sIGJlZm9yZUZuO1xuICAgICAgICBpZiAoZXZlbnQgPT0gJ2xlYXZlJykge1xuICAgICAgICAgIGJlZm9yZUZuID0gJ2xlYXZlJztcbiAgICAgICAgICBhZnRlckZuID0gJ2FmdGVyTGVhdmUnOyAvLyBUT0RPKG1hdHNrbyk6IGdldCByaWQgb2YgdGhpc1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJlZm9yZUZuID0gJ2JlZm9yZScgKyBldmVudC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGV2ZW50LnN1YnN0cigxKTtcbiAgICAgICAgICBhZnRlckZuID0gZXZlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQgIT09ICdlbnRlcicgJiYgZXZlbnQgIT09ICdtb3ZlJykge1xuICAgICAgICAgIGJlZm9yZSA9IHBhY2thZ2VBbmltYXRpb25zKGVsZW1lbnQsIGV2ZW50LCBvcHRpb25zLCBhbmltYXRpb25zLCBiZWZvcmVGbik7XG4gICAgICAgIH1cbiAgICAgICAgYWZ0ZXIgID0gcGFja2FnZUFuaW1hdGlvbnMoZWxlbWVudCwgZXZlbnQsIG9wdGlvbnMsIGFuaW1hdGlvbnMsIGFmdGVyRm4pO1xuICAgICAgfVxuXG4gICAgICAvLyBubyBtYXRjaGluZyBhbmltYXRpb25zXG4gICAgICBpZiAoIWJlZm9yZSAmJiAhYWZ0ZXIpIHJldHVybjtcblxuICAgICAgZnVuY3Rpb24gYXBwbHlPcHRpb25zKCkge1xuICAgICAgICBvcHRpb25zLmRvbU9wZXJhdGlvbigpO1xuICAgICAgICBhcHBseUFuaW1hdGlvbkNsYXNzZXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgY2xvc2VBY3RpdmVBbmltYXRpb25zO1xuICAgICAgICAgIHZhciBjaGFpbiA9IFtdO1xuXG4gICAgICAgICAgaWYgKGJlZm9yZSkge1xuICAgICAgICAgICAgY2hhaW4ucHVzaChmdW5jdGlvbihmbikge1xuICAgICAgICAgICAgICBjbG9zZUFjdGl2ZUFuaW1hdGlvbnMgPSBiZWZvcmUoZm4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNoYWluLmxlbmd0aCkge1xuICAgICAgICAgICAgY2hhaW4ucHVzaChmdW5jdGlvbihmbikge1xuICAgICAgICAgICAgICBhcHBseU9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgZm4odHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXBwbHlPcHRpb25zKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGFmdGVyKSB7XG4gICAgICAgICAgICBjaGFpbi5wdXNoKGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICAgICAgIGNsb3NlQWN0aXZlQW5pbWF0aW9ucyA9IGFmdGVyKGZuKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBhbmltYXRpb25DbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgICB2YXIgcnVubmVyID0gbmV3ICQkQW5pbWF0ZVJ1bm5lcih7XG4gICAgICAgICAgICBlbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBlbmRBbmltYXRpb25zKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FuY2VsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgZW5kQW5pbWF0aW9ucyh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgICQkQW5pbWF0ZVJ1bm5lci5jaGFpbihjaGFpbiwgb25Db21wbGV0ZSk7XG4gICAgICAgICAgcmV0dXJuIHJ1bm5lcjtcblxuICAgICAgICAgIGZ1bmN0aW9uIG9uQ29tcGxldGUoc3VjY2Vzcykge1xuICAgICAgICAgICAgYW5pbWF0aW9uQ2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGFwcGx5T3B0aW9ucygpO1xuICAgICAgICAgICAgYXBwbHlBbmltYXRpb25TdHlsZXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgICBydW5uZXIuY29tcGxldGUoc3VjY2Vzcyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gZW5kQW5pbWF0aW9ucyhjYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIGlmICghYW5pbWF0aW9uQ2xvc2VkKSB7XG4gICAgICAgICAgICAgIChjbG9zZUFjdGl2ZUFuaW1hdGlvbnMgfHwgbm9vcCkoY2FuY2VsbGVkKTtcbiAgICAgICAgICAgICAgb25Db21wbGV0ZShjYW5jZWxsZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gZXhlY3V0ZUFuaW1hdGlvbkZuKGZuLCBlbGVtZW50LCBldmVudCwgb3B0aW9ucywgb25Eb25lKSB7XG4gICAgICAgIHZhciBhcmdzO1xuICAgICAgICBzd2l0Y2ggKGV2ZW50KSB7XG4gICAgICAgICAgY2FzZSAnYW5pbWF0ZSc6XG4gICAgICAgICAgICBhcmdzID0gW2VsZW1lbnQsIG9wdGlvbnMuZnJvbSwgb3B0aW9ucy50bywgb25Eb25lXTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnc2V0Q2xhc3MnOlxuICAgICAgICAgICAgYXJncyA9IFtlbGVtZW50LCBjbGFzc2VzVG9BZGQsIGNsYXNzZXNUb1JlbW92ZSwgb25Eb25lXTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnYWRkQ2xhc3MnOlxuICAgICAgICAgICAgYXJncyA9IFtlbGVtZW50LCBjbGFzc2VzVG9BZGQsIG9uRG9uZV07XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ3JlbW92ZUNsYXNzJzpcbiAgICAgICAgICAgIGFyZ3MgPSBbZWxlbWVudCwgY2xhc3Nlc1RvUmVtb3ZlLCBvbkRvbmVdO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYXJncyA9IFtlbGVtZW50LCBvbkRvbmVdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBhcmdzLnB1c2gob3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIHZhbHVlID0gZm4uYXBwbHkoZm4sIGFyZ3MpO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZS5zdGFydCkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3RhcnQoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiAkJEFuaW1hdGVSdW5uZXIpIHtcbiAgICAgICAgICAgIHZhbHVlLmRvbmUob25Eb25lKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgICAvLyBvcHRpb25hbCBvbkVuZCAvIG9uQ2FuY2VsIGNhbGxiYWNrXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdyb3VwRXZlbnRlZEFuaW1hdGlvbnMoZWxlbWVudCwgZXZlbnQsIG9wdGlvbnMsIGFuaW1hdGlvbnMsIGZuTmFtZSkge1xuICAgICAgICB2YXIgb3BlcmF0aW9ucyA9IFtdO1xuICAgICAgICBmb3JFYWNoKGFuaW1hdGlvbnMsIGZ1bmN0aW9uKGFuaSkge1xuICAgICAgICAgIHZhciBhbmltYXRpb24gPSBhbmlbZm5OYW1lXTtcbiAgICAgICAgICBpZiAoIWFuaW1hdGlvbikgcmV0dXJuO1xuXG4gICAgICAgICAgLy8gbm90ZSB0aGF0IGFsbCBvZiB0aGVzZSBhbmltYXRpb25zIHdpbGwgcnVuIGluIHBhcmFsbGVsXG4gICAgICAgICAgb3BlcmF0aW9ucy5wdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHJ1bm5lcjtcbiAgICAgICAgICAgIHZhciBlbmRQcm9ncmVzc0NiO1xuXG4gICAgICAgICAgICB2YXIgcmVzb2x2ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBvbkFuaW1hdGlvbkNvbXBsZXRlID0gZnVuY3Rpb24ocmVqZWN0ZWQpIHtcbiAgICAgICAgICAgICAgaWYgKCFyZXNvbHZlZCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAoZW5kUHJvZ3Jlc3NDYiB8fCBub29wKShyZWplY3RlZCk7XG4gICAgICAgICAgICAgICAgcnVubmVyLmNvbXBsZXRlKCFyZWplY3RlZCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJ1bm5lciA9IG5ldyAkJEFuaW1hdGVSdW5uZXIoe1xuICAgICAgICAgICAgICBlbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIG9uQW5pbWF0aW9uQ29tcGxldGUoKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY2FuY2VsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBvbkFuaW1hdGlvbkNvbXBsZXRlKHRydWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZW5kUHJvZ3Jlc3NDYiA9IGV4ZWN1dGVBbmltYXRpb25GbihhbmltYXRpb24sIGVsZW1lbnQsIGV2ZW50LCBvcHRpb25zLCBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgdmFyIGNhbmNlbGxlZCA9IHJlc3VsdCA9PT0gZmFsc2U7XG4gICAgICAgICAgICAgIG9uQW5pbWF0aW9uQ29tcGxldGUoY2FuY2VsbGVkKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gb3BlcmF0aW9ucztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcGFja2FnZUFuaW1hdGlvbnMoZWxlbWVudCwgZXZlbnQsIG9wdGlvbnMsIGFuaW1hdGlvbnMsIGZuTmFtZSkge1xuICAgICAgICB2YXIgb3BlcmF0aW9ucyA9IGdyb3VwRXZlbnRlZEFuaW1hdGlvbnMoZWxlbWVudCwgZXZlbnQsIG9wdGlvbnMsIGFuaW1hdGlvbnMsIGZuTmFtZSk7XG4gICAgICAgIGlmIChvcGVyYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHZhciBhLGI7XG4gICAgICAgICAgaWYgKGZuTmFtZSA9PT0gJ2JlZm9yZVNldENsYXNzJykge1xuICAgICAgICAgICAgYSA9IGdyb3VwRXZlbnRlZEFuaW1hdGlvbnMoZWxlbWVudCwgJ3JlbW92ZUNsYXNzJywgb3B0aW9ucywgYW5pbWF0aW9ucywgJ2JlZm9yZVJlbW92ZUNsYXNzJyk7XG4gICAgICAgICAgICBiID0gZ3JvdXBFdmVudGVkQW5pbWF0aW9ucyhlbGVtZW50LCAnYWRkQ2xhc3MnLCBvcHRpb25zLCBhbmltYXRpb25zLCAnYmVmb3JlQWRkQ2xhc3MnKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGZuTmFtZSA9PT0gJ3NldENsYXNzJykge1xuICAgICAgICAgICAgYSA9IGdyb3VwRXZlbnRlZEFuaW1hdGlvbnMoZWxlbWVudCwgJ3JlbW92ZUNsYXNzJywgb3B0aW9ucywgYW5pbWF0aW9ucywgJ3JlbW92ZUNsYXNzJyk7XG4gICAgICAgICAgICBiID0gZ3JvdXBFdmVudGVkQW5pbWF0aW9ucyhlbGVtZW50LCAnYWRkQ2xhc3MnLCBvcHRpb25zLCBhbmltYXRpb25zLCAnYWRkQ2xhc3MnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYSkge1xuICAgICAgICAgICAgb3BlcmF0aW9ucyA9IG9wZXJhdGlvbnMuY29uY2F0KGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYikge1xuICAgICAgICAgICAgb3BlcmF0aW9ucyA9IG9wZXJhdGlvbnMuY29uY2F0KGIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcGVyYXRpb25zLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIFRPRE8obWF0c2tvKTogYWRkIGRvY3VtZW50YXRpb25cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHN0YXJ0QW5pbWF0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgdmFyIHJ1bm5lcnMgPSBbXTtcbiAgICAgICAgICBpZiAob3BlcmF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvckVhY2gob3BlcmF0aW9ucywgZnVuY3Rpb24oYW5pbWF0ZUZuKSB7XG4gICAgICAgICAgICAgIHJ1bm5lcnMucHVzaChhbmltYXRlRm4oKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBydW5uZXJzLmxlbmd0aCA/ICQkQW5pbWF0ZVJ1bm5lci5hbGwocnVubmVycywgY2FsbGJhY2spIDogY2FsbGJhY2soKTtcblxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBlbmRGbihyZWplY3QpIHtcbiAgICAgICAgICAgIGZvckVhY2gocnVubmVycywgZnVuY3Rpb24ocnVubmVyKSB7XG4gICAgICAgICAgICAgIHJlamVjdCA/IHJ1bm5lci5jYW5jZWwoKSA6IHJ1bm5lci5lbmQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGxvb2t1cEFuaW1hdGlvbnMoY2xhc3Nlcykge1xuICAgICAgY2xhc3NlcyA9IGlzQXJyYXkoY2xhc3NlcykgPyBjbGFzc2VzIDogY2xhc3Nlcy5zcGxpdCgnICcpO1xuICAgICAgdmFyIG1hdGNoZXMgPSBbXSwgZmxhZ01hcCA9IHt9O1xuICAgICAgZm9yICh2YXIgaT0wOyBpIDwgY2xhc3Nlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIga2xhc3MgPSBjbGFzc2VzW2ldLFxuICAgICAgICAgICAgYW5pbWF0aW9uRmFjdG9yeSA9ICRhbmltYXRlUHJvdmlkZXIuJCRyZWdpc3RlcmVkQW5pbWF0aW9uc1trbGFzc107XG4gICAgICAgIGlmIChhbmltYXRpb25GYWN0b3J5ICYmICFmbGFnTWFwW2tsYXNzXSkge1xuICAgICAgICAgIG1hdGNoZXMucHVzaCgkaW5qZWN0b3IuZ2V0KGFuaW1hdGlvbkZhY3RvcnkpKTtcbiAgICAgICAgICBmbGFnTWFwW2tsYXNzXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgIH1cbiAgfV07XG59XTtcblxudmFyICQkQW5pbWF0ZUpzRHJpdmVyUHJvdmlkZXIgPSBbJyQkYW5pbWF0aW9uUHJvdmlkZXInLCBmdW5jdGlvbigkJGFuaW1hdGlvblByb3ZpZGVyKSB7XG4gICQkYW5pbWF0aW9uUHJvdmlkZXIuZHJpdmVycy5wdXNoKCckJGFuaW1hdGVKc0RyaXZlcicpO1xuICB0aGlzLiRnZXQgPSBbJyQkYW5pbWF0ZUpzJywgJyQkQW5pbWF0ZVJ1bm5lcicsIGZ1bmN0aW9uKCQkYW5pbWF0ZUpzLCAkJEFuaW1hdGVSdW5uZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaW5pdERyaXZlckZuKGFuaW1hdGlvbkRldGFpbHMpIHtcbiAgICAgIGlmIChhbmltYXRpb25EZXRhaWxzLmZyb20gJiYgYW5pbWF0aW9uRGV0YWlscy50bykge1xuICAgICAgICB2YXIgZnJvbUFuaW1hdGlvbiA9IHByZXBhcmVBbmltYXRpb24oYW5pbWF0aW9uRGV0YWlscy5mcm9tKTtcbiAgICAgICAgdmFyIHRvQW5pbWF0aW9uID0gcHJlcGFyZUFuaW1hdGlvbihhbmltYXRpb25EZXRhaWxzLnRvKTtcbiAgICAgICAgaWYgKCFmcm9tQW5pbWF0aW9uICYmICF0b0FuaW1hdGlvbikgcmV0dXJuO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGFuaW1hdGlvblJ1bm5lcnMgPSBbXTtcblxuICAgICAgICAgICAgaWYgKGZyb21BbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uUnVubmVycy5wdXNoKGZyb21BbmltYXRpb24uc3RhcnQoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0b0FuaW1hdGlvbikge1xuICAgICAgICAgICAgICBhbmltYXRpb25SdW5uZXJzLnB1c2godG9BbmltYXRpb24uc3RhcnQoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQkQW5pbWF0ZVJ1bm5lci5hbGwoYW5pbWF0aW9uUnVubmVycywgZG9uZSk7XG5cbiAgICAgICAgICAgIHZhciBydW5uZXIgPSBuZXcgJCRBbmltYXRlUnVubmVyKHtcbiAgICAgICAgICAgICAgZW5kOiBlbmRGbkZhY3RvcnkoKSxcbiAgICAgICAgICAgICAgY2FuY2VsOiBlbmRGbkZhY3RvcnkoKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBydW5uZXI7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGVuZEZuRmFjdG9yeSgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGZvckVhY2goYW5pbWF0aW9uUnVubmVycywgZnVuY3Rpb24ocnVubmVyKSB7XG4gICAgICAgICAgICAgICAgICAvLyBhdCB0aGlzIHBvaW50IHdlIGNhbm5vdCBjYW5jZWwgYW5pbWF0aW9ucyBmb3IgZ3JvdXBzIGp1c3QgeWV0LiAxLjUrXG4gICAgICAgICAgICAgICAgICBydW5uZXIuZW5kKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGRvbmUoc3RhdHVzKSB7XG4gICAgICAgICAgICAgIHJ1bm5lci5jb21wbGV0ZShzdGF0dXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBwcmVwYXJlQW5pbWF0aW9uKGFuaW1hdGlvbkRldGFpbHMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBwcmVwYXJlQW5pbWF0aW9uKGFuaW1hdGlvbkRldGFpbHMpIHtcbiAgICAgIC8vIFRPRE8obWF0c2tvKTogbWFrZSBzdXJlIHRvIGNoZWNrIGZvciBncm91cGVkIGFuaW1hdGlvbnMgYW5kIGRlbGVnYXRlIGRvd24gdG8gbm9ybWFsIGFuaW1hdGlvbnNcbiAgICAgIHZhciBlbGVtZW50ID0gYW5pbWF0aW9uRGV0YWlscy5lbGVtZW50O1xuICAgICAgdmFyIGV2ZW50ID0gYW5pbWF0aW9uRGV0YWlscy5ldmVudDtcbiAgICAgIHZhciBvcHRpb25zID0gYW5pbWF0aW9uRGV0YWlscy5vcHRpb25zO1xuICAgICAgdmFyIGNsYXNzZXMgPSBhbmltYXRpb25EZXRhaWxzLmNsYXNzZXM7XG4gICAgICByZXR1cm4gJCRhbmltYXRlSnMoZWxlbWVudCwgZXZlbnQsIGNsYXNzZXMsIG9wdGlvbnMpO1xuICAgIH1cbiAgfV07XG59XTtcblxudmFyIE5HX0FOSU1BVEVfQVRUUl9OQU1FID0gJ2RhdGEtbmctYW5pbWF0ZSc7XG52YXIgTkdfQU5JTUFURV9QSU5fREFUQSA9ICckbmdBbmltYXRlUGluJztcbnZhciAkJEFuaW1hdGVRdWV1ZVByb3ZpZGVyID0gWyckYW5pbWF0ZVByb3ZpZGVyJywgZnVuY3Rpb24oJGFuaW1hdGVQcm92aWRlcikge1xuICB2YXIgUFJFX0RJR0VTVF9TVEFURSA9IDE7XG4gIHZhciBSVU5OSU5HX1NUQVRFID0gMjtcblxuICB2YXIgcnVsZXMgPSB0aGlzLnJ1bGVzID0ge1xuICAgIHNraXA6IFtdLFxuICAgIGNhbmNlbDogW10sXG4gICAgam9pbjogW11cbiAgfTtcblxuICBmdW5jdGlvbiBpc0FsbG93ZWQocnVsZVR5cGUsIGVsZW1lbnQsIGN1cnJlbnRBbmltYXRpb24sIHByZXZpb3VzQW5pbWF0aW9uKSB7XG4gICAgcmV0dXJuIHJ1bGVzW3J1bGVUeXBlXS5zb21lKGZ1bmN0aW9uKGZuKSB7XG4gICAgICByZXR1cm4gZm4oZWxlbWVudCwgY3VycmVudEFuaW1hdGlvbiwgcHJldmlvdXNBbmltYXRpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzQW5pbWF0aW9uQ2xhc3NlcyhvcHRpb25zLCBhbmQpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgYSA9IChvcHRpb25zLmFkZENsYXNzIHx8ICcnKS5sZW5ndGggPiAwO1xuICAgIHZhciBiID0gKG9wdGlvbnMucmVtb3ZlQ2xhc3MgfHwgJycpLmxlbmd0aCA+IDA7XG4gICAgcmV0dXJuIGFuZCA/IGEgJiYgYiA6IGEgfHwgYjtcbiAgfVxuXG4gIHJ1bGVzLmpvaW4ucHVzaChmdW5jdGlvbihlbGVtZW50LCBuZXdBbmltYXRpb24sIGN1cnJlbnRBbmltYXRpb24pIHtcbiAgICAvLyBpZiB0aGUgbmV3IGFuaW1hdGlvbiBpcyBjbGFzcy1iYXNlZCB0aGVuIHdlIGNhbiBqdXN0IHRhY2sgdGhhdCBvblxuICAgIHJldHVybiAhbmV3QW5pbWF0aW9uLnN0cnVjdHVyYWwgJiYgaGFzQW5pbWF0aW9uQ2xhc3NlcyhuZXdBbmltYXRpb24ub3B0aW9ucyk7XG4gIH0pO1xuXG4gIHJ1bGVzLnNraXAucHVzaChmdW5jdGlvbihlbGVtZW50LCBuZXdBbmltYXRpb24sIGN1cnJlbnRBbmltYXRpb24pIHtcbiAgICAvLyB0aGVyZSBpcyBubyBuZWVkIHRvIGFuaW1hdGUgYW55dGhpbmcgaWYgbm8gY2xhc3NlcyBhcmUgYmVpbmcgYWRkZWQgYW5kXG4gICAgLy8gdGhlcmUgaXMgbm8gc3RydWN0dXJhbCBhbmltYXRpb24gdGhhdCB3aWxsIGJlIHRyaWdnZXJlZFxuICAgIHJldHVybiAhbmV3QW5pbWF0aW9uLnN0cnVjdHVyYWwgJiYgIWhhc0FuaW1hdGlvbkNsYXNzZXMobmV3QW5pbWF0aW9uLm9wdGlvbnMpO1xuICB9KTtcblxuICBydWxlcy5za2lwLnB1c2goZnVuY3Rpb24oZWxlbWVudCwgbmV3QW5pbWF0aW9uLCBjdXJyZW50QW5pbWF0aW9uKSB7XG4gICAgLy8gd2h5IHNob3VsZCB3ZSB0cmlnZ2VyIGEgbmV3IHN0cnVjdHVyYWwgYW5pbWF0aW9uIGlmIHRoZSBlbGVtZW50IHdpbGxcbiAgICAvLyBiZSByZW1vdmVkIGZyb20gdGhlIERPTSBhbnl3YXk/XG4gICAgcmV0dXJuIGN1cnJlbnRBbmltYXRpb24uZXZlbnQgPT0gJ2xlYXZlJyAmJiBuZXdBbmltYXRpb24uc3RydWN0dXJhbDtcbiAgfSk7XG5cbiAgcnVsZXMuc2tpcC5wdXNoKGZ1bmN0aW9uKGVsZW1lbnQsIG5ld0FuaW1hdGlvbiwgY3VycmVudEFuaW1hdGlvbikge1xuICAgIC8vIGlmIHRoZXJlIGlzIGEgY3VycmVudCBhbmltYXRpb24gdGhlbiBza2lwIHRoZSBjbGFzcy1iYXNlZCBhbmltYXRpb25cbiAgICByZXR1cm4gY3VycmVudEFuaW1hdGlvbi5zdHJ1Y3R1cmFsICYmICFuZXdBbmltYXRpb24uc3RydWN0dXJhbDtcbiAgfSk7XG5cbiAgcnVsZXMuY2FuY2VsLnB1c2goZnVuY3Rpb24oZWxlbWVudCwgbmV3QW5pbWF0aW9uLCBjdXJyZW50QW5pbWF0aW9uKSB7XG4gICAgLy8gdGhlcmUgY2FuIG5ldmVyIGJlIHR3byBzdHJ1Y3R1cmFsIGFuaW1hdGlvbnMgcnVubmluZyBhdCB0aGUgc2FtZSB0aW1lXG4gICAgcmV0dXJuIGN1cnJlbnRBbmltYXRpb24uc3RydWN0dXJhbCAmJiBuZXdBbmltYXRpb24uc3RydWN0dXJhbDtcbiAgfSk7XG5cbiAgcnVsZXMuY2FuY2VsLnB1c2goZnVuY3Rpb24oZWxlbWVudCwgbmV3QW5pbWF0aW9uLCBjdXJyZW50QW5pbWF0aW9uKSB7XG4gICAgLy8gaWYgdGhlIHByZXZpb3VzIGFuaW1hdGlvbiBpcyBhbHJlYWR5IHJ1bm5pbmcsIGJ1dCB0aGUgbmV3IGFuaW1hdGlvbiB3aWxsXG4gICAgLy8gYmUgdHJpZ2dlcmVkLCBidXQgdGhlIG5ldyBhbmltYXRpb24gaXMgc3RydWN0dXJhbFxuICAgIHJldHVybiBjdXJyZW50QW5pbWF0aW9uLnN0YXRlID09PSBSVU5OSU5HX1NUQVRFICYmIG5ld0FuaW1hdGlvbi5zdHJ1Y3R1cmFsO1xuICB9KTtcblxuICBydWxlcy5jYW5jZWwucHVzaChmdW5jdGlvbihlbGVtZW50LCBuZXdBbmltYXRpb24sIGN1cnJlbnRBbmltYXRpb24pIHtcbiAgICB2YXIgbk8gPSBuZXdBbmltYXRpb24ub3B0aW9ucztcbiAgICB2YXIgY08gPSBjdXJyZW50QW5pbWF0aW9uLm9wdGlvbnM7XG5cbiAgICAvLyBpZiB0aGUgZXhhY3Qgc2FtZSBDU1MgY2xhc3MgaXMgYWRkZWQvcmVtb3ZlZCB0aGVuIGl0J3Mgc2FmZSB0byBjYW5jZWwgaXRcbiAgICByZXR1cm4gKG5PLmFkZENsYXNzICYmIG5PLmFkZENsYXNzID09PSBjTy5yZW1vdmVDbGFzcykgfHwgKG5PLnJlbW92ZUNsYXNzICYmIG5PLnJlbW92ZUNsYXNzID09PSBjTy5hZGRDbGFzcyk7XG4gIH0pO1xuXG4gIHRoaXMuJGdldCA9IFsnJCRyQUYnLCAnJHJvb3RTY29wZScsICckcm9vdEVsZW1lbnQnLCAnJGRvY3VtZW50JywgJyQkSGFzaE1hcCcsXG4gICAgICAgICAgICAgICAnJCRhbmltYXRpb24nLCAnJCRBbmltYXRlUnVubmVyJywgJyR0ZW1wbGF0ZVJlcXVlc3QnLCAnJCRqcUxpdGUnLFxuICAgICAgIGZ1bmN0aW9uKCQkckFGLCAgICRyb290U2NvcGUsICAgJHJvb3RFbGVtZW50LCAgICRkb2N1bWVudCwgICAkJEhhc2hNYXAsXG4gICAgICAgICAgICAgICAgJCRhbmltYXRpb24sICAgJCRBbmltYXRlUnVubmVyLCAgICR0ZW1wbGF0ZVJlcXVlc3QsICAgJCRqcUxpdGUpIHtcblxuICAgIHZhciBhY3RpdmVBbmltYXRpb25zTG9va3VwID0gbmV3ICQkSGFzaE1hcCgpO1xuICAgIHZhciBkaXNhYmxlZEVsZW1lbnRzTG9va3VwID0gbmV3ICQkSGFzaE1hcCgpO1xuXG4gICAgdmFyIGFuaW1hdGlvbnNFbmFibGVkID0gbnVsbDtcblxuICAgIC8vIFdhaXQgdW50aWwgYWxsIGRpcmVjdGl2ZSBhbmQgcm91dGUtcmVsYXRlZCB0ZW1wbGF0ZXMgYXJlIGRvd25sb2FkZWQgYW5kXG4gICAgLy8gY29tcGlsZWQuIFRoZSAkdGVtcGxhdGVSZXF1ZXN0LnRvdGFsUGVuZGluZ1JlcXVlc3RzIHZhcmlhYmxlIGtlZXBzIHRyYWNrIG9mXG4gICAgLy8gYWxsIG9mIHRoZSByZW1vdGUgdGVtcGxhdGVzIGJlaW5nIGN1cnJlbnRseSBkb3dubG9hZGVkLiBJZiB0aGVyZSBhcmUgbm9cbiAgICAvLyB0ZW1wbGF0ZXMgY3VycmVudGx5IGRvd25sb2FkaW5nIHRoZW4gdGhlIHdhdGNoZXIgd2lsbCBzdGlsbCBmaXJlIGFueXdheS5cbiAgICB2YXIgZGVyZWdpc3RlcldhdGNoID0gJHJvb3RTY29wZS4kd2F0Y2goXG4gICAgICBmdW5jdGlvbigpIHsgcmV0dXJuICR0ZW1wbGF0ZVJlcXVlc3QudG90YWxQZW5kaW5nUmVxdWVzdHMgPT09IDA7IH0sXG4gICAgICBmdW5jdGlvbihpc0VtcHR5KSB7XG4gICAgICAgIGlmICghaXNFbXB0eSkgcmV0dXJuO1xuICAgICAgICBkZXJlZ2lzdGVyV2F0Y2goKTtcblxuICAgICAgICAvLyBOb3cgdGhhdCBhbGwgdGVtcGxhdGVzIGhhdmUgYmVlbiBkb3dubG9hZGVkLCAkYW5pbWF0ZSB3aWxsIHdhaXQgdW50aWxcbiAgICAgICAgLy8gdGhlIHBvc3QgZGlnZXN0IHF1ZXVlIGlzIGVtcHR5IGJlZm9yZSBlbmFibGluZyBhbmltYXRpb25zLiBCeSBoYXZpbmcgdHdvXG4gICAgICAgIC8vIGNhbGxzIHRvICRwb3N0RGlnZXN0IGNhbGxzIHdlIGNhbiBlbnN1cmUgdGhhdCB0aGUgZmxhZyBpcyBlbmFibGVkIGF0IHRoZVxuICAgICAgICAvLyB2ZXJ5IGVuZCBvZiB0aGUgcG9zdCBkaWdlc3QgcXVldWUuIFNpbmNlIGFsbCBvZiB0aGUgYW5pbWF0aW9ucyBpbiAkYW5pbWF0ZVxuICAgICAgICAvLyB1c2UgJHBvc3REaWdlc3QsIGl0J3MgaW1wb3J0YW50IHRoYXQgdGhlIGNvZGUgYmVsb3cgZXhlY3V0ZXMgYXQgdGhlIGVuZC5cbiAgICAgICAgLy8gVGhpcyBiYXNpY2FsbHkgbWVhbnMgdGhhdCB0aGUgcGFnZSBpcyBmdWxseSBkb3dubG9hZGVkIGFuZCBjb21waWxlZCBiZWZvcmVcbiAgICAgICAgLy8gYW55IGFuaW1hdGlvbnMgYXJlIHRyaWdnZXJlZC5cbiAgICAgICAgJHJvb3RTY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHJvb3RTY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyB3ZSBjaGVjayBmb3IgbnVsbCBkaXJlY3RseSBpbiB0aGUgZXZlbnQgdGhhdCB0aGUgYXBwbGljYXRpb24gYWxyZWFkeSBjYWxsZWRcbiAgICAgICAgICAgIC8vIC5lbmFibGVkKCkgd2l0aCB3aGF0ZXZlciBhcmd1bWVudHMgdGhhdCBpdCBwcm92aWRlZCBpdCB3aXRoXG4gICAgICAgICAgICBpZiAoYW5pbWF0aW9uc0VuYWJsZWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uc0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgdmFyIGJvZHlFbGVtZW50ID0ganFMaXRlKCRkb2N1bWVudFswXS5ib2R5KTtcblxuICAgIHZhciBjYWxsYmFja1JlZ2lzdHJ5ID0ge307XG5cbiAgICAvLyByZW1lbWJlciB0aGF0IHRoZSBjbGFzc05hbWVGaWx0ZXIgaXMgc2V0IGR1cmluZyB0aGUgcHJvdmlkZXIvY29uZmlnXG4gICAgLy8gc3RhZ2UgdGhlcmVmb3JlIHdlIGNhbiBvcHRpbWl6ZSBoZXJlIGFuZCBzZXR1cCBhIGhlbHBlciBmdW5jdGlvblxuICAgIHZhciBjbGFzc05hbWVGaWx0ZXIgPSAkYW5pbWF0ZVByb3ZpZGVyLmNsYXNzTmFtZUZpbHRlcigpO1xuICAgIHZhciBpc0FuaW1hdGFibGVDbGFzc05hbWUgPSAhY2xhc3NOYW1lRmlsdGVyXG4gICAgICAgICAgICAgID8gZnVuY3Rpb24oKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgICAgICAgIDogZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsYXNzTmFtZUZpbHRlci50ZXN0KGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgIH07XG5cbiAgICB2YXIgYXBwbHlBbmltYXRpb25DbGFzc2VzID0gYXBwbHlBbmltYXRpb25DbGFzc2VzRmFjdG9yeSgkJGpxTGl0ZSk7XG5cbiAgICBmdW5jdGlvbiBub3JtYWxpemVBbmltYXRpb25PcHRpb25zKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBtZXJnZUFuaW1hdGlvbk9wdGlvbnMoZWxlbWVudCwgb3B0aW9ucywge30pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbmRDYWxsYmFja3MoZWxlbWVudCwgZXZlbnQpIHtcbiAgICAgIHZhciB0YXJnZXROb2RlID0gZ2V0RG9tTm9kZShlbGVtZW50KTtcblxuICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICAgIHZhciBlbnRyaWVzID0gY2FsbGJhY2tSZWdpc3RyeVtldmVudF07XG4gICAgICBpZiAoZW50cmllcykge1xuICAgICAgICBmb3JFYWNoKGVudHJpZXMsIGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgICAgICAgaWYgKGVudHJ5Lm5vZGUuY29udGFpbnModGFyZ2V0Tm9kZSkpIHtcbiAgICAgICAgICAgIG1hdGNoZXMucHVzaChlbnRyeS5jYWxsYmFjayk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdHJpZ2dlckNhbGxiYWNrKGV2ZW50LCBlbGVtZW50LCBwaGFzZSwgZGF0YSkge1xuICAgICAgJCRyQUYoZnVuY3Rpb24oKSB7XG4gICAgICAgIGZvckVhY2goZmluZENhbGxiYWNrcyhlbGVtZW50LCBldmVudCksIGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgY2FsbGJhY2soZWxlbWVudCwgcGhhc2UsIGRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBvbjogZnVuY3Rpb24oZXZlbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIG5vZGUgPSBleHRyYWN0RWxlbWVudE5vZGUoY29udGFpbmVyKTtcbiAgICAgICAgY2FsbGJhY2tSZWdpc3RyeVtldmVudF0gPSBjYWxsYmFja1JlZ2lzdHJ5W2V2ZW50XSB8fCBbXTtcbiAgICAgICAgY2FsbGJhY2tSZWdpc3RyeVtldmVudF0ucHVzaCh7XG4gICAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2tcbiAgICAgICAgfSk7XG4gICAgICB9LFxuXG4gICAgICBvZmY6IGZ1bmN0aW9uKGV2ZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBlbnRyaWVzID0gY2FsbGJhY2tSZWdpc3RyeVtldmVudF07XG4gICAgICAgIGlmICghZW50cmllcykgcmV0dXJuO1xuXG4gICAgICAgIGNhbGxiYWNrUmVnaXN0cnlbZXZlbnRdID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICA6IGZpbHRlckZyb21SZWdpc3RyeShlbnRyaWVzLCBjb250YWluZXIsIGNhbGxiYWNrKTtcblxuICAgICAgICBmdW5jdGlvbiBmaWx0ZXJGcm9tUmVnaXN0cnkobGlzdCwgbWF0Y2hDb250YWluZXIsIG1hdGNoQ2FsbGJhY2spIHtcbiAgICAgICAgICB2YXIgY29udGFpbmVyTm9kZSA9IGV4dHJhY3RFbGVtZW50Tm9kZShtYXRjaENvbnRhaW5lcik7XG4gICAgICAgICAgcmV0dXJuIGxpc3QuZmlsdGVyKGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgICAgICAgICB2YXIgaXNNYXRjaCA9IGVudHJ5Lm5vZGUgPT09IGNvbnRhaW5lck5vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIW1hdGNoQ2FsbGJhY2sgfHwgZW50cnkuY2FsbGJhY2sgPT09IG1hdGNoQ2FsbGJhY2spO1xuICAgICAgICAgICAgcmV0dXJuICFpc01hdGNoO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBwaW46IGZ1bmN0aW9uKGVsZW1lbnQsIHBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgYXNzZXJ0QXJnKGlzRWxlbWVudChlbGVtZW50KSwgJ2VsZW1lbnQnLCAnbm90IGFuIGVsZW1lbnQnKTtcbiAgICAgICAgYXNzZXJ0QXJnKGlzRWxlbWVudChwYXJlbnRFbGVtZW50KSwgJ3BhcmVudEVsZW1lbnQnLCAnbm90IGFuIGVsZW1lbnQnKTtcbiAgICAgICAgZWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfUElOX0RBVEEsIHBhcmVudEVsZW1lbnQpO1xuICAgICAgfSxcblxuICAgICAgcHVzaDogZnVuY3Rpb24oZWxlbWVudCwgZXZlbnQsIG9wdGlvbnMsIGRvbU9wZXJhdGlvbikge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgb3B0aW9ucy5kb21PcGVyYXRpb24gPSBkb21PcGVyYXRpb247XG4gICAgICAgIHJldHVybiBxdWV1ZUFuaW1hdGlvbihlbGVtZW50LCBldmVudCwgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAvLyB0aGlzIG1ldGhvZCBoYXMgZm91ciBzaWduYXR1cmVzOlxuICAgICAgLy8gICgpIC0gZ2xvYmFsIGdldHRlclxuICAgICAgLy8gIChib29sKSAtIGdsb2JhbCBzZXR0ZXJcbiAgICAgIC8vICAoZWxlbWVudCkgLSBlbGVtZW50IGdldHRlclxuICAgICAgLy8gIChlbGVtZW50LCBib29sKSAtIGVsZW1lbnQgc2V0dGVyPEYzNz5cbiAgICAgIGVuYWJsZWQ6IGZ1bmN0aW9uKGVsZW1lbnQsIGJvb2wpIHtcbiAgICAgICAgdmFyIGFyZ0NvdW50ID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICBpZiAoYXJnQ291bnQgPT09IDApIHtcbiAgICAgICAgICAvLyAoKSAtIEdsb2JhbCBnZXR0ZXJcbiAgICAgICAgICBib29sID0gISFhbmltYXRpb25zRW5hYmxlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaGFzRWxlbWVudCA9IGlzRWxlbWVudChlbGVtZW50KTtcblxuICAgICAgICAgIGlmICghaGFzRWxlbWVudCkge1xuICAgICAgICAgICAgLy8gKGJvb2wpIC0gR2xvYmFsIHNldHRlclxuICAgICAgICAgICAgYm9vbCA9IGFuaW1hdGlvbnNFbmFibGVkID0gISFlbGVtZW50O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IGdldERvbU5vZGUoZWxlbWVudCk7XG4gICAgICAgICAgICB2YXIgcmVjb3JkRXhpc3RzID0gZGlzYWJsZWRFbGVtZW50c0xvb2t1cC5nZXQobm9kZSk7XG5cbiAgICAgICAgICAgIGlmIChhcmdDb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgICAvLyAoZWxlbWVudCkgLSBFbGVtZW50IGdldHRlclxuICAgICAgICAgICAgICBib29sID0gIXJlY29yZEV4aXN0cztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIChlbGVtZW50LCBib29sKSAtIEVsZW1lbnQgc2V0dGVyXG4gICAgICAgICAgICAgIGJvb2wgPSAhIWJvb2w7XG4gICAgICAgICAgICAgIGlmICghYm9vbCkge1xuICAgICAgICAgICAgICAgIGRpc2FibGVkRWxlbWVudHNMb29rdXAucHV0KG5vZGUsIHRydWUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlY29yZEV4aXN0cykge1xuICAgICAgICAgICAgICAgIGRpc2FibGVkRWxlbWVudHNMb29rdXAucmVtb3ZlKG5vZGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJvb2w7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHF1ZXVlQW5pbWF0aW9uKGVsZW1lbnQsIGV2ZW50LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbm9kZSwgcGFyZW50O1xuICAgICAgZWxlbWVudCA9IHN0cmlwQ29tbWVudHNGcm9tRWxlbWVudChlbGVtZW50KTtcbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIG5vZGUgPSBnZXREb21Ob2RlKGVsZW1lbnQpO1xuICAgICAgICBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpO1xuICAgICAgfVxuXG4gICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGlvbk9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICAgIC8vIHdlIGNyZWF0ZSBhIGZha2UgcnVubmVyIHdpdGggYSB3b3JraW5nIHByb21pc2UuXG4gICAgICAvLyBUaGVzZSBtZXRob2RzIHdpbGwgYmVjb21lIGF2YWlsYWJsZSBhZnRlciB0aGUgZGlnZXN0IGhhcyBwYXNzZWRcbiAgICAgIHZhciBydW5uZXIgPSBuZXcgJCRBbmltYXRlUnVubmVyKCk7XG5cbiAgICAgIC8vIHRoZXJlIGFyZSBzaXR1YXRpb25zIHdoZXJlIGEgZGlyZWN0aXZlIGlzc3VlcyBhbiBhbmltYXRpb24gZm9yXG4gICAgICAvLyBhIGpxTGl0ZSB3cmFwcGVyIHRoYXQgY29udGFpbnMgb25seSBjb21tZW50IG5vZGVzLi4uIElmIHRoaXNcbiAgICAgIC8vIGhhcHBlbnMgdGhlbiB0aGVyZSBpcyBubyB3YXkgd2UgY2FuIHBlcmZvcm0gYW4gYW5pbWF0aW9uXG4gICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQXJyYXkob3B0aW9ucy5hZGRDbGFzcykpIHtcbiAgICAgICAgb3B0aW9ucy5hZGRDbGFzcyA9IG9wdGlvbnMuYWRkQ2xhc3Muam9pbignICcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNBcnJheShvcHRpb25zLnJlbW92ZUNsYXNzKSkge1xuICAgICAgICBvcHRpb25zLnJlbW92ZUNsYXNzID0gb3B0aW9ucy5yZW1vdmVDbGFzcy5qb2luKCcgJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmZyb20gJiYgIWlzT2JqZWN0KG9wdGlvbnMuZnJvbSkpIHtcbiAgICAgICAgb3B0aW9ucy5mcm9tID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMudG8gJiYgIWlzT2JqZWN0KG9wdGlvbnMudG8pKSB7XG4gICAgICAgIG9wdGlvbnMudG8gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2xhc3NOYW1lID0gW25vZGUuY2xhc3NOYW1lLCBvcHRpb25zLmFkZENsYXNzLCBvcHRpb25zLnJlbW92ZUNsYXNzXS5qb2luKCcgJyk7XG4gICAgICBpZiAoIWlzQW5pbWF0YWJsZUNsYXNzTmFtZShjbGFzc05hbWUpKSB7XG4gICAgICAgIGNsb3NlKCk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgICB9XG5cbiAgICAgIHZhciBpc1N0cnVjdHVyYWwgPSBbJ2VudGVyJywgJ21vdmUnLCAnbGVhdmUnXS5pbmRleE9mKGV2ZW50KSA+PSAwO1xuXG4gICAgICAvLyB0aGlzIGlzIGEgaGFyZCBkaXNhYmxlIG9mIGFsbCBhbmltYXRpb25zIGZvciB0aGUgYXBwbGljYXRpb24gb3Igb25cbiAgICAgIC8vIHRoZSBlbGVtZW50IGl0c2VsZiwgdGhlcmVmb3JlICB0aGVyZSBpcyBubyBuZWVkIHRvIGNvbnRpbnVlIGZ1cnRoZXJcbiAgICAgIC8vIHBhc3QgdGhpcyBwb2ludCBpZiBub3QgZW5hYmxlZFxuICAgICAgdmFyIHNraXBBbmltYXRpb25zID0gIWFuaW1hdGlvbnNFbmFibGVkIHx8IGRpc2FibGVkRWxlbWVudHNMb29rdXAuZ2V0KG5vZGUpO1xuICAgICAgdmFyIGV4aXN0aW5nQW5pbWF0aW9uID0gKCFza2lwQW5pbWF0aW9ucyAmJiBhY3RpdmVBbmltYXRpb25zTG9va3VwLmdldChub2RlKSkgfHwge307XG4gICAgICB2YXIgaGFzRXhpc3RpbmdBbmltYXRpb24gPSAhIWV4aXN0aW5nQW5pbWF0aW9uLnN0YXRlO1xuXG4gICAgICAvLyB0aGVyZSBpcyBubyBwb2ludCBpbiB0cmF2ZXJzaW5nIHRoZSBzYW1lIGNvbGxlY3Rpb24gb2YgcGFyZW50IGFuY2VzdG9ycyBpZiBhIGZvbGxvd3VwXG4gICAgICAvLyBhbmltYXRpb24gd2lsbCBiZSBydW4gb24gdGhlIHNhbWUgZWxlbWVudCB0aGF0IGFscmVhZHkgZGlkIGFsbCB0aGF0IGNoZWNraW5nIHdvcmtcbiAgICAgIGlmICghc2tpcEFuaW1hdGlvbnMgJiYgKCFoYXNFeGlzdGluZ0FuaW1hdGlvbiB8fCBleGlzdGluZ0FuaW1hdGlvbi5zdGF0ZSAhPSBQUkVfRElHRVNUX1NUQVRFKSkge1xuICAgICAgICBza2lwQW5pbWF0aW9ucyA9ICFhcmVBbmltYXRpb25zQWxsb3dlZChlbGVtZW50LCBwYXJlbnQsIGV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNraXBBbmltYXRpb25zKSB7XG4gICAgICAgIGNsb3NlKCk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1N0cnVjdHVyYWwpIHtcbiAgICAgICAgY2xvc2VDaGlsZEFuaW1hdGlvbnMoZWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdBbmltYXRpb24gPSB7XG4gICAgICAgIHN0cnVjdHVyYWw6IGlzU3RydWN0dXJhbCxcbiAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICBjbG9zZTogY2xvc2UsXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIHJ1bm5lcjogcnVubmVyXG4gICAgICB9O1xuXG4gICAgICBpZiAoaGFzRXhpc3RpbmdBbmltYXRpb24pIHtcbiAgICAgICAgdmFyIHNraXBBbmltYXRpb25GbGFnID0gaXNBbGxvd2VkKCdza2lwJywgZWxlbWVudCwgbmV3QW5pbWF0aW9uLCBleGlzdGluZ0FuaW1hdGlvbik7XG4gICAgICAgIGlmIChza2lwQW5pbWF0aW9uRmxhZykge1xuICAgICAgICAgIGlmIChleGlzdGluZ0FuaW1hdGlvbi5zdGF0ZSA9PT0gUlVOTklOR19TVEFURSkge1xuICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1lcmdlQW5pbWF0aW9uT3B0aW9ucyhlbGVtZW50LCBleGlzdGluZ0FuaW1hdGlvbi5vcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZ0FuaW1hdGlvbi5ydW5uZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNhbmNlbEFuaW1hdGlvbkZsYWcgPSBpc0FsbG93ZWQoJ2NhbmNlbCcsIGVsZW1lbnQsIG5ld0FuaW1hdGlvbiwgZXhpc3RpbmdBbmltYXRpb24pO1xuICAgICAgICBpZiAoY2FuY2VsQW5pbWF0aW9uRmxhZykge1xuICAgICAgICAgIGlmIChleGlzdGluZ0FuaW1hdGlvbi5zdGF0ZSA9PT0gUlVOTklOR19TVEFURSkge1xuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGVuZCB0aGUgYW5pbWF0aW9uIHJpZ2h0IGF3YXkgYW5kIGl0IGlzIHNhZmVcbiAgICAgICAgICAgIC8vIHRvIGRvIHNvIHNpbmNlIHRoZSBhbmltYXRpb24gaXMgYWxyZWFkeSBydW5uaW5nIGFuZCB0aGVcbiAgICAgICAgICAgIC8vIHJ1bm5lciBjYWxsYmFjayBjb2RlIHdpbGwgcnVuIGluIGFzeW5jXG4gICAgICAgICAgICBleGlzdGluZ0FuaW1hdGlvbi5ydW5uZXIuZW5kKCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChleGlzdGluZ0FuaW1hdGlvbi5zdHJ1Y3R1cmFsKSB7XG4gICAgICAgICAgICAvLyB0aGlzIG1lYW5zIHRoYXQgdGhlIGFuaW1hdGlvbiBpcyBxdWV1ZWQgaW50byBhIGRpZ2VzdCwgYnV0XG4gICAgICAgICAgICAvLyBoYXNuJ3Qgc3RhcnRlZCB5ZXQuIFRoZXJlZm9yZSBpdCBpcyBzYWZlIHRvIHJ1biB0aGUgY2xvc2VcbiAgICAgICAgICAgIC8vIG1ldGhvZCB3aGljaCB3aWxsIGNhbGwgdGhlIHJ1bm5lciBtZXRob2RzIGluIGFzeW5jLlxuICAgICAgICAgICAgZXhpc3RpbmdBbmltYXRpb24uY2xvc2UoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIG1lcmdlIHRoZSBleGlzdGluZyBhbmltYXRpb24gb3B0aW9ucyBpbnRvIHRoaXMgbmV3IGZvbGxvdy11cCBhbmltYXRpb25cbiAgICAgICAgICAgIG1lcmdlQW5pbWF0aW9uT3B0aW9ucyhlbGVtZW50LCBuZXdBbmltYXRpb24ub3B0aW9ucywgZXhpc3RpbmdBbmltYXRpb24ub3B0aW9ucyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGEgam9pbmVkIGFuaW1hdGlvbiBtZWFucyB0aGF0IHRoaXMgYW5pbWF0aW9uIHdpbGwgdGFrZSBvdmVyIHRoZSBleGlzdGluZyBvbmVcbiAgICAgICAgICAvLyBzbyBhbiBleGFtcGxlIHdvdWxkIGludm9sdmUgYSBsZWF2ZSBhbmltYXRpb24gdGFraW5nIG92ZXIgYW4gZW50ZXIuIFRoZW4gd2hlblxuICAgICAgICAgIC8vIHRoZSBwb3N0RGlnZXN0IGtpY2tzIGluIHRoZSBlbnRlciB3aWxsIGJlIGlnbm9yZWQuXG4gICAgICAgICAgdmFyIGpvaW5BbmltYXRpb25GbGFnID0gaXNBbGxvd2VkKCdqb2luJywgZWxlbWVudCwgbmV3QW5pbWF0aW9uLCBleGlzdGluZ0FuaW1hdGlvbik7XG4gICAgICAgICAgaWYgKGpvaW5BbmltYXRpb25GbGFnKSB7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdBbmltYXRpb24uc3RhdGUgPT09IFJVTk5JTkdfU1RBVEUpIHtcbiAgICAgICAgICAgICAgbm9ybWFsaXplQW5pbWF0aW9uT3B0aW9ucyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGV2ZW50ID0gbmV3QW5pbWF0aW9uLmV2ZW50ID0gZXhpc3RpbmdBbmltYXRpb24uZXZlbnQ7XG4gICAgICAgICAgICAgIG9wdGlvbnMgPSBtZXJnZUFuaW1hdGlvbk9wdGlvbnMoZWxlbWVudCwgZXhpc3RpbmdBbmltYXRpb24ub3B0aW9ucywgbmV3QW5pbWF0aW9uLm9wdGlvbnMpO1xuICAgICAgICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbm9ybWFsaXphdGlvbiBpbiB0aGlzIGNhc2UgbWVhbnMgdGhhdCBpdCByZW1vdmVzIHJlZHVuZGFudCBDU1MgY2xhc3NlcyB0aGF0XG4gICAgICAgIC8vIGFscmVhZHkgZXhpc3QgKGFkZENsYXNzKSBvciBkbyBub3QgZXhpc3QgKHJlbW92ZUNsYXNzKSBvbiB0aGUgZWxlbWVudFxuICAgICAgICBub3JtYWxpemVBbmltYXRpb25PcHRpb25zKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvLyB3aGVuIHRoZSBvcHRpb25zIGFyZSBtZXJnZWQgYW5kIGNsZWFuZWQgdXAgd2UgbWF5IGVuZCB1cCBub3QgaGF2aW5nIHRvIGRvXG4gICAgICAvLyBhbiBhbmltYXRpb24gYXQgYWxsLCB0aGVyZWZvcmUgd2Ugc2hvdWxkIGNoZWNrIHRoaXMgYmVmb3JlIGlzc3VpbmcgYSBwb3N0XG4gICAgICAvLyBkaWdlc3QgY2FsbGJhY2suIFN0cnVjdHVyYWwgYW5pbWF0aW9ucyB3aWxsIGFsd2F5cyBydW4gbm8gbWF0dGVyIHdoYXQuXG4gICAgICB2YXIgaXNWYWxpZEFuaW1hdGlvbiA9IG5ld0FuaW1hdGlvbi5zdHJ1Y3R1cmFsO1xuICAgICAgaWYgKCFpc1ZhbGlkQW5pbWF0aW9uKSB7XG4gICAgICAgIC8vIGFuaW1hdGUgKGZyb20vdG8pIGNhbiBiZSBxdWlja2x5IGNoZWNrZWQgZmlyc3QsIG90aGVyd2lzZSB3ZSBjaGVjayBpZiBhbnkgY2xhc3NlcyBhcmUgcHJlc2VudFxuICAgICAgICBpc1ZhbGlkQW5pbWF0aW9uID0gKG5ld0FuaW1hdGlvbi5ldmVudCA9PT0gJ2FuaW1hdGUnICYmIE9iamVjdC5rZXlzKG5ld0FuaW1hdGlvbi5vcHRpb25zLnRvIHx8IHt9KS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGhhc0FuaW1hdGlvbkNsYXNzZXMobmV3QW5pbWF0aW9uLm9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzVmFsaWRBbmltYXRpb24pIHtcbiAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgY2xlYXJFbGVtZW50QW5pbWF0aW9uU3RhdGUoZWxlbWVudCk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc1N0cnVjdHVyYWwpIHtcbiAgICAgICAgY2xvc2VQYXJlbnRDbGFzc0Jhc2VkQW5pbWF0aW9ucyhwYXJlbnQpO1xuICAgICAgfVxuXG4gICAgICAvLyB0aGUgY291bnRlciBrZWVwcyB0cmFjayBvZiBjYW5jZWxsZWQgYW5pbWF0aW9uc1xuICAgICAgdmFyIGNvdW50ZXIgPSAoZXhpc3RpbmdBbmltYXRpb24uY291bnRlciB8fCAwKSArIDE7XG4gICAgICBuZXdBbmltYXRpb24uY291bnRlciA9IGNvdW50ZXI7XG5cbiAgICAgIG1hcmtFbGVtZW50QW5pbWF0aW9uU3RhdGUoZWxlbWVudCwgUFJFX0RJR0VTVF9TVEFURSwgbmV3QW5pbWF0aW9uKTtcblxuICAgICAgJHJvb3RTY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhbmltYXRpb25EZXRhaWxzID0gYWN0aXZlQW5pbWF0aW9uc0xvb2t1cC5nZXQobm9kZSk7XG4gICAgICAgIHZhciBhbmltYXRpb25DYW5jZWxsZWQgPSAhYW5pbWF0aW9uRGV0YWlscztcbiAgICAgICAgYW5pbWF0aW9uRGV0YWlscyA9IGFuaW1hdGlvbkRldGFpbHMgfHwge307XG5cbiAgICAgICAgLy8gaWYgYWRkQ2xhc3MvcmVtb3ZlQ2xhc3MgaXMgY2FsbGVkIGJlZm9yZSBzb21ldGhpbmcgbGlrZSBlbnRlciB0aGVuIHRoZVxuICAgICAgICAvLyByZWdpc3RlcmVkIHBhcmVudCBlbGVtZW50IG1heSBub3QgYmUgcHJlc2VudC4gVGhlIGNvZGUgYmVsb3cgd2lsbCBlbnN1cmVcbiAgICAgICAgLy8gdGhhdCBhIGZpbmFsIHZhbHVlIGZvciBwYXJlbnQgZWxlbWVudCBpcyBvYnRhaW5lZFxuICAgICAgICB2YXIgcGFyZW50RWxlbWVudCA9IGVsZW1lbnQucGFyZW50KCkgfHwgW107XG5cbiAgICAgICAgLy8gYW5pbWF0ZS9zdHJ1Y3R1cmFsL2NsYXNzLWJhc2VkIGFuaW1hdGlvbnMgYWxsIGhhdmUgcmVxdWlyZW1lbnRzLiBPdGhlcndpc2UgdGhlcmVcbiAgICAgICAgLy8gaXMgbm8gcG9pbnQgaW4gcGVyZm9ybWluZyBhbiBhbmltYXRpb24uIFRoZSBwYXJlbnQgbm9kZSBtdXN0IGFsc28gYmUgc2V0LlxuICAgICAgICB2YXIgaXNWYWxpZEFuaW1hdGlvbiA9IHBhcmVudEVsZW1lbnQubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoYW5pbWF0aW9uRGV0YWlscy5ldmVudCA9PT0gJ2FuaW1hdGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBhbmltYXRpb25EZXRhaWxzLnN0cnVjdHVyYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGhhc0FuaW1hdGlvbkNsYXNzZXMoYW5pbWF0aW9uRGV0YWlscy5vcHRpb25zKSk7XG5cbiAgICAgICAgLy8gdGhpcyBtZWFucyB0aGF0IHRoZSBwcmV2aW91cyBhbmltYXRpb24gd2FzIGNhbmNlbGxlZFxuICAgICAgICAvLyBldmVuIGlmIHRoZSBmb2xsb3ctdXAgYW5pbWF0aW9uIGlzIHRoZSBzYW1lIGV2ZW50XG4gICAgICAgIGlmIChhbmltYXRpb25DYW5jZWxsZWQgfHwgYW5pbWF0aW9uRGV0YWlscy5jb3VudGVyICE9PSBjb3VudGVyIHx8ICFpc1ZhbGlkQW5pbWF0aW9uKSB7XG4gICAgICAgICAgLy8gaWYgYW5vdGhlciBhbmltYXRpb24gZGlkIG5vdCB0YWtlIG92ZXIgdGhlbiB3ZSBuZWVkXG4gICAgICAgICAgLy8gdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGRvbU9wZXJhdGlvbiBhbmQgb3B0aW9ucyBhcmVcbiAgICAgICAgICAvLyBoYW5kbGVkIGFjY29yZGluZ2x5XG4gICAgICAgICAgaWYgKGFuaW1hdGlvbkNhbmNlbGxlZCkge1xuICAgICAgICAgICAgYXBwbHlBbmltYXRpb25DbGFzc2VzKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgYXBwbHlBbmltYXRpb25TdHlsZXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gaWYgdGhlIGV2ZW50IGNoYW5nZWQgZnJvbSBzb21ldGhpbmcgbGlrZSBlbnRlciB0byBsZWF2ZSB0aGVuIHdlIGRvXG4gICAgICAgICAgLy8gaXQsIG90aGVyd2lzZSBpZiBpdCdzIHRoZSBzYW1lIHRoZW4gdGhlIGVuZCByZXN1bHQgd2lsbCBiZSB0aGUgc2FtZSB0b29cbiAgICAgICAgICBpZiAoYW5pbWF0aW9uQ2FuY2VsbGVkIHx8IChpc1N0cnVjdHVyYWwgJiYgYW5pbWF0aW9uRGV0YWlscy5ldmVudCAhPT0gZXZlbnQpKSB7XG4gICAgICAgICAgICBvcHRpb25zLmRvbU9wZXJhdGlvbigpO1xuICAgICAgICAgICAgcnVubmVyLmVuZCgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGluIHRoZSBldmVudCB0aGF0IHRoZSBlbGVtZW50IGFuaW1hdGlvbiB3YXMgbm90IGNhbmNlbGxlZCBvciBhIGZvbGxvdy11cCBhbmltYXRpb25cbiAgICAgICAgICAvLyBpc24ndCBhbGxvd2VkIHRvIGFuaW1hdGUgZnJvbSBoZXJlIHRoZW4gd2UgbmVlZCB0byBjbGVhciB0aGUgc3RhdGUgb2YgdGhlIGVsZW1lbnRcbiAgICAgICAgICAvLyBzbyB0aGF0IGFueSBmdXR1cmUgYW5pbWF0aW9ucyB3b24ndCByZWFkIHRoZSBleHBpcmVkIGFuaW1hdGlvbiBkYXRhLlxuICAgICAgICAgIGlmICghaXNWYWxpZEFuaW1hdGlvbikge1xuICAgICAgICAgICAgY2xlYXJFbGVtZW50QW5pbWF0aW9uU3RhdGUoZWxlbWVudCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhpcyBjb21iaW5lZCBtdWx0aXBsZSBjbGFzcyB0byBhZGRDbGFzcyAvIHJlbW92ZUNsYXNzIGludG8gYSBzZXRDbGFzcyBldmVudFxuICAgICAgICAvLyBzbyBsb25nIGFzIGEgc3RydWN0dXJhbCBldmVudCBkaWQgbm90IHRha2Ugb3ZlciB0aGUgYW5pbWF0aW9uXG4gICAgICAgIGV2ZW50ID0gIWFuaW1hdGlvbkRldGFpbHMuc3RydWN0dXJhbCAmJiBoYXNBbmltYXRpb25DbGFzc2VzKGFuaW1hdGlvbkRldGFpbHMub3B0aW9ucywgdHJ1ZSlcbiAgICAgICAgICAgID8gJ3NldENsYXNzJ1xuICAgICAgICAgICAgOiBhbmltYXRpb25EZXRhaWxzLmV2ZW50O1xuXG4gICAgICAgIGlmIChhbmltYXRpb25EZXRhaWxzLnN0cnVjdHVyYWwpIHtcbiAgICAgICAgICBjbG9zZVBhcmVudENsYXNzQmFzZWRBbmltYXRpb25zKHBhcmVudEVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFya0VsZW1lbnRBbmltYXRpb25TdGF0ZShlbGVtZW50LCBSVU5OSU5HX1NUQVRFKTtcbiAgICAgICAgdmFyIHJlYWxSdW5uZXIgPSAkJGFuaW1hdGlvbihlbGVtZW50LCBldmVudCwgYW5pbWF0aW9uRGV0YWlscy5vcHRpb25zKTtcbiAgICAgICAgcmVhbFJ1bm5lci5kb25lKGZ1bmN0aW9uKHN0YXR1cykge1xuICAgICAgICAgIGNsb3NlKCFzdGF0dXMpO1xuICAgICAgICAgIHZhciBhbmltYXRpb25EZXRhaWxzID0gYWN0aXZlQW5pbWF0aW9uc0xvb2t1cC5nZXQobm9kZSk7XG4gICAgICAgICAgaWYgKGFuaW1hdGlvbkRldGFpbHMgJiYgYW5pbWF0aW9uRGV0YWlscy5jb3VudGVyID09PSBjb3VudGVyKSB7XG4gICAgICAgICAgICBjbGVhckVsZW1lbnRBbmltYXRpb25TdGF0ZShnZXREb21Ob2RlKGVsZW1lbnQpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbm90aWZ5UHJvZ3Jlc3MocnVubmVyLCBldmVudCwgJ2Nsb3NlJywge30pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyB0aGlzIHdpbGwgdXBkYXRlIHRoZSBydW5uZXIncyBmbG93LWNvbnRyb2wgZXZlbnRzIGJhc2VkIG9uXG4gICAgICAgIC8vIHRoZSBgcmVhbFJ1bm5lcmAgb2JqZWN0LlxuICAgICAgICBydW5uZXIuc2V0SG9zdChyZWFsUnVubmVyKTtcbiAgICAgICAgbm90aWZ5UHJvZ3Jlc3MocnVubmVyLCBldmVudCwgJ3N0YXJ0Jywge30pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBydW5uZXI7XG5cbiAgICAgIGZ1bmN0aW9uIG5vdGlmeVByb2dyZXNzKHJ1bm5lciwgZXZlbnQsIHBoYXNlLCBkYXRhKSB7XG4gICAgICAgIHRyaWdnZXJDYWxsYmFjayhldmVudCwgZWxlbWVudCwgcGhhc2UsIGRhdGEpO1xuICAgICAgICBydW5uZXIucHJvZ3Jlc3MoZXZlbnQsIHBoYXNlLCBkYXRhKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2xvc2UocmVqZWN0KSB7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuICAgICAgICBhcHBseUFuaW1hdGlvbkNsYXNzZXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgIGFwcGx5QW5pbWF0aW9uU3R5bGVzKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICBvcHRpb25zLmRvbU9wZXJhdGlvbigpO1xuICAgICAgICBydW5uZXIuY29tcGxldGUoIXJlamVjdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xvc2VDaGlsZEFuaW1hdGlvbnMoZWxlbWVudCkge1xuICAgICAgdmFyIG5vZGUgPSBnZXREb21Ob2RlKGVsZW1lbnQpO1xuICAgICAgdmFyIGNoaWxkcmVuID0gbm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdbJyArIE5HX0FOSU1BVEVfQVRUUl9OQU1FICsgJ10nKTtcbiAgICAgIGZvckVhY2goY2hpbGRyZW4sIGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHBhcnNlSW50KGNoaWxkLmdldEF0dHJpYnV0ZShOR19BTklNQVRFX0FUVFJfTkFNRSkpO1xuICAgICAgICB2YXIgYW5pbWF0aW9uRGV0YWlscyA9IGFjdGl2ZUFuaW1hdGlvbnNMb29rdXAuZ2V0KGNoaWxkKTtcbiAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICAgIGNhc2UgUlVOTklOR19TVEFURTpcbiAgICAgICAgICAgIGFuaW1hdGlvbkRldGFpbHMucnVubmVyLmVuZCgpO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgIGNhc2UgUFJFX0RJR0VTVF9TVEFURTpcbiAgICAgICAgICAgIGlmIChhbmltYXRpb25EZXRhaWxzKSB7XG4gICAgICAgICAgICAgIGFjdGl2ZUFuaW1hdGlvbnNMb29rdXAucmVtb3ZlKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhckVsZW1lbnRBbmltYXRpb25TdGF0ZShlbGVtZW50KSB7XG4gICAgICB2YXIgbm9kZSA9IGdldERvbU5vZGUoZWxlbWVudCk7XG4gICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShOR19BTklNQVRFX0FUVFJfTkFNRSk7XG4gICAgICBhY3RpdmVBbmltYXRpb25zTG9va3VwLnJlbW92ZShub2RlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc01hdGNoaW5nRWxlbWVudChub2RlT3JFbG1BLCBub2RlT3JFbG1CKSB7XG4gICAgICByZXR1cm4gZ2V0RG9tTm9kZShub2RlT3JFbG1BKSA9PT0gZ2V0RG9tTm9kZShub2RlT3JFbG1CKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbG9zZVBhcmVudENsYXNzQmFzZWRBbmltYXRpb25zKHN0YXJ0aW5nRWxlbWVudCkge1xuICAgICAgdmFyIHBhcmVudE5vZGUgPSBnZXREb21Ob2RlKHN0YXJ0aW5nRWxlbWVudCk7XG4gICAgICBkbyB7XG4gICAgICAgIGlmICghcGFyZW50Tm9kZSB8fCBwYXJlbnROb2RlLm5vZGVUeXBlICE9PSBFTEVNRU5UX05PREUpIGJyZWFrO1xuXG4gICAgICAgIHZhciBhbmltYXRpb25EZXRhaWxzID0gYWN0aXZlQW5pbWF0aW9uc0xvb2t1cC5nZXQocGFyZW50Tm9kZSk7XG4gICAgICAgIGlmIChhbmltYXRpb25EZXRhaWxzKSB7XG4gICAgICAgICAgZXhhbWluZVBhcmVudEFuaW1hdGlvbihwYXJlbnROb2RlLCBhbmltYXRpb25EZXRhaWxzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLnBhcmVudE5vZGU7XG4gICAgICB9IHdoaWxlICh0cnVlKTtcblxuICAgICAgLy8gc2luY2UgYW5pbWF0aW9ucyBhcmUgZGV0ZWN0ZWQgZnJvbSBDU1MgY2xhc3Nlcywgd2UgbmVlZCB0byBmbHVzaCBhbGwgcGFyZW50XG4gICAgICAvLyBjbGFzcy1iYXNlZCBhbmltYXRpb25zIHNvIHRoYXQgdGhlIHBhcmVudCBjbGFzc2VzIGFyZSBhbGwgcHJlc2VudCBmb3IgY2hpbGRcbiAgICAgIC8vIGFuaW1hdGlvbnMgdG8gcHJvcGVybHkgZnVuY3Rpb24gKG90aGVyd2lzZSBhbnkgQ1NTIHNlbGVjdG9ycyBtYXkgbm90IHdvcmspXG4gICAgICBmdW5jdGlvbiBleGFtaW5lUGFyZW50QW5pbWF0aW9uKG5vZGUsIGFuaW1hdGlvbkRldGFpbHMpIHtcbiAgICAgICAgLy8gZW50ZXIvbGVhdmUvbW92ZSBhbHdheXMgaGF2ZSBwcmlvcml0eVxuICAgICAgICBpZiAoYW5pbWF0aW9uRGV0YWlscy5zdHJ1Y3R1cmFsIHx8ICFoYXNBbmltYXRpb25DbGFzc2VzKGFuaW1hdGlvbkRldGFpbHMub3B0aW9ucykpIHJldHVybjtcblxuICAgICAgICBpZiAoYW5pbWF0aW9uRGV0YWlscy5zdGF0ZSA9PT0gUlVOTklOR19TVEFURSkge1xuICAgICAgICAgIGFuaW1hdGlvbkRldGFpbHMucnVubmVyLmVuZCgpO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFyRWxlbWVudEFuaW1hdGlvblN0YXRlKG5vZGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFyZUFuaW1hdGlvbnNBbGxvd2VkKGVsZW1lbnQsIHBhcmVudEVsZW1lbnQsIGV2ZW50KSB7XG4gICAgICB2YXIgYm9keUVsZW1lbnREZXRlY3RlZCA9IGZhbHNlO1xuICAgICAgdmFyIHJvb3RFbGVtZW50RGV0ZWN0ZWQgPSBmYWxzZTtcbiAgICAgIHZhciBwYXJlbnRBbmltYXRpb25EZXRlY3RlZCA9IGZhbHNlO1xuICAgICAgdmFyIGFuaW1hdGVDaGlsZHJlbjtcblxuICAgICAgdmFyIHBhcmVudEhvc3QgPSBlbGVtZW50LmRhdGEoTkdfQU5JTUFURV9QSU5fREFUQSk7XG4gICAgICBpZiAocGFyZW50SG9zdCkge1xuICAgICAgICBwYXJlbnRFbGVtZW50ID0gcGFyZW50SG9zdDtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKHBhcmVudEVsZW1lbnQgJiYgcGFyZW50RWxlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCFyb290RWxlbWVudERldGVjdGVkKSB7XG4gICAgICAgICAgLy8gYW5ndWxhciBkb2Vzbid0IHdhbnQgdG8gYXR0ZW1wdCB0byBhbmltYXRlIGVsZW1lbnRzIG91dHNpZGUgb2YgdGhlIGFwcGxpY2F0aW9uXG4gICAgICAgICAgLy8gdGhlcmVmb3JlIHdlIG5lZWQgdG8gZW5zdXJlIHRoYXQgdGhlIHJvb3RFbGVtZW50IGlzIGFuIGFuY2VzdG9yIG9mIHRoZSBjdXJyZW50IGVsZW1lbnRcbiAgICAgICAgICByb290RWxlbWVudERldGVjdGVkID0gaXNNYXRjaGluZ0VsZW1lbnQocGFyZW50RWxlbWVudCwgJHJvb3RFbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXJlbnROb2RlID0gcGFyZW50RWxlbWVudFswXTtcbiAgICAgICAgaWYgKHBhcmVudE5vZGUubm9kZVR5cGUgIT09IEVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgIC8vIG5vIHBvaW50IGluIGluc3BlY3RpbmcgdGhlICNkb2N1bWVudCBlbGVtZW50XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGV0YWlscyA9IGFjdGl2ZUFuaW1hdGlvbnNMb29rdXAuZ2V0KHBhcmVudE5vZGUpIHx8IHt9O1xuICAgICAgICAvLyBlaXRoZXIgYW4gZW50ZXIsIGxlYXZlIG9yIG1vdmUgYW5pbWF0aW9uIHdpbGwgY29tbWVuY2VcbiAgICAgICAgLy8gdGhlcmVmb3JlIHdlIGNhbid0IGFsbG93IGFueSBhbmltYXRpb25zIHRvIHRha2UgcGxhY2VcbiAgICAgICAgLy8gYnV0IGlmIGEgcGFyZW50IGFuaW1hdGlvbiBpcyBjbGFzcy1iYXNlZCB0aGVuIHRoYXQncyBva1xuICAgICAgICBpZiAoIXBhcmVudEFuaW1hdGlvbkRldGVjdGVkKSB7XG4gICAgICAgICAgcGFyZW50QW5pbWF0aW9uRGV0ZWN0ZWQgPSBkZXRhaWxzLnN0cnVjdHVyYWwgfHwgZGlzYWJsZWRFbGVtZW50c0xvb2t1cC5nZXQocGFyZW50Tm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNVbmRlZmluZWQoYW5pbWF0ZUNoaWxkcmVuKSB8fCBhbmltYXRlQ2hpbGRyZW4gPT09IHRydWUpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBwYXJlbnRFbGVtZW50LmRhdGEoTkdfQU5JTUFURV9DSElMRFJFTl9EQVRBKTtcbiAgICAgICAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgICAgYW5pbWF0ZUNoaWxkcmVuID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhlcmUgaXMgbm8gbmVlZCB0byBjb250aW51ZSB0cmF2ZXJzaW5nIGF0IHRoaXMgcG9pbnRcbiAgICAgICAgaWYgKHBhcmVudEFuaW1hdGlvbkRldGVjdGVkICYmIGFuaW1hdGVDaGlsZHJlbiA9PT0gZmFsc2UpIGJyZWFrO1xuXG4gICAgICAgIGlmICghcm9vdEVsZW1lbnREZXRlY3RlZCkge1xuICAgICAgICAgIC8vIGFuZ3VsYXIgZG9lc24ndCB3YW50IHRvIGF0dGVtcHQgdG8gYW5pbWF0ZSBlbGVtZW50cyBvdXRzaWRlIG9mIHRoZSBhcHBsaWNhdGlvblxuICAgICAgICAgIC8vIHRoZXJlZm9yZSB3ZSBuZWVkIHRvIGVuc3VyZSB0aGF0IHRoZSByb290RWxlbWVudCBpcyBhbiBhbmNlc3RvciBvZiB0aGUgY3VycmVudCBlbGVtZW50XG4gICAgICAgICAgcm9vdEVsZW1lbnREZXRlY3RlZCA9IGlzTWF0Y2hpbmdFbGVtZW50KHBhcmVudEVsZW1lbnQsICRyb290RWxlbWVudCk7XG4gICAgICAgICAgaWYgKCFyb290RWxlbWVudERldGVjdGVkKSB7XG4gICAgICAgICAgICBwYXJlbnRIb3N0ID0gcGFyZW50RWxlbWVudC5kYXRhKE5HX0FOSU1BVEVfUElOX0RBVEEpO1xuICAgICAgICAgICAgaWYgKHBhcmVudEhvc3QpIHtcbiAgICAgICAgICAgICAgcGFyZW50RWxlbWVudCA9IHBhcmVudEhvc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFib2R5RWxlbWVudERldGVjdGVkKSB7XG4gICAgICAgICAgLy8gd2UgYWxzbyBuZWVkIHRvIGVuc3VyZSB0aGF0IHRoZSBlbGVtZW50IGlzIG9yIHdpbGwgYmUgYXBhcnQgb2YgdGhlIGJvZHkgZWxlbWVudFxuICAgICAgICAgIC8vIG90aGVyd2lzZSBpdCBpcyBwb2ludGxlc3MgdG8gZXZlbiBpc3N1ZSBhbiBhbmltYXRpb24gdG8gYmUgcmVuZGVyZWRcbiAgICAgICAgICBib2R5RWxlbWVudERldGVjdGVkID0gaXNNYXRjaGluZ0VsZW1lbnQocGFyZW50RWxlbWVudCwgYm9keUVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnQucGFyZW50KCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBhbGxvd0FuaW1hdGlvbiA9ICFwYXJlbnRBbmltYXRpb25EZXRlY3RlZCB8fCBhbmltYXRlQ2hpbGRyZW47XG4gICAgICByZXR1cm4gYWxsb3dBbmltYXRpb24gJiYgcm9vdEVsZW1lbnREZXRlY3RlZCAmJiBib2R5RWxlbWVudERldGVjdGVkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1hcmtFbGVtZW50QW5pbWF0aW9uU3RhdGUoZWxlbWVudCwgc3RhdGUsIGRldGFpbHMpIHtcbiAgICAgIGRldGFpbHMgPSBkZXRhaWxzIHx8IHt9O1xuICAgICAgZGV0YWlscy5zdGF0ZSA9IHN0YXRlO1xuXG4gICAgICB2YXIgbm9kZSA9IGdldERvbU5vZGUoZWxlbWVudCk7XG4gICAgICBub2RlLnNldEF0dHJpYnV0ZShOR19BTklNQVRFX0FUVFJfTkFNRSwgc3RhdGUpO1xuXG4gICAgICB2YXIgb2xkVmFsdWUgPSBhY3RpdmVBbmltYXRpb25zTG9va3VwLmdldChub2RlKTtcbiAgICAgIHZhciBuZXdWYWx1ZSA9IG9sZFZhbHVlXG4gICAgICAgICAgPyBleHRlbmQob2xkVmFsdWUsIGRldGFpbHMpXG4gICAgICAgICAgOiBkZXRhaWxzO1xuICAgICAgYWN0aXZlQW5pbWF0aW9uc0xvb2t1cC5wdXQobm9kZSwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfV07XG59XTtcblxudmFyICQkckFGTXV0ZXhGYWN0b3J5ID0gWyckJHJBRicsIGZ1bmN0aW9uKCQkckFGKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcGFzc2VkID0gZmFsc2U7XG4gICAgJCRyQUYoZnVuY3Rpb24oKSB7XG4gICAgICBwYXNzZWQgPSB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbihmbikge1xuICAgICAgcGFzc2VkID8gZm4oKSA6ICQkckFGKGZuKTtcbiAgICB9O1xuICB9O1xufV07XG5cbnZhciAkJEFuaW1hdGVSdW5uZXJGYWN0b3J5ID0gWyckcScsICckJHJBRk11dGV4JywgZnVuY3Rpb24oJHEsICQkckFGTXV0ZXgpIHtcbiAgdmFyIElOSVRJQUxfU1RBVEUgPSAwO1xuICB2YXIgRE9ORV9QRU5ESU5HX1NUQVRFID0gMTtcbiAgdmFyIERPTkVfQ09NUExFVEVfU1RBVEUgPSAyO1xuXG4gIEFuaW1hdGVSdW5uZXIuY2hhaW4gPSBmdW5jdGlvbihjaGFpbiwgY2FsbGJhY2spIHtcbiAgICB2YXIgaW5kZXggPSAwO1xuXG4gICAgbmV4dCgpO1xuICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICBpZiAoaW5kZXggPT09IGNoYWluLmxlbmd0aCkge1xuICAgICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjaGFpbltpbmRleF0oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlID09PSBmYWxzZSkge1xuICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXgrKztcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIEFuaW1hdGVSdW5uZXIuYWxsID0gZnVuY3Rpb24ocnVubmVycywgY2FsbGJhY2spIHtcbiAgICB2YXIgY291bnQgPSAwO1xuICAgIHZhciBzdGF0dXMgPSB0cnVlO1xuICAgIGZvckVhY2gocnVubmVycywgZnVuY3Rpb24ocnVubmVyKSB7XG4gICAgICBydW5uZXIuZG9uZShvblByb2dyZXNzKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIG9uUHJvZ3Jlc3MocmVzcG9uc2UpIHtcbiAgICAgIHN0YXR1cyA9IHN0YXR1cyAmJiByZXNwb25zZTtcbiAgICAgIGlmICgrK2NvdW50ID09PSBydW5uZXJzLmxlbmd0aCkge1xuICAgICAgICBjYWxsYmFjayhzdGF0dXMpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBBbmltYXRlUnVubmVyKGhvc3QpIHtcbiAgICB0aGlzLnNldEhvc3QoaG9zdCk7XG5cbiAgICB0aGlzLl9kb25lQ2FsbGJhY2tzID0gW107XG4gICAgdGhpcy5fcnVuSW5BbmltYXRpb25GcmFtZSA9ICQkckFGTXV0ZXgoKTtcbiAgICB0aGlzLl9zdGF0ZSA9IDA7XG4gIH1cblxuICBBbmltYXRlUnVubmVyLnByb3RvdHlwZSA9IHtcbiAgICBzZXRIb3N0OiBmdW5jdGlvbihob3N0KSB7XG4gICAgICB0aGlzLmhvc3QgPSBob3N0IHx8IHt9O1xuICAgIH0sXG5cbiAgICBkb25lOiBmdW5jdGlvbihmbikge1xuICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSBET05FX0NPTVBMRVRFX1NUQVRFKSB7XG4gICAgICAgIGZuKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9kb25lQ2FsbGJhY2tzLnB1c2goZm4pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBwcm9ncmVzczogbm9vcCxcblxuICAgIGdldFByb21pc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLnByb21pc2UpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLnByb21pc2UgPSAkcShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBzZWxmLmRvbmUoZnVuY3Rpb24oc3RhdHVzKSB7XG4gICAgICAgICAgICBzdGF0dXMgPT09IGZhbHNlID8gcmVqZWN0KCkgOiByZXNvbHZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZTtcbiAgICB9LFxuXG4gICAgdGhlbjogZnVuY3Rpb24ocmVzb2x2ZUhhbmRsZXIsIHJlamVjdEhhbmRsZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFByb21pc2UoKS50aGVuKHJlc29sdmVIYW5kbGVyLCByZWplY3RIYW5kbGVyKTtcbiAgICB9LFxuXG4gICAgJ2NhdGNoJzogZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJvbWlzZSgpWydjYXRjaCddKGhhbmRsZXIpO1xuICAgIH0sXG5cbiAgICAnZmluYWxseSc6IGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFByb21pc2UoKVsnZmluYWxseSddKGhhbmRsZXIpO1xuICAgIH0sXG5cbiAgICBwYXVzZTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5ob3N0LnBhdXNlKSB7XG4gICAgICAgIHRoaXMuaG9zdC5wYXVzZSgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICByZXN1bWU6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuaG9zdC5yZXN1bWUpIHtcbiAgICAgICAgdGhpcy5ob3N0LnJlc3VtZSgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBlbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuaG9zdC5lbmQpIHtcbiAgICAgICAgdGhpcy5ob3N0LmVuZCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fcmVzb2x2ZSh0cnVlKTtcbiAgICB9LFxuXG4gICAgY2FuY2VsOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmhvc3QuY2FuY2VsKSB7XG4gICAgICAgIHRoaXMuaG9zdC5jYW5jZWwoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3Jlc29sdmUoZmFsc2UpO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIGlmIChzZWxmLl9zdGF0ZSA9PT0gSU5JVElBTF9TVEFURSkge1xuICAgICAgICBzZWxmLl9zdGF0ZSA9IERPTkVfUEVORElOR19TVEFURTtcbiAgICAgICAgc2VsZi5fcnVuSW5BbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLl9yZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIF9yZXNvbHZlOiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgaWYgKHRoaXMuX3N0YXRlICE9PSBET05FX0NPTVBMRVRFX1NUQVRFKSB7XG4gICAgICAgIGZvckVhY2godGhpcy5fZG9uZUNhbGxiYWNrcywgZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICBmbihyZXNwb25zZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9kb25lQ2FsbGJhY2tzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gRE9ORV9DT01QTEVURV9TVEFURTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIEFuaW1hdGVSdW5uZXI7XG59XTtcblxudmFyICQkQW5pbWF0aW9uUHJvdmlkZXIgPSBbJyRhbmltYXRlUHJvdmlkZXInLCBmdW5jdGlvbigkYW5pbWF0ZVByb3ZpZGVyKSB7XG4gIHZhciBOR19BTklNQVRFX1JFRl9BVFRSID0gJ25nLWFuaW1hdGUtcmVmJztcblxuICB2YXIgZHJpdmVycyA9IHRoaXMuZHJpdmVycyA9IFtdO1xuXG4gIHZhciBSVU5ORVJfU1RPUkFHRV9LRVkgPSAnJCRhbmltYXRpb25SdW5uZXInO1xuXG4gIGZ1bmN0aW9uIHNldFJ1bm5lcihlbGVtZW50LCBydW5uZXIpIHtcbiAgICBlbGVtZW50LmRhdGEoUlVOTkVSX1NUT1JBR0VfS0VZLCBydW5uZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlUnVubmVyKGVsZW1lbnQpIHtcbiAgICBlbGVtZW50LnJlbW92ZURhdGEoUlVOTkVSX1NUT1JBR0VfS0VZKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJ1bm5lcihlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuZGF0YShSVU5ORVJfU1RPUkFHRV9LRVkpO1xuICB9XG5cbiAgdGhpcy4kZ2V0ID0gWyckJGpxTGl0ZScsICckcm9vdFNjb3BlJywgJyRpbmplY3RvcicsICckJEFuaW1hdGVSdW5uZXInLCAnJCRyQUZTY2hlZHVsZXInLFxuICAgICAgIGZ1bmN0aW9uKCQkanFMaXRlLCAgICRyb290U2NvcGUsICAgJGluamVjdG9yLCAgICQkQW5pbWF0ZVJ1bm5lciwgICAkJHJBRlNjaGVkdWxlcikge1xuXG4gICAgdmFyIGFuaW1hdGlvblF1ZXVlID0gW107XG4gICAgdmFyIGFwcGx5QW5pbWF0aW9uQ2xhc3NlcyA9IGFwcGx5QW5pbWF0aW9uQ2xhc3Nlc0ZhY3RvcnkoJCRqcUxpdGUpO1xuXG4gICAgdmFyIHRvdGFsUGVuZGluZ0NsYXNzQmFzZWRBbmltYXRpb25zID0gMDtcbiAgICB2YXIgdG90YWxBY3RpdmVDbGFzc0Jhc2VkQW5pbWF0aW9ucyA9IDA7XG4gICAgdmFyIGNsYXNzQmFzZWRBbmltYXRpb25zUXVldWUgPSBbXTtcblxuICAgIC8vIFRPRE8obWF0c2tvKTogZG9jdW1lbnQgdGhlIHNpZ25hdHVyZSBpbiBhIGJldHRlciB3YXlcbiAgICByZXR1cm4gZnVuY3Rpb24oZWxlbWVudCwgZXZlbnQsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBwcmVwYXJlQW5pbWF0aW9uT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgIHZhciBpc1N0cnVjdHVyYWwgPSBbJ2VudGVyJywgJ21vdmUnLCAnbGVhdmUnXS5pbmRleE9mKGV2ZW50KSA+PSAwO1xuXG4gICAgICAvLyB0aGVyZSBpcyBubyBhbmltYXRpb24gYXQgdGhlIGN1cnJlbnQgbW9tZW50LCBob3dldmVyXG4gICAgICAvLyB0aGVzZSBydW5uZXIgbWV0aG9kcyB3aWxsIGdldCBsYXRlciB1cGRhdGVkIHdpdGggdGhlXG4gICAgICAvLyBtZXRob2RzIGxlYWRpbmcgaW50byB0aGUgZHJpdmVyJ3MgZW5kL2NhbmNlbCBtZXRob2RzXG4gICAgICAvLyBmb3Igbm93IHRoZXkganVzdCBzdG9wIHRoZSBhbmltYXRpb24gZnJvbSBzdGFydGluZ1xuICAgICAgdmFyIHJ1bm5lciA9IG5ldyAkJEFuaW1hdGVSdW5uZXIoe1xuICAgICAgICBlbmQ6IGZ1bmN0aW9uKCkgeyBjbG9zZSgpOyB9LFxuICAgICAgICBjYW5jZWw6IGZ1bmN0aW9uKCkgeyBjbG9zZSh0cnVlKTsgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghZHJpdmVycy5sZW5ndGgpIHtcbiAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICAgIH1cblxuICAgICAgc2V0UnVubmVyKGVsZW1lbnQsIHJ1bm5lcik7XG5cbiAgICAgIHZhciBjbGFzc2VzID0gbWVyZ2VDbGFzc2VzKGVsZW1lbnQuYXR0cignY2xhc3MnKSwgbWVyZ2VDbGFzc2VzKG9wdGlvbnMuYWRkQ2xhc3MsIG9wdGlvbnMucmVtb3ZlQ2xhc3MpKTtcbiAgICAgIHZhciB0ZW1wQ2xhc3NlcyA9IG9wdGlvbnMudGVtcENsYXNzZXM7XG4gICAgICBpZiAodGVtcENsYXNzZXMpIHtcbiAgICAgICAgY2xhc3NlcyArPSAnICcgKyB0ZW1wQ2xhc3NlcztcbiAgICAgICAgb3B0aW9ucy50ZW1wQ2xhc3NlcyA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBjbGFzc0Jhc2VkSW5kZXg7XG4gICAgICBpZiAoIWlzU3RydWN0dXJhbCkge1xuICAgICAgICBjbGFzc0Jhc2VkSW5kZXggPSB0b3RhbFBlbmRpbmdDbGFzc0Jhc2VkQW5pbWF0aW9ucztcbiAgICAgICAgdG90YWxQZW5kaW5nQ2xhc3NCYXNlZEFuaW1hdGlvbnMgKz0gMTtcbiAgICAgIH1cblxuICAgICAgYW5pbWF0aW9uUXVldWUucHVzaCh7XG4gICAgICAgIC8vIHRoaXMgZGF0YSBpcyB1c2VkIGJ5IHRoZSBwb3N0RGlnZXN0IGNvZGUgYW5kIHBhc3NlZCBpbnRvXG4gICAgICAgIC8vIHRoZSBkcml2ZXIgc3RlcCBmdW5jdGlvblxuICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICBjbGFzc2VzOiBjbGFzc2VzLFxuICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgIGNsYXNzQmFzZWRJbmRleDogY2xhc3NCYXNlZEluZGV4LFxuICAgICAgICBzdHJ1Y3R1cmFsOiBpc1N0cnVjdHVyYWwsXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIGJlZm9yZVN0YXJ0OiBiZWZvcmVTdGFydCxcbiAgICAgICAgY2xvc2U6IGNsb3NlXG4gICAgICB9KTtcblxuICAgICAgZWxlbWVudC5vbignJGRlc3Ryb3knLCBoYW5kbGVEZXN0cm95ZWRFbGVtZW50KTtcblxuICAgICAgLy8gd2Ugb25seSB3YW50IHRoZXJlIHRvIGJlIG9uZSBmdW5jdGlvbiBjYWxsZWQgd2l0aGluIHRoZSBwb3N0IGRpZ2VzdFxuICAgICAgLy8gYmxvY2suIFRoaXMgd2F5IHdlIGNhbiBncm91cCBhbmltYXRpb25zIGZvciBhbGwgdGhlIGFuaW1hdGlvbnMgdGhhdFxuICAgICAgLy8gd2VyZSBhcGFydCBvZiB0aGUgc2FtZSBwb3N0RGlnZXN0IGZsdXNoIGNhbGwuXG4gICAgICBpZiAoYW5pbWF0aW9uUXVldWUubGVuZ3RoID4gMSkgcmV0dXJuIHJ1bm5lcjtcblxuICAgICAgJHJvb3RTY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRvdGFsQWN0aXZlQ2xhc3NCYXNlZEFuaW1hdGlvbnMgPSB0b3RhbFBlbmRpbmdDbGFzc0Jhc2VkQW5pbWF0aW9ucztcbiAgICAgICAgdG90YWxQZW5kaW5nQ2xhc3NCYXNlZEFuaW1hdGlvbnMgPSAwO1xuICAgICAgICBjbGFzc0Jhc2VkQW5pbWF0aW9uc1F1ZXVlLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgdmFyIGFuaW1hdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yRWFjaChhbmltYXRpb25RdWV1ZSwgZnVuY3Rpb24oZW50cnkpIHtcbiAgICAgICAgICAvLyB0aGUgZWxlbWVudCB3YXMgZGVzdHJveWVkIGVhcmx5IG9uIHdoaWNoIHJlbW92ZWQgdGhlIHJ1bm5lclxuICAgICAgICAgIC8vIGZvcm0gaXRzIHN0b3JhZ2UuIFRoaXMgbWVhbnMgd2UgY2FuJ3QgYW5pbWF0ZSB0aGlzIGVsZW1lbnRcbiAgICAgICAgICAvLyBhdCBhbGwgYW5kIGl0IGFscmVhZHkgaGFzIGJlZW4gY2xvc2VkIGR1ZSB0byBkZXN0cnVjdGlvbi5cbiAgICAgICAgICBpZiAoZ2V0UnVubmVyKGVudHJ5LmVsZW1lbnQpKSB7XG4gICAgICAgICAgICBhbmltYXRpb25zLnB1c2goZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gbm93IGFueSBmdXR1cmUgYW5pbWF0aW9ucyB3aWxsIGJlIGluIGFub3RoZXIgcG9zdERpZ2VzdFxuICAgICAgICBhbmltYXRpb25RdWV1ZS5sZW5ndGggPSAwO1xuXG4gICAgICAgIGZvckVhY2goZ3JvdXBBbmltYXRpb25zKGFuaW1hdGlvbnMpLCBmdW5jdGlvbihhbmltYXRpb25FbnRyeSkge1xuICAgICAgICAgIGlmIChhbmltYXRpb25FbnRyeS5zdHJ1Y3R1cmFsKSB7XG4gICAgICAgICAgICB0cmlnZ2VyQW5pbWF0aW9uU3RhcnQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2xhc3NCYXNlZEFuaW1hdGlvbnNRdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgICAgbm9kZTogZ2V0RG9tTm9kZShhbmltYXRpb25FbnRyeS5lbGVtZW50KSxcbiAgICAgICAgICAgICAgZm46IHRyaWdnZXJBbmltYXRpb25TdGFydFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChhbmltYXRpb25FbnRyeS5jbGFzc0Jhc2VkSW5kZXggPT09IHRvdGFsQWN0aXZlQ2xhc3NCYXNlZEFuaW1hdGlvbnMgLSAxKSB7XG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gc29ydCBlYWNoIG9mIHRoZSBhbmltYXRpb25zIGluIG9yZGVyIG9mIHBhcmVudCB0byBjaGlsZFxuICAgICAgICAgICAgICAvLyByZWxhdGlvbnNoaXBzLiBUaGlzIGVuc3VyZXMgdGhhdCB0aGUgY2hpbGQgY2xhc3NlcyBhcmUgYXBwbGllZCBhdCB0aGVcbiAgICAgICAgICAgICAgLy8gcmlnaHQgdGltZS5cbiAgICAgICAgICAgICAgY2xhc3NCYXNlZEFuaW1hdGlvbnNRdWV1ZSA9IGNsYXNzQmFzZWRBbmltYXRpb25zUXVldWUuc29ydChmdW5jdGlvbihhLGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYi5ub2RlLmNvbnRhaW5zKGEubm9kZSk7XG4gICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbihlbnRyeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbnRyeS5mbjtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgJCRyQUZTY2hlZHVsZXIoY2xhc3NCYXNlZEFuaW1hdGlvbnNRdWV1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gdHJpZ2dlckFuaW1hdGlvblN0YXJ0KCkge1xuICAgICAgICAgICAgLy8gaXQncyBpbXBvcnRhbnQgdGhhdCB3ZSBhcHBseSB0aGUgYG5nLWFuaW1hdGVgIENTUyBjbGFzcyBhbmQgdGhlXG4gICAgICAgICAgICAvLyB0ZW1wb3JhcnkgY2xhc3NlcyBiZWZvcmUgd2UgZG8gYW55IGRyaXZlciBpbnZva2luZyBzaW5jZSB0aGVzZVxuICAgICAgICAgICAgLy8gQ1NTIGNsYXNzZXMgbWF5IGJlIHJlcXVpcmVkIGZvciBwcm9wZXIgQ1NTIGRldGVjdGlvbi5cbiAgICAgICAgICAgIGFuaW1hdGlvbkVudHJ5LmJlZm9yZVN0YXJ0KCk7XG5cbiAgICAgICAgICAgIHZhciBzdGFydEFuaW1hdGlvbkZuLCBjbG9zZUZuID0gYW5pbWF0aW9uRW50cnkuY2xvc2U7XG5cbiAgICAgICAgICAgIC8vIGluIHRoZSBldmVudCB0aGF0IHRoZSBlbGVtZW50IHdhcyByZW1vdmVkIGJlZm9yZSB0aGUgZGlnZXN0IHJ1bnMgb3JcbiAgICAgICAgICAgIC8vIGR1cmluZyB0aGUgUkFGIHNlcXVlbmNpbmcgdGhlbiB3ZSBzaG91bGQgbm90IHRyaWdnZXIgdGhlIGFuaW1hdGlvbi5cbiAgICAgICAgICAgIHZhciB0YXJnZXRFbGVtZW50ID0gYW5pbWF0aW9uRW50cnkuYW5jaG9yc1xuICAgICAgICAgICAgICAgID8gKGFuaW1hdGlvbkVudHJ5LmZyb20uZWxlbWVudCB8fCBhbmltYXRpb25FbnRyeS50by5lbGVtZW50KVxuICAgICAgICAgICAgICAgIDogYW5pbWF0aW9uRW50cnkuZWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKGdldFJ1bm5lcih0YXJnZXRFbGVtZW50KSAmJiBnZXREb21Ob2RlKHRhcmdldEVsZW1lbnQpLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgdmFyIG9wZXJhdGlvbiA9IGludm9rZUZpcnN0RHJpdmVyKGFuaW1hdGlvbkVudHJ5KTtcbiAgICAgICAgICAgICAgaWYgKG9wZXJhdGlvbikge1xuICAgICAgICAgICAgICAgIHN0YXJ0QW5pbWF0aW9uRm4gPSBvcGVyYXRpb24uc3RhcnQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzdGFydEFuaW1hdGlvbkZuKSB7XG4gICAgICAgICAgICAgIGNsb3NlRm4oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhciBhbmltYXRpb25SdW5uZXIgPSBzdGFydEFuaW1hdGlvbkZuKCk7XG4gICAgICAgICAgICAgIGFuaW1hdGlvblJ1bm5lci5kb25lKGZ1bmN0aW9uKHN0YXR1cykge1xuICAgICAgICAgICAgICAgIGNsb3NlRm4oIXN0YXR1cyk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB1cGRhdGVBbmltYXRpb25SdW5uZXJzKGFuaW1hdGlvbkVudHJ5LCBhbmltYXRpb25SdW5uZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHJ1bm5lcjtcblxuICAgICAgLy8gVE9ETyhtYXRza28pOiBjaGFuZ2UgdG8gcmVmZXJlbmNlIG5vZGVzXG4gICAgICBmdW5jdGlvbiBnZXRBbmNob3JOb2Rlcyhub2RlKSB7XG4gICAgICAgIHZhciBTRUxFQ1RPUiA9ICdbJyArIE5HX0FOSU1BVEVfUkVGX0FUVFIgKyAnXSc7XG4gICAgICAgIHZhciBpdGVtcyA9IG5vZGUuaGFzQXR0cmlidXRlKE5HX0FOSU1BVEVfUkVGX0FUVFIpXG4gICAgICAgICAgICAgID8gW25vZGVdXG4gICAgICAgICAgICAgIDogbm9kZS5xdWVyeVNlbGVjdG9yQWxsKFNFTEVDVE9SKTtcbiAgICAgICAgdmFyIGFuY2hvcnMgPSBbXTtcbiAgICAgICAgZm9yRWFjaChpdGVtcywgZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgIHZhciBhdHRyID0gbm9kZS5nZXRBdHRyaWJ1dGUoTkdfQU5JTUFURV9SRUZfQVRUUik7XG4gICAgICAgICAgaWYgKGF0dHIgJiYgYXR0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFuY2hvcnMucHVzaChub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYW5jaG9ycztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ3JvdXBBbmltYXRpb25zKGFuaW1hdGlvbnMpIHtcbiAgICAgICAgdmFyIHByZXBhcmVkQW5pbWF0aW9ucyA9IFtdO1xuICAgICAgICB2YXIgcmVmTG9va3VwID0ge307XG4gICAgICAgIGZvckVhY2goYW5pbWF0aW9ucywgZnVuY3Rpb24oYW5pbWF0aW9uLCBpbmRleCkge1xuICAgICAgICAgIHZhciBlbGVtZW50ID0gYW5pbWF0aW9uLmVsZW1lbnQ7XG4gICAgICAgICAgdmFyIG5vZGUgPSBnZXREb21Ob2RlKGVsZW1lbnQpO1xuICAgICAgICAgIHZhciBldmVudCA9IGFuaW1hdGlvbi5ldmVudDtcbiAgICAgICAgICB2YXIgZW50ZXJPck1vdmUgPSBbJ2VudGVyJywgJ21vdmUnXS5pbmRleE9mKGV2ZW50KSA+PSAwO1xuICAgICAgICAgIHZhciBhbmNob3JOb2RlcyA9IGFuaW1hdGlvbi5zdHJ1Y3R1cmFsID8gZ2V0QW5jaG9yTm9kZXMobm9kZSkgOiBbXTtcblxuICAgICAgICAgIGlmIChhbmNob3JOb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBlbnRlck9yTW92ZSA/ICd0bycgOiAnZnJvbSc7XG5cbiAgICAgICAgICAgIGZvckVhY2goYW5jaG9yTm9kZXMsIGZ1bmN0aW9uKGFuY2hvcikge1xuICAgICAgICAgICAgICB2YXIga2V5ID0gYW5jaG9yLmdldEF0dHJpYnV0ZShOR19BTklNQVRFX1JFRl9BVFRSKTtcbiAgICAgICAgICAgICAgcmVmTG9va3VwW2tleV0gPSByZWZMb29rdXBba2V5XSB8fCB7fTtcbiAgICAgICAgICAgICAgcmVmTG9va3VwW2tleV1bZGlyZWN0aW9uXSA9IHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25JRDogaW5kZXgsXG4gICAgICAgICAgICAgICAgZWxlbWVudDoganFMaXRlKGFuY2hvcilcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcmVwYXJlZEFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHVzZWRJbmRpY2VzTG9va3VwID0ge307XG4gICAgICAgIHZhciBhbmNob3JHcm91cHMgPSB7fTtcbiAgICAgICAgZm9yRWFjaChyZWZMb29rdXAsIGZ1bmN0aW9uKG9wZXJhdGlvbnMsIGtleSkge1xuICAgICAgICAgIHZhciBmcm9tID0gb3BlcmF0aW9ucy5mcm9tO1xuICAgICAgICAgIHZhciB0byA9IG9wZXJhdGlvbnMudG87XG5cbiAgICAgICAgICBpZiAoIWZyb20gfHwgIXRvKSB7XG4gICAgICAgICAgICAvLyBvbmx5IG9uZSBvZiB0aGVzZSBpcyBzZXQgdGhlcmVmb3JlIHdlIGNhbid0IGhhdmUgYW5cbiAgICAgICAgICAgIC8vIGFuY2hvciBhbmltYXRpb24gc2luY2UgYWxsIHRocmVlIHBpZWNlcyBhcmUgcmVxdWlyZWRcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGZyb20gPyBmcm9tLmFuaW1hdGlvbklEIDogdG8uYW5pbWF0aW9uSUQ7XG4gICAgICAgICAgICB2YXIgaW5kZXhLZXkgPSBpbmRleC50b1N0cmluZygpO1xuICAgICAgICAgICAgaWYgKCF1c2VkSW5kaWNlc0xvb2t1cFtpbmRleEtleV0pIHtcbiAgICAgICAgICAgICAgdXNlZEluZGljZXNMb29rdXBbaW5kZXhLZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgcHJlcGFyZWRBbmltYXRpb25zLnB1c2goYW5pbWF0aW9uc1tpbmRleF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBmcm9tQW5pbWF0aW9uID0gYW5pbWF0aW9uc1tmcm9tLmFuaW1hdGlvbklEXTtcbiAgICAgICAgICB2YXIgdG9BbmltYXRpb24gPSBhbmltYXRpb25zW3RvLmFuaW1hdGlvbklEXTtcbiAgICAgICAgICB2YXIgbG9va3VwS2V5ID0gZnJvbS5hbmltYXRpb25JRC50b1N0cmluZygpO1xuICAgICAgICAgIGlmICghYW5jaG9yR3JvdXBzW2xvb2t1cEtleV0pIHtcbiAgICAgICAgICAgIHZhciBncm91cCA9IGFuY2hvckdyb3Vwc1tsb29rdXBLZXldID0ge1xuICAgICAgICAgICAgICBzdHJ1Y3R1cmFsOiB0cnVlLFxuICAgICAgICAgICAgICBiZWZvcmVTdGFydDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZnJvbUFuaW1hdGlvbi5iZWZvcmVTdGFydCgpO1xuICAgICAgICAgICAgICAgIHRvQW5pbWF0aW9uLmJlZm9yZVN0YXJ0KCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBmcm9tQW5pbWF0aW9uLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgdG9BbmltYXRpb24uY2xvc2UoKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY2xhc3NlczogY3NzQ2xhc3Nlc0ludGVyc2VjdGlvbihmcm9tQW5pbWF0aW9uLmNsYXNzZXMsIHRvQW5pbWF0aW9uLmNsYXNzZXMpLFxuICAgICAgICAgICAgICBmcm9tOiBmcm9tQW5pbWF0aW9uLFxuICAgICAgICAgICAgICB0bzogdG9BbmltYXRpb24sXG4gICAgICAgICAgICAgIGFuY2hvcnM6IFtdIC8vIFRPRE8obWF0c2tvKTogY2hhbmdlIHRvIHJlZmVyZW5jZSBub2Rlc1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gdGhlIGFuY2hvciBhbmltYXRpb25zIHJlcXVpcmUgdGhhdCB0aGUgZnJvbSBhbmQgdG8gZWxlbWVudHMgYm90aCBoYXZlIGF0IGxlYXN0XG4gICAgICAgICAgICAvLyBvbmUgc2hhcmVkIENTUyBjbGFzcyB3aGljaCBlZmZpY3RpdmVseSBtYXJyaWVzIHRoZSB0d28gZWxlbWVudHMgdG9nZXRoZXIgdG8gdXNlXG4gICAgICAgICAgICAvLyB0aGUgc2FtZSBhbmltYXRpb24gZHJpdmVyIGFuZCB0byBwcm9wZXJseSBzZXF1ZW5jZSB0aGUgYW5jaG9yIGFuaW1hdGlvbi5cbiAgICAgICAgICAgIGlmIChncm91cC5jbGFzc2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBwcmVwYXJlZEFuaW1hdGlvbnMucHVzaChncm91cCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwcmVwYXJlZEFuaW1hdGlvbnMucHVzaChmcm9tQW5pbWF0aW9uKTtcbiAgICAgICAgICAgICAgcHJlcGFyZWRBbmltYXRpb25zLnB1c2godG9BbmltYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGFuY2hvckdyb3Vwc1tsb29rdXBLZXldLmFuY2hvcnMucHVzaCh7XG4gICAgICAgICAgICAnb3V0JzogZnJvbS5lbGVtZW50LCAnaW4nOiB0by5lbGVtZW50XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBwcmVwYXJlZEFuaW1hdGlvbnM7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNzc0NsYXNzZXNJbnRlcnNlY3Rpb24oYSxiKSB7XG4gICAgICAgIGEgPSBhLnNwbGl0KCcgJyk7XG4gICAgICAgIGIgPSBiLnNwbGl0KCcgJyk7XG4gICAgICAgIHZhciBtYXRjaGVzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGFhID0gYVtpXTtcbiAgICAgICAgICBpZiAoYWEuc3Vic3RyaW5nKDAsMykgPT09ICduZy0nKSBjb250aW51ZTtcblxuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYi5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaWYgKGFhID09PSBiW2pdKSB7XG4gICAgICAgICAgICAgIG1hdGNoZXMucHVzaChhYSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXRjaGVzLmpvaW4oJyAnKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaW52b2tlRmlyc3REcml2ZXIoYW5pbWF0aW9uRGV0YWlscykge1xuICAgICAgICAvLyB3ZSBsb29wIGluIHJldmVyc2Ugb3JkZXIgc2luY2UgdGhlIG1vcmUgZ2VuZXJhbCBkcml2ZXJzIChsaWtlIENTUyBhbmQgSlMpXG4gICAgICAgIC8vIG1heSBhdHRlbXB0IG1vcmUgZWxlbWVudHMsIGJ1dCBjdXN0b20gZHJpdmVycyBhcmUgbW9yZSBwYXJ0aWN1bGFyXG4gICAgICAgIGZvciAodmFyIGkgPSBkcml2ZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdmFyIGRyaXZlck5hbWUgPSBkcml2ZXJzW2ldO1xuICAgICAgICAgIGlmICghJGluamVjdG9yLmhhcyhkcml2ZXJOYW1lKSkgY29udGludWU7IC8vIFRPRE8obWF0c2tvKTogcmVtb3ZlIHRoaXMgY2hlY2tcblxuICAgICAgICAgIHZhciBmYWN0b3J5ID0gJGluamVjdG9yLmdldChkcml2ZXJOYW1lKTtcbiAgICAgICAgICB2YXIgZHJpdmVyID0gZmFjdG9yeShhbmltYXRpb25EZXRhaWxzKTtcbiAgICAgICAgICBpZiAoZHJpdmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZHJpdmVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBiZWZvcmVTdGFydCgpIHtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhOR19BTklNQVRFX0NMQVNTTkFNRSk7XG4gICAgICAgIGlmICh0ZW1wQ2xhc3Nlcykge1xuICAgICAgICAgICQkanFMaXRlLmFkZENsYXNzKGVsZW1lbnQsIHRlbXBDbGFzc2VzKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVBbmltYXRpb25SdW5uZXJzKGFuaW1hdGlvbiwgbmV3UnVubmVyKSB7XG4gICAgICAgIGlmIChhbmltYXRpb24uZnJvbSAmJiBhbmltYXRpb24udG8pIHtcbiAgICAgICAgICB1cGRhdGUoYW5pbWF0aW9uLmZyb20uZWxlbWVudCk7XG4gICAgICAgICAgdXBkYXRlKGFuaW1hdGlvbi50by5lbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cGRhdGUoYW5pbWF0aW9uLmVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlKGVsZW1lbnQpIHtcbiAgICAgICAgICBnZXRSdW5uZXIoZWxlbWVudCkuc2V0SG9zdChuZXdSdW5uZXIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZURlc3Ryb3llZEVsZW1lbnQoKSB7XG4gICAgICAgIHZhciBydW5uZXIgPSBnZXRSdW5uZXIoZWxlbWVudCk7XG4gICAgICAgIGlmIChydW5uZXIgJiYgKGV2ZW50ICE9PSAnbGVhdmUnIHx8ICFvcHRpb25zLiQkZG9tT3BlcmF0aW9uRmlyZWQpKSB7XG4gICAgICAgICAgcnVubmVyLmVuZCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNsb3NlKHJlamVjdGVkKSB7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuICAgICAgICBlbGVtZW50Lm9mZignJGRlc3Ryb3knLCBoYW5kbGVEZXN0cm95ZWRFbGVtZW50KTtcbiAgICAgICAgcmVtb3ZlUnVubmVyKGVsZW1lbnQpO1xuXG4gICAgICAgIGFwcGx5QW5pbWF0aW9uQ2xhc3NlcyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgYXBwbHlBbmltYXRpb25TdHlsZXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgIG9wdGlvbnMuZG9tT3BlcmF0aW9uKCk7XG5cbiAgICAgICAgaWYgKHRlbXBDbGFzc2VzKSB7XG4gICAgICAgICAgJCRqcUxpdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgdGVtcENsYXNzZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyhOR19BTklNQVRFX0NMQVNTTkFNRSk7XG4gICAgICAgIHJ1bm5lci5jb21wbGV0ZSghcmVqZWN0ZWQpO1xuICAgICAgfVxuICAgIH07XG4gIH1dO1xufV07XG5cbi8qIGdsb2JhbCBhbmd1bGFyQW5pbWF0ZU1vZHVsZTogdHJ1ZSxcblxuICAgJCRyQUZNdXRleEZhY3RvcnksXG4gICAkJHJBRlNjaGVkdWxlckZhY3RvcnksXG4gICAkJEFuaW1hdGVDaGlsZHJlbkRpcmVjdGl2ZSxcbiAgICQkQW5pbWF0ZVJ1bm5lckZhY3RvcnksXG4gICAkJEFuaW1hdGVRdWV1ZVByb3ZpZGVyLFxuICAgJCRBbmltYXRpb25Qcm92aWRlcixcbiAgICRBbmltYXRlQ3NzUHJvdmlkZXIsXG4gICAkJEFuaW1hdGVDc3NEcml2ZXJQcm92aWRlcixcbiAgICQkQW5pbWF0ZUpzUHJvdmlkZXIsXG4gICAkJEFuaW1hdGVKc0RyaXZlclByb3ZpZGVyLFxuKi9cblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBuZ0FuaW1hdGVcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFRoZSBgbmdBbmltYXRlYCBtb2R1bGUgcHJvdmlkZXMgc3VwcG9ydCBmb3IgQ1NTLWJhc2VkIGFuaW1hdGlvbnMgKGtleWZyYW1lcyBhbmQgdHJhbnNpdGlvbnMpIGFzIHdlbGwgYXMgSmF2YVNjcmlwdC1iYXNlZCBhbmltYXRpb25zIHZpYVxuICogY2FsbGJhY2sgaG9va3MuIEFuaW1hdGlvbnMgYXJlIG5vdCBlbmFibGVkIGJ5IGRlZmF1bHQsIGhvd2V2ZXIsIGJ5IGluY2x1ZGluZyBgbmdBbmltYXRlYCB0aGVuIHRoZSBhbmltYXRpb24gaG9va3MgYXJlIGVuYWJsZWQgZm9yIGFuIEFuZ3VsYXIgYXBwLlxuICpcbiAqIDxkaXYgZG9jLW1vZHVsZS1jb21wb25lbnRzPVwibmdBbmltYXRlXCI+PC9kaXY+XG4gKlxuICogIyBVc2FnZVxuICogU2ltcGx5IHB1dCwgdGhlcmUgYXJlIHR3byB3YXlzIHRvIG1ha2UgdXNlIG9mIGFuaW1hdGlvbnMgd2hlbiBuZ0FuaW1hdGUgaXMgdXNlZDogYnkgdXNpbmcgKipDU1MqKiBhbmQgKipKYXZhU2NyaXB0KiouIFRoZSBmb3JtZXIgd29ya3MgcHVyZWx5IGJhc2VkXG4gKiB1c2luZyBDU1MgKGJ5IHVzaW5nIG1hdGNoaW5nIENTUyBzZWxlY3RvcnMvc3R5bGVzKSBhbmQgdGhlIGxhdHRlciB0cmlnZ2VycyBhbmltYXRpb25zIHRoYXQgYXJlIHJlZ2lzdGVyZWQgdmlhIGBtb2R1bGUuYW5pbWF0aW9uKClgLiBGb3JcbiAqIGJvdGggQ1NTIGFuZCBKUyBhbmltYXRpb25zIHRoZSBzb2xlIHJlcXVpcmVtZW50IGlzIHRvIGhhdmUgYSBtYXRjaGluZyBgQ1NTIGNsYXNzYCB0aGF0IGV4aXN0cyBib3RoIGluIHRoZSByZWdpc3RlcmVkIGFuaW1hdGlvbiBhbmQgd2l0aGluXG4gKiB0aGUgSFRNTCBlbGVtZW50IHRoYXQgdGhlIGFuaW1hdGlvbiB3aWxsIGJlIHRyaWdnZXJlZCBvbi5cbiAqXG4gKiAjIyBEaXJlY3RpdmUgU3VwcG9ydFxuICogVGhlIGZvbGxvd2luZyBkaXJlY3RpdmVzIGFyZSBcImFuaW1hdGlvbiBhd2FyZVwiOlxuICpcbiAqIHwgRGlyZWN0aXZlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBTdXBwb3J0ZWQgQW5pbWF0aW9ucyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IHtAbGluayBuZy5kaXJlY3RpdmU6bmdSZXBlYXQjYW5pbWF0aW9ucyBuZ1JlcGVhdH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZW50ZXIsIGxlYXZlIGFuZCBtb3ZlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nUm91dGUuZGlyZWN0aXZlOm5nVmlldyNhbmltYXRpb25zIG5nVmlld30gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBlbnRlciBhbmQgbGVhdmUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nSW5jbHVkZSNhbmltYXRpb25zIG5nSW5jbHVkZX0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGVudGVyIGFuZCBsZWF2ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBuZy5kaXJlY3RpdmU6bmdTd2l0Y2gjYW5pbWF0aW9ucyBuZ1N3aXRjaH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZW50ZXIgYW5kIGxlYXZlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0lmI2FuaW1hdGlvbnMgbmdJZn0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBlbnRlciBhbmQgbGVhdmUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xhc3MjYW5pbWF0aW9ucyBuZ0NsYXNzfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGFkZCBhbmQgcmVtb3ZlICh0aGUgQ1NTIGNsYXNzKGVzKSBwcmVzZW50KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBuZy5kaXJlY3RpdmU6bmdTaG93I2FuaW1hdGlvbnMgbmdTaG93fSAmIHtAbGluayBuZy5kaXJlY3RpdmU6bmdIaWRlI2FuaW1hdGlvbnMgbmdIaWRlfSAgICAgICAgICAgIHwgYWRkIGFuZCByZW1vdmUgKHRoZSBuZy1oaWRlIGNsYXNzIHZhbHVlKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpmb3JtI2FuaW1hdGlvbi1ob29rcyBmb3JtfSAmIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbCNhbmltYXRpb24taG9va3MgbmdNb2RlbH0gICAgfCBhZGQgYW5kIHJlbW92ZSAoZGlydHksIHByaXN0aW5lLCB2YWxpZCwgaW52YWxpZCAmIGFsbCBvdGhlciB2YWxpZGF0aW9ucykgfFxuICogfCB7QGxpbmsgbW9kdWxlOm5nTWVzc2FnZXMjYW5pbWF0aW9ucyBuZ01lc3NhZ2VzfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGFkZCBhbmQgcmVtb3ZlIChuZy1hY3RpdmUgJiBuZy1pbmFjdGl2ZSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBtb2R1bGU6bmdNZXNzYWdlcyNhbmltYXRpb25zIG5nTWVzc2FnZX0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgZW50ZXIgYW5kIGxlYXZlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqXG4gKiAoTW9yZSBpbmZvcm1hdGlvbiBjYW4gYmUgZm91bmQgYnkgdmlzaXRpbmcgZWFjaCB0aGUgZG9jdW1lbnRhdGlvbiBhc3NvY2lhdGVkIHdpdGggZWFjaCBkaXJlY3RpdmUuKVxuICpcbiAqICMjIENTUy1iYXNlZCBBbmltYXRpb25zXG4gKlxuICogQ1NTLWJhc2VkIGFuaW1hdGlvbnMgd2l0aCBuZ0FuaW1hdGUgYXJlIHVuaXF1ZSBzaW5jZSB0aGV5IHJlcXVpcmUgbm8gSmF2YVNjcmlwdCBjb2RlIGF0IGFsbC4gQnkgdXNpbmcgYSBDU1MgY2xhc3MgdGhhdCB3ZSByZWZlcmVuY2UgYmV0d2VlbiBvdXIgSFRNTFxuICogYW5kIENTUyBjb2RlIHdlIGNhbiBjcmVhdGUgYW4gYW5pbWF0aW9uIHRoYXQgd2lsbCBiZSBwaWNrZWQgdXAgYnkgQW5ndWxhciB3aGVuIGFuIHRoZSB1bmRlcmx5aW5nIGRpcmVjdGl2ZSBwZXJmb3JtcyBhbiBvcGVyYXRpb24uXG4gKlxuICogVGhlIGV4YW1wbGUgYmVsb3cgc2hvd3MgaG93IGFuIGBlbnRlcmAgYW5pbWF0aW9uIGNhbiBiZSBtYWRlIHBvc3NpYmxlIG9uIGEgZWxlbWVudCB1c2luZyBgbmctaWZgOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgbmctaWY9XCJib29sXCIgY2xhc3M9XCJmYWRlXCI+XG4gKiAgICBGYWRlIG1lIGluIG91dFxuICogPC9kaXY+XG4gKiA8YnV0dG9uIG5nLWNsaWNrPVwiYm9vbD10cnVlXCI+RmFkZSBJbiE8L2J1dHRvbj5cbiAqIDxidXR0b24gbmctY2xpY2s9XCJib29sPWZhbHNlXCI+RmFkZSBPdXQhPC9idXR0b24+XG4gKiBgYGBcbiAqXG4gKiBOb3RpY2UgdGhlIENTUyBjbGFzcyAqKmZhZGUqKj8gV2UgY2FuIG5vdyBjcmVhdGUgdGhlIENTUyB0cmFuc2l0aW9uIGNvZGUgdGhhdCByZWZlcmVuY2VzIHRoaXMgY2xhc3M6XG4gKlxuICogYGBgY3NzXG4gKiAvJiM0MjsgVGhlIHN0YXJ0aW5nIENTUyBzdHlsZXMgZm9yIHRoZSBlbnRlciBhbmltYXRpb24gJiM0MjsvXG4gKiAuZmFkZS5uZy1lbnRlciB7XG4gKiAgIHRyYW5zaXRpb246MC41cyBsaW5lYXIgYWxsO1xuICogICBvcGFjaXR5OjA7XG4gKiB9XG4gKlxuICogLyYjNDI7IFRoZSBmaW5pc2hpbmcgQ1NTIHN0eWxlcyBmb3IgdGhlIGVudGVyIGFuaW1hdGlvbiAmIzQyOy9cbiAqIC5mYWRlLm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7XG4gKiAgIG9wYWNpdHk6MTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIFRoZSBrZXkgdGhpbmcgdG8gcmVtZW1iZXIgaGVyZSBpcyB0aGF0LCBkZXBlbmRpbmcgb24gdGhlIGFuaW1hdGlvbiBldmVudCAod2hpY2ggZWFjaCBvZiB0aGUgZGlyZWN0aXZlcyBhYm92ZSB0cmlnZ2VyIGRlcGVuZGluZyBvbiB3aGF0J3MgZ29pbmcgb24pIHR3b1xuICogZ2VuZXJhdGVkIENTUyBjbGFzc2VzIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudDsgaW4gdGhlIGV4YW1wbGUgYWJvdmUgd2UgaGF2ZSBgLm5nLWVudGVyYCBhbmQgYC5uZy1lbnRlci1hY3RpdmVgLiBGb3IgQ1NTIHRyYW5zaXRpb25zLCB0aGUgdHJhbnNpdGlvblxuICogY29kZSAqKm11c3QqKiBiZSBkZWZpbmVkIHdpdGhpbiB0aGUgc3RhcnRpbmcgQ1NTIGNsYXNzIChpbiB0aGlzIGNhc2UgYC5uZy1lbnRlcmApLiBUaGUgZGVzdGluYXRpb24gY2xhc3MgaXMgd2hhdCB0aGUgdHJhbnNpdGlvbiB3aWxsIGFuaW1hdGUgdG93YXJkcy5cbiAqXG4gKiBJZiBmb3IgZXhhbXBsZSB3ZSB3YW50ZWQgdG8gY3JlYXRlIGFuaW1hdGlvbnMgZm9yIGBsZWF2ZWAgYW5kIGBtb3ZlYCAobmdSZXBlYXQgdHJpZ2dlcnMgbW92ZSkgdGhlbiB3ZSBjYW4gZG8gc28gdXNpbmcgdGhlIHNhbWUgQ1NTIG5hbWluZyBjb252ZW50aW9uczpcbiAqXG4gKiBgYGBjc3NcbiAqIC8mIzQyOyBub3cgdGhlIGVsZW1lbnQgd2lsbCBmYWRlIG91dCBiZWZvcmUgaXQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00gJiM0MjsvXG4gKiAuZmFkZS5uZy1sZWF2ZSB7XG4gKiAgIHRyYW5zaXRpb246MC41cyBsaW5lYXIgYWxsO1xuICogICBvcGFjaXR5OjE7XG4gKiB9XG4gKiAuZmFkZS5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUge1xuICogICBvcGFjaXR5OjA7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBXZSBjYW4gYWxzbyBtYWtlIHVzZSBvZiAqKkNTUyBLZXlmcmFtZXMqKiBieSByZWZlcmVuY2luZyB0aGUga2V5ZnJhbWUgYW5pbWF0aW9uIHdpdGhpbiB0aGUgc3RhcnRpbmcgQ1NTIGNsYXNzOlxuICpcbiAqIGBgYGNzc1xuICogLyYjNDI7IHRoZXJlIGlzIG5vIG5lZWQgdG8gZGVmaW5lIGFueXRoaW5nIGluc2lkZSBvZiB0aGUgZGVzdGluYXRpb25cbiAqIENTUyBjbGFzcyBzaW5jZSB0aGUga2V5ZnJhbWUgd2lsbCB0YWtlIGNoYXJnZSBvZiB0aGUgYW5pbWF0aW9uICYjNDI7L1xuICogLmZhZGUubmctbGVhdmUge1xuICogICBhbmltYXRpb246IG15X2ZhZGVfYW5pbWF0aW9uIDAuNXMgbGluZWFyO1xuICogICAtd2Via2l0LWFuaW1hdGlvbjogbXlfZmFkZV9hbmltYXRpb24gMC41cyBsaW5lYXI7XG4gKiB9XG4gKlxuICogQGtleWZyYW1lcyBteV9mYWRlX2FuaW1hdGlvbiB7XG4gKiAgIGZyb20geyBvcGFjaXR5OjE7IH1cbiAqICAgdG8geyBvcGFjaXR5OjA7IH1cbiAqIH1cbiAqXG4gKiBALXdlYmtpdC1rZXlmcmFtZXMgbXlfZmFkZV9hbmltYXRpb24ge1xuICogICBmcm9tIHsgb3BhY2l0eToxOyB9XG4gKiAgIHRvIHsgb3BhY2l0eTowOyB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBGZWVsIGZyZWUgYWxzbyBtaXggdHJhbnNpdGlvbnMgYW5kIGtleWZyYW1lcyB0b2dldGhlciBhcyB3ZWxsIGFzIGFueSBvdGhlciBDU1MgY2xhc3NlcyBvbiB0aGUgc2FtZSBlbGVtZW50LlxuICpcbiAqICMjIyBDU1MgQ2xhc3MtYmFzZWQgQW5pbWF0aW9uc1xuICpcbiAqIENsYXNzLWJhc2VkIGFuaW1hdGlvbnMgKGFuaW1hdGlvbnMgdGhhdCBhcmUgdHJpZ2dlcmVkIHZpYSBgbmdDbGFzc2AsIGBuZ1Nob3dgLCBgbmdIaWRlYCBhbmQgc29tZSBvdGhlciBkaXJlY3RpdmVzKSBoYXZlIGEgc2xpZ2h0bHkgZGlmZmVyZW50XG4gKiBuYW1pbmcgY29udmVudGlvbi4gQ2xhc3MtYmFzZWQgYW5pbWF0aW9ucyBhcmUgYmFzaWMgZW5vdWdoIHRoYXQgYSBzdGFuZGFyZCB0cmFuc2l0aW9uIG9yIGtleWZyYW1lIGNhbiBiZSByZWZlcmVuY2VkIG9uIHRoZSBjbGFzcyBiZWluZyBhZGRlZFxuICogYW5kIHJlbW92ZWQuXG4gKlxuICogRm9yIGV4YW1wbGUgaWYgd2Ugd2FudGVkIHRvIGRvIGEgQ1NTIGFuaW1hdGlvbiBmb3IgYG5nSGlkZWAgdGhlbiB3ZSBwbGFjZSBhbiBhbmltYXRpb24gb24gdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgbmctc2hvdz1cImJvb2xcIiBjbGFzcz1cImZhZGVcIj5cbiAqICAgU2hvdyBhbmQgaGlkZSBtZVxuICogPC9kaXY+XG4gKiA8YnV0dG9uIG5nLWNsaWNrPVwiYm9vbD10cnVlXCI+VG9nZ2xlPC9idXR0b24+XG4gKlxuICogPHN0eWxlPlxuICogLmZhZGUubmctaGlkZSB7XG4gKiAgIHRyYW5zaXRpb246MC41cyBsaW5lYXIgYWxsO1xuICogICBvcGFjaXR5OjA7XG4gKiB9XG4gKiA8L3N0eWxlPlxuICogYGBgXG4gKlxuICogQWxsIHRoYXQgaXMgZ29pbmcgb24gaGVyZSB3aXRoIG5nU2hvdy9uZ0hpZGUgYmVoaW5kIHRoZSBzY2VuZXMgaXMgdGhlIGAubmctaGlkZWAgY2xhc3MgaXMgYWRkZWQvcmVtb3ZlZCAod2hlbiB0aGUgaGlkZGVuIHN0YXRlIGlzIHZhbGlkKS4gU2luY2VcbiAqIG5nU2hvdyBhbmQgbmdIaWRlIGFyZSBhbmltYXRpb24gYXdhcmUgdGhlbiB3ZSBjYW4gbWF0Y2ggdXAgYSB0cmFuc2l0aW9uIGFuZCBuZ0FuaW1hdGUgaGFuZGxlcyB0aGUgcmVzdC5cbiAqXG4gKiBJbiBhZGRpdGlvbiB0aGUgYWRkaXRpb24gYW5kIHJlbW92YWwgb2YgdGhlIENTUyBjbGFzcywgbmdBbmltYXRlIGFsc28gcHJvdmlkZXMgdHdvIGhlbHBlciBtZXRob2RzIHRoYXQgd2UgY2FuIHVzZSB0byBmdXJ0aGVyIGRlY29yYXRlIHRoZSBhbmltYXRpb25cbiAqIHdpdGggQ1NTIHN0eWxlcy5cbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IG5nLWNsYXNzPVwie29uOm9uT2ZmfVwiIGNsYXNzPVwiaGlnaGxpZ2h0XCI+XG4gKiAgIEhpZ2hsaWdodCB0aGlzIGJveFxuICogPC9kaXY+XG4gKiA8YnV0dG9uIG5nLWNsaWNrPVwib25PZmY9IW9uT2ZmXCI+VG9nZ2xlPC9idXR0b24+XG4gKlxuICogPHN0eWxlPlxuICogLmhpZ2hsaWdodCB7XG4gKiAgIHRyYW5zaXRpb246MC41cyBsaW5lYXIgYWxsO1xuICogfVxuICogLmhpZ2hsaWdodC5vbi1hZGQge1xuICogICBiYWNrZ3JvdW5kOndoaXRlO1xuICogfVxuICogLmhpZ2hsaWdodC5vbiB7XG4gKiAgIGJhY2tncm91bmQ6eWVsbG93O1xuICogfVxuICogLmhpZ2hsaWdodC5vbi1yZW1vdmUge1xuICogICBiYWNrZ3JvdW5kOmJsYWNrO1xuICogfVxuICogPC9zdHlsZT5cbiAqIGBgYFxuICpcbiAqIFdlIGNhbiBhbHNvIG1ha2UgdXNlIG9mIENTUyBrZXlmcmFtZXMgYnkgcGxhY2luZyB0aGVtIHdpdGhpbiB0aGUgQ1NTIGNsYXNzZXMuXG4gKlxuICpcbiAqICMjIyBDU1MgU3RhZ2dlcmluZyBBbmltYXRpb25zXG4gKiBBIFN0YWdnZXJpbmcgYW5pbWF0aW9uIGlzIGEgY29sbGVjdGlvbiBvZiBhbmltYXRpb25zIHRoYXQgYXJlIGlzc3VlZCB3aXRoIGEgc2xpZ2h0IGRlbGF5IGluIGJldHdlZW4gZWFjaCBzdWNjZXNzaXZlIG9wZXJhdGlvbiByZXN1bHRpbmcgaW4gYVxuICogY3VydGFpbi1saWtlIGVmZmVjdC4gVGhlIG5nQW5pbWF0ZSBtb2R1bGUgKHZlcnNpb25zID49MS4yKSBzdXBwb3J0cyBzdGFnZ2VyaW5nIGFuaW1hdGlvbnMgYW5kIHRoZSBzdGFnZ2VyIGVmZmVjdCBjYW4gYmVcbiAqIHBlcmZvcm1lZCBieSBjcmVhdGluZyBhICoqbmctRVZFTlQtc3RhZ2dlcioqIENTUyBjbGFzcyBhbmQgYXR0YWNoaW5nIHRoYXQgY2xhc3MgdG8gdGhlIGJhc2UgQ1NTIGNsYXNzIHVzZWQgZm9yXG4gKiB0aGUgYW5pbWF0aW9uLiBUaGUgc3R5bGUgcHJvcGVydHkgZXhwZWN0ZWQgd2l0aGluIHRoZSBzdGFnZ2VyIGNsYXNzIGNhbiBlaXRoZXIgYmUgYSAqKnRyYW5zaXRpb24tZGVsYXkqKiBvciBhblxuICogKiphbmltYXRpb24tZGVsYXkqKiBwcm9wZXJ0eSAob3IgYm90aCBpZiB5b3VyIGFuaW1hdGlvbiBjb250YWlucyBib3RoIHRyYW5zaXRpb25zIGFuZCBrZXlmcmFtZSBhbmltYXRpb25zKS5cbiAqXG4gKiBgYGBjc3NcbiAqIC5teS1hbmltYXRpb24ubmctZW50ZXIge1xuICogICAvJiM0Mjsgc3RhbmRhcmQgdHJhbnNpdGlvbiBjb2RlICYjNDI7L1xuICogICB0cmFuc2l0aW9uOiAxcyBsaW5lYXIgYWxsO1xuICogICBvcGFjaXR5OjA7XG4gKiB9XG4gKiAubXktYW5pbWF0aW9uLm5nLWVudGVyLXN0YWdnZXIge1xuICogICAvJiM0MjsgdGhpcyB3aWxsIGhhdmUgYSAxMDBtcyBkZWxheSBiZXR3ZWVuIGVhY2ggc3VjY2Vzc2l2ZSBsZWF2ZSBhbmltYXRpb24gJiM0MjsvXG4gKiAgIHRyYW5zaXRpb24tZGVsYXk6IDAuMXM7XG4gKlxuICogICAvJiM0MjsgaW4gY2FzZSB0aGUgc3RhZ2dlciBkb2Vzbid0IHdvcmsgdGhlbiB0aGUgZHVyYXRpb24gdmFsdWVcbiAqICAgIG11c3QgYmUgc2V0IHRvIDAgdG8gYXZvaWQgYW4gYWNjaWRlbnRhbCBDU1MgaW5oZXJpdGFuY2UgJiM0MjsvXG4gKiAgIHRyYW5zaXRpb24tZHVyYXRpb246IDBzO1xuICogfVxuICogLm15LWFuaW1hdGlvbi5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xuICogICAvJiM0Mjsgc3RhbmRhcmQgdHJhbnNpdGlvbiBzdHlsZXMgJiM0MjsvXG4gKiAgIG9wYWNpdHk6MTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIFN0YWdnZXJpbmcgYW5pbWF0aW9ucyB3b3JrIGJ5IGRlZmF1bHQgaW4gbmdSZXBlYXQgKHNvIGxvbmcgYXMgdGhlIENTUyBjbGFzcyBpcyBkZWZpbmVkKS4gT3V0c2lkZSBvZiBuZ1JlcGVhdCwgdG8gdXNlIHN0YWdnZXJpbmcgYW5pbWF0aW9uc1xuICogb24geW91ciBvd24sIHRoZXkgY2FuIGJlIHRyaWdnZXJlZCBieSBmaXJpbmcgbXVsdGlwbGUgY2FsbHMgdG8gdGhlIHNhbWUgZXZlbnQgb24gJGFuaW1hdGUuIEhvd2V2ZXIsIHRoZSByZXN0cmljdGlvbnMgc3Vycm91bmRpbmcgdGhpc1xuICogYXJlIHRoYXQgZWFjaCBvZiB0aGUgZWxlbWVudHMgbXVzdCBoYXZlIHRoZSBzYW1lIENTUyBjbGFzc05hbWUgdmFsdWUgYXMgd2VsbCBhcyB0aGUgc2FtZSBwYXJlbnQgZWxlbWVudC4gQSBzdGFnZ2VyIG9wZXJhdGlvblxuICogd2lsbCBhbHNvIGJlIHJlc2V0IGlmIG9uZSBvciBtb3JlIGFuaW1hdGlvbiBmcmFtZXMgaGF2ZSBwYXNzZWQgc2luY2UgdGhlIG11bHRpcGxlIGNhbGxzIHRvIGAkYW5pbWF0ZWAgd2VyZSBmaXJlZC5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGNvZGUgd2lsbCBpc3N1ZSB0aGUgKipuZy1sZWF2ZS1zdGFnZ2VyKiogZXZlbnQgb24gdGhlIGVsZW1lbnQgcHJvdmlkZWQ6XG4gKlxuICogYGBganNcbiAqIHZhciBraWRzID0gcGFyZW50LmNoaWxkcmVuKCk7XG4gKlxuICogJGFuaW1hdGUubGVhdmUoa2lkc1swXSk7IC8vc3RhZ2dlciBpbmRleD0wXG4gKiAkYW5pbWF0ZS5sZWF2ZShraWRzWzFdKTsgLy9zdGFnZ2VyIGluZGV4PTFcbiAqICRhbmltYXRlLmxlYXZlKGtpZHNbMl0pOyAvL3N0YWdnZXIgaW5kZXg9MlxuICogJGFuaW1hdGUubGVhdmUoa2lkc1szXSk7IC8vc3RhZ2dlciBpbmRleD0zXG4gKiAkYW5pbWF0ZS5sZWF2ZShraWRzWzRdKTsgLy9zdGFnZ2VyIGluZGV4PTRcbiAqXG4gKiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCkge1xuICogICAvL3N0YWdnZXIgaGFzIHJlc2V0IGl0c2VsZlxuICogICAkYW5pbWF0ZS5sZWF2ZShraWRzWzVdKTsgLy9zdGFnZ2VyIGluZGV4PTBcbiAqICAgJGFuaW1hdGUubGVhdmUoa2lkc1s2XSk7IC8vc3RhZ2dlciBpbmRleD0xXG4gKlxuICogICAkc2NvcGUuJGRpZ2VzdCgpO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBTdGFnZ2VyIGFuaW1hdGlvbnMgYXJlIGN1cnJlbnRseSBvbmx5IHN1cHBvcnRlZCB3aXRoaW4gQ1NTLWRlZmluZWQgYW5pbWF0aW9ucy5cbiAqXG4gKiAjIyMgVGhlIGBuZy1hbmltYXRlYCBDU1MgY2xhc3NcbiAqXG4gKiBXaGVuIG5nQW5pbWF0ZSBpcyBhbmltYXRpbmcgYW4gZWxlbWVudCBpdCB3aWxsIGFwcGx5IHRoZSBgbmctYW5pbWF0ZWAgQ1NTIGNsYXNzIHRvIHRoZSBlbGVtZW50IGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbi5cbiAqIFRoaXMgaXMgYSB0ZW1wb3JhcnkgQ1NTIGNsYXNzIGFuZCBpdCB3aWxsIGJlIHJlbW92ZWQgb25jZSB0aGUgYW5pbWF0aW9uIGlzIG92ZXIgKGZvciBib3RoIEphdmFTY3JpcHQgYW5kIENTUy1iYXNlZCBhbmltYXRpb25zKS5cbiAqXG4gKiBUaGVyZWZvcmUsIGFuaW1hdGlvbnMgY2FuIGJlIGFwcGxpZWQgdG8gYW4gZWxlbWVudCB1c2luZyB0aGlzIHRlbXBvcmFyeSBjbGFzcyBkaXJlY3RseSB2aWEgQ1NTLlxuICpcbiAqIGBgYGNzc1xuICogLnppcHBlci5uZy1hbmltYXRlIHtcbiAqICAgdHJhbnNpdGlvbjowLjVzIGxpbmVhciBhbGw7XG4gKiB9XG4gKiAuemlwcGVyLm5nLWVudGVyIHtcbiAqICAgb3BhY2l0eTowO1xuICogfVxuICogLnppcHBlci5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xuICogICBvcGFjaXR5OjE7XG4gKiB9XG4gKiAuemlwcGVyLm5nLWxlYXZlIHtcbiAqICAgb3BhY2l0eToxO1xuICogfVxuICogLnppcHBlci5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUge1xuICogICBvcGFjaXR5OjA7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiAoTm90ZSB0aGF0IHRoZSBgbmctYW5pbWF0ZWAgQ1NTIGNsYXNzIGlzIHJlc2VydmVkIGFuZCBpdCBjYW5ub3QgYmUgYXBwbGllZCBvbiBhbiBlbGVtZW50IGRpcmVjdGx5IHNpbmNlIG5nQW5pbWF0ZSB3aWxsIGFsd2F5cyByZW1vdmVcbiAqIHRoZSBDU1MgY2xhc3Mgb25jZSBhbiBhbmltYXRpb24gaGFzIGNvbXBsZXRlZC4pXG4gKlxuICpcbiAqICMjIEphdmFTY3JpcHQtYmFzZWQgQW5pbWF0aW9uc1xuICpcbiAqIG5nQW5pbWF0ZSBhbHNvIGFsbG93cyBmb3IgYW5pbWF0aW9ucyB0byBiZSBjb25zdW1lZCBieSBKYXZhU2NyaXB0IGNvZGUuIFRoZSBhcHByb2FjaCBpcyBzaW1pbGFyIHRvIENTUy1iYXNlZCBhbmltYXRpb25zICh3aGVyZSB0aGVyZSBpcyBhIHNoYXJlZFxuICogQ1NTIGNsYXNzIHRoYXQgaXMgcmVmZXJlbmNlZCBpbiBvdXIgSFRNTCBjb2RlKSBidXQgaW4gYWRkaXRpb24gd2UgbmVlZCB0byByZWdpc3RlciB0aGUgSmF2YVNjcmlwdCBhbmltYXRpb24gb24gdGhlIG1vZHVsZS4gQnkgbWFraW5nIHVzZSBvZiB0aGVcbiAqIGBtb2R1bGUuYW5pbWF0aW9uKClgIG1vZHVsZSBmdW5jdGlvbiB3ZSBjYW4gcmVnaXN0ZXIgdGhlIGFpbm1hdGlvbi5cbiAqXG4gKiBMZXQncyBzZWUgYW4gZXhhbXBsZSBvZiBhIGVudGVyL2xlYXZlIGFuaW1hdGlvbiB1c2luZyBgbmdSZXBlYXRgOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgbmctcmVwZWF0PVwiaXRlbSBpbiBpdGVtc1wiIGNsYXNzPVwic2xpZGVcIj5cbiAqICAge3sgaXRlbSB9fVxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBTZWUgdGhlICoqc2xpZGUqKiBDU1MgY2xhc3M/IExldCdzIHVzZSB0aGF0IGNsYXNzIHRvIGRlZmluZSBhbiBhbmltYXRpb24gdGhhdCB3ZSdsbCBzdHJ1Y3R1cmUgaW4gb3VyIG1vZHVsZSBjb2RlIGJ5IHVzaW5nIGBtb2R1bGUuYW5pbWF0aW9uYDpcbiAqXG4gKiBgYGBqc1xuICogbXlNb2R1bGUuYW5pbWF0aW9uKCcuc2xpZGUnLCBbZnVuY3Rpb24oKSB7XG4gKiAgIHJldHVybiB7XG4gKiAgICAgLy8gbWFrZSBub3RlIHRoYXQgb3RoZXIgZXZlbnRzIChsaWtlIGFkZENsYXNzL3JlbW92ZUNsYXNzKVxuICogICAgIC8vIGhhdmUgZGlmZmVyZW50IGZ1bmN0aW9uIGlucHV0IHBhcmFtZXRlcnNcbiAqICAgICBlbnRlcjogZnVuY3Rpb24oZWxlbWVudCwgZG9uZUZuKSB7XG4gKiAgICAgICBqUXVlcnkoZWxlbWVudCkuZmFkZUluKDEwMDAsIGRvbmVGbik7XG4gKlxuICogICAgICAgLy8gcmVtZW1iZXIgdG8gY2FsbCBkb25lRm4gc28gdGhhdCBhbmd1bGFyXG4gKiAgICAgICAvLyBrbm93cyB0aGF0IHRoZSBhbmltYXRpb24gaGFzIGNvbmNsdWRlZFxuICogICAgIH0sXG4gKlxuICogICAgIG1vdmU6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmVGbikge1xuICogICAgICAgalF1ZXJ5KGVsZW1lbnQpLmZhZGVJbigxMDAwLCBkb25lRm4pO1xuICogICAgIH0sXG4gKlxuICogICAgIGxlYXZlOiBmdW5jdGlvbihlbGVtZW50LCBkb25lRm4pIHtcbiAqICAgICAgIGpRdWVyeShlbGVtZW50KS5mYWRlT3V0KDEwMDAsIGRvbmVGbik7XG4gKiAgICAgfVxuICogICB9XG4gKiB9XVxuICogYGBgXG4gKlxuICogVGhlIG5pY2UgdGhpbmcgYWJvdXQgSlMtYmFzZWQgYW5pbWF0aW9ucyBpcyB0aGF0IHdlIGNhbiBpbmplY3Qgb3RoZXIgc2VydmljZXMgYW5kIG1ha2UgdXNlIG9mIGFkdmFuY2VkIGFuaW1hdGlvbiBsaWJyYXJpZXMgc3VjaCBhc1xuICogZ3JlZW5zb2NrLmpzIGFuZCB2ZWxvY2l0eS5qcy5cbiAqXG4gKiBJZiBvdXIgYW5pbWF0aW9uIGNvZGUgY2xhc3MtYmFzZWQgKG1lYW5pbmcgdGhhdCBzb21ldGhpbmcgbGlrZSBgbmdDbGFzc2AsIGBuZ0hpZGVgIGFuZCBgbmdTaG93YCB0cmlnZ2VycyBpdCkgdGhlbiB3ZSBjYW4gc3RpbGwgZGVmaW5lXG4gKiBvdXIgYW5pbWF0aW9ucyBpbnNpZGUgb2YgdGhlIHNhbWUgcmVnaXN0ZXJlZCBhbmltYXRpb24sIGhvd2V2ZXIsIHRoZSBmdW5jdGlvbiBpbnB1dCBhcmd1bWVudHMgYXJlIGEgYml0IGRpZmZlcmVudDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IG5nLWNsYXNzPVwiY29sb3JcIiBjbGFzcz1cImNvbG9yZnVsXCI+XG4gKiAgIHRoaXMgYm94IGlzIG1vb2R5XG4gKiA8L2Rpdj5cbiAqIDxidXR0b24gbmctY2xpY2s9XCJjb2xvcj0ncmVkJ1wiPkNoYW5nZSB0byByZWQ8L2J1dHRvbj5cbiAqIDxidXR0b24gbmctY2xpY2s9XCJjb2xvcj0nYmx1ZSdcIj5DaGFuZ2UgdG8gYmx1ZTwvYnV0dG9uPlxuICogPGJ1dHRvbiBuZy1jbGljaz1cImNvbG9yPSdncmVlbidcIj5DaGFuZ2UgdG8gZ3JlZW48L2J1dHRvbj5cbiAqIGBgYFxuICpcbiAqIGBgYGpzXG4gKiBteU1vZHVsZS5hbmltYXRpb24oJy5jb2xvcmZ1bCcsIFtmdW5jdGlvbigpIHtcbiAqICAgcmV0dXJuIHtcbiAqICAgICBhZGRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lRm4pIHtcbiAqICAgICAgIC8vIGRvIHNvbWUgY29vbCBhbmltYXRpb24gYW5kIGNhbGwgdGhlIGRvbmVGblxuICogICAgIH0sXG4gKiAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZUZuKSB7XG4gKiAgICAgICAvLyBkbyBzb21lIGNvb2wgYW5pbWF0aW9uIGFuZCBjYWxsIHRoZSBkb25lRm5cbiAqICAgICB9LFxuICogICAgIHNldENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBhZGRlZENsYXNzLCByZW1vdmVkQ2xhc3MsIGRvbmVGbikge1xuICogICAgICAgLy8gZG8gc29tZSBjb29sIGFuaW1hdGlvbiBhbmQgY2FsbCB0aGUgZG9uZUZuXG4gKiAgICAgfVxuICogICB9XG4gKiB9XVxuICogYGBgXG4gKlxuICogIyMgQ1NTICsgSlMgQW5pbWF0aW9ucyBUb2dldGhlclxuICpcbiAqIEFuZ3VsYXJKUyAxLjQgYW5kIGhpZ2hlciBoYXMgdGFrZW4gc3RlcHMgdG8gbWFrZSB0aGUgYW1hbGdhbWF0aW9uIG9mIENTUyBhbmQgSlMgYW5pbWF0aW9ucyBtb3JlIGZsZXhpYmxlLiBIb3dldmVyLCB1bmxpa2UgZWFybGllciB2ZXJzaW9ucyBvZiBBbmd1bGFyLFxuICogZGVmaW5pbmcgQ1NTIGFuZCBKUyBhbmltYXRpb25zIHRvIHdvcmsgb2ZmIG9mIHRoZSBzYW1lIENTUyBjbGFzcyB3aWxsIG5vdCB3b3JrIGFueW1vcmUuIFRoZXJlZm9yZSB0aGUgZXhhbXBsZSBiZWxvdyB3aWxsIG9ubHkgcmVzdWx0IGluICoqSlMgYW5pbWF0aW9ucyB0YWtpbmdcbiAqIGNoYXJnZSBvZiB0aGUgYW5pbWF0aW9uKio6XG4gKlxuICogYGBgaHRtbFxuICogPGRpdiBuZy1pZj1cImJvb2xcIiBjbGFzcz1cInNsaWRlXCI+XG4gKiAgIFNsaWRlIGluIGFuZCBvdXRcbiAqIDwvZGl2PlxuICogYGBgXG4gKlxuICogYGBganNcbiAqIG15TW9kdWxlLmFuaW1hdGlvbignLnNsaWRlJywgW2Z1bmN0aW9uKCkge1xuICogICByZXR1cm4ge1xuICogICAgIGVudGVyOiBmdW5jdGlvbihlbGVtZW50LCBkb25lRm4pIHtcbiAqICAgICAgIGpRdWVyeShlbGVtZW50KS5zbGlkZUluKDEwMDAsIGRvbmVGbik7XG4gKiAgICAgfVxuICogICB9XG4gKiB9XVxuICogYGBgXG4gKlxuICogYGBgY3NzXG4gKiAuc2xpZGUubmctZW50ZXIge1xuICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDtcbiAqICAgdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwMHB4KTtcbiAqIH1cbiAqIC5zbGlkZS5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xuICogICB0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIERvZXMgdGhpcyBtZWFuIHRoYXQgQ1NTIGFuZCBKUyBhbmltYXRpb25zIGNhbm5vdCBiZSB1c2VkIHRvZ2V0aGVyPyBEbyBKUy1iYXNlZCBhbmltYXRpb25zIGFsd2F5cyBoYXZlIGhpZ2hlciBwcmlvcml0eT8gV2UgY2FuIG1ha2UgdXAgZm9yIHRoZVxuICogbGFjayBvZiBDU1MgYW5pbWF0aW9ucyBieSB1c2luZyB0aGUgYCRhbmltYXRlQ3NzYCBzZXJ2aWNlIHRvIHRyaWdnZXIgb3VyIG93biB0d2Vha2VkLW91dCwgQ1NTLWJhc2VkIGFuaW1hdGlvbnMgZGlyZWN0bHkgZnJvbVxuICogb3VyIG93biBKUy1iYXNlZCBhbmltYXRpb24gY29kZTpcbiAqXG4gKiBgYGBqc1xuICogbXlNb2R1bGUuYW5pbWF0aW9uKCcuc2xpZGUnLCBbJyRhbmltYXRlQ3NzJywgZnVuY3Rpb24oJGFuaW1hdGVDc3MpIHtcbiAqICAgcmV0dXJuIHtcbiAqICAgICBlbnRlcjogZnVuY3Rpb24oZWxlbWVudCwgZG9uZUZuKSB7XG4qICAgICAgICAvLyB0aGlzIHdpbGwgdHJpZ2dlciBgLnNsaWRlLm5nLWVudGVyYCBhbmQgYC5zbGlkZS5uZy1lbnRlci1hY3RpdmVgLlxuICogICAgICAgdmFyIHJ1bm5lciA9ICRhbmltYXRlQ3NzKGVsZW1lbnQsIHtcbiAqICAgICAgICAgZXZlbnQ6ICdlbnRlcicsXG4gKiAgICAgICAgIHN0cnVjdHVyYWw6IHRydWVcbiAqICAgICAgIH0pLnN0YXJ0KCk7XG4qICAgICAgICBydW5uZXIuZG9uZShkb25lRm4pO1xuICogICAgIH1cbiAqICAgfVxuICogfV1cbiAqIGBgYFxuICpcbiAqIFRoZSBuaWNlIHRoaW5nIGhlcmUgaXMgdGhhdCB3ZSBjYW4gc2F2ZSBiYW5kd2lkdGggYnkgc3RpY2tpbmcgdG8gb3VyIENTUy1iYXNlZCBhbmltYXRpb24gY29kZSBhbmQgd2UgZG9uJ3QgbmVlZCB0byByZWx5IG9uIGEgM3JkLXBhcnR5IGFuaW1hdGlvbiBmcmFtZXdvcmsuXG4gKlxuICogVGhlIGAkYW5pbWF0ZUNzc2Agc2VydmljZSBpcyB2ZXJ5IHBvd2VyZnVsIHNpbmNlIHdlIGNhbiBmZWVkIGluIGFsbCBraW5kcyBvZiBleHRyYSBwcm9wZXJ0aWVzIHRoYXQgd2lsbCBiZSBldmFsdWF0ZWQgYW5kIGZlZCBpbnRvIGEgQ1NTIHRyYW5zaXRpb24gb3JcbiAqIGtleWZyYW1lIGFuaW1hdGlvbi4gRm9yIGV4YW1wbGUgaWYgd2Ugd2FudGVkIHRvIGFuaW1hdGUgdGhlIGhlaWdodCBvZiBhbiBlbGVtZW50IHdoaWxlIGFkZGluZyBhbmQgcmVtb3ZpbmcgY2xhc3NlcyB0aGVuIHdlIGNhbiBkbyBzbyBieSBwcm92aWRpbmcgdGhhdFxuICogZGF0YSBpbnRvIGAkYW5pbWF0ZUNzc2AgZGlyZWN0bHk6XG4gKlxuICogYGBganNcbiAqIG15TW9kdWxlLmFuaW1hdGlvbignLnNsaWRlJywgWyckYW5pbWF0ZUNzcycsIGZ1bmN0aW9uKCRhbmltYXRlQ3NzKSB7XG4gKiAgIHJldHVybiB7XG4gKiAgICAgZW50ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmVGbikge1xuICogICAgICAgdmFyIHJ1bm5lciA9ICRhbmltYXRlQ3NzKGVsZW1lbnQsIHtcbiAqICAgICAgICAgZXZlbnQ6ICdlbnRlcicsXG4gKiAgICAgICAgIGFkZENsYXNzOiAnbWFyb29uLXNldHRpbmcnLFxuICogICAgICAgICBmcm9tOiB7IGhlaWdodDowIH0sXG4gKiAgICAgICAgIHRvOiB7IGhlaWdodDogMjAwIH1cbiAqICAgICAgIH0pLnN0YXJ0KCk7XG4gKlxuICogICAgICAgcnVubmVyLmRvbmUoZG9uZUZuKTtcbiAqICAgICB9XG4gKiAgIH1cbiAqIH1dXG4gKiBgYGBcbiAqXG4gKiBOb3cgd2UgY2FuIGZpbGwgaW4gdGhlIHJlc3QgdmlhIG91ciB0cmFuc2l0aW9uIENTUyBjb2RlOlxuICpcbiAqIGBgYGNzc1xuICogLyYjNDI7IHRoZSB0cmFuc2l0aW9uIHRlbGxzIG5nQW5pbWF0ZSB0byBtYWtlIHRoZSBhbmltYXRpb24gaGFwcGVuICYjNDI7L1xuICogLnNsaWRlLm5nLWVudGVyIHsgdHJhbnNpdGlvbjowLjVzIGxpbmVhciBhbGw7IH1cbiAqXG4gKiAvJiM0MjsgdGhpcyBleHRyYSBDU1MgY2xhc3Mgd2lsbCBiZSBhYnNvcmJlZCBpbnRvIHRoZSB0cmFuc2l0aW9uXG4gKiBzaW5jZSB0aGUgJGFuaW1hdGVDc3MgY29kZSBpcyBhZGRpbmcgdGhlIGNsYXNzICYjNDI7L1xuICogLm1hcm9vbi1zZXR0aW5nIHsgYmFja2dyb3VuZDpyZWQ7IH1cbiAqIGBgYFxuICpcbiAqIEFuZCBgJGFuaW1hdGVDc3NgIHdpbGwgZmlndXJlIG91dCB0aGUgcmVzdC4gSnVzdCBtYWtlIHN1cmUgdG8gaGF2ZSB0aGUgYGRvbmUoKWAgY2FsbGJhY2sgZmlyZSB0aGUgYGRvbmVGbmAgZnVuY3Rpb24gdG8gc2lnbmFsIHdoZW4gdGhlIGFuaW1hdGlvbiBpcyBvdmVyLlxuICpcbiAqIFRvIGxlYXJuIG1vcmUgYWJvdXQgd2hhdCdzIHBvc3NpYmxlIGJlIHN1cmUgdG8gdmlzaXQgdGhlIHtAbGluayBuZ0FuaW1hdGUuJGFuaW1hdGVDc3MgJGFuaW1hdGVDc3Mgc2VydmljZX0uXG4gKlxuICogIyMgQW5pbWF0aW9uIEFuY2hvcmluZyAodmlhIGBuZy1hbmltYXRlLXJlZmApXG4gKlxuICogbmdBbmltYXRlIGluIEFuZ3VsYXJKUyAxLjQgY29tZXMgcGFja2VkIHdpdGggdGhlIGFiaWxpdHkgdG8gY3Jvc3MtYW5pbWF0ZSBlbGVtZW50cyBiZXR3ZWVuXG4gKiBzdHJ1Y3R1cmFsIGFyZWFzIG9mIGFuIGFwcGxpY2F0aW9uIChsaWtlIHZpZXdzKSBieSBwYWlyaW5nIHVwIGVsZW1lbnRzIHVzaW5nIGFuIGF0dHJpYnV0ZVxuICogY2FsbGVkIGBuZy1hbmltYXRlLXJlZmAuXG4gKlxuICogTGV0J3Mgc2F5IGZvciBleGFtcGxlIHdlIGhhdmUgdHdvIHZpZXdzIHRoYXQgYXJlIG1hbmFnZWQgYnkgYG5nLXZpZXdgIGFuZCB3ZSB3YW50IHRvIHNob3dcbiAqIHRoYXQgdGhlcmUgaXMgYSByZWxhdGlvbnNoaXAgYmV0d2VlbiB0d28gY29tcG9uZW50cyBzaXR1YXRlZCBpbiB3aXRoaW4gdGhlc2Ugdmlld3MuIEJ5IHVzaW5nIHRoZVxuICogYG5nLWFuaW1hdGUtcmVmYCBhdHRyaWJ1dGUgd2UgY2FuIGlkZW50aWZ5IHRoYXQgdGhlIHR3byBjb21wb25lbnRzIGFyZSBwYWlyZWQgdG9nZXRoZXIgYW5kIHdlXG4gKiBjYW4gdGhlbiBhdHRhY2ggYW4gYW5pbWF0aW9uLCB3aGljaCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgdmlldyBjaGFuZ2VzLlxuICpcbiAqIFNheSBmb3IgZXhhbXBsZSB3ZSBoYXZlIHRoZSBmb2xsb3dpbmcgdGVtcGxhdGUgY29kZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8IS0tIGluZGV4Lmh0bWwgLS0+XG4gKiA8ZGl2IG5nLXZpZXcgY2xhc3M9XCJ2aWV3LWFuaW1hdGlvblwiPlxuICogPC9kaXY+XG4gKlxuICogPCEtLSBob21lLmh0bWwgLS0+XG4gKiA8YSBocmVmPVwiIy9iYW5uZXItcGFnZVwiPlxuICogICA8aW1nIHNyYz1cIi4vYmFubmVyLmpwZ1wiIGNsYXNzPVwiYmFubmVyXCIgbmctYW5pbWF0ZS1yZWY9XCJiYW5uZXJcIj5cbiAqIDwvYT5cbiAqXG4gKiA8IS0tIGJhbm5lci1wYWdlLmh0bWwgLS0+XG4gKiA8aW1nIHNyYz1cIi4vYmFubmVyLmpwZ1wiIGNsYXNzPVwiYmFubmVyXCIgbmctYW5pbWF0ZS1yZWY9XCJiYW5uZXJcIj5cbiAqIGBgYFxuICpcbiAqIE5vdywgd2hlbiB0aGUgdmlldyBjaGFuZ2VzIChvbmNlIHRoZSBsaW5rIGlzIGNsaWNrZWQpLCBuZ0FuaW1hdGUgd2lsbCBleGFtaW5lIHRoZVxuICogSFRNTCBjb250ZW50cyB0byBzZWUgaWYgdGhlcmUgaXMgYSBtYXRjaCByZWZlcmVuY2UgYmV0d2VlbiBhbnkgY29tcG9uZW50cyBpbiB0aGUgdmlld1xuICogdGhhdCBpcyBsZWF2aW5nIGFuZCB0aGUgdmlldyB0aGF0IGlzIGVudGVyaW5nLiBJdCB3aWxsIHNjYW4gYm90aCB0aGUgdmlldyB3aGljaCBpcyBiZWluZ1xuICogcmVtb3ZlZCAobGVhdmUpIGFuZCBpbnNlcnRlZCAoZW50ZXIpIHRvIHNlZSBpZiB0aGVyZSBhcmUgYW55IHBhaXJlZCBET00gZWxlbWVudHMgdGhhdFxuICogY29udGFpbiBhIG1hdGNoaW5nIHJlZiB2YWx1ZS5cbiAqXG4gKiBUaGUgdHdvIGltYWdlcyBtYXRjaCBzaW5jZSB0aGV5IHNoYXJlIHRoZSBzYW1lIHJlZiB2YWx1ZS4gbmdBbmltYXRlIHdpbGwgbm93IGNyZWF0ZSBhXG4gKiB0cmFuc3BvcnQgZWxlbWVudCAod2hpY2ggaXMgYSBjbG9uZSBvZiB0aGUgZmlyc3QgaW1hZ2UgZWxlbWVudCkgYW5kIGl0IHdpbGwgdGhlbiBhdHRlbXB0XG4gKiB0byBhbmltYXRlIHRvIHRoZSBwb3NpdGlvbiBvZiB0aGUgc2Vjb25kIGltYWdlIGVsZW1lbnQgaW4gdGhlIG5leHQgdmlldy4gRm9yIHRoZSBhbmltYXRpb24gdG9cbiAqIHdvcmsgYSBzcGVjaWFsIENTUyBjbGFzcyBjYWxsZWQgYG5nLWFuY2hvcmAgd2lsbCBiZSBhZGRlZCB0byB0aGUgdHJhbnNwb3J0ZWQgZWxlbWVudC5cbiAqXG4gKiBXZSBjYW4gbm93IGF0dGFjaCBhIHRyYW5zaXRpb24gb250byB0aGUgYC5iYW5uZXIubmctYW5jaG9yYCBDU1MgY2xhc3MgYW5kIHRoZW5cbiAqIG5nQW5pbWF0ZSB3aWxsIGhhbmRsZSB0aGUgZW50aXJlIHRyYW5zaXRpb24gZm9yIHVzIGFzIHdlbGwgYXMgdGhlIGFkZGl0aW9uIGFuZCByZW1vdmFsIG9mXG4gKiBhbnkgY2hhbmdlcyBvZiBDU1MgY2xhc3NlcyBiZXR3ZWVuIHRoZSBlbGVtZW50czpcbiAqXG4gKiBgYGBjc3NcbiAqIC5iYW5uZXIubmctYW5jaG9yIHtcbiAqICAgLyYjNDI7IHRoaXMgYW5pbWF0aW9uIHdpbGwgbGFzdCBmb3IgMSBzZWNvbmQgc2luY2UgdGhlcmUgYXJlXG4gKiAgICAgICAgICB0d28gcGhhc2VzIHRvIHRoZSBhbmltYXRpb24gKGFuIGBpbmAgYW5kIGFuIGBvdXRgIHBoYXNlKSAmIzQyOy9cbiAqICAgdHJhbnNpdGlvbjowLjVzIGxpbmVhciBhbGw7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBXZSBhbHNvICoqbXVzdCoqIGluY2x1ZGUgYW5pbWF0aW9ucyBmb3IgdGhlIHZpZXdzIHRoYXQgYXJlIGJlaW5nIGVudGVyZWQgYW5kIHJlbW92ZWRcbiAqIChvdGhlcndpc2UgYW5jaG9yaW5nIHdvdWxkbid0IGJlIHBvc3NpYmxlIHNpbmNlIHRoZSBuZXcgdmlldyB3b3VsZCBiZSBpbnNlcnRlZCByaWdodCBhd2F5KS5cbiAqXG4gKiBgYGBjc3NcbiAqIC52aWV3LWFuaW1hdGlvbi5uZy1lbnRlciwgLnZpZXctYW5pbWF0aW9uLm5nLWxlYXZlIHtcbiAqICAgdHJhbnNpdGlvbjowLjVzIGxpbmVhciBhbGw7XG4gKiAgIHBvc2l0aW9uOmZpeGVkO1xuICogICBsZWZ0OjA7XG4gKiAgIHRvcDowO1xuICogICB3aWR0aDoxMDAlO1xuICogfVxuICogLnZpZXctYW5pbWF0aW9uLm5nLWVudGVyIHtcbiAqICAgdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTAwJSk7XG4gKiB9XG4gKiAudmlldy1hbmltYXRpb24ubmctbGVhdmUsXG4gKiAudmlldy1hbmltYXRpb24ubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcbiAqICAgdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCUpO1xuICogfVxuICogLnZpZXctYW5pbWF0aW9uLm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSB7XG4gKiAgIHRyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMDAlKTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIE5vdyB3ZSBjYW4ganVtcCBiYWNrIHRvIHRoZSBhbmNob3IgYW5pbWF0aW9uLiBXaGVuIHRoZSBhbmltYXRpb24gaGFwcGVucywgdGhlcmUgYXJlIHR3byBzdGFnZXMgdGhhdCBvY2N1cjpcbiAqIGFuIGBvdXRgIGFuZCBhbiBgaW5gIHN0YWdlLiBUaGUgYG91dGAgc3RhZ2UgaGFwcGVucyBmaXJzdCBhbmQgdGhhdCBpcyB3aGVuIHRoZSBlbGVtZW50IGlzIGFuaW1hdGVkIGF3YXlcbiAqIGZyb20gaXRzIG9yaWdpbi4gT25jZSB0aGF0IGFuaW1hdGlvbiBpcyBvdmVyIHRoZW4gdGhlIGBpbmAgc3RhZ2Ugb2NjdXJzIHdoaWNoIGFuaW1hdGVzIHRoZVxuICogZWxlbWVudCB0byBpdHMgZGVzdGluYXRpb24uIFRoZSByZWFzb24gd2h5IHRoZXJlIGFyZSB0d28gYW5pbWF0aW9ucyBpcyB0byBnaXZlIGVub3VnaCB0aW1lXG4gKiBmb3IgdGhlIGVudGVyIGFuaW1hdGlvbiBvbiB0aGUgbmV3IGVsZW1lbnQgdG8gYmUgcmVhZHkuXG4gKlxuICogVGhlIGV4YW1wbGUgYWJvdmUgc2V0cyB1cCBhIHRyYW5zaXRpb24gZm9yIGJvdGggdGhlIGluIGFuZCBvdXQgcGhhc2VzLCBidXQgd2UgY2FuIGFsc28gdGFyZ2V0IHRoZSBvdXQgb3JcbiAqIGluIHBoYXNlcyBkaXJlY3RseSB2aWEgYG5nLWFuY2hvci1vdXRgIGFuZCBgbmctYW5jaG9yLWluYC5cbiAqXG4gKiBgYGBjc3NcbiAqIC5iYW5uZXIubmctYW5jaG9yLW91dCB7XG4gKiAgIHRyYW5zaXRpb246IDAuNXMgbGluZWFyIGFsbDtcbiAqXG4gKiAgIC8mIzQyOyB0aGUgc2NhbGUgd2lsbCBiZSBhcHBsaWVkIGR1cmluZyB0aGUgb3V0IGFuaW1hdGlvbixcbiAqICAgICAgICAgIGJ1dCB3aWxsIGJlIGFuaW1hdGVkIGF3YXkgd2hlbiB0aGUgaW4gYW5pbWF0aW9uIHJ1bnMgJiM0MjsvXG4gKiAgIHRyYW5zZm9ybTogc2NhbGUoMS4yKTtcbiAqIH1cbiAqXG4gKiAuYmFubmVyLm5nLWFuY2hvci1pbiB7XG4gKiAgIHRyYW5zaXRpb246IDFzIGxpbmVhciBhbGw7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKlxuICpcbiAqXG4gKiAjIyMgQW5jaG9yaW5nIERlbW9cbiAqXG4gIDxleGFtcGxlIG1vZHVsZT1cImFuY2hvcmluZ0V4YW1wbGVcIlxuICAgICAgICAgICBuYW1lPVwiYW5jaG9yaW5nRXhhbXBsZVwiXG4gICAgICAgICAgIGlkPVwiYW5jaG9yaW5nRXhhbXBsZVwiXG4gICAgICAgICAgIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanM7YW5ndWxhci1yb3V0ZS5qc1wiXG4gICAgICAgICAgIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxhIGhyZWY9XCIjL1wiPkhvbWU8L2E+XG4gICAgICA8aHIgLz5cbiAgICAgIDxkaXYgY2xhc3M9XCJ2aWV3LWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IG5nLXZpZXcgY2xhc3M9XCJ2aWV3XCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2FuY2hvcmluZ0V4YW1wbGUnLCBbJ25nQW5pbWF0ZScsICduZ1JvdXRlJ10pXG4gICAgICAgIC5jb25maWcoWyckcm91dGVQcm92aWRlcicsIGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyKSB7XG4gICAgICAgICAgJHJvdXRlUHJvdmlkZXIud2hlbignLycsIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnaG9tZS5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdIb21lQ29udHJvbGxlciBhcyBob21lJ1xuICAgICAgICAgIH0pO1xuICAgICAgICAgICRyb3V0ZVByb3ZpZGVyLndoZW4oJy9wcm9maWxlLzppZCcsIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncHJvZmlsZS5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdQcm9maWxlQ29udHJvbGxlciBhcyBwcm9maWxlJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XSlcbiAgICAgICAgLnJ1bihbJyRyb290U2NvcGUnLCBmdW5jdGlvbigkcm9vdFNjb3BlKSB7XG4gICAgICAgICAgJHJvb3RTY29wZS5yZWNvcmRzID0gW1xuICAgICAgICAgICAgeyBpZDoxLCB0aXRsZTogXCJNaXNzIEJldWxhaCBSb29iXCIgfSxcbiAgICAgICAgICAgIHsgaWQ6MiwgdGl0bGU6IFwiVHJlbnQgTW9yaXNzZXR0ZVwiIH0sXG4gICAgICAgICAgICB7IGlkOjMsIHRpdGxlOiBcIk1pc3MgQXZhIFBvdXJvc1wiIH0sXG4gICAgICAgICAgICB7IGlkOjQsIHRpdGxlOiBcIlJvZCBQb3Vyb3NcIiB9LFxuICAgICAgICAgICAgeyBpZDo1LCB0aXRsZTogXCJBYmR1bCBSaWNlXCIgfSxcbiAgICAgICAgICAgIHsgaWQ6NiwgdGl0bGU6IFwiTGF1cmllIFJ1dGhlcmZvcmQgU3IuXCIgfSxcbiAgICAgICAgICAgIHsgaWQ6NywgdGl0bGU6IFwiTmFraWEgTWNMYXVnaGxpblwiIH0sXG4gICAgICAgICAgICB7IGlkOjgsIHRpdGxlOiBcIkpvcmRvbiBCbGFuZGEgRFZNXCIgfSxcbiAgICAgICAgICAgIHsgaWQ6OSwgdGl0bGU6IFwiUmhvZGEgSGFuZFwiIH0sXG4gICAgICAgICAgICB7IGlkOjEwLCB0aXRsZTogXCJBbGV4YW5kcmVhIFNhdWVyXCIgfVxuICAgICAgICAgIF07XG4gICAgICAgIH1dKVxuICAgICAgICAuY29udHJvbGxlcignSG9tZUNvbnRyb2xsZXInLCBbZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLy9lbXB0eVxuICAgICAgICB9XSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1Byb2ZpbGVDb250cm9sbGVyJywgWyckcm9vdFNjb3BlJywgJyRyb3V0ZVBhcmFtcycsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRyb3V0ZVBhcmFtcykge1xuICAgICAgICAgIHZhciBpbmRleCA9IHBhcnNlSW50KCRyb3V0ZVBhcmFtcy5pZCwgMTApO1xuICAgICAgICAgIHZhciByZWNvcmQgPSAkcm9vdFNjb3BlLnJlY29yZHNbaW5kZXggLSAxXTtcblxuICAgICAgICAgIHRoaXMudGl0bGUgPSByZWNvcmQudGl0bGU7XG4gICAgICAgICAgdGhpcy5pZCA9IHJlY29yZC5pZDtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiaG9tZS5odG1sXCI+XG4gICAgICA8aDI+V2VsY29tZSB0byB0aGUgaG9tZSBwYWdlPC9oMT5cbiAgICAgIDxwPlBsZWFzZSBjbGljayBvbiBhbiBlbGVtZW50PC9wPlxuICAgICAgPGEgY2xhc3M9XCJyZWNvcmRcIlxuICAgICAgICAgbmctaHJlZj1cIiMvcHJvZmlsZS97eyByZWNvcmQuaWQgfX1cIlxuICAgICAgICAgbmctYW5pbWF0ZS1yZWY9XCJ7eyByZWNvcmQuaWQgfX1cIlxuICAgICAgICAgbmctcmVwZWF0PVwicmVjb3JkIGluIHJlY29yZHNcIj5cbiAgICAgICAge3sgcmVjb3JkLnRpdGxlIH19XG4gICAgICA8L2E+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm9maWxlLmh0bWxcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJwcm9maWxlIHJlY29yZFwiIG5nLWFuaW1hdGUtcmVmPVwie3sgcHJvZmlsZS5pZCB9fVwiPlxuICAgICAgICB7eyBwcm9maWxlLnRpdGxlIH19XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XG4gICAgICAucmVjb3JkIHtcbiAgICAgICAgZGlzcGxheTpibG9jaztcbiAgICAgICAgZm9udC1zaXplOjIwcHg7XG4gICAgICB9XG4gICAgICAucHJvZmlsZSB7XG4gICAgICAgIGJhY2tncm91bmQ6YmxhY2s7XG4gICAgICAgIGNvbG9yOndoaXRlO1xuICAgICAgICBmb250LXNpemU6MTAwcHg7XG4gICAgICB9XG4gICAgICAudmlldy1jb250YWluZXIge1xuICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcbiAgICAgIH1cbiAgICAgIC52aWV3LWNvbnRhaW5lciA+IC52aWV3Lm5nLWFuaW1hdGUge1xuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICAgICAgdG9wOjA7XG4gICAgICAgIGxlZnQ6MDtcbiAgICAgICAgd2lkdGg6MTAwJTtcbiAgICAgICAgbWluLWhlaWdodDo1MDBweDtcbiAgICAgIH1cbiAgICAgIC52aWV3Lm5nLWVudGVyLCAudmlldy5uZy1sZWF2ZSxcbiAgICAgIC5yZWNvcmQubmctYW5jaG9yIHtcbiAgICAgICAgdHJhbnNpdGlvbjowLjVzIGxpbmVhciBhbGw7XG4gICAgICB9XG4gICAgICAudmlldy5uZy1lbnRlciB7XG4gICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGVYKDEwMCUpO1xuICAgICAgfVxuICAgICAgLnZpZXcubmctZW50ZXIubmctZW50ZXItYWN0aXZlLCAudmlldy5uZy1sZWF2ZSB7XG4gICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGVYKDAlKTtcbiAgICAgIH1cbiAgICAgIC52aWV3Lm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSB7XG4gICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMDAlKTtcbiAgICAgIH1cbiAgICAgIC5yZWNvcmQubmctYW5jaG9yLW91dCB7XG4gICAgICAgIGJhY2tncm91bmQ6cmVkO1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICpcbiAqICMjIyBIb3cgaXMgdGhlIGVsZW1lbnQgdHJhbnNwb3J0ZWQ/XG4gKlxuICogV2hlbiBhbiBhbmNob3IgYW5pbWF0aW9uIG9jY3VycywgbmdBbmltYXRlIHdpbGwgY2xvbmUgdGhlIHN0YXJ0aW5nIGVsZW1lbnQgYW5kIHBvc2l0aW9uIGl0IGV4YWN0bHkgd2hlcmUgdGhlIHN0YXJ0aW5nXG4gKiBlbGVtZW50IGlzIGxvY2F0ZWQgb24gc2NyZWVuIHZpYSBhYnNvbHV0ZSBwb3NpdGlvbmluZy4gVGhlIGNsb25lZCBlbGVtZW50IHdpbGwgYmUgcGxhY2VkIGluc2lkZSBvZiB0aGUgcm9vdCBlbGVtZW50XG4gKiBvZiB0aGUgYXBwbGljYXRpb24gKHdoZXJlIG5nLWFwcCB3YXMgZGVmaW5lZCkgYW5kIGFsbCBvZiB0aGUgQ1NTIGNsYXNzZXMgb2YgdGhlIHN0YXJ0aW5nIGVsZW1lbnQgd2lsbCBiZSBhcHBsaWVkLiBUaGVcbiAqIGVsZW1lbnQgd2lsbCB0aGVuIGFuaW1hdGUgaW50byB0aGUgYG91dGAgYW5kIGBpbmAgYW5pbWF0aW9ucyBhbmQgd2lsbCBldmVudHVhbGx5IHJlYWNoIHRoZSBjb29yZGluYXRlcyBhbmQgbWF0Y2hcbiAqIHRoZSBkaW1lbnNpb25zIG9mIHRoZSBkZXN0aW5hdGlvbiBlbGVtZW50LiBEdXJpbmcgdGhlIGVudGlyZSBhbmltYXRpb24gYSBDU1MgY2xhc3Mgb2YgYC5uZy1hbmltYXRlLXNoaW1gIHdpbGwgYmUgYXBwbGllZFxuICogdG8gYm90aCB0aGUgc3RhcnRpbmcgYW5kIGRlc3RpbmF0aW9uIGVsZW1lbnRzIGluIG9yZGVyIHRvIGhpZGUgdGhlbSBmcm9tIGJlaW5nIHZpc2libGUgKHRoZSBDU1Mgc3R5bGluZyBmb3IgdGhlIGNsYXNzXG4gKiBpczogYHZpc2liaWxpdHk6aGlkZGVuYCkuIE9uY2UgdGhlIGFuY2hvciByZWFjaGVzIGl0cyBkZXN0aW5hdGlvbiB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZCBhbmQgdGhlIGRlc3RpbmF0aW9uIGVsZW1lbnRcbiAqIHdpbGwgYmVjb21lIHZpc2libGUgc2luY2UgdGhlIHNoaW0gY2xhc3Mgd2lsbCBiZSByZW1vdmVkLlxuICpcbiAqICMjIyBIb3cgaXMgdGhlIG1vcnBoaW5nIGhhbmRsZWQ/XG4gKlxuICogQ1NTIEFuY2hvcmluZyByZWxpZXMgb24gdHJhbnNpdGlvbnMgYW5kIGtleWZyYW1lcyBhbmQgdGhlIGludGVybmFsIGNvZGUgaXMgaW50ZWxsaWdlbnQgZW5vdWdoIHRvIGZpZ3VyZSBvdXRcbiAqIHdoYXQgQ1NTIGNsYXNzZXMgZGlmZmVyIGJldHdlZW4gdGhlIHN0YXJ0aW5nIGVsZW1lbnQgYW5kIHRoZSBkZXN0aW5hdGlvbiBlbGVtZW50LiBUaGVzZSBkaWZmZXJlbnQgQ1NTIGNsYXNzZXNcbiAqIHdpbGwgYmUgYWRkZWQvcmVtb3ZlZCBvbiB0aGUgYW5jaG9yIGVsZW1lbnQgYW5kIGEgdHJhbnNpdGlvbiB3aWxsIGJlIGFwcGxpZWQgKHRoZSB0cmFuc2l0aW9uIHRoYXQgaXMgcHJvdmlkZWRcbiAqIGluIHRoZSBhbmNob3IgY2xhc3MpLiBMb25nIHN0b3J5IHNob3J0LCBuZ0FuaW1hdGUgd2lsbCBmaWd1cmUgb3V0IHdoYXQgY2xhc3NlcyB0byBhZGQgYW5kIHJlbW92ZSB3aGljaCB3aWxsXG4gKiBtYWtlIHRoZSB0cmFuc2l0aW9uIG9mIHRoZSBlbGVtZW50IGFzIHNtb290aCBhbmQgYXV0b21hdGljIGFzIHBvc3NpYmxlLiBCZSBzdXJlIHRvIHVzZSBzaW1wbGUgQ1NTIGNsYXNzZXMgdGhhdFxuICogZG8gbm90IHJlbHkgb24gRE9NIG5lc3Rpbmcgc3RydWN0dXJlIHNvIHRoYXQgdGhlIGFuY2hvciBlbGVtZW50IGFwcGVhcnMgdGhlIHNhbWUgYXMgdGhlIHN0YXJ0aW5nIGVsZW1lbnQgKHNpbmNlXG4gKiB0aGUgY2xvbmVkIGVsZW1lbnQgaXMgcGxhY2VkIGluc2lkZSBvZiByb290IGVsZW1lbnQgd2hpY2ggaXMgbGlrZWx5IGNsb3NlIHRvIHRoZSBib2R5IGVsZW1lbnQpLlxuICpcbiAqIE5vdGUgdGhhdCBpZiB0aGUgcm9vdCBlbGVtZW50IGlzIG9uIHRoZSBgPGh0bWw+YCBlbGVtZW50IHRoZW4gdGhlIGNsb25lZCBub2RlIHdpbGwgYmUgcGxhY2VkIGluc2lkZSBvZiBib2R5LlxuICpcbiAqXG4gKiAjIyBVc2luZyAkYW5pbWF0ZSBpbiB5b3VyIGRpcmVjdGl2ZSBjb2RlXG4gKlxuICogU28gZmFyIHdlJ3ZlIGV4cGxvcmVkIGhvdyB0byBmZWVkIGluIGFuaW1hdGlvbnMgaW50byBhbiBBbmd1bGFyIGFwcGxpY2F0aW9uLCBidXQgaG93IGRvIHdlIHRyaWdnZXIgYW5pbWF0aW9ucyB3aXRoaW4gb3VyIG93biBkaXJlY3RpdmVzIGluIG91ciBhcHBsaWNhdGlvbj9cbiAqIEJ5IGluamVjdGluZyB0aGUgYCRhbmltYXRlYCBzZXJ2aWNlIGludG8gb3VyIGRpcmVjdGl2ZSBjb2RlLCB3ZSBjYW4gdHJpZ2dlciBzdHJ1Y3R1cmFsIGFuZCBjbGFzcy1iYXNlZCBob29rcyB3aGljaCBjYW4gdGhlbiBiZSBjb25zdW1lZCBieSBhbmltYXRpb25zLiBMZXQnc1xuICogaW1hZ2luZSB3ZSBoYXZlIGEgZ3JlZXRpbmcgYm94IHRoYXQgc2hvd3MgYW5kIGhpZGVzIGl0c2VsZiB3aGVuIHRoZSBkYXRhIGNoYW5nZXNcbiAqXG4gKiBgYGBodG1sXG4gKiA8Z3JlZXRpbmctYm94IGFjdGl2ZT1cIm9uT3JPZmZcIj5IaSB0aGVyZTwvZ3JlZXRpbmctYm94PlxuICogYGBgXG4gKlxuICogYGBganNcbiAqIG5nTW9kdWxlLmRpcmVjdGl2ZSgnZ3JlZXRpbmdCb3gnLCBbJyRhbmltYXRlJywgZnVuY3Rpb24oJGFuaW1hdGUpIHtcbiAqICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICogICAgIGF0dHJzLiRvYnNlcnZlKCdhY3RpdmUnLCBmdW5jdGlvbih2YWx1ZSkge1xuICogICAgICAgdmFsdWUgPyAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCAnb24nKSA6ICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsICdvbicpO1xuICogICAgIH0pO1xuICogICB9KTtcbiAqIH1dKTtcbiAqIGBgYFxuICpcbiAqIE5vdyB0aGUgYG9uYCBDU1MgY2xhc3MgaXMgYWRkZWQgYW5kIHJlbW92ZWQgb24gdGhlIGdyZWV0aW5nIGJveCBjb21wb25lbnQuIE5vdyBpZiB3ZSBhZGQgYSBDU1MgY2xhc3Mgb24gdG9wIG9mIHRoZSBncmVldGluZyBib3ggZWxlbWVudFxuICogaW4gb3VyIEhUTUwgY29kZSB0aGVuIHdlIGNhbiB0cmlnZ2VyIGEgQ1NTIG9yIEpTIGFuaW1hdGlvbiB0byBoYXBwZW4uXG4gKlxuICogYGBgY3NzXG4gKiAvJiM0Mjsgbm9ybWFsbHkgd2Ugd291bGQgY3JlYXRlIGEgQ1NTIGNsYXNzIHRvIHJlZmVyZW5jZSBvbiB0aGUgZWxlbWVudCAmIzQyOy9cbiAqIGdyZWV0aW5nLWJveC5vbiB7IHRyYW5zaXRpb246MC41cyBsaW5lYXIgYWxsOyBiYWNrZ3JvdW5kOmdyZWVuOyBjb2xvcjp3aGl0ZTsgfVxuICogYGBgXG4gKlxuICogVGhlIGAkYW5pbWF0ZWAgc2VydmljZSBjb250YWlucyBhIHZhcmlldHkgb2Ygb3RoZXIgbWV0aG9kcyBsaWtlIGBlbnRlcmAsIGBsZWF2ZWAsIGBhbmltYXRlYCBhbmQgYHNldENsYXNzYC4gVG8gbGVhcm4gbW9yZSBhYm91dCB3aGF0J3NcbiAqIHBvc3NpYmxlIGJlIHN1cmUgdG8gdmlzaXQgdGhlIHtAbGluayBuZy4kYW5pbWF0ZSAkYW5pbWF0ZSBzZXJ2aWNlIEFQSSBwYWdlfS5cbiAqXG4gKlxuICogIyMjIFByZXZlbnRpbmcgQ29sbGlzaW9ucyBXaXRoIFRoaXJkIFBhcnR5IExpYnJhcmllc1xuICpcbiAqIFNvbWUgdGhpcmQtcGFydHkgZnJhbWV3b3JrcyBwbGFjZSBhbmltYXRpb24gZHVyYXRpb24gZGVmYXVsdHMgYWNyb3NzIG1hbnkgZWxlbWVudCBvciBjbGFzc05hbWVcbiAqIHNlbGVjdG9ycyBpbiBvcmRlciB0byBtYWtlIHRoZWlyIGNvZGUgc21hbGwgYW5kIHJldXNlYWJsZS4gVGhpcyBjYW4gbGVhZCB0byBpc3N1ZXMgd2l0aCBuZ0FuaW1hdGUsIHdoaWNoXG4gKiBpcyBleHBlY3RpbmcgYWN0dWFsIGFuaW1hdGlvbnMgb24gdGhlc2UgZWxlbWVudHMgYW5kIGhhcyB0byB3YWl0IGZvciB0aGVpciBjb21wbGV0aW9uLlxuICpcbiAqIFlvdSBjYW4gcHJldmVudCB0aGlzIHVud2FudGVkIGJlaGF2aW9yIGJ5IHVzaW5nIGEgcHJlZml4IG9uIGFsbCB5b3VyIGFuaW1hdGlvbiBjbGFzc2VzOlxuICpcbiAqIGBgYGNzc1xuICogLyYjNDI7IHByZWZpeGVkIHdpdGggYW5pbWF0ZS0gJiM0MjsvXG4gKiAuYW5pbWF0ZS1mYWRlLWFkZC5hbmltYXRlLWZhZGUtYWRkLWFjdGl2ZSB7XG4gKiAgIHRyYW5zaXRpb246MXMgbGluZWFyIGFsbDtcbiAqICAgb3BhY2l0eTowO1xuICogfVxuICogYGBgXG4gKlxuICogWW91IHRoZW4gY29uZmlndXJlIGAkYW5pbWF0ZWAgdG8gZW5mb3JjZSB0aGlzIHByZWZpeDpcbiAqXG4gKiBgYGBqc1xuICogJGFuaW1hdGVQcm92aWRlci5jbGFzc05hbWVGaWx0ZXIoL2FuaW1hdGUtLyk7XG4gKiBgYGBcbiAqXG4gKiBUaGlzIGFsc28gbWF5IHByb3ZpZGUgeW91ciBhcHBsaWNhdGlvbiB3aXRoIGEgc3BlZWQgYm9vc3Qgc2luY2Ugb25seSBzcGVjaWZpYyBlbGVtZW50cyBjb250YWluaW5nIENTUyBjbGFzcyBwcmVmaXhcbiAqIHdpbGwgYmUgZXZhbHVhdGVkIGZvciBhbmltYXRpb24gd2hlbiBhbnkgRE9NIGNoYW5nZXMgb2NjdXIgaW4gdGhlIGFwcGxpY2F0aW9uLlxuICpcbiAqICMjIENhbGxiYWNrcyBhbmQgUHJvbWlzZXNcbiAqXG4gKiBXaGVuIGAkYW5pbWF0ZWAgaXMgY2FsbGVkIGl0IHJldHVybnMgYSBwcm9taXNlIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FwdHVyZSB3aGVuIHRoZSBhbmltYXRpb24gaGFzIGVuZGVkLiBUaGVyZWZvcmUgaWYgd2Ugd2VyZSB0byB0cmlnZ2VyXG4gKiBhbiBhbmltYXRpb24gKHdpdGhpbiBvdXIgZGlyZWN0aXZlIGNvZGUpIHRoZW4gd2UgY2FuIGNvbnRpbnVlIHBlcmZvcm1pbmcgZGlyZWN0aXZlIGFuZCBzY29wZSByZWxhdGVkIGFjdGl2aXRpZXMgYWZ0ZXIgdGhlIGFuaW1hdGlvbiBoYXNcbiAqIGVuZGVkIGJ5IGNoYWluaW5nIG9udG8gdGhlIHJldHVybmVkIHByb21pc2UgdGhhdCBhbmltYXRpb24gbWV0aG9kIHJldHVybnMuXG4gKlxuICogYGBganNcbiAqIC8vIHNvbWV3aGVyZSB3aXRoaW4gdGhlIGRlcHRocyBvZiB0aGUgZGlyZWN0aXZlXG4gKiAkYW5pbWF0ZS5lbnRlcihlbGVtZW50LCBwYXJlbnQpLnRoZW4oZnVuY3Rpb24oKSB7XG4gKiAgIC8vdGhlIGFuaW1hdGlvbiBoYXMgY29tcGxldGVkXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIChOb3RlIHRoYXQgZWFybGllciB2ZXJzaW9ucyBvZiBBbmd1bGFyIHByaW9yIHRvIHYxLjQgcmVxdWlyZWQgdGhlIHByb21pc2UgY29kZSB0byBiZSB3cmFwcGVkIHVzaW5nIGAkc2NvcGUuJGFwcGx5KC4uLilgLiBUaGlzIGlzIG5vdCB0aGUgY2FzZVxuICogYW55bW9yZS4pXG4gKlxuICogSW4gYWRkaXRpb24gdG8gdGhlIGFuaW1hdGlvbiBwcm9taXNlLCB3ZSBjYW4gYWxzbyBtYWtlIHVzZSBvZiBhbmltYXRpb24tcmVsYXRlZCBjYWxsYmFja3Mgd2l0aGluIG91ciBkaXJlY3RpdmVzIGFuZCBjb250cm9sbGVyIGNvZGUgYnkgcmVnaXN0ZXJpbmdcbiAqIGFuIGV2ZW50IGxpc3RlbmVyIHVzaW5nIHRoZSBgJGFuaW1hdGVgIHNlcnZpY2UuIExldCdzIHNheSBmb3IgZXhhbXBsZSB0aGF0IGFuIGFuaW1hdGlvbiB3YXMgdHJpZ2dlcmVkIG9uIG91ciB2aWV3XG4gKiByb3V0aW5nIGNvbnRyb2xsZXIgdG8gaG9vayBpbnRvIHRoYXQ6XG4gKlxuICogYGBganNcbiAqIG5nTW9kdWxlLmNvbnRyb2xsZXIoJ0hvbWVQYWdlQ29udHJvbGxlcicsIFsnJGFuaW1hdGUnLCBmdW5jdGlvbigkYW5pbWF0ZSkge1xuICogICAkYW5pbWF0ZS5vbignZW50ZXInLCBuZ1ZpZXdFbGVtZW50LCBmdW5jdGlvbihlbGVtZW50KSB7XG4gKiAgICAgLy8gdGhlIGFuaW1hdGlvbiBmb3IgdGhpcyByb3V0ZSBoYXMgY29tcGxldGVkXG4gKiAgIH1dKTtcbiAqIH1dKVxuICogYGBgXG4gKlxuICogKE5vdGUgdGhhdCB5b3Ugd2lsbCBuZWVkIHRvIHRyaWdnZXIgYSBkaWdlc3Qgd2l0aGluIHRoZSBjYWxsYmFjayB0byBnZXQgYW5ndWxhciB0byBub3RpY2UgYW55IHNjb3BlLXJlbGF0ZWQgY2hhbmdlcy4pXG4gKi9cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGFuaW1hdGVcbiAqIEBraW5kIG9iamVjdFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIG5nQW5pbWF0ZSBgJGFuaW1hdGVgIHNlcnZpY2UgZG9jdW1lbnRhdGlvbiBpcyB0aGUgc2FtZSBmb3IgdGhlIGNvcmUgYCRhbmltYXRlYCBzZXJ2aWNlLlxuICpcbiAqIENsaWNrIGhlcmUge0BsaW5rIG5nLiRhbmltYXRlICRhbmltYXRlIHRvIGxlYXJuIG1vcmUgYWJvdXQgYW5pbWF0aW9ucyB3aXRoIGAkYW5pbWF0ZWB9LlxuICovXG5hbmd1bGFyLm1vZHVsZSgnbmdBbmltYXRlJywgW10pXG4gIC5kaXJlY3RpdmUoJ25nQW5pbWF0ZUNoaWxkcmVuJywgJCRBbmltYXRlQ2hpbGRyZW5EaXJlY3RpdmUpXG5cbiAgLmZhY3RvcnkoJyQkckFGTXV0ZXgnLCAkJHJBRk11dGV4RmFjdG9yeSlcbiAgLmZhY3RvcnkoJyQkckFGU2NoZWR1bGVyJywgJCRyQUZTY2hlZHVsZXJGYWN0b3J5KVxuXG4gIC5mYWN0b3J5KCckJEFuaW1hdGVSdW5uZXInLCAkJEFuaW1hdGVSdW5uZXJGYWN0b3J5KVxuXG4gIC5wcm92aWRlcignJCRhbmltYXRlUXVldWUnLCAkJEFuaW1hdGVRdWV1ZVByb3ZpZGVyKVxuICAucHJvdmlkZXIoJyQkYW5pbWF0aW9uJywgJCRBbmltYXRpb25Qcm92aWRlcilcblxuICAucHJvdmlkZXIoJyRhbmltYXRlQ3NzJywgJEFuaW1hdGVDc3NQcm92aWRlcilcbiAgLnByb3ZpZGVyKCckJGFuaW1hdGVDc3NEcml2ZXInLCAkJEFuaW1hdGVDc3NEcml2ZXJQcm92aWRlcilcblxuICAucHJvdmlkZXIoJyQkYW5pbWF0ZUpzJywgJCRBbmltYXRlSnNQcm92aWRlcilcbiAgLnByb3ZpZGVyKCckJGFuaW1hdGVKc0RyaXZlcicsICQkQW5pbWF0ZUpzRHJpdmVyUHJvdmlkZXIpO1xuXG5cbn0pKHdpbmRvdywgd2luZG93LmFuZ3VsYXIpO1xuIiwicmVxdWlyZSgnLi9hbmd1bGFyLWFuaW1hdGUnKTtcbm1vZHVsZS5leHBvcnRzID0gJ25nQW5pbWF0ZSc7XG4iLCIvKipcbiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS40LjNcbiAqIChjKSAyMDEwLTIwMTUgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuKGZ1bmN0aW9uKHdpbmRvdywgYW5ndWxhciwgdW5kZWZpbmVkKSB7J3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG5nQXJpYVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhlIGBuZ0FyaWFgIG1vZHVsZSBwcm92aWRlcyBzdXBwb3J0IGZvciBjb21tb25cbiAqIFs8YWJiciB0aXRsZT1cIkFjY2Vzc2libGUgUmljaCBJbnRlcm5ldCBBcHBsaWNhdGlvbnNcIj5BUklBPC9hYmJyPl0oaHR0cDovL3d3dy53My5vcmcvVFIvd2FpLWFyaWEvKVxuICogYXR0cmlidXRlcyB0aGF0IGNvbnZleSBzdGF0ZSBvciBzZW1hbnRpYyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgYXBwbGljYXRpb24gZm9yIHVzZXJzXG4gKiBvZiBhc3Npc3RpdmUgdGVjaG5vbG9naWVzLCBzdWNoIGFzIHNjcmVlbiByZWFkZXJzLlxuICpcbiAqIDxkaXYgZG9jLW1vZHVsZS1jb21wb25lbnRzPVwibmdBcmlhXCI+PC9kaXY+XG4gKlxuICogIyMgVXNhZ2VcbiAqXG4gKiBGb3IgbmdBcmlhIHRvIGRvIGl0cyBtYWdpYywgc2ltcGx5IGluY2x1ZGUgdGhlIG1vZHVsZSBgbmdBcmlhYCBhcyBhIGRlcGVuZGVuY3kuIFRoZSBmb2xsb3dpbmdcbiAqIGRpcmVjdGl2ZXMgYXJlIHN1cHBvcnRlZDpcbiAqIGBuZ01vZGVsYCwgYG5nRGlzYWJsZWRgLCBgbmdTaG93YCwgYG5nSGlkZWAsIGBuZ0NsaWNrYCwgYG5nRGJsQ2xpY2tgLCBhbmQgYG5nTWVzc2FnZXNgLlxuICpcbiAqIEJlbG93IGlzIGEgbW9yZSBkZXRhaWxlZCBicmVha2Rvd24gb2YgdGhlIGF0dHJpYnV0ZXMgaGFuZGxlZCBieSBuZ0FyaWE6XG4gKlxuICogfCBEaXJlY3RpdmUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgU3VwcG9ydGVkIEF0dHJpYnV0ZXMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICogfCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nRGlzYWJsZWQgbmdEaXNhYmxlZH0gIHwgYXJpYS1kaXNhYmxlZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nU2hvdyBuZ1Nob3d9ICAgICAgICAgIHwgYXJpYS1oaWRkZW4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nSGlkZSBuZ0hpZGV9ICAgICAgICAgIHwgYXJpYS1oaWRkZW4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nRGJsY2xpY2sgbmdEYmxjbGlja30gIHwgdGFiaW5kZXggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgbW9kdWxlOm5nTWVzc2FnZXMgbmdNZXNzYWdlc30gICAgICAgIHwgYXJpYS1saXZlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWwgbmdNb2RlbH0gICAgICAgIHwgYXJpYS1jaGVja2VkLCBhcmlhLXZhbHVlbWluLCBhcmlhLXZhbHVlbWF4LCBhcmlhLXZhbHVlbm93LCBhcmlhLWludmFsaWQsIGFyaWEtcmVxdWlyZWQsIGlucHV0IHJvbGVzIHxcbiAqIHwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9ICAgICAgICB8IHRhYmluZGV4LCBrZXlwcmVzcyBldmVudCwgYnV0dG9uIHJvbGUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKlxuICogRmluZCBvdXQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBlYWNoIGRpcmVjdGl2ZSBieSByZWFkaW5nIHRoZVxuICoge0BsaW5rIGd1aWRlL2FjY2Vzc2liaWxpdHkgbmdBcmlhIERldmVsb3BlciBHdWlkZX0uXG4gKlxuICogIyNFeGFtcGxlXG4gKiBVc2luZyBuZ0Rpc2FibGVkIHdpdGggbmdBcmlhOlxuICogYGBgaHRtbFxuICogPG1kLWNoZWNrYm94IG5nLWRpc2FibGVkPVwiZGlzYWJsZWRcIj5cbiAqIGBgYFxuICogQmVjb21lczpcbiAqIGBgYGh0bWxcbiAqIDxtZC1jaGVja2JveCBuZy1kaXNhYmxlZD1cImRpc2FibGVkXCIgYXJpYS1kaXNhYmxlZD1cInRydWVcIj5cbiAqIGBgYFxuICpcbiAqICMjRGlzYWJsaW5nIEF0dHJpYnV0ZXNcbiAqIEl0J3MgcG9zc2libGUgdG8gZGlzYWJsZSBpbmRpdmlkdWFsIGF0dHJpYnV0ZXMgYWRkZWQgYnkgbmdBcmlhIHdpdGggdGhlXG4gKiB7QGxpbmsgbmdBcmlhLiRhcmlhUHJvdmlkZXIjY29uZmlnIGNvbmZpZ30gbWV0aG9kLiBGb3IgbW9yZSBkZXRhaWxzLCBzZWUgdGhlXG4gKiB7QGxpbmsgZ3VpZGUvYWNjZXNzaWJpbGl0eSBEZXZlbG9wZXIgR3VpZGV9LlxuICovXG4gLyogZ2xvYmFsIC1uZ0FyaWFNb2R1bGUgKi9cbnZhciBuZ0FyaWFNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnbmdBcmlhJywgWyduZyddKS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyKCckYXJpYScsICRBcmlhUHJvdmlkZXIpO1xuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJGFyaWFQcm92aWRlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIFVzZWQgZm9yIGNvbmZpZ3VyaW5nIHRoZSBBUklBIGF0dHJpYnV0ZXMgaW5qZWN0ZWQgYW5kIG1hbmFnZWQgYnkgbmdBcmlhLlxuICpcbiAqIGBgYGpzXG4gKiBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLCBbJ25nQXJpYSddLCBmdW5jdGlvbiBjb25maWcoJGFyaWFQcm92aWRlcikge1xuICogICAkYXJpYVByb3ZpZGVyLmNvbmZpZyh7XG4gKiAgICAgYXJpYVZhbHVlOiB0cnVlLFxuICogICAgIHRhYmluZGV4OiBmYWxzZVxuICogICB9KTtcbiAqIH0pO1xuICpgYGBcbiAqXG4gKiAjIyBEZXBlbmRlbmNpZXNcbiAqIFJlcXVpcmVzIHRoZSB7QGxpbmsgbmdBcmlhfSBtb2R1bGUgdG8gYmUgaW5zdGFsbGVkLlxuICpcbiAqL1xuZnVuY3Rpb24gJEFyaWFQcm92aWRlcigpIHtcbiAgdmFyIGNvbmZpZyA9IHtcbiAgICBhcmlhSGlkZGVuOiB0cnVlLFxuICAgIGFyaWFDaGVja2VkOiB0cnVlLFxuICAgIGFyaWFEaXNhYmxlZDogdHJ1ZSxcbiAgICBhcmlhUmVxdWlyZWQ6IHRydWUsXG4gICAgYXJpYUludmFsaWQ6IHRydWUsXG4gICAgYXJpYU11bHRpbGluZTogdHJ1ZSxcbiAgICBhcmlhVmFsdWU6IHRydWUsXG4gICAgdGFiaW5kZXg6IHRydWUsXG4gICAgYmluZEtleXByZXNzOiB0cnVlLFxuICAgIGJpbmRSb2xlRm9yQ2xpY2s6IHRydWVcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkYXJpYVByb3ZpZGVyI2NvbmZpZ1xuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIG9iamVjdCB0byBlbmFibGUvZGlzYWJsZSBzcGVjaWZpYyBBUklBIGF0dHJpYnV0ZXNcbiAgICpcbiAgICogIC0gKiphcmlhSGlkZGVuKiog4oCTIGB7Ym9vbGVhbn1gIOKAkyBFbmFibGVzL2Rpc2FibGVzIGFyaWEtaGlkZGVuIHRhZ3NcbiAgICogIC0gKiphcmlhQ2hlY2tlZCoqIOKAkyBge2Jvb2xlYW59YCDigJMgRW5hYmxlcy9kaXNhYmxlcyBhcmlhLWNoZWNrZWQgdGFnc1xuICAgKiAgLSAqKmFyaWFEaXNhYmxlZCoqIOKAkyBge2Jvb2xlYW59YCDigJMgRW5hYmxlcy9kaXNhYmxlcyBhcmlhLWRpc2FibGVkIHRhZ3NcbiAgICogIC0gKiphcmlhUmVxdWlyZWQqKiDigJMgYHtib29sZWFufWAg4oCTIEVuYWJsZXMvZGlzYWJsZXMgYXJpYS1yZXF1aXJlZCB0YWdzXG4gICAqICAtICoqYXJpYUludmFsaWQqKiDigJMgYHtib29sZWFufWAg4oCTIEVuYWJsZXMvZGlzYWJsZXMgYXJpYS1pbnZhbGlkIHRhZ3NcbiAgICogIC0gKiphcmlhTXVsdGlsaW5lKiog4oCTIGB7Ym9vbGVhbn1gIOKAkyBFbmFibGVzL2Rpc2FibGVzIGFyaWEtbXVsdGlsaW5lIHRhZ3NcbiAgICogIC0gKiphcmlhVmFsdWUqKiDigJMgYHtib29sZWFufWAg4oCTIEVuYWJsZXMvZGlzYWJsZXMgYXJpYS12YWx1ZW1pbiwgYXJpYS12YWx1ZW1heCBhbmQgYXJpYS12YWx1ZW5vdyB0YWdzXG4gICAqICAtICoqdGFiaW5kZXgqKiDigJMgYHtib29sZWFufWAg4oCTIEVuYWJsZXMvZGlzYWJsZXMgdGFiaW5kZXggdGFnc1xuICAgKiAgLSAqKmJpbmRLZXlwcmVzcyoqIOKAkyBge2Jvb2xlYW59YCDigJMgRW5hYmxlcy9kaXNhYmxlcyBrZXlwcmVzcyBldmVudCBiaW5kaW5nIG9uIGAmbHQ7ZGl2Jmd0O2AgYW5kXG4gICAqICAgIGAmbHQ7bGkmZ3Q7YCBlbGVtZW50cyB3aXRoIG5nLWNsaWNrXG4gICAqICAtICoqYmluZFJvbGVGb3JDbGljayoqIOKAkyBge2Jvb2xlYW59YCDigJMgQWRkcyByb2xlPWJ1dHRvbiB0byBub24taW50ZXJhY3RpdmUgZWxlbWVudHMgbGlrZSBgZGl2YFxuICAgKiAgICB1c2luZyBuZy1jbGljaywgbWFraW5nIHRoZW0gbW9yZSBhY2Nlc3NpYmxlIHRvIHVzZXJzIG9mIGFzc2lzdGl2ZSB0ZWNobm9sb2dpZXNcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEVuYWJsZXMvZGlzYWJsZXMgdmFyaW91cyBBUklBIGF0dHJpYnV0ZXNcbiAgICovXG4gIHRoaXMuY29uZmlnID0gZnVuY3Rpb24obmV3Q29uZmlnKSB7XG4gICAgY29uZmlnID0gYW5ndWxhci5leHRlbmQoY29uZmlnLCBuZXdDb25maWcpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHdhdGNoRXhwcihhdHRyTmFtZSwgYXJpYUF0dHIsIG5lZ2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cikge1xuICAgICAgdmFyIGFyaWFDYW1lbE5hbWUgPSBhdHRyLiRub3JtYWxpemUoYXJpYUF0dHIpO1xuICAgICAgaWYgKGNvbmZpZ1thcmlhQ2FtZWxOYW1lXSAmJiAhYXR0clthcmlhQ2FtZWxOYW1lXSkge1xuICAgICAgICBzY29wZS4kd2F0Y2goYXR0clthdHRyTmFtZV0sIGZ1bmN0aW9uKGJvb2xWYWwpIHtcbiAgICAgICAgICAvLyBlbnN1cmUgYm9vbGVhbiB2YWx1ZVxuICAgICAgICAgIGJvb2xWYWwgPSBuZWdhdGUgPyAhYm9vbFZhbCA6ICEhYm9vbFZhbDtcbiAgICAgICAgICBlbGVtLmF0dHIoYXJpYUF0dHIsIGJvb2xWYWwpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAqIEBuYW1lICRhcmlhXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBAcHJpb3JpdHkgMjAwXG4gICAqXG4gICAqIFRoZSAkYXJpYSBzZXJ2aWNlIGNvbnRhaW5zIGhlbHBlciBtZXRob2RzIGZvciBhcHBseWluZyBjb21tb25cbiAgICogW0FSSUFdKGh0dHA6Ly93d3cudzMub3JnL1RSL3dhaS1hcmlhLykgYXR0cmlidXRlcyB0byBIVE1MIGRpcmVjdGl2ZXMuXG4gICAqXG4gICAqIG5nQXJpYSBpbmplY3RzIGNvbW1vbiBhY2Nlc3NpYmlsaXR5IGF0dHJpYnV0ZXMgdGhhdCB0ZWxsIGFzc2lzdGl2ZSB0ZWNobm9sb2dpZXMgd2hlbiBIVE1MXG4gICAqIGVsZW1lbnRzIGFyZSBlbmFibGVkLCBzZWxlY3RlZCwgaGlkZGVuLCBhbmQgbW9yZS4gVG8gc2VlIGhvdyB0aGlzIGlzIHBlcmZvcm1lZCB3aXRoIG5nQXJpYSxcbiAgICogbGV0J3MgcmV2aWV3IGEgY29kZSBzbmlwcGV0IGZyb20gbmdBcmlhIGl0c2VsZjpcbiAgICpcbiAgICpgYGBqc1xuICAgKiBuZ0FyaWFNb2R1bGUuZGlyZWN0aXZlKCduZ0Rpc2FibGVkJywgWyckYXJpYScsIGZ1bmN0aW9uKCRhcmlhKSB7XG4gICAqICAgcmV0dXJuICRhcmlhLiQkd2F0Y2hFeHByKCduZ0Rpc2FibGVkJywgJ2FyaWEtZGlzYWJsZWQnKTtcbiAgICogfV0pXG4gICAqYGBgXG4gICAqIFNob3duIGFib3ZlLCB0aGUgbmdBcmlhIG1vZHVsZSBjcmVhdGVzIGEgZGlyZWN0aXZlIHdpdGggdGhlIHNhbWUgc2lnbmF0dXJlIGFzIHRoZVxuICAgKiB0cmFkaXRpb25hbCBgbmctZGlzYWJsZWRgIGRpcmVjdGl2ZS4gQnV0IHRoaXMgbmdBcmlhIHZlcnNpb24gaXMgZGVkaWNhdGVkIHRvXG4gICAqIHNvbGVseSBtYW5hZ2luZyBhY2Nlc3NpYmlsaXR5IGF0dHJpYnV0ZXMuIFRoZSBpbnRlcm5hbCBgJGFyaWFgIHNlcnZpY2UgaXMgdXNlZCB0byB3YXRjaCB0aGVcbiAgICogYm9vbGVhbiBhdHRyaWJ1dGUgYG5nRGlzYWJsZWRgLiBJZiBpdCBoYXMgbm90IGJlZW4gZXhwbGljaXRseSBzZXQgYnkgdGhlIGRldmVsb3BlcixcbiAgICogYGFyaWEtZGlzYWJsZWRgIGlzIGluamVjdGVkIGFzIGFuIGF0dHJpYnV0ZSB3aXRoIGl0cyB2YWx1ZSBzeW5jaHJvbml6ZWQgdG8gdGhlIHZhbHVlIGluXG4gICAqIGBuZ0Rpc2FibGVkYC5cbiAgICpcbiAgICogQmVjYXVzZSBuZ0FyaWEgaG9va3MgaW50byB0aGUgYG5nLWRpc2FibGVkYCBkaXJlY3RpdmUsIGRldmVsb3BlcnMgZG8gbm90IGhhdmUgdG8gZG9cbiAgICogYW55dGhpbmcgdG8gZW5hYmxlIHRoaXMgZmVhdHVyZS4gVGhlIGBhcmlhLWRpc2FibGVkYCBhdHRyaWJ1dGUgaXMgYXV0b21hdGljYWxseSBtYW5hZ2VkXG4gICAqIHNpbXBseSBhcyBhIHNpbGVudCBzaWRlLWVmZmVjdCBvZiB1c2luZyBgbmctZGlzYWJsZWRgIHdpdGggdGhlIG5nQXJpYSBtb2R1bGUuXG4gICAqXG4gICAqIFRoZSBmdWxsIGxpc3Qgb2YgZGlyZWN0aXZlcyB0aGF0IGludGVyZmFjZSB3aXRoIG5nQXJpYTpcbiAgICogKiAqKm5nTW9kZWwqKlxuICAgKiAqICoqbmdTaG93KipcbiAgICogKiAqKm5nSGlkZSoqXG4gICAqICogKipuZ0NsaWNrKipcbiAgICogKiAqKm5nRGJsY2xpY2sqKlxuICAgKiAqICoqbmdNZXNzYWdlcyoqXG4gICAqICogKipuZ0Rpc2FibGVkKipcbiAgICpcbiAgICogUmVhZCB0aGUge0BsaW5rIGd1aWRlL2FjY2Vzc2liaWxpdHkgbmdBcmlhIERldmVsb3BlciBHdWlkZX0gZm9yIGEgdGhvcm91Z2ggZXhwbGFuYXRpb24gb2YgZWFjaFxuICAgKiBkaXJlY3RpdmUuXG4gICAqXG4gICAqXG4gICAqICMjIERlcGVuZGVuY2llc1xuICAgKiBSZXF1aXJlcyB0aGUge0BsaW5rIG5nQXJpYX0gbW9kdWxlIHRvIGJlIGluc3RhbGxlZC5cbiAgICovXG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjb25maWc6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICByZXR1cm4gY29uZmlnW2tleV07XG4gICAgICB9LFxuICAgICAgJCR3YXRjaEV4cHI6IHdhdGNoRXhwclxuICAgIH07XG4gIH07XG59XG5cblxubmdBcmlhTW9kdWxlLmRpcmVjdGl2ZSgnbmdTaG93JywgWyckYXJpYScsIGZ1bmN0aW9uKCRhcmlhKSB7XG4gIHJldHVybiAkYXJpYS4kJHdhdGNoRXhwcignbmdTaG93JywgJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XG59XSlcbi5kaXJlY3RpdmUoJ25nSGlkZScsIFsnJGFyaWEnLCBmdW5jdGlvbigkYXJpYSkge1xuICByZXR1cm4gJGFyaWEuJCR3YXRjaEV4cHIoJ25nSGlkZScsICdhcmlhLWhpZGRlbicsIGZhbHNlKTtcbn1dKVxuLmRpcmVjdGl2ZSgnbmdNb2RlbCcsIFsnJGFyaWEnLCBmdW5jdGlvbigkYXJpYSkge1xuXG4gIGZ1bmN0aW9uIHNob3VsZEF0dGFjaEF0dHIoYXR0ciwgbm9ybWFsaXplZEF0dHIsIGVsZW0pIHtcbiAgICByZXR1cm4gJGFyaWEuY29uZmlnKG5vcm1hbGl6ZWRBdHRyKSAmJiAhZWxlbS5hdHRyKGF0dHIpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvdWxkQXR0YWNoUm9sZShyb2xlLCBlbGVtKSB7XG4gICAgcmV0dXJuICFlbGVtLmF0dHIoJ3JvbGUnKSAmJiAoZWxlbS5hdHRyKCd0eXBlJykgPT09IHJvbGUpICYmIChlbGVtWzBdLm5vZGVOYW1lICE9PSAnSU5QVVQnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNoYXBlKGF0dHIsIGVsZW0pIHtcbiAgICB2YXIgdHlwZSA9IGF0dHIudHlwZSxcbiAgICAgICAgcm9sZSA9IGF0dHIucm9sZTtcblxuICAgIHJldHVybiAoKHR5cGUgfHwgcm9sZSkgPT09ICdjaGVja2JveCcgfHwgcm9sZSA9PT0gJ21lbnVpdGVtY2hlY2tib3gnKSA/ICdjaGVja2JveCcgOlxuICAgICAgICAgICAoKHR5cGUgfHwgcm9sZSkgPT09ICdyYWRpbycgICAgfHwgcm9sZSA9PT0gJ21lbnVpdGVtcmFkaW8nKSA/ICdyYWRpbycgOlxuICAgICAgICAgICAodHlwZSA9PT0gJ3JhbmdlJyAgICAgICAgICAgICAgfHwgcm9sZSA9PT0gJ3Byb2dyZXNzYmFyJyB8fCByb2xlID09PSAnc2xpZGVyJykgPyAncmFuZ2UnIDpcbiAgICAgICAgICAgKHR5cGUgfHwgcm9sZSkgPT09ICd0ZXh0Ym94JyAgIHx8IGVsZW1bMF0ubm9kZU5hbWUgPT09ICdURVhUQVJFQScgPyAnbXVsdGlsaW5lJyA6ICcnO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgcHJpb3JpdHk6IDIwMCwgLy9NYWtlIHN1cmUgd2F0Y2hlcyBhcmUgZmlyZWQgYWZ0ZXIgYW55IG90aGVyIGRpcmVjdGl2ZXMgdGhhdCBhZmZlY3QgdGhlIG5nTW9kZWwgdmFsdWVcbiAgICBjb21waWxlOiBmdW5jdGlvbihlbGVtLCBhdHRyKSB7XG4gICAgICB2YXIgc2hhcGUgPSBnZXRTaGFwZShhdHRyLCBlbGVtKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJlOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0ciwgbmdNb2RlbCkge1xuICAgICAgICAgIGlmIChzaGFwZSA9PT0gJ2NoZWNrYm94JyAmJiBhdHRyLnR5cGUgIT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICAgIC8vVXNlIHRoZSBpbnB1dFtjaGVja2JveF0gJGlzRW1wdHkgaW1wbGVtZW50YXRpb24gZm9yIGVsZW1lbnRzIHdpdGggY2hlY2tib3ggcm9sZXNcbiAgICAgICAgICAgIG5nTW9kZWwuJGlzRW1wdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHBvc3Q6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRyLCBuZ01vZGVsKSB7XG4gICAgICAgICAgdmFyIG5lZWRzVGFiSW5kZXggPSBzaG91bGRBdHRhY2hBdHRyKCd0YWJpbmRleCcsICd0YWJpbmRleCcsIGVsZW0pO1xuXG4gICAgICAgICAgZnVuY3Rpb24gbmdBcmlhV2F0Y2hNb2RlbFZhbHVlKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5nTW9kZWwuJG1vZGVsVmFsdWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0UmFkaW9SZWFjdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChuZWVkc1RhYkluZGV4KSB7XG4gICAgICAgICAgICAgIG5lZWRzVGFiSW5kZXggPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nQXJpYVJhZGlvUmVhY3Rpb24obmV3VmFsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJvb2xWYWwgPSAoYXR0ci52YWx1ZSA9PSBuZ01vZGVsLiR2aWV3VmFsdWUpO1xuICAgICAgICAgICAgICAgIGVsZW0uYXR0cignYXJpYS1jaGVja2VkJywgYm9vbFZhbCk7XG4gICAgICAgICAgICAgICAgZWxlbS5hdHRyKCd0YWJpbmRleCcsIDAgLSAhYm9vbFZhbCk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmdBcmlhUmFkaW9SZWFjdGlvbihuZXdWYWwpIHtcbiAgICAgICAgICAgICAgICBlbGVtLmF0dHIoJ2FyaWEtY2hlY2tlZCcsIChhdHRyLnZhbHVlID09IG5nTW9kZWwuJHZpZXdWYWx1ZSkpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIG5nQXJpYUNoZWNrYm94UmVhY3Rpb24oKSB7XG4gICAgICAgICAgICBlbGVtLmF0dHIoJ2FyaWEtY2hlY2tlZCcsICFuZ01vZGVsLiRpc0VtcHR5KG5nTW9kZWwuJHZpZXdWYWx1ZSkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHN3aXRjaCAoc2hhcGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JhZGlvJzpcbiAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgICAgaWYgKHNob3VsZEF0dGFjaFJvbGUoc2hhcGUsIGVsZW0pKSB7XG4gICAgICAgICAgICAgICAgZWxlbS5hdHRyKCdyb2xlJywgc2hhcGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChzaG91bGRBdHRhY2hBdHRyKCdhcmlhLWNoZWNrZWQnLCAnYXJpYUNoZWNrZWQnLCBlbGVtKSkge1xuICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChuZ0FyaWFXYXRjaE1vZGVsVmFsdWUsIHNoYXBlID09PSAncmFkaW8nID9cbiAgICAgICAgICAgICAgICAgICAgZ2V0UmFkaW9SZWFjdGlvbigpIDogbmdBcmlhQ2hlY2tib3hSZWFjdGlvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyYW5nZSc6XG4gICAgICAgICAgICAgIGlmIChzaG91bGRBdHRhY2hSb2xlKHNoYXBlLCBlbGVtKSkge1xuICAgICAgICAgICAgICAgIGVsZW0uYXR0cigncm9sZScsICdzbGlkZXInKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoJGFyaWEuY29uZmlnKCdhcmlhVmFsdWUnKSkge1xuICAgICAgICAgICAgICAgIHZhciBuZWVkc0FyaWFWYWx1ZW1pbiA9ICFlbGVtLmF0dHIoJ2FyaWEtdmFsdWVtaW4nKSAmJlxuICAgICAgICAgICAgICAgICAgICAoYXR0ci5oYXNPd25Qcm9wZXJ0eSgnbWluJykgfHwgYXR0ci5oYXNPd25Qcm9wZXJ0eSgnbmdNaW4nKSk7XG4gICAgICAgICAgICAgICAgdmFyIG5lZWRzQXJpYVZhbHVlbWF4ID0gIWVsZW0uYXR0cignYXJpYS12YWx1ZW1heCcpICYmXG4gICAgICAgICAgICAgICAgICAgIChhdHRyLmhhc093blByb3BlcnR5KCdtYXgnKSB8fCBhdHRyLmhhc093blByb3BlcnR5KCduZ01heCcpKTtcbiAgICAgICAgICAgICAgICB2YXIgbmVlZHNBcmlhVmFsdWVub3cgPSAhZWxlbS5hdHRyKCdhcmlhLXZhbHVlbm93Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAobmVlZHNBcmlhVmFsdWVtaW4pIHtcbiAgICAgICAgICAgICAgICAgIGF0dHIuJG9ic2VydmUoJ21pbicsIGZ1bmN0aW9uIG5nQXJpYVZhbHVlTWluUmVhY3Rpb24obmV3VmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW0uYXR0cignYXJpYS12YWx1ZW1pbicsIG5ld1ZhbCk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5lZWRzQXJpYVZhbHVlbWF4KSB7XG4gICAgICAgICAgICAgICAgICBhdHRyLiRvYnNlcnZlKCdtYXgnLCBmdW5jdGlvbiBuZ0FyaWFWYWx1ZU1pblJlYWN0aW9uKG5ld1ZhbCkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtLmF0dHIoJ2FyaWEtdmFsdWVtYXgnLCBuZXdWYWwpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuZWVkc0FyaWFWYWx1ZW5vdykge1xuICAgICAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKG5nQXJpYVdhdGNoTW9kZWxWYWx1ZSwgZnVuY3Rpb24gbmdBcmlhVmFsdWVOb3dSZWFjdGlvbihuZXdWYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5hdHRyKCdhcmlhLXZhbHVlbm93JywgbmV3VmFsKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ211bHRpbGluZSc6XG4gICAgICAgICAgICAgIGlmIChzaG91bGRBdHRhY2hBdHRyKCdhcmlhLW11bHRpbGluZScsICdhcmlhTXVsdGlsaW5lJywgZWxlbSkpIHtcbiAgICAgICAgICAgICAgICBlbGVtLmF0dHIoJ2FyaWEtbXVsdGlsaW5lJywgdHJ1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG5lZWRzVGFiSW5kZXgpIHtcbiAgICAgICAgICAgIGVsZW0uYXR0cigndGFiaW5kZXgnLCAwKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobmdNb2RlbC4kdmFsaWRhdG9ycy5yZXF1aXJlZCAmJiBzaG91bGRBdHRhY2hBdHRyKCdhcmlhLXJlcXVpcmVkJywgJ2FyaWFSZXF1aXJlZCcsIGVsZW0pKSB7XG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gbmdBcmlhUmVxdWlyZWRXYXRjaCgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG5nTW9kZWwuJGVycm9yLnJlcXVpcmVkO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gbmdBcmlhUmVxdWlyZWRSZWFjdGlvbihuZXdWYWwpIHtcbiAgICAgICAgICAgICAgZWxlbS5hdHRyKCdhcmlhLXJlcXVpcmVkJywgISFuZXdWYWwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNob3VsZEF0dGFjaEF0dHIoJ2FyaWEtaW52YWxpZCcsICdhcmlhSW52YWxpZCcsIGVsZW0pKSB7XG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gbmdBcmlhSW52YWxpZFdhdGNoKCkge1xuICAgICAgICAgICAgICByZXR1cm4gbmdNb2RlbC4kaW52YWxpZDtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIG5nQXJpYUludmFsaWRSZWFjdGlvbihuZXdWYWwpIHtcbiAgICAgICAgICAgICAgZWxlbS5hdHRyKCdhcmlhLWludmFsaWQnLCAhIW5ld1ZhbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufV0pXG4uZGlyZWN0aXZlKCduZ0Rpc2FibGVkJywgWyckYXJpYScsIGZ1bmN0aW9uKCRhcmlhKSB7XG4gIHJldHVybiAkYXJpYS4kJHdhdGNoRXhwcignbmdEaXNhYmxlZCcsICdhcmlhLWRpc2FibGVkJyk7XG59XSlcbi5kaXJlY3RpdmUoJ25nTWVzc2FnZXMnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/bmdNZXNzYWdlcycsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHIsIG5nTWVzc2FnZXMpIHtcbiAgICAgIGlmICghZWxlbS5hdHRyKCdhcmlhLWxpdmUnKSkge1xuICAgICAgICBlbGVtLmF0dHIoJ2FyaWEtbGl2ZScsICdhc3NlcnRpdmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59KVxuLmRpcmVjdGl2ZSgnbmdDbGljaycsWyckYXJpYScsICckcGFyc2UnLCBmdW5jdGlvbigkYXJpYSwgJHBhcnNlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb21waWxlOiBmdW5jdGlvbihlbGVtLCBhdHRyKSB7XG4gICAgICB2YXIgZm4gPSAkcGFyc2UoYXR0ci5uZ0NsaWNrLCAvKiBpbnRlcmNlcHRvckZuICovIG51bGwsIC8qIGV4cGVuc2l2ZUNoZWNrcyAqLyB0cnVlKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cikge1xuXG4gICAgICAgIHZhciBub2RlQmxhY2tMaXN0ID0gWydCVVRUT04nLCAnQScsICdJTlBVVCcsICdURVhUQVJFQSddO1xuXG4gICAgICAgIGZ1bmN0aW9uIGlzTm9kZU9uZU9mKGVsZW0sIG5vZGVUeXBlQXJyYXkpIHtcbiAgICAgICAgICBpZiAobm9kZVR5cGVBcnJheS5pbmRleE9mKGVsZW1bMF0ubm9kZU5hbWUpICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCRhcmlhLmNvbmZpZygnYmluZFJvbGVGb3JDbGljaycpXG4gICAgICAgICAgICAmJiAhZWxlbS5hdHRyKCdyb2xlJylcbiAgICAgICAgICAgICAgJiYgIWlzTm9kZU9uZU9mKGVsZW0sIG5vZGVCbGFja0xpc3QpKSB7XG4gICAgICAgICAgZWxlbS5hdHRyKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCRhcmlhLmNvbmZpZygndGFiaW5kZXgnKSAmJiAhZWxlbS5hdHRyKCd0YWJpbmRleCcpKSB7XG4gICAgICAgICAgZWxlbS5hdHRyKCd0YWJpbmRleCcsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCRhcmlhLmNvbmZpZygnYmluZEtleXByZXNzJykgJiYgIWF0dHIubmdLZXlwcmVzcyAmJiAhaXNOb2RlT25lT2YoZWxlbSwgbm9kZUJsYWNrTGlzdCkpIHtcbiAgICAgICAgICBlbGVtLm9uKCdrZXlwcmVzcycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIga2V5Q29kZSA9IGV2ZW50LndoaWNoIHx8IGV2ZW50LmtleUNvZGU7XG4gICAgICAgICAgICBpZiAoa2V5Q29kZSA9PT0gMzIgfHwga2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgIGZuKHNjb3BlLCB7ICRldmVudDogZXZlbnQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufV0pXG4uZGlyZWN0aXZlKCduZ0RibGNsaWNrJywgWyckYXJpYScsIGZ1bmN0aW9uKCRhcmlhKSB7XG4gIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cikge1xuICAgIGlmICgkYXJpYS5jb25maWcoJ3RhYmluZGV4JykgJiYgIWVsZW0uYXR0cigndGFiaW5kZXgnKSkge1xuICAgICAgZWxlbS5hdHRyKCd0YWJpbmRleCcsIDApO1xuICAgIH1cbiAgfTtcbn1dKTtcblxuXG59KSh3aW5kb3csIHdpbmRvdy5hbmd1bGFyKTtcbiIsInJlcXVpcmUoJy4vYW5ndWxhci1hcmlhJyk7XG5tb2R1bGUuZXhwb3J0cyA9ICduZ0FyaWEnO1xuIiwiLyohXG4gKiBBbmd1bGFyIE1hdGVyaWFsIERlc2lnblxuICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvbWF0ZXJpYWxcbiAqIEBsaWNlbnNlIE1JVFxuICogdjAuMTAuMFxuICovXG4oZnVuY3Rpb24oIHdpbmRvdywgYW5ndWxhciwgdW5kZWZpbmVkICl7XG5cInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuYW5ndWxhci5tb2R1bGUoJ25nTWF0ZXJpYWwnLCBbXCJuZ1wiLFwibmdBbmltYXRlXCIsXCJuZ0FyaWFcIixcIm1hdGVyaWFsLmNvcmVcIixcIm1hdGVyaWFsLmNvcmUuZ2VzdHVyZXNcIixcIm1hdGVyaWFsLmNvcmUudGhlbWluZy5wYWxldHRlXCIsXCJtYXRlcmlhbC5jb3JlLnRoZW1pbmdcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuYXV0b2NvbXBsZXRlXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmJhY2tkcm9wXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmJvdHRvbVNoZWV0XCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmJ1dHRvblwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5jYXJkXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmNoZWNrYm94XCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmNvbnRlbnRcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuY2hpcHNcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuZGlhbG9nXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmZhYkFjdGlvbnNcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuZGl2aWRlclwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5mYWJTcGVlZERpYWxcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuZmFiVG9vbGJhclwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5ncmlkTGlzdFwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5mYWJUcmlnZ2VyXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLmljb25cIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuaW5wdXRcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMubGlzdFwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5tZW51XCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLnByb2dyZXNzQ2lyY3VsYXJcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMucHJvZ3Jlc3NMaW5lYXJcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMucmFkaW9CdXR0b25cIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuc2VsZWN0XCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLnNpZGVuYXZcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuc2xpZGVyXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLnN1YmhlYWRlclwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy5zdGlja3lcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuc3dpcGVcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMuc3dpdGNoXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLnRhYnNcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMudG9hc3RcIixcIm1hdGVyaWFsLmNvbXBvbmVudHMudG9vbGJhclwiLFwibWF0ZXJpYWwuY29tcG9uZW50cy50b29sdGlwXCIsXCJtYXRlcmlhbC5jb21wb25lbnRzLndoaXRlZnJhbWVcIl0pO1xufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuLyoqXG4gKiBJbml0aWFsaXphdGlvbiBmdW5jdGlvbiB0aGF0IHZhbGlkYXRlcyBlbnZpcm9ubWVudFxuICogcmVxdWlyZW1lbnRzLlxuICovXG5hbmd1bGFyXG4gIC5tb2R1bGUoJ21hdGVyaWFsLmNvcmUnLCBbICdtYXRlcmlhbC5jb3JlLmdlc3R1cmVzJywgJ21hdGVyaWFsLmNvcmUudGhlbWluZycgXSlcbiAgLmNvbmZpZyggTWRDb3JlQ29uZmlndXJlICk7XG5cblxuZnVuY3Rpb24gTWRDb3JlQ29uZmlndXJlKCRwcm92aWRlLCAkbWRUaGVtaW5nUHJvdmlkZXIpIHtcblxuICAkcHJvdmlkZS5kZWNvcmF0b3IoJyQkckFGJywgW1wiJGRlbGVnYXRlXCIsIHJBRkRlY29yYXRvcl0pO1xuXG4gICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGVmYXVsdCcpXG4gICAgLnByaW1hcnlQYWxldHRlKCdpbmRpZ28nKVxuICAgIC5hY2NlbnRQYWxldHRlKCdwaW5rJylcbiAgICAud2FyblBhbGV0dGUoJ3JlZCcpXG4gICAgLmJhY2tncm91bmRQYWxldHRlKCdncmV5Jyk7XG59XG5NZENvcmVDb25maWd1cmUuJGluamVjdCA9IFtcIiRwcm92aWRlXCIsIFwiJG1kVGhlbWluZ1Byb3ZpZGVyXCJdO1xuXG5mdW5jdGlvbiByQUZEZWNvcmF0b3IoICRkZWxlZ2F0ZSApIHtcbiAgLyoqXG4gICAqIFVzZSB0aGlzIHRvIHRocm90dGxlIGV2ZW50cyB0aGF0IGNvbWUgaW4gb2Z0ZW4uXG4gICAqIFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gd2lsbCBhbHdheXMgdXNlIHRoZSAqbGFzdCogaW52b2NhdGlvbiBiZWZvcmUgdGhlXG4gICAqIGNvbWluZyBmcmFtZS5cbiAgICpcbiAgICogRm9yIGV4YW1wbGUsIHdpbmRvdyByZXNpemUgZXZlbnRzIHRoYXQgZmlyZSBtYW55IHRpbWVzIGEgc2Vjb25kOlxuICAgKiBJZiB3ZSBzZXQgdG8gdXNlIGFuIHJhZi10aHJvdHRsZWQgY2FsbGJhY2sgb24gd2luZG93IHJlc2l6ZSwgdGhlblxuICAgKiBvdXIgY2FsbGJhY2sgd2lsbCBvbmx5IGJlIGZpcmVkIG9uY2UgcGVyIGZyYW1lLCB3aXRoIHRoZSBsYXN0IHJlc2l6ZVxuICAgKiBldmVudCB0aGF0IGhhcHBlbmVkIGJlZm9yZSB0aGF0IGZyYW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBmdW5jdGlvbiB0byBkZWJvdW5jZVxuICAgKi9cbiAgJGRlbGVnYXRlLnRocm90dGxlID0gZnVuY3Rpb24oY2IpIHtcbiAgICB2YXIgcXVldWVBcmdzLCBhbHJlYWR5UXVldWVkLCBxdWV1ZUNiLCBjb250ZXh0O1xuICAgIHJldHVybiBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgICBxdWV1ZUFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICBjb250ZXh0ID0gdGhpcztcbiAgICAgIHF1ZXVlQ2IgPSBjYjtcbiAgICAgIGlmICghYWxyZWFkeVF1ZXVlZCkge1xuICAgICAgICBhbHJlYWR5UXVldWVkID0gdHJ1ZTtcbiAgICAgICAgJGRlbGVnYXRlKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHF1ZXVlQ2IuYXBwbHkoY29udGV4dCwgcXVldWVBcmdzKTtcbiAgICAgICAgICBhbHJlYWR5UXVldWVkID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH07XG4gIHJldHVybiAkZGVsZWdhdGU7XG59XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29yZScpXG4uZmFjdG9yeSgnJG1kQ29uc3RhbnQnLCBNZENvbnN0YW50RmFjdG9yeSk7XG5cbmZ1bmN0aW9uIE1kQ29uc3RhbnRGYWN0b3J5KCQkckFGLCAkc25pZmZlcikge1xuXG4gIHZhciB3ZWJraXQgPSAvd2Via2l0L2kudGVzdCgkc25pZmZlci52ZW5kb3JQcmVmaXgpO1xuICBmdW5jdGlvbiB2ZW5kb3JQcm9wZXJ0eShuYW1lKSB7XG4gICAgcmV0dXJuIHdlYmtpdCA/ICAoJ3dlYmtpdCcgKyBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zdWJzdHJpbmcoMSkpIDogbmFtZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgS0VZX0NPREU6IHtcbiAgICAgIEVOVEVSOiAxMyxcbiAgICAgIEVTQ0FQRTogMjcsXG4gICAgICBTUEFDRTogMzIsXG4gICAgICBMRUZUX0FSUk9XIDogMzcsXG4gICAgICBVUF9BUlJPVyA6IDM4LFxuICAgICAgUklHSFRfQVJST1cgOiAzOSxcbiAgICAgIERPV05fQVJST1cgOiA0MCxcbiAgICAgIFRBQiA6IDksXG4gICAgICBCQUNLU1BBQ0U6IDgsXG4gICAgICBERUxFVEU6IDQ2XG4gICAgfSxcbiAgICBDU1M6IHtcbiAgICAgIC8qIENvbnN0YW50cyAqL1xuICAgICAgVFJBTlNJVElPTkVORDogJ3RyYW5zaXRpb25lbmQnICsgKHdlYmtpdCA/ICcgd2Via2l0VHJhbnNpdGlvbkVuZCcgOiAnJyksXG4gICAgICBBTklNQVRJT05FTkQ6ICdhbmltYXRpb25lbmQnICsgKHdlYmtpdCA/ICcgd2Via2l0QW5pbWF0aW9uRW5kJyA6ICcnKSxcblxuICAgICAgVFJBTlNGT1JNOiB2ZW5kb3JQcm9wZXJ0eSgndHJhbnNmb3JtJyksXG4gICAgICBUUkFOU0ZPUk1fT1JJR0lOOiB2ZW5kb3JQcm9wZXJ0eSgndHJhbnNmb3JtT3JpZ2luJyksXG4gICAgICBUUkFOU0lUSU9OOiB2ZW5kb3JQcm9wZXJ0eSgndHJhbnNpdGlvbicpLFxuICAgICAgVFJBTlNJVElPTl9EVVJBVElPTjogdmVuZG9yUHJvcGVydHkoJ3RyYW5zaXRpb25EdXJhdGlvbicpLFxuICAgICAgQU5JTUFUSU9OX1BMQVlfU1RBVEU6IHZlbmRvclByb3BlcnR5KCdhbmltYXRpb25QbGF5U3RhdGUnKSxcbiAgICAgIEFOSU1BVElPTl9EVVJBVElPTjogdmVuZG9yUHJvcGVydHkoJ2FuaW1hdGlvbkR1cmF0aW9uJyksXG4gICAgICBBTklNQVRJT05fTkFNRTogdmVuZG9yUHJvcGVydHkoJ2FuaW1hdGlvbk5hbWUnKSxcbiAgICAgIEFOSU1BVElPTl9USU1JTkc6IHZlbmRvclByb3BlcnR5KCdhbmltYXRpb25UaW1pbmdGdW5jdGlvbicpLFxuICAgICAgQU5JTUFUSU9OX0RJUkVDVElPTjogdmVuZG9yUHJvcGVydHkoJ2FuaW1hdGlvbkRpcmVjdGlvbicpXG4gICAgfSxcbiAgICBNRURJQToge1xuICAgICAgJ3NtJzogJyhtYXgtd2lkdGg6IDYwMHB4KScsXG4gICAgICAnZ3Qtc20nOiAnKG1pbi13aWR0aDogNjAwcHgpJyxcbiAgICAgICdtZCc6ICcobWluLXdpZHRoOiA2MDBweCkgYW5kIChtYXgtd2lkdGg6IDk2MHB4KScsXG4gICAgICAnZ3QtbWQnOiAnKG1pbi13aWR0aDogOTYwcHgpJyxcbiAgICAgICdsZyc6ICcobWluLXdpZHRoOiA5NjBweCkgYW5kIChtYXgtd2lkdGg6IDEyMDBweCknLFxuICAgICAgJ2d0LWxnJzogJyhtaW4td2lkdGg6IDEyMDBweCknXG4gICAgfSxcbiAgICBNRURJQV9QUklPUklUWTogW1xuICAgICAgJ2d0LWxnJyxcbiAgICAgICdsZycsXG4gICAgICAnZ3QtbWQnLFxuICAgICAgJ21kJyxcbiAgICAgICdndC1zbScsXG4gICAgICAnc20nXG4gICAgXVxuICB9O1xufVxuTWRDb25zdGFudEZhY3RvcnkuJGluamVjdCA9IFtcIiQkckFGXCIsIFwiJHNuaWZmZXJcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXRlcmlhbC5jb3JlJylcbiAgICAuY29uZmlnKCBbXCIkcHJvdmlkZVwiLCBmdW5jdGlvbigkcHJvdmlkZSl7XG4gICAgICAgJHByb3ZpZGUuZGVjb3JhdG9yKCckbWRVdGlsJywgWyckZGVsZWdhdGUnLCBmdW5jdGlvbiAoJGRlbGVnYXRlKXtcbiAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAqIEluamVjdCB0aGUgaXRlcmF0b3IgZmFjYWRlIHRvIGVhc2lseSBzdXBwb3J0IGl0ZXJhdGlvbiBhbmQgYWNjZXNzb3JzXG4gICAgICAgICAgICAqIEBzZWUgaXRlcmF0b3IgYmVsb3dcbiAgICAgICAgICAgICovXG4gICAgICAgICAgICRkZWxlZ2F0ZS5pdGVyYXRvciA9IE1kSXRlcmF0b3I7XG5cbiAgICAgICAgICAgcmV0dXJuICRkZWxlZ2F0ZTtcbiAgICAgICAgIH1cbiAgICAgICBdKTtcbiAgICAgfV0pO1xuXG4gIC8qKlxuICAgKiBpdGVyYXRvciBpcyBhIGxpc3QgZmFjYWRlIHRvIGVhc2lseSBzdXBwb3J0IGl0ZXJhdGlvbiBhbmQgYWNjZXNzb3JzXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtcyBBcnJheSBsaXN0IHdoaWNoIHRoaXMgaXRlcmF0b3Igd2lsbCBlbnVtZXJhdGVcbiAgICogQHBhcmFtIHJlbG9vcCBCb29sZWFuIGVuYWJsZXMgaXRlcmF0b3IgdG8gY29uc2lkZXIgdGhlIGxpc3QgYXMgYW4gZW5kbGVzcyByZWxvb3BcbiAgICovXG4gIGZ1bmN0aW9uIE1kSXRlcmF0b3IoaXRlbXMsIHJlbG9vcCkge1xuICAgIHZhciB0cnVlRm4gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRydWU7IH07XG5cbiAgICBpZiAoaXRlbXMgJiYgIWFuZ3VsYXIuaXNBcnJheShpdGVtcykpIHtcbiAgICAgIGl0ZW1zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaXRlbXMpO1xuICAgIH1cblxuICAgIHJlbG9vcCA9ICEhcmVsb29wO1xuICAgIHZhciBfaXRlbXMgPSBpdGVtcyB8fCBbIF07XG5cbiAgICAvLyBQdWJsaXNoZWQgQVBJXG4gICAgcmV0dXJuIHtcbiAgICAgIGl0ZW1zOiBnZXRJdGVtcyxcbiAgICAgIGNvdW50OiBjb3VudCxcblxuICAgICAgaW5SYW5nZTogaW5SYW5nZSxcbiAgICAgIGNvbnRhaW5zOiBjb250YWlucyxcbiAgICAgIGluZGV4T2Y6IGluZGV4T2YsXG4gICAgICBpdGVtQXQ6IGl0ZW1BdCxcblxuICAgICAgZmluZEJ5OiBmaW5kQnksXG5cbiAgICAgIGFkZDogYWRkLFxuICAgICAgcmVtb3ZlOiByZW1vdmUsXG5cbiAgICAgIGZpcnN0OiBmaXJzdCxcbiAgICAgIGxhc3Q6IGxhc3QsXG4gICAgICBuZXh0OiBhbmd1bGFyLmJpbmQobnVsbCwgZmluZFN1YnNlcXVlbnRJdGVtLCBmYWxzZSksXG4gICAgICBwcmV2aW91czogYW5ndWxhci5iaW5kKG51bGwsIGZpbmRTdWJzZXF1ZW50SXRlbSwgdHJ1ZSksXG5cbiAgICAgIGhhc1ByZXZpb3VzOiBoYXNQcmV2aW91cyxcbiAgICAgIGhhc05leHQ6IGhhc05leHRcblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQdWJsaXNoIGNvcHkgb2YgdGhlIGVudW1lcmFibGUgc2V0XG4gICAgICogQHJldHVybnMge0FycmF5fCp9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SXRlbXMoKSB7XG4gICAgICByZXR1cm4gW10uY29uY2F0KF9pdGVtcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIGxlbmd0aCBvZiB0aGUgbGlzdFxuICAgICAqIEByZXR1cm5zIHtBcnJheS5sZW5ndGh8KnxudW1iZXJ9XG4gICAgICovXG4gICAgZnVuY3Rpb24gY291bnQoKSB7XG4gICAgICByZXR1cm4gX2l0ZW1zLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJcyB0aGUgaW5kZXggc3BlY2lmaWVkIHZhbGlkXG4gICAgICogQHBhcmFtIGluZGV4XG4gICAgICogQHJldHVybnMge0FycmF5Lmxlbmd0aHwqfG51bWJlcnxib29sZWFufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluUmFuZ2UoaW5kZXgpIHtcbiAgICAgIHJldHVybiBfaXRlbXMubGVuZ3RoICYmICggaW5kZXggPiAtMSApICYmIChpbmRleCA8IF9pdGVtcy5sZW5ndGggKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYW4gdGhlIGl0ZXJhdG9yIHByb2NlZWQgdG8gdGhlIG5leHQgaXRlbSBpbiB0aGUgbGlzdDsgcmVsYXRpdmUgdG9cbiAgICAgKiB0aGUgc3BlY2lmaWVkIGl0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaXRlbVxuICAgICAqIEByZXR1cm5zIHtBcnJheS5sZW5ndGh8KnxudW1iZXJ8Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNOZXh0KGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtID8gaW5SYW5nZShpbmRleE9mKGl0ZW0pICsgMSkgOiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYW4gdGhlIGl0ZXJhdG9yIHByb2NlZWQgdG8gdGhlIHByZXZpb3VzIGl0ZW0gaW4gdGhlIGxpc3Q7IHJlbGF0aXZlIHRvXG4gICAgICogdGhlIHNwZWNpZmllZCBpdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIGl0ZW1cbiAgICAgKiBAcmV0dXJucyB7QXJyYXkubGVuZ3RofCp8bnVtYmVyfGJvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzUHJldmlvdXMoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0gPyBpblJhbmdlKGluZGV4T2YoaXRlbSkgLSAxKSA6IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBpdGVtIGF0IHNwZWNpZmllZCBpbmRleC9wb3NpdGlvblxuICAgICAqIEBwYXJhbSBpbmRleFxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGl0ZW1BdChpbmRleCkge1xuICAgICAgcmV0dXJuIGluUmFuZ2UoaW5kZXgpID8gX2l0ZW1zW2luZGV4XSA6IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZCBhbGwgZWxlbWVudHMgbWF0Y2hpbmcgdGhlIGtleS92YWx1ZSBwYWlyXG4gICAgICogb3RoZXJ3aXNlIHJldHVybiBudWxsXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsXG4gICAgICogQHBhcmFtIGtleVxuICAgICAqXG4gICAgICogQHJldHVybiBhcnJheVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRCeShrZXksIHZhbCkge1xuICAgICAgcmV0dXJuIF9pdGVtcy5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbVtrZXldID09PSB2YWw7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgaXRlbSB0byBsaXN0XG4gICAgICogQHBhcmFtIGl0ZW1cbiAgICAgKiBAcGFyYW0gaW5kZXhcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGQoaXRlbSwgaW5kZXgpIHtcbiAgICAgIGlmICggIWl0ZW0gKSByZXR1cm4gLTE7XG5cbiAgICAgIGlmICghYW5ndWxhci5pc051bWJlcihpbmRleCkpIHtcbiAgICAgICAgaW5kZXggPSBfaXRlbXMubGVuZ3RoO1xuICAgICAgfVxuXG4gICAgICBfaXRlbXMuc3BsaWNlKGluZGV4LCAwLCBpdGVtKTtcblxuICAgICAgcmV0dXJuIGluZGV4T2YoaXRlbSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGl0ZW0gZnJvbSBsaXN0Li4uXG4gICAgICogQHBhcmFtIGl0ZW1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmUoaXRlbSkge1xuICAgICAgaWYgKCBjb250YWlucyhpdGVtKSApe1xuICAgICAgICBfaXRlbXMuc3BsaWNlKGluZGV4T2YoaXRlbSksIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgemVyby1iYXNlZCBpbmRleCBvZiB0aGUgdGFyZ2V0IGl0ZW1cbiAgICAgKiBAcGFyYW0gaXRlbVxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluZGV4T2YoaXRlbSkge1xuICAgICAgcmV0dXJuIF9pdGVtcy5pbmRleE9mKGl0ZW0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJvb2xlYW4gZXhpc3RlbmNlIGNoZWNrXG4gICAgICogQHBhcmFtIGl0ZW1cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb250YWlucyhpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbSAmJiAoaW5kZXhPZihpdGVtKSA+IC0xKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gZmlyc3QgaXRlbSBpbiB0aGUgbGlzdFxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpcnN0KCkge1xuICAgICAgcmV0dXJuIF9pdGVtcy5sZW5ndGggPyBfaXRlbXNbMF0gOiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBsYXN0IGl0ZW0gaW4gdGhlIGxpc3QuLi5cbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0KCkge1xuICAgICAgcmV0dXJuIF9pdGVtcy5sZW5ndGggPyBfaXRlbXNbX2l0ZW1zLmxlbmd0aCAtIDFdIDogbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBuZXh0IGl0ZW0uIElmIHJlbG9vcCBpcyB0cnVlIGFuZCBhdCB0aGUgZW5kIG9mIHRoZSBsaXN0LCBpdCB3aWxsIGdvIGJhY2sgdG8gdGhlXG4gICAgICogZmlyc3QgaXRlbS4gSWYgZ2l2ZW4sIHRoZSBgdmFsaWRhdGVgIGNhbGxiYWNrIHdpbGwgYmUgdXNlZCB0byBkZXRlcm1pbmUgd2hldGhlciB0aGUgbmV4dCBpdGVtXG4gICAgICogaXMgdmFsaWQuIElmIG5vdCB2YWxpZCwgaXQgd2lsbCB0cnkgdG8gZmluZCB0aGUgbmV4dCBpdGVtIGFnYWluLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiYWNrd2FyZHMgU3BlY2lmaWVzIHRoZSBkaXJlY3Rpb24gb2Ygc2VhcmNoaW5nIChmb3J3YXJkcy9iYWNrd2FyZHMpXG4gICAgICogQHBhcmFtIHsqfSBpdGVtIFRoZSBpdGVtIHdob3NlIHN1YnNlcXVlbnQgaXRlbSB3ZSBhcmUgbG9va2luZyBmb3JcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gdmFsaWRhdGUgVGhlIGB2YWxpZGF0ZWAgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge2ludGVnZXI9fSBsaW1pdCBUaGUgcmVjdXJzaW9uIGxpbWl0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHN1YnNlcXVlbnQgaXRlbSBvciBudWxsXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZFN1YnNlcXVlbnRJdGVtKGJhY2t3YXJkcywgaXRlbSwgdmFsaWRhdGUsIGxpbWl0KSB7XG4gICAgICB2YWxpZGF0ZSA9IHZhbGlkYXRlIHx8IHRydWVGbjtcblxuICAgICAgdmFyIGN1ckluZGV4ID0gaW5kZXhPZihpdGVtKTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmICghaW5SYW5nZShjdXJJbmRleCkpIHJldHVybiBudWxsO1xuXG4gICAgICAgIHZhciBuZXh0SW5kZXggPSBjdXJJbmRleCArIChiYWNrd2FyZHMgPyAtMSA6IDEpO1xuICAgICAgICB2YXIgZm91bmRJdGVtID0gbnVsbDtcbiAgICAgICAgaWYgKGluUmFuZ2UobmV4dEluZGV4KSkge1xuICAgICAgICAgIGZvdW5kSXRlbSA9IF9pdGVtc1tuZXh0SW5kZXhdO1xuICAgICAgICB9IGVsc2UgaWYgKHJlbG9vcCkge1xuICAgICAgICAgIGZvdW5kSXRlbSA9IGJhY2t3YXJkcyA/IGxhc3QoKSA6IGZpcnN0KCk7XG4gICAgICAgICAgbmV4dEluZGV4ID0gaW5kZXhPZihmb3VuZEl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKChmb3VuZEl0ZW0gPT09IG51bGwpIHx8IChuZXh0SW5kZXggPT09IGxpbWl0KSkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICh2YWxpZGF0ZShmb3VuZEl0ZW0pKSByZXR1cm4gZm91bmRJdGVtO1xuXG4gICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGxpbWl0KSkgbGltaXQgPSBuZXh0SW5kZXg7XG5cbiAgICAgICAgY3VySW5kZXggPSBuZXh0SW5kZXg7XG4gICAgICB9XG4gICAgfVxuICB9XG5cblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb3JlJylcbi5mYWN0b3J5KCckbWRNZWRpYScsIG1kTWVkaWFGYWN0b3J5KTtcblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJG1kTWVkaWFcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29yZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYCRtZE1lZGlhYCBpcyB1c2VkIHRvIGV2YWx1YXRlIHdoZXRoZXIgYSBnaXZlbiBtZWRpYSBxdWVyeSBpcyB0cnVlIG9yIGZhbHNlIGdpdmVuIHRoZVxuICogY3VycmVudCBkZXZpY2UncyBzY3JlZW4gLyB3aW5kb3cgc2l6ZS4gVGhlIG1lZGlhIHF1ZXJ5IHdpbGwgYmUgcmUtZXZhbHVhdGVkIG9uIHJlc2l6ZSwgYWxsb3dpbmdcbiAqIHlvdSB0byByZWdpc3RlciBhIHdhdGNoLlxuICpcbiAqIGAkbWRNZWRpYWAgYWxzbyBoYXMgcHJlLXByb2dyYW1tZWQgc3VwcG9ydCBmb3IgbWVkaWEgcXVlcmllcyB0aGF0IG1hdGNoIHRoZSBsYXlvdXQgYnJlYWtwb2ludHMuXG4gKiAgKGBzbWAsIGBndC1zbWAsIGBtZGAsIGBndC1tZGAsIGBsZ2AsIGBndC1sZ2ApLlxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBhIGJvb2xlYW4gcmVwcmVzZW50aW5nIHdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiBtZWRpYSBxdWVyeSBpcyB0cnVlIG9yIGZhbHNlLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImpzXCI+XG4gKiBhcHAuY29udHJvbGxlcignTXlDb250cm9sbGVyJywgZnVuY3Rpb24oJG1kTWVkaWEsICRzY29wZSkge1xuICogICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkgeyByZXR1cm4gJG1kTWVkaWEoJ2xnJyk7IH0sIGZ1bmN0aW9uKGJpZykge1xuICogICAgICRzY29wZS5iaWdTY3JlZW4gPSBiaWc7XG4gKiAgIH0pO1xuICpcbiAqICAgJHNjb3BlLnNjcmVlbklzU21hbGwgPSAkbWRNZWRpYSgnc20nKTtcbiAqICAgJHNjb3BlLmN1c3RvbVF1ZXJ5ID0gJG1kTWVkaWEoJyhtaW4td2lkdGg6IDEyMzRweCknKTtcbiAqICAgJHNjb3BlLmFub3RoZXJDdXN0b20gPSAkbWRNZWRpYSgnbWF4LXdpZHRoOiAzMDBweCcpO1xuICogfSk7XG4gKiA8L2hsanM+XG4gKi9cblxuZnVuY3Rpb24gbWRNZWRpYUZhY3RvcnkoJG1kQ29uc3RhbnQsICRyb290U2NvcGUsICR3aW5kb3cpIHtcbiAgdmFyIHF1ZXJpZXMgPSB7fTtcbiAgdmFyIG1xbHMgPSB7fTtcbiAgdmFyIHJlc3VsdHMgPSB7fTtcbiAgdmFyIG5vcm1hbGl6ZUNhY2hlID0ge307XG5cbiAgJG1kTWVkaWEuZ2V0UmVzcG9uc2l2ZUF0dHJpYnV0ZSA9IGdldFJlc3BvbnNpdmVBdHRyaWJ1dGU7XG4gICRtZE1lZGlhLmdldFF1ZXJ5ID0gZ2V0UXVlcnk7XG4gICRtZE1lZGlhLndhdGNoUmVzcG9uc2l2ZUF0dHJpYnV0ZXMgPSB3YXRjaFJlc3BvbnNpdmVBdHRyaWJ1dGVzO1xuXG4gIHJldHVybiAkbWRNZWRpYTtcblxuICBmdW5jdGlvbiAkbWRNZWRpYShxdWVyeSkge1xuICAgIHZhciB2YWxpZGF0ZWQgPSBxdWVyaWVzW3F1ZXJ5XTtcbiAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZCh2YWxpZGF0ZWQpKSB7XG4gICAgICB2YWxpZGF0ZWQgPSBxdWVyaWVzW3F1ZXJ5XSA9IHZhbGlkYXRlKHF1ZXJ5KTtcbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0ID0gcmVzdWx0c1t2YWxpZGF0ZWRdO1xuICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKHJlc3VsdCkpIHtcbiAgICAgIHJlc3VsdCA9IGFkZCh2YWxpZGF0ZWQpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiB2YWxpZGF0ZShxdWVyeSkge1xuICAgIHJldHVybiAkbWRDb25zdGFudC5NRURJQVtxdWVyeV0gfHxcbiAgICAgICAgICAgKChxdWVyeS5jaGFyQXQoMCkgIT09ICcoJykgPyAoJygnICsgcXVlcnkgKyAnKScpIDogcXVlcnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkKHF1ZXJ5KSB7XG4gICAgdmFyIHJlc3VsdCA9IG1xbHNbcXVlcnldID0gJHdpbmRvdy5tYXRjaE1lZGlhKHF1ZXJ5KTtcbiAgICByZXN1bHQuYWRkTGlzdGVuZXIob25RdWVyeUNoYW5nZSk7XG4gICAgcmV0dXJuIChyZXN1bHRzW3Jlc3VsdC5tZWRpYV0gPSAhIXJlc3VsdC5tYXRjaGVzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUXVlcnlDaGFuZ2UocXVlcnkpIHtcbiAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XG4gICAgICByZXN1bHRzW3F1ZXJ5Lm1lZGlhXSA9ICEhcXVlcnkubWF0Y2hlcztcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFF1ZXJ5KG5hbWUpIHtcbiAgICByZXR1cm4gbXFsc1tuYW1lXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJlc3BvbnNpdmVBdHRyaWJ1dGUoYXR0cnMsIGF0dHJOYW1lKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkbWRDb25zdGFudC5NRURJQV9QUklPUklUWS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG1lZGlhTmFtZSA9ICRtZENvbnN0YW50Lk1FRElBX1BSSU9SSVRZW2ldO1xuICAgICAgaWYgKCFtcWxzW3F1ZXJpZXNbbWVkaWFOYW1lXV0ubWF0Y2hlcykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG5vcm1hbGl6ZWROYW1lID0gZ2V0Tm9ybWFsaXplZE5hbWUoYXR0cnMsIGF0dHJOYW1lICsgJy0nICsgbWVkaWFOYW1lKTtcbiAgICAgIGlmIChhdHRyc1tub3JtYWxpemVkTmFtZV0pIHtcbiAgICAgICAgcmV0dXJuIGF0dHJzW25vcm1hbGl6ZWROYW1lXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBmYWxsYmFjayBvbiB1bnByZWZpeGVkXG4gICAgcmV0dXJuIGF0dHJzW2dldE5vcm1hbGl6ZWROYW1lKGF0dHJzLCBhdHRyTmFtZSldO1xuICB9XG5cbiAgZnVuY3Rpb24gd2F0Y2hSZXNwb25zaXZlQXR0cmlidXRlcyhhdHRyTmFtZXMsIGF0dHJzLCB3YXRjaEZuKSB7XG4gICAgdmFyIHVud2F0Y2hGbnMgPSBbXTtcbiAgICBhdHRyTmFtZXMuZm9yRWFjaChmdW5jdGlvbihhdHRyTmFtZSkge1xuICAgICAgdmFyIG5vcm1hbGl6ZWROYW1lID0gZ2V0Tm9ybWFsaXplZE5hbWUoYXR0cnMsIGF0dHJOYW1lKTtcbiAgICAgIGlmIChhdHRyc1tub3JtYWxpemVkTmFtZV0pIHtcbiAgICAgICAgdW53YXRjaEZucy5wdXNoKFxuICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUobm9ybWFsaXplZE5hbWUsIGFuZ3VsYXIuYmluZCh2b2lkIDAsIHdhdGNoRm4sIG51bGwpKSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIG1lZGlhTmFtZSBpbiAkbWRDb25zdGFudC5NRURJQSkge1xuICAgICAgICBub3JtYWxpemVkTmFtZSA9IGdldE5vcm1hbGl6ZWROYW1lKGF0dHJzLCBhdHRyTmFtZSArICctJyArIG1lZGlhTmFtZSk7XG4gICAgICAgIGlmICghYXR0cnNbbm9ybWFsaXplZE5hbWVdKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdW53YXRjaEZucy5wdXNoKGF0dHJzLiRvYnNlcnZlKG5vcm1hbGl6ZWROYW1lLCBhbmd1bGFyLmJpbmQodm9pZCAwLCB3YXRjaEZuLCBtZWRpYU5hbWUpKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gdW53YXRjaCgpIHtcbiAgICAgIHVud2F0Y2hGbnMuZm9yRWFjaChmdW5jdGlvbihmbikgeyBmbigpOyB9KVxuICAgIH07XG4gIH1cblxuICAvLyBJbXByb3ZlcyBwZXJmb3JtYW5jZSBkcmFtYXRpY2FsbHlcbiAgZnVuY3Rpb24gZ2V0Tm9ybWFsaXplZE5hbWUoYXR0cnMsIGF0dHJOYW1lKSB7XG4gICAgcmV0dXJuIG5vcm1hbGl6ZUNhY2hlW2F0dHJOYW1lXSB8fFxuICAgICAgICAobm9ybWFsaXplQ2FjaGVbYXR0ck5hbWVdID0gYXR0cnMuJG5vcm1hbGl6ZShhdHRyTmFtZSkpO1xuICB9XG59XG5tZE1lZGlhRmFjdG9yeS4kaW5qZWN0ID0gW1wiJG1kQ29uc3RhbnRcIiwgXCIkcm9vdFNjb3BlXCIsIFwiJHdpbmRvd1wiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gKiBUaGlzIHZhciBoYXMgdG8gYmUgb3V0c2lkZSB0aGUgYW5ndWxhciBmYWN0b3J5LCBvdGhlcndpc2Ugd2hlblxuICogdGhlcmUgYXJlIG11bHRpcGxlIG1hdGVyaWFsIGFwcHMgb24gdGhlIHNhbWUgcGFnZSwgZWFjaCBhcHBcbiAqIHdpbGwgY3JlYXRlIGl0cyBvd24gaW5zdGFuY2Ugb2YgdGhpcyBhcnJheSBhbmQgdGhlIGFwcCdzIElEc1xuICogd2lsbCBub3QgYmUgdW5pcXVlLlxuICovXG52YXIgbmV4dFVuaXF1ZUlkID0gMDtcblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvcmUnKVxuLmZhY3RvcnkoJyRtZFV0aWwnLCBbXCIkY2FjaGVGYWN0b3J5XCIsIFwiJGRvY3VtZW50XCIsIFwiJHRpbWVvdXRcIiwgXCIkcVwiLCBcIiR3aW5kb3dcIiwgXCIkbWRDb25zdGFudFwiLCBmdW5jdGlvbigkY2FjaGVGYWN0b3J5LCAkZG9jdW1lbnQsICR0aW1lb3V0LCAkcSwgJHdpbmRvdywgJG1kQ29uc3RhbnQpIHtcbiAgdmFyIFV0aWw7XG5cbiAgZnVuY3Rpb24gZ2V0Tm9kZShlbCkge1xuICAgIHJldHVybiBlbFswXSB8fCBlbDtcbiAgfVxuXG4gIHJldHVybiBVdGlsID0ge1xuICAgIG5vdzogd2luZG93LnBlcmZvcm1hbmNlID9cbiAgICAgIGFuZ3VsYXIuYmluZCh3aW5kb3cucGVyZm9ybWFuY2UsIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3cpIDpcbiAgICAgIERhdGUubm93LFxuXG4gICAgY2xpZW50UmVjdDogZnVuY3Rpb24oZWxlbWVudCwgb2Zmc2V0UGFyZW50LCBpc09mZnNldFJlY3QpIHtcbiAgICAgIHZhciBub2RlID0gZ2V0Tm9kZShlbGVtZW50KTtcbiAgICAgIG9mZnNldFBhcmVudCA9IGdldE5vZGUob2Zmc2V0UGFyZW50IHx8IG5vZGUub2Zmc2V0UGFyZW50IHx8IGRvY3VtZW50LmJvZHkpO1xuICAgICAgdmFyIG5vZGVSZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgLy8gVGhlIHVzZXIgY2FuIGFzayBmb3IgYW4gb2Zmc2V0UmVjdDogYSByZWN0IHJlbGF0aXZlIHRvIHRoZSBvZmZzZXRQYXJlbnQsXG4gICAgICAvLyBvciBhIGNsaWVudFJlY3Q6IGEgcmVjdCByZWxhdGl2ZSB0byB0aGUgcGFnZVxuICAgICAgdmFyIG9mZnNldFJlY3QgPSBpc09mZnNldFJlY3QgP1xuICAgICAgICBvZmZzZXRQYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOlxuICAgICAgICB7IGxlZnQ6IDAsIHRvcDogMCwgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogbm9kZVJlY3QubGVmdCAtIG9mZnNldFJlY3QubGVmdCxcbiAgICAgICAgdG9wOiBub2RlUmVjdC50b3AgLSBvZmZzZXRSZWN0LnRvcCxcbiAgICAgICAgd2lkdGg6IG5vZGVSZWN0LndpZHRoLFxuICAgICAgICBoZWlnaHQ6IG5vZGVSZWN0LmhlaWdodFxuICAgICAgfTtcbiAgICB9LFxuICAgIG9mZnNldFJlY3Q6IGZ1bmN0aW9uKGVsZW1lbnQsIG9mZnNldFBhcmVudCkge1xuICAgICAgcmV0dXJuIFV0aWwuY2xpZW50UmVjdChlbGVtZW50LCBvZmZzZXRQYXJlbnQsIHRydWUpO1xuICAgIH0sXG5cbiAgICAvLyBBbm5veWluZyBtZXRob2QgdG8gY29weSBub2RlcyB0byBhbiBhcnJheSwgdGhhbmtzIHRvIElFXG4gICAgbm9kZXNUb0FycmF5OiBmdW5jdGlvbiAobm9kZXMpIHtcbiAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChub2Rlcy5pdGVtKGkpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH0sXG5cbiAgICAvLyBEaXNhYmxlcyBzY3JvbGwgYXJvdW5kIHRoZSBwYXNzZWQgZWxlbWVudC5cbiAgICBkaXNhYmxlU2Nyb2xsQXJvdW5kOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICBpZiAoVXRpbC5kaXNhYmxlU2Nyb2xsQXJvdW5kLl9lbmFibGVTY3JvbGxpbmcpIHJldHVybiBVdGlsLmRpc2FibGVTY3JvbGxBcm91bmQuX2VuYWJsZVNjcm9sbGluZztcbiAgICAgIGVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudCk7XG4gICAgICB2YXIgYm9keSA9ICRkb2N1bWVudFswXS5ib2R5LFxuICAgICAgICAgIHJlc3RvcmVCb2R5ID0gZGlzYWJsZUJvZHlTY3JvbGwoKSxcbiAgICAgICAgICByZXN0b3JlRWxlbWVudCA9IGRpc2FibGVFbGVtZW50U2Nyb2xsKCk7XG5cbiAgICAgIHJldHVybiBVdGlsLmRpc2FibGVTY3JvbGxBcm91bmQuX2VuYWJsZVNjcm9sbGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVzdG9yZUJvZHkoKTtcbiAgICAgICAgcmVzdG9yZUVsZW1lbnQoKTtcbiAgICAgICAgZGVsZXRlIFV0aWwuZGlzYWJsZVNjcm9sbEFyb3VuZC5fZW5hYmxlU2Nyb2xsaW5nO1xuICAgICAgfTtcblxuICAgICAgLy8gQ3JlYXRlcyBhIHZpcnR1YWwgc2Nyb2xsaW5nIG1hc2sgdG8gYWJzb3JiIHRvdWNobW92ZSwga2V5Ym9hcmQsIHNjcm9sbGJhciBjbGlja2luZywgYW5kIHdoZWVsIGV2ZW50c1xuICAgICAgZnVuY3Rpb24gZGlzYWJsZUVsZW1lbnRTY3JvbGwoKSB7XG4gICAgICAgIHZhciB6SW5kZXggPSAkd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudFswXSkuekluZGV4IC0gMTtcbiAgICAgICAgaWYgKGlzTmFOKHpJbmRleCkpIHpJbmRleCA9IDk5O1xuICAgICAgICB2YXIgc2Nyb2xsTWFzayA9IGFuZ3VsYXIuZWxlbWVudChcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibWQtc2Nyb2xsLW1hc2tcIiBzdHlsZT1cInotaW5kZXg6ICcgKyB6SW5kZXggKyAnXCI+JyArXG4gICAgICAgICAgICAnICA8ZGl2IGNsYXNzPVwibWQtc2Nyb2xsLW1hc2stYmFyXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAnPC9kaXY+Jyk7XG4gICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoc2Nyb2xsTWFza1swXSk7XG5cbiAgICAgICAgc2Nyb2xsTWFzay5vbignd2hlZWwnLCBwcmV2ZW50RGVmYXVsdCk7XG4gICAgICAgIHNjcm9sbE1hc2sub24oJ3RvdWNobW92ZScsIHByZXZlbnREZWZhdWx0KTtcbiAgICAgICAgJGRvY3VtZW50Lm9uKCdrZXlkb3duJywgZGlzYWJsZUtleU5hdik7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlc3RvcmVTY3JvbGwgKCkge1xuICAgICAgICAgIHNjcm9sbE1hc2sub2ZmKCd3aGVlbCcpO1xuICAgICAgICAgIHNjcm9sbE1hc2sub2ZmKCd0b3VjaG1vdmUnKTtcbiAgICAgICAgICBzY3JvbGxNYXNrWzBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2Nyb2xsTWFza1swXSk7XG4gICAgICAgICAgJGRvY3VtZW50Lm9mZigna2V5ZG93bicsIGRpc2FibGVLZXlOYXYpO1xuICAgICAgICAgIGRlbGV0ZSBVdGlsLmRpc2FibGVTY3JvbGxBcm91bmQuX2VuYWJsZVNjcm9sbGluZztcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBQcmV2ZW50IGtleXByZXNzZXMgZnJvbSBlbGVtZW50cyBpbnNpZGUgdGhlIGJvZHlcbiAgICAgICAgLy8gdXNlZCB0byBzdG9wIHRoZSBrZXlwcmVzc2VzIHRoYXQgY291bGQgY2F1c2UgdGhlIHBhZ2UgdG8gc2Nyb2xsXG4gICAgICAgIC8vIChhcnJvdyBrZXlzLCBzcGFjZWJhciwgdGFiLCBldGMpLlxuICAgICAgICBmdW5jdGlvbiBkaXNhYmxlS2V5TmF2KGUpIHtcbiAgICAgICAgICAvLy0tIHRlbXBvcmFyaWx5IHJlbW92ZWQgdGhpcyBsb2dpYywgd2lsbCBwb3NzaWJseSByZS1hZGQgYXQgYSBsYXRlciBkYXRlXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGlmICghZWxlbWVudFswXS5jb250YWlucyhlLnRhcmdldCkpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDb252ZXJ0cyB0aGUgYm9keSB0byBhIHBvc2l0aW9uIGZpeGVkIGJsb2NrIGFuZCB0cmFuc2xhdGUgaXQgdG8gdGhlIHByb3BlciBzY3JvbGxcbiAgICAgIC8vIHBvc2l0aW9uXG4gICAgICBmdW5jdGlvbiBkaXNhYmxlQm9keVNjcm9sbCgpIHtcbiAgICAgICAgdmFyIHJlc3RvcmVTdHlsZSA9IGJvZHkuZ2V0QXR0cmlidXRlKCdzdHlsZScpIHx8ICcnO1xuICAgICAgICB2YXIgc2Nyb2xsT2Zmc2V0ID0gYm9keS5zY3JvbGxUb3AgKyBib2R5LnBhcmVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuXG4gICAgICAgIGFwcGx5U3R5bGVzKGJvZHksIHtcbiAgICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgIG92ZXJmbG93WTogJ3Njcm9sbCcsXG4gICAgICAgICAgdG9wOiAtc2Nyb2xsT2Zmc2V0ICsgJ3B4J1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gcmVzdG9yZVNjcm9sbCgpIHtcbiAgICAgICAgICBib2R5LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCByZXN0b3JlU3R5bGUpO1xuICAgICAgICAgIGJvZHkuc2Nyb2xsVG9wID0gc2Nyb2xsT2Zmc2V0O1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBhcHBseVN0eWxlcyAoZWwsIHN0eWxlcykge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc3R5bGVzKSB7XG4gICAgICAgICAgZWwuc3R5bGVba2V5XSA9IHN0eWxlc1trZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBlbmFibGVTY3JvbGxpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBtZXRob2QgPSB0aGlzLmRpc2FibGVTY3JvbGxBcm91bmQuX2VuYWJsZVNjcm9sbGluZztcbiAgICAgIG1ldGhvZCAmJiBtZXRob2QoKTtcbiAgICB9LFxuICAgIGZsb2F0aW5nU2Nyb2xsYmFyczogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5mbG9hdGluZ1Njcm9sbGJhcnMuY2FjaGVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFyIHRlbXBOb2RlID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IHN0eWxlPVwid2lkdGg6IDEwMCU7IHotaW5kZXg6IC0xOyBwb3NpdGlvbjogYWJzb2x1dGU7IGhlaWdodDogMzVweDsgb3ZlcmZsb3cteTogc2Nyb2xsXCI+PGRpdiBzdHlsZT1cImhlaWdodDogNjA7XCI+PC9kaXY+PC9kaXY+Jyk7XG4gICAgICAgICRkb2N1bWVudFswXS5ib2R5LmFwcGVuZENoaWxkKHRlbXBOb2RlWzBdKTtcbiAgICAgICAgdGhpcy5mbG9hdGluZ1Njcm9sbGJhcnMuY2FjaGVkID0gKHRlbXBOb2RlWzBdLm9mZnNldFdpZHRoID09IHRlbXBOb2RlWzBdLmNoaWxkTm9kZXNbMF0ub2Zmc2V0V2lkdGgpO1xuICAgICAgICB0ZW1wTm9kZS5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmZsb2F0aW5nU2Nyb2xsYmFycy5jYWNoZWQ7XG4gICAgfSxcblxuICAgIC8vIE1vYmlsZSBzYWZhcmkgb25seSBhbGxvd3MgeW91IHRvIHNldCBmb2N1cyBpbiBjbGljayBldmVudCBsaXN0ZW5lcnMuLi5cbiAgICBmb3JjZUZvY3VzOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICB2YXIgbm9kZSA9IGVsZW1lbnRbMF0gfHwgZWxlbWVudDtcblxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiBmb2N1c09uQ2xpY2soZXYpIHtcbiAgICAgICAgaWYgKGV2LnRhcmdldCA9PT0gbm9kZSAmJiBldi4kZm9jdXMpIHtcbiAgICAgICAgICBub2RlLmZvY3VzKCk7XG4gICAgICAgICAgZXYuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZm9jdXNPbkNsaWNrKTtcbiAgICAgICAgfVxuICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgIHZhciBuZXdFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpO1xuICAgICAgbmV3RXZlbnQuaW5pdE1vdXNlRXZlbnQoJ2NsaWNrJywgZmFsc2UsIHRydWUsIHdpbmRvdywge30sIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCAwLCBudWxsKTtcbiAgICAgIG5ld0V2ZW50LiRtYXRlcmlhbCA9IHRydWU7XG4gICAgICBuZXdFdmVudC4kZm9jdXMgPSB0cnVlO1xuICAgICAgbm9kZS5kaXNwYXRjaEV2ZW50KG5ld0V2ZW50KTtcbiAgICB9LFxuXG4gICAgdHJhbnNpdGlvbkVuZFByb21pc2U6IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdHMpIHtcbiAgICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgIGVsZW1lbnQub24oJG1kQ29uc3RhbnQuQ1NTLlRSQU5TSVRJT05FTkQsIGZpbmlzaGVkKTtcbiAgICAgIGZ1bmN0aW9uIGZpbmlzaGVkKGV2KSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGlzIHRyYW5zaXRpb25lbmQgZGlkbid0IGJ1YmJsZSB1cCBmcm9tIGEgY2hpbGRcbiAgICAgICAgaWYgKCFldiB8fCBldi50YXJnZXQgPT09IGVsZW1lbnRbMF0pIHtcbiAgICAgICAgICBlbGVtZW50Lm9mZigkbWRDb25zdGFudC5DU1MuVFJBTlNJVElPTkVORCwgZmluaXNoZWQpO1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG9wdHMudGltZW91dCkgJHRpbWVvdXQoZmluaXNoZWQsIG9wdHMudGltZW91dCk7XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9LFxuXG4gICAgZmFrZU5nTW9kZWw6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJGZha2U6IHRydWUsXG4gICAgICAgICRzZXRUb3VjaGVkOiBhbmd1bGFyLm5vb3AsXG4gICAgICAgICRzZXRWaWV3VmFsdWU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgdGhpcy4kdmlld1ZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgdGhpcy4kcmVuZGVyKHZhbHVlKTtcbiAgICAgICAgICB0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oY2IpIHsgY2IoKTsgfSk7XG4gICAgICAgIH0sXG4gICAgICAgICRpc0VtcHR5OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiAoJycgKyB2YWx1ZSkubGVuZ3RoID09PSAwO1xuICAgICAgICB9LFxuICAgICAgICAkcGFyc2VyczogW10sXG4gICAgICAgICRmb3JtYXR0ZXJzOiBbXSxcbiAgICAgICAgJHZpZXdDaGFuZ2VMaXN0ZW5lcnM6IFtdLFxuICAgICAgICAkcmVuZGVyOiBhbmd1bGFyLm5vb3BcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgYXMgbG9uZyBhcyBpdCBjb250aW51ZXMgdG8gYmUgaW52b2tlZCwgd2lsbCBub3RcbiAgICAvLyBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4gICAgLy8gTiBtaWxsaXNlY29uZHMuXG4gICAgLy8gQHBhcmFtIHdhaXQgSW50ZWdlciB2YWx1ZSBvZiBtc2VjcyB0byBkZWxheSAoc2luY2UgbGFzdCBkZWJvdW5jZSByZXNldCk7IGRlZmF1bHQgdmFsdWUgMTAgbXNlY3NcbiAgICAvLyBAcGFyYW0gaW52b2tlQXBwbHkgc2hvdWxkIHRoZSAkdGltZW91dCB0cmlnZ2VyICRkaWdlc3QoKSBkaXJ0eSBjaGVja2luZ1xuICAgIGRlYm91bmNlOiBmdW5jdGlvbiAoZnVuYywgd2FpdCwgc2NvcGUsIGludm9rZUFwcGx5KSB7XG4gICAgICB2YXIgdGltZXI7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gc2NvcGUsXG4gICAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cbiAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVyKTtcbiAgICAgICAgdGltZXIgPSAkdGltZW91dChmdW5jdGlvbigpIHtcblxuICAgICAgICAgIHRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG5cbiAgICAgICAgfSwgd2FpdCB8fCAxMCwgaW52b2tlQXBwbHkgKTtcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNhbiBvbmx5IGJlIHRyaWdnZXJlZCBldmVyeSBgZGVsYXlgIG1pbGxpc2Vjb25kcy5cbiAgICAvLyBJbiBvdGhlciB3b3JkcywgdGhlIGZ1bmN0aW9uIHdpbGwgbm90IGJlIGNhbGxlZCB1bmxlc3MgaXQgaGFzIGJlZW4gbW9yZVxuICAgIC8vIHRoYW4gYGRlbGF5YCBtaWxsaXNlY29uZHMgc2luY2UgdGhlIGxhc3QgY2FsbC5cbiAgICB0aHJvdHRsZTogZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgZGVsYXkpIHtcbiAgICAgIHZhciByZWNlbnQ7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gdGhyb3R0bGVkKCkge1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICB2YXIgbm93ID0gVXRpbC5ub3coKTtcblxuICAgICAgICBpZiAoIXJlY2VudCB8fCAobm93IC0gcmVjZW50ID4gZGVsYXkpKSB7XG4gICAgICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgICByZWNlbnQgPSBub3c7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1lYXN1cmVzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRha2VuIHRvIHJ1biB0aGUgcHJvdmlkZWQgY2FsbGJhY2tcbiAgICAgKiBmdW5jdGlvbi4gVXNlcyBhIGhpZ2gtcHJlY2lzaW9uIHRpbWVyIGlmIGF2YWlsYWJsZS5cbiAgICAgKi9cbiAgICB0aW1lOiBmdW5jdGlvbiB0aW1lKGNiKSB7XG4gICAgICB2YXIgc3RhcnQgPSBVdGlsLm5vdygpO1xuICAgICAgY2IoKTtcbiAgICAgIHJldHVybiBVdGlsLm5vdygpIC0gc3RhcnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCBhIHVuaXF1ZSBJRC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IGFuIHVuaXF1ZSBudW1lcmljIHN0cmluZ1xuICAgICAqL1xuICAgIG5leHRVaWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICcnICsgbmV4dFVuaXF1ZUlkKys7XG4gICAgfSxcblxuICAgIC8vIFN0b3Agd2F0Y2hlcnMgYW5kIGV2ZW50cyBmcm9tIGZpcmluZyBvbiBhIHNjb3BlIHdpdGhvdXQgZGVzdHJveWluZyBpdCxcbiAgICAvLyBieSBkaXNjb25uZWN0aW5nIGl0IGZyb20gaXRzIHBhcmVudCBhbmQgaXRzIHNpYmxpbmdzJyBsaW5rZWQgbGlzdHMuXG4gICAgZGlzY29ubmVjdFNjb3BlOiBmdW5jdGlvbiBkaXNjb25uZWN0U2NvcGUoc2NvcGUpIHtcbiAgICAgIGlmICghc2NvcGUpIHJldHVybjtcblxuICAgICAgLy8gd2UgY2FuJ3QgZGVzdHJveSB0aGUgcm9vdCBzY29wZSBvciBhIHNjb3BlIHRoYXQgaGFzIGJlZW4gYWxyZWFkeSBkZXN0cm95ZWRcbiAgICAgIGlmIChzY29wZS4kcm9vdCA9PT0gc2NvcGUpIHJldHVybjtcbiAgICAgIGlmIChzY29wZS4kJGRlc3Ryb3llZCApIHJldHVybjtcblxuICAgICAgdmFyIHBhcmVudCA9IHNjb3BlLiRwYXJlbnQ7XG4gICAgICBzY29wZS4kJGRpc2Nvbm5lY3RlZCA9IHRydWU7XG5cbiAgICAgIC8vIFNlZSBTY29wZS4kZGVzdHJveVxuICAgICAgaWYgKHBhcmVudC4kJGNoaWxkSGVhZCA9PT0gc2NvcGUpIHBhcmVudC4kJGNoaWxkSGVhZCA9IHNjb3BlLiQkbmV4dFNpYmxpbmc7XG4gICAgICBpZiAocGFyZW50LiQkY2hpbGRUYWlsID09PSBzY29wZSkgcGFyZW50LiQkY2hpbGRUYWlsID0gc2NvcGUuJCRwcmV2U2libGluZztcbiAgICAgIGlmIChzY29wZS4kJHByZXZTaWJsaW5nKSBzY29wZS4kJHByZXZTaWJsaW5nLiQkbmV4dFNpYmxpbmcgPSBzY29wZS4kJG5leHRTaWJsaW5nO1xuICAgICAgaWYgKHNjb3BlLiQkbmV4dFNpYmxpbmcpIHNjb3BlLiQkbmV4dFNpYmxpbmcuJCRwcmV2U2libGluZyA9IHNjb3BlLiQkcHJldlNpYmxpbmc7XG5cbiAgICAgIHNjb3BlLiQkbmV4dFNpYmxpbmcgPSBzY29wZS4kJHByZXZTaWJsaW5nID0gbnVsbDtcblxuICAgIH0sXG5cbiAgICAvLyBVbmRvIHRoZSBlZmZlY3RzIG9mIGRpc2Nvbm5lY3RTY29wZSBhYm92ZS5cbiAgICByZWNvbm5lY3RTY29wZTogZnVuY3Rpb24gcmVjb25uZWN0U2NvcGUoc2NvcGUpIHtcbiAgICAgIGlmICghc2NvcGUpIHJldHVybjtcblxuICAgICAgLy8gd2UgY2FuJ3QgZGlzY29ubmVjdCB0aGUgcm9vdCBub2RlIG9yIHNjb3BlIGFscmVhZHkgZGlzY29ubmVjdGVkXG4gICAgICBpZiAoc2NvcGUuJHJvb3QgPT09IHNjb3BlKSByZXR1cm47XG4gICAgICBpZiAoIXNjb3BlLiQkZGlzY29ubmVjdGVkKSByZXR1cm47XG5cbiAgICAgIHZhciBjaGlsZCA9IHNjb3BlO1xuXG4gICAgICB2YXIgcGFyZW50ID0gY2hpbGQuJHBhcmVudDtcbiAgICAgIGNoaWxkLiQkZGlzY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAvLyBTZWUgU2NvcGUuJG5ldyBmb3IgdGhpcyBsb2dpYy4uLlxuICAgICAgY2hpbGQuJCRwcmV2U2libGluZyA9IHBhcmVudC4kJGNoaWxkVGFpbDtcbiAgICAgIGlmIChwYXJlbnQuJCRjaGlsZEhlYWQpIHtcbiAgICAgICAgcGFyZW50LiQkY2hpbGRUYWlsLiQkbmV4dFNpYmxpbmcgPSBjaGlsZDtcbiAgICAgICAgcGFyZW50LiQkY2hpbGRUYWlsID0gY2hpbGQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnQuJCRjaGlsZEhlYWQgPSBwYXJlbnQuJCRjaGlsZFRhaWwgPSBjaGlsZDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBnZXRDbG9zZXN0IHJlcGxpY2F0ZXMgalF1ZXJ5LmNsb3Nlc3QoKSB0byB3YWxrIHVwIHRoZSBET00gdHJlZSB1bnRpbCBpdCBmaW5kcyBhIG1hdGNoaW5nIG5vZGVOYW1lXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWwgRWxlbWVudCB0byBzdGFydCB3YWxraW5nIHRoZSBET00gZnJvbVxuICAgICAqIEBwYXJhbSB0YWdOYW1lIFRhZyBuYW1lIHRvIGZpbmQgY2xvc2VzdCB0byBlbCwgc3VjaCBhcyAnZm9ybSdcbiAgICAgKi9cbiAgICBnZXRDbG9zZXN0OiBmdW5jdGlvbiBnZXRDbG9zZXN0KGVsLCB0YWdOYW1lLCBvbmx5UGFyZW50KSB7XG4gICAgICBpZiAoZWwgaW5zdGFuY2VvZiBhbmd1bGFyLmVsZW1lbnQpIGVsID0gZWxbMF07XG4gICAgICB0YWdOYW1lID0gdGFnTmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgaWYgKG9ubHlQYXJlbnQpIGVsID0gZWwucGFyZW50Tm9kZTtcbiAgICAgIGlmICghZWwpIHJldHVybiBudWxsO1xuICAgICAgZG8ge1xuICAgICAgICBpZiAoZWwubm9kZU5hbWUgPT09IHRhZ05hbWUpIHtcbiAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKGVsID0gZWwucGFyZW50Tm9kZSk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb25hbCBlcXVpdmFsZW50IGZvciAkZWxlbWVudC5maWx0ZXIo4oCYbWQtYm90dG9tLXNoZWV04oCZKVxuICAgICAqIHVzZWZ1bCB3aXRoIGludGVyaW1FbGVtZW50cyB3aGVyZSB0aGUgZWxlbWVudCBhbmQgaXRzIGNvbnRhaW5lciBhcmUgaW1wb3J0YW50Li4uXG4gICAgICovXG4gICAgZXh0cmFjdEVsZW1lbnRCeU5hbWU6IGZ1bmN0aW9uIChlbGVtZW50LCBub2RlTmFtZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGVsZW1lbnQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKGVsZW1lbnRbaV0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbm9kZU5hbWUpe1xuICAgICAgICAgIHJldHVybiBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFtpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHaXZlIG9wdGlvbmFsIHByb3BlcnRpZXMgd2l0aCBubyB2YWx1ZSBhIGJvb2xlYW4gdHJ1ZSBieSBkZWZhdWx0XG4gICAgICovXG4gICAgaW5pdE9wdGlvbmFsUHJvcGVydGllczogZnVuY3Rpb24gKHNjb3BlLCBhdHRyLCBkZWZhdWx0cyApIHtcbiAgICAgICBkZWZhdWx0cyA9IGRlZmF1bHRzIHx8IHsgfTtcbiAgICAgICBhbmd1bGFyLmZvckVhY2goc2NvcGUuJCRpc29sYXRlQmluZGluZ3MsIGZ1bmN0aW9uIChiaW5kaW5nLCBrZXkpIHtcbiAgICAgICAgIGlmIChiaW5kaW5nLm9wdGlvbmFsICYmIGFuZ3VsYXIuaXNVbmRlZmluZWQoc2NvcGVba2V5XSkpIHtcbiAgICAgICAgICAgdmFyIGhhc0tleSA9IGF0dHIuaGFzT3duUHJvcGVydHkoYXR0ci4kbm9ybWFsaXplKGJpbmRpbmcuYXR0ck5hbWUpKTtcblxuICAgICAgICAgICBzY29wZVtrZXldID0gYW5ndWxhci5pc0RlZmluZWQoZGVmYXVsdHNba2V5XSkgPyBkZWZhdWx0c1trZXldIDogaGFzS2V5O1xuICAgICAgICAgfVxuICAgICAgIH0pO1xuICAgIH1cblxuICB9O1xuXG59XSk7XG5cbi8qXG4gKiBTaW5jZSByZW1vdmluZyBqUXVlcnkgZnJvbSB0aGUgZGVtb3MsIHNvbWUgY29kZSB0aGF0IHVzZXMgYGVsZW1lbnQuZm9jdXMoKWAgaXMgYnJva2VuLlxuICpcbiAqIFdlIG5lZWQgdG8gYWRkIGBlbGVtZW50LmZvY3VzKClgLCBiZWNhdXNlIGl0J3MgdGVzdGFibGUgdW5saWtlIGBlbGVtZW50WzBdLmZvY3VzYC5cbiAqXG4gKiBUT0RPKGFqb3NsaW4pOiBUaGlzIHNob3VsZCBiZSBhZGRlZCBpbiBhIGJldHRlciBwbGFjZSBsYXRlci5cbiAqL1xuXG5hbmd1bGFyLmVsZW1lbnQucHJvdG90eXBlLmZvY3VzID0gYW5ndWxhci5lbGVtZW50LnByb3RvdHlwZS5mb2N1cyB8fCBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMubGVuZ3RoKSB7XG4gICAgdGhpc1swXS5mb2N1cygpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcbmFuZ3VsYXIuZWxlbWVudC5wcm90b3R5cGUuYmx1ciA9IGFuZ3VsYXIuZWxlbWVudC5wcm90b3R5cGUuYmx1ciB8fCBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMubGVuZ3RoKSB7XG4gICAgdGhpc1swXS5ibHVyKCk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29yZScpXG4gIC5zZXJ2aWNlKCckbWRBcmlhJywgQXJpYVNlcnZpY2UpO1xuXG4vKlxuICogQG5nSW5qZWN0XG4gKi9cbmZ1bmN0aW9uIEFyaWFTZXJ2aWNlKCQkckFGLCAkbG9nLCAkd2luZG93KSB7XG5cbiAgcmV0dXJuIHtcbiAgICBleHBlY3Q6IGV4cGVjdCxcbiAgICBleHBlY3RBc3luYzogZXhwZWN0QXN5bmMsXG4gICAgZXhwZWN0V2l0aFRleHQ6IGV4cGVjdFdpdGhUZXh0XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGV4cGVjdGVkIGF0dHJpYnV0ZSBoYXMgYmVlbiBzcGVjaWZpZWQgb24gdGhlIHRhcmdldCBlbGVtZW50IG9yIGNoaWxkXG4gICAqIEBwYXJhbSBlbGVtZW50XG4gICAqIEBwYXJhbSBhdHRyTmFtZVxuICAgKiBAcGFyYW0ge29wdGlvbmFsfSBkZWZhdWx0VmFsdWUgV2hhdCB0byBzZXQgdGhlIGF0dHIgdG8gaWYgbm8gdmFsdWUgaXMgZm91bmRcbiAgICovXG4gIGZ1bmN0aW9uIGV4cGVjdChlbGVtZW50LCBhdHRyTmFtZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgdmFyIG5vZGUgPSBlbGVtZW50WzBdIHx8IGVsZW1lbnQ7XG5cbiAgICAvLyBpZiBub2RlIGV4aXN0cyBhbmQgbmVpdGhlciBpdCBub3IgaXRzIGNoaWxkcmVuIGhhdmUgdGhlIGF0dHJpYnV0ZVxuICAgIGlmIChub2RlICYmXG4gICAgICAgKCghbm9kZS5oYXNBdHRyaWJ1dGUoYXR0ck5hbWUpIHx8XG4gICAgICAgIG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJOYW1lKS5sZW5ndGggPT09IDApICYmXG4gICAgICAgICFjaGlsZEhhc0F0dHJpYnV0ZShub2RlLCBhdHRyTmFtZSkpKSB7XG5cbiAgICAgIGRlZmF1bHRWYWx1ZSA9IGFuZ3VsYXIuaXNTdHJpbmcoZGVmYXVsdFZhbHVlKSA/IGRlZmF1bHRWYWx1ZS50cmltKCkgOiAnJztcbiAgICAgIGlmIChkZWZhdWx0VmFsdWUubGVuZ3RoKSB7XG4gICAgICAgIGVsZW1lbnQuYXR0cihhdHRyTmFtZSwgZGVmYXVsdFZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRsb2cud2FybignQVJJQTogQXR0cmlidXRlIFwiJywgYXR0ck5hbWUsICdcIiwgcmVxdWlyZWQgZm9yIGFjY2Vzc2liaWxpdHksIGlzIG1pc3Npbmcgb24gbm9kZTonLCBub2RlKTtcbiAgICAgIH1cblxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGV4cGVjdEFzeW5jKGVsZW1lbnQsIGF0dHJOYW1lLCBkZWZhdWx0VmFsdWVHZXR0ZXIpIHtcbiAgICAvLyBQcm9ibGVtOiB3aGVuIHJldHJpZXZpbmcgdGhlIGVsZW1lbnQncyBjb250ZW50cyBzeW5jaHJvbm91c2x5IHRvIGZpbmQgdGhlIGxhYmVsLFxuICAgIC8vIHRoZSB0ZXh0IG1heSBub3QgYmUgZGVmaW5lZCB5ZXQgaW4gdGhlIGNhc2Ugb2YgYSBiaW5kaW5nLlxuICAgIC8vIFRoZXJlIGlzIGEgaGlnaGVyIGNoYW5jZSB0aGF0IGEgYmluZGluZyB3aWxsIGJlIGRlZmluZWQgaWYgd2Ugd2FpdCBvbmUgZnJhbWUuXG4gICAgJCRyQUYoZnVuY3Rpb24oKSB7XG4gICAgICBleHBlY3QoZWxlbWVudCwgYXR0ck5hbWUsIGRlZmF1bHRWYWx1ZUdldHRlcigpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4cGVjdFdpdGhUZXh0KGVsZW1lbnQsIGF0dHJOYW1lKSB7XG4gICAgZXhwZWN0QXN5bmMoZWxlbWVudCwgYXR0ck5hbWUsIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGdldFRleHQoZWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUZXh0KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC50ZXh0KCkudHJpbSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hpbGRIYXNBdHRyaWJ1dGUobm9kZSwgYXR0ck5hbWUpIHtcbiAgICB2YXIgaGFzQ2hpbGRyZW4gPSBub2RlLmhhc0NoaWxkTm9kZXMoKSxcbiAgICAgICAgaGFzQXR0ciA9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gaXNIaWRkZW4oZWwpIHtcbiAgICAgIHZhciBzdHlsZSA9IGVsLmN1cnJlbnRTdHlsZSA/IGVsLmN1cnJlbnRTdHlsZSA6ICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG4gICAgICByZXR1cm4gKHN0eWxlLmRpc3BsYXkgPT09ICdub25lJyk7XG4gICAgfVxuXG4gICAgaWYoaGFzQ2hpbGRyZW4pIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IG5vZGUuY2hpbGROb2RlcztcbiAgICAgIGZvcih2YXIgaT0wOyBpPGNoaWxkcmVuLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgIGlmKGNoaWxkLm5vZGVUeXBlID09PSAxICYmIGNoaWxkLmhhc0F0dHJpYnV0ZShhdHRyTmFtZSkpIHtcbiAgICAgICAgICBpZighaXNIaWRkZW4oY2hpbGQpKXtcbiAgICAgICAgICAgIGhhc0F0dHIgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaGFzQXR0cjtcbiAgfVxufVxuQXJpYVNlcnZpY2UuJGluamVjdCA9IFtcIiQkckFGXCIsIFwiJGxvZ1wiLCBcIiR3aW5kb3dcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29yZScpXG4gIC5zZXJ2aWNlKCckbWRDb21waWxlcicsIG1kQ29tcGlsZXJTZXJ2aWNlKTtcblxuZnVuY3Rpb24gbWRDb21waWxlclNlcnZpY2UoJHEsICRodHRwLCAkaW5qZWN0b3IsICRjb21waWxlLCAkY29udHJvbGxlciwgJHRlbXBsYXRlQ2FjaGUpIHtcbiAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuXG4gIC8qXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAqIEBuYW1lICRtZENvbXBpbGVyXG4gICAqIEBtb2R1bGUgbWF0ZXJpYWwuY29yZVxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhlICRtZENvbXBpbGVyIHNlcnZpY2UgaXMgYW4gYWJzdHJhY3Rpb24gb2YgYW5ndWxhcidzIGNvbXBpbGVyLCB0aGF0IGFsbG93cyB0aGUgZGV2ZWxvcGVyXG4gICAqIHRvIGVhc2lseSBjb21waWxlIGFuIGVsZW1lbnQgd2l0aCBhIHRlbXBsYXRlVXJsLCBjb250cm9sbGVyLCBhbmQgbG9jYWxzLlxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogPGhsanMgbGFuZz1cImpzXCI+XG4gICAqICRtZENvbXBpbGVyLmNvbXBpbGUoe1xuICAgKiAgIHRlbXBsYXRlVXJsOiAnbW9kYWwuaHRtbCcsXG4gICAqICAgY29udHJvbGxlcjogJ01vZGFsQ3RybCcsXG4gICAqICAgbG9jYWxzOiB7XG4gICAqICAgICBtb2RhbDogbXlNb2RhbEluc3RhbmNlO1xuICAgKiAgIH1cbiAgICogfSkudGhlbihmdW5jdGlvbihjb21waWxlRGF0YSkge1xuICAgKiAgIGNvbXBpbGVEYXRhLmVsZW1lbnQ7IC8vIG1vZGFsLmh0bWwncyB0ZW1wbGF0ZSBpbiBhbiBlbGVtZW50XG4gICAqICAgY29tcGlsZURhdGEubGluayhteVNjb3BlKTsgLy9hdHRhY2ggY29udHJvbGxlciAmIHNjb3BlIHRvIGVsZW1lbnRcbiAgICogfSk7XG4gICAqIDwvaGxqcz5cbiAgICovXG5cbiAgIC8qXG4gICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgKiBAbmFtZSAkbWRDb21waWxlciNjb21waWxlXG4gICAgKiBAZGVzY3JpcHRpb24gQSBoZWxwZXIgdG8gY29tcGlsZSBhbiBIVE1MIHRlbXBsYXRlL3RlbXBsYXRlVXJsIHdpdGggYSBnaXZlbiBjb250cm9sbGVyLFxuICAgICogbG9jYWxzLCBhbmQgc2NvcGUuXG4gICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBBbiBvcHRpb25zIG9iamVjdCwgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgKlxuICAgICogICAgLSBgY29udHJvbGxlcmAgLSBgeyhzdHJpbmc9fGZ1bmN0aW9uKCk9fWAgQ29udHJvbGxlciBmbiB0aGF0IHNob3VsZCBiZSBhc3NvY2lhdGVkIHdpdGhcbiAgICAqICAgICAgbmV3bHkgY3JlYXRlZCBzY29wZSBvciB0aGUgbmFtZSBvZiBhIHJlZ2lzdGVyZWQgY29udHJvbGxlciBpZiBwYXNzZWQgYXMgYSBzdHJpbmcuXG4gICAgKiAgICAtIGBjb250cm9sbGVyQXNgIC0gYHtzdHJpbmc9fWAgQSBjb250cm9sbGVyIGFsaWFzIG5hbWUuIElmIHByZXNlbnQgdGhlIGNvbnRyb2xsZXIgd2lsbCBiZVxuICAgICogICAgICBwdWJsaXNoZWQgdG8gc2NvcGUgdW5kZXIgdGhlIGBjb250cm9sbGVyQXNgIG5hbWUuXG4gICAgKiAgICAtIGB0ZW1wbGF0ZWAgLSBge3N0cmluZz19YCBBbiBodG1sIHRlbXBsYXRlIGFzIGEgc3RyaW5nLlxuICAgICogICAgLSBgdGVtcGxhdGVVcmxgIC0gYHtzdHJpbmc9fWAgQSBwYXRoIHRvIGFuIGh0bWwgdGVtcGxhdGUuXG4gICAgKiAgICAtIGB0cmFuc2Zvcm1UZW1wbGF0ZWAgLSBge2Z1bmN0aW9uKHRlbXBsYXRlKT19YCBBIGZ1bmN0aW9uIHdoaWNoIHRyYW5zZm9ybXMgdGhlIHRlbXBsYXRlIGFmdGVyXG4gICAgKiAgICAgIGl0IGlzIGxvYWRlZC4gSXQgd2lsbCBiZSBnaXZlbiB0aGUgdGVtcGxhdGUgc3RyaW5nIGFzIGEgcGFyYW1ldGVyLCBhbmQgc2hvdWxkXG4gICAgKiAgICAgIHJldHVybiBhIGEgbmV3IHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHRyYW5zZm9ybWVkIHRlbXBsYXRlLlxuICAgICogICAgLSBgcmVzb2x2ZWAgLSBge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbj49fWAgLSBBbiBvcHRpb25hbCBtYXAgb2YgZGVwZW5kZW5jaWVzIHdoaWNoIHNob3VsZFxuICAgICogICAgICBiZSBpbmplY3RlZCBpbnRvIHRoZSBjb250cm9sbGVyLiBJZiBhbnkgb2YgdGhlc2UgZGVwZW5kZW5jaWVzIGFyZSBwcm9taXNlcywgdGhlIGNvbXBpbGVyXG4gICAgKiAgICAgIHdpbGwgd2FpdCBmb3IgdGhlbSBhbGwgdG8gYmUgcmVzb2x2ZWQsIG9yIGlmIG9uZSBpcyByZWplY3RlZCBiZWZvcmUgdGhlIGNvbnRyb2xsZXIgaXNcbiAgICAqICAgICAgaW5zdGFudGlhdGVkIGBjb21waWxlKClgIHdpbGwgZmFpbC4uXG4gICAgKiAgICAgICogYGtleWAgLSBge3N0cmluZ31gOiBhIG5hbWUgb2YgYSBkZXBlbmRlbmN5IHRvIGJlIGluamVjdGVkIGludG8gdGhlIGNvbnRyb2xsZXIuXG4gICAgKiAgICAgICogYGZhY3RvcnlgIC0gYHtzdHJpbmd8ZnVuY3Rpb259YDogSWYgYHN0cmluZ2AgdGhlbiBpdCBpcyBhbiBhbGlhcyBmb3IgYSBzZXJ2aWNlLlxuICAgICogICAgICAgIE90aGVyd2lzZSBpZiBmdW5jdGlvbiwgdGhlbiBpdCBpcyBpbmplY3RlZCBhbmQgdGhlIHJldHVybiB2YWx1ZSBpcyB0cmVhdGVkIGFzIHRoZVxuICAgICogICAgICAgIGRlcGVuZGVuY3kuIElmIHRoZSByZXN1bHQgaXMgYSBwcm9taXNlLCBpdCBpcyByZXNvbHZlZCBiZWZvcmUgaXRzIHZhbHVlIGlzIFxuICAgICogICAgICAgIGluamVjdGVkIGludG8gdGhlIGNvbnRyb2xsZXIuXG4gICAgKlxuICAgICogQHJldHVybnMge29iamVjdD19IHByb21pc2UgQSBwcm9taXNlLCB3aGljaCB3aWxsIGJlIHJlc29sdmVkIHdpdGggYSBgY29tcGlsZURhdGFgIG9iamVjdC5cbiAgICAqIGBjb21waWxlRGF0YWAgaGFzIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczogXG4gICAgKlxuICAgICogICAtIGBlbGVtZW50YCAtIGB7ZWxlbWVudH1gOiBhbiB1bmNvbXBpbGVkIGVsZW1lbnQgbWF0Y2hpbmcgdGhlIHByb3ZpZGVkIHRlbXBsYXRlLlxuICAgICogICAtIGBsaW5rYCAtIGB7ZnVuY3Rpb24oc2NvcGUpfWA6IEEgbGluayBmdW5jdGlvbiwgd2hpY2gsIHdoZW4gY2FsbGVkLCB3aWxsIGNvbXBpbGVcbiAgICAqICAgICB0aGUgZWxlbWVudCBhbmQgaW5zdGFudGlhdGUgdGhlIHByb3ZpZGVkIGNvbnRyb2xsZXIgKGlmIGdpdmVuKS5cbiAgICAqICAgLSBgbG9jYWxzYCAtIGB7b2JqZWN0fWA6IFRoZSBsb2NhbHMgd2hpY2ggd2lsbCBiZSBwYXNzZWQgaW50byB0aGUgY29udHJvbGxlciBvbmNlIGBsaW5rYCBpc1xuICAgICogICAgIGNhbGxlZC4gSWYgYGJpbmRUb0NvbnRyb2xsZXJgIGlzIHRydWUsIHRoZXkgd2lsbCBiZSBjb3BwaWVkIHRvIHRoZSBjdHJsIGluc3RlYWRcbiAgICAqICAgLSBgYmluZFRvQ29udHJvbGxlcmAgLSBgYm9vbGA6IGJpbmQgdGhlIGxvY2FscyB0byB0aGUgY29udHJvbGxlciwgaW5zdGVhZCBvZiBwYXNzaW5nIHRoZW0gaW4uXG4gICAgKi9cbiAgdGhpcy5jb21waWxlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHZhciB0ZW1wbGF0ZVVybCA9IG9wdGlvbnMudGVtcGxhdGVVcmw7XG4gICAgdmFyIHRlbXBsYXRlID0gb3B0aW9ucy50ZW1wbGF0ZSB8fCAnJztcbiAgICB2YXIgY29udHJvbGxlciA9IG9wdGlvbnMuY29udHJvbGxlcjtcbiAgICB2YXIgY29udHJvbGxlckFzID0gb3B0aW9ucy5jb250cm9sbGVyQXM7XG4gICAgdmFyIHJlc29sdmUgPSBvcHRpb25zLnJlc29sdmUgfHwge307XG4gICAgdmFyIGxvY2FscyA9IG9wdGlvbnMubG9jYWxzIHx8IHt9O1xuICAgIHZhciB0cmFuc2Zvcm1UZW1wbGF0ZSA9IG9wdGlvbnMudHJhbnNmb3JtVGVtcGxhdGUgfHwgYW5ndWxhci5pZGVudGl0eTtcbiAgICB2YXIgYmluZFRvQ29udHJvbGxlciA9IG9wdGlvbnMuYmluZFRvQ29udHJvbGxlcjtcblxuICAgIC8vIFRha2UgcmVzb2x2ZSB2YWx1ZXMgYW5kIGludm9rZSB0aGVtLiAgXG4gICAgLy8gUmVzb2x2ZXMgY2FuIGVpdGhlciBiZSBhIHN0cmluZyAodmFsdWU6ICdNeVJlZ2lzdGVyZWRBbmd1bGFyQ29uc3QnKSxcbiAgICAvLyBvciBhbiBpbnZva2FibGUgJ2ZhY3RvcnknIG9mIHNvcnRzOiAodmFsdWU6IGZ1bmN0aW9uIFZhbHVlR2V0dGVyKCRkZXBlbmRlbmN5KSB7fSlcbiAgICBhbmd1bGFyLmZvckVhY2gocmVzb2x2ZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHJlc29sdmVba2V5XSA9ICRpbmplY3Rvci5nZXQodmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZVtrZXldID0gJGluamVjdG9yLmludm9rZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy9BZGQgdGhlIGxvY2Fscywgd2hpY2ggYXJlIGp1c3Qgc3RyYWlnaHQgdmFsdWVzIHRvIGluamVjdFxuICAgIC8vZWcgbG9jYWxzOiB7IHRocmVlOiAzIH0sIHdpbGwgaW5qZWN0IHRocmVlIGludG8gdGhlIGNvbnRyb2xsZXJcbiAgICBhbmd1bGFyLmV4dGVuZChyZXNvbHZlLCBsb2NhbHMpO1xuXG4gICAgaWYgKHRlbXBsYXRlVXJsKSB7XG4gICAgICByZXNvbHZlLiR0ZW1wbGF0ZSA9ICRodHRwLmdldCh0ZW1wbGF0ZVVybCwge2NhY2hlOiAkdGVtcGxhdGVDYWNoZX0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlLiR0ZW1wbGF0ZSA9ICRxLndoZW4odGVtcGxhdGUpO1xuICAgIH1cblxuICAgIC8vIFdhaXQgZm9yIGFsbCB0aGUgcmVzb2x2ZXMgdG8gZmluaXNoIGlmIHRoZXkgYXJlIHByb21pc2VzXG4gICAgcmV0dXJuICRxLmFsbChyZXNvbHZlKS50aGVuKGZ1bmN0aW9uKGxvY2Fscykge1xuXG4gICAgICB2YXIgdGVtcGxhdGUgPSB0cmFuc2Zvcm1UZW1wbGF0ZShsb2NhbHMuJHRlbXBsYXRlKTtcbiAgICAgIHZhciBlbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50IHx8IGFuZ3VsYXIuZWxlbWVudCgnPGRpdj4nKS5odG1sKHRlbXBsYXRlLnRyaW0oKSkuY29udGVudHMoKTtcbiAgICAgIHZhciBsaW5rRm4gPSAkY29tcGlsZShlbGVtZW50KTtcblxuICAgICAgLy9SZXR1cm4gYSBsaW5raW5nIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgbGF0ZXIgd2hlbiB0aGUgZWxlbWVudCBpcyByZWFkeVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxzOiBsb2NhbHMsXG4gICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUpIHtcbiAgICAgICAgICBsb2NhbHMuJHNjb3BlID0gc2NvcGU7XG5cbiAgICAgICAgICAvL0luc3RhbnRpYXRlIGNvbnRyb2xsZXIgaWYgaXQgZXhpc3RzLCBiZWNhdXNlIHdlIGhhdmUgc2NvcGVcbiAgICAgICAgICBpZiAoY29udHJvbGxlcikge1xuICAgICAgICAgICAgdmFyIGludm9rZUN0cmwgPSAkY29udHJvbGxlcihjb250cm9sbGVyLCBsb2NhbHMsIHRydWUpO1xuICAgICAgICAgICAgaWYgKGJpbmRUb0NvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoaW52b2tlQ3RybC5pbnN0YW5jZSwgbG9jYWxzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjdHJsID0gaW52b2tlQ3RybCgpO1xuICAgICAgICAgICAgLy9TZWUgYW5ndWxhci1yb3V0ZSBzb3VyY2UgZm9yIHRoaXMgbG9naWNcbiAgICAgICAgICAgIGVsZW1lbnQuZGF0YSgnJG5nQ29udHJvbGxlckNvbnRyb2xsZXInLCBjdHJsKTtcbiAgICAgICAgICAgIGVsZW1lbnQuY2hpbGRyZW4oKS5kYXRhKCckbmdDb250cm9sbGVyQ29udHJvbGxlcicsIGN0cmwpO1xuXG4gICAgICAgICAgICBpZiAoY29udHJvbGxlckFzKSB7XG4gICAgICAgICAgICAgIHNjb3BlW2NvbnRyb2xsZXJBc10gPSBjdHJsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbGlua0ZuKHNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcblxuICB9O1xufVxubWRDb21waWxlclNlcnZpY2UuJGluamVjdCA9IFtcIiRxXCIsIFwiJGh0dHBcIiwgXCIkaW5qZWN0b3JcIiwgXCIkY29tcGlsZVwiLCBcIiRjb250cm9sbGVyXCIsIFwiJHRlbXBsYXRlQ2FjaGVcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBIQU5ETEVSUyA9IHt9O1xuICAvKiBUaGUgc3RhdGUgb2YgdGhlIGN1cnJlbnQgJ3BvaW50ZXInXG4gICAqIFRoZSBwb2ludGVyIHJlcHJlc2VudHMgdGhlIHN0YXRlIG9mIHRoZSBjdXJyZW50IHRvdWNoLlxuICAgKiBJdCBjb250YWlucyBub3JtYWxpemVkIHggYW5kIHkgY29vcmRpbmF0ZXMgZnJvbSBET00gZXZlbnRzLFxuICAgKiBhcyB3ZWxsIGFzIG90aGVyIGluZm9ybWF0aW9uIGFic3RyYWN0ZWQgZnJvbSB0aGUgRE9NLlxuICAgKi9cbiAgdmFyIHBvaW50ZXIsIGxhc3RQb2ludGVyLCBmb3JjZVNraXBDbGlja0hpamFjayA9IGZhbHNlO1xuXG4gIC8vIFVzZWQgdG8gYXR0YWNoIGV2ZW50IGxpc3RlbmVycyBvbmNlIHdoZW4gbXVsdGlwbGUgbmctYXBwcyBhcmUgcnVubmluZy5cbiAgdmFyIGlzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXRlcmlhbC5jb3JlLmdlc3R1cmVzJywgWyBdKVxuICAgIC5wcm92aWRlcignJG1kR2VzdHVyZScsIE1kR2VzdHVyZVByb3ZpZGVyKVxuICAgIC5mYWN0b3J5KCckJE1kR2VzdHVyZUhhbmRsZXInLCBNZEdlc3R1cmVIYW5kbGVyKVxuICAgIC5ydW4oIGF0dGFjaFRvRG9jdW1lbnQgKTtcblxuICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lICRtZEdlc3R1cmVQcm92aWRlclxuICAgICAqIEBtb2R1bGUgbWF0ZXJpYWwuY29yZS5nZXN0dXJlc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogSW4gc29tZSBzY2VuYXJpb3Mgb24gTW9iaWxlIGRldmljZXMgKHdpdGhvdXQgalF1ZXJ5KSwgdGhlIGNsaWNrIGV2ZW50cyBzaG91bGQgTk9UIGJlIGhpamFja2VkLlxuICAgICAqIGAkbWRHZXN0dXJlUHJvdmlkZXJgIGlzIHVzZWQgdG8gY29uZmlndXJlIHRoZSBHZXN0dXJlIG1vZHVsZSB0byBpZ25vcmUgb3Igc2tpcCBjbGljayBoaWphY2tpbmcgb24gbW9iaWxlXG4gICAgICogZGV2aWNlcy5cbiAgICAgKlxuICAgICAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICAgICAqICAgYXBwLmNvbmZpZyhmdW5jdGlvbigkbWRHZXN0dXJlUHJvdmlkZXIpIHtcbiAgICAgKlxuICAgICAqICAgICAvLyBGb3IgbW9iaWxlIGRldmljZXMgd2l0aG91dCBqUXVlcnkgbG9hZGVkLCBkbyBub3RcbiAgICAgKiAgICAgLy8gaW50ZXJjZXB0IGNsaWNrIGV2ZW50cyBkdXJpbmcgdGhlIGNhcHR1cmUgcGhhc2UuXG4gICAgICogICAgICRtZEdlc3R1cmVQcm92aWRlci5za2lwQ2xpY2tIaWphY2soKTtcbiAgICAgKlxuICAgICAqICAgfSk7XG4gICAgICogPC9obGpzPlxuICAgICAqXG4gICAgICovXG4gIGZ1bmN0aW9uIE1kR2VzdHVyZVByb3ZpZGVyKCkgeyB9XG5cbiAgTWRHZXN0dXJlUHJvdmlkZXIucHJvdG90eXBlID0ge1xuXG4gICAgLy8gUHVibGlzaCBhY2Nlc3MgdG8gc2V0dGVyIHRvIGNvbmZpZ3VyZSBhIHZhcmlhYmxlICBCRUZPUkUgdGhlXG4gICAgLy8gJG1kR2VzdHVyZSBzZXJ2aWNlIGlzIGluc3RhbnRpYXRlZC4uLlxuICAgIHNraXBDbGlja0hpamFjazogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZm9yY2VTa2lwQ2xpY2tIaWphY2sgPSB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiAkZ2V0IGlzIHVzZWQgdG8gYnVpbGQgYW4gaW5zdGFuY2Ugb2YgJG1kR2VzdHVyZVxuICAgICAqIEBuZ0luamVjdFxuICAgICAqL1xuICAgICRnZXQgOiBbXCIkJE1kR2VzdHVyZUhhbmRsZXJcIiwgXCIkJHJBRlwiLCBcIiR0aW1lb3V0XCIsIGZ1bmN0aW9uKCQkTWRHZXN0dXJlSGFuZGxlciwgJCRyQUYsICR0aW1lb3V0KSB7XG4gICAgICAgICByZXR1cm4gbmV3IE1kR2VzdHVyZSgkJE1kR2VzdHVyZUhhbmRsZXIsICQkckFGLCAkdGltZW91dCk7XG4gICAgfV1cbiAgfTtcblxuXG5cbiAgLyoqXG4gICAqIE1kR2VzdHVyZSBmYWN0b3J5IGNvbnN0cnVjdGlvbiBmdW5jdGlvblxuICAgKiBAbmdJbmplY3RcbiAgICovXG4gIGZ1bmN0aW9uIE1kR2VzdHVyZSgkJE1kR2VzdHVyZUhhbmRsZXIsICQkckFGLCAkdGltZW91dCkge1xuICAgIHZhciB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci52ZW5kb3IgfHwgd2luZG93Lm9wZXJhO1xuICAgIHZhciBpc0lvcyA9IHVzZXJBZ2VudC5tYXRjaCgvaXBhZHxpcGhvbmV8aXBvZC9pKTtcbiAgICB2YXIgaXNBbmRyb2lkID0gdXNlckFnZW50Lm1hdGNoKC9hbmRyb2lkL2kpO1xuICAgIHZhciBoYXNKUXVlcnkgPSAgKHR5cGVvZiB3aW5kb3cualF1ZXJ5ICE9PSAndW5kZWZpbmVkJykgJiYgKGFuZ3VsYXIuZWxlbWVudCA9PT0gd2luZG93LmpRdWVyeSk7XG5cbiAgICB2YXIgc2VsZiA9IHtcbiAgICAgIGhhbmRsZXI6IGFkZEhhbmRsZXIsXG4gICAgICByZWdpc3RlcjogcmVnaXN0ZXIsXG4gICAgICAvLyBPbiBtb2JpbGUgdy9vdXQgalF1ZXJ5LCB3ZSBub3JtYWxseSBpbnRlcmNlcHQgY2xpY2tzLiBTaG91bGQgd2Ugc2tpcCB0aGF0P1xuICAgICAgaXNIaWphY2tpbmdDbGlja3M6IChpc0lvcyB8fCBpc0FuZHJvaWQpICYmICFoYXNKUXVlcnkgJiYgIWZvcmNlU2tpcENsaWNrSGlqYWNrXG4gICAgfTtcblxuICAgIGlmIChzZWxmLmlzSGlqYWNraW5nQ2xpY2tzKSB7XG4gICAgICBzZWxmLmhhbmRsZXIoJ2NsaWNrJywge1xuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgbWF4RGlzdGFuY2U6IDZcbiAgICAgICAgfSxcbiAgICAgICAgb25FbmQ6IGZ1bmN0aW9uIChldiwgcG9pbnRlcikge1xuICAgICAgICAgIGlmIChwb2ludGVyLmRpc3RhbmNlIDwgdGhpcy5zdGF0ZS5vcHRpb25zLm1heERpc3RhbmNlKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXYsICdjbGljaycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBSZWdpc3RlciBhbiBlbGVtZW50IHRvIGxpc3RlbiBmb3IgYSBoYW5kbGVyLlxuICAgICAqIFRoaXMgYWxsb3dzIGFuIGVsZW1lbnQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgb3B0aW9ucyBmb3IgYSBoYW5kbGVyLlxuICAgICAqIEFkZGl0aW9uYWxseSwgc29tZSBoYW5kbGVycyBsaWtlIGRyYWcgYW5kIGhvbGQgb25seSBkaXNwYXRjaCBldmVudHMgaWZcbiAgICAgKiB0aGUgZG9tRXZlbnQgaGFwcGVucyBpbnNpZGUgYW4gZWxlbWVudCB0aGF0J3MgcmVnaXN0ZXJlZCB0byBsaXN0ZW4gZm9yIHRoZXNlIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBzZWUgR2VzdHVyZUhhbmRsZXIgZm9yIGhvdyBvdmVycmlkaW5nIG9mIGRlZmF1bHQgb3B0aW9ucyB3b3Jrcy5cbiAgICAgKiBAZXhhbXBsZSAkbWRHZXN0dXJlLnJlZ2lzdGVyKG15RWxlbWVudCwgJ2RyYWcnLCB7IG1pbkRpc3RhbmNlOiAyMCwgaG9yemlvbnRhbDogZmFsc2UgfSlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWdpc3RlcihlbGVtZW50LCBoYW5kbGVyTmFtZSwgb3B0aW9ucykge1xuICAgICAgdmFyIGhhbmRsZXIgPSBIQU5ETEVSU1toYW5kbGVyTmFtZS5yZXBsYWNlKC9eXFwkbWQuLywgJycpXTtcbiAgICAgIGlmICghaGFuZGxlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byByZWdpc3RlciBlbGVtZW50IHdpdGggaGFuZGxlciAnICsgaGFuZGxlck5hbWUgKyAnLiAnICtcbiAgICAgICAgJ0F2YWlsYWJsZSBoYW5kbGVyczogJyArIE9iamVjdC5rZXlzKEhBTkRMRVJTKS5qb2luKCcsICcpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYW5kbGVyLnJlZ2lzdGVyRWxlbWVudChlbGVtZW50LCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIGFkZCBhIGhhbmRsZXIgdG8gJG1kR2VzdHVyZS4gc2VlIGJlbG93LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZEhhbmRsZXIobmFtZSwgZGVmaW5pdGlvbikge1xuICAgICAgdmFyIGhhbmRsZXIgPSBuZXcgJCRNZEdlc3R1cmVIYW5kbGVyKG5hbWUpO1xuICAgICAgYW5ndWxhci5leHRlbmQoaGFuZGxlciwgZGVmaW5pdGlvbik7XG4gICAgICBIQU5ETEVSU1tuYW1lXSA9IGhhbmRsZXI7XG5cbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogUmVnaXN0ZXIgaGFuZGxlcnMuIFRoZXNlIGxpc3RlbiB0byB0b3VjaC9zdGFydC9tb3ZlIGV2ZW50cywgaW50ZXJwcmV0IHRoZW0sXG4gICAgICogYW5kIGRpc3BhdGNoIGdlc3R1cmUgZXZlbnRzIGRlcGVuZGluZyBvbiBvcHRpb25zICYgY29uZGl0aW9ucy4gVGhlc2UgYXJlIGFsbFxuICAgICAqIGluc3RhbmNlcyBvZiBHZXN0dXJlSGFuZGxlci5cbiAgICAgKiBAc2VlIEdlc3R1cmVIYW5kbGVyIFxuICAgICAqL1xuICAgIHJldHVybiBzZWxmXG4gICAgICAvKlxuICAgICAgICogVGhlIHByZXNzIGhhbmRsZXIgZGlzcGF0Y2hlcyBhbiBldmVudCBvbiB0b3VjaGRvd24vdG91Y2hlbmQuXG4gICAgICAgKiBJdCdzIGEgc2ltcGxlIGFic3RyYWN0aW9uIG9mIHRvdWNoL21vdXNlL3BvaW50ZXIgc3RhcnQgYW5kIGVuZC5cbiAgICAgICAqL1xuICAgICAgLmhhbmRsZXIoJ3ByZXNzJywge1xuICAgICAgICBvblN0YXJ0OiBmdW5jdGlvbiAoZXYsIHBvaW50ZXIpIHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXYsICckbWQucHJlc3Nkb3duJyk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uRW5kOiBmdW5jdGlvbiAoZXYsIHBvaW50ZXIpIHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXYsICckbWQucHJlc3N1cCcpO1xuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICAvKlxuICAgICAgICogVGhlIGhvbGQgaGFuZGxlciBkaXNwYXRjaGVzIGFuIGV2ZW50IGlmIHRoZSB1c2VyIGtlZXBzIHRoZWlyIGZpbmdlciB3aXRoaW5cbiAgICAgICAqIHRoZSBzYW1lIDxtYXhEaXN0YW5jZT4gYXJlYSBmb3IgPGRlbGF5PiBtcy5cbiAgICAgICAqIFRoZSBob2xkIGhhbmRsZXIgd2lsbCBvbmx5IHJ1biBpZiBhIHBhcmVudCBvZiB0aGUgdG91Y2ggdGFyZ2V0IGlzIHJlZ2lzdGVyZWRcbiAgICAgICAqIHRvIGxpc3RlbiBmb3IgaG9sZCBldmVudHMgdGhyb3VnaCAkbWRHZXN0dXJlLnJlZ2lzdGVyKClcbiAgICAgICAqL1xuICAgICAgLmhhbmRsZXIoJ2hvbGQnLCB7XG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBtYXhEaXN0YW5jZTogNixcbiAgICAgICAgICBkZWxheTogNTAwXG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRoaXMuc3RhdGUudGltZW91dCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uU3RhcnQ6IGZ1bmN0aW9uIChldiwgcG9pbnRlcikge1xuICAgICAgICAgIC8vIEZvciBob2xkLCByZXF1aXJlIGEgcGFyZW50IHRvIGJlIHJlZ2lzdGVyZWQgd2l0aCAkbWRHZXN0dXJlLnJlZ2lzdGVyKClcbiAgICAgICAgICAvLyBCZWNhdXNlIHdlIHByZXZlbnQgc2Nyb2xsIGV2ZW50cywgdGhpcyBpcyBuZWNlc3NhcnkuXG4gICAgICAgICAgaWYgKCF0aGlzLnN0YXRlLnJlZ2lzdGVyZWRQYXJlbnQpIHJldHVybiB0aGlzLmNhbmNlbCgpO1xuXG4gICAgICAgICAgdGhpcy5zdGF0ZS5wb3MgPSB7eDogcG9pbnRlci54LCB5OiBwb2ludGVyLnl9O1xuICAgICAgICAgIHRoaXMuc3RhdGUudGltZW91dCA9ICR0aW1lb3V0KGFuZ3VsYXIuYmluZCh0aGlzLCBmdW5jdGlvbiBob2xkRGVsYXlGbigpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldiwgJyRtZC5ob2xkJyk7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbCgpOyAvL3dlJ3JlIGRvbmUhXG4gICAgICAgICAgfSksIHRoaXMuc3RhdGUub3B0aW9ucy5kZWxheSwgZmFsc2UpO1xuICAgICAgICB9LFxuICAgICAgICBvbk1vdmU6IGZ1bmN0aW9uIChldiwgcG9pbnRlcikge1xuICAgICAgICAgIC8vIERvbid0IHNjcm9sbCB3aGlsZSB3YWl0aW5nIGZvciBob2xkLlxuICAgICAgICAgIC8vIElmIHdlIGRvbid0IHByZXZlbnREZWZhdWx0IHRvdWNobW92ZSBldmVudHMgaGVyZSwgQW5kcm9pZCB3aWxsIGFzc3VtZSB3ZSBkb24ndFxuICAgICAgICAgIC8vIHdhbnQgdG8gbGlzdGVuIHRvIGFueW1vcmUgdG91Y2ggZXZlbnRzLiBJdCB3aWxsIHN0YXJ0IHNjcm9sbGluZyBhbmQgc3RvcCBzZW5kaW5nXG4gICAgICAgICAgLy8gdG91Y2htb3ZlIGV2ZW50cy5cbiAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgLy8gSWYgdGhlIHVzZXIgbW92ZXMgZ3JlYXRlciB0aGFuIDxtYXhEaXN0YW5jZT4gcGl4ZWxzLCBzdG9wIHRoZSBob2xkIHRpbWVyXG4gICAgICAgICAgLy8gc2V0IGluIG9uU3RhcnRcbiAgICAgICAgICB2YXIgZHggPSB0aGlzLnN0YXRlLnBvcy54IC0gcG9pbnRlci54O1xuICAgICAgICAgIHZhciBkeSA9IHRoaXMuc3RhdGUucG9zLnkgLSBwb2ludGVyLnk7XG4gICAgICAgICAgaWYgKE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSkgPiB0aGlzLm9wdGlvbnMubWF4RGlzdGFuY2UpIHtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkVuZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoaXMub25DYW5jZWwoKTtcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgLypcbiAgICAgICAqIFRoZSBkcmFnIGhhbmRsZXIgZGlzcGF0Y2hlcyBhIGRyYWcgZXZlbnQgaWYgdGhlIHVzZXIgaG9sZHMgYW5kIG1vdmVzIGhpcyBmaW5nZXIgZ3JlYXRlciB0aGFuXG4gICAgICAgKiA8bWluRGlzdGFuY2U+IHB4IGluIHRoZSB4IG9yIHkgZGlyZWN0aW9uLCBkZXBlbmRpbmcgb24gb3B0aW9ucy5ob3Jpem9udGFsLlxuICAgICAgICogVGhlIGRyYWcgd2lsbCBiZSBjYW5jZWxsZWQgaWYgdGhlIHVzZXIgbW92ZXMgaGlzIGZpbmdlciBncmVhdGVyIHRoYW4gPG1pbkRpc3RhbmNlPio8Y2FuY2VsTXVsdGlwbGllcj4gaW5cbiAgICAgICAqIHRoZSBwZXJwaW5kaWN1bGFyIGRpcmVjdGlvbi4gRWcgaWYgdGhlIGRyYWcgaXMgaG9yaXpvbnRhbCBhbmQgdGhlIHVzZXIgbW92ZXMgaGlzIGZpbmdlciA8bWluRGlzdGFuY2U+KjxjYW5jZWxNdWx0aXBsaWVyPlxuICAgICAgICogcGl4ZWxzIHZlcnRpY2FsbHksIHRoaXMgaGFuZGxlciB3b24ndCBjb25zaWRlciB0aGUgbW92ZSBwYXJ0IG9mIGEgZHJhZy5cbiAgICAgICAqL1xuICAgICAgLmhhbmRsZXIoJ2RyYWcnLCB7XG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBtaW5EaXN0YW5jZTogNixcbiAgICAgICAgICBob3Jpem9udGFsOiB0cnVlLFxuICAgICAgICAgIGNhbmNlbE11bHRpcGxpZXI6IDEuNVxuICAgICAgICB9LFxuICAgICAgICBvblN0YXJ0OiBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAvLyBGb3IgZHJhZywgcmVxdWlyZSBhIHBhcmVudCB0byBiZSByZWdpc3RlcmVkIHdpdGggJG1kR2VzdHVyZS5yZWdpc3RlcigpXG4gICAgICAgICAgaWYgKCF0aGlzLnN0YXRlLnJlZ2lzdGVyZWRQYXJlbnQpIHRoaXMuY2FuY2VsKCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uTW92ZTogZnVuY3Rpb24gKGV2LCBwb2ludGVyKSB7XG4gICAgICAgICAgdmFyIHNob3VsZFN0YXJ0RHJhZywgc2hvdWxkQ2FuY2VsO1xuICAgICAgICAgIC8vIERvbid0IHNjcm9sbCB3aGlsZSBkZWNpZGluZyBpZiB0aGlzIHRvdWNobW92ZSBxdWFsaWZpZXMgYXMgYSBkcmFnIGV2ZW50LlxuICAgICAgICAgIC8vIElmIHdlIGRvbid0IHByZXZlbnREZWZhdWx0IHRvdWNobW92ZSBldmVudHMgaGVyZSwgQW5kcm9pZCB3aWxsIGFzc3VtZSB3ZSBkb24ndFxuICAgICAgICAgIC8vIHdhbnQgdG8gbGlzdGVuIHRvIGFueW1vcmUgdG91Y2ggZXZlbnRzLiBJdCB3aWxsIHN0YXJ0IHNjcm9sbGluZyBhbmQgc3RvcCBzZW5kaW5nXG4gICAgICAgICAgLy8gdG91Y2htb3ZlIGV2ZW50cy5cbiAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmRyYWdQb2ludGVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5vcHRpb25zLmhvcml6b250YWwpIHtcbiAgICAgICAgICAgICAgc2hvdWxkU3RhcnREcmFnID0gTWF0aC5hYnMocG9pbnRlci5kaXN0YW5jZVgpID4gdGhpcy5zdGF0ZS5vcHRpb25zLm1pbkRpc3RhbmNlO1xuICAgICAgICAgICAgICBzaG91bGRDYW5jZWwgPSBNYXRoLmFicyhwb2ludGVyLmRpc3RhbmNlWSkgPiB0aGlzLnN0YXRlLm9wdGlvbnMubWluRGlzdGFuY2UgKiB0aGlzLnN0YXRlLm9wdGlvbnMuY2FuY2VsTXVsdGlwbGllcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNob3VsZFN0YXJ0RHJhZyA9IE1hdGguYWJzKHBvaW50ZXIuZGlzdGFuY2VZKSA+IHRoaXMuc3RhdGUub3B0aW9ucy5taW5EaXN0YW5jZTtcbiAgICAgICAgICAgICAgc2hvdWxkQ2FuY2VsID0gTWF0aC5hYnMocG9pbnRlci5kaXN0YW5jZVgpID4gdGhpcy5zdGF0ZS5vcHRpb25zLm1pbkRpc3RhbmNlICogdGhpcy5zdGF0ZS5vcHRpb25zLmNhbmNlbE11bHRpcGxpZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzaG91bGRTdGFydERyYWcpIHtcbiAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHBvaW50ZXIgcmVwcmVzZW50aW5nIHRoaXMgZHJhZywgc3RhcnRpbmcgYXQgdGhpcyBwb2ludCB3aGVyZSB0aGUgZHJhZyBzdGFydGVkLlxuICAgICAgICAgICAgICB0aGlzLnN0YXRlLmRyYWdQb2ludGVyID0gbWFrZVN0YXJ0UG9pbnRlcihldik7XG4gICAgICAgICAgICAgIHVwZGF0ZVBvaW50ZXJTdGF0ZShldiwgdGhpcy5zdGF0ZS5kcmFnUG9pbnRlcik7XG4gICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldiwgJyRtZC5kcmFnc3RhcnQnLCB0aGlzLnN0YXRlLmRyYWdQb2ludGVyKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmIChzaG91bGRDYW5jZWwpIHtcbiAgICAgICAgICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaERyYWdNb3ZlKGV2KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC8vIE9ubHkgZGlzcGF0Y2ggZHJhZ21vdmUgZXZlbnRzIGV2ZXJ5IGZyYW1lOyBhbnkgbW9yZSBpcyB1bm5lY2Vzc3JheVxuICAgICAgICBkaXNwYXRjaERyYWdNb3ZlOiAkJHJBRi50aHJvdHRsZShmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGRyYWcgZGlkbid0IHN0b3Agd2hpbGUgd2FpdGluZyBmb3IgdGhlIG5leHQgZnJhbWVcbiAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc1J1bm5pbmcpIHtcbiAgICAgICAgICAgIHVwZGF0ZVBvaW50ZXJTdGF0ZShldiwgdGhpcy5zdGF0ZS5kcmFnUG9pbnRlcik7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXYsICckbWQuZHJhZycsIHRoaXMuc3RhdGUuZHJhZ1BvaW50ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIG9uRW5kOiBmdW5jdGlvbiAoZXYsIHBvaW50ZXIpIHtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5kcmFnUG9pbnRlcikge1xuICAgICAgICAgICAgdXBkYXRlUG9pbnRlclN0YXRlKGV2LCB0aGlzLnN0YXRlLmRyYWdQb2ludGVyKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldiwgJyRtZC5kcmFnZW5kJywgdGhpcy5zdGF0ZS5kcmFnUG9pbnRlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICAvKlxuICAgICAgICogVGhlIHN3aXBlIGhhbmRsZXIgd2lsbCBkaXNwYXRjaCBhIHN3aXBlIGV2ZW50IGlmLCBvbiB0aGUgZW5kIG9mIGEgdG91Y2gsXG4gICAgICAgKiB0aGUgdmVsb2NpdHkgYW5kIGRpc3RhbmNlIHdlcmUgaGlnaCBlbm91Z2guXG4gICAgICAgKiBUT0RPOiBhZGQgdmVydGljYWwgc3dpcGluZyB3aXRoIGEgYGhvcml6b250YWxgIG9wdGlvbiBzaW1pbGFyIHRvIHRoZSBkcmFnIGhhbmRsZXIuXG4gICAgICAgKi9cbiAgICAgIC5oYW5kbGVyKCdzd2lwZScsIHtcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIG1pblZlbG9jaXR5OiAwLjY1LFxuICAgICAgICAgIG1pbkRpc3RhbmNlOiAxMFxuICAgICAgICB9LFxuICAgICAgICBvbkVuZDogZnVuY3Rpb24gKGV2LCBwb2ludGVyKSB7XG4gICAgICAgICAgaWYgKE1hdGguYWJzKHBvaW50ZXIudmVsb2NpdHlYKSA+IHRoaXMuc3RhdGUub3B0aW9ucy5taW5WZWxvY2l0eSAmJlxuICAgICAgICAgICAgTWF0aC5hYnMocG9pbnRlci5kaXN0YW5jZVgpID4gdGhpcy5zdGF0ZS5vcHRpb25zLm1pbkRpc3RhbmNlKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnRUeXBlID0gcG9pbnRlci5kaXJlY3Rpb25YID09ICdsZWZ0JyA/ICckbWQuc3dpcGVsZWZ0JyA6ICckbWQuc3dpcGVyaWdodCc7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXYsIGV2ZW50VHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICB9XG4gIE1kR2VzdHVyZS4kaW5qZWN0ID0gW1wiJCRNZEdlc3R1cmVIYW5kbGVyXCIsIFwiJCRyQUZcIiwgXCIkdGltZW91dFwiXTtcblxuICAvKipcbiAgICogTWRHZXN0dXJlSGFuZGxlclxuICAgKiBBIEdlc3R1cmVIYW5kbGVyIGlzIGFuIG9iamVjdCB3aGljaCBpcyBhYmxlIHRvIGRpc3BhdGNoIGN1c3RvbSBkb20gZXZlbnRzXG4gICAqIGJhc2VkIG9uIG5hdGl2ZSBkb20ge3RvdWNoLHBvaW50ZXIsbW91c2V9e3N0YXJ0LG1vdmUsZW5kfSBldmVudHMuXG4gICAqXG4gICAqIEEgZ2VzdHVyZSB3aWxsIG1hbmFnZSBpdHMgbGlmZWN5Y2xlIHRocm91Z2ggdGhlIHN0YXJ0LG1vdmUsZW5kLCBhbmQgY2FuY2VsXG4gICAqIGZ1bmN0aW9ucywgd2hpY2ggYXJlIGNhbGxlZCBieSBuYXRpdmUgZG9tIGV2ZW50cy5cbiAgICpcbiAgICogQSBnZXN0dXJlIGhhcyB0aGUgY29uY2VwdCBvZiAnb3B0aW9ucycgKGVnIGEgc3dpcGUncyByZXF1aXJlZCB2ZWxvY2l0eSksIHdoaWNoIGNhbiBiZVxuICAgKiBvdmVycmlkZGVuIGJ5IGVsZW1lbnRzIHJlZ2lzdGVyaW5nIHRocm91Z2ggJG1kR2VzdHVyZS5yZWdpc3RlcigpXG4gICAqL1xuICBmdW5jdGlvbiBHZXN0dXJlSGFuZGxlciAobmFtZSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5zdGF0ZSA9IHt9O1xuICB9XG5cbiAgZnVuY3Rpb24gTWRHZXN0dXJlSGFuZGxlcigpIHtcbiAgICB2YXIgaGFzSlF1ZXJ5ID0gICh0eXBlb2Ygd2luZG93LmpRdWVyeSAhPT0gJ3VuZGVmaW5lZCcpICYmIChhbmd1bGFyLmVsZW1lbnQgPT09IHdpbmRvdy5qUXVlcnkpO1xuXG4gICAgR2VzdHVyZUhhbmRsZXIucHJvdG90eXBlID0ge1xuICAgICAgb3B0aW9uczoge30sXG4gICAgICAvLyBqUXVlcnkgbGlzdGVuZXJzIGRvbid0IHdvcmsgd2l0aCBjdXN0b20gRE9NRXZlbnRzLCBzbyB3ZSBoYXZlIHRvIGRpc3BhdGNoIGV2ZW50c1xuICAgICAgLy8gZGlmZmVyZW50bHkgd2hlbiBqUXVlcnkgaXMgbG9hZGVkXG4gICAgICBkaXNwYXRjaEV2ZW50OiBoYXNKUXVlcnkgPyAgalF1ZXJ5RGlzcGF0Y2hFdmVudCA6IG5hdGl2ZURpc3BhdGNoRXZlbnQsXG5cbiAgICAgIC8vIFRoZXNlIGFyZSBvdmVycmlkZGVuIGJ5IHRoZSByZWdpc3RlcmVkIGhhbmRsZXJcbiAgICAgIG9uU3RhcnQ6IGFuZ3VsYXIubm9vcCxcbiAgICAgIG9uTW92ZTogYW5ndWxhci5ub29wLFxuICAgICAgb25FbmQ6IGFuZ3VsYXIubm9vcCxcbiAgICAgIG9uQ2FuY2VsOiBhbmd1bGFyLm5vb3AsXG5cbiAgICAgIC8vIG9uU3RhcnQgc2V0cyB1cCBhIG5ldyBzdGF0ZSBmb3IgdGhlIGhhbmRsZXIsIHdoaWNoIGluY2x1ZGVzIG9wdGlvbnMgZnJvbSB0aGVcbiAgICAgIC8vIG5lYXJlc3QgcmVnaXN0ZXJlZCBwYXJlbnQgZWxlbWVudCBvZiBldi50YXJnZXQuXG4gICAgICBzdGFydDogZnVuY3Rpb24gKGV2LCBwb2ludGVyKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmlzUnVubmluZykgcmV0dXJuO1xuICAgICAgICB2YXIgcGFyZW50VGFyZ2V0ID0gdGhpcy5nZXROZWFyZXN0UGFyZW50KGV2LnRhcmdldCk7XG4gICAgICAgIC8vIEdldCB0aGUgb3B0aW9ucyBmcm9tIHRoZSBuZWFyZXN0IHJlZ2lzdGVyZWQgcGFyZW50XG4gICAgICAgIHZhciBwYXJlbnRUYXJnZXRPcHRpb25zID0gcGFyZW50VGFyZ2V0ICYmIHBhcmVudFRhcmdldC4kbWRHZXN0dXJlW3RoaXMubmFtZV0gfHwge307XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICBpc1J1bm5pbmc6IHRydWUsXG4gICAgICAgICAgLy8gT3ZlcnJpZGUgdGhlIGRlZmF1bHQgb3B0aW9ucyB3aXRoIHRoZSBuZWFyZXN0IHJlZ2lzdGVyZWQgcGFyZW50J3Mgb3B0aW9uc1xuICAgICAgICAgIG9wdGlvbnM6IGFuZ3VsYXIuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIHBhcmVudFRhcmdldE9wdGlvbnMpLFxuICAgICAgICAgIC8vIFBhc3MgaW4gdGhlIHJlZ2lzdGVyZWQgcGFyZW50IG5vZGUgdG8gdGhlIHN0YXRlIHNvIHRoZSBvblN0YXJ0IGxpc3RlbmVyIGNhbiB1c2VcbiAgICAgICAgICByZWdpc3RlcmVkUGFyZW50OiBwYXJlbnRUYXJnZXRcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblN0YXJ0KGV2LCBwb2ludGVyKTtcbiAgICAgIH0sXG4gICAgICBtb3ZlOiBmdW5jdGlvbiAoZXYsIHBvaW50ZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmlzUnVubmluZykgcmV0dXJuO1xuICAgICAgICB0aGlzLm9uTW92ZShldiwgcG9pbnRlcik7XG4gICAgICB9LFxuICAgICAgZW5kOiBmdW5jdGlvbiAoZXYsIHBvaW50ZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmlzUnVubmluZykgcmV0dXJuO1xuICAgICAgICB0aGlzLm9uRW5kKGV2LCBwb2ludGVyKTtcbiAgICAgICAgdGhpcy5zdGF0ZS5pc1J1bm5pbmcgPSBmYWxzZTtcbiAgICAgIH0sXG4gICAgICBjYW5jZWw6IGZ1bmN0aW9uIChldiwgcG9pbnRlcikge1xuICAgICAgICB0aGlzLm9uQ2FuY2VsKGV2LCBwb2ludGVyKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xuICAgICAgfSxcblxuICAgICAgLy8gRmluZCBhbmQgcmV0dXJuIHRoZSBuZWFyZXN0IHBhcmVudCBlbGVtZW50IHRoYXQgaGFzIGJlZW4gcmVnaXN0ZXJlZCB0b1xuICAgICAgLy8gbGlzdGVuIGZvciB0aGlzIGhhbmRsZXIgdmlhICRtZEdlc3R1cmUucmVnaXN0ZXIoZWxlbWVudCwgJ2hhbmRsZXJOYW1lJykuXG4gICAgICBnZXROZWFyZXN0UGFyZW50OiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICB2YXIgY3VycmVudCA9IG5vZGU7XG4gICAgICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICAgICAgaWYgKChjdXJyZW50LiRtZEdlc3R1cmUgfHwge30pW3RoaXMubmFtZV0pIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSxcblxuICAgICAgLy8gQ2FsbGVkIGZyb20gJG1kR2VzdHVyZS5yZWdpc3RlciB3aGVuIGFuIGVsZW1lbnQgcmVpZ3N0ZXJzIGl0c2VsZiB3aXRoIGEgaGFuZGxlci5cbiAgICAgIC8vIFN0b3JlIHRoZSBvcHRpb25zIHRoZSB1c2VyIGdhdmUgb24gdGhlIERPTUVsZW1lbnQgaXRzZWxmLiBUaGVzZSBvcHRpb25zIHdpbGxcbiAgICAgIC8vIGJlIHJldHJpZXZlZCB3aXRoIGdldE5lYXJlc3RQYXJlbnQgd2hlbiB0aGUgaGFuZGxlciBzdGFydHMuXG4gICAgICByZWdpc3RlckVsZW1lbnQ6IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgZWxlbWVudFswXS4kbWRHZXN0dXJlID0gZWxlbWVudFswXS4kbWRHZXN0dXJlIHx8IHt9O1xuICAgICAgICBlbGVtZW50WzBdLiRtZEdlc3R1cmVbdGhpcy5uYW1lXSA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIGVsZW1lbnQub24oJyRkZXN0cm95Jywgb25EZXN0cm95KTtcblxuICAgICAgICByZXR1cm4gb25EZXN0cm95O1xuXG4gICAgICAgIGZ1bmN0aW9uIG9uRGVzdHJveSgpIHtcbiAgICAgICAgICBkZWxldGUgZWxlbWVudFswXS4kbWRHZXN0dXJlW3NlbGYubmFtZV07XG4gICAgICAgICAgZWxlbWVudC5vZmYoJyRkZXN0cm95Jywgb25EZXN0cm95KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gR2VzdHVyZUhhbmRsZXI7XG5cbiAgICAvKlxuICAgICAqIERpc3BhdGNoIGFuIGV2ZW50IHdpdGggalF1ZXJ5XG4gICAgICogVE9ETzogTWFrZSBzdXJlIHRoaXMgc2VuZHMgYnViYmxpbmcgZXZlbnRzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3JjRXZlbnQgdGhlIG9yaWdpbmFsIERPTSB0b3VjaCBldmVudCB0aGF0IHN0YXJ0ZWQgdGhpcy5cbiAgICAgKiBAcGFyYW0gZXZlbnRUeXBlIHRoZSBuYW1lIG9mIHRoZSBjdXN0b20gZXZlbnQgdG8gc2VuZCAoZWcgJ2NsaWNrJyBvciAnJG1kLmRyYWcnKVxuICAgICAqIEBwYXJhbSBldmVudFBvaW50ZXIgdGhlIHBvaW50ZXIgb2JqZWN0IHRoYXQgbWF0Y2hlcyB0aGlzIGV2ZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGpRdWVyeURpc3BhdGNoRXZlbnQoc3JjRXZlbnQsIGV2ZW50VHlwZSwgZXZlbnRQb2ludGVyKSB7XG4gICAgICBldmVudFBvaW50ZXIgPSBldmVudFBvaW50ZXIgfHwgcG9pbnRlcjtcbiAgICAgIHZhciBldmVudE9iaiA9IG5ldyBhbmd1bGFyLmVsZW1lbnQuRXZlbnQoZXZlbnRUeXBlKTtcblxuICAgICAgZXZlbnRPYmouJG1hdGVyaWFsID0gdHJ1ZTtcbiAgICAgIGV2ZW50T2JqLnBvaW50ZXIgPSBldmVudFBvaW50ZXI7XG4gICAgICBldmVudE9iai5zcmNFdmVudCA9IHNyY0V2ZW50O1xuXG4gICAgICBhbmd1bGFyLmV4dGVuZChldmVudE9iaiwge1xuICAgICAgICBjbGllbnRYOiBldmVudFBvaW50ZXIueCxcbiAgICAgICAgY2xpZW50WTogZXZlbnRQb2ludGVyLnksXG4gICAgICAgIHNjcmVlblg6IGV2ZW50UG9pbnRlci54LFxuICAgICAgICBzY3JlZW5ZOiBldmVudFBvaW50ZXIueSxcbiAgICAgICAgcGFnZVg6IGV2ZW50UG9pbnRlci54LFxuICAgICAgICBwYWdlWTogZXZlbnRQb2ludGVyLnksXG4gICAgICAgIGN0cmxLZXk6IHNyY0V2ZW50LmN0cmxLZXksXG4gICAgICAgIGFsdEtleTogc3JjRXZlbnQuYWx0S2V5LFxuICAgICAgICBzaGlmdEtleTogc3JjRXZlbnQuc2hpZnRLZXksXG4gICAgICAgIG1ldGFLZXk6IHNyY0V2ZW50Lm1ldGFLZXlcbiAgICAgIH0pO1xuICAgICAgYW5ndWxhci5lbGVtZW50KGV2ZW50UG9pbnRlci50YXJnZXQpLnRyaWdnZXIoZXZlbnRPYmopO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogTk9URTogbmF0aXZlRGlzcGF0Y2hFdmVudCBpcyB2ZXJ5IHBlcmZvcm1hbmNlIHNlbnNpdGl2ZS5cbiAgICAgKiBAcGFyYW0gc3JjRXZlbnQgdGhlIG9yaWdpbmFsIERPTSB0b3VjaCBldmVudCB0aGF0IHN0YXJ0ZWQgdGhpcy5cbiAgICAgKiBAcGFyYW0gZXZlbnRUeXBlIHRoZSBuYW1lIG9mIHRoZSBjdXN0b20gZXZlbnQgdG8gc2VuZCAoZWcgJ2NsaWNrJyBvciAnJG1kLmRyYWcnKVxuICAgICAqIEBwYXJhbSBldmVudFBvaW50ZXIgdGhlIHBvaW50ZXIgb2JqZWN0IHRoYXQgbWF0Y2hlcyB0aGlzIGV2ZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5hdGl2ZURpc3BhdGNoRXZlbnQoc3JjRXZlbnQsIGV2ZW50VHlwZSwgZXZlbnRQb2ludGVyKSB7XG4gICAgICBldmVudFBvaW50ZXIgPSBldmVudFBvaW50ZXIgfHwgcG9pbnRlcjtcbiAgICAgIHZhciBldmVudE9iajtcblxuICAgICAgaWYgKGV2ZW50VHlwZSA9PT0gJ2NsaWNrJykge1xuICAgICAgICBldmVudE9iaiA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpO1xuICAgICAgICBldmVudE9iai5pbml0TW91c2VFdmVudChcbiAgICAgICAgICAnY2xpY2snLCB0cnVlLCB0cnVlLCB3aW5kb3csIHNyY0V2ZW50LmRldGFpbCxcbiAgICAgICAgICBldmVudFBvaW50ZXIueCwgZXZlbnRQb2ludGVyLnksIGV2ZW50UG9pbnRlci54LCBldmVudFBvaW50ZXIueSxcbiAgICAgICAgICBzcmNFdmVudC5jdHJsS2V5LCBzcmNFdmVudC5hbHRLZXksIHNyY0V2ZW50LnNoaWZ0S2V5LCBzcmNFdmVudC5tZXRhS2V5LFxuICAgICAgICAgIHNyY0V2ZW50LmJ1dHRvbiwgc3JjRXZlbnQucmVsYXRlZFRhcmdldCB8fCBudWxsXG4gICAgICAgICk7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV2ZW50T2JqID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgICAgIGV2ZW50T2JqLmluaXRDdXN0b21FdmVudChldmVudFR5cGUsIHRydWUsIHRydWUsIHt9KTtcbiAgICAgIH1cbiAgICAgIGV2ZW50T2JqLiRtYXRlcmlhbCA9IHRydWU7XG4gICAgICBldmVudE9iai5wb2ludGVyID0gZXZlbnRQb2ludGVyO1xuICAgICAgZXZlbnRPYmouc3JjRXZlbnQgPSBzcmNFdmVudDtcbiAgICAgIGV2ZW50UG9pbnRlci50YXJnZXQuZGlzcGF0Y2hFdmVudChldmVudE9iaik7XG4gICAgfVxuXG4gIH1cblxuICAvKipcbiAgICogQXR0YWNoIEdlc3R1cmVzOiBob29rIGRvY3VtZW50IGFuZCBjaGVjayBzaG91bGRIaWphY2sgY2xpY2tzXG4gICAqIEBuZ0luamVjdFxuICAgKi9cbiAgZnVuY3Rpb24gYXR0YWNoVG9Eb2N1bWVudCggJG1kR2VzdHVyZSwgJCRNZEdlc3R1cmVIYW5kbGVyICkge1xuXG4gICAgLy8gUG9seWZpbGwgZG9jdW1lbnQuY29udGFpbnMgZm9yIElFMTEuXG4gICAgLy8gVE9ETzogbW92ZSB0byB1dGlsXG4gICAgZG9jdW1lbnQuY29udGFpbnMgfHwgKGRvY3VtZW50LmNvbnRhaW5zID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKG5vZGUpO1xuICAgIH0pO1xuXG4gICAgaWYgKCFpc0luaXRpYWxpemVkICYmICRtZEdlc3R1cmUuaXNIaWphY2tpbmdDbGlja3MgKSB7XG4gICAgICAvKlxuICAgICAgICogSWYgaGlqYWNrIGNsaWNrcyBpcyB0cnVlLCB3ZSBwcmV2ZW50RGVmYXVsdCBhbnkgY2xpY2sgdGhhdCB3YXNuJ3RcbiAgICAgICAqIHNlbnQgYnkgbmdNYXRlcmlhbC4gVGhpcyBpcyBiZWNhdXNlIG9uIG9sZGVyIEFuZHJvaWQgJiBpT1MsIGEgZmFsc2UsIG9yICdnaG9zdCcsXG4gICAgICAgKiBjbGljayBldmVudCB3aWxsIGJlIHNlbnQgfjQwMG1zIGFmdGVyIGEgdG91Y2hlbmQgZXZlbnQgaGFwcGVucy5cbiAgICAgICAqIFRoZSBvbmx5IHdheSB0byBrbm93IGlmIHRoaXMgY2xpY2sgaXMgcmVhbCBpcyB0byBwcmV2ZW50IGFueSBub3JtYWxcbiAgICAgICAqIGNsaWNrIGV2ZW50cywgYW5kIGFkZCBhIGZsYWcgdG8gZXZlbnRzIHNlbnQgYnkgbWF0ZXJpYWwgc28gd2Uga25vdyBub3QgdG8gcHJldmVudCB0aG9zZS5cbiAgICAgICAqIFxuICAgICAgICogVHdvIGV4Y2VwdGlvbnMgdG8gY2xpY2sgZXZlbnRzIHRoYXQgc2hvdWxkIGJlIHByZXZlbnRlZCBhcmU6XG4gICAgICAgKiAgLSBjbGljayBldmVudHMgc2VudCBieSB0aGUga2V5Ym9hcmQgKGVnIGZvcm0gc3VibWl0KVxuICAgICAgICogIC0gZXZlbnRzIHRoYXQgb3JpZ2luYXRlIGZyb20gYW4gSW9uaWMgYXBwXG4gICAgICAgKi9cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gY2xpY2tIaWphY2tlcihldikge1xuICAgICAgICB2YXIgaXNLZXlDbGljayA9IGV2LmNsaWVudFggPT09IDAgJiYgZXYuY2xpZW50WSA9PT0gMDtcbiAgICAgICAgaWYgKCFpc0tleUNsaWNrICYmICFldi4kbWF0ZXJpYWwgJiYgIWV2LmlzSW9uaWNUYXApIHtcbiAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9LCB0cnVlKTtcbiAgICAgIFxuICAgICAgaXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gTGlzdGVuIHRvIGFsbCBldmVudHMgdG8gY292ZXIgYWxsIHBsYXRmb3Jtcy5cbiAgICB2YXIgU1RBUlRfRVZFTlRTID0gJ21vdXNlZG93biB0b3VjaHN0YXJ0IHBvaW50ZXJkb3duJztcbiAgICB2YXIgTU9WRV9FVkVOVFMgPSAnbW91c2Vtb3ZlIHRvdWNobW92ZSBwb2ludGVybW92ZSc7XG4gICAgdmFyIEVORF9FVkVOVFMgPSAnbW91c2V1cCBtb3VzZWxlYXZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsIHBvaW50ZXJ1cCBwb2ludGVyY2FuY2VsJztcblxuICAgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudClcbiAgICAgIC5vbihTVEFSVF9FVkVOVFMsIGdlc3R1cmVTdGFydClcbiAgICAgIC5vbihNT1ZFX0VWRU5UUywgZ2VzdHVyZU1vdmUpXG4gICAgICAub24oRU5EX0VWRU5UUywgZ2VzdHVyZUVuZClcbiAgICAgIC8vIEZvciB0ZXN0aW5nXG4gICAgICAub24oJyQkbWRHZXN0dXJlUmVzZXQnLCBmdW5jdGlvbiBnZXN0dXJlQ2xlYXJDYWNoZSAoKSB7XG4gICAgICAgIGxhc3RQb2ludGVyID0gcG9pbnRlciA9IG51bGw7XG4gICAgICB9KTtcblxuICAgIC8qXG4gICAgICogV2hlbiBhIERPTSBldmVudCBoYXBwZW5zLCBydW4gYWxsIHJlZ2lzdGVyZWQgZ2VzdHVyZSBoYW5kbGVycycgbGlmZWN5Y2xlXG4gICAgICogbWV0aG9kcyB3aGljaCBtYXRjaCB0aGUgRE9NIGV2ZW50LlxuICAgICAqIEVnIHdoZW4gYSAndG91Y2hzdGFydCcgZXZlbnQgaGFwcGVucywgcnVuSGFuZGxlcnMoJ3N0YXJ0Jykgd2lsbCBjYWxsIGFuZFxuICAgICAqIHJ1biBgaGFuZGxlci5jYW5jZWwoKWAgYW5kIGBoYW5kbGVyLnN0YXJ0KClgIG9uIGFsbCByZWdpc3RlcmVkIGhhbmRsZXJzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJ1bkhhbmRsZXJzKGhhbmRsZXJFdmVudCwgZXZlbnQpIHtcbiAgICAgIHZhciBoYW5kbGVyO1xuICAgICAgZm9yICh2YXIgbmFtZSBpbiBIQU5ETEVSUykge1xuICAgICAgICBoYW5kbGVyID0gSEFORExFUlNbbmFtZV07XG4gICAgICAgIGlmKCBoYW5kbGVyIGluc3RhbmNlb2YgJCRNZEdlc3R1cmVIYW5kbGVyICkge1xuXG4gICAgICAgICAgaWYgKGhhbmRsZXJFdmVudCA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICAgICAgLy8gUnVuIGNhbmNlbCB0byByZXNldCBhbnkgaGFuZGxlcnMnIHN0YXRlXG4gICAgICAgICAgICBoYW5kbGVyLmNhbmNlbCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoYW5kbGVyW2hhbmRsZXJFdmVudF0oZXZlbnQsIHBvaW50ZXIpO1xuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKlxuICAgICAqIGdlc3R1cmVTdGFydCB2ZXRzIGlmIGEgc3RhcnQgZXZlbnQgaXMgbGVnaXRpbWF0ZSAoYW5kIG5vdCBwYXJ0IG9mIGEgJ2dob3N0IGNsaWNrJyBmcm9tIGlPUy9BbmRyb2lkKVxuICAgICAqIElmIGl0IGlzIGxlZ2l0aW1hdGUsIHdlIGluaXRpYXRlIHRoZSBwb2ludGVyIHN0YXRlIGFuZCBtYXJrIHRoZSBjdXJyZW50IHBvaW50ZXIncyB0eXBlXG4gICAgICogRm9yIGV4YW1wbGUsIGZvciBhIHRvdWNoc3RhcnQgZXZlbnQsIG1hcmsgdGhlIGN1cnJlbnQgcG9pbnRlciBhcyBhICd0b3VjaCcgcG9pbnRlciwgc28gbW91c2UgZXZlbnRzXG4gICAgICogd29uJ3QgZWZmZWN0IGl0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdlc3R1cmVTdGFydChldikge1xuICAgICAgLy8gSWYgd2UncmUgYWxyZWFkeSB0b3VjaGVkIGRvd24sIGFib3J0XG4gICAgICBpZiAocG9pbnRlcikgcmV0dXJuO1xuXG4gICAgICB2YXIgbm93ID0gK0RhdGUubm93KCk7XG5cbiAgICAgIC8vIGlPUyAmIG9sZCBhbmRyb2lkIGJ1ZzogYWZ0ZXIgYSB0b3VjaCBldmVudCwgYSBjbGljayBldmVudCBpcyBzZW50IDM1MCBtcyBsYXRlci5cbiAgICAgIC8vIElmIDw0MDBtcyBoYXZlIHBhc3NlZCwgZG9uJ3QgYWxsb3cgYW4gZXZlbnQgb2YgYSBkaWZmZXJlbnQgdHlwZSB0aGFuIHRoZSBwcmV2aW91cyBldmVudFxuICAgICAgaWYgKGxhc3RQb2ludGVyICYmICF0eXBlc01hdGNoKGV2LCBsYXN0UG9pbnRlcikgJiYgKG5vdyAtIGxhc3RQb2ludGVyLmVuZFRpbWUgPCAxNTAwKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHBvaW50ZXIgPSBtYWtlU3RhcnRQb2ludGVyKGV2KTtcblxuICAgICAgcnVuSGFuZGxlcnMoJ3N0YXJ0JywgZXYpO1xuICAgIH1cbiAgICAvKlxuICAgICAqIElmIGEgbW92ZSBldmVudCBoYXBwZW5zIG9mIHRoZSByaWdodCB0eXBlLCB1cGRhdGUgdGhlIHBvaW50ZXIgYW5kIHJ1biBhbGwgdGhlIG1vdmUgaGFuZGxlcnMuXG4gICAgICogXCJvZiB0aGUgcmlnaHQgdHlwZVwiOiBpZiBhIG1vdXNlbW92ZSBoYXBwZW5zIGJ1dCBvdXIgcG9pbnRlciBzdGFydGVkIHdpdGggYSB0b3VjaCBldmVudCwgZG8gbm90aGluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXN0dXJlTW92ZShldikge1xuICAgICAgaWYgKCFwb2ludGVyIHx8ICF0eXBlc01hdGNoKGV2LCBwb2ludGVyKSkgcmV0dXJuO1xuXG4gICAgICB1cGRhdGVQb2ludGVyU3RhdGUoZXYsIHBvaW50ZXIpO1xuICAgICAgcnVuSGFuZGxlcnMoJ21vdmUnLCBldik7XG4gICAgfVxuICAgIC8qXG4gICAgICogSWYgYW4gZW5kIGV2ZW50IGhhcHBlbnMgb2YgdGhlIHJpZ2h0IHR5cGUsIHVwZGF0ZSB0aGUgcG9pbnRlciwgcnVuIGVuZEhhbmRsZXJzLCBhbmQgc2F2ZSB0aGUgcG9pbnRlciBhcyAnbGFzdFBvaW50ZXInXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2VzdHVyZUVuZChldikge1xuICAgICAgaWYgKCFwb2ludGVyIHx8ICF0eXBlc01hdGNoKGV2LCBwb2ludGVyKSkgcmV0dXJuO1xuXG4gICAgICB1cGRhdGVQb2ludGVyU3RhdGUoZXYsIHBvaW50ZXIpO1xuICAgICAgcG9pbnRlci5lbmRUaW1lID0gK0RhdGUubm93KCk7XG5cbiAgICAgIHJ1bkhhbmRsZXJzKCdlbmQnLCBldik7XG5cbiAgICAgIGxhc3RQb2ludGVyID0gcG9pbnRlcjtcbiAgICAgIHBvaW50ZXIgPSBudWxsO1xuICAgIH1cblxuICB9XG4gIGF0dGFjaFRvRG9jdW1lbnQuJGluamVjdCA9IFtcIiRtZEdlc3R1cmVcIiwgXCIkJE1kR2VzdHVyZUhhbmRsZXJcIl07XG5cbiAgLy8gKioqKioqKioqKioqKioqKioqKipcbiAgLy8gTW9kdWxlIEZ1bmN0aW9uc1xuICAvLyAqKioqKioqKioqKioqKioqKioqKlxuXG4gIC8qXG4gICAqIEluaXRpYXRlIHRoZSBwb2ludGVyLiB4LCB5LCBhbmQgdGhlIHBvaW50ZXIncyB0eXBlLlxuICAgKi9cbiAgZnVuY3Rpb24gbWFrZVN0YXJ0UG9pbnRlcihldikge1xuICAgIHZhciBwb2ludCA9IGdldEV2ZW50UG9pbnQoZXYpO1xuICAgIHZhciBzdGFydFBvaW50ZXIgPSB7XG4gICAgICBzdGFydFRpbWU6ICtEYXRlLm5vdygpLFxuICAgICAgdGFyZ2V0OiBldi50YXJnZXQsXG4gICAgICAvLyAncCcgZm9yIHBvaW50ZXIgZXZlbnRzLCAnbScgZm9yIG1vdXNlLCAndCcgZm9yIHRvdWNoXG4gICAgICB0eXBlOiBldi50eXBlLmNoYXJBdCgwKVxuICAgIH07XG4gICAgc3RhcnRQb2ludGVyLnN0YXJ0WCA9IHN0YXJ0UG9pbnRlci54ID0gcG9pbnQucGFnZVg7XG4gICAgc3RhcnRQb2ludGVyLnN0YXJ0WSA9IHN0YXJ0UG9pbnRlci55ID0gcG9pbnQucGFnZVk7XG4gICAgcmV0dXJuIHN0YXJ0UG9pbnRlcjtcbiAgfVxuXG4gIC8qXG4gICAqIHJldHVybiB3aGV0aGVyIHRoZSBwb2ludGVyJ3MgdHlwZSBtYXRjaGVzIHRoZSBldmVudCdzIHR5cGUuXG4gICAqIEVnIGlmIGEgdG91Y2ggZXZlbnQgaGFwcGVucyBidXQgdGhlIHBvaW50ZXIgaGFzIGEgbW91c2UgdHlwZSwgcmV0dXJuIGZhbHNlLlxuICAgKi9cbiAgZnVuY3Rpb24gdHlwZXNNYXRjaChldiwgcG9pbnRlcikge1xuICAgIHJldHVybiBldiAmJiBwb2ludGVyICYmIGV2LnR5cGUuY2hhckF0KDApID09PSBwb2ludGVyLnR5cGU7XG4gIH1cblxuICAvKlxuICAgKiBVcGRhdGUgdGhlIGdpdmVuIHBvaW50ZXIgYmFzZWQgdXBvbiB0aGUgZ2l2ZW4gRE9NRXZlbnQuXG4gICAqIERpc3RhbmNlLCB2ZWxvY2l0eSwgZGlyZWN0aW9uLCBkdXJhdGlvbiwgZXRjXG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVQb2ludGVyU3RhdGUoZXYsIHBvaW50ZXIpIHtcbiAgICB2YXIgcG9pbnQgPSBnZXRFdmVudFBvaW50KGV2KTtcbiAgICB2YXIgeCA9IHBvaW50ZXIueCA9IHBvaW50LnBhZ2VYO1xuICAgIHZhciB5ID0gcG9pbnRlci55ID0gcG9pbnQucGFnZVk7XG5cbiAgICBwb2ludGVyLmRpc3RhbmNlWCA9IHggLSBwb2ludGVyLnN0YXJ0WDtcbiAgICBwb2ludGVyLmRpc3RhbmNlWSA9IHkgLSBwb2ludGVyLnN0YXJ0WTtcbiAgICBwb2ludGVyLmRpc3RhbmNlID0gTWF0aC5zcXJ0KFxuICAgICAgcG9pbnRlci5kaXN0YW5jZVggKiBwb2ludGVyLmRpc3RhbmNlWCArIHBvaW50ZXIuZGlzdGFuY2VZICogcG9pbnRlci5kaXN0YW5jZVlcbiAgICApO1xuXG4gICAgcG9pbnRlci5kaXJlY3Rpb25YID0gcG9pbnRlci5kaXN0YW5jZVggPiAwID8gJ3JpZ2h0JyA6IHBvaW50ZXIuZGlzdGFuY2VYIDwgMCA/ICdsZWZ0JyA6ICcnO1xuICAgIHBvaW50ZXIuZGlyZWN0aW9uWSA9IHBvaW50ZXIuZGlzdGFuY2VZID4gMCA/ICd1cCcgOiBwb2ludGVyLmRpc3RhbmNlWSA8IDAgPyAnZG93bicgOiAnJztcblxuICAgIHBvaW50ZXIuZHVyYXRpb24gPSArRGF0ZS5ub3coKSAtIHBvaW50ZXIuc3RhcnRUaW1lO1xuICAgIHBvaW50ZXIudmVsb2NpdHlYID0gcG9pbnRlci5kaXN0YW5jZVggLyBwb2ludGVyLmR1cmF0aW9uO1xuICAgIHBvaW50ZXIudmVsb2NpdHlZID0gcG9pbnRlci5kaXN0YW5jZVkgLyBwb2ludGVyLmR1cmF0aW9uO1xuICB9XG5cbiAgLypcbiAgICogTm9ybWFsaXplIHRoZSBwb2ludCB3aGVyZSB0aGUgRE9NIGV2ZW50IGhhcHBlbmVkIHdoZXRoZXIgaXQncyB0b3VjaCBvciBtb3VzZS5cbiAgICogQHJldHVybnMgcG9pbnQgZXZlbnQgb2JqIHdpdGggcGFnZVggYW5kIHBhZ2VZIG9uIGl0LlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0RXZlbnRQb2ludChldikge1xuICAgIGV2ID0gZXYub3JpZ2luYWxFdmVudCB8fCBldjsgLy8gc3VwcG9ydCBqUXVlcnkgZXZlbnRzXG4gICAgcmV0dXJuIChldi50b3VjaGVzICYmIGV2LnRvdWNoZXNbMF0pIHx8XG4gICAgICAoZXYuY2hhbmdlZFRvdWNoZXMgJiYgZXYuY2hhbmdlZFRvdWNoZXNbMF0pIHx8XG4gICAgICBldjtcbiAgfVxuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvcmUnKVxuICAucHJvdmlkZXIoJyQkaW50ZXJpbUVsZW1lbnQnLCBJbnRlcmltRWxlbWVudFByb3ZpZGVyKTtcblxuLypcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkJGludGVyaW1FbGVtZW50XG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvcmVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBGYWN0b3J5IHRoYXQgY29udHJ1Y3RzIGAkJGludGVyaW1FbGVtZW50LiRzZXJ2aWNlYCBzZXJ2aWNlcy5cbiAqIFVzZWQgaW50ZXJuYWxseSBpbiBtYXRlcmlhbCBkZXNpZ24gZm9yIGVsZW1lbnRzIHRoYXQgYXBwZWFyIG9uIHNjcmVlbiB0ZW1wb3JhcmlseS5cbiAqIFRoZSBzZXJ2aWNlIHByb3ZpZGVzIGEgcHJvbWlzZS1saWtlIEFQSSBmb3IgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgdGVtcG9yYXJ5XG4gKiBlbGVtZW50cy5cbiAqXG4gKiBgYGBqc1xuICogYXBwLnNlcnZpY2UoJyRtZFRvYXN0JywgZnVuY3Rpb24oJCRpbnRlcmltRWxlbWVudCkge1xuICogICB2YXIgJG1kVG9hc3QgPSAkJGludGVyaW1FbGVtZW50KHRvYXN0RGVmYXVsdE9wdGlvbnMpO1xuICogICByZXR1cm4gJG1kVG9hc3Q7XG4gKiB9KTtcbiAqIGBgYFxuICogQHBhcmFtIHtvYmplY3Q9fSBkZWZhdWx0T3B0aW9ucyBPcHRpb25zIHVzZWQgYnkgZGVmYXVsdCBmb3IgdGhlIGBzaG93YCBtZXRob2Qgb24gdGhlIHNlcnZpY2UuXG4gKlxuICogQHJldHVybnMgeyQkaW50ZXJpbUVsZW1lbnQuJHNlcnZpY2V9XG4gKlxuICovXG5cbmZ1bmN0aW9uIEludGVyaW1FbGVtZW50UHJvdmlkZXIoKSB7XG4gIGNyZWF0ZUludGVyaW1FbGVtZW50UHJvdmlkZXIuJGdldCA9IEludGVyaW1FbGVtZW50RmFjdG9yeTtcbiAgSW50ZXJpbUVsZW1lbnRGYWN0b3J5LiRpbmplY3QgPSBbXCIkZG9jdW1lbnRcIiwgXCIkcVwiLCBcIiRyb290U2NvcGVcIiwgXCIkdGltZW91dFwiLCBcIiRyb290RWxlbWVudFwiLCBcIiRhbmltYXRlXCIsIFwiJGludGVycG9sYXRlXCIsIFwiJG1kQ29tcGlsZXJcIiwgXCIkbWRUaGVtaW5nXCJdO1xuICByZXR1cm4gY3JlYXRlSW50ZXJpbUVsZW1lbnRQcm92aWRlcjtcblxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBwcm92aWRlciB3aGljaCBhbGxvd3MgY29uZmlndXJhdGlvbiBvZiBhIG5ldyBpbnRlcmltRWxlbWVudFxuICAgKiBzZXJ2aWNlLiBBbGxvd3MgY29uZmlndXJhdGlvbiBvZiBkZWZhdWx0IG9wdGlvbnMgJiBtZXRob2RzIGZvciBvcHRpb25zLFxuICAgKiBhcyB3ZWxsIGFzIGNvbmZpZ3VyYXRpb24gb2YgJ3ByZXNldCcgbWV0aG9kcyAoZWcgZGlhbG9nLmJhc2ljKCk6IGJhc2ljIGlzIGEgcHJlc2V0IG1ldGhvZClcbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZUludGVyaW1FbGVtZW50UHJvdmlkZXIoaW50ZXJpbUZhY3RvcnlOYW1lKSB7XG4gICAgdmFyIEVYUE9TRURfTUVUSE9EUyA9IFsnb25IaWRlJywgJ29uU2hvdycsICdvblJlbW92ZSddO1xuXG4gICAgdmFyIGN1c3RvbU1ldGhvZHMgPSB7fTtcbiAgICB2YXIgcHJvdmlkZXJDb25maWcgPSB7XG4gICAgICBwcmVzZXRzOiB7fVxuICAgIH07XG5cbiAgICB2YXIgcHJvdmlkZXIgPSB7XG4gICAgICBzZXREZWZhdWx0czogc2V0RGVmYXVsdHMsXG4gICAgICBhZGRQcmVzZXQ6IGFkZFByZXNldCxcbiAgICAgIGFkZE1ldGhvZDogYWRkTWV0aG9kLFxuICAgICAgJGdldDogZmFjdG9yeVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBhbGwgaW50ZXJpbSBlbGVtZW50cyB3aWxsIGNvbWUgd2l0aCB0aGUgJ2J1aWxkJyBwcmVzZXRcbiAgICAgKi9cbiAgICBwcm92aWRlci5hZGRQcmVzZXQoJ2J1aWxkJywge1xuICAgICAgbWV0aG9kczogWydjb250cm9sbGVyJywgJ2NvbnRyb2xsZXJBcycsICdyZXNvbHZlJyxcbiAgICAgICAgJ3RlbXBsYXRlJywgJ3RlbXBsYXRlVXJsJywgJ3RoZW1hYmxlJywgJ3RyYW5zZm9ybVRlbXBsYXRlJywgJ3BhcmVudCddXG4gICAgfSk7XG5cbiAgICBmYWN0b3J5LiRpbmplY3QgPSBbXCIkJGludGVyaW1FbGVtZW50XCIsIFwiJGFuaW1hdGVcIiwgXCIkaW5qZWN0b3JcIl07XG4gICAgcmV0dXJuIHByb3ZpZGVyO1xuXG4gICAgLyoqXG4gICAgICogU2F2ZSB0aGUgY29uZmlndXJlZCBkZWZhdWx0cyB0byBiZSB1c2VkIHdoZW4gdGhlIGZhY3RvcnkgaXMgaW5zdGFudGlhdGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0RGVmYXVsdHMoZGVmaW5pdGlvbikge1xuICAgICAgcHJvdmlkZXJDb25maWcub3B0aW9uc0ZhY3RvcnkgPSBkZWZpbml0aW9uLm9wdGlvbnM7XG4gICAgICBwcm92aWRlckNvbmZpZy5tZXRob2RzID0gKGRlZmluaXRpb24ubWV0aG9kcyB8fCBbXSkuY29uY2F0KEVYUE9TRURfTUVUSE9EUyk7XG4gICAgICByZXR1cm4gcHJvdmlkZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgbWV0aG9kIHRvIHRoZSBmYWN0b3J5IHRoYXQgaXNuJ3Qgc3BlY2lmaWMgdG8gYW55IGludGVyaW0gZWxlbWVudCBvcGVyYXRpb25zXG4gICAgICovXG5cbiAgICBmdW5jdGlvbiBhZGRNZXRob2QobmFtZSwgZm4pIHtcbiAgICAgIGN1c3RvbU1ldGhvZHNbbmFtZV0gPSBmbjtcbiAgICAgIHJldHVybiBwcm92aWRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTYXZlIHRoZSBjb25maWd1cmVkIHByZXNldCB0byBiZSB1c2VkIHdoZW4gdGhlIGZhY3RvcnkgaXMgaW5zdGFudGlhdGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkUHJlc2V0KG5hbWUsIGRlZmluaXRpb24pIHtcbiAgICAgIGRlZmluaXRpb24gPSBkZWZpbml0aW9uIHx8IHt9O1xuICAgICAgZGVmaW5pdGlvbi5tZXRob2RzID0gZGVmaW5pdGlvbi5tZXRob2RzIHx8IFtdO1xuICAgICAgZGVmaW5pdGlvbi5vcHRpb25zID0gZGVmaW5pdGlvbi5vcHRpb25zIHx8IGZ1bmN0aW9uKCkgeyByZXR1cm4ge307IH07XG5cbiAgICAgIGlmICgvXmNhbmNlbHxoaWRlfHNob3ckLy50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlByZXNldCAnXCIgKyBuYW1lICsgXCInIGluIFwiICsgaW50ZXJpbUZhY3RvcnlOYW1lICsgXCIgaXMgcmVzZXJ2ZWQhXCIpO1xuICAgICAgfVxuICAgICAgaWYgKGRlZmluaXRpb24ubWV0aG9kcy5pbmRleE9mKCdfb3B0aW9ucycpID4gLTEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kICdfb3B0aW9ucycgaW4gXCIgKyBpbnRlcmltRmFjdG9yeU5hbWUgKyBcIiBpcyByZXNlcnZlZCFcIik7XG4gICAgICB9XG4gICAgICBwcm92aWRlckNvbmZpZy5wcmVzZXRzW25hbWVdID0ge1xuICAgICAgICBtZXRob2RzOiBkZWZpbml0aW9uLm1ldGhvZHMuY29uY2F0KEVYUE9TRURfTUVUSE9EUyksXG4gICAgICAgIG9wdGlvbnNGYWN0b3J5OiBkZWZpbml0aW9uLm9wdGlvbnMsXG4gICAgICAgIGFyZ09wdGlvbjogZGVmaW5pdGlvbi5hcmdPcHRpb25cbiAgICAgIH07XG4gICAgICByZXR1cm4gcHJvdmlkZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgZmFjdG9yeSB0aGF0IGhhcyB0aGUgZ2l2ZW4gbWV0aG9kcyAmIGRlZmF1bHRzIGltcGxlbWVudGluZyBpbnRlcmltRWxlbWVudFxuICAgICAqL1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGZhY3RvcnkoJCRpbnRlcmltRWxlbWVudCwgJGFuaW1hdGUsICRpbmplY3Rvcikge1xuICAgICAgdmFyIGRlZmF1bHRNZXRob2RzO1xuICAgICAgdmFyIGRlZmF1bHRPcHRpb25zO1xuICAgICAgdmFyIGludGVyaW1FbGVtZW50U2VydmljZSA9ICQkaW50ZXJpbUVsZW1lbnQoKTtcblxuICAgICAgLypcbiAgICAgICAqIHB1YmxpY1NlcnZpY2UgaXMgd2hhdCB0aGUgZGV2ZWxvcGVyIHdpbGwgYmUgdXNpbmcuXG4gICAgICAgKiBJdCBoYXMgbWV0aG9kcyBoaWRlKCksIGNhbmNlbCgpLCBzaG93KCksIGJ1aWxkKCksIGFuZCBhbnkgb3RoZXJcbiAgICAgICAqIHByZXNldHMgd2hpY2ggd2VyZSBzZXQgZHVyaW5nIHRoZSBjb25maWcgcGhhc2UuXG4gICAgICAgKi9cbiAgICAgIHZhciBwdWJsaWNTZXJ2aWNlID0ge1xuICAgICAgICBoaWRlOiBpbnRlcmltRWxlbWVudFNlcnZpY2UuaGlkZSxcbiAgICAgICAgY2FuY2VsOiBpbnRlcmltRWxlbWVudFNlcnZpY2UuY2FuY2VsLFxuICAgICAgICBzaG93OiBzaG93SW50ZXJpbUVsZW1lbnRcbiAgICAgIH07XG5cbiAgICAgIGRlZmF1bHRNZXRob2RzID0gcHJvdmlkZXJDb25maWcubWV0aG9kcyB8fCBbXTtcbiAgICAgIC8vIFRoaXMgbXVzdCBiZSBpbnZva2VkIGFmdGVyIHRoZSBwdWJsaWNTZXJ2aWNlIGlzIGluaXRpYWxpemVkXG4gICAgICBkZWZhdWx0T3B0aW9ucyA9IGludm9rZUZhY3RvcnkocHJvdmlkZXJDb25maWcub3B0aW9uc0ZhY3RvcnksIHt9KTtcblxuICAgICAgLy8gQ29weSBvdmVyIHRoZSBzaW1wbGUgY3VzdG9tIG1ldGhvZHNcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChjdXN0b21NZXRob2RzLCBmdW5jdGlvbihmbiwgbmFtZSkge1xuICAgICAgICBwdWJsaWNTZXJ2aWNlW25hbWVdID0gZm47XG4gICAgICB9KTtcblxuICAgICAgYW5ndWxhci5mb3JFYWNoKHByb3ZpZGVyQ29uZmlnLnByZXNldHMsIGZ1bmN0aW9uKGRlZmluaXRpb24sIG5hbWUpIHtcbiAgICAgICAgdmFyIHByZXNldERlZmF1bHRzID0gaW52b2tlRmFjdG9yeShkZWZpbml0aW9uLm9wdGlvbnNGYWN0b3J5LCB7fSk7XG4gICAgICAgIHZhciBwcmVzZXRNZXRob2RzID0gKGRlZmluaXRpb24ubWV0aG9kcyB8fCBbXSkuY29uY2F0KGRlZmF1bHRNZXRob2RzKTtcblxuICAgICAgICAvLyBFdmVyeSBpbnRlcmltRWxlbWVudCBidWlsdCB3aXRoIGEgcHJlc2V0IGhhcyBhIGZpZWxkIGNhbGxlZCBgJHR5cGVgLFxuICAgICAgICAvLyB3aGljaCBtYXRjaGVzIHRoZSBuYW1lIG9mIHRoZSBwcmVzZXQuXG4gICAgICAgIC8vIEVnIGluIHByZXNldCAnY29uZmlybScsIG9wdGlvbnMuJHR5cGUgPT09ICdjb25maXJtJ1xuICAgICAgICBhbmd1bGFyLmV4dGVuZChwcmVzZXREZWZhdWx0cywgeyAkdHlwZTogbmFtZSB9KTtcblxuICAgICAgICAvLyBUaGlzIGNyZWF0ZXMgYSBwcmVzZXQgY2xhc3Mgd2hpY2ggaGFzIHNldHRlciBtZXRob2RzIGZvciBldmVyeVxuICAgICAgICAvLyBtZXRob2QgZ2l2ZW4gaW4gdGhlIGAuYWRkUHJlc2V0KClgIGZ1bmN0aW9uLCBhcyB3ZWxsIGFzIGV2ZXJ5XG4gICAgICAgIC8vIG1ldGhvZCBnaXZlbiBpbiB0aGUgYC5zZXREZWZhdWx0cygpYCBmdW5jdGlvbi5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gQGV4YW1wbGVcbiAgICAgICAgLy8gLnNldERlZmF1bHRzKHtcbiAgICAgICAgLy8gICBtZXRob2RzOiBbJ2hhc0JhY2tkcm9wJywgJ2NsaWNrT3V0c2lkZVRvQ2xvc2UnLCAnZXNjYXBlVG9DbG9zZScsICd0YXJnZXRFdmVudCddLFxuICAgICAgICAvLyAgIG9wdGlvbnM6IGRpYWxvZ0RlZmF1bHRPcHRpb25zXG4gICAgICAgIC8vIH0pXG4gICAgICAgIC8vIC5hZGRQcmVzZXQoJ2FsZXJ0Jywge1xuICAgICAgICAvLyAgIG1ldGhvZHM6IFsndGl0bGUnLCAnb2snXSxcbiAgICAgICAgLy8gICBvcHRpb25zOiBhbGVydERpYWxvZ09wdGlvbnNcbiAgICAgICAgLy8gfSlcbiAgICAgICAgLy9cbiAgICAgICAgLy8gU2V0IHZhbHVlcyB3aWxsIGJlIHBhc3NlZCB0byB0aGUgb3B0aW9ucyB3aGVuIGludGVyaW1FbGVtbnQuc2hvdygpIGlzIGNhbGxlZC5cbiAgICAgICAgZnVuY3Rpb24gUHJlc2V0KG9wdHMpIHtcbiAgICAgICAgICB0aGlzLl9vcHRpb25zID0gYW5ndWxhci5leHRlbmQoe30sIHByZXNldERlZmF1bHRzLCBvcHRzKTtcbiAgICAgICAgfVxuICAgICAgICBhbmd1bGFyLmZvckVhY2gocHJlc2V0TWV0aG9kcywgZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgIFByZXNldC5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fb3B0aW9uc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIHNob3J0Y3V0IG1ldGhvZCBmb3Igb25lLWxpbmVhciBtZXRob2RzXG4gICAgICAgIGlmIChkZWZpbml0aW9uLmFyZ09wdGlvbikge1xuICAgICAgICAgIHZhciBtZXRob2ROYW1lID0gJ3Nob3cnICsgbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSk7XG4gICAgICAgICAgcHVibGljU2VydmljZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgICAgICAgdmFyIGNvbmZpZyA9IHB1YmxpY1NlcnZpY2VbbmFtZV0oYXJnKTtcbiAgICAgICAgICAgIHJldHVybiBwdWJsaWNTZXJ2aWNlLnNob3coY29uZmlnKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZWcgJG1kRGlhbG9nLmFsZXJ0KCkgd2lsbCByZXR1cm4gYSBuZXcgYWxlcnQgcHJlc2V0XG4gICAgICAgIHB1YmxpY1NlcnZpY2VbbmFtZV0gPSBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICAvLyBJZiBhcmdPcHRpb24gaXMgc3VwcGxpZWQsIGVnIGBhcmdPcHRpb246ICdjb250ZW50J2AsIHRoZW4gd2UgYXNzdW1lXG4gICAgICAgICAgLy8gaWYgdGhlIGFyZ3VtZW50IGlzIG5vdCBhbiBvcHRpb25zIG9iamVjdCB0aGVuIGl0IGlzIHRoZSBgYXJnT3B0aW9uYCBvcHRpb24uXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvLyBAZXhhbXBsZSBgJG1kVG9hc3Quc2ltcGxlKCdoZWxsbycpYCAvLyBzZXRzIG9wdGlvbnMuY29udGVudCB0byBoZWxsb1xuICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2UgYXJnT3B0aW9uID09PSAnY29udGVudCdcbiAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAmJiBkZWZpbml0aW9uLmFyZ09wdGlvbiAmJiAhYW5ndWxhci5pc09iamVjdChhcmcpICYmXG4gICAgICAgICAgICAgICFhbmd1bGFyLmlzQXJyYXkoYXJnKSkge1xuICAgICAgICAgICAgcmV0dXJuIChuZXcgUHJlc2V0KCkpW2RlZmluaXRpb24uYXJnT3B0aW9uXShhcmcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByZXNldChhcmcpO1xuICAgICAgICAgIH1cblxuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBwdWJsaWNTZXJ2aWNlO1xuXG4gICAgICBmdW5jdGlvbiBzaG93SW50ZXJpbUVsZW1lbnQob3B0cykge1xuICAgICAgICAvLyBvcHRzIGlzIGVpdGhlciBhIHByZXNldCB3aGljaCBzdG9yZXMgaXRzIG9wdGlvbnMgb24gYW4gX29wdGlvbnMgZmllbGQsXG4gICAgICAgIC8vIG9yIGp1c3QgYW4gb2JqZWN0IG1hZGUgdXAgb2Ygb3B0aW9uc1xuICAgICAgICBpZiAob3B0cyAmJiBvcHRzLl9vcHRpb25zKSBvcHRzID0gb3B0cy5fb3B0aW9ucztcbiAgICAgICAgcmV0dXJuIGludGVyaW1FbGVtZW50U2VydmljZS5zaG93KFxuICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0cylcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBIZWxwZXIgdG8gY2FsbCAkaW5qZWN0b3IuaW52b2tlIHdpdGggYSBsb2NhbCBvZiB0aGUgZmFjdG9yeSBuYW1lIGZvclxuICAgICAgICogdGhpcyBwcm92aWRlci5cbiAgICAgICAqIElmIGFuICRtZERpYWxvZyBpcyBwcm92aWRpbmcgb3B0aW9ucyBmb3IgYSBkaWFsb2cgYW5kIHRyaWVzIHRvIGluamVjdFxuICAgICAgICogJG1kRGlhbG9nLCBhIGNpcmN1bGFyIGRlcGVuZGVuY3kgZXJyb3Igd2lsbCBoYXBwZW4uXG4gICAgICAgKiBXZSBnZXQgYXJvdW5kIHRoYXQgYnkgbWFudWFsbHkgaW5qZWN0aW5nICRtZERpYWxvZyBhcyBhIGxvY2FsLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBpbnZva2VGYWN0b3J5KGZhY3RvcnksIGRlZmF1bHRWYWwpIHtcbiAgICAgICAgdmFyIGxvY2FscyA9IHt9O1xuICAgICAgICBsb2NhbHNbaW50ZXJpbUZhY3RvcnlOYW1lXSA9IHB1YmxpY1NlcnZpY2U7XG4gICAgICAgIHJldHVybiAkaW5qZWN0b3IuaW52b2tlKGZhY3RvcnkgfHwgZnVuY3Rpb24oKSB7IHJldHVybiBkZWZhdWx0VmFsOyB9LCB7fSwgbG9jYWxzKTtcbiAgICAgIH1cblxuICAgIH1cblxuICB9XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIEludGVyaW1FbGVtZW50RmFjdG9yeSgkZG9jdW1lbnQsICRxLCAkcm9vdFNjb3BlLCAkdGltZW91dCwgJHJvb3RFbGVtZW50LCAkYW5pbWF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbnRlcnBvbGF0ZSwgJG1kQ29tcGlsZXIsICRtZFRoZW1pbmcgKSB7XG4gICAgdmFyIHN0YXJ0U3ltYm9sID0gJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCksXG4gICAgICAgIGVuZFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSxcbiAgICAgICAgdXNlc1N0YW5kYXJkU3ltYm9scyA9ICgoc3RhcnRTeW1ib2wgPT09ICd7eycpICYmIChlbmRTeW1ib2wgPT09ICd9fScpKSxcbiAgICAgICAgcHJvY2Vzc1RlbXBsYXRlICA9IHVzZXNTdGFuZGFyZFN5bWJvbHMgPyBhbmd1bGFyLmlkZW50aXR5IDogcmVwbGFjZUludGVycG9sYXRpb25TeW1ib2xzO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUludGVyaW1FbGVtZW50U2VydmljZSgpIHtcbiAgICAgIC8qXG4gICAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAgICogQG5hbWUgJCRpbnRlcmltRWxlbWVudC4kc2VydmljZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQSBzZXJ2aWNlIHVzZWQgdG8gY29udHJvbCBpbnNlcnRpbmcgYW5kIHJlbW92aW5nIGFuIGVsZW1lbnQgaW50byB0aGUgRE9NLlxuICAgICAgICpcbiAgICAgICAqL1xuICAgICAgdmFyIHN0YWNrID0gW107XG4gICAgICB2YXIgc2VydmljZTtcbiAgICAgIHJldHVybiBzZXJ2aWNlID0ge1xuICAgICAgICBzaG93OiBzaG93LFxuICAgICAgICBoaWRlOiBoaWRlLFxuICAgICAgICBjYW5jZWw6IGNhbmNlbFxuICAgICAgfTtcblxuICAgICAgLypcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICQkaW50ZXJpbUVsZW1lbnQuJHNlcnZpY2Ujc2hvd1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEFkZHMgdGhlIGAkaW50ZXJpbUVsZW1lbnRgIHRvIHRoZSBET00gYW5kIHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBvciByZWplY3RlZFxuICAgICAgICogd2l0aCBoaWRlIG9yIGNhbmNlbCwgcmVzcGVjdGl2ZWx5LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7Kn0gb3B0aW9ucyBpcyBoYXNoTWFwIG9mIHNldHRpbmdzXG4gICAgICAgKiBAcmV0dXJucyBhIFByb21pc2VcbiAgICAgICAqXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIHNob3cob3B0aW9ucykge1xuICAgICAgICBpZiAoc3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIHNlcnZpY2UuY2FuY2VsKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBzaG93KG9wdGlvbnMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBpbnRlcmltRWxlbWVudCA9IG5ldyBJbnRlcmltRWxlbWVudChvcHRpb25zKTtcbiAgICAgICAgICBzdGFjay5wdXNoKGludGVyaW1FbGVtZW50KTtcbiAgICAgICAgICByZXR1cm4gaW50ZXJpbUVsZW1lbnQuc2hvdygpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJpbUVsZW1lbnQuZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJCRpbnRlcmltRWxlbWVudC4kc2VydmljZSNoaWRlXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVtb3ZlcyB0aGUgYCRpbnRlcmltRWxlbWVudGAgZnJvbSB0aGUgRE9NIGFuZCByZXNvbHZlcyB0aGUgcHJvbWlzZSByZXR1cm5lZCBmcm9tIGBzaG93YFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7Kn0gcmVzb2x2ZVBhcmFtIERhdGEgdG8gcmVzb2x2ZSB0aGUgcHJvbWlzZSB3aXRoXG4gICAgICAgKiBAcmV0dXJucyBhIFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGFmdGVyIHRoZSBlbGVtZW50IGhhcyBiZWVuIHJlbW92ZWQuXG4gICAgICAgKlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBoaWRlKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBpbnRlcmltRWxlbWVudCA9IHN0YWNrLnNoaWZ0KCk7XG4gICAgICAgIHJldHVybiBpbnRlcmltRWxlbWVudCAmJiBpbnRlcmltRWxlbWVudC5yZW1vdmUoKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGludGVyaW1FbGVtZW50LmRlZmVycmVkLnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLypcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICQkaW50ZXJpbUVsZW1lbnQuJHNlcnZpY2UjY2FuY2VsXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVtb3ZlcyB0aGUgYCRpbnRlcmltRWxlbWVudGAgZnJvbSB0aGUgRE9NIGFuZCByZWplY3RzIHRoZSBwcm9taXNlIHJldHVybmVkIGZyb20gYHNob3dgXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsqfSByZWFzb24gRGF0YSB0byByZWplY3QgdGhlIHByb21pc2Ugd2l0aFxuICAgICAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgYWZ0ZXIgdGhlIGVsZW1lbnQgaGFzIGJlZW4gcmVtb3ZlZC5cbiAgICAgICAqXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGNhbmNlbChyZWFzb24pIHtcbiAgICAgICAgdmFyIGludGVyaW1FbGVtZW50ID0gc3RhY2suc2hpZnQoKTtcbiAgICAgICAgcmV0dXJuICRxLndoZW4oaW50ZXJpbUVsZW1lbnQgJiYgaW50ZXJpbUVsZW1lbnQucmVtb3ZlKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICBpbnRlcmltRWxlbWVudC5kZWZlcnJlZC5yZWplY3QocmVhc29uKTtcbiAgICAgICAgfSkpO1xuICAgICAgfVxuXG5cbiAgICAgIC8qXG4gICAgICAgKiBJbnRlcm5hbCBJbnRlcmltIEVsZW1lbnQgT2JqZWN0XG4gICAgICAgKiBVc2VkIGludGVybmFsbHkgdG8gbWFuYWdlIHRoZSBET00gZWxlbWVudCBhbmQgcmVsYXRlZCBkYXRhXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIEludGVyaW1FbGVtZW50KG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHNlbGY7XG4gICAgICAgIHZhciBoaWRlVGltZW91dCwgZWxlbWVudCwgc2hvd0RvbmUsIHJlbW92ZURvbmU7XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIG9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7XG4gICAgICAgICAgcHJlc2VydmVTY29wZTogZmFsc2UsXG4gICAgICAgICAgc2NvcGU6IG9wdGlvbnMuc2NvcGUgfHwgJHJvb3RTY29wZS4kbmV3KG9wdGlvbnMuaXNvbGF0ZVNjb3BlKSxcbiAgICAgICAgICBvblNob3c6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gJGFuaW1hdGUuZW50ZXIoZWxlbWVudCwgb3B0aW9ucy5wYXJlbnQpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25SZW1vdmU6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgICAgICAvLyBFbGVtZW50IGNvdWxkIGJlIHVuZGVmaW5lZCBpZiBhIG5ldyBlbGVtZW50IGlzIHNob3duIGJlZm9yZVxuICAgICAgICAgICAgLy8gdGhlIG9sZCBvbmUgZmluaXNoZXMgY29tcGlsaW5nLlxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQgJiYgJGFuaW1hdGUubGVhdmUoZWxlbWVudCkgfHwgJHEud2hlbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMudGVtcGxhdGUpIHtcbiAgICAgICAgICBvcHRpb25zLnRlbXBsYXRlID0gcHJvY2Vzc1RlbXBsYXRlKG9wdGlvbnMudGVtcGxhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlbGYgPSB7XG4gICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICBkZWZlcnJlZDogJHEuZGVmZXIoKSxcbiAgICAgICAgICBzaG93OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjb21waWxlUHJvbWlzZTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNraXBDb21waWxlKSB7XG4gICAgICAgICAgICAgIGNvbXBpbGVQcm9taXNlID0gJHEoZnVuY3Rpb24ocmVzb2x2ZSkgeyBcbiAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgIGxvY2Fsczoge30sXG4gICAgICAgICAgICAgICAgICBsaW5rOiBmdW5jdGlvbigpIHsgcmV0dXJuIG9wdGlvbnMuZWxlbWVudDsgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbXBpbGVQcm9taXNlID0gJG1kQ29tcGlsZXIuY29tcGlsZShvcHRpb25zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHNob3dEb25lID0gY29tcGlsZVByb21pc2UudGhlbihmdW5jdGlvbihjb21waWxlRGF0YSkge1xuICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChjb21waWxlRGF0YS5sb2NhbHMsIHNlbGYub3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgZWxlbWVudCA9IGNvbXBpbGVEYXRhLmxpbmsob3B0aW9ucy5zY29wZSk7XG5cbiAgICAgICAgICAgICAgLy8gU2VhcmNoIGZvciBwYXJlbnQgYXQgaW5zZXJ0aW9uIHRpbWUsIGlmIG5vdCBzcGVjaWZpZWRcbiAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihvcHRpb25zLnBhcmVudCkpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnBhcmVudCA9IG9wdGlvbnMucGFyZW50KG9wdGlvbnMuc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNTdHJpbmcob3B0aW9ucy5wYXJlbnQpKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5wYXJlbnQgPSBhbmd1bGFyLmVsZW1lbnQoJGRvY3VtZW50WzBdLnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy5wYXJlbnQpKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIElmIHBhcmVudCBxdWVyeVNlbGVjdG9yL2dldHRlciBmdW5jdGlvbiBmYWlscywgb3IgaXQncyBqdXN0IG51bGwsXG4gICAgICAgICAgICAgIC8vIGZpbmQgYSBkZWZhdWx0LlxuICAgICAgICAgICAgICBpZiAoIShvcHRpb25zLnBhcmVudCB8fCB7fSkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsO1xuICAgICAgICAgICAgICAgIGlmICgkcm9vdEVsZW1lbnRbMF0gJiYgJHJvb3RFbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgIGVsID0gJHJvb3RFbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJzpub3Qoc3ZnKSA+IGJvZHknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFlbCkgZWwgPSAkcm9vdEVsZW1lbnRbMF07XG4gICAgICAgICAgICAgICAgaWYgKGVsLm5vZGVOYW1lID09ICcjY29tbWVudCcpIHtcbiAgICAgICAgICAgICAgICAgIGVsID0gJGRvY3VtZW50WzBdLmJvZHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdGlvbnMucGFyZW50ID0gYW5ndWxhci5lbGVtZW50KGVsKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChvcHRpb25zLnRoZW1hYmxlKSAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuICAgICAgICAgICAgICB2YXIgcmV0ID0gb3B0aW9ucy5vblNob3cob3B0aW9ucy5zY29wZSwgZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgIHJldHVybiAkcS53aGVuKHJldClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgLy8gSXNzdWUgb25Db21wbGV0ZSBjYWxsYmFjayB3aGVuIHRoZSBgc2hvdygpYCBmaW5pc2hlc1xuICAgICAgICAgICAgICAgICAgKG9wdGlvbnMub25Db21wbGV0ZSB8fCBhbmd1bGFyLm5vb3ApKG9wdGlvbnMuc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgc3RhcnRIaWRlVGltZW91dCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIHN0YXJ0SGlkZVRpbWVvdXQoKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGlkZURlbGF5KSB7XG4gICAgICAgICAgICAgICAgICBoaWRlVGltZW91dCA9ICR0aW1lb3V0KHNlcnZpY2UuY2FuY2VsLCBvcHRpb25zLmhpZGVEZWxheSkgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7IHNob3dEb25lID0gdHJ1ZTsgc2VsZi5kZWZlcnJlZC5yZWplY3QocmVhc29uKTsgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjYW5jZWxUaW1lb3V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChoaWRlVGltZW91dCkge1xuICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwoaGlkZVRpbWVvdXQpO1xuICAgICAgICAgICAgICBoaWRlVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmNhbmNlbFRpbWVvdXQoKTtcbiAgICAgICAgICAgIHJldHVybiByZW1vdmVEb25lID0gJHEud2hlbihzaG93RG9uZSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdmFyIHJldCA9IGVsZW1lbnQgPyBvcHRpb25zLm9uUmVtb3ZlKG9wdGlvbnMuc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpIDogdHJ1ZTtcbiAgICAgICAgICAgICAgcmV0dXJuICRxLndoZW4ocmV0KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5wcmVzZXJ2ZVNjb3BlKSBvcHRpb25zLnNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKlxuICAgICAqIFJlcGxhY2UgYHt7YCBhbmQgYH19YCBpbiBhIHN0cmluZyAodXN1YWxseSBhIHRlbXBsYXRlKSB3aXRoIHRoZSBhY3R1YWwgc3RhcnQtL2VuZFN5bWJvbHMgdXNlZFxuICAgICAqIGZvciBpbnRlcnBvbGF0aW9uLiBUaGlzIGFsbG93cyBwcmUtZGVmaW5lZCB0ZW1wbGF0ZXMgKGZvciBjb21wb25lbnRzIHN1Y2ggYXMgZGlhbG9nLCB0b2FzdCBldGMpXG4gICAgICogdG8gY29udGludWUgdG8gd29yayBpbiBhcHBzIHRoYXQgdXNlIGN1c3RvbSBpbnRlcnBvbGF0aW9uIHN0YXJ0LS9lbmRTeW1ib2xzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHRleHQgaW4gd2hpY2ggdG8gcmVwbGFjZSBge3tgIC8gYH19YFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBtb2RpZmllZCBzdHJpbmcgdXNpbmcgdGhlIGFjdHVhbCBpbnRlcnBvbGF0aW9uIHN0YXJ0LS9lbmRTeW1ib2xzXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwbGFjZUludGVycG9sYXRpb25TeW1ib2xzKHRleHQpIHtcbiAgICAgIGlmICghdGV4dCB8fCAhYW5ndWxhci5pc1N0cmluZyh0ZXh0KSkgcmV0dXJuIHRleHQ7XG4gICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cXHtcXHsvZywgc3RhcnRTeW1ib2wpLnJlcGxhY2UoL319L2csIGVuZFN5bWJvbCk7XG4gICAgfVxuICB9XG5cbn1cblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtb2R1bGVcbiAgICogQG5hbWUgbWF0ZXJpYWwuY29yZS5jb21wb25lbnRSZWdpc3RyeVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQSBjb21wb25lbnQgaW5zdGFuY2UgcmVnaXN0cmF0aW9uIHNlcnZpY2UuXG4gICAqIE5vdGU6IGN1cnJlbnRseSB0aGlzIGFzIGEgcHJpdmF0ZSBzZXJ2aWNlIGluIHRoZSBTaWRlTmF2IGNvbXBvbmVudC5cbiAgICovXG4gIGFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb3JlJylcbiAgICAuZmFjdG9yeSgnJG1kQ29tcG9uZW50UmVnaXN0cnknLCBDb21wb25lbnRSZWdpc3RyeSk7XG5cbiAgLypcbiAgICogQHByaXZhdGVcbiAgICogQG5nZG9jIGZhY3RvcnlcbiAgICogQG5hbWUgQ29tcG9uZW50UmVnaXN0cnlcbiAgICogQG1vZHVsZSBtYXRlcmlhbC5jb3JlLmNvbXBvbmVudFJlZ2lzdHJ5XG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBDb21wb25lbnRSZWdpc3RyeSgkbG9nLCAkcSkge1xuXG4gICAgdmFyIHNlbGY7XG4gICAgdmFyIGluc3RhbmNlcyA9IFsgXTtcbiAgICB2YXIgcGVuZGluZ3MgPSB7IH07XG5cbiAgICByZXR1cm4gc2VsZiA9IHtcbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byBwcmludCBhbiBlcnJvciB3aGVuIGFuIGluc3RhbmNlIGZvciBhIGhhbmRsZSBpc24ndCBmb3VuZC5cbiAgICAgICAqL1xuICAgICAgbm90Rm91bmRFcnJvcjogZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICRsb2cuZXJyb3IoJ05vIGluc3RhbmNlIGZvdW5kIGZvciBoYW5kbGUnLCBoYW5kbGUpO1xuICAgICAgfSxcbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJuIGFsbCByZWdpc3RlcmVkIGluc3RhbmNlcyBhcyBhbiBhcnJheS5cbiAgICAgICAqL1xuICAgICAgZ2V0SW5zdGFuY2VzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlcztcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0IGEgcmVnaXN0ZXJlZCBpbnN0YW5jZS5cbiAgICAgICAqIEBwYXJhbSBoYW5kbGUgdGhlIFN0cmluZyBoYW5kbGUgdG8gbG9vayB1cCBmb3IgYSByZWdpc3RlcmVkIGluc3RhbmNlLlxuICAgICAgICovXG4gICAgICBnZXQ6IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICBpZiAoICFpc1ZhbGlkSUQoaGFuZGxlKSApIHJldHVybiBudWxsO1xuXG4gICAgICAgIHZhciBpLCBqLCBpbnN0YW5jZTtcbiAgICAgICAgZm9yKGkgPSAwLCBqID0gaW5zdGFuY2VzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgIGluc3RhbmNlID0gaW5zdGFuY2VzW2ldO1xuICAgICAgICAgIGlmKGluc3RhbmNlLiQkbWRIYW5kbGUgPT09IGhhbmRsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUmVnaXN0ZXIgYW4gaW5zdGFuY2UuXG4gICAgICAgKiBAcGFyYW0gaW5zdGFuY2UgdGhlIGluc3RhbmNlIHRvIHJlZ2lzdGVyXG4gICAgICAgKiBAcGFyYW0gaGFuZGxlIHRoZSBoYW5kbGUgdG8gaWRlbnRpZnkgdGhlIGluc3RhbmNlIHVuZGVyLlxuICAgICAgICovXG4gICAgICByZWdpc3RlcjogZnVuY3Rpb24oaW5zdGFuY2UsIGhhbmRsZSkge1xuICAgICAgICBpZiAoICFoYW5kbGUgKSByZXR1cm4gYW5ndWxhci5ub29wO1xuXG4gICAgICAgIGluc3RhbmNlLiQkbWRIYW5kbGUgPSBoYW5kbGU7XG4gICAgICAgIGluc3RhbmNlcy5wdXNoKGluc3RhbmNlKTtcbiAgICAgICAgcmVzb2x2ZVdoZW4oKTtcblxuICAgICAgICByZXR1cm4gZGVyZWdpc3RlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlIHJlZ2lzdHJhdGlvbiBmb3IgYW4gaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGRlcmVnaXN0ZXIoKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gaW5zdGFuY2VzLmluZGV4T2YoaW5zdGFuY2UpO1xuICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGluc3RhbmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXNvbHZlIGFueSBwZW5kaW5nIHByb21pc2VzIGZvciB0aGlzIGluc3RhbmNlXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiByZXNvbHZlV2hlbigpIHtcbiAgICAgICAgICB2YXIgZGZkID0gcGVuZGluZ3NbaGFuZGxlXTtcbiAgICAgICAgICBpZiAoIGRmZCApIHtcbiAgICAgICAgICAgIGRmZC5yZXNvbHZlKCBpbnN0YW5jZSApO1xuICAgICAgICAgICAgZGVsZXRlIHBlbmRpbmdzW2hhbmRsZV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFzeW5jIGFjY2Vzc29yIHRvIHJlZ2lzdGVyZWQgY29tcG9uZW50IGluc3RhbmNlXG4gICAgICAgKiBJZiBub3QgYXZhaWxhYmxlIHRoZW4gYSBwcm9taXNlIGlzIGNyZWF0ZWQgdG8gbm90aWZ5XG4gICAgICAgKiBhbGwgbGlzdGVuZXJzIHdoZW4gdGhlIGluc3RhbmNlIGlzIHJlZ2lzdGVyZWQuXG4gICAgICAgKi9cbiAgICAgIHdoZW4gOiBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgaWYgKCBpc1ZhbGlkSUQoaGFuZGxlKSApIHtcbiAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHNlbGYuZ2V0KGhhbmRsZSk7XG5cbiAgICAgICAgICBpZiAoIGluc3RhbmNlICkgIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoIGluc3RhbmNlICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBlbmRpbmdzW2hhbmRsZV0gPSBkZWZlcnJlZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJHEucmVqZWN0KFwiSW52YWxpZCBgbWQtY29tcG9uZW50LWlkYCB2YWx1ZS5cIik7XG4gICAgICB9XG5cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaXNWYWxpZElEKGhhbmRsZSl7XG4gICAgICByZXR1cm4gaGFuZGxlICYmIChoYW5kbGUgIT09IFwiXCIpO1xuICAgIH1cblxuICB9XG4gIENvbXBvbmVudFJlZ2lzdHJ5LiRpbmplY3QgPSBbXCIkbG9nXCIsIFwiJHFcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJG1kQnV0dG9uSW5rUmlwcGxlXG4gICAqIEBtb2R1bGUgbWF0ZXJpYWwuY29yZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUHJvdmlkZXMgcmlwcGxlIGVmZmVjdHMgZm9yIG1kLWJ1dHRvbi4gIFNlZSAkbWRJbmtSaXBwbGUgc2VydmljZSBmb3IgYWxsIHBvc3NpYmxlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBzY29wZSBTY29wZSB3aXRoaW4gdGhlIGN1cnJlbnQgY29udGV4dFxuICAgKiBAcGFyYW0ge29iamVjdD19IGVsZW1lbnQgVGhlIGVsZW1lbnQgdGhlIHJpcHBsZSBlZmZlY3Qgc2hvdWxkIGJlIGFwcGxpZWQgdG9cbiAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIChPcHRpb25hbCkgQ29uZmlndXJhdGlvbiBvcHRpb25zIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0cmlwcGxlIGNvbmZpZ3VyYXRpb25cbiAgICovXG5cbiAgYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvcmUnKVxuICAgIC5mYWN0b3J5KCckbWRCdXR0b25JbmtSaXBwbGUnLCBNZEJ1dHRvbklua1JpcHBsZSk7XG5cbiAgZnVuY3Rpb24gTWRCdXR0b25JbmtSaXBwbGUoJG1kSW5rUmlwcGxlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGF0dGFjaDogYXR0YWNoXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGF0dGFjaChzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgdmFyIGVsZW1lbnRPcHRpb25zID0gb3B0aW9uc0ZvckVsZW1lbnQoZWxlbWVudCk7XG4gICAgICByZXR1cm4gJG1kSW5rUmlwcGxlLmF0dGFjaChzY29wZSwgZWxlbWVudCwgYW5ndWxhci5leHRlbmQoZWxlbWVudE9wdGlvbnMsIG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gb3B0aW9uc0ZvckVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgaWYgKGVsZW1lbnQuaGFzQ2xhc3MoJ21kLWljb24tYnV0dG9uJykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpc01lbnVJdGVtOiBlbGVtZW50Lmhhc0NsYXNzKCdtZC1tZW51LWl0ZW0nKSxcbiAgICAgICAgICBmaXRSaXBwbGU6IHRydWUsXG4gICAgICAgICAgY2VudGVyOiB0cnVlXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlzTWVudUl0ZW06IGVsZW1lbnQuaGFzQ2xhc3MoJ21kLW1lbnUtaXRlbScpLFxuICAgICAgICAgIGRpbUJhY2tncm91bmQ6IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgTWRCdXR0b25JbmtSaXBwbGUuJGluamVjdCA9IFtcIiRtZElua1JpcHBsZVwiXTs7XG59KSgpO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJG1kQ2hlY2tib3hJbmtSaXBwbGVcbiAgICogQG1vZHVsZSBtYXRlcmlhbC5jb3JlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBQcm92aWRlcyByaXBwbGUgZWZmZWN0cyBmb3IgbWQtY2hlY2tib3guICBTZWUgJG1kSW5rUmlwcGxlIHNlcnZpY2UgZm9yIGFsbCBwb3NzaWJsZSBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gc2NvcGUgU2NvcGUgd2l0aGluIHRoZSBjdXJyZW50IGNvbnRleHRcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBlbGVtZW50IFRoZSBlbGVtZW50IHRoZSByaXBwbGUgZWZmZWN0IHNob3VsZCBiZSBhcHBsaWVkIHRvXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyAoT3B0aW9uYWwpIENvbmZpZ3VyYXRpb24gb3B0aW9ucyB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHJpcHBsZSBjb25maWd1cmF0aW9uXG4gICAqL1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb3JlJylcbiAgICAuZmFjdG9yeSgnJG1kQ2hlY2tib3hJbmtSaXBwbGUnLCBNZENoZWNrYm94SW5rUmlwcGxlKTtcblxuICBmdW5jdGlvbiBNZENoZWNrYm94SW5rUmlwcGxlKCRtZElua1JpcHBsZSkge1xuICAgIHJldHVybiB7XG4gICAgICBhdHRhY2g6IGF0dGFjaFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBhdHRhY2goc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiAkbWRJbmtSaXBwbGUuYXR0YWNoKHNjb3BlLCBlbGVtZW50LCBhbmd1bGFyLmV4dGVuZCh7XG4gICAgICAgIGNlbnRlcjogdHJ1ZSxcbiAgICAgICAgZGltQmFja2dyb3VuZDogZmFsc2UsXG4gICAgICAgIGZpdFJpcHBsZTogdHJ1ZVxuICAgICAgfSwgb3B0aW9ucykpO1xuICAgIH07XG4gIH1cbiAgTWRDaGVja2JveElua1JpcHBsZS4kaW5qZWN0ID0gW1wiJG1kSW5rUmlwcGxlXCJdOztcbn0pKCk7XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJG1kTGlzdElua1JpcHBsZVxuICAgKiBAbW9kdWxlIG1hdGVyaWFsLmNvcmVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFByb3ZpZGVzIHJpcHBsZSBlZmZlY3RzIGZvciBtZC1saXN0LiAgU2VlICRtZElua1JpcHBsZSBzZXJ2aWNlIGZvciBhbGwgcG9zc2libGUgY29uZmlndXJhdGlvbiBvcHRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdD19IHNjb3BlIFNjb3BlIHdpdGhpbiB0aGUgY3VycmVudCBjb250ZXh0XG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gZWxlbWVudCBUaGUgZWxlbWVudCB0aGUgcmlwcGxlIGVmZmVjdCBzaG91bGQgYmUgYXBwbGllZCB0b1xuICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgKE9wdGlvbmFsKSBDb25maWd1cmF0aW9uIG9wdGlvbnMgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRyaXBwbGUgY29uZmlndXJhdGlvblxuICAgKi9cblxuICBhbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29yZScpXG4gICAgLmZhY3RvcnkoJyRtZExpc3RJbmtSaXBwbGUnLCBNZExpc3RJbmtSaXBwbGUpO1xuXG4gIGZ1bmN0aW9uIE1kTGlzdElua1JpcHBsZSgkbWRJbmtSaXBwbGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYXR0YWNoOiBhdHRhY2hcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gYXR0YWNoKHNjb3BlLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gJG1kSW5rUmlwcGxlLmF0dGFjaChzY29wZSwgZWxlbWVudCwgYW5ndWxhci5leHRlbmQoe1xuICAgICAgICBjZW50ZXI6IGZhbHNlLFxuICAgICAgICBkaW1CYWNrZ3JvdW5kOiB0cnVlLFxuICAgICAgICBvdXRsaW5lOiBmYWxzZSxcbiAgICAgICAgcmlwcGxlU2l6ZTogJ2Z1bGwnXG4gICAgICB9LCBvcHRpb25zKSk7XG4gICAgfTtcbiAgfVxuICBNZExpc3RJbmtSaXBwbGUuJGluamVjdCA9IFtcIiRtZElua1JpcHBsZVwiXTs7XG59KSgpO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvcmUnKVxuICAuZmFjdG9yeSgnJG1kSW5rUmlwcGxlJywgSW5rUmlwcGxlU2VydmljZSlcbiAgLmRpcmVjdGl2ZSgnbWRJbmtSaXBwbGUnLCBJbmtSaXBwbGVEaXJlY3RpdmUpXG4gIC5kaXJlY3RpdmUoJ21kTm9JbmsnLCBhdHRyTm9EaXJlY3RpdmUoKSlcbiAgLmRpcmVjdGl2ZSgnbWROb0JhcicsIGF0dHJOb0RpcmVjdGl2ZSgpKVxuICAuZGlyZWN0aXZlKCdtZE5vU3RyZXRjaCcsIGF0dHJOb0RpcmVjdGl2ZSgpKTtcblxuZnVuY3Rpb24gSW5rUmlwcGxlRGlyZWN0aXZlKCRtZEJ1dHRvbklua1JpcHBsZSwgJG1kQ2hlY2tib3hJbmtSaXBwbGUpIHtcbiAgcmV0dXJuIHtcbiAgICBjb250cm9sbGVyOiBhbmd1bGFyLm5vb3AsXG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICBpZiAoYXR0ci5oYXNPd25Qcm9wZXJ0eSgnbWRJbmtSaXBwbGVDaGVja2JveCcpKSB7XG4gICAgICAgICRtZENoZWNrYm94SW5rUmlwcGxlLmF0dGFjaChzY29wZSwgZWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkbWRCdXR0b25JbmtSaXBwbGUuYXR0YWNoKHNjb3BlLCBlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5JbmtSaXBwbGVEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZEJ1dHRvbklua1JpcHBsZVwiLCBcIiRtZENoZWNrYm94SW5rUmlwcGxlXCJdO1xuXG5mdW5jdGlvbiBJbmtSaXBwbGVTZXJ2aWNlKCR3aW5kb3csICR0aW1lb3V0KSB7XG5cbiAgcmV0dXJuIHtcbiAgICBhdHRhY2g6IGF0dGFjaFxuICB9O1xuXG4gIGZ1bmN0aW9uIGF0dGFjaChzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgIGlmIChlbGVtZW50LmNvbnRyb2xsZXIoJ21kTm9JbmsnKSkgcmV0dXJuIGFuZ3VsYXIubm9vcDtcblxuICAgIG9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7XG4gICAgICBjb2xvckVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICBtb3VzZWRvd246IHRydWUsXG4gICAgICBob3ZlcjogdHJ1ZSxcbiAgICAgIGZvY3VzOiB0cnVlLFxuICAgICAgY2VudGVyOiBmYWxzZSxcbiAgICAgIG1vdXNlZG93blBhdXNlVGltZTogMTUwLFxuICAgICAgZGltQmFja2dyb3VuZDogZmFsc2UsXG4gICAgICBvdXRsaW5lOiBmYWxzZSxcbiAgICAgIGZ1bGxSaXBwbGU6IHRydWUsXG4gICAgICBpc01lbnVJdGVtOiBmYWxzZSxcbiAgICAgIGZpdFJpcHBsZTogZmFsc2VcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIHZhciByaXBwbGVTaXplLFxuICAgICAgICBjb250cm9sbGVyID0gZWxlbWVudC5jb250cm9sbGVyKCdtZElua1JpcHBsZScpIHx8IHt9LFxuICAgICAgICBjb3VudGVyID0gMCxcbiAgICAgICAgcmlwcGxlcyA9IFtdLFxuICAgICAgICBzdGF0ZXMgPSBbXSxcbiAgICAgICAgaXNBY3RpdmVFeHByID0gZWxlbWVudC5hdHRyKCdtZC1oaWdobGlnaHQnKSxcbiAgICAgICAgaXNBY3RpdmUgPSBmYWxzZSxcbiAgICAgICAgaXNIZWxkID0gZmFsc2UsXG4gICAgICAgIG5vZGUgPSBlbGVtZW50WzBdLFxuICAgICAgICByaXBwbGVTaXplU2V0dGluZyA9IGVsZW1lbnQuYXR0cignbWQtcmlwcGxlLXNpemUnKSxcbiAgICAgICAgY29sb3IgPSBwYXJzZUNvbG9yKGVsZW1lbnQuYXR0cignbWQtaW5rLXJpcHBsZScpKSB8fCBwYXJzZUNvbG9yKG9wdGlvbnMuY29sb3JFbGVtZW50Lmxlbmd0aCAmJiAkd2luZG93LmdldENvbXB1dGVkU3R5bGUob3B0aW9ucy5jb2xvckVsZW1lbnRbMF0pLmNvbG9yIHx8ICdyZ2IoMCwgMCwgMCknKTtcblxuICAgIHN3aXRjaCAocmlwcGxlU2l6ZVNldHRpbmcpIHtcbiAgICAgIGNhc2UgJ2Z1bGwnOlxuICAgICAgICBvcHRpb25zLmZ1bGxSaXBwbGUgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3BhcnRpYWwnOlxuICAgICAgICBvcHRpb25zLmZ1bGxSaXBwbGUgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLy8gZXhwb3NlIG9uSW5wdXQgZm9yIHJpcHBsZSB0ZXN0aW5nXG4gICAgaWYgKG9wdGlvbnMubW91c2Vkb3duKSB7XG4gICAgICBlbGVtZW50Lm9uKCckbWQucHJlc3Nkb3duJywgb25QcmVzc0Rvd24pXG4gICAgICAgIC5vbignJG1kLnByZXNzdXAnLCBvblByZXNzVXApO1xuICAgIH1cblxuICAgIGNvbnRyb2xsZXIuY3JlYXRlUmlwcGxlID0gY3JlYXRlUmlwcGxlO1xuXG4gICAgaWYgKGlzQWN0aXZlRXhwcikge1xuICAgICAgc2NvcGUuJHdhdGNoKGlzQWN0aXZlRXhwciwgZnVuY3Rpb24gd2F0Y2hBY3RpdmUobmV3VmFsdWUpIHtcbiAgICAgICAgaXNBY3RpdmUgPSBuZXdWYWx1ZTtcbiAgICAgICAgaWYgKGlzQWN0aXZlICYmICFyaXBwbGVzLmxlbmd0aCkge1xuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHsgY3JlYXRlUmlwcGxlKDAsIDApOyB9LCAwLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHJpcHBsZXMsIHVwZGF0ZUVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUHVibGlzaCBzZWxmLWRldGFjaCBtZXRob2QgaWYgZGVzaXJlZC4uLlxuICAgIHJldHVybiBmdW5jdGlvbiBkZXRhY2goKSB7XG4gICAgICBlbGVtZW50Lm9mZignJG1kLnByZXNzZG93bicsIG9uUHJlc3NEb3duKVxuICAgICAgICAub2ZmKCckbWQucHJlc3N1cCcsIG9uUHJlc3NVcCk7XG4gICAgICBnZXRSaXBwbGVDb250YWluZXIoKS5yZW1vdmUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgY3VycmVudCByaXBwbGUgY29udGFpbmVyXG4gICAgICogSWYgdGhlcmUgaXMgbm8gcmlwcGxlIGNvbnRhaW5lciwgaXQgY3JlYXRlcyBvbmUgYW5kIHJldHVybnMgaXRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHthbmd1bGFyLmVsZW1lbnR9IHJpcHBsZSBjb250YWluZXIgZWxlbWVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJpcHBsZUNvbnRhaW5lcigpIHtcbiAgICAgIHZhciBjb250YWluZXIgPSBlbGVtZW50LmRhdGEoJyRtZFJpcHBsZUNvbnRhaW5lcicpO1xuICAgICAgaWYgKGNvbnRhaW5lcikgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICAgIGNvbnRhaW5lciA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBjbGFzcz1cIm1kLXJpcHBsZS1jb250YWluZXJcIj4nKTtcbiAgICAgIGVsZW1lbnQuYXBwZW5kKGNvbnRhaW5lcik7XG4gICAgICBlbGVtZW50LmRhdGEoJyRtZFJpcHBsZUNvbnRhaW5lcicsIGNvbnRhaW5lcik7XG4gICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlQ29sb3IoY29sb3IpIHtcbiAgICAgIGlmICghY29sb3IpIHJldHVybjtcbiAgICAgIGlmIChjb2xvci5pbmRleE9mKCdyZ2JhJykgPT09IDApIHJldHVybiBjb2xvci5yZXBsYWNlKC9cXGQ/XFwuP1xcZCpcXHMqXFwpXFxzKiQvLCAnMC4xKScpO1xuICAgICAgaWYgKGNvbG9yLmluZGV4T2YoJ3JnYicpICA9PT0gMCkgcmV0dXJuIHJnYlRvUkdCQShjb2xvcik7XG4gICAgICBpZiAoY29sb3IuaW5kZXhPZignIycpICAgID09PSAwKSByZXR1cm4gaGV4VG9SR0JBKGNvbG9yKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBDb252ZXJ0cyBhIGhleCB2YWx1ZSB0byBhbiByZ2JhIHN0cmluZ1xuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBoZXggdmFsdWUgKDMgb3IgNiBkaWdpdHMpIHRvIGJlIGNvbnZlcnRlZFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHJnYmEgY29sb3Igd2l0aCAwLjEgYWxwaGFcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gaGV4VG9SR0JBKGNvbG9yKSB7XG4gICAgICAgIHZhciBoZXggPSBjb2xvci5jaGFyQXQoMCkgPT09ICcjJyA/IGNvbG9yLnN1YnN0cigxKSA6IGNvbG9yLFxuICAgICAgICAgIGRpZyA9IGhleC5sZW5ndGggLyAzLFxuICAgICAgICAgIHJlZCA9IGhleC5zdWJzdHIoMCwgZGlnKSxcbiAgICAgICAgICBncm4gPSBoZXguc3Vic3RyKGRpZywgZGlnKSxcbiAgICAgICAgICBibHUgPSBoZXguc3Vic3RyKGRpZyAqIDIpO1xuICAgICAgICBpZiAoZGlnID09PSAxKSB7XG4gICAgICAgICAgcmVkICs9IHJlZDtcbiAgICAgICAgICBncm4gKz0gZ3JuO1xuICAgICAgICAgIGJsdSArPSBibHU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdyZ2JhKCcgKyBwYXJzZUludChyZWQsIDE2KSArICcsJyArIHBhcnNlSW50KGdybiwgMTYpICsgJywnICsgcGFyc2VJbnQoYmx1LCAxNikgKyAnLDAuMSknO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENvbnZlcnRzIHJnYiB2YWx1ZSB0byByZ2JhIHN0cmluZ1xuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZ2IgY29sb3Igc3RyaW5nXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge3N0cmluZ30gcmdiYSBjb2xvciB3aXRoIDAuMSBhbHBoYVxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiByZ2JUb1JHQkEoY29sb3IpIHtcbiAgICAgICAgcmV0dXJuIGNvbG9yLnJlcGxhY2UoJyknLCAnLCAwLjEpJykucmVwbGFjZSgnKCcsICdhKCcpO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudChlbGVtLCB3YWl0KSB7XG4gICAgICByaXBwbGVzLnNwbGljZShyaXBwbGVzLmluZGV4T2YoZWxlbSksIDEpO1xuICAgICAgaWYgKHJpcHBsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGdldFJpcHBsZUNvbnRhaW5lcigpLmNzcyh7IGJhY2tncm91bmRDb2xvcjogJycgfSk7XG4gICAgICB9XG4gICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7IGVsZW0ucmVtb3ZlKCk7IH0sIHdhaXQsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVFbGVtZW50KGVsZW0pIHtcbiAgICAgIHZhciBpbmRleCA9IHJpcHBsZXMuaW5kZXhPZihlbGVtKSxcbiAgICAgICAgICBzdGF0ZSA9IHN0YXRlc1tpbmRleF0gfHwge30sXG4gICAgICAgICAgZWxlbUlzQWN0aXZlID0gcmlwcGxlcy5sZW5ndGggPiAxID8gZmFsc2UgOiBpc0FjdGl2ZSxcbiAgICAgICAgICBlbGVtSXNIZWxkICAgPSByaXBwbGVzLmxlbmd0aCA+IDEgPyBmYWxzZSA6IGlzSGVsZDtcbiAgICAgIGlmIChlbGVtSXNBY3RpdmUgfHwgc3RhdGUuYW5pbWF0aW5nIHx8IGVsZW1Jc0hlbGQpIHtcbiAgICAgICAgZWxlbS5hZGRDbGFzcygnbWQtcmlwcGxlLXZpc2libGUnKTtcbiAgICAgIH0gZWxzZSBpZiAoZWxlbSkge1xuICAgICAgICBlbGVtLnJlbW92ZUNsYXNzKCdtZC1yaXBwbGUtdmlzaWJsZScpO1xuICAgICAgICBpZiAob3B0aW9ucy5vdXRsaW5lKSB7XG4gICAgICAgICAgZWxlbS5jc3Moe1xuICAgICAgICAgICAgd2lkdGg6IHJpcHBsZVNpemUgKyAncHgnLFxuICAgICAgICAgICAgaGVpZ2h0OiByaXBwbGVTaXplICsgJ3B4JyxcbiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IChyaXBwbGVTaXplICogLTEpICsgJ3B4JyxcbiAgICAgICAgICAgIG1hcmdpblRvcDogKHJpcHBsZVNpemUgKiAtMSkgKyAncHgnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlRWxlbWVudChlbGVtLCBvcHRpb25zLm91dGxpbmUgPyA0NTAgOiA2NTApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSByaXBwbGUgYXQgdGhlIHByb3ZpZGVkIGNvb3JkaW5hdGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVmdCBjdXJzb3IgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9wIGN1cnNvciBwb3NpdGlvblxuICAgICAqXG4gICAgICogQHJldHVybnMge2FuZ3VsYXIuZWxlbWVudH0gdGhlIGdlbmVyYXRlZCByaXBwbGUgZWxlbWVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJpcHBsZShsZWZ0LCB0b3ApIHtcblxuICAgICAgY29sb3IgPSBwYXJzZUNvbG9yKGVsZW1lbnQuYXR0cignbWQtaW5rLXJpcHBsZScpKSB8fCBwYXJzZUNvbG9yKCR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShvcHRpb25zLmNvbG9yRWxlbWVudFswXSkuY29sb3IgfHwgJ3JnYigwLCAwLCAwKScpO1xuXG4gICAgICB2YXIgY29udGFpbmVyID0gZ2V0UmlwcGxlQ29udGFpbmVyKCksXG4gICAgICAgICAgc2l6ZSA9IGdldFJpcHBsZVNpemUobGVmdCwgdG9wKSxcbiAgICAgICAgICBjc3MgPSBnZXRSaXBwbGVDc3Moc2l6ZSwgbGVmdCwgdG9wKSxcbiAgICAgICAgICBlbGVtID0gZ2V0UmlwcGxlRWxlbWVudChjc3MpLFxuICAgICAgICAgIGluZGV4ID0gcmlwcGxlcy5pbmRleE9mKGVsZW0pLFxuICAgICAgICAgIHN0YXRlID0gc3RhdGVzW2luZGV4XSB8fCB7fTtcblxuICAgICAgcmlwcGxlU2l6ZSA9IHNpemU7XG5cbiAgICAgIHN0YXRlLmFuaW1hdGluZyA9IHRydWU7XG5cbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuZGltQmFja2dyb3VuZCkge1xuICAgICAgICAgIGNvbnRhaW5lci5jc3MoeyBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsZW0uYWRkQ2xhc3MoJ21kLXJpcHBsZS1wbGFjZWQgbWQtcmlwcGxlLXNjYWxlZCcpO1xuICAgICAgICBpZiAob3B0aW9ucy5vdXRsaW5lKSB7XG4gICAgICAgICAgZWxlbS5jc3Moe1xuICAgICAgICAgICAgYm9yZGVyV2lkdGg6IChzaXplICogMC41KSArICdweCcsXG4gICAgICAgICAgICBtYXJnaW5MZWZ0OiAoc2l6ZSAqIC0wLjUpICsgJ3B4JyxcbiAgICAgICAgICAgIG1hcmdpblRvcDogKHNpemUgKiAtMC41KSArICdweCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtLmNzcyh7IGxlZnQ6ICc1MCUnLCB0b3A6ICc1MCUnIH0pO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUVsZW1lbnQoZWxlbSk7XG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzdGF0ZS5hbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICB1cGRhdGVFbGVtZW50KGVsZW0pO1xuICAgICAgICB9LCAob3B0aW9ucy5vdXRsaW5lID8gNDUwIDogMjI1KSwgZmFsc2UpO1xuICAgICAgfSwgMCwgZmFsc2UpO1xuXG4gICAgICByZXR1cm4gZWxlbTtcblxuICAgICAgLyoqXG4gICAgICAgKiBDcmVhdGVzIHRoZSByaXBwbGUgZWxlbWVudCB3aXRoIHRoZSBwcm92aWRlZCBjc3NcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gY3NzIHByb3BlcnRpZXMgdG8gYmUgYXBwbGllZFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHthbmd1bGFyLmVsZW1lbnR9IHRoZSBnZW5lcmF0ZWQgcmlwcGxlIGVsZW1lbnRcbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gZ2V0UmlwcGxlRWxlbWVudChjc3MpIHtcbiAgICAgICAgdmFyIGVsZW0gPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgY2xhc3M9XCJtZC1yaXBwbGVcIiBkYXRhLWNvdW50ZXI9XCInICsgY291bnRlcisrICsgJ1wiPicpO1xuICAgICAgICByaXBwbGVzLnVuc2hpZnQoZWxlbSk7XG4gICAgICAgIHN0YXRlcy51bnNoaWZ0KHsgYW5pbWF0aW5nOiB0cnVlIH0pO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kKGVsZW0pO1xuICAgICAgICBjc3MgJiYgZWxlbS5jc3MoY3NzKTtcbiAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ2FsY3VsYXRlIHRoZSByaXBwbGUgc2l6ZVxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IGNhbGN1bGF0ZWQgcmlwcGxlIGRpYW1ldGVyXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGdldFJpcHBsZVNpemUobGVmdCwgdG9wKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IGNvbnRhaW5lci5wcm9wKCdvZmZzZXRXaWR0aCcpLFxuICAgICAgICAgICAgaGVpZ2h0ID0gY29udGFpbmVyLnByb3AoJ29mZnNldEhlaWdodCcpLFxuICAgICAgICAgICAgbXVsdGlwbGllciwgc2l6ZSwgcmVjdDtcbiAgICAgICAgaWYgKG9wdGlvbnMuaXNNZW51SXRlbSkge1xuICAgICAgICAgIHNpemUgPSBNYXRoLnNxcnQoTWF0aC5wb3cod2lkdGgsIDIpICsgTWF0aC5wb3coaGVpZ2h0LCAyKSk7XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5vdXRsaW5lKSB7XG4gICAgICAgICAgcmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgbGVmdCAtPSByZWN0LmxlZnQ7XG4gICAgICAgICAgdG9wIC09IHJlY3QudG9wO1xuICAgICAgICAgIHdpZHRoID0gTWF0aC5tYXgobGVmdCwgd2lkdGggLSBsZWZ0KTtcbiAgICAgICAgICBoZWlnaHQgPSBNYXRoLm1heCh0b3AsIGhlaWdodCAtIHRvcCk7XG4gICAgICAgICAgc2l6ZSA9IDIgKiBNYXRoLnNxcnQoTWF0aC5wb3cod2lkdGgsIDIpICsgTWF0aC5wb3coaGVpZ2h0LCAyKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbXVsdGlwbGllciA9IG9wdGlvbnMuZnVsbFJpcHBsZSA/IDEuMSA6IDAuODtcbiAgICAgICAgICBzaXplID0gTWF0aC5zcXJ0KE1hdGgucG93KHdpZHRoLCAyKSArIE1hdGgucG93KGhlaWdodCwgMikpICogbXVsdGlwbGllcjtcbiAgICAgICAgICBpZiAob3B0aW9ucy5maXRSaXBwbGUpIHtcbiAgICAgICAgICAgIHNpemUgPSBNYXRoLm1pbihoZWlnaHQsIHdpZHRoLCBzaXplKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogR2VuZXJhdGVzIHRoZSByaXBwbGUgY3NzXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHRoZSBkaWFtZXRlciBvZiB0aGUgcmlwcGxlXG4gICAgICAgKiBAcGFyYW0ge251bWJlcn0gdGhlIGxlZnQgY3Vyc29yIG9mZnNldFxuICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHRoZSB0b3AgY3Vyc29yIG9mZnNldFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHt7YmFja2dyb3VuZENvbG9yOiBzdHJpbmcsIGJvcmRlckNvbG9yOiBzdHJpbmcsIHdpZHRoOiBzdHJpbmcsIGhlaWdodDogc3RyaW5nfX1cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gZ2V0UmlwcGxlQ3NzKHNpemUsIGxlZnQsIHRvcCkge1xuICAgICAgICB2YXIgcmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgICBjc3MgID0ge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHJnYmFUb1JHQihjb2xvciksXG4gICAgICAgICAgICAgIGJvcmRlckNvbG9yOiByZ2JhVG9SR0IoY29sb3IpLFxuICAgICAgICAgICAgICB3aWR0aDogc2l6ZSArICdweCcsXG4gICAgICAgICAgICAgIGhlaWdodDogc2l6ZSArICdweCdcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgaWYgKG9wdGlvbnMub3V0bGluZSkge1xuICAgICAgICAgIGNzcy53aWR0aCA9IDA7XG4gICAgICAgICAgY3NzLmhlaWdodCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3NzLm1hcmdpbkxlZnQgPSBjc3MubWFyZ2luVG9wID0gKHNpemUgKiAtMC41KSArICdweCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5jZW50ZXIpIHtcbiAgICAgICAgICBjc3MubGVmdCA9IGNzcy50b3AgPSAnNTAlJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjc3MubGVmdCA9IE1hdGgucm91bmQoKGxlZnQgLSByZWN0LmxlZnQpIC8gY29udGFpbmVyLnByb3AoJ29mZnNldFdpZHRoJykgKiAxMDApICsgJyUnO1xuICAgICAgICAgIGNzcy50b3AgPSBNYXRoLnJvdW5kKCh0b3AgLSByZWN0LnRvcCkgLyBjb250YWluZXIucHJvcCgnb2Zmc2V0SGVpZ2h0JykgKiAxMDApICsgJyUnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNzcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udmVydHMgcmdiYSBzdHJpbmcgdG8gcmdiLCByZW1vdmluZyB0aGUgYWxwaGEgdmFsdWVcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHJnYmEgY29sb3JcbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gcmdiIGNvbG9yXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiByZ2JhVG9SR0IoY29sb3IpIHtcbiAgICAgICAgICByZXR1cm4gY29sb3IucmVwbGFjZSgncmdiYScsICdyZ2InKS5yZXBsYWNlKC8sW15cXCksXStcXCkvLCAnKScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB1c2VyIGlucHV0IHN0YXJ0IGFuZCBzdG9wIGV2ZW50c1xuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25QcmVzc0Rvd24oZXYpIHtcbiAgICAgIGlmICghaXNSaXBwbGVBbGxvd2VkKCkpIHJldHVybjtcblxuICAgICAgY3JlYXRlUmlwcGxlKGV2LnBvaW50ZXIueCwgZXYucG9pbnRlci55KTtcbiAgICAgIGlzSGVsZCA9IHRydWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uUHJlc3NVcCgpIHtcbiAgICAgIGlzSGVsZCA9IGZhbHNlO1xuICAgICAgdmFyIHJpcHBsZSA9IHJpcHBsZXNbIHJpcHBsZXMubGVuZ3RoIC0gMSBdO1xuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkgeyB1cGRhdGVFbGVtZW50KHJpcHBsZSk7IH0sIDAsIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSByaXBwbGUgaXMgYWxsb3dlZFxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIHJpcHBsZSBpcyBhbGxvd2VkLCBmYWxzZSBpZiBub3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1JpcHBsZUFsbG93ZWQoKSB7XG4gICAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgdmFyIGdyYW5kcGFyZW50ID0gcGFyZW50ICYmIHBhcmVudC5wYXJlbnROb2RlO1xuICAgICAgdmFyIGFuY2VzdG9yID0gZ3JhbmRwYXJlbnQgJiYgZ3JhbmRwYXJlbnQucGFyZW50Tm9kZTtcbiAgICAgIHJldHVybiAhaXNEaXNhYmxlZChub2RlKSAmJiAhaXNEaXNhYmxlZChwYXJlbnQpICYmICFpc0Rpc2FibGVkKGdyYW5kcGFyZW50KSAmJiAhaXNEaXNhYmxlZChhbmNlc3Rvcik7XG4gICAgICBmdW5jdGlvbiBpc0Rpc2FibGVkIChlbGVtKSB7XG4gICAgICAgIHJldHVybiBlbGVtICYmIGVsZW0uaGFzQXR0cmlidXRlICYmIGVsZW0uaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgfVxuICAgIH1cblxuICB9XG59XG5JbmtSaXBwbGVTZXJ2aWNlLiRpbmplY3QgPSBbXCIkd2luZG93XCIsIFwiJHRpbWVvdXRcIl07XG5cbi8qKlxuICogbm9pbmsvbm9iYXIvbm9zdHJldGNoIGRpcmVjdGl2ZTogbWFrZSBhbnkgZWxlbWVudCB0aGF0IGhhcyBvbmUgb2ZcbiAqIHRoZXNlIGF0dHJpYnV0ZXMgYmUgZ2l2ZW4gYSBjb250cm9sbGVyLCBzbyB0aGF0IG90aGVyIGRpcmVjdGl2ZXMgY2FuXG4gKiBgcmVxdWlyZTpgIHRoZXNlIGFuZCBzZWUgaWYgdGhlcmUgaXMgYSBgbm88eHh4PmAgcGFyZW50IGF0dHJpYnV0ZS5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8cGFyZW50IG1kLW5vLWluaz5cbiAqICAgPGNoaWxkIGRldGVjdC1ubz5cbiAqICAgPC9jaGlsZD5cbiAqIDwvcGFyZW50PlxuICogPC9obGpzPlxuICpcbiAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICogbXlBcHAuZGlyZWN0aXZlKCdkZXRlY3RObycsIGZ1bmN0aW9uKCkge1xuICogICByZXR1cm4ge1xuICogICAgIHJlcXVpcmU6IFsnXj9tZE5vSW5rJywgXj9tZE5vQmFyJ10sXG4gKiAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gKiAgICAgICB2YXIgbm9pbmtDdHJsID0gY3RybHNbMF07XG4gKiAgICAgICB2YXIgbm9iYXJDdHJsID0gY3RybHNbMV07XG4gKiAgICAgICBpZiAobm9JbmtDdHJsKSB7XG4gKiAgICAgICAgIGFsZXJ0KFwidGhlIG1kLW5vLWluayBmbGFnIGhhcyBiZWVuIHNwZWNpZmllZCBvbiBhbiBhbmNlc3RvciFcIik7XG4gKiAgICAgICB9XG4gKiAgICAgICBpZiAobm9iYXJDdHJsKSB7XG4gKiAgICAgICAgIGFsZXJ0KFwidGhlIG1kLW5vLWJhciBmbGFnIGhhcyBiZWVuIHNwZWNpZmllZCBvbiBhbiBhbmNlc3RvciFcIik7XG4gKiAgICAgICB9XG4gKiAgICAgfVxuICogICB9O1xuICogfSk7XG4gKiA8L2hsanM+XG4gKi9cbmZ1bmN0aW9uIGF0dHJOb0RpcmVjdGl2ZSgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjb250cm9sbGVyOiBhbmd1bGFyLm5vb3BcbiAgICB9O1xuICB9O1xufVxuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJG1kVGFiSW5rUmlwcGxlXG4gICAqIEBtb2R1bGUgbWF0ZXJpYWwuY29yZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUHJvdmlkZXMgcmlwcGxlIGVmZmVjdHMgZm9yIG1kLXRhYnMuICBTZWUgJG1kSW5rUmlwcGxlIHNlcnZpY2UgZm9yIGFsbCBwb3NzaWJsZSBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gc2NvcGUgU2NvcGUgd2l0aGluIHRoZSBjdXJyZW50IGNvbnRleHRcbiAgICogQHBhcmFtIHtvYmplY3Q9fSBlbGVtZW50IFRoZSBlbGVtZW50IHRoZSByaXBwbGUgZWZmZWN0IHNob3VsZCBiZSBhcHBsaWVkIHRvXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyAoT3B0aW9uYWwpIENvbmZpZ3VyYXRpb24gb3B0aW9ucyB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHJpcHBsZSBjb25maWd1cmF0aW9uXG4gICAqL1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb3JlJylcbiAgICAuZmFjdG9yeSgnJG1kVGFiSW5rUmlwcGxlJywgTWRUYWJJbmtSaXBwbGUpO1xuXG4gIGZ1bmN0aW9uIE1kVGFiSW5rUmlwcGxlKCRtZElua1JpcHBsZSkge1xuICAgIHJldHVybiB7XG4gICAgICBhdHRhY2g6IGF0dGFjaFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBhdHRhY2goc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiAkbWRJbmtSaXBwbGUuYXR0YWNoKHNjb3BlLCBlbGVtZW50LCBhbmd1bGFyLmV4dGVuZCh7XG4gICAgICAgIGNlbnRlcjogZmFsc2UsXG4gICAgICAgIGRpbUJhY2tncm91bmQ6IHRydWUsXG4gICAgICAgIG91dGxpbmU6IGZhbHNlLFxuICAgICAgICByaXBwbGVTaXplOiAnZnVsbCdcbiAgICAgIH0sIG9wdGlvbnMpKTtcbiAgICB9O1xuICB9XG4gIE1kVGFiSW5rUmlwcGxlLiRpbmplY3QgPSBbXCIkbWRJbmtSaXBwbGVcIl07O1xufSkoKTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb3JlLnRoZW1pbmcucGFsZXR0ZScsIFtdKVxuLmNvbnN0YW50KCckbWRDb2xvclBhbGV0dGUnLCB7XG4gICdyZWQnOiB7XG4gICAgJzUwJzogJyNmZmViZWUnLFxuICAgICcxMDAnOiAnI2ZmY2RkMicsXG4gICAgJzIwMCc6ICcjZWY5YTlhJyxcbiAgICAnMzAwJzogJyNlNTczNzMnLFxuICAgICc0MDAnOiAnI2VmNTM1MCcsXG4gICAgJzUwMCc6ICcjZjQ0MzM2JyxcbiAgICAnNjAwJzogJyNlNTM5MzUnLFxuICAgICc3MDAnOiAnI2QzMmYyZicsXG4gICAgJzgwMCc6ICcjYzYyODI4JyxcbiAgICAnOTAwJzogJyNiNzFjMWMnLFxuICAgICdBMTAwJzogJyNmZjhhODAnLFxuICAgICdBMjAwJzogJyNmZjUyNTInLFxuICAgICdBNDAwJzogJyNmZjE3NDQnLFxuICAgICdBNzAwJzogJyNkNTAwMDAnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXG4gICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6ICc1MCAxMDAgMjAwIDMwMCA0MDAgQTEwMCcsXG4gICAgJ2NvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMnOiAnNTAwIDYwMCA3MDAgQTIwMCBBNDAwIEE3MDAnXG4gIH0sXG4gICdwaW5rJzoge1xuICAgICc1MCc6ICcjZmNlNGVjJyxcbiAgICAnMTAwJzogJyNmOGJiZDAnLFxuICAgICcyMDAnOiAnI2Y0OGZiMScsXG4gICAgJzMwMCc6ICcjZjA2MjkyJyxcbiAgICAnNDAwJzogJyNlYzQwN2EnLFxuICAgICc1MDAnOiAnI2U5MWU2MycsXG4gICAgJzYwMCc6ICcjZDgxYjYwJyxcbiAgICAnNzAwJzogJyNjMjE4NWInLFxuICAgICc4MDAnOiAnI2FkMTQ1NycsXG4gICAgJzkwMCc6ICcjODgwZTRmJyxcbiAgICAnQTEwMCc6ICcjZmY4MGFiJyxcbiAgICAnQTIwMCc6ICcjZmY0MDgxJyxcbiAgICAnQTQwMCc6ICcjZjUwMDU3JyxcbiAgICAnQTcwMCc6ICcjYzUxMTYyJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxuICAgICdjb250cmFzdERhcmtDb2xvcnMnOiAnNTAgMTAwIDIwMCAzMDAgNDAwIEExMDAnLFxuICAgICdjb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzJzogJzUwMCA2MDAgQTIwMCBBNDAwIEE3MDAnXG4gIH0sXG4gICdwdXJwbGUnOiB7XG4gICAgJzUwJzogJyNmM2U1ZjUnLFxuICAgICcxMDAnOiAnI2UxYmVlNycsXG4gICAgJzIwMCc6ICcjY2U5M2Q4JyxcbiAgICAnMzAwJzogJyNiYTY4YzgnLFxuICAgICc0MDAnOiAnI2FiNDdiYycsXG4gICAgJzUwMCc6ICcjOWMyN2IwJyxcbiAgICAnNjAwJzogJyM4ZTI0YWEnLFxuICAgICc3MDAnOiAnIzdiMWZhMicsXG4gICAgJzgwMCc6ICcjNmExYjlhJyxcbiAgICAnOTAwJzogJyM0YTE0OGMnLFxuICAgICdBMTAwJzogJyNlYTgwZmMnLFxuICAgICdBMjAwJzogJyNlMDQwZmInLFxuICAgICdBNDAwJzogJyNkNTAwZjknLFxuICAgICdBNzAwJzogJyNhYTAwZmYnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXG4gICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6ICc1MCAxMDAgMjAwIEExMDAnLFxuICAgICdjb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzJzogJzMwMCA0MDAgQTIwMCBBNDAwIEE3MDAnXG4gIH0sXG4gICdkZWVwLXB1cnBsZSc6IHtcbiAgICAnNTAnOiAnI2VkZTdmNicsXG4gICAgJzEwMCc6ICcjZDFjNGU5JyxcbiAgICAnMjAwJzogJyNiMzlkZGInLFxuICAgICczMDAnOiAnIzk1NzVjZCcsXG4gICAgJzQwMCc6ICcjN2U1N2MyJyxcbiAgICAnNTAwJzogJyM2NzNhYjcnLFxuICAgICc2MDAnOiAnIzVlMzViMScsXG4gICAgJzcwMCc6ICcjNTEyZGE4JyxcbiAgICAnODAwJzogJyM0NTI3YTAnLFxuICAgICc5MDAnOiAnIzMxMWI5MicsXG4gICAgJ0ExMDAnOiAnI2IzODhmZicsXG4gICAgJ0EyMDAnOiAnIzdjNGRmZicsXG4gICAgJ0E0MDAnOiAnIzY1MWZmZicsXG4gICAgJ0E3MDAnOiAnIzYyMDBlYScsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcbiAgICAnY29udHJhc3REYXJrQ29sb3JzJzogJzUwIDEwMCAyMDAgQTEwMCcsXG4gICAgJ2NvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMnOiAnMzAwIDQwMCBBMjAwJ1xuICB9LFxuICAnaW5kaWdvJzoge1xuICAgICc1MCc6ICcjZThlYWY2JyxcbiAgICAnMTAwJzogJyNjNWNhZTknLFxuICAgICcyMDAnOiAnIzlmYThkYScsXG4gICAgJzMwMCc6ICcjNzk4NmNiJyxcbiAgICAnNDAwJzogJyM1YzZiYzAnLFxuICAgICc1MDAnOiAnIzNmNTFiNScsXG4gICAgJzYwMCc6ICcjMzk0OWFiJyxcbiAgICAnNzAwJzogJyMzMDNmOWYnLFxuICAgICc4MDAnOiAnIzI4MzU5MycsXG4gICAgJzkwMCc6ICcjMWEyMzdlJyxcbiAgICAnQTEwMCc6ICcjOGM5ZWZmJyxcbiAgICAnQTIwMCc6ICcjNTM2ZGZlJyxcbiAgICAnQTQwMCc6ICcjM2Q1YWZlJyxcbiAgICAnQTcwMCc6ICcjMzA0ZmZlJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxuICAgICdjb250cmFzdERhcmtDb2xvcnMnOiAnNTAgMTAwIDIwMCBBMTAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICczMDAgNDAwIEEyMDAgQTQwMCdcbiAgfSxcbiAgJ2JsdWUnOiB7XG4gICAgJzUwJzogJyNlM2YyZmQnLFxuICAgICcxMDAnOiAnI2JiZGVmYicsXG4gICAgJzIwMCc6ICcjOTBjYWY5JyxcbiAgICAnMzAwJzogJyM2NGI1ZjYnLFxuICAgICc0MDAnOiAnIzQyYTVmNScsXG4gICAgJzUwMCc6ICcjMjE5NmYzJyxcbiAgICAnNjAwJzogJyMxZTg4ZTUnLFxuICAgICc3MDAnOiAnIzE5NzZkMicsXG4gICAgJzgwMCc6ICcjMTU2NWMwJyxcbiAgICAnOTAwJzogJyMwZDQ3YTEnLFxuICAgICdBMTAwJzogJyM4MmIxZmYnLFxuICAgICdBMjAwJzogJyM0NDhhZmYnLFxuICAgICdBNDAwJzogJyMyOTc5ZmYnLFxuICAgICdBNzAwJzogJyMyOTYyZmYnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXG4gICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6ICcxMDAgMjAwIDMwMCA0MDAgQTEwMCcsXG4gICAgJ2NvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMnOiAnNTAwIDYwMCA3MDAgQTIwMCBBNDAwIEE3MDAnXG4gIH0sXG4gICdsaWdodC1ibHVlJzoge1xuICAgICc1MCc6ICcjZTFmNWZlJyxcbiAgICAnMTAwJzogJyNiM2U1ZmMnLFxuICAgICcyMDAnOiAnIzgxZDRmYScsXG4gICAgJzMwMCc6ICcjNGZjM2Y3JyxcbiAgICAnNDAwJzogJyMyOWI2ZjYnLFxuICAgICc1MDAnOiAnIzAzYTlmNCcsXG4gICAgJzYwMCc6ICcjMDM5YmU1JyxcbiAgICAnNzAwJzogJyMwMjg4ZDEnLFxuICAgICc4MDAnOiAnIzAyNzdiZCcsXG4gICAgJzkwMCc6ICcjMDE1NzliJyxcbiAgICAnQTEwMCc6ICcjODBkOGZmJyxcbiAgICAnQTIwMCc6ICcjNDBjNGZmJyxcbiAgICAnQTQwMCc6ICcjMDBiMGZmJyxcbiAgICAnQTcwMCc6ICcjMDA5MWVhJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnZGFyaycsXG4gICAgJ2NvbnRyYXN0TGlnaHRDb2xvcnMnOiAnNTAwIDYwMCA3MDAgODAwIDkwMCBBNzAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICc1MDAgNjAwIDcwMCA4MDAgQTcwMCdcbiAgfSxcbiAgJ2N5YW4nOiB7XG4gICAgJzUwJzogJyNlMGY3ZmEnLFxuICAgICcxMDAnOiAnI2IyZWJmMicsXG4gICAgJzIwMCc6ICcjODBkZWVhJyxcbiAgICAnMzAwJzogJyM0ZGQwZTEnLFxuICAgICc0MDAnOiAnIzI2YzZkYScsXG4gICAgJzUwMCc6ICcjMDBiY2Q0JyxcbiAgICAnNjAwJzogJyMwMGFjYzEnLFxuICAgICc3MDAnOiAnIzAwOTdhNycsXG4gICAgJzgwMCc6ICcjMDA4MzhmJyxcbiAgICAnOTAwJzogJyMwMDYwNjQnLFxuICAgICdBMTAwJzogJyM4NGZmZmYnLFxuICAgICdBMjAwJzogJyMxOGZmZmYnLFxuICAgICdBNDAwJzogJyMwMGU1ZmYnLFxuICAgICdBNzAwJzogJyMwMGI4ZDQnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdkYXJrJyxcbiAgICAnY29udHJhc3RMaWdodENvbG9ycyc6ICc1MDAgNjAwIDcwMCA4MDAgOTAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICc1MDAgNjAwIDcwMCA4MDAnXG4gIH0sXG4gICd0ZWFsJzoge1xuICAgICc1MCc6ICcjZTBmMmYxJyxcbiAgICAnMTAwJzogJyNiMmRmZGInLFxuICAgICcyMDAnOiAnIzgwY2JjNCcsXG4gICAgJzMwMCc6ICcjNGRiNmFjJyxcbiAgICAnNDAwJzogJyMyNmE2OWEnLFxuICAgICc1MDAnOiAnIzAwOTY4OCcsXG4gICAgJzYwMCc6ICcjMDA4OTdiJyxcbiAgICAnNzAwJzogJyMwMDc5NmInLFxuICAgICc4MDAnOiAnIzAwNjk1YycsXG4gICAgJzkwMCc6ICcjMDA0ZDQwJyxcbiAgICAnQTEwMCc6ICcjYTdmZmViJyxcbiAgICAnQTIwMCc6ICcjNjRmZmRhJyxcbiAgICAnQTQwMCc6ICcjMWRlOWI2JyxcbiAgICAnQTcwMCc6ICcjMDBiZmE1JyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnZGFyaycsXG4gICAgJ2NvbnRyYXN0TGlnaHRDb2xvcnMnOiAnNTAwIDYwMCA3MDAgODAwIDkwMCcsXG4gICAgJ2NvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMnOiAnNTAwIDYwMCA3MDAnXG4gIH0sXG4gICdncmVlbic6IHtcbiAgICAnNTAnOiAnI2U4ZjVlOScsXG4gICAgJzEwMCc6ICcjYzhlNmM5JyxcbiAgICAnMjAwJzogJyNhNWQ2YTcnLFxuICAgICczMDAnOiAnIzgxYzc4NCcsXG4gICAgJzQwMCc6ICcjNjZiYjZhJyxcbiAgICAnNTAwJzogJyM0Y2FmNTAnLFxuICAgICc2MDAnOiAnIzQzYTA0NycsXG4gICAgJzcwMCc6ICcjMzg4ZTNjJyxcbiAgICAnODAwJzogJyMyZTdkMzInLFxuICAgICc5MDAnOiAnIzFiNWUyMCcsXG4gICAgJ0ExMDAnOiAnI2I5ZjZjYScsXG4gICAgJ0EyMDAnOiAnIzY5ZjBhZScsXG4gICAgJ0E0MDAnOiAnIzAwZTY3NicsXG4gICAgJ0E3MDAnOiAnIzAwYzg1MycsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2RhcmsnLFxuICAgICdjb250cmFzdExpZ2h0Q29sb3JzJzogJzUwMCA2MDAgNzAwIDgwMCA5MDAnLFxuICAgICdjb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzJzogJzUwMCA2MDAgNzAwJ1xuICB9LFxuICAnbGlnaHQtZ3JlZW4nOiB7XG4gICAgJzUwJzogJyNmMWY4ZTknLFxuICAgICcxMDAnOiAnI2RjZWRjOCcsXG4gICAgJzIwMCc6ICcjYzVlMWE1JyxcbiAgICAnMzAwJzogJyNhZWQ1ODEnLFxuICAgICc0MDAnOiAnIzljY2M2NScsXG4gICAgJzUwMCc6ICcjOGJjMzRhJyxcbiAgICAnNjAwJzogJyM3Y2IzNDInLFxuICAgICc3MDAnOiAnIzY4OWYzOCcsXG4gICAgJzgwMCc6ICcjNTU4YjJmJyxcbiAgICAnOTAwJzogJyMzMzY5MWUnLFxuICAgICdBMTAwJzogJyNjY2ZmOTAnLFxuICAgICdBMjAwJzogJyNiMmZmNTknLFxuICAgICdBNDAwJzogJyM3NmZmMDMnLFxuICAgICdBNzAwJzogJyM2NGRkMTcnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdkYXJrJyxcbiAgICAnY29udHJhc3RMaWdodENvbG9ycyc6ICc4MDAgOTAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICc4MDAgOTAwJ1xuICB9LFxuICAnbGltZSc6IHtcbiAgICAnNTAnOiAnI2Y5ZmJlNycsXG4gICAgJzEwMCc6ICcjZjBmNGMzJyxcbiAgICAnMjAwJzogJyNlNmVlOWMnLFxuICAgICczMDAnOiAnI2RjZTc3NScsXG4gICAgJzQwMCc6ICcjZDRlMTU3JyxcbiAgICAnNTAwJzogJyNjZGRjMzknLFxuICAgICc2MDAnOiAnI2MwY2EzMycsXG4gICAgJzcwMCc6ICcjYWZiNDJiJyxcbiAgICAnODAwJzogJyM5ZTlkMjQnLFxuICAgICc5MDAnOiAnIzgyNzcxNycsXG4gICAgJ0ExMDAnOiAnI2Y0ZmY4MScsXG4gICAgJ0EyMDAnOiAnI2VlZmY0MScsXG4gICAgJ0E0MDAnOiAnI2M2ZmYwMCcsXG4gICAgJ0E3MDAnOiAnI2FlZWEwMCcsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2RhcmsnLFxuICAgICdjb250cmFzdExpZ2h0Q29sb3JzJzogJzkwMCcsXG4gICAgJ2NvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnMnOiAnOTAwJ1xuICB9LFxuICAneWVsbG93Jzoge1xuICAgICc1MCc6ICcjZmZmZGU3JyxcbiAgICAnMTAwJzogJyNmZmY5YzQnLFxuICAgICcyMDAnOiAnI2ZmZjU5ZCcsXG4gICAgJzMwMCc6ICcjZmZmMTc2JyxcbiAgICAnNDAwJzogJyNmZmVlNTgnLFxuICAgICc1MDAnOiAnI2ZmZWIzYicsXG4gICAgJzYwMCc6ICcjZmRkODM1JyxcbiAgICAnNzAwJzogJyNmYmMwMmQnLFxuICAgICc4MDAnOiAnI2Y5YTgyNScsXG4gICAgJzkwMCc6ICcjZjU3ZjE3JyxcbiAgICAnQTEwMCc6ICcjZmZmZjhkJyxcbiAgICAnQTIwMCc6ICcjZmZmZjAwJyxcbiAgICAnQTQwMCc6ICcjZmZlYTAwJyxcbiAgICAnQTcwMCc6ICcjZmZkNjAwJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnZGFyaydcbiAgfSxcbiAgJ2FtYmVyJzoge1xuICAgICc1MCc6ICcjZmZmOGUxJyxcbiAgICAnMTAwJzogJyNmZmVjYjMnLFxuICAgICcyMDAnOiAnI2ZmZTA4MicsXG4gICAgJzMwMCc6ICcjZmZkNTRmJyxcbiAgICAnNDAwJzogJyNmZmNhMjgnLFxuICAgICc1MDAnOiAnI2ZmYzEwNycsXG4gICAgJzYwMCc6ICcjZmZiMzAwJyxcbiAgICAnNzAwJzogJyNmZmEwMDAnLFxuICAgICc4MDAnOiAnI2ZmOGYwMCcsXG4gICAgJzkwMCc6ICcjZmY2ZjAwJyxcbiAgICAnQTEwMCc6ICcjZmZlNTdmJyxcbiAgICAnQTIwMCc6ICcjZmZkNzQwJyxcbiAgICAnQTQwMCc6ICcjZmZjNDAwJyxcbiAgICAnQTcwMCc6ICcjZmZhYjAwJyxcbiAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnZGFyaydcbiAgfSxcbiAgJ29yYW5nZSc6IHtcbiAgICAnNTAnOiAnI2ZmZjNlMCcsXG4gICAgJzEwMCc6ICcjZmZlMGIyJyxcbiAgICAnMjAwJzogJyNmZmNjODAnLFxuICAgICczMDAnOiAnI2ZmYjc0ZCcsXG4gICAgJzQwMCc6ICcjZmZhNzI2JyxcbiAgICAnNTAwJzogJyNmZjk4MDAnLFxuICAgICc2MDAnOiAnI2ZiOGMwMCcsXG4gICAgJzcwMCc6ICcjZjU3YzAwJyxcbiAgICAnODAwJzogJyNlZjZjMDAnLFxuICAgICc5MDAnOiAnI2U2NTEwMCcsXG4gICAgJ0ExMDAnOiAnI2ZmZDE4MCcsXG4gICAgJ0EyMDAnOiAnI2ZmYWI0MCcsXG4gICAgJ0E0MDAnOiAnI2ZmOTEwMCcsXG4gICAgJ0E3MDAnOiAnI2ZmNmQwMCcsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2RhcmsnLFxuICAgICdjb250cmFzdExpZ2h0Q29sb3JzJzogJzgwMCA5MDAnLFxuICAgICdjb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzJzogJzgwMCA5MDAnXG4gIH0sXG4gICdkZWVwLW9yYW5nZSc6IHtcbiAgICAnNTAnOiAnI2ZiZTllNycsXG4gICAgJzEwMCc6ICcjZmZjY2JjJyxcbiAgICAnMjAwJzogJyNmZmFiOTEnLFxuICAgICczMDAnOiAnI2ZmOGE2NScsXG4gICAgJzQwMCc6ICcjZmY3MDQzJyxcbiAgICAnNTAwJzogJyNmZjU3MjInLFxuICAgICc2MDAnOiAnI2Y0NTExZScsXG4gICAgJzcwMCc6ICcjZTY0YTE5JyxcbiAgICAnODAwJzogJyNkODQzMTUnLFxuICAgICc5MDAnOiAnI2JmMzYwYycsXG4gICAgJ0ExMDAnOiAnI2ZmOWU4MCcsXG4gICAgJ0EyMDAnOiAnI2ZmNmU0MCcsXG4gICAgJ0E0MDAnOiAnI2ZmM2QwMCcsXG4gICAgJ0E3MDAnOiAnI2RkMmMwMCcsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcbiAgICAnY29udHJhc3REYXJrQ29sb3JzJzogJzUwIDEwMCAyMDAgMzAwIDQwMCBBMTAwIEEyMDAnLFxuICAgICdjb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzJzogJzUwMCA2MDAgNzAwIDgwMCA5MDAgQTQwMCBBNzAwJ1xuICB9LFxuICAnYnJvd24nOiB7XG4gICAgJzUwJzogJyNlZmViZTknLFxuICAgICcxMDAnOiAnI2Q3Y2NjOCcsXG4gICAgJzIwMCc6ICcjYmNhYWE0JyxcbiAgICAnMzAwJzogJyNhMTg4N2YnLFxuICAgICc0MDAnOiAnIzhkNmU2MycsXG4gICAgJzUwMCc6ICcjNzk1NTQ4JyxcbiAgICAnNjAwJzogJyM2ZDRjNDEnLFxuICAgICc3MDAnOiAnIzVkNDAzNycsXG4gICAgJzgwMCc6ICcjNGUzNDJlJyxcbiAgICAnOTAwJzogJyMzZTI3MjMnLFxuICAgICdBMTAwJzogJyNkN2NjYzgnLFxuICAgICdBMjAwJzogJyNiY2FhYTQnLFxuICAgICdBNDAwJzogJyM4ZDZlNjMnLFxuICAgICdBNzAwJzogJyM1ZDQwMzcnLFxuICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXG4gICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6ICc1MCAxMDAgMjAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICczMDAgNDAwJ1xuICB9LFxuICAnZ3JleSc6IHtcbiAgICAnNTAnOiAnI2ZhZmFmYScsXG4gICAgJzEwMCc6ICcjZjVmNWY1JyxcbiAgICAnMjAwJzogJyNlZWVlZWUnLFxuICAgICczMDAnOiAnI2UwZTBlMCcsXG4gICAgJzQwMCc6ICcjYmRiZGJkJyxcbiAgICAnNTAwJzogJyM5ZTllOWUnLFxuICAgICc2MDAnOiAnIzc1NzU3NScsXG4gICAgJzcwMCc6ICcjNjE2MTYxJyxcbiAgICAnODAwJzogJyM0MjQyNDInLFxuICAgICc5MDAnOiAnIzIxMjEyMScsXG4gICAgJzEwMDAnOiAnIzAwMDAwMCcsXG4gICAgJ0ExMDAnOiAnI2ZmZmZmZicsXG4gICAgJ0EyMDAnOiAnI2VlZWVlZScsXG4gICAgJ0E0MDAnOiAnI2JkYmRiZCcsXG4gICAgJ0E3MDAnOiAnIzYxNjE2MScsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2RhcmsnLFxuICAgICdjb250cmFzdExpZ2h0Q29sb3JzJzogJzYwMCA3MDAgODAwIDkwMCdcbiAgfSxcbiAgJ2JsdWUtZ3JleSc6IHtcbiAgICAnNTAnOiAnI2VjZWZmMScsXG4gICAgJzEwMCc6ICcjY2ZkOGRjJyxcbiAgICAnMjAwJzogJyNiMGJlYzUnLFxuICAgICczMDAnOiAnIzkwYTRhZScsXG4gICAgJzQwMCc6ICcjNzg5MDljJyxcbiAgICAnNTAwJzogJyM2MDdkOGInLFxuICAgICc2MDAnOiAnIzU0NmU3YScsXG4gICAgJzcwMCc6ICcjNDU1YTY0JyxcbiAgICAnODAwJzogJyMzNzQ3NGYnLFxuICAgICc5MDAnOiAnIzI2MzIzOCcsXG4gICAgJ0ExMDAnOiAnI2NmZDhkYycsXG4gICAgJ0EyMDAnOiAnI2IwYmVjNScsXG4gICAgJ0E0MDAnOiAnIzc4OTA5YycsXG4gICAgJ0E3MDAnOiAnIzQ1NWE2NCcsXG4gICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcbiAgICAnY29udHJhc3REYXJrQ29sb3JzJzogJzUwIDEwMCAyMDAgMzAwJyxcbiAgICAnY29udHJhc3RTdHJvbmdMaWdodENvbG9ycyc6ICc0MDAgNTAwJ1xuICB9XG59KTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb3JlLnRoZW1pbmcnLCBbJ21hdGVyaWFsLmNvcmUudGhlbWluZy5wYWxldHRlJ10pXG4gIC5kaXJlY3RpdmUoJ21kVGhlbWUnLCBUaGVtaW5nRGlyZWN0aXZlKVxuICAuZGlyZWN0aXZlKCdtZFRoZW1hYmxlJywgVGhlbWFibGVEaXJlY3RpdmUpXG4gIC5wcm92aWRlcignJG1kVGhlbWluZycsIFRoZW1pbmdQcm92aWRlcilcbiAgLnJ1bihnZW5lcmF0ZVRoZW1lcyk7XG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkbWRUaGVtaW5nUHJvdmlkZXJcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29yZVxuICpcbiAqIEBkZXNjcmlwdGlvbiBQcm92aWRlciB0byBjb25maWd1cmUgdGhlIGAkbWRUaGVtaW5nYCBzZXJ2aWNlLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kVGhlbWluZ1Byb3ZpZGVyI3NldERlZmF1bHRUaGVtZVxuICogQHBhcmFtIHtzdHJpbmd9IHRoZW1lTmFtZSBEZWZhdWx0IHRoZW1lIG5hbWUgdG8gYmUgYXBwbGllZCB0byBlbGVtZW50cy4gRGVmYXVsdCB2YWx1ZSBpcyBgZGVmYXVsdGAuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWRUaGVtaW5nUHJvdmlkZXIjYWx3YXlzV2F0Y2hUaGVtZVxuICogQHBhcmFtIHtib29sZWFufSB3YXRjaCBXaGV0aGVyIG9yIG5vdCB0byBhbHdheXMgd2F0Y2ggdGhlbWVzIGZvciBjaGFuZ2VzIGFuZCByZS1hcHBseVxuICogY2xhc3NlcyB3aGVuIHRoZXkgY2hhbmdlLiBEZWZhdWx0IGlzIGBmYWxzZWAuIEVuYWJsaW5nIGNhbiByZWR1Y2UgcGVyZm9ybWFuY2UuXG4gKi9cblxuLyogU29tZSBFeGFtcGxlIFZhbGlkIFRoZW1pbmcgRXhwcmVzc2lvbnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICpcbiAqIEludGVudGlvbiBncm91cCBleHBhbnNpb246ICh2YWxpZCBmb3IgcHJpbWFyeSwgYWNjZW50LCB3YXJuLCBiYWNrZ3JvdW5kKVxuICpcbiAqIHt7cHJpbWFyeS0xMDB9fSAtIGdyYWIgc2hhZGUgMTAwIGZyb20gdGhlIHByaW1hcnkgcGFsZXR0ZVxuICoge3twcmltYXJ5LTEwMC0wLjd9fSAtIGdyYWIgc2hhZGUgMTAwLCBhcHBseSBvcGFjaXR5IG9mIDAuN1xuICoge3twcmltYXJ5LWh1ZS0xfX0gLSBncmFiIHRoZSBzaGFkZSBhc3NpZ25lZCB0byBodWUtMSBmcm9tIHRoZSBwcmltYXJ5IHBhbGV0dGVcbiAqIHt7cHJpbWFyeS1odWUtMS0wLjd9fSAtIGFwcGx5IDAuNyBvcGFjaXR5IHRvIHByaW1hcnktaHVlLTFcbiAqIHt7cHJpbWFyeS1jb2xvcn19IC0gR2VuZXJhdGVzIC5tZC1odWUtMSwgLm1kLWh1ZS0yLCAubWQtaHVlLTMgd2l0aCBjb25maWd1cmVkIHNoYWRlcyBzZXQgZm9yIGVhY2ggaHVlXG4gKiB7e3ByaW1hcnktY29sb3ItMC43fX0gLSBBcHBseSAwLjcgb3BhY2l0eSB0byBlYWNoIG9mIHRoZSBhYm92ZSBydWxlc1xuICoge3twcmltYXJ5LWNvbnRyYXN0fX0gLSBHZW5lcmF0ZXMgLm1kLWh1ZS0xLCAubWQtaHVlLTIsIC5tZC1odWUtMyB3aXRoIGNvbmZpZ3VyZWQgY29udHJhc3QgKGllLiB0ZXh0KSBjb2xvciBzaGFkZXMgc2V0IGZvciBlYWNoIGh1ZVxuICoge3twcmltYXJ5LWNvbnRyYXN0LTAuN319IC0gQXBwbHkgMC43IG9wYWNpdHkgdG8gZWFjaCBvZiB0aGUgYWJvdmUgcnVsZXNcbiAqXG4gKiBGb3JlZ3JvdW5kIGV4cGFuc2lvbjogQXBwbGllcyByZ2JhIHRvIGJsYWNrL3doaXRlIGZvcmVncm91bmQgdGV4dFxuICpcbiAqIHt7Zm9yZWdyb3VuZC0xfX0gLSB1c2VkIGZvciBwcmltYXJ5IHRleHRcbiAqIHt7Zm9yZWdyb3VuZC0yfX0gLSB1c2VkIGZvciBzZWNvbmRhcnkgdGV4dC9kaXZpZGVyXG4gKiB7e2ZvcmVncm91bmQtM319IC0gdXNlZCBmb3IgZGlzYWJsZWQgdGV4dFxuICoge3tmb3JlZ3JvdW5kLTR9fSAtIHVzZWQgZm9yIGRpdmlkZXJzXG4gKlxuICovXG5cbi8vIEluIG1lbW9yeSBnZW5lcmF0ZWQgQ1NTIHJ1bGVzOyByZWdpc3RlcmVkIGJ5IHRoZW1lLm5hbWVcbnZhciBHRU5FUkFURUQgPSB7IH07XG5cbi8vIEluIG1lbW9yeSBzdG9yYWdlIG9mIGRlZmluZWQgdGhlbWVzIGFuZCBjb2xvciBwYWxldHRlcyAoYm90aCBsb2FkZWQgYnkgQ1NTLCBhbmQgdXNlciBzcGVjaWZpZWQpXG52YXIgUEFMRVRURVM7XG52YXIgVEhFTUVTO1xuXG52YXIgREFSS19GT1JFR1JPVU5EID0ge1xuICBuYW1lOiAnZGFyaycsXG4gICcxJzogJ3JnYmEoMCwwLDAsMC44NyknLFxuICAnMic6ICdyZ2JhKDAsMCwwLDAuNTQpJyxcbiAgJzMnOiAncmdiYSgwLDAsMCwwLjI2KScsXG4gICc0JzogJ3JnYmEoMCwwLDAsMC4xMiknXG59O1xudmFyIExJR0hUX0ZPUkVHUk9VTkQgPSB7XG4gIG5hbWU6ICdsaWdodCcsXG4gICcxJzogJ3JnYmEoMjU1LDI1NSwyNTUsMS4wKScsXG4gICcyJzogJ3JnYmEoMjU1LDI1NSwyNTUsMC43KScsXG4gICczJzogJ3JnYmEoMjU1LDI1NSwyNTUsMC4zKScsXG4gICc0JzogJ3JnYmEoMjU1LDI1NSwyNTUsMC4xMiknXG59O1xuXG52YXIgREFSS19TSEFET1cgPSAnMXB4IDFweCAwcHggcmdiYSgwLDAsMCwwLjQpLCAtMXB4IC0xcHggMHB4IHJnYmEoMCwwLDAsMC40KSc7XG52YXIgTElHSFRfU0hBRE9XID0gJyc7XG5cbnZhciBEQVJLX0NPTlRSQVNUX0NPTE9SID0gY29sb3JUb1JnYmFBcnJheSgncmdiYSgwLDAsMCwwLjg3KScpO1xudmFyIExJR0hUX0NPTlRSQVNUX0NPTE9SID0gY29sb3JUb1JnYmFBcnJheSgncmdiYSgyNTUsMjU1LDI1NSwwLjg3Jyk7XG52YXIgU1RST05HX0xJR0hUX0NPTlRSQVNUX0NPTE9SID0gY29sb3JUb1JnYmFBcnJheSgncmdiKDI1NSwyNTUsMjU1KScpO1xuXG52YXIgVEhFTUVfQ09MT1JfVFlQRVMgPSBbJ3ByaW1hcnknLCAnYWNjZW50JywgJ3dhcm4nLCAnYmFja2dyb3VuZCddO1xudmFyIERFRkFVTFRfQ09MT1JfVFlQRSA9ICdwcmltYXJ5JztcblxuLy8gQSBjb2xvciBpbiBhIHRoZW1lIHdpbGwgdXNlIHRoZXNlIGh1ZXMgYnkgZGVmYXVsdCwgaWYgbm90IHNwZWNpZmllZCBieSB1c2VyLlxudmFyIExJR0hUX0RFRkFVTFRfSFVFUyA9IHtcbiAgJ2FjY2VudCc6IHtcbiAgICAnZGVmYXVsdCc6ICdBMjAwJyxcbiAgICAnaHVlLTEnOiAnQTEwMCcsXG4gICAgJ2h1ZS0yJzogJ0E0MDAnLFxuICAgICdodWUtMyc6ICdBNzAwJ1xuICB9LFxuICAnYmFja2dyb3VuZCc6IHtcbiAgICAnZGVmYXVsdCc6ICdBMTAwJyxcbiAgICAnaHVlLTEnOiAnMzAwJyxcbiAgICAnaHVlLTInOiAnODAwJyxcbiAgICAnaHVlLTMnOiAnOTAwJ1xuICB9XG59O1xuXG52YXIgREFSS19ERUZBVUxUX0hVRVMgPSB7XG4gICdiYWNrZ3JvdW5kJzoge1xuICAgICdkZWZhdWx0JzogJzgwMCcsXG4gICAgJ2h1ZS0xJzogJzMwMCcsXG4gICAgJ2h1ZS0yJzogJzYwMCcsXG4gICAgJ2h1ZS0zJzogJzkwMCdcbiAgfVxufTtcblRIRU1FX0NPTE9SX1RZUEVTLmZvckVhY2goZnVuY3Rpb24oY29sb3JUeXBlKSB7XG4gIC8vIENvbG9yIHR5cGVzIHdpdGggdW5zcGVjaWZpZWQgZGVmYXVsdCBodWVzIHdpbGwgdXNlIHRoZXNlIGRlZmF1bHQgaHVlIHZhbHVlc1xuICB2YXIgZGVmYXVsdERlZmF1bHRIdWVzID0ge1xuICAgICdkZWZhdWx0JzogJzUwMCcsXG4gICAgJ2h1ZS0xJzogJzMwMCcsXG4gICAgJ2h1ZS0yJzogJzgwMCcsXG4gICAgJ2h1ZS0zJzogJ0ExMDAnXG4gIH07XG4gIGlmICghTElHSFRfREVGQVVMVF9IVUVTW2NvbG9yVHlwZV0pIExJR0hUX0RFRkFVTFRfSFVFU1tjb2xvclR5cGVdID0gZGVmYXVsdERlZmF1bHRIdWVzO1xuICBpZiAoIURBUktfREVGQVVMVF9IVUVTW2NvbG9yVHlwZV0pIERBUktfREVGQVVMVF9IVUVTW2NvbG9yVHlwZV0gPSBkZWZhdWx0RGVmYXVsdEh1ZXM7XG59KTtcblxudmFyIFZBTElEX0hVRV9WQUxVRVMgPSBbXG4gICc1MCcsICcxMDAnLCAnMjAwJywgJzMwMCcsICc0MDAnLCAnNTAwJywgJzYwMCcsXG4gICc3MDAnLCAnODAwJywgJzkwMCcsICdBMTAwJywgJ0EyMDAnLCAnQTQwMCcsICdBNzAwJ1xuXTtcblxuZnVuY3Rpb24gVGhlbWluZ1Byb3ZpZGVyKCRtZENvbG9yUGFsZXR0ZSkge1xuICBQQUxFVFRFUyA9IHsgfTtcbiAgVEhFTUVTID0geyB9O1xuXG4gIHZhciB0aGVtaW5nUHJvdmlkZXI7XG4gIHZhciBkZWZhdWx0VGhlbWUgPSAnZGVmYXVsdCc7XG4gIHZhciBhbHdheXNXYXRjaFRoZW1lID0gZmFsc2U7XG5cbiAgLy8gTG9hZCBKUyBEZWZpbmVkIFBhbGV0dGVzXG4gIGFuZ3VsYXIuZXh0ZW5kKFBBTEVUVEVTLCAkbWRDb2xvclBhbGV0dGUpO1xuXG4gIC8vIERlZmF1bHQgdGhlbWUgZGVmaW5lZCBpbiBjb3JlLmpzXG5cbiAgVGhlbWluZ1NlcnZpY2UuJGluamVjdCA9IFtcIiRyb290U2NvcGVcIiwgXCIkbG9nXCJdO1xuICByZXR1cm4gdGhlbWluZ1Byb3ZpZGVyID0ge1xuICAgIGRlZmluZVBhbGV0dGU6IGRlZmluZVBhbGV0dGUsXG4gICAgZXh0ZW5kUGFsZXR0ZTogZXh0ZW5kUGFsZXR0ZSxcbiAgICB0aGVtZTogcmVnaXN0ZXJUaGVtZSxcblxuICAgIHNldERlZmF1bHRUaGVtZTogZnVuY3Rpb24odGhlbWUpIHtcbiAgICAgIGRlZmF1bHRUaGVtZSA9IHRoZW1lO1xuICAgIH0sXG4gICAgYWx3YXlzV2F0Y2hUaGVtZTogZnVuY3Rpb24oYWx3YXlzV2F0Y2gpIHtcbiAgICAgIGFsd2F5c1dhdGNoVGhlbWUgPSBhbHdheXNXYXRjaDtcbiAgICB9LFxuICAgICRnZXQ6IFRoZW1pbmdTZXJ2aWNlLFxuICAgIF9MSUdIVF9ERUZBVUxUX0hVRVM6IExJR0hUX0RFRkFVTFRfSFVFUyxcbiAgICBfREFSS19ERUZBVUxUX0hVRVM6IERBUktfREVGQVVMVF9IVUVTLFxuICAgIF9QQUxFVFRFUzogUEFMRVRURVMsXG4gICAgX1RIRU1FUzogVEhFTUVTLFxuICAgIF9wYXJzZVJ1bGVzOiBwYXJzZVJ1bGVzLFxuICAgIF9yZ2JhOiByZ2JhXG4gIH07XG5cbiAgLy8gRXhhbXBsZTogJG1kVGhlbWluZ1Byb3ZpZGVyLmRlZmluZVBhbGV0dGUoJ25lb25SZWQnLCB7IDUwOiAnI2Y1ZmFmYScsIC4uLiB9KTtcbiAgZnVuY3Rpb24gZGVmaW5lUGFsZXR0ZShuYW1lLCBtYXApIHtcbiAgICBtYXAgPSBtYXAgfHwge307XG4gICAgUEFMRVRURVNbbmFtZV0gPSBjaGVja1BhbGV0dGVWYWxpZChuYW1lLCBtYXApO1xuICAgIHJldHVybiB0aGVtaW5nUHJvdmlkZXI7XG4gIH1cblxuICAvLyBSZXR1cm5zIGFuIG5ldyBvYmplY3Qgd2hpY2ggaXMgYSBjb3B5IG9mIGEgZ2l2ZW4gcGFsZXR0ZSBgbmFtZWAgd2l0aCB2YXJpYWJsZXMgZnJvbVxuICAvLyBgbWFwYCBvdmVyd3JpdHRlblxuICAvLyBFeGFtcGxlOiB2YXIgbmVvblJlZE1hcCA9ICRtZFRoZW1pbmdQcm92aWRlci5leHRlbmRQYWxldHRlKCdyZWQnLCB7IDUwOiAnI2Y1ZmFmYWZhJyB9KTtcbiAgZnVuY3Rpb24gZXh0ZW5kUGFsZXR0ZShuYW1lLCBtYXApIHtcbiAgICByZXR1cm4gY2hlY2tQYWxldHRlVmFsaWQobmFtZSwgIGFuZ3VsYXIuZXh0ZW5kKHt9LCBQQUxFVFRFU1tuYW1lXSB8fCB7fSwgbWFwKSApO1xuICB9XG5cbiAgLy8gTWFrZSBzdXJlIHRoYXQgcGFsZXR0ZSBoYXMgYWxsIHJlcXVpcmVkIGh1ZXNcbiAgZnVuY3Rpb24gY2hlY2tQYWxldHRlVmFsaWQobmFtZSwgbWFwKSB7XG4gICAgdmFyIG1pc3NpbmdDb2xvcnMgPSBWQUxJRF9IVUVfVkFMVUVTLmZpbHRlcihmdW5jdGlvbihmaWVsZCkge1xuICAgICAgcmV0dXJuICFtYXBbZmllbGRdO1xuICAgIH0pO1xuICAgIGlmIChtaXNzaW5nQ29sb3JzLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBjb2xvcnMgJTEgaW4gcGFsZXR0ZSAlMiFcIlxuICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCclMScsIG1pc3NpbmdDb2xvcnMuam9pbignLCAnKSlcbiAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJTInLCBuYW1lKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hcDtcbiAgfVxuXG4gIC8vIFJlZ2lzdGVyIGEgdGhlbWUgKHdoaWNoIGlzIGEgY29sbGVjdGlvbiBvZiBjb2xvciBwYWxldHRlcyB0byB1c2Ugd2l0aCB2YXJpb3VzIHN0YXRlc1xuICAvLyBpZS4gd2FybiwgYWNjZW50LCBwcmltYXJ5IClcbiAgLy8gT3B0aW9uYWxseSBpbmhlcml0IGZyb20gYW4gZXhpc3RpbmcgdGhlbWVcbiAgLy8gJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdjdXN0b20tdGhlbWUnKS5wcmltYXJ5UGFsZXR0ZSgncmVkJyk7XG4gIGZ1bmN0aW9uIHJlZ2lzdGVyVGhlbWUobmFtZSwgaW5oZXJpdEZyb20pIHtcbiAgICBpZiAoVEhFTUVTW25hbWVdKSByZXR1cm4gVEhFTUVTW25hbWVdO1xuXG4gICAgaW5oZXJpdEZyb20gPSBpbmhlcml0RnJvbSB8fCAnZGVmYXVsdCc7XG5cbiAgICB2YXIgcGFyZW50VGhlbWUgPSB0eXBlb2YgaW5oZXJpdEZyb20gPT09ICdzdHJpbmcnID8gVEhFTUVTW2luaGVyaXRGcm9tXSA6IGluaGVyaXRGcm9tO1xuICAgIHZhciB0aGVtZSA9IG5ldyBUaGVtZShuYW1lKTtcblxuICAgIGlmIChwYXJlbnRUaGVtZSkge1xuICAgICAgYW5ndWxhci5mb3JFYWNoKHBhcmVudFRoZW1lLmNvbG9ycywgZnVuY3Rpb24oY29sb3IsIGNvbG9yVHlwZSkge1xuICAgICAgICB0aGVtZS5jb2xvcnNbY29sb3JUeXBlXSA9IHtcbiAgICAgICAgICBuYW1lOiBjb2xvci5uYW1lLFxuICAgICAgICAgIC8vIE1ha2Ugc3VyZSBhIENPUFkgb2YgdGhlIGh1ZXMgaXMgZ2l2ZW4gdG8gdGhlIGNoaWxkIGNvbG9yLFxuICAgICAgICAgIC8vIG5vdCB0aGUgc2FtZSByZWZlcmVuY2UuXG4gICAgICAgICAgaHVlczogYW5ndWxhci5leHRlbmQoe30sIGNvbG9yLmh1ZXMpXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG4gICAgVEhFTUVTW25hbWVdID0gdGhlbWU7XG5cbiAgICByZXR1cm4gdGhlbWU7XG4gIH1cblxuICBmdW5jdGlvbiBUaGVtZShuYW1lKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYubmFtZSA9IG5hbWU7XG4gICAgc2VsZi5jb2xvcnMgPSB7fTtcblxuICAgIHNlbGYuZGFyayA9IHNldERhcms7XG4gICAgc2V0RGFyayhmYWxzZSk7XG5cbiAgICBmdW5jdGlvbiBzZXREYXJrKGlzRGFyaykge1xuICAgICAgaXNEYXJrID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMCA/IHRydWUgOiAhIWlzRGFyaztcblxuICAgICAgLy8gSWYgbm8gY2hhbmdlLCBhYm9ydFxuICAgICAgaWYgKGlzRGFyayA9PT0gc2VsZi5pc0RhcmspIHJldHVybjtcblxuICAgICAgc2VsZi5pc0RhcmsgPSBpc0Rhcms7XG5cbiAgICAgIHNlbGYuZm9yZWdyb3VuZFBhbGV0dGUgPSBzZWxmLmlzRGFyayA/IExJR0hUX0ZPUkVHUk9VTkQgOiBEQVJLX0ZPUkVHUk9VTkQ7XG4gICAgICBzZWxmLmZvcmVncm91bmRTaGFkb3cgPSBzZWxmLmlzRGFyayA/IERBUktfU0hBRE9XIDogTElHSFRfU0hBRE9XO1xuXG4gICAgICAvLyBMaWdodCBhbmQgZGFyayB0aGVtZXMgaGF2ZSBkaWZmZXJlbnQgZGVmYXVsdCBodWVzLlxuICAgICAgLy8gR28gdGhyb3VnaCBlYWNoIGV4aXN0aW5nIGNvbG9yIHR5cGUgZm9yIHRoaXMgdGhlbWUsIGFuZCBmb3IgZXZlcnlcbiAgICAgIC8vIGh1ZSB2YWx1ZSB0aGF0IGlzIHN0aWxsIHRoZSBkZWZhdWx0IGh1ZSB2YWx1ZSBmcm9tIHRoZSBwcmV2aW91cyBsaWdodC9kYXJrIHNldHRpbmcsXG4gICAgICAvLyBzZXQgaXQgdG8gdGhlIGRlZmF1bHQgaHVlIHZhbHVlIGZyb20gdGhlIG5ldyBsaWdodC9kYXJrIHNldHRpbmcuXG4gICAgICB2YXIgbmV3RGVmYXVsdEh1ZXMgPSBzZWxmLmlzRGFyayA/IERBUktfREVGQVVMVF9IVUVTIDogTElHSFRfREVGQVVMVF9IVUVTO1xuICAgICAgdmFyIG9sZERlZmF1bHRIdWVzID0gc2VsZi5pc0RhcmsgPyBMSUdIVF9ERUZBVUxUX0hVRVMgOiBEQVJLX0RFRkFVTFRfSFVFUztcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChuZXdEZWZhdWx0SHVlcywgZnVuY3Rpb24obmV3RGVmYXVsdHMsIGNvbG9yVHlwZSkge1xuICAgICAgICB2YXIgY29sb3IgPSBzZWxmLmNvbG9yc1tjb2xvclR5cGVdO1xuICAgICAgICB2YXIgb2xkRGVmYXVsdHMgPSBvbGREZWZhdWx0SHVlc1tjb2xvclR5cGVdO1xuICAgICAgICBpZiAoY29sb3IpIHtcbiAgICAgICAgICBmb3IgKHZhciBodWVOYW1lIGluIGNvbG9yLmh1ZXMpIHtcbiAgICAgICAgICAgIGlmIChjb2xvci5odWVzW2h1ZU5hbWVdID09PSBvbGREZWZhdWx0c1todWVOYW1lXSkge1xuICAgICAgICAgICAgICBjb2xvci5odWVzW2h1ZU5hbWVdID0gbmV3RGVmYXVsdHNbaHVlTmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgVEhFTUVfQ09MT1JfVFlQRVMuZm9yRWFjaChmdW5jdGlvbihjb2xvclR5cGUpIHtcbiAgICAgIHZhciBkZWZhdWx0SHVlcyA9IChzZWxmLmlzRGFyayA/IERBUktfREVGQVVMVF9IVUVTIDogTElHSFRfREVGQVVMVF9IVUVTKVtjb2xvclR5cGVdO1xuICAgICAgc2VsZltjb2xvclR5cGUgKyAnUGFsZXR0ZSddID0gZnVuY3Rpb24gc2V0UGFsZXR0ZVR5cGUocGFsZXR0ZU5hbWUsIGh1ZXMpIHtcbiAgICAgICAgdmFyIGNvbG9yID0gc2VsZi5jb2xvcnNbY29sb3JUeXBlXSA9IHtcbiAgICAgICAgICBuYW1lOiBwYWxldHRlTmFtZSxcbiAgICAgICAgICBodWVzOiBhbmd1bGFyLmV4dGVuZCh7fSwgZGVmYXVsdEh1ZXMsIGh1ZXMpXG4gICAgICAgIH07XG5cbiAgICAgICAgT2JqZWN0LmtleXMoY29sb3IuaHVlcykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgaWYgKCFkZWZhdWx0SHVlc1tuYW1lXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBodWUgbmFtZSAnJTEnIGluIHRoZW1lICUyJ3MgJTMgY29sb3IgJTQuIEF2YWlsYWJsZSBodWUgbmFtZXM6ICU0XCJcbiAgICAgICAgICAgICAgLnJlcGxhY2UoJyUxJywgbmFtZSlcbiAgICAgICAgICAgICAgLnJlcGxhY2UoJyUyJywgc2VsZi5uYW1lKVxuICAgICAgICAgICAgICAucmVwbGFjZSgnJTMnLCBwYWxldHRlTmFtZSlcbiAgICAgICAgICAgICAgLnJlcGxhY2UoJyU0JywgT2JqZWN0LmtleXMoZGVmYXVsdEh1ZXMpLmpvaW4oJywgJykpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5rZXlzKGNvbG9yLmh1ZXMpLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICByZXR1cm4gY29sb3IuaHVlc1trZXldO1xuICAgICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uKGh1ZVZhbHVlKSB7XG4gICAgICAgICAgaWYgKFZBTElEX0hVRV9WQUxVRVMuaW5kZXhPZihodWVWYWx1ZSkgPT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaHVlIHZhbHVlICclMScgaW4gdGhlbWUgJTIncyAlMyBjb2xvciAlNC4gQXZhaWxhYmxlIGh1ZSB2YWx1ZXM6ICU1XCJcbiAgICAgICAgICAgICAgLnJlcGxhY2UoJyUxJywgaHVlVmFsdWUpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKCclMicsIHNlbGYubmFtZSlcbiAgICAgICAgICAgICAgLnJlcGxhY2UoJyUzJywgY29sb3JUeXBlKVxuICAgICAgICAgICAgICAucmVwbGFjZSgnJTQnLCBwYWxldHRlTmFtZSlcbiAgICAgICAgICAgICAgLnJlcGxhY2UoJyU1JywgVkFMSURfSFVFX1ZBTFVFUy5qb2luKCcsICcpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgIH07XG5cbiAgICAgIHNlbGZbY29sb3JUeXBlICsgJ0NvbG9yJ10gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICBjb25zb2xlLndhcm4oJyRtZFRoZW1pbmdQcm92aWRlclRoZW1lLicgKyBjb2xvclR5cGUgKyAnQ29sb3IoKSBoYXMgYmVlbiBkZXByZWNhdGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICdVc2UgJG1kVGhlbWluZ1Byb3ZpZGVyVGhlbWUuJyArIGNvbG9yVHlwZSArICdQYWxldHRlKCkgaW5zdGVhZC4nKTtcbiAgICAgICAgcmV0dXJuIHNlbGZbY29sb3JUeXBlICsgJ1BhbGV0dGUnXS5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJG1kVGhlbWluZ1xuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogU2VydmljZSB0aGF0IG1ha2VzIGFuIGVsZW1lbnQgYXBwbHkgdGhlbWluZyByZWxhdGVkIGNsYXNzZXMgdG8gaXRzZWxmLlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBhcHAuZGlyZWN0aXZlKCdteUZhbmN5RGlyZWN0aXZlJywgZnVuY3Rpb24oJG1kVGhlbWluZykge1xuICAgKiAgIHJldHVybiB7XG4gICAqICAgICByZXN0cmljdDogJ2UnLFxuICAgKiAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsLCBhdHRycykge1xuICAgKiAgICAgICAkbWRUaGVtaW5nKGVsKTtcbiAgICogICAgIH1cbiAgICogICB9O1xuICAgKiB9KTtcbiAgICogYGBgXG4gICAqIEBwYXJhbSB7ZWw9fSBlbGVtZW50IHRvIGFwcGx5IHRoZW1pbmcgdG9cbiAgICovXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBUaGVtaW5nU2VydmljZSgkcm9vdFNjb3BlLCAkbG9nKSB7XG5cbiAgICBhcHBseVRoZW1lLmluaGVyaXQgPSBmdW5jdGlvbihlbCwgcGFyZW50KSB7XG4gICAgICB2YXIgY3RybCA9IHBhcmVudC5jb250cm9sbGVyKCdtZFRoZW1lJyk7XG5cbiAgICAgIHZhciBhdHRyVGhlbWVWYWx1ZSA9IGVsLmF0dHIoJ21kLXRoZW1lLXdhdGNoJyk7XG4gICAgICBpZiAoIChhbHdheXNXYXRjaFRoZW1lIHx8IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJUaGVtZVZhbHVlKSkgJiYgYXR0clRoZW1lVmFsdWUgIT0gJ2ZhbHNlJykge1xuICAgICAgICB2YXIgZGVyZWdpc3RlcldhdGNoID0gJHJvb3RTY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGN0cmwgJiYgY3RybC4kbWRUaGVtZSB8fCBkZWZhdWx0VGhlbWU7XG4gICAgICAgIH0sIGNoYW5nZVRoZW1lKTtcbiAgICAgICAgZWwub24oJyRkZXN0cm95JywgZGVyZWdpc3RlcldhdGNoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0aGVtZSA9IGN0cmwgJiYgY3RybC4kbWRUaGVtZSB8fCBkZWZhdWx0VGhlbWU7XG4gICAgICAgIGNoYW5nZVRoZW1lKHRoZW1lKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2hhbmdlVGhlbWUodGhlbWUpIHtcbiAgICAgICAgaWYgKCFyZWdpc3RlcmVkKHRoZW1lKSkge1xuICAgICAgICAgICRsb2cud2FybignQXR0ZW1wdGVkIHRvIHVzZSB1bnJlZ2lzdGVyZWQgdGhlbWUgXFwnJyArIHRoZW1lICsgJ1xcJy4gJyArXG4gICAgICAgICAgICAgICAgICAgICdSZWdpc3RlciBpdCB3aXRoICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgpLicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvbGRUaGVtZSA9IGVsLmRhdGEoJyRtZFRoZW1lTmFtZScpO1xuICAgICAgICBpZiAob2xkVGhlbWUpIGVsLnJlbW92ZUNsYXNzKCdtZC0nICsgb2xkVGhlbWUgKyctdGhlbWUnKTtcbiAgICAgICAgZWwuYWRkQ2xhc3MoJ21kLScgKyB0aGVtZSArICctdGhlbWUnKTtcbiAgICAgICAgZWwuZGF0YSgnJG1kVGhlbWVOYW1lJywgdGhlbWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBhcHBseVRoZW1lLlRIRU1FUyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBUSEVNRVMpO1xuICAgIGFwcGx5VGhlbWUuZGVmYXVsdFRoZW1lID0gZnVuY3Rpb24oKSB7IHJldHVybiBkZWZhdWx0VGhlbWU7IH07XG4gICAgYXBwbHlUaGVtZS5yZWdpc3RlcmVkID0gcmVnaXN0ZXJlZDtcblxuICAgIHJldHVybiBhcHBseVRoZW1lO1xuXG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJlZCh0aGVtZU5hbWUpIHtcbiAgICAgIGlmICh0aGVtZU5hbWUgPT09IHVuZGVmaW5lZCB8fCB0aGVtZU5hbWUgPT09ICcnKSByZXR1cm4gdHJ1ZTtcbiAgICAgIHJldHVybiBhcHBseVRoZW1lLlRIRU1FU1t0aGVtZU5hbWVdICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXBwbHlUaGVtZShzY29wZSwgZWwpIHtcbiAgICAgIC8vIEFsbG93IHVzIHRvIGJlIGludm9rZWQgdmlhIGEgbGlua2luZyBmdW5jdGlvbiBzaWduYXR1cmUuXG4gICAgICBpZiAoZWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbCA9IHNjb3BlO1xuICAgICAgICBzY29wZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmIChzY29wZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNjb3BlID0gJHJvb3RTY29wZTtcbiAgICAgIH1cbiAgICAgIGFwcGx5VGhlbWUuaW5oZXJpdChlbCwgZWwpO1xuICAgIH1cbiAgfVxufVxuVGhlbWluZ1Byb3ZpZGVyLiRpbmplY3QgPSBbXCIkbWRDb2xvclBhbGV0dGVcIl07XG5cbmZ1bmN0aW9uIFRoZW1pbmdEaXJlY3RpdmUoJG1kVGhlbWluZywgJGludGVycG9sYXRlLCAkbG9nKSB7XG4gIHJldHVybiB7XG4gICAgcHJpb3JpdHk6IDEwMCxcbiAgICBsaW5rOiB7XG4gICAgICBwcmU6IGZ1bmN0aW9uKHNjb3BlLCBlbCwgYXR0cnMpIHtcbiAgICAgICAgdmFyIGN0cmwgPSB7XG4gICAgICAgICAgJHNldFRoZW1lOiBmdW5jdGlvbih0aGVtZSkge1xuICAgICAgICAgICAgaWYgKCEkbWRUaGVtaW5nLnJlZ2lzdGVyZWQodGhlbWUpKSB7XG4gICAgICAgICAgICAgICRsb2cud2FybignYXR0ZW1wdGVkIHRvIHVzZSB1bnJlZ2lzdGVyZWQgdGhlbWUgXFwnJyArIHRoZW1lICsgJ1xcJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3RybC4kbWRUaGVtZSA9IHRoZW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZWwuZGF0YSgnJG1kVGhlbWVDb250cm9sbGVyJywgY3RybCk7XG4gICAgICAgIGN0cmwuJHNldFRoZW1lKCRpbnRlcnBvbGF0ZShhdHRycy5tZFRoZW1lKShzY29wZSkpO1xuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnbWRUaGVtZScsIGN0cmwuJHNldFRoZW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5UaGVtaW5nRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRUaGVtaW5nXCIsIFwiJGludGVycG9sYXRlXCIsIFwiJGxvZ1wiXTtcblxuZnVuY3Rpb24gVGhlbWFibGVEaXJlY3RpdmUoJG1kVGhlbWluZykge1xuICByZXR1cm4gJG1kVGhlbWluZztcbn1cblRoZW1hYmxlRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRUaGVtaW5nXCJdO1xuXG5mdW5jdGlvbiBwYXJzZVJ1bGVzKHRoZW1lLCBjb2xvclR5cGUsIHJ1bGVzKSB7XG4gIGNoZWNrVmFsaWRQYWxldHRlKHRoZW1lLCBjb2xvclR5cGUpO1xuXG4gIHJ1bGVzID0gcnVsZXMucmVwbGFjZSgvVEhFTUVfTkFNRS9nLCB0aGVtZS5uYW1lKTtcbiAgdmFyIGdlbmVyYXRlZFJ1bGVzID0gW107XG4gIHZhciBjb2xvciA9IHRoZW1lLmNvbG9yc1tjb2xvclR5cGVdO1xuXG4gIHZhciB0aGVtZU5hbWVSZWdleCA9IG5ldyBSZWdFeHAoJy5tZC0nICsgdGhlbWUubmFtZSArICctdGhlbWUnLCAnZycpO1xuICAvLyBNYXRjaGVzICd7eyBwcmltYXJ5LWNvbG9yIH19JywgZXRjXG4gIHZhciBodWVSZWdleCA9IG5ldyBSZWdFeHAoJyhcXCd8XCIpP3t7XFxcXHMqKCcgKyBjb2xvclR5cGUgKyAnKS0oY29sb3J8Y29udHJhc3QpLT8oXFxcXGRcXFxcLj9cXFxcZCopP1xcXFxzKn19KFxcXCJ8XFwnKT8nLCdnJyk7XG4gIHZhciBzaW1wbGVWYXJpYWJsZVJlZ2V4ID0gLyc/XCI/XFx7XFx7XFxzKihbYS16QS1aXSspLShBP1xcZCt8aHVlXFwtWzAtM118c2hhZG93KS0/KFxcZFxcLj9cXGQqKT9cXHMqXFx9XFx9Jz9cIj8vZztcbiAgdmFyIHBhbGV0dGUgPSBQQUxFVFRFU1tjb2xvci5uYW1lXTtcblxuICAvLyBmaW5kIGFuZCByZXBsYWNlIHNpbXBsZSB2YXJpYWJsZXMgd2hlcmUgd2UgdXNlIGEgc3BlY2lmaWMgaHVlLCBub3QgYW4gZW50aXJlIHBhbGV0dGVcbiAgLy8gZWcuIFwie3twcmltYXJ5LTEwMH19XCJcbiAgLy9cXCgnICsgVEhFTUVfQ09MT1JfVFlQRVMuam9pbignXFx8JykgKyAnXFwpJ1xuICBydWxlcyA9IHJ1bGVzLnJlcGxhY2Uoc2ltcGxlVmFyaWFibGVSZWdleCwgZnVuY3Rpb24obWF0Y2gsIGNvbG9yVHlwZSwgaHVlLCBvcGFjaXR5KSB7XG4gICAgaWYgKGNvbG9yVHlwZSA9PT0gJ2ZvcmVncm91bmQnKSB7XG4gICAgICBpZiAoaHVlID09ICdzaGFkb3cnKSB7XG4gICAgICAgIHJldHVybiB0aGVtZS5mb3JlZ3JvdW5kU2hhZG93O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoZW1lLmZvcmVncm91bmRQYWxldHRlW2h1ZV0gfHwgdGhlbWUuZm9yZWdyb3VuZFBhbGV0dGVbJzEnXTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGh1ZS5pbmRleE9mKCdodWUnKSA9PT0gMCkge1xuICAgICAgaHVlID0gdGhlbWUuY29sb3JzW2NvbG9yVHlwZV0uaHVlc1todWVdO1xuICAgIH1cbiAgICByZXR1cm4gcmdiYSggKFBBTEVUVEVTWyB0aGVtZS5jb2xvcnNbY29sb3JUeXBlXS5uYW1lIF1baHVlXSB8fCAnJykudmFsdWUsIG9wYWNpdHkgKTtcbiAgfSk7XG5cbiAgLy8gRm9yIGVhY2ggdHlwZSwgZ2VuZXJhdGUgcnVsZXMgZm9yIGVhY2ggaHVlIChpZS4gZGVmYXVsdCwgbWQtaHVlLTEsIG1kLWh1ZS0yLCBtZC1odWUtMylcbiAgYW5ndWxhci5mb3JFYWNoKGNvbG9yLmh1ZXMsIGZ1bmN0aW9uKGh1ZVZhbHVlLCBodWVOYW1lKSB7XG4gICAgdmFyIG5ld1J1bGUgPSBydWxlc1xuICAgICAgLnJlcGxhY2UoaHVlUmVnZXgsIGZ1bmN0aW9uKG1hdGNoLCBfLCBjb2xvclR5cGUsIGh1ZVR5cGUsIG9wYWNpdHkpIHtcbiAgICAgICAgcmV0dXJuIHJnYmEocGFsZXR0ZVtodWVWYWx1ZV1baHVlVHlwZSA9PT0gJ2NvbG9yJyA/ICd2YWx1ZScgOiAnY29udHJhc3QnXSwgb3BhY2l0eSk7XG4gICAgICB9KTtcbiAgICBpZiAoaHVlTmFtZSAhPT0gJ2RlZmF1bHQnKSB7XG4gICAgICBuZXdSdWxlID0gbmV3UnVsZS5yZXBsYWNlKHRoZW1lTmFtZVJlZ2V4LCAnLm1kLScgKyB0aGVtZS5uYW1lICsgJy10aGVtZS5tZC0nICsgaHVlTmFtZSk7XG4gICAgfVxuXG4gICAgLy8gRG9uJ3QgYXBwbHkgYSBzZWxlY3RvciBydWxlIHRvIHRoZSBkZWZhdWx0IHRoZW1lLCBtYWtpbmcgaXQgZWFzaWVyIHRvIG92ZXJyaWRlXG4gICAgLy8gc3R5bGVzIG9mIHRoZSBiYXNlLWNvbXBvbmVudFxuICAgIGlmICh0aGVtZS5uYW1lID09ICdkZWZhdWx0Jykge1xuICAgICAgbmV3UnVsZSA9IG5ld1J1bGUucmVwbGFjZSgvXFwubWQtZGVmYXVsdC10aGVtZS9nLCAnJyk7XG4gICAgfVxuICAgIGdlbmVyYXRlZFJ1bGVzLnB1c2gobmV3UnVsZSk7XG4gIH0pO1xuXG4gIHJldHVybiBnZW5lcmF0ZWRSdWxlcztcbn1cblxuLy8gR2VuZXJhdGUgb3VyIHRoZW1lcyBhdCBydW4gdGltZSBnaXZlbiB0aGUgc3RhdGUgb2YgVEhFTUVTIGFuZCBQQUxFVFRFU1xuZnVuY3Rpb24gZ2VuZXJhdGVUaGVtZXMoJGluamVjdG9yKSB7XG5cbiAgdmFyIGhlYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuICB2YXIgZmlyc3RDaGlsZCA9IGhlYWQgPyBoZWFkLmZpcnN0RWxlbWVudENoaWxkIDogbnVsbDtcbiAgdmFyIHRoZW1lQ3NzID0gJGluamVjdG9yLmhhcygnJE1EX1RIRU1FX0NTUycpID8gJGluamVjdG9yLmdldCgnJE1EX1RIRU1FX0NTUycpIDogJyc7XG5cbiAgaWYgKCAhZmlyc3RDaGlsZCApIHJldHVybjtcbiAgaWYgKHRoZW1lQ3NzLmxlbmd0aCA9PT0gMCkgcmV0dXJuOyAvLyBubyBydWxlcywgc28gbm8gcG9pbnQgaW4gcnVubmluZyB0aGlzIGV4cGVuc2l2ZSB0YXNrXG5cbiAgLy8gRXhwb3NlIGNvbnRyYXN0IGNvbG9ycyBmb3IgcGFsZXR0ZXMgdG8gZW5zdXJlIHRoYXQgdGV4dCBpcyBhbHdheXMgcmVhZGFibGVcbiAgYW5ndWxhci5mb3JFYWNoKFBBTEVUVEVTLCBzYW5pdGl6ZVBhbGV0dGUpO1xuXG4gIC8vIE1EX1RIRU1FX0NTUyBpcyBhIHN0cmluZyBnZW5lcmF0ZWQgYnkgdGhlIGJ1aWxkIHByb2Nlc3MgdGhhdCBpbmNsdWRlcyBhbGwgdGhlIHRoZW1hYmxlXG4gIC8vIGNvbXBvbmVudHMgYXMgdGVtcGxhdGVzXG5cbiAgLy8gQnJlYWsgdGhlIENTUyBpbnRvIGluZGl2aWR1YWwgcnVsZXNcbiAgdmFyIHJ1bGVzQnlUeXBlID0ge307XG4gIHZhciBydWxlcyA9IHRoZW1lQ3NzXG4gICAgICAgICAgICAgICAgICAuc3BsaXQoL1xcfSg/IShcXH18J3xcInw7KSkvKVxuICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihydWxlKSB7IHJldHVybiBydWxlICYmIHJ1bGUubGVuZ3RoOyB9KVxuICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbihydWxlKSB7IHJldHVybiBydWxlLnRyaW0oKSArICd9JzsgfSk7XG5cblxuICB2YXIgcnVsZU1hdGNoUmVnZXggPSBuZXcgUmVnRXhwKCdtZC0oJyArIFRIRU1FX0NPTE9SX1RZUEVTLmpvaW4oJ3wnKSArICcpJywgJ2cnKTtcblxuICBUSEVNRV9DT0xPUl9UWVBFUy5mb3JFYWNoKGZ1bmN0aW9uKHR5cGUpIHtcbiAgICBydWxlc0J5VHlwZVt0eXBlXSA9ICcnO1xuICB9KTtcblxuXG4gIC8vIFNvcnQgdGhlIHJ1bGVzIGJhc2VkIG9uIHR5cGUsIGFsbG93aW5nIHVzIHRvIGRvIGNvbG9yIHN1YnN0aXR1dGlvbiBvbiBhIHBlci10eXBlIGJhc2lzXG4gIHJ1bGVzLmZvckVhY2goZnVuY3Rpb24ocnVsZSkge1xuICAgIHZhciBtYXRjaCA9IHJ1bGUubWF0Y2gocnVsZU1hdGNoUmVnZXgpO1xuICAgIC8vIEZpcnN0OiB0ZXN0IHRoYXQgaWYgdGhlIHJ1bGUgaGFzICcubWQtYWNjZW50JywgaXQgZ29lcyBpbnRvIHRoZSBhY2NlbnQgc2V0IG9mIHJ1bGVzXG4gICAgZm9yICh2YXIgaSA9IDAsIHR5cGU7IHR5cGUgPSBUSEVNRV9DT0xPUl9UWVBFU1tpXTsgaSsrKSB7XG4gICAgICBpZiAocnVsZS5pbmRleE9mKCcubWQtJyArIHR5cGUpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHJ1bGVzQnlUeXBlW3R5cGVdICs9IHJ1bGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgbm8gZWcgJ21kLWFjY2VudCcgY2xhc3MgaXMgZm91bmQsIHRyeSB0byBqdXN0IGZpbmQgJ2FjY2VudCcgaW4gdGhlIHJ1bGUgYW5kIGd1ZXNzIGZyb21cbiAgICAvLyB0aGVyZVxuICAgIGZvciAoaSA9IDA7IHR5cGUgPSBUSEVNRV9DT0xPUl9UWVBFU1tpXTsgaSsrKSB7XG4gICAgICBpZiAocnVsZS5pbmRleE9mKHR5cGUpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHJ1bGVzQnlUeXBlW3R5cGVdICs9IHJ1bGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRGVmYXVsdCB0byB0aGUgcHJpbWFyeSBhcnJheVxuICAgIHJldHVybiBydWxlc0J5VHlwZVtERUZBVUxUX0NPTE9SX1RZUEVdICs9IHJ1bGU7XG4gIH0pO1xuXG4gICAgLy8gRm9yIGVhY2ggdGhlbWUsIHVzZSB0aGUgY29sb3IgcGFsZXR0ZXMgc3BlY2lmaWVkIGZvclxuICAgIC8vIGBwcmltYXJ5YCwgYHdhcm5gIGFuZCBgYWNjZW50YCB0byBnZW5lcmF0ZSBDU1MgcnVsZXMuXG5cbiAgICBhbmd1bGFyLmZvckVhY2goVEhFTUVTLCBmdW5jdGlvbih0aGVtZSkge1xuICAgICAgaWYgKCAhR0VORVJBVEVEW3RoZW1lLm5hbWVdICkge1xuXG5cbiAgICAgICAgVEhFTUVfQ09MT1JfVFlQRVMuZm9yRWFjaChmdW5jdGlvbihjb2xvclR5cGUpIHtcbiAgICAgICAgICB2YXIgc3R5bGVTdHJpbmdzID0gcGFyc2VSdWxlcyh0aGVtZSwgY29sb3JUeXBlLCBydWxlc0J5VHlwZVtjb2xvclR5cGVdKTtcbiAgICAgICAgICB3aGlsZSAoc3R5bGVTdHJpbmdzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICAgICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9jc3MnKTtcbiAgICAgICAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0eWxlU3RyaW5ncy5zaGlmdCgpKSk7XG4gICAgICAgICAgICBoZWFkLmluc2VydEJlZm9yZShzdHlsZSwgZmlyc3RDaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICAgIGlmICh0aGVtZS5jb2xvcnMucHJpbWFyeS5uYW1lID09IHRoZW1lLmNvbG9ycy5hY2NlbnQubmFtZSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcIiRtZFRoZW1pbmdQcm92aWRlcjogVXNpbmcgdGhlIHNhbWUgcGFsZXR0ZSBmb3IgcHJpbWFyeSBhbmRcIiArXG4gICAgICAgICAgICAgICAgICAgICAgIFwiIGFjY2VudC4gVGhpcyB2aW9sYXRlcyB0aGUgbWF0ZXJpYWwgZGVzaWduIHNwZWMuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgR0VORVJBVEVEW3RoZW1lLm5hbWVdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuXG4gIC8vICoqKioqKioqKioqKioqKioqKioqKioqKipcbiAgLy8gSW50ZXJuYWwgZnVuY3Rpb25zXG4gIC8vICoqKioqKioqKioqKioqKioqKioqKioqKipcblxuICAvLyBUaGUgdXNlciBzcGVjaWZpZXMgYSAnZGVmYXVsdCcgY29udHJhc3QgY29sb3IgYXMgZWl0aGVyIGxpZ2h0IG9yIGRhcmssXG4gIC8vIHRoZW4gZXhwbGljaXRseSBsaXN0cyB3aGljaCBodWVzIGFyZSB0aGUgb3Bwb3NpdGUgY29udHJhc3QgKGVnLiBBMTAwIGhhcyBkYXJrLCBBMjAwIGhhcyBsaWdodClcbiAgZnVuY3Rpb24gc2FuaXRpemVQYWxldHRlKHBhbGV0dGUpIHtcbiAgICB2YXIgZGVmYXVsdENvbnRyYXN0ID0gcGFsZXR0ZS5jb250cmFzdERlZmF1bHRDb2xvcjtcbiAgICB2YXIgbGlnaHRDb2xvcnMgPSBwYWxldHRlLmNvbnRyYXN0TGlnaHRDb2xvcnMgfHwgW107XG4gICAgdmFyIHN0cm9uZ0xpZ2h0Q29sb3JzID0gcGFsZXR0ZS5jb250cmFzdFN0cm9uZ0xpZ2h0Q29sb3JzIHx8IFtdO1xuICAgIHZhciBkYXJrQ29sb3JzID0gcGFsZXR0ZS5jb250cmFzdERhcmtDb2xvcnMgfHwgW107XG5cbiAgICAvLyBUaGVzZSBjb2xvcnMgYXJlIHByb3ZpZGVkIGFzIHNwYWNlLXNlcGFyYXRlZCBsaXN0c1xuICAgIGlmICh0eXBlb2YgbGlnaHRDb2xvcnMgPT09ICdzdHJpbmcnKSBsaWdodENvbG9ycyA9IGxpZ2h0Q29sb3JzLnNwbGl0KCcgJyk7XG4gICAgaWYgKHR5cGVvZiBzdHJvbmdMaWdodENvbG9ycyA9PT0gJ3N0cmluZycpIHN0cm9uZ0xpZ2h0Q29sb3JzID0gc3Ryb25nTGlnaHRDb2xvcnMuc3BsaXQoJyAnKTtcbiAgICBpZiAodHlwZW9mIGRhcmtDb2xvcnMgPT09ICdzdHJpbmcnKSBkYXJrQ29sb3JzID0gZGFya0NvbG9ycy5zcGxpdCgnICcpO1xuXG4gICAgLy8gQ2xlYW51cCBhZnRlciBvdXJzZWx2ZXNcbiAgICBkZWxldGUgcGFsZXR0ZS5jb250cmFzdERlZmF1bHRDb2xvcjtcbiAgICBkZWxldGUgcGFsZXR0ZS5jb250cmFzdExpZ2h0Q29sb3JzO1xuICAgIGRlbGV0ZSBwYWxldHRlLmNvbnRyYXN0U3Ryb25nTGlnaHRDb2xvcnM7XG4gICAgZGVsZXRlIHBhbGV0dGUuY29udHJhc3REYXJrQ29sb3JzO1xuXG4gICAgLy8gQ2hhbmdlIHsgJ0ExMDAnOiAnI2ZmZmVlZScgfSB0byB7ICdBMTAwJzogeyB2YWx1ZTogJyNmZmZlZWUnLCBjb250cmFzdDpEQVJLX0NPTlRSQVNUX0NPTE9SIH1cbiAgICBhbmd1bGFyLmZvckVhY2gocGFsZXR0ZSwgZnVuY3Rpb24oaHVlVmFsdWUsIGh1ZU5hbWUpIHtcbiAgICAgIGlmIChhbmd1bGFyLmlzT2JqZWN0KGh1ZVZhbHVlKSkgcmV0dXJuOyAvLyBBbHJlYWR5IGNvbnZlcnRlZFxuICAgICAgLy8gTWFwIGV2ZXJ5dGhpbmcgdG8gcmdiIGNvbG9yc1xuICAgICAgdmFyIHJnYlZhbHVlID0gY29sb3JUb1JnYmFBcnJheShodWVWYWx1ZSk7XG4gICAgICBpZiAoIXJnYlZhbHVlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbG9yICUxLCBpbiBwYWxldHRlICUyJ3MgaHVlICUzLCBpcyBpbnZhbGlkLiBIZXggb3IgcmdiKGEpIGNvbG9yIGV4cGVjdGVkLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgnJTEnLCBodWVWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCclMicsIHBhbGV0dGUubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCclMycsIGh1ZU5hbWUpKTtcbiAgICAgIH1cblxuICAgICAgcGFsZXR0ZVtodWVOYW1lXSA9IHtcbiAgICAgICAgdmFsdWU6IHJnYlZhbHVlLFxuICAgICAgICBjb250cmFzdDogZ2V0Q29udHJhc3RDb2xvcigpXG4gICAgICB9O1xuICAgICAgZnVuY3Rpb24gZ2V0Q29udHJhc3RDb2xvcigpIHtcbiAgICAgICAgaWYgKGRlZmF1bHRDb250cmFzdCA9PT0gJ2xpZ2h0Jykge1xuICAgICAgICAgIGlmIChkYXJrQ29sb3JzLmluZGV4T2YoaHVlTmFtZSkgPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIERBUktfQ09OVFJBU1RfQ09MT1I7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJvbmdMaWdodENvbG9ycy5pbmRleE9mKGh1ZU5hbWUpID4gLTEgPyBTVFJPTkdfTElHSFRfQ09OVFJBU1RfQ09MT1JcbiAgICAgICAgICAgICAgOiBMSUdIVF9DT05UUkFTVF9DT0xPUjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGxpZ2h0Q29sb3JzLmluZGV4T2YoaHVlTmFtZSkgPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0cm9uZ0xpZ2h0Q29sb3JzLmluZGV4T2YoaHVlTmFtZSkgPiAtMSA/IFNUUk9OR19MSUdIVF9DT05UUkFTVF9DT0xPUlxuICAgICAgICAgICAgICA6IExJR0hUX0NPTlRSQVNUX0NPTE9SO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gREFSS19DT05UUkFTVF9DT0xPUjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG5cbn1cbmdlbmVyYXRlVGhlbWVzLiRpbmplY3QgPSBbXCIkaW5qZWN0b3JcIl07XG5cbmZ1bmN0aW9uIGNoZWNrVmFsaWRQYWxldHRlKHRoZW1lLCBjb2xvclR5cGUpIHtcbiAgLy8gSWYgdGhlbWUgYXR0ZW1wdHMgdG8gdXNlIGEgcGFsZXR0ZSB0aGF0IGRvZXNudCBleGlzdCwgdGhyb3cgZXJyb3JcbiAgaWYgKCFQQUxFVFRFU1sgKHRoZW1lLmNvbG9yc1tjb2xvclR5cGVdIHx8IHt9KS5uYW1lIF0pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIllvdSBzdXBwbGllZCBhbiBpbnZhbGlkIGNvbG9yIHBhbGV0dGUgZm9yIHRoZW1lICUxJ3MgJTIgcGFsZXR0ZS4gQXZhaWxhYmxlIHBhbGV0dGVzOiAlM1wiXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCclMScsIHRoZW1lLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKCclMicsIGNvbG9yVHlwZSlcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoJyUzJywgT2JqZWN0LmtleXMoUEFMRVRURVMpLmpvaW4oJywgJykpXG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb2xvclRvUmdiYUFycmF5KGNscikge1xuICBpZiAoYW5ndWxhci5pc0FycmF5KGNscikgJiYgY2xyLmxlbmd0aCA9PSAzKSByZXR1cm4gY2xyO1xuICBpZiAoL15yZ2IvLnRlc3QoY2xyKSkge1xuICAgIHJldHVybiBjbHIucmVwbGFjZSgvKF5cXHMqcmdiYT9cXCh8XFwpXFxzKiQpL2csICcnKS5zcGxpdCgnLCcpLm1hcChmdW5jdGlvbih2YWx1ZSwgaSkge1xuICAgICAgcmV0dXJuIGkgPT0gMyA/IHBhcnNlRmxvYXQodmFsdWUsIDEwKSA6IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKGNsci5jaGFyQXQoMCkgPT0gJyMnKSBjbHIgPSBjbHIuc3Vic3RyaW5nKDEpO1xuICBpZiAoIS9eKFthLWZBLUYwLTldezN9KXsxLDJ9JC9nLnRlc3QoY2xyKSkgcmV0dXJuO1xuXG4gIHZhciBkaWcgPSBjbHIubGVuZ3RoIC8gMztcbiAgdmFyIHJlZCA9IGNsci5zdWJzdHIoMCwgZGlnKTtcbiAgdmFyIGdybiA9IGNsci5zdWJzdHIoZGlnLCBkaWcpO1xuICB2YXIgYmx1ID0gY2xyLnN1YnN0cihkaWcgKiAyKTtcbiAgaWYgKGRpZyA9PT0gMSkge1xuICAgIHJlZCArPSByZWQ7XG4gICAgZ3JuICs9IGdybjtcbiAgICBibHUgKz0gYmx1O1xuICB9XG4gIHJldHVybiBbcGFyc2VJbnQocmVkLCAxNiksIHBhcnNlSW50KGdybiwgMTYpLCBwYXJzZUludChibHUsIDE2KV07XG59XG5cbmZ1bmN0aW9uIHJnYmEocmdiQXJyYXksIG9wYWNpdHkpIHtcbiAgaWYgKCAhcmdiQXJyYXkgKSByZXR1cm4gXCJyZ2IoJzAsMCwwJylcIjtcblxuICBpZiAocmdiQXJyYXkubGVuZ3RoID09IDQpIHtcbiAgICByZ2JBcnJheSA9IGFuZ3VsYXIuY29weShyZ2JBcnJheSk7XG4gICAgb3BhY2l0eSA/IHJnYkFycmF5LnBvcCgpIDogb3BhY2l0eSA9IHJnYkFycmF5LnBvcCgpO1xuICB9XG4gIHJldHVybiBvcGFjaXR5ICYmICh0eXBlb2Ygb3BhY2l0eSA9PSAnbnVtYmVyJyB8fCAodHlwZW9mIG9wYWNpdHkgPT0gJ3N0cmluZycgJiYgb3BhY2l0eS5sZW5ndGgpKSA/XG4gICAgJ3JnYmEoJyArIHJnYkFycmF5LmpvaW4oJywnKSArICcsJyArIG9wYWNpdHkgKyAnKScgOlxuICAgICdyZ2IoJyArIHJnYkFycmF5LmpvaW4oJywnKSArICcpJztcbn1cblxuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLmF1dG9jb21wbGV0ZVxuICovXG4vKlxuICogQHNlZSBqcyBmb2xkZXIgZm9yIGF1dG9jb21wbGV0ZSBpbXBsZW1lbnRhdGlvblxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5hdXRvY29tcGxldGUnLCBbXG4gICdtYXRlcmlhbC5jb3JlJyxcbiAgJ21hdGVyaWFsLmNvbXBvbmVudHMuaWNvbidcbl0pO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLypcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuYmFja2Ryb3BcbiAqIEBkZXNjcmlwdGlvbiBCYWNrZHJvcFxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRCYWNrZHJvcFxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmJhY2tkcm9wXG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGA8bWQtYmFja2Ryb3A+YCBpcyBhIGJhY2tkcm9wIGVsZW1lbnQgdXNlZCBieSBvdGhlciBjb21wb25lbnRzLCBzdWNoIGFzIGRpYWxvZyBhbmQgYm90dG9tIHNoZWV0LlxuICogQXBwbHkgY2xhc3MgYG9wYXF1ZWAgdG8gbWFrZSB0aGUgYmFja2Ryb3AgdXNlIHRoZSB0aGVtZSBiYWNrZHJvcCBjb2xvci5cbiAqXG4gKi9cblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuYmFja2Ryb3AnLCBbXG4gICdtYXRlcmlhbC5jb3JlJ1xuXSlcbiAgLmRpcmVjdGl2ZSgnbWRCYWNrZHJvcCcsIEJhY2tkcm9wRGlyZWN0aXZlKTtcblxuZnVuY3Rpb24gQmFja2Ryb3BEaXJlY3RpdmUoJG1kVGhlbWluZykge1xuICByZXR1cm4gJG1kVGhlbWluZztcbn1cbkJhY2tkcm9wRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRUaGVtaW5nXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLmJvdHRvbVNoZWV0XG4gKiBAZGVzY3JpcHRpb25cbiAqIEJvdHRvbVNoZWV0XG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmJvdHRvbVNoZWV0JywgW1xuICAnbWF0ZXJpYWwuY29yZScsXG4gICdtYXRlcmlhbC5jb21wb25lbnRzLmJhY2tkcm9wJ1xuXSlcbiAgLmRpcmVjdGl2ZSgnbWRCb3R0b21TaGVldCcsIE1kQm90dG9tU2hlZXREaXJlY3RpdmUpXG4gIC5wcm92aWRlcignJG1kQm90dG9tU2hlZXQnLCBNZEJvdHRvbVNoZWV0UHJvdmlkZXIpO1xuXG5mdW5jdGlvbiBNZEJvdHRvbVNoZWV0RGlyZWN0aXZlKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRSdcbiAgfTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJG1kQm90dG9tU2hlZXRcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5ib3R0b21TaGVldFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYCRtZEJvdHRvbVNoZWV0YCBvcGVucyBhIGJvdHRvbSBzaGVldCBvdmVyIHRoZSBhcHAgYW5kIHByb3ZpZGVzIGEgc2ltcGxlIHByb21pc2UgQVBJLlxuICpcbiAqICMjIFJlc3RyaWN0aW9uc1xuICpcbiAqIC0gVGhlIGJvdHRvbSBzaGVldCdzIHRlbXBsYXRlIG11c3QgaGF2ZSBhbiBvdXRlciBgPG1kLWJvdHRvbS1zaGVldD5gIGVsZW1lbnQuXG4gKiAtIEFkZCB0aGUgYG1kLWdyaWRgIGNsYXNzIHRvIHRoZSBib3R0b20gc2hlZXQgZm9yIGEgZ3JpZCBsYXlvdXQuXG4gKiAtIEFkZCB0aGUgYG1kLWxpc3RgIGNsYXNzIHRvIHRoZSBib3R0b20gc2hlZXQgZm9yIGEgbGlzdCBsYXlvdXQuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPGRpdiBuZy1jb250cm9sbGVyPVwiTXlDb250cm9sbGVyXCI+XG4gKiAgIDxtZC1idXR0b24gbmctY2xpY2s9XCJvcGVuQm90dG9tU2hlZXQoKVwiPlxuICogICAgIE9wZW4gYSBCb3R0b20gU2hlZXQhXG4gKiAgIDwvbWQtYnV0dG9uPlxuICogPC9kaXY+XG4gKiA8L2hsanM+XG4gKiA8aGxqcyBsYW5nPVwianNcIj5cbiAqIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJywgWyduZ01hdGVyaWFsJ10pO1xuICogYXBwLmNvbnRyb2xsZXIoJ015Q29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSwgJG1kQm90dG9tU2hlZXQpIHtcbiAqICAgJHNjb3BlLm9wZW5Cb3R0b21TaGVldCA9IGZ1bmN0aW9uKCkge1xuICogICAgICRtZEJvdHRvbVNoZWV0LnNob3coe1xuICogICAgICAgdGVtcGxhdGU6ICc8bWQtYm90dG9tLXNoZWV0PkhlbGxvITwvbWQtYm90dG9tLXNoZWV0PidcbiAqICAgICB9KTtcbiAqICAgfTtcbiAqIH0pO1xuICogPC9obGpzPlxuICovXG5cbiAvKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRtZEJvdHRvbVNoZWV0I3Nob3dcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNob3cgYSBib3R0b20gc2hlZXQgd2l0aCB0aGUgc3BlY2lmaWVkIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgQW4gb3B0aW9ucyBvYmplY3QsIHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBgdGVtcGxhdGVVcmxgIC0gYHtzdHJpbmc9fWA6IFRoZSB1cmwgb2YgYW4gaHRtbCB0ZW1wbGF0ZSBmaWxlIHRoYXQgd2lsbFxuICogICBiZSB1c2VkIGFzIHRoZSBjb250ZW50IG9mIHRoZSBib3R0b20gc2hlZXQuIFJlc3RyaWN0aW9uczogdGhlIHRlbXBsYXRlIG11c3RcbiAqICAgaGF2ZSBhbiBvdXRlciBgbWQtYm90dG9tLXNoZWV0YCBlbGVtZW50LlxuICogICAtIGB0ZW1wbGF0ZWAgLSBge3N0cmluZz19YDogU2FtZSBhcyB0ZW1wbGF0ZVVybCwgZXhjZXB0IHRoaXMgaXMgYW4gYWN0dWFsXG4gKiAgIHRlbXBsYXRlIHN0cmluZy5cbiAqICAgLSBgc2NvcGVgIC0gYHtvYmplY3Q9fWA6IHRoZSBzY29wZSB0byBsaW5rIHRoZSB0ZW1wbGF0ZSAvIGNvbnRyb2xsZXIgdG8uIElmIG5vbmUgaXMgc3BlY2lmaWVkLCBpdCB3aWxsIGNyZWF0ZSBhIG5ldyBjaGlsZCBzY29wZS5cbiAqICAgICBUaGlzIHNjb3BlIHdpbGwgYmUgZGVzdHJveWVkIHdoZW4gdGhlIGJvdHRvbSBzaGVldCBpcyByZW1vdmVkIHVubGVzcyBgcHJlc2VydmVTY29wZWAgaXMgc2V0IHRvIHRydWUuXG4gKiAgIC0gYHByZXNlcnZlU2NvcGVgIC0gYHtib29sZWFuPX1gOiB3aGV0aGVyIHRvIHByZXNlcnZlIHRoZSBzY29wZSB3aGVuIHRoZSBlbGVtZW50IGlzIHJlbW92ZWQuIERlZmF1bHQgaXMgZmFsc2VcbiAqICAgLSBgY29udHJvbGxlcmAgLSBge3N0cmluZz19YDogVGhlIGNvbnRyb2xsZXIgdG8gYXNzb2NpYXRlIHdpdGggdGhpcyBib3R0b20gc2hlZXQuXG4gKiAgIC0gYGxvY2Fsc2AgLSBge3N0cmluZz19YDogQW4gb2JqZWN0IGNvbnRhaW5pbmcga2V5L3ZhbHVlIHBhaXJzLiBUaGUga2V5cyB3aWxsXG4gKiAgIGJlIHVzZWQgYXMgbmFtZXMgb2YgdmFsdWVzIHRvIGluamVjdCBpbnRvIHRoZSBjb250cm9sbGVyLiBGb3IgZXhhbXBsZSxcbiAqICAgYGxvY2Fsczoge3RocmVlOiAzfWAgd291bGQgaW5qZWN0IGB0aHJlZWAgaW50byB0aGUgY29udHJvbGxlciB3aXRoIHRoZSB2YWx1ZVxuICogICBvZiAzLlxuICogICAtIGB0YXJnZXRFdmVudGAgLSBge0RPTUNsaWNrRXZlbnQ9fWA6IEEgY2xpY2sncyBldmVudCBvYmplY3QuIFdoZW4gcGFzc2VkIGluIGFzIGFuIG9wdGlvbixcbiAqICAgdGhlIGxvY2F0aW9uIG9mIHRoZSBjbGljayB3aWxsIGJlIHVzZWQgYXMgdGhlIHN0YXJ0aW5nIHBvaW50IGZvciB0aGUgb3BlbmluZyBhbmltYXRpb25cbiAqICAgb2YgdGhlIHRoZSBkaWFsb2cuXG4gKiAgIC0gYHJlc29sdmVgIC0gYHtvYmplY3Q9fWA6IFNpbWlsYXIgdG8gbG9jYWxzLCBleGNlcHQgaXQgdGFrZXMgcHJvbWlzZXMgYXMgdmFsdWVzXG4gKiAgIGFuZCB0aGUgYm90dG9tIHNoZWV0IHdpbGwgbm90IG9wZW4gdW50aWwgdGhlIHByb21pc2VzIHJlc29sdmUuXG4gKiAgIC0gYGNvbnRyb2xsZXJBc2AgLSBge3N0cmluZz19YDogQW4gYWxpYXMgdG8gYXNzaWduIHRoZSBjb250cm9sbGVyIHRvIG9uIHRoZSBzY29wZS5cbiAqICAgLSBgcGFyZW50YCAtIGB7ZWxlbWVudD19YDogVGhlIGVsZW1lbnQgdG8gYXBwZW5kIHRoZSBib3R0b20gc2hlZXQgdG8uIFRoZSBgcGFyZW50YCBtYXkgYmUgYSBgZnVuY3Rpb25gLCBgc3RyaW5nYCxcbiAqICAgYG9iamVjdGAsIG9yIG51bGwuIERlZmF1bHRzIHRvIGFwcGVuZGluZyB0byB0aGUgYm9keSBvZiB0aGUgcm9vdCBlbGVtZW50IChvciB0aGUgcm9vdCBlbGVtZW50KSBvZiB0aGUgYXBwbGljYXRpb24uXG4gKiAgIGUuZy4gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50JykpIG9yIFwiI2NvbnRlbnRcIlxuICogICAtIGBkaXNhYmxlUGFyZW50U2Nyb2xsYCAtIGB7Ym9vbGVhbj19YDogV2hldGhlciB0byBkaXNhYmxlIHNjcm9sbGluZyB3aGlsZSB0aGUgYm90dG9tIHNoZWV0IGlzIG9wZW4uXG4gKiAgICAgRGVmYXVsdCB0cnVlLlxuICpcbiAqIEByZXR1cm5zIHtwcm9taXNlfSBBIHByb21pc2UgdGhhdCBjYW4gYmUgcmVzb2x2ZWQgd2l0aCBgJG1kQm90dG9tU2hlZXQuaGlkZSgpYCBvclxuICogcmVqZWN0ZWQgd2l0aCBgJG1kQm90dG9tU2hlZXQuY2FuY2VsKClgLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kQm90dG9tU2hlZXQjaGlkZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSGlkZSB0aGUgZXhpc3RpbmcgYm90dG9tIHNoZWV0IGFuZCByZXNvbHZlIHRoZSBwcm9taXNlIHJldHVybmVkIGZyb21cbiAqIGAkbWRCb3R0b21TaGVldC5zaG93KClgLiBUaGlzIGNhbGwgd2lsbCBjbG9zZSB0aGUgbW9zdCByZWNlbnRseSBvcGVuZWQvY3VycmVudCBib3R0b21zaGVldCAoaWYgYW55KS5cbiAqXG4gKiBAcGFyYW0geyo9fSByZXNwb25zZSBBbiBhcmd1bWVudCBmb3IgdGhlIHJlc29sdmVkIHByb21pc2UuXG4gKlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kQm90dG9tU2hlZXQjY2FuY2VsXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIaWRlIHRoZSBleGlzdGluZyBib3R0b20gc2hlZXQgYW5kIHJlamVjdCB0aGUgcHJvbWlzZSByZXR1cm5lZCBmcm9tXG4gKiBgJG1kQm90dG9tU2hlZXQuc2hvdygpYC5cbiAqXG4gKiBAcGFyYW0geyo9fSByZXNwb25zZSBBbiBhcmd1bWVudCBmb3IgdGhlIHJlamVjdGVkIHByb21pc2UuXG4gKlxuICovXG5cbmZ1bmN0aW9uIE1kQm90dG9tU2hlZXRQcm92aWRlcigkJGludGVyaW1FbGVtZW50UHJvdmlkZXIpIHtcbiAgLy8gaG93IGZhc3Qgd2UgbmVlZCB0byBmbGljayBkb3duIHRvIGNsb3NlIHRoZSBzaGVldCwgcGl4ZWxzL21zXG4gIHZhciBDTE9TSU5HX1ZFTE9DSVRZID0gMC41O1xuICB2YXIgUEFERElORyA9IDgwOyAvLyBzYW1lIGFzIGNzc1xuXG4gIGJvdHRvbVNoZWV0RGVmYXVsdHMuJGluamVjdCA9IFtcIiRhbmltYXRlXCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkbWRVdGlsXCIsIFwiJHRpbWVvdXRcIiwgXCIkY29tcGlsZVwiLCBcIiRtZFRoZW1pbmdcIiwgXCIkbWRCb3R0b21TaGVldFwiLCBcIiRyb290RWxlbWVudFwiLCBcIiRtZEdlc3R1cmVcIl07XG4gIHJldHVybiAkJGludGVyaW1FbGVtZW50UHJvdmlkZXIoJyRtZEJvdHRvbVNoZWV0JylcbiAgICAuc2V0RGVmYXVsdHMoe1xuICAgICAgbWV0aG9kczogWydkaXNhYmxlUGFyZW50U2Nyb2xsJywgJ2VzY2FwZVRvQ2xvc2UnLCAndGFyZ2V0RXZlbnQnXSxcbiAgICAgIG9wdGlvbnM6IGJvdHRvbVNoZWV0RGVmYXVsdHNcbiAgICB9KTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gYm90dG9tU2hlZXREZWZhdWx0cygkYW5pbWF0ZSwgJG1kQ29uc3RhbnQsICRtZFV0aWwsICR0aW1lb3V0LCAkY29tcGlsZSwgJG1kVGhlbWluZywgJG1kQm90dG9tU2hlZXQsICRyb290RWxlbWVudCwgJG1kR2VzdHVyZSkge1xuICAgIHZhciBiYWNrZHJvcDtcblxuICAgIHJldHVybiB7XG4gICAgICB0aGVtYWJsZTogdHJ1ZSxcbiAgICAgIHRhcmdldEV2ZW50OiBudWxsLFxuICAgICAgb25TaG93OiBvblNob3csXG4gICAgICBvblJlbW92ZTogb25SZW1vdmUsXG4gICAgICBlc2NhcGVUb0Nsb3NlOiB0cnVlLFxuICAgICAgZGlzYWJsZVBhcmVudFNjcm9sbDogdHJ1ZVxuICAgIH07XG5cblxuICAgIGZ1bmN0aW9uIG9uU2hvdyhzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuXG4gICAgICBlbGVtZW50ID0gJG1kVXRpbC5leHRyYWN0RWxlbWVudEJ5TmFtZShlbGVtZW50LCAnbWQtYm90dG9tLXNoZWV0Jyk7XG5cbiAgICAgIC8vIEFkZCBhIGJhY2tkcm9wIHRoYXQgd2lsbCBjbG9zZSBvbiBjbGlja1xuICAgICAgYmFja2Ryb3AgPSAkY29tcGlsZSgnPG1kLWJhY2tkcm9wIGNsYXNzPVwibWQtb3BhcXVlIG1kLWJvdHRvbS1zaGVldC1iYWNrZHJvcFwiPicpKHNjb3BlKTtcbiAgICAgIGJhY2tkcm9wLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAkdGltZW91dCgkbWRCb3R0b21TaGVldC5jYW5jZWwpO1xuICAgICAgfSk7XG4gICAgICAkbWRUaGVtaW5nLmluaGVyaXQoYmFja2Ryb3AsIG9wdGlvbnMucGFyZW50KTtcblxuICAgICAgJGFuaW1hdGUuZW50ZXIoYmFja2Ryb3AsIG9wdGlvbnMucGFyZW50LCBudWxsKTtcblxuICAgICAgdmFyIGJvdHRvbVNoZWV0ID0gbmV3IEJvdHRvbVNoZWV0KGVsZW1lbnQsIG9wdGlvbnMucGFyZW50KTtcbiAgICAgIG9wdGlvbnMuYm90dG9tU2hlZXQgPSBib3R0b21TaGVldDtcblxuICAgICAgLy8gR2l2ZSB1cCBmb2N1cyBvbiBjYWxsaW5nIGl0ZW1cbiAgICAgIG9wdGlvbnMudGFyZ2V0RXZlbnQgJiYgYW5ndWxhci5lbGVtZW50KG9wdGlvbnMudGFyZ2V0RXZlbnQudGFyZ2V0KS5ibHVyKCk7XG4gICAgICAkbWRUaGVtaW5nLmluaGVyaXQoYm90dG9tU2hlZXQuZWxlbWVudCwgb3B0aW9ucy5wYXJlbnQpO1xuXG4gICAgICBpZiAob3B0aW9ucy5kaXNhYmxlUGFyZW50U2Nyb2xsKSB7XG4gICAgICAgIG9wdGlvbnMubGFzdE92ZXJmbG93ID0gb3B0aW9ucy5wYXJlbnQuY3NzKCdvdmVyZmxvdycpO1xuICAgICAgICBvcHRpb25zLnBhcmVudC5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJGFuaW1hdGUuZW50ZXIoYm90dG9tU2hlZXQuZWxlbWVudCwgb3B0aW9ucy5wYXJlbnQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBmb2N1c2FibGUgPSBhbmd1bGFyLmVsZW1lbnQoXG4gICAgICAgICAgICBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpIHx8XG4gICAgICAgICAgICBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJ2EnKSB8fFxuICAgICAgICAgICAgZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCdbbmctY2xpY2tdJylcbiAgICAgICAgICApO1xuICAgICAgICAgIGZvY3VzYWJsZS5mb2N1cygpO1xuXG4gICAgICAgICAgaWYgKG9wdGlvbnMuZXNjYXBlVG9DbG9zZSkge1xuICAgICAgICAgICAgb3B0aW9ucy5yb290RWxlbWVudEtleXVwQ2FsbGJhY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09ICRtZENvbnN0YW50LktFWV9DT0RFLkVTQ0FQRSkge1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KCRtZEJvdHRvbVNoZWV0LmNhbmNlbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkcm9vdEVsZW1lbnQub24oJ2tleXVwJywgb3B0aW9ucy5yb290RWxlbWVudEtleXVwQ2FsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblJlbW92ZShzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuXG4gICAgICB2YXIgYm90dG9tU2hlZXQgPSBvcHRpb25zLmJvdHRvbVNoZWV0O1xuXG4gICAgICAkYW5pbWF0ZS5sZWF2ZShiYWNrZHJvcCk7XG4gICAgICByZXR1cm4gJGFuaW1hdGUubGVhdmUoYm90dG9tU2hlZXQuZWxlbWVudCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuZGlzYWJsZVBhcmVudFNjcm9sbCkge1xuICAgICAgICAgIG9wdGlvbnMucGFyZW50LmNzcygnb3ZlcmZsb3cnLCBvcHRpb25zLmxhc3RPdmVyZmxvdyk7XG4gICAgICAgICAgZGVsZXRlIG9wdGlvbnMubGFzdE92ZXJmbG93O1xuICAgICAgICB9XG5cbiAgICAgICAgYm90dG9tU2hlZXQuY2xlYW51cCgpO1xuXG4gICAgICAgIC8vIFJlc3RvcmUgZm9jdXNcbiAgICAgICAgb3B0aW9ucy50YXJnZXRFdmVudCAmJiBhbmd1bGFyLmVsZW1lbnQob3B0aW9ucy50YXJnZXRFdmVudC50YXJnZXQpLmZvY3VzKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCb3R0b21TaGVldCBjbGFzcyB0byBhcHBseSBib3R0b20tc2hlZXQgYmVoYXZpb3IgdG8gYW4gZWxlbWVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJvdHRvbVNoZWV0KGVsZW1lbnQsIHBhcmVudCkge1xuICAgICAgdmFyIGRlcmVnaXN0ZXIgPSAkbWRHZXN0dXJlLnJlZ2lzdGVyKHBhcmVudCwgJ2RyYWcnLCB7IGhvcml6b250YWw6IGZhbHNlIH0pO1xuICAgICAgcGFyZW50Lm9uKCckbWQuZHJhZ3N0YXJ0Jywgb25EcmFnU3RhcnQpXG4gICAgICAgIC5vbignJG1kLmRyYWcnLCBvbkRyYWcpXG4gICAgICAgIC5vbignJG1kLmRyYWdlbmQnLCBvbkRyYWdFbmQpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICBjbGVhbnVwOiBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgICAgIGRlcmVnaXN0ZXIoKTtcbiAgICAgICAgICBwYXJlbnQub2ZmKCckbWQuZHJhZ3N0YXJ0Jywgb25EcmFnU3RhcnQpXG4gICAgICAgICAgICAub2ZmKCckbWQuZHJhZycsIG9uRHJhZylcbiAgICAgICAgICAgIC5vZmYoJyRtZC5kcmFnZW5kJywgb25EcmFnRW5kKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gb25EcmFnU3RhcnQoZXYpIHtcbiAgICAgICAgLy8gRGlzYWJsZSB0cmFuc2l0aW9ucyBvbiB0cmFuc2Zvcm0gc28gdGhhdCBpdCBmZWVscyBmYXN0XG4gICAgICAgIGVsZW1lbnQuY3NzKCRtZENvbnN0YW50LkNTUy5UUkFOU0lUSU9OX0RVUkFUSU9OLCAnMG1zJyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uRHJhZyhldikge1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gZXYucG9pbnRlci5kaXN0YW5jZVk7XG4gICAgICAgIGlmICh0cmFuc2Zvcm0gPCA1KSB7XG4gICAgICAgICAgLy8gU2xvdyBkb3duIGRyYWcgd2hlbiB0cnlpbmcgdG8gZHJhZyB1cCwgYW5kIHN0b3AgYWZ0ZXIgUEFERElOR1xuICAgICAgICAgIHRyYW5zZm9ybSA9IE1hdGgubWF4KC1QQURESU5HLCB0cmFuc2Zvcm0gLyAyKTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50LmNzcygkbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNLCAndHJhbnNsYXRlM2QoMCwnICsgKFBBRERJTkcgKyB0cmFuc2Zvcm0pICsgJ3B4LDApJyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uRHJhZ0VuZChldikge1xuICAgICAgICBpZiAoZXYucG9pbnRlci5kaXN0YW5jZVkgPiAwICYmXG4gICAgICAgICAgICAoZXYucG9pbnRlci5kaXN0YW5jZVkgPiAyMCB8fCBNYXRoLmFicyhldi5wb2ludGVyLnZlbG9jaXR5WSkgPiBDTE9TSU5HX1ZFTE9DSVRZKSkge1xuICAgICAgICAgIHZhciBkaXN0YW5jZVJlbWFpbmluZyA9IGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0JykgLSBldi5wb2ludGVyLmRpc3RhbmNlWTtcbiAgICAgICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gTWF0aC5taW4oZGlzdGFuY2VSZW1haW5pbmcgLyBldi5wb2ludGVyLnZlbG9jaXR5WSAqIDAuNzUsIDUwMCk7XG4gICAgICAgICAgZWxlbWVudC5jc3MoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TSVRJT05fRFVSQVRJT04sIHRyYW5zaXRpb25EdXJhdGlvbiArICdtcycpO1xuICAgICAgICAgICR0aW1lb3V0KCRtZEJvdHRvbVNoZWV0LmNhbmNlbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbWVudC5jc3MoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TSVRJT05fRFVSQVRJT04sICcnKTtcbiAgICAgICAgICBlbGVtZW50LmNzcygkbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNLCAnJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuXG59XG5NZEJvdHRvbVNoZWV0UHJvdmlkZXIuJGluamVjdCA9IFtcIiQkaW50ZXJpbUVsZW1lbnRQcm92aWRlclwiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5idXR0b25cbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIEJ1dHRvblxuICovXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5idXR0b24nLCBbICdtYXRlcmlhbC5jb3JlJyBdKVxuICAgIC5kaXJlY3RpdmUoJ21kQnV0dG9uJywgTWRCdXR0b25EaXJlY3RpdmUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kQnV0dG9uXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuYnV0dG9uXG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGA8bWQtYnV0dG9uPmAgaXMgYSBidXR0b24gZGlyZWN0aXZlIHdpdGggb3B0aW9uYWwgaW5rIHJpcHBsZXMgKGRlZmF1bHQgZW5hYmxlZCkuXG4gKlxuICogSWYgeW91IHN1cHBseSBhIGBocmVmYCBvciBgbmctaHJlZmAgYXR0cmlidXRlLCBpdCB3aWxsIGJlY29tZSBhbiBgPGE+YCBlbGVtZW50LiBPdGhlcndpc2UsIGl0IHdpbGxcbiAqIGJlY29tZSBhIGA8YnV0dG9uPmAgZWxlbWVudC4gQXMgcGVyIHRoZSBbTWF0ZXJpYWwgRGVzaWduIHNwZWNpZmljYXRpb25zXShodHRwOi8vd3d3Lmdvb2dsZS5jb20vZGVzaWduL3NwZWMvc3R5bGUvY29sb3IuaHRtbCNjb2xvci11aS1jb2xvci1hcHBsaWNhdGlvbilcbiAqIHRoZSBGQUIgYnV0dG9uIGJhY2tncm91bmQgaXMgZmlsbGVkIHdpdGggdGhlIGFjY2VudCBjb2xvciBbYnkgZGVmYXVsdF0uIFRoZSBwcmltYXJ5IGNvbG9yIHBhbGV0dGUgbWF5IGJlIHVzZWQgd2l0aFxuICogdGhlIGBtZC1wcmltYXJ5YCBjbGFzcy5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1uby1pbmsgSWYgcHJlc2VudCwgZGlzYWJsZSByaXBwbGUgaW5rIGVmZmVjdHMuXG4gKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZy1kaXNhYmxlZCBFbi9EaXNhYmxlIGJhc2VkIG9uIHRoZSBleHByZXNzaW9uXG4gKiBAcGFyYW0ge3N0cmluZz19IG1kLXJpcHBsZS1zaXplIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCByaXBwbGUgc2l6ZSBsb2dpYy4gT3B0aW9uczogYGZ1bGxgLCBgcGFydGlhbGAsIGBhdXRvYFxuICogQHBhcmFtIHtzdHJpbmc9fSBhcmlhLWxhYmVsIEFkZHMgYWx0ZXJuYXRpdmUgdGV4dCB0byBidXR0b24gZm9yIGFjY2Vzc2liaWxpdHksIHVzZWZ1bCBmb3IgaWNvbiBidXR0b25zLlxuICogSWYgbm8gZGVmYXVsdCB0ZXh0IGlzIGZvdW5kLCBhIHdhcm5pbmcgd2lsbCBiZSBsb2dnZWQuXG4gKlxuICogQHVzYWdlXG4gKlxuICogUmVndWxhciBidXR0b25zOlxuICpcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiAgPG1kLWJ1dHRvbj4gRmxhdCBCdXR0b24gPC9tZC1idXR0b24+XG4gKiAgPG1kLWJ1dHRvbiBocmVmPVwiaHR0cDovL2dvb2dsZS5jb21cIj4gRmxhdCBsaW5rIDwvbWQtYnV0dG9uPlxuICogIDxtZC1idXR0b24gY2xhc3M9XCJtZC1yYWlzZWRcIj4gUmFpc2VkIEJ1dHRvbiA8L21kLWJ1dHRvbj5cbiAqICA8bWQtYnV0dG9uIG5nLWRpc2FibGVkPVwidHJ1ZVwiPiBEaXNhYmxlZCBCdXR0b24gPC9tZC1idXR0b24+XG4gKiAgPG1kLWJ1dHRvbj5cbiAqICAgIDxtZC1pY29uIG1kLXN2Zy1zcmM9XCJ5b3VyL2ljb24uc3ZnXCI+PC9tZC1pY29uPlxuICogICAgUmVnaXN0ZXIgTm93XG4gKiAgPC9tZC1idXR0b24+XG4gKiA8L2hsanM+XG4gKlxuICogRkFCIGJ1dHRvbnM6XG4gKlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqICA8bWQtYnV0dG9uIGNsYXNzPVwibWQtZmFiXCIgYXJpYS1sYWJlbD1cIkZBQlwiPlxuICogICAgPG1kLWljb24gbWQtc3ZnLXNyYz1cInlvdXIvaWNvbi5zdmdcIj48L21kLWljb24+XG4gKiAgPC9tZC1idXR0b24+XG4gKiAgPCEtLSBtaW5pLUZBQiAtLT5cbiAqICA8bWQtYnV0dG9uIGNsYXNzPVwibWQtZmFiIG1kLW1pbmlcIiBhcmlhLWxhYmVsPVwiTWluaSBGQUJcIj5cbiAqICAgIDxtZC1pY29uIG1kLXN2Zy1zcmM9XCJ5b3VyL2ljb24uc3ZnXCI+PC9tZC1pY29uPlxuICogIDwvbWQtYnV0dG9uPlxuICogIDwhLS0gQnV0dG9uIHdpdGggU1ZHIEljb24gLS0+XG4gKiAgPG1kLWJ1dHRvbiBjbGFzcz1cIm1kLWljb24tYnV0dG9uXCIgYXJpYS1sYWJlbD1cIkN1c3RvbSBJY29uIEJ1dHRvblwiPlxuICogICAgPG1kLWljb24gbWQtc3ZnLWljb249XCJwYXRoL3RvL3lvdXIuc3ZnXCI+PC9tZC1pY29uPlxuICogIDwvbWQtYnV0dG9uPlxuICogPC9obGpzPlxuICovXG5mdW5jdGlvbiBNZEJ1dHRvbkRpcmVjdGl2ZSgkbWRCdXR0b25JbmtSaXBwbGUsICRtZFRoZW1pbmcsICRtZEFyaWEsICR0aW1lb3V0KSB7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgdGVtcGxhdGU6IGdldFRlbXBsYXRlLFxuICAgIGxpbms6IHBvc3RMaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gaXNBbmNob3IoYXR0cikge1xuICAgIHJldHVybiBhbmd1bGFyLmlzRGVmaW5lZChhdHRyLmhyZWYpIHx8IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHIubmdIcmVmKSB8fCBhbmd1bGFyLmlzRGVmaW5lZChhdHRyLm5nTGluaykgfHwgYW5ndWxhci5pc0RlZmluZWQoYXR0ci51aVNyZWYpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VGVtcGxhdGUoZWxlbWVudCwgYXR0cikge1xuICAgIHJldHVybiBpc0FuY2hvcihhdHRyKSA/XG4gICAgICAgICAgICc8YSBjbGFzcz1cIm1kLWJ1dHRvblwiIG5nLXRyYW5zY2x1ZGU+PC9hPicgOlxuICAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cIm1kLWJ1dHRvblwiIG5nLXRyYW5zY2x1ZGU+PC9idXR0b24+JztcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgdmFyIG5vZGUgPSBlbGVtZW50WzBdO1xuICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG4gICAgJG1kQnV0dG9uSW5rUmlwcGxlLmF0dGFjaChzY29wZSwgZWxlbWVudCk7XG5cbiAgICB2YXIgZWxlbWVudEhhc1RleHQgPSBub2RlLnRleHRDb250ZW50LnRyaW0oKTtcbiAgICBpZiAoIWVsZW1lbnRIYXNUZXh0KSB7XG4gICAgICAkbWRBcmlhLmV4cGVjdChlbGVtZW50LCAnYXJpYS1sYWJlbCcpO1xuICAgIH1cblxuICAgIC8vIEZvciBhbmNob3IgZWxlbWVudHMsIHdlIGhhdmUgdG8gc2V0IHRhYmluZGV4IG1hbnVhbGx5IHdoZW4gdGhlXG4gICAgLy8gZWxlbWVudCBpcyBkaXNhYmxlZFxuICAgIGlmIChpc0FuY2hvcihhdHRyKSAmJiBhbmd1bGFyLmlzRGVmaW5lZChhdHRyLm5nRGlzYWJsZWQpICkge1xuICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdEaXNhYmxlZCwgZnVuY3Rpb24oaXNEaXNhYmxlZCkge1xuICAgICAgICBlbGVtZW50LmF0dHIoJ3RhYmluZGV4JywgaXNEaXNhYmxlZCA/IC0xIDogMCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBkaXNhYmxpbmcgY2xpY2sgZXZlbnQgd2hlbiBkaXNhYmxlZCBpcyB0cnVlXG4gICAgZWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcbiAgICAgIGlmIChhdHRyLmRpc2FibGVkID09PSB0cnVlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIHJlc3RyaWN0IGZvY3VzIHN0eWxlcyB0byB0aGUga2V5Ym9hcmRcbiAgICBzY29wZS5tb3VzZUFjdGl2ZSA9IGZhbHNlO1xuICAgIGVsZW1lbnQub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzY29wZS5tb3VzZUFjdGl2ZSA9IHRydWU7XG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgc2NvcGUubW91c2VBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfSwgMTAwKTtcbiAgICAgIH0pXG4gICAgICAub24oJ2ZvY3VzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKHNjb3BlLm1vdXNlQWN0aXZlID09PSBmYWxzZSkgeyBlbGVtZW50LmFkZENsYXNzKCdtZC1mb2N1c2VkJyk7IH1cbiAgICAgIH0pXG4gICAgICAub24oJ2JsdXInLCBmdW5jdGlvbigpIHsgZWxlbWVudC5yZW1vdmVDbGFzcygnbWQtZm9jdXNlZCcpOyB9KTtcbiAgfVxuXG59XG5NZEJ1dHRvbkRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kQnV0dG9uSW5rUmlwcGxlXCIsIFwiJG1kVGhlbWluZ1wiLCBcIiRtZEFyaWFcIiwgXCIkdGltZW91dFwiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5jYXJkXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDYXJkIGNvbXBvbmVudHMuXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmNhcmQnLCBbXG4gICdtYXRlcmlhbC5jb3JlJ1xuXSlcbiAgLmRpcmVjdGl2ZSgnbWRDYXJkJywgbWRDYXJkRGlyZWN0aXZlKTtcblxuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRDYXJkXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuY2FyZFxuICpcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYDxtZC1jYXJkPmAgZGlyZWN0aXZlIGlzIGEgY29udGFpbmVyIGVsZW1lbnQgdXNlZCB3aXRoaW4gYDxtZC1jb250ZW50PmAgY29udGFpbmVycy5cbiAqXG4gKiBBbiBpbWFnZSBpbmNsdWRlZCBhcyBhIGRpcmVjdCBkZXNjZW5kYW50IHdpbGwgZmlsbCB0aGUgY2FyZCdzIHdpZHRoLCB3aGlsZSB0aGUgYDxtZC1jYXJkLWNvbnRlbnQ+YFxuICogY29udGFpbmVyIHdpbGwgd3JhcCB0ZXh0IGNvbnRlbnQgYW5kIHByb3ZpZGUgcGFkZGluZy4gQW4gYDxtZC1jYXJkLWZvb3Rlcj5gIGVsZW1lbnQgY2FuIGJlXG4gKiBvcHRpb25hbGx5IGluY2x1ZGVkIHRvIHB1dCBjb250ZW50IGZsdXNoIGFnYWluc3QgdGhlIGJvdHRvbSBlZGdlIG9mIHRoZSBjYXJkLlxuICpcbiAqIEFjdGlvbiBidXR0b25zIGNhbiBiZSBpbmNsdWRlZCBpbiBhbiBlbGVtZW50IHdpdGggdGhlIGAubWQtYWN0aW9uc2AgY2xhc3MsIGFsc28gdXNlZCBpbiBgbWQtZGlhbG9nYC5cbiAqIFlvdSBjYW4gdGhlbiBwb3NpdGlvbiBidXR0b25zIHVzaW5nIGxheW91dCBhdHRyaWJ1dGVzLlxuICpcbiAqIENhcmRzIGhhdmUgY29uc3RhbnQgd2lkdGggYW5kIHZhcmlhYmxlIGhlaWdodHM7IHdoZXJlIHRoZSBtYXhpbXVtIGhlaWdodCBpcyBsaW1pdGVkIHRvIHdoYXQgY2FuXG4gKiBmaXQgd2l0aGluIGEgc2luZ2xlIHZpZXcgb24gYSBwbGF0Zm9ybSwgYnV0IGl0IGNhbiB0ZW1wb3JhcmlseSBleHBhbmQgYXMgbmVlZGVkLlxuICpcbiAqIEB1c2FnZVxuICogIyMjQ2FyZCB3aXRoIG9wdGlvbmFsIGZvb3RlclxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1jYXJkPlxuICogIDxpbWcgc3JjPVwiY2FyZC1pbWFnZS5wbmdcIiBjbGFzcz1cIm1kLWNhcmQtaW1hZ2VcIiBhbHQ9XCJpbWFnZSBjYXB0aW9uXCI+XG4gKiAgPG1kLWNhcmQtY29udGVudD5cbiAqICAgIDxoMj5DYXJkIGhlYWRsaW5lPC9oMj5cbiAqICAgIDxwPkNhcmQgY29udGVudDwvcD5cbiAqICA8L21kLWNhcmQtY29udGVudD5cbiAqICA8bWQtY2FyZC1mb290ZXI+XG4gKiAgICBDYXJkIGZvb3RlclxuICogIDwvbWQtY2FyZC1mb290ZXI+XG4gKiA8L21kLWNhcmQ+XG4gKiA8L2hsanM+XG4gKlxuICogIyMjQ2FyZCB3aXRoIGFjdGlvbnNcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtY2FyZD5cbiAqICA8aW1nIHNyYz1cImNhcmQtaW1hZ2UucG5nXCIgY2xhc3M9XCJtZC1jYXJkLWltYWdlXCIgYWx0PVwiaW1hZ2UgY2FwdGlvblwiPlxuICogIDxtZC1jYXJkLWNvbnRlbnQ+XG4gKiAgICA8aDI+Q2FyZCBoZWFkbGluZTwvaDI+XG4gKiAgICA8cD5DYXJkIGNvbnRlbnQ8L3A+XG4gKiAgPC9tZC1jYXJkLWNvbnRlbnQ+XG4gKiAgPGRpdiBjbGFzcz1cIm1kLWFjdGlvbnNcIiBsYXlvdXQ9XCJyb3dcIiBsYXlvdXQtYWxpZ249XCJlbmQgY2VudGVyXCI+XG4gKiAgICA8bWQtYnV0dG9uPkFjdGlvbiAxPC9tZC1idXR0b24+XG4gKiAgICA8bWQtYnV0dG9uPkFjdGlvbiAyPC9tZC1idXR0b24+XG4gKiAgPC9kaXY+XG4gKiA8L21kLWNhcmQ+XG4gKiA8L2hsanM+XG4gKlxuICovXG5mdW5jdGlvbiBtZENhcmREaXJlY3RpdmUoJG1kVGhlbWluZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHIpIHtcbiAgICAgICRtZFRoZW1pbmcoJGVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cbm1kQ2FyZERpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kVGhlbWluZ1wiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5jaGVja2JveFxuICogQGRlc2NyaXB0aW9uIENoZWNrYm94IG1vZHVsZSFcbiAqL1xuYW5ndWxhclxuICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmNoZWNrYm94JywgWydtYXRlcmlhbC5jb3JlJ10pXG4gIC5kaXJlY3RpdmUoJ21kQ2hlY2tib3gnLCBNZENoZWNrYm94RGlyZWN0aXZlKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZENoZWNrYm94XG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuY2hlY2tib3hcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgY2hlY2tib3ggZGlyZWN0aXZlIGlzIHVzZWQgbGlrZSB0aGUgbm9ybWFsIFthbmd1bGFyIGNoZWNrYm94XShodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmcvaW5wdXQvaW5wdXQlNUJjaGVja2JveCU1RCkuXG4gKlxuICogQXMgcGVyIHRoZSBbbWF0ZXJpYWwgZGVzaWduIHNwZWNdKGh0dHA6Ly93d3cuZ29vZ2xlLmNvbS9kZXNpZ24vc3BlYy9zdHlsZS9jb2xvci5odG1sI2NvbG9yLXVpLWNvbG9yLWFwcGxpY2F0aW9uKVxuICogdGhlIGNoZWNrYm94IGlzIGluIHRoZSBhY2NlbnQgY29sb3IgYnkgZGVmYXVsdC4gVGhlIHByaW1hcnkgY29sb3IgcGFsZXR0ZSBtYXkgYmUgdXNlZCB3aXRoXG4gKiB0aGUgYG1kLXByaW1hcnlgIGNsYXNzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZy1tb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZy10cnVlLXZhbHVlIFRoZSB2YWx1ZSB0byB3aGljaCB0aGUgZXhwcmVzc2lvbiBzaG91bGQgYmUgc2V0IHdoZW4gc2VsZWN0ZWQuXG4gKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZy1mYWxzZS12YWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIG5vdCBzZWxlY3RlZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmctY2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXIgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG1kLW5vLWluayBVc2Ugb2YgYXR0cmlidXRlIGluZGljYXRlcyB1c2Ugb2YgcmlwcGxlIGluayBlZmZlY3RzXG4gKiBAcGFyYW0ge3N0cmluZz19IGFyaWEtbGFiZWwgQWRkcyBsYWJlbCB0byBjaGVja2JveCBmb3IgYWNjZXNzaWJpbGl0eS5cbiAqIERlZmF1bHRzIHRvIGNoZWNrYm94J3MgdGV4dC4gSWYgbm8gZGVmYXVsdCB0ZXh0IGlzIGZvdW5kLCBhIHdhcm5pbmcgd2lsbCBiZSBsb2dnZWQuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWNoZWNrYm94IG5nLW1vZGVsPVwiaXNDaGVja2VkXCIgYXJpYS1sYWJlbD1cIkZpbmlzaGVkP1wiPlxuICogICBGaW5pc2hlZCA/XG4gKiA8L21kLWNoZWNrYm94PlxuICpcbiAqIDxtZC1jaGVja2JveCBtZC1uby1pbmsgbmctbW9kZWw9XCJoYXNJbmtcIiBhcmlhLWxhYmVsPVwiTm8gSW5rIEVmZmVjdHNcIj5cbiAqICAgTm8gSW5rIEVmZmVjdHNcbiAqIDwvbWQtY2hlY2tib3g+XG4gKlxuICogPG1kLWNoZWNrYm94IG5nLWRpc2FibGVkPVwidHJ1ZVwiIG5nLW1vZGVsPVwiaXNEaXNhYmxlZFwiIGFyaWEtbGFiZWw9XCJEaXNhYmxlZFwiPlxuICogICBEaXNhYmxlZFxuICogPC9tZC1jaGVja2JveD5cbiAqXG4gKiA8L2hsanM+XG4gKlxuICovXG5mdW5jdGlvbiBNZENoZWNrYm94RGlyZWN0aXZlKGlucHV0RGlyZWN0aXZlLCAkbWRJbmtSaXBwbGUsICRtZEFyaWEsICRtZENvbnN0YW50LCAkbWRUaGVtaW5nLCAkbWRVdGlsLCAkdGltZW91dCkge1xuICBpbnB1dERpcmVjdGl2ZSA9IGlucHV0RGlyZWN0aXZlWzBdO1xuICB2YXIgQ0hFQ0tFRF9DU1MgPSAnbWQtY2hlY2tlZCc7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICBwcmlvcml0eToyMTAsIC8vIFJ1biBiZWZvcmUgbmdBcmlhXG4gICAgdGVtcGxhdGU6IFxuICAgICAgJzxkaXYgY2xhc3M9XCJtZC1jb250YWluZXJcIiBtZC1pbmstcmlwcGxlIG1kLWluay1yaXBwbGUtY2hlY2tib3g+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwibWQtaWNvblwiPjwvZGl2PicgK1xuICAgICAgJzwvZGl2PicgK1xuICAgICAgJzxkaXYgbmctdHJhbnNjbHVkZSBjbGFzcz1cIm1kLWxhYmVsXCI+PC9kaXY+JyxcbiAgICBjb21waWxlOiBjb21waWxlXG4gIH07XG5cbiAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAvLyBQcml2YXRlIE1ldGhvZHNcbiAgLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gIGZ1bmN0aW9uIGNvbXBpbGUgKHRFbGVtZW50LCB0QXR0cnMpIHtcblxuICAgIHRBdHRycy50eXBlID0gJ2NoZWNrYm94JztcbiAgICB0QXR0cnMudGFiaW5kZXggPSB0QXR0cnMudGFiaW5kZXggfHwgJzAnO1xuICAgIHRFbGVtZW50LmF0dHIoJ3JvbGUnLCB0QXR0cnMudHlwZSk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIG5nTW9kZWxDdHJsKSB7XG4gICAgICBuZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsIHx8ICRtZFV0aWwuZmFrZU5nTW9kZWwoKTtcbiAgICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG5cbiAgICAgIGlmIChhdHRyLm5nQ2hlY2tlZCkge1xuICAgICAgICBzY29wZS4kd2F0Y2goXG4gICAgICAgICAgICBzY29wZS4kZXZhbC5iaW5kKHNjb3BlLCBhdHRyLm5nQ2hlY2tlZCksXG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlLmJpbmQobmdNb2RlbEN0cmwpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAkJHdhdGNoRXhwcignbmdEaXNhYmxlZCcsICd0YWJpbmRleCcsIHtcbiAgICAgICAgdHJ1ZTogJy0xJyxcbiAgICAgICAgZmFsc2U6IGF0dHIudGFiaW5kZXhcbiAgICAgIH0pO1xuICAgICAgJG1kQXJpYS5leHBlY3RXaXRoVGV4dChlbGVtZW50LCAnYXJpYS1sYWJlbCcpO1xuXG4gICAgICAvLyBSZXVzZSB0aGUgb3JpZ2luYWwgaW5wdXRbdHlwZT1jaGVja2JveF0gZGlyZWN0aXZlIGZyb20gQW5ndWxhciBjb3JlLlxuICAgICAgLy8gVGhpcyBpcyBhIGJpdCBoYWNreSBhcyB3ZSBuZWVkIG91ciBvd24gZXZlbnQgbGlzdGVuZXIgYW5kIG93biByZW5kZXJcbiAgICAgIC8vIGZ1bmN0aW9uLlxuICAgICAgaW5wdXREaXJlY3RpdmUubGluay5wcmUoc2NvcGUsIHtcbiAgICAgICAgb246IGFuZ3VsYXIubm9vcCxcbiAgICAgICAgMDoge31cbiAgICAgIH0sIGF0dHIsIFtuZ01vZGVsQ3RybF0pO1xuXG4gICAgICBzY29wZS5tb3VzZUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgZWxlbWVudC5vbignY2xpY2snLCBsaXN0ZW5lcilcbiAgICAgICAgLm9uKCdrZXlwcmVzcycsIGtleXByZXNzSGFuZGxlcilcbiAgICAgICAgLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzY29wZS5tb3VzZUFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNjb3BlLm1vdXNlQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdmb2N1cycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmKHNjb3BlLm1vdXNlQWN0aXZlID09PSBmYWxzZSkgeyBlbGVtZW50LmFkZENsYXNzKCdtZC1mb2N1c2VkJyk7IH1cbiAgICAgICAgfSlcbiAgICAgICAgLm9uKCdibHVyJywgZnVuY3Rpb24oKSB7IGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ21kLWZvY3VzZWQnKTsgfSk7XG5cbiAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSByZW5kZXI7XG5cbiAgICAgIGZ1bmN0aW9uICQkd2F0Y2hFeHByKGV4cHIsIGh0bWxBdHRyLCB2YWx1ZU9wdHMpIHtcbiAgICAgICAgaWYgKGF0dHJbZXhwcl0pIHtcbiAgICAgICAgICBzY29wZS4kd2F0Y2goYXR0cltleHByXSwgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVPcHRzW3ZhbF0pIHtcbiAgICAgICAgICAgICAgZWxlbWVudC5hdHRyKGh0bWxBdHRyLCB2YWx1ZU9wdHNbdmFsXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24ga2V5cHJlc3NIYW5kbGVyKGV2KSB7XG4gICAgICAgIHZhciBrZXlDb2RlID0gZXYud2hpY2ggfHwgZXYua2V5Q29kZTtcbiAgICAgICAgaWYgKGtleUNvZGUgPT09ICRtZENvbnN0YW50LktFWV9DT0RFLlNQQUNFIHx8IGtleUNvZGUgPT09ICRtZENvbnN0YW50LktFWV9DT0RFLkVOVEVSKSB7XG4gICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBpZiAoIWVsZW1lbnQuaGFzQ2xhc3MoJ21kLWZvY3VzZWQnKSkgeyBlbGVtZW50LmFkZENsYXNzKCdtZC1mb2N1c2VkJyk7IH1cbiAgICAgICAgICBsaXN0ZW5lcihldik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGxpc3RlbmVyKGV2KSB7XG4gICAgICAgIGlmIChlbGVtZW50WzBdLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkgcmV0dXJuO1xuXG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBUb2dnbGUgdGhlIGNoZWNrYm94IHZhbHVlLi4uXG4gICAgICAgICAgdmFyIHZpZXdWYWx1ZSA9IGF0dHIubmdDaGVja2VkID8gYXR0ci5jaGVja2VkIDogIW5nTW9kZWxDdHJsLiR2aWV3VmFsdWU7XG5cbiAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKCB2aWV3VmFsdWUsIGV2ICYmIGV2LnR5cGUpO1xuICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgaWYobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkge1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoQ0hFQ0tFRF9DU1MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoQ0hFQ0tFRF9DU1MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxufVxuTWRDaGVja2JveERpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiaW5wdXREaXJlY3RpdmVcIiwgXCIkbWRJbmtSaXBwbGVcIiwgXCIkbWRBcmlhXCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkbWRUaGVtaW5nXCIsIFwiJG1kVXRpbFwiLCBcIiR0aW1lb3V0XCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLmNvbnRlbnRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNjcm9sbGFibGUgY29udGVudFxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5jb250ZW50JywgW1xuICAnbWF0ZXJpYWwuY29yZSdcbl0pXG4gIC5kaXJlY3RpdmUoJ21kQ29udGVudCcsIG1kQ29udGVudERpcmVjdGl2ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRDb250ZW50XG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuY29udGVudFxuICpcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYDxtZC1jb250ZW50PmAgZGlyZWN0aXZlIGlzIGEgY29udGFpbmVyIGVsZW1lbnQgdXNlZnVsIGZvciBzY3JvbGxhYmxlIGNvbnRlbnRcbiAqXG4gKiBAdXNhZ2VcbiAqXG4gKiAtIEFkZCB0aGUgYFtsYXlvdXQtcGFkZGluZ11gIGF0dHJpYnV0ZSB0byBtYWtlIHRoZSBjb250ZW50IHBhZGRlZC5cbiAqXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogIDxtZC1jb250ZW50IGxheW91dC1wYWRkaW5nPlxuICogICAgICBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgbmUgcXVvZCBub3Z1bSBtZWkuXG4gKiAgPC9tZC1jb250ZW50PlxuICogPC9obGpzPlxuICpcbiAqL1xuXG5mdW5jdGlvbiBtZENvbnRlbnREaXJlY3RpdmUoJG1kVGhlbWluZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJGVsZW1lbnQnLCBDb250ZW50Q29udHJvbGxlcl0sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHZhciBub2RlID0gZWxlbWVudFswXTtcblxuICAgICAgJG1kVGhlbWluZyhlbGVtZW50KTtcbiAgICAgIHNjb3BlLiRicm9hZGNhc3QoJyRtZENvbnRlbnRMb2FkZWQnLCBlbGVtZW50KTtcblxuICAgICAgaW9zU2Nyb2xsRml4KGVsZW1lbnRbMF0pO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBDb250ZW50Q29udHJvbGxlcigkc2NvcGUsICRlbGVtZW50KSB7XG4gICAgdGhpcy4kc2NvcGUgPSAkc2NvcGU7XG4gICAgdGhpcy4kZWxlbWVudCA9ICRlbGVtZW50O1xuICB9XG59XG5tZENvbnRlbnREaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZFRoZW1pbmdcIl07XG5cbmZ1bmN0aW9uIGlvc1Njcm9sbEZpeChub2RlKSB7XG4gIC8vIElPUyBGSVg6XG4gIC8vIElmIHdlIHNjcm9sbCB3aGVyZSB0aGVyZSBpcyBubyBtb3JlIHJvb20gZm9yIHRoZSB3ZWJ2aWV3IHRvIHNjcm9sbCxcbiAgLy8gYnkgZGVmYXVsdCB0aGUgd2VidmlldyBpdHNlbGYgd2lsbCBzY3JvbGwgdXAgYW5kIGRvd24sIHRoaXMgbG9va3MgcmVhbGx5XG4gIC8vIGJhZC4gIFNvIGlmIHdlIGFyZSBzY3JvbGxpbmcgdG8gdGhlIHZlcnkgdG9wIG9yIGJvdHRvbSwgYWRkL3N1YnRyYWN0IG9uZVxuICBhbmd1bGFyLmVsZW1lbnQobm9kZSkub24oJyRtZC5wcmVzc2Rvd24nLCBmdW5jdGlvbihldikge1xuICAgIC8vIE9ubHkgdG91Y2ggZXZlbnRzXG4gICAgaWYgKGV2LnBvaW50ZXIudHlwZSAhPT0gJ3QnKSByZXR1cm47XG4gICAgLy8gRG9uJ3QgbGV0IGEgY2hpbGQgY29udGVudCdzIHRvdWNoc3RhcnQgcnVpbiBpdCBmb3IgdXMuXG4gICAgaWYgKGV2LiRtYXRlcmlhbFNjcm9sbEZpeGVkKSByZXR1cm47XG4gICAgZXYuJG1hdGVyaWFsU2Nyb2xsRml4ZWQgPSB0cnVlO1xuXG4gICAgaWYgKG5vZGUuc2Nyb2xsVG9wID09PSAwKSB7XG4gICAgICBub2RlLnNjcm9sbFRvcCA9IDE7XG4gICAgfSBlbHNlIGlmIChub2RlLnNjcm9sbEhlaWdodCA9PT0gbm9kZS5zY3JvbGxUb3AgKyBub2RlLm9mZnNldEhlaWdodCkge1xuICAgICAgbm9kZS5zY3JvbGxUb3AgLT0gMTtcbiAgICB9XG4gIH0pO1xufVxuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLmNoaXBzXG4gKi9cbi8qXG4gKiBAc2VlIGpzIGZvbGRlciBmb3IgY2hpcHMgaW1wbGVtZW50YXRpb25cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuY2hpcHMnLCBbXG4gICdtYXRlcmlhbC5jb3JlJyxcbiAgJ21hdGVyaWFsLmNvbXBvbmVudHMuYXV0b2NvbXBsZXRlJ1xuXSk7XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuZGlhbG9nXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmRpYWxvZycsIFtcbiAgJ21hdGVyaWFsLmNvcmUnLFxuICAnbWF0ZXJpYWwuY29tcG9uZW50cy5iYWNrZHJvcCdcbl0pXG4gIC5kaXJlY3RpdmUoJ21kRGlhbG9nJywgTWREaWFsb2dEaXJlY3RpdmUpXG4gIC5wcm92aWRlcignJG1kRGlhbG9nJywgTWREaWFsb2dQcm92aWRlcik7XG5cbmZ1bmN0aW9uIE1kRGlhbG9nRGlyZWN0aXZlKCQkckFGLCAkbWRUaGVtaW5nKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgJG1kVGhlbWluZyhlbGVtZW50KTtcbiAgICAgICQkckFGKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY29udGVudCA9IGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignbWQtZGlhbG9nLWNvbnRlbnQnKTtcbiAgICAgICAgaWYgKGNvbnRlbnQgJiYgY29udGVudC5zY3JvbGxIZWlnaHQgPiBjb250ZW50LmNsaWVudEhlaWdodCkge1xuICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ21kLWNvbnRlbnQtb3ZlcmZsb3cnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuTWREaWFsb2dEaXJlY3RpdmUuJGluamVjdCA9IFtcIiQkckFGXCIsIFwiJG1kVGhlbWluZ1wiXTtcblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJG1kRGlhbG9nXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuZGlhbG9nXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBgJG1kRGlhbG9nYCBvcGVucyBhIGRpYWxvZyBvdmVyIHRoZSBhcHAgdG8gaW5mb3JtIHVzZXJzIGFib3V0IGNyaXRpY2FsIGluZm9ybWF0aW9uIG9yIHJlcXVpcmVcbiAqICB0aGVtIHRvIG1ha2UgZGVjaXNpb25zLiBUaGVyZSBhcmUgdHdvIGFwcHJvYWNoZXMgZm9yIHNldHVwOiBhIHNpbXBsZSBwcm9taXNlIEFQSVxuICogIGFuZCByZWd1bGFyIG9iamVjdCBzeW50YXguXG4gKlxuICogIyMgUmVzdHJpY3Rpb25zXG4gKlxuICogLSBUaGUgZGlhbG9nIGlzIGFsd2F5cyBnaXZlbiBhbiBpc29sYXRlIHNjb3BlLlxuICogLSBUaGUgZGlhbG9nJ3MgdGVtcGxhdGUgbXVzdCBoYXZlIGFuIG91dGVyIGA8bWQtZGlhbG9nPmAgZWxlbWVudC5cbiAqICAgSW5zaWRlLCB1c2UgYW4gYDxtZC1kaWFsb2ctY29udGVudD5gIGVsZW1lbnQgZm9yIHRoZSBkaWFsb2cncyBjb250ZW50LCBhbmQgdXNlXG4gKiAgIGFuIGVsZW1lbnQgd2l0aCBjbGFzcyBgbWQtYWN0aW9uc2AgZm9yIHRoZSBkaWFsb2cncyBhY3Rpb25zLlxuICogLSBEaWFsb2dzIG11c3QgY292ZXIgdGhlIGVudGlyZSBhcHBsaWNhdGlvbiB0byBrZWVwIGludGVyYWN0aW9ucyBpbnNpZGUgb2YgdGhlbS5cbiAqIFVzZSB0aGUgYHBhcmVudGAgb3B0aW9uIHRvIGNoYW5nZSB3aGVyZSBkaWFsb2dzIGFyZSBhcHBlbmRlZC5cbiAqXG4gKiAjIyBTaXppbmdcbiAqIC0gQ29tcGxleCBkaWFsb2dzIGNhbiBiZSBzaXplZCB3aXRoIGBmbGV4PVwicGVyY2VudGFnZVwiYCwgaS5lLiBgZmxleD1cIjY2XCJgLlxuICogLSBEZWZhdWx0IG1heC13aWR0aCBpcyA4MCUgb2YgdGhlIGByb290RWxlbWVudGAgb3IgYHBhcmVudGAuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPGRpdiAgbmctYXBwPVwiZGVtb0FwcFwiIG5nLWNvbnRyb2xsZXI9XCJFbXBsb3llZUNvbnRyb2xsZXJcIj5cbiAqICAgPGRpdj5cbiAqICAgICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwic2hvd0FsZXJ0KClcIiBjbGFzcz1cIm1kLXJhaXNlZCBtZC13YXJuXCI+XG4gKiAgICAgICBFbXBsb3llZSBBbGVydCFcbiAqICAgICAgIDwvbWQtYnV0dG9uPlxuICogICA8L2Rpdj5cbiAqICAgPGRpdj5cbiAqICAgICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwic2hvd0RpYWxvZygkZXZlbnQpXCIgY2xhc3M9XCJtZC1yYWlzZWRcIj5cbiAqICAgICAgIEN1c3RvbSBEaWFsb2dcbiAqICAgICAgIDwvbWQtYnV0dG9uPlxuICogICA8L2Rpdj5cbiAqICAgPGRpdj5cbiAqICAgICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwiY2xvc2VBbGVydCgpXCIgbmctZGlzYWJsZWQ9XCIhaGFzQWxlcnQoKVwiIGNsYXNzPVwibWQtcmFpc2VkXCI+XG4gKiAgICAgICBDbG9zZSBBbGVydFxuICogICAgIDwvbWQtYnV0dG9uPlxuICogICA8L2Rpdj5cbiAqICAgPGRpdj5cbiAqICAgICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwic2hvd0dyZWV0aW5nKCRldmVudClcIiBjbGFzcz1cIm1kLXJhaXNlZCBtZC1wcmltYXJ5XCIgPlxuICogICAgICAgR3JlZXQgRW1wbG95ZWVcbiAqICAgICAgIDwvbWQtYnV0dG9uPlxuICogICA8L2Rpdj5cbiAqIDwvZGl2PlxuICogPC9obGpzPlxuICpcbiAqICMjIyBKYXZhU2NyaXB0OiBvYmplY3Qgc3ludGF4XG4gKiA8aGxqcyBsYW5nPVwianNcIj5cbiAqIChmdW5jdGlvbihhbmd1bGFyLCB1bmRlZmluZWQpe1xuICogICBcInVzZSBzdHJpY3RcIjtcbiAqXG4gKiAgIGFuZ3VsYXJcbiAqICAgIC5tb2R1bGUoJ2RlbW9BcHAnLCBbJ25nTWF0ZXJpYWwnXSlcbiAqICAgIC5jb250cm9sbGVyKCdBcHBDdHJsJywgQXBwQ29udHJvbGxlcik7XG4gKlxuICogICBmdW5jdGlvbiBBcHBDb250cm9sbGVyKCRzY29wZSwgJG1kRGlhbG9nKSB7XG4gKiAgICAgdmFyIGFsZXJ0O1xuICogICAgICRzY29wZS5zaG93QWxlcnQgPSBzaG93QWxlcnQ7XG4gKiAgICAgJHNjb3BlLnNob3dEaWFsb2cgPSBzaG93RGlhbG9nO1xuICogICAgICRzY29wZS5pdGVtcyA9IFsxLCAyLCAzXTtcbiAqXG4gKiAgICAgLy8gSW50ZXJuYWwgbWV0aG9kXG4gKiAgICAgZnVuY3Rpb24gc2hvd0FsZXJ0KCkge1xuICogICAgICAgYWxlcnQgPSAkbWREaWFsb2cuYWxlcnQoe1xuICogICAgICAgICB0aXRsZTogJ0F0dGVudGlvbicsXG4gKiAgICAgICAgIGNvbnRlbnQ6ICdUaGlzIGlzIGFuIGV4YW1wbGUgb2YgaG93IGVhc3kgZGlhbG9ncyBjYW4gYmUhJyxcbiAqICAgICAgICAgb2s6ICdDbG9zZSdcbiAqICAgICAgIH0pO1xuICpcbiAqICAgICAgICRtZERpYWxvZ1xuICogICAgICAgICAuc2hvdyggYWxlcnQgKVxuICogICAgICAgICAuZmluYWxseShmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICBhbGVydCA9IHVuZGVmaW5lZDtcbiAqICAgICAgICAgfSk7XG4gKiAgICAgfVxuICpcbiAqICAgICBmdW5jdGlvbiBzaG93RGlhbG9nKCRldmVudCkge1xuICogICAgICAgIHZhciBwYXJlbnRFbCA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KTtcbiAqICAgICAgICAkbWREaWFsb2cuc2hvdyh7XG4gKiAgICAgICAgICBwYXJlbnQ6IHBhcmVudEVsLFxuICogICAgICAgICAgdGFyZ2V0RXZlbnQ6ICRldmVudCxcbiAqICAgICAgICAgIHRlbXBsYXRlOlxuICogICAgICAgICAgICAnPG1kLWRpYWxvZyBhcmlhLWxhYmVsPVwiTGlzdCBkaWFsb2dcIj4nICtcbiAqICAgICAgICAgICAgJyAgPG1kLWRpYWxvZy1jb250ZW50PicrXG4gKiAgICAgICAgICAgICcgICAgPG1kLWxpc3Q+JytcbiAqICAgICAgICAgICAgJyAgICAgIDxtZC1saXN0LWl0ZW0gbmctcmVwZWF0PVwiaXRlbSBpbiBpdGVtc1wiPicrXG4gKiAgICAgICAgICAgICcgICAgICAgPHA+TnVtYmVyIHt7aXRlbX19PC9wPicgK1xuICogICAgICAgICAgICAnICAgICAgPC9tZC1pdGVtPicrXG4gKiAgICAgICAgICAgICcgICAgPC9tZC1saXN0PicrXG4gKiAgICAgICAgICAgICcgIDwvbWQtZGlhbG9nLWNvbnRlbnQ+JyArXG4gKiAgICAgICAgICAgICcgIDxkaXYgY2xhc3M9XCJtZC1hY3Rpb25zXCI+JyArXG4gKiAgICAgICAgICAgICcgICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cImNsb3NlRGlhbG9nKClcIiBjbGFzcz1cIm1kLXByaW1hcnlcIj4nICtcbiAqICAgICAgICAgICAgJyAgICAgIENsb3NlIERpYWxvZycgK1xuICogICAgICAgICAgICAnICAgIDwvbWQtYnV0dG9uPicgK1xuICogICAgICAgICAgICAnICA8L2Rpdj4nICtcbiAqICAgICAgICAgICAgJzwvbWQtZGlhbG9nPicsXG4gKiAgICAgICAgICBsb2NhbHM6IHtcbiAqICAgICAgICAgICAgaXRlbXM6ICRzY29wZS5pdGVtc1xuICogICAgICAgICAgfSxcbiAqICAgICAgICAgIGNvbnRyb2xsZXI6IERpYWxvZ0NvbnRyb2xsZXJcbiAqICAgICAgIH0pO1xuICogICAgICAgZnVuY3Rpb24gRGlhbG9nQ29udHJvbGxlcigkc2NvcGUsICRtZERpYWxvZywgaXRlbXMpIHtcbiAqICAgICAgICAgJHNjb3BlLml0ZW1zID0gaXRlbXM7XG4gKiAgICAgICAgICRzY29wZS5jbG9zZURpYWxvZyA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICRtZERpYWxvZy5oaWRlKCk7XG4gKiAgICAgICAgIH1cbiAqICAgICAgIH1cbiAqICAgICB9XG4gKiAgIH1cbiAqIH0pKGFuZ3VsYXIpO1xuICogPC9obGpzPlxuICpcbiAqICMjIyBKYXZhU2NyaXB0OiBwcm9taXNlIEFQSSBzeW50YXgsIGN1c3RvbSBkaWFsb2cgdGVtcGxhdGVcbiAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICogKGZ1bmN0aW9uKGFuZ3VsYXIsIHVuZGVmaW5lZCl7XG4gKiAgIFwidXNlIHN0cmljdFwiO1xuICpcbiAqICAgYW5ndWxhclxuICogICAgIC5tb2R1bGUoJ2RlbW9BcHAnLCBbJ25nTWF0ZXJpYWwnXSlcbiAqICAgICAuY29udHJvbGxlcignRW1wbG95ZWVDb250cm9sbGVyJywgRW1wbG95ZWVFZGl0b3IpXG4gKiAgICAgLmNvbnRyb2xsZXIoJ0dyZWV0aW5nQ29udHJvbGxlcicsIEdyZWV0aW5nQ29udHJvbGxlcik7XG4gKlxuICogICAvLyBGaWN0aXRpb3VzIEVtcGxveWVlIEVkaXRvciB0byBzaG93IGhvdyB0byB1c2Ugc2ltcGxlIGFuZCBjb21wbGV4IGRpYWxvZ3MuXG4gKlxuICogICBmdW5jdGlvbiBFbXBsb3llZUVkaXRvcigkc2NvcGUsICRtZERpYWxvZykge1xuICogICAgIHZhciBhbGVydDtcbiAqXG4gKiAgICAgJHNjb3BlLnNob3dBbGVydCA9IHNob3dBbGVydDtcbiAqICAgICAkc2NvcGUuY2xvc2VBbGVydCA9IGNsb3NlQWxlcnQ7XG4gKiAgICAgJHNjb3BlLnNob3dHcmVldGluZyA9IHNob3dDdXN0b21HcmVldGluZztcbiAqXG4gKiAgICAgJHNjb3BlLmhhc0FsZXJ0ID0gZnVuY3Rpb24oKSB7IHJldHVybiAhIWFsZXJ0IH07XG4gKiAgICAgJHNjb3BlLnVzZXJOYW1lID0gJHNjb3BlLnVzZXJOYW1lIHx8ICdCb2JieSc7XG4gKlxuICogICAgIC8vIERpYWxvZyAjMSAtIFNob3cgc2ltcGxlIGFsZXJ0IGRpYWxvZyBhbmQgY2FjaGVcbiAqICAgICAvLyByZWZlcmVuY2UgdG8gZGlhbG9nIGluc3RhbmNlXG4gKlxuICogICAgIGZ1bmN0aW9uIHNob3dBbGVydCgpIHtcbiAqICAgICAgIGFsZXJ0ID0gJG1kRGlhbG9nLmFsZXJ0KClcbiAqICAgICAgICAgLnRpdGxlKCdBdHRlbnRpb24sICcgKyAkc2NvcGUudXNlck5hbWUpXG4gKiAgICAgICAgIC5jb250ZW50KCdUaGlzIGlzIGFuIGV4YW1wbGUgb2YgaG93IGVhc3kgZGlhbG9ncyBjYW4gYmUhJylcbiAqICAgICAgICAgLm9rKCdDbG9zZScpO1xuICpcbiAqICAgICAgICRtZERpYWxvZ1xuICogICAgICAgICAgIC5zaG93KCBhbGVydCApXG4gKiAgICAgICAgICAgLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICBhbGVydCA9IHVuZGVmaW5lZDtcbiAqICAgICAgICAgICB9KTtcbiAqICAgICB9XG4gKlxuICogICAgIC8vIENsb3NlIHRoZSBzcGVjaWZpZWQgZGlhbG9nIGluc3RhbmNlIGFuZCByZXNvbHZlIHdpdGggJ2ZpbmlzaGVkJyBmbGFnXG4gKiAgICAgLy8gTm9ybWFsbHkgdGhpcyBpcyBub3QgbmVlZGVkLCBqdXN0IHVzZSAnJG1kRGlhbG9nLmhpZGUoKScgdG8gY2xvc2VcbiAqICAgICAvLyB0aGUgbW9zdCByZWNlbnQgZGlhbG9nIHBvcHVwLlxuICpcbiAqICAgICBmdW5jdGlvbiBjbG9zZUFsZXJ0KCkge1xuICogICAgICAgJG1kRGlhbG9nLmhpZGUoIGFsZXJ0LCBcImZpbmlzaGVkXCIgKTtcbiAqICAgICAgIGFsZXJ0ID0gdW5kZWZpbmVkO1xuICogICAgIH1cbiAqXG4gKiAgICAgLy8gRGlhbG9nICMyIC0gRGVtb25zdHJhdGUgbW9yZSBjb21wbGV4IGRpYWxvZ3MgY29uc3RydWN0aW9uIGFuZCBwb3B1cC5cbiAqXG4gKiAgICAgZnVuY3Rpb24gc2hvd0N1c3RvbUdyZWV0aW5nKCRldmVudCkge1xuICogICAgICAgICAkbWREaWFsb2cuc2hvdyh7XG4gKiAgICAgICAgICAgdGFyZ2V0RXZlbnQ6ICRldmVudCxcbiAqICAgICAgICAgICB0ZW1wbGF0ZTpcbiAqICAgICAgICAgICAgICc8bWQtZGlhbG9nPicgK1xuICpcbiAqICAgICAgICAgICAgICcgIDxtZC1kaWFsb2ctY29udGVudD5IZWxsbyB7eyBlbXBsb3llZSB9fSE8L21kLWRpYWxvZy1jb250ZW50PicgK1xuICpcbiAqICAgICAgICAgICAgICcgIDxkaXYgY2xhc3M9XCJtZC1hY3Rpb25zXCI+JyArXG4gKiAgICAgICAgICAgICAnICAgIDxtZC1idXR0b24gbmctY2xpY2s9XCJjbG9zZURpYWxvZygpXCIgY2xhc3M9XCJtZC1wcmltYXJ5XCI+JyArXG4gKiAgICAgICAgICAgICAnICAgICAgQ2xvc2UgR3JlZXRpbmcnICtcbiAqICAgICAgICAgICAgICcgICAgPC9tZC1idXR0b24+JyArXG4gKiAgICAgICAgICAgICAnICA8L2Rpdj4nICtcbiAqICAgICAgICAgICAgICc8L21kLWRpYWxvZz4nLFxuICogICAgICAgICAgIGNvbnRyb2xsZXI6ICdHcmVldGluZ0NvbnRyb2xsZXInLFxuICogICAgICAgICAgIG9uQ29tcGxldGU6IGFmdGVyU2hvd0FuaW1hdGlvbixcbiAqICAgICAgICAgICBsb2NhbHM6IHsgZW1wbG95ZWU6ICRzY29wZS51c2VyTmFtZSB9XG4gKiAgICAgICAgIH0pO1xuICpcbiAqICAgICAgICAgLy8gV2hlbiB0aGUgJ2VudGVyJyBhbmltYXRpb24gZmluaXNoZXMuLi5cbiAqXG4gKiAgICAgICAgIGZ1bmN0aW9uIGFmdGVyU2hvd0FuaW1hdGlvbihzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICogICAgICAgICAgICAvLyBwb3N0LXNob3cgY29kZSBoZXJlOiBET00gZWxlbWVudCBmb2N1cywgZXRjLlxuICogICAgICAgICB9XG4gKiAgICAgfVxuICpcbiAqICAgICAvLyBEaWFsb2cgIzMgLSBEZW1vbnN0cmF0ZSB1c2Ugb2YgQ29udHJvbGxlckFzIGFuZCBwYXNzaW5nICRzY29wZSB0byBkaWFsb2dcbiAqICAgICAvLyAgICAgICAgICAgICBIZXJlIHdlIHVzZWQgbmctY29udHJvbGxlcj1cIkdyZWV0aW5nQ29udHJvbGxlciBhcyB2bVwiIGFuZFxuICogICAgIC8vICAgICAgICAgICAgICRzY29wZS52bSA9PT0gPGNvbnRyb2xsZXIgaW5zdGFuY2U+XG4gKlxuICogICAgIGZ1bmN0aW9uIHNob3dDdXN0b21HcmVldGluZygpIHtcbiAqXG4gKiAgICAgICAgJG1kRGlhbG9nLnNob3coe1xuICogICAgICAgICAgIGNsaWNrT3V0c2lkZVRvQ2xvc2U6IHRydWUsXG4gKlxuICogICAgICAgICAgIHNjb3BlOiAkc2NvcGUsICAgICAgICAvLyB1c2UgcGFyZW50IHNjb3BlIGluIHRlbXBsYXRlXG4gKiAgICAgICAgICAgcHJlc2VydmVTY29wZTogdHJ1ZSwgIC8vIGRvIG5vdCBmb3JnZXQgdGhpcyBpZiB1c2UgcGFyZW50IHNjb3BlXG5cbiAqICAgICAgICAgICAvLyBTaW5jZSBHcmVldGluZ0NvbnRyb2xsZXIgaXMgaW5zdGFudGlhdGVkIHdpdGggQ29udHJvbGxlckFzIHN5bnRheFxuICogICAgICAgICAgIC8vIEFORCB3ZSBhcmUgcGFzc2luZyB0aGUgcGFyZW50ICckc2NvcGUnIHRvIHRoZSBkaWFsb2csIHdlIE1VU1RcbiAqICAgICAgICAgICAvLyB1c2UgJ3ZtLjx4eHg+JyBpbiB0aGUgdGVtcGxhdGUgbWFya3VwXG4gKlxuICogICAgICAgICAgIHRlbXBsYXRlOiAnPG1kLWRpYWxvZz4nICtcbiAqICAgICAgICAgICAgICAgICAgICAgJyAgPG1kLWRpYWxvZy1jb250ZW50PicgK1xuICogICAgICAgICAgICAgICAgICAgICAnICAgICBIaSBUaGVyZSB7e3ZtLmVtcGxveWVlfX0nICtcbiAqICAgICAgICAgICAgICAgICAgICAgJyAgPC9tZC1kaWFsb2ctY29udGVudD4nICtcbiAqICAgICAgICAgICAgICAgICAgICAgJzwvbWQtZGlhbG9nPicsXG4gKlxuICogICAgICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uIERpYWxvZ0NvbnRyb2xsZXIoJHNjb3BlLCAkbWREaWFsb2cpIHtcbiAqICAgICAgICAgICAgICRzY29wZS5jbG9zZURpYWxvZyA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgpO1xuICogICAgICAgICAgICAgfVxuICogICAgICAgICAgIH1cbiAqICAgICAgICB9KTtcbiAqICAgICB9XG4gKlxuICogICB9XG4gKlxuICogICAvLyBHcmVldGluZyBjb250cm9sbGVyIHVzZWQgd2l0aCB0aGUgbW9yZSBjb21wbGV4ICdzaG93Q3VzdG9tR3JlZXRpbmcoKScgY3VzdG9tIGRpYWxvZ1xuICpcbiAqICAgZnVuY3Rpb24gR3JlZXRpbmdDb250cm9sbGVyKCRzY29wZSwgJG1kRGlhbG9nLCBlbXBsb3llZSkge1xuICogICAgIC8vIEFzc2lnbmVkIGZyb20gY29uc3RydWN0aW9uIDxjb2RlPmxvY2FsczwvY29kZT4gb3B0aW9ucy4uLlxuICogICAgICRzY29wZS5lbXBsb3llZSA9IGVtcGxveWVlO1xuICpcbiAqICAgICAkc2NvcGUuY2xvc2VEaWFsb2cgPSBmdW5jdGlvbigpIHtcbiAqICAgICAgIC8vIEVhc2lseSBoaWRlcyBtb3N0IHJlY2VudCBkaWFsb2cgc2hvd24uLi5cbiAqICAgICAgIC8vIG5vIHNwZWNpZmljIGluc3RhbmNlIHJlZmVyZW5jZSBpcyBuZWVkZWQuXG4gKiAgICAgICAkbWREaWFsb2cuaGlkZSgpO1xuICogICAgIH07XG4gKiAgIH1cbiAqXG4gKiB9KShhbmd1bGFyKTtcbiAqIDwvaGxqcz5cbiAqL1xuXG4gLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWREaWFsb2cjYWxlcnRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEJ1aWxkcyBhIHByZWNvbmZpZ3VyZWQgZGlhbG9nIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLlxuICpcbiAqIEByZXR1cm5zIHtvYmp9IGFuIGAkbWREaWFsb2dQcmVzZXRgIHdpdGggdGhlIGNoYWluYWJsZSBjb25maWd1cmF0aW9uIG1ldGhvZHM6XG4gKlxuICogLSAkbWREaWFsb2dQcmVzZXQjdGl0bGUoc3RyaW5nKSAtIHNldHMgdGl0bGUgdG8gc3RyaW5nXG4gKiAtICRtZERpYWxvZ1ByZXNldCNjb250ZW50KHN0cmluZykgLSBzZXRzIGNvbnRlbnQgLyBtZXNzYWdlIHRvIHN0cmluZ1xuICogLSAkbWREaWFsb2dQcmVzZXQjb2soc3RyaW5nKSAtIHNldHMgb2theSBidXR0b24gdGV4dCB0byBzdHJpbmdcbiAqIC0gJG1kRGlhbG9nUHJlc2V0I3RoZW1lKHN0cmluZykgLSBzZXRzIHRoZSB0aGVtZSBvZiB0aGUgZGlhbG9nXG4gKlxuICovXG5cbiAvKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRtZERpYWxvZyNjb25maXJtXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBCdWlsZHMgYSBwcmVjb25maWd1cmVkIGRpYWxvZyB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZS4gWW91IGNhbiBjYWxsIHNob3cgYW5kIHRoZSBwcm9taXNlIHJldHVybmVkXG4gKiB3aWxsIGJlIHJlc29sdmVkIG9ubHkgaWYgdGhlIHVzZXIgY2xpY2tzIHRoZSBjb25maXJtIGFjdGlvbiBvbiB0aGUgZGlhbG9nLlxuICpcbiAqIEByZXR1cm5zIHtvYmp9IGFuIGAkbWREaWFsb2dQcmVzZXRgIHdpdGggdGhlIGNoYWluYWJsZSBjb25maWd1cmF0aW9uIG1ldGhvZHM6XG4gKlxuICogQWRkaXRpb25hbGx5LCBpdCBzdXBwb3J0cyB0aGUgZm9sbG93aW5nIG1ldGhvZHM6XG4gKlxuICogLSAkbWREaWFsb2dQcmVzZXQjdGl0bGUoc3RyaW5nKSAtIHNldHMgdGl0bGUgdG8gc3RyaW5nXG4gKiAtICRtZERpYWxvZ1ByZXNldCNjb250ZW50KHN0cmluZykgLSBzZXRzIGNvbnRlbnQgLyBtZXNzYWdlIHRvIHN0cmluZ1xuICogLSAkbWREaWFsb2dQcmVzZXQjb2soc3RyaW5nKSAtIHNldHMgb2theSBidXR0b24gdGV4dCB0byBzdHJpbmdcbiAqIC0gJG1kRGlhbG9nUHJlc2V0I2NhbmNlbChzdHJpbmcpIC0gc2V0cyBjYW5jZWwgYnV0dG9uIHRleHQgdG8gc3RyaW5nXG4gKiAtICRtZERpYWxvZ1ByZXNldCN0aGVtZShzdHJpbmcpIC0gc2V0cyB0aGUgdGhlbWUgb2YgdGhlIGRpYWxvZ1xuICpcbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRtZERpYWxvZyNzaG93XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTaG93IGEgZGlhbG9nIHdpdGggdGhlIHNwZWNpZmllZCBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zT3JQcmVzZXQgRWl0aGVyIHByb3ZpZGUgYW4gYCRtZERpYWxvZ1ByZXNldGAgcmV0dXJuZWQgZnJvbSBgYWxlcnQoKWAsIGFuZFxuICogYGNvbmZpcm0oKWAsIG9yIGFuIG9wdGlvbnMgb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICogICAtIGB0ZW1wbGF0ZVVybGAgLSBge3N0cmluZz19YDogVGhlIHVybCBvZiBhIHRlbXBsYXRlIHRoYXQgd2lsbCBiZSB1c2VkIGFzIHRoZSBjb250ZW50XG4gKiAgIG9mIHRoZSBkaWFsb2cuXG4gKiAgIC0gYHRlbXBsYXRlYCAtIGB7c3RyaW5nPX1gOiBTYW1lIGFzIHRlbXBsYXRlVXJsLCBleGNlcHQgdGhpcyBpcyBhbiBhY3R1YWwgdGVtcGxhdGUgc3RyaW5nLlxuICogICAtIGB0YXJnZXRFdmVudGAgLSBge0RPTUNsaWNrRXZlbnQ9fWA6IEEgY2xpY2sncyBldmVudCBvYmplY3QuIFdoZW4gcGFzc2VkIGluIGFzIGFuIG9wdGlvbixcbiAqICAgICB0aGUgbG9jYXRpb24gb2YgdGhlIGNsaWNrIHdpbGwgYmUgdXNlZCBhcyB0aGUgc3RhcnRpbmcgcG9pbnQgZm9yIHRoZSBvcGVuaW5nIGFuaW1hdGlvblxuICogICAgIG9mIHRoZSB0aGUgZGlhbG9nLlxuICogICAtIGBzY29wZWAgLSBge29iamVjdD19YDogdGhlIHNjb3BlIHRvIGxpbmsgdGhlIHRlbXBsYXRlIC8gY29udHJvbGxlciB0by4gSWYgbm9uZSBpcyBzcGVjaWZpZWQsXG4gKiAgICAgaXQgd2lsbCBjcmVhdGUgYSBuZXcgaXNvbGF0ZSBzY29wZS5cbiAqICAgICBUaGlzIHNjb3BlIHdpbGwgYmUgZGVzdHJveWVkIHdoZW4gdGhlIGRpYWxvZyBpcyByZW1vdmVkIHVubGVzcyBgcHJlc2VydmVTY29wZWAgaXMgc2V0IHRvIHRydWUuXG4gKiAgIC0gYHByZXNlcnZlU2NvcGVgIC0gYHtib29sZWFuPX1gOiB3aGV0aGVyIHRvIHByZXNlcnZlIHRoZSBzY29wZSB3aGVuIHRoZSBlbGVtZW50IGlzIHJlbW92ZWQuIERlZmF1bHQgaXMgZmFsc2VcbiAqICAgLSBgZGlzYWJsZVBhcmVudFNjcm9sbGAgLSBge2Jvb2xlYW49fWA6IFdoZXRoZXIgdG8gZGlzYWJsZSBzY3JvbGxpbmcgd2hpbGUgdGhlIGRpYWxvZyBpcyBvcGVuLlxuICogICAgIERlZmF1bHQgdHJ1ZS5cbiAqICAgLSBgaGFzQmFja2Ryb3BgIC0gYHtib29sZWFuPX1gOiBXaGV0aGVyIHRoZXJlIHNob3VsZCBiZSBhbiBvcGFxdWUgYmFja2Ryb3AgYmVoaW5kIHRoZSBkaWFsb2cuXG4gKiAgICAgRGVmYXVsdCB0cnVlLlxuICogICAtIGBjbGlja091dHNpZGVUb0Nsb3NlYCAtIGB7Ym9vbGVhbj19YDogV2hldGhlciB0aGUgdXNlciBjYW4gY2xpY2sgb3V0c2lkZSB0aGUgZGlhbG9nIHRvXG4gKiAgICAgY2xvc2UgaXQuIERlZmF1bHQgZmFsc2UuXG4gKiAgIC0gYGVzY2FwZVRvQ2xvc2VgIC0gYHtib29sZWFuPX1gOiBXaGV0aGVyIHRoZSB1c2VyIGNhbiBwcmVzcyBlc2NhcGUgdG8gY2xvc2UgdGhlIGRpYWxvZy5cbiAqICAgICBEZWZhdWx0IHRydWUuXG4gKiAgIC0gYGZvY3VzT25PcGVuYCAtIGB7Ym9vbGVhbj19YDogQW4gb3B0aW9uIHRvIG92ZXJyaWRlIGZvY3VzIGJlaGF2aW9yIG9uIG9wZW4uIE9ubHkgZGlzYWJsZSBpZlxuICogICAgIGZvY3VzaW5nIHNvbWUgb3RoZXIgd2F5LCBhcyBmb2N1cyBtYW5hZ2VtZW50IGlzIHJlcXVpcmVkIGZvciBkaWFsb2dzIHRvIGJlIGFjY2Vzc2libGUuXG4gKiAgICAgRGVmYXVsdHMgdG8gdHJ1ZS5cbiAqICAgLSBgY29udHJvbGxlcmAgLSBge3N0cmluZz19YDogVGhlIGNvbnRyb2xsZXIgdG8gYXNzb2NpYXRlIHdpdGggdGhlIGRpYWxvZy4gVGhlIGNvbnRyb2xsZXJcbiAqICAgICB3aWxsIGJlIGluamVjdGVkIHdpdGggdGhlIGxvY2FsIGAkbWREaWFsb2dgLCB3aGljaCBwYXNzZXMgYWxvbmcgYSBzY29wZSBmb3IgdGhlIGRpYWxvZy5cbiAqICAgLSBgbG9jYWxzYCAtIGB7b2JqZWN0PX1gOiBBbiBvYmplY3QgY29udGFpbmluZyBrZXkvdmFsdWUgcGFpcnMuIFRoZSBrZXlzIHdpbGwgYmUgdXNlZCBhcyBuYW1lc1xuICogICAgIG9mIHZhbHVlcyB0byBpbmplY3QgaW50byB0aGUgY29udHJvbGxlci4gRm9yIGV4YW1wbGUsIGBsb2NhbHM6IHt0aHJlZTogM31gIHdvdWxkIGluamVjdFxuICogICAgIGB0aHJlZWAgaW50byB0aGUgY29udHJvbGxlciwgd2l0aCB0aGUgdmFsdWUgMy4gSWYgYGJpbmRUb0NvbnRyb2xsZXJgIGlzIHRydWUsIHRoZXkgd2lsbCBiZVxuICogICAgIGNvcGllZCB0byB0aGUgY29udHJvbGxlciBpbnN0ZWFkLlxuICogICAtIGBiaW5kVG9Db250cm9sbGVyYCAtIGBib29sYDogYmluZCB0aGUgbG9jYWxzIHRvIHRoZSBjb250cm9sbGVyLCBpbnN0ZWFkIG9mIHBhc3NpbmcgdGhlbSBpbi5cbiAqICAgICBUaGVzZSB2YWx1ZXMgd2lsbCBub3QgYmUgYXZhaWxhYmxlIHVudGlsIGFmdGVyIGluaXRpYWxpemF0aW9uLlxuICogICAtIGByZXNvbHZlYCAtIGB7b2JqZWN0PX1gOiBTaW1pbGFyIHRvIGxvY2FscywgZXhjZXB0IGl0IHRha2VzIHByb21pc2VzIGFzIHZhbHVlcywgYW5kIHRoZVxuICogICAgIGRpYWxvZyB3aWxsIG5vdCBvcGVuIHVudGlsIGFsbCBvZiB0aGUgcHJvbWlzZXMgcmVzb2x2ZS5cbiAqICAgLSBgY29udHJvbGxlckFzYCAtIGB7c3RyaW5nPX1gOiBBbiBhbGlhcyB0byBhc3NpZ24gdGhlIGNvbnRyb2xsZXIgdG8gb24gdGhlIHNjb3BlLlxuICogICAtIGBwYXJlbnRgIC0gYHtlbGVtZW50PX1gOiBUaGUgZWxlbWVudCB0byBhcHBlbmQgdGhlIGRpYWxvZyB0by4gRGVmYXVsdHMgdG8gYXBwZW5kaW5nXG4gKiAgICAgdG8gdGhlIHJvb3QgZWxlbWVudCBvZiB0aGUgYXBwbGljYXRpb24uXG4gKiAgIC0gYG9uQ29tcGxldGVgIGB7ZnVuY3Rpb249fWA6IENhbGxiYWNrIGZ1bmN0aW9uIHVzZWQgdG8gYW5ub3VuY2Ugd2hlbiB0aGUgc2hvdygpIGFjdGlvbiBpc1xuICogICAgIGZpbmlzaGVkLlxuICpcbiAqIEByZXR1cm5zIHtwcm9taXNlfSBBIHByb21pc2UgdGhhdCBjYW4gYmUgcmVzb2x2ZWQgd2l0aCBgJG1kRGlhbG9nLmhpZGUoKWAgb3JcbiAqIHJlamVjdGVkIHdpdGggYCRtZERpYWxvZy5jYW5jZWwoKWAuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWREaWFsb2cjaGlkZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSGlkZSBhbiBleGlzdGluZyBkaWFsb2cgYW5kIHJlc29sdmUgdGhlIHByb21pc2UgcmV0dXJuZWQgZnJvbSBgJG1kRGlhbG9nLnNob3coKWAuXG4gKlxuICogQHBhcmFtIHsqPX0gcmVzcG9uc2UgQW4gYXJndW1lbnQgZm9yIHRoZSByZXNvbHZlZCBwcm9taXNlLlxuICpcbiAqIEByZXR1cm5zIHtwcm9taXNlfSBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSBkaWFsb2cgaGFzIGJlZW4gY2xvc2VkLlxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kRGlhbG9nI2NhbmNlbFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSGlkZSBhbiBleGlzdGluZyBkaWFsb2cgYW5kIHJlamVjdCB0aGUgcHJvbWlzZSByZXR1cm5lZCBmcm9tIGAkbWREaWFsb2cuc2hvdygpYC5cbiAqXG4gKiBAcGFyYW0geyo9fSByZXNwb25zZSBBbiBhcmd1bWVudCBmb3IgdGhlIHJlamVjdGVkIHByb21pc2UuXG4gKlxuICogQHJldHVybnMge3Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIGRpYWxvZyBoYXMgYmVlbiBjbG9zZWQuXG4gKi9cblxuZnVuY3Rpb24gTWREaWFsb2dQcm92aWRlcigkJGludGVyaW1FbGVtZW50UHJvdmlkZXIpIHtcblxuICB2YXIgYWxlcnREaWFsb2dNZXRob2RzID0gWyd0aXRsZScsICdjb250ZW50JywgJ2FyaWFMYWJlbCcsICdvayddO1xuXG4gIGFkdmFuY2VkRGlhbG9nT3B0aW9ucy4kaW5qZWN0ID0gW1wiJG1kRGlhbG9nXCIsIFwiJG1kVGhlbWluZ1wiXTtcbiAgZGlhbG9nRGVmYXVsdE9wdGlvbnMuJGluamVjdCA9IFtcIiRtZEFyaWFcIiwgXCIkZG9jdW1lbnRcIiwgXCIkbWRVdGlsXCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkbWRUaGVtaW5nXCIsIFwiJG1kRGlhbG9nXCIsIFwiJHRpbWVvdXRcIiwgXCIkcm9vdEVsZW1lbnRcIiwgXCIkYW5pbWF0ZVwiLCBcIiQkckFGXCIsIFwiJHFcIl07XG4gIHJldHVybiAkJGludGVyaW1FbGVtZW50UHJvdmlkZXIoJyRtZERpYWxvZycpXG4gICAgLnNldERlZmF1bHRzKHtcbiAgICAgIG1ldGhvZHM6IFsnZGlzYWJsZVBhcmVudFNjcm9sbCcsICdoYXNCYWNrZHJvcCcsICdjbGlja091dHNpZGVUb0Nsb3NlJywgJ2VzY2FwZVRvQ2xvc2UnLCAndGFyZ2V0RXZlbnQnLCAncGFyZW50J10sXG4gICAgICBvcHRpb25zOiBkaWFsb2dEZWZhdWx0T3B0aW9uc1xuICAgIH0pXG4gICAgLmFkZFByZXNldCgnYWxlcnQnLCB7XG4gICAgICBtZXRob2RzOiBbJ3RpdGxlJywgJ2NvbnRlbnQnLCAnYXJpYUxhYmVsJywgJ29rJywgJ3RoZW1lJ10sXG4gICAgICBvcHRpb25zOiBhZHZhbmNlZERpYWxvZ09wdGlvbnNcbiAgICB9KVxuICAgIC5hZGRQcmVzZXQoJ2NvbmZpcm0nLCB7XG4gICAgICBtZXRob2RzOiBbJ3RpdGxlJywgJ2NvbnRlbnQnLCAnYXJpYUxhYmVsJywgJ29rJywgJ2NhbmNlbCcsICd0aGVtZSddLFxuICAgICAgb3B0aW9uczogYWR2YW5jZWREaWFsb2dPcHRpb25zXG4gICAgfSk7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGFkdmFuY2VkRGlhbG9nT3B0aW9ucygkbWREaWFsb2csICRtZFRoZW1pbmcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGVtcGxhdGU6IFtcbiAgICAgICAgJzxtZC1kaWFsb2cgbWQtdGhlbWU9XCJ7eyBkaWFsb2cudGhlbWUgfX1cIiBhcmlhLWxhYmVsPVwie3sgZGlhbG9nLmFyaWFMYWJlbCB9fVwiPicsXG4gICAgICAgICAgJzxtZC1kaWFsb2ctY29udGVudCByb2xlPVwiZG9jdW1lbnRcIiB0YWJJbmRleD1cIi0xXCI+JyxcbiAgICAgICAgICAgICc8aDIgY2xhc3M9XCJtZC10aXRsZVwiPnt7IGRpYWxvZy50aXRsZSB9fTwvaDI+JyxcbiAgICAgICAgICAgICc8cD57eyBkaWFsb2cuY29udGVudCB9fTwvcD4nLFxuICAgICAgICAgICc8L21kLWRpYWxvZy1jb250ZW50PicsXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC1hY3Rpb25zXCI+JyxcbiAgICAgICAgICAgICc8bWQtYnV0dG9uIG5nLWlmPVwiZGlhbG9nLiR0eXBlID09IFxcJ2NvbmZpcm1cXCdcIicgK1xuICAgICAgICAgICAgICAgICAgICAgICcgbmctY2xpY2s9XCJkaWFsb2cuYWJvcnQoKVwiIGNsYXNzPVwibWQtcHJpbWFyeVwiPicsXG4gICAgICAgICAgICAgICd7eyBkaWFsb2cuY2FuY2VsIH19JyxcbiAgICAgICAgICAgICc8L21kLWJ1dHRvbj4nLFxuICAgICAgICAgICAgJzxtZC1idXR0b24gbmctY2xpY2s9XCJkaWFsb2cuaGlkZSgpXCIgY2xhc3M9XCJtZC1wcmltYXJ5XCI+JyxcbiAgICAgICAgICAgICAgJ3t7IGRpYWxvZy5vayB9fScsXG4gICAgICAgICAgICAnPC9tZC1idXR0b24+JyxcbiAgICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzwvbWQtZGlhbG9nPidcbiAgICAgIF0uam9pbignJyksXG4gICAgICBjb250cm9sbGVyOiBmdW5jdGlvbiBtZERpYWxvZ0N0cmwoKSB7XG4gICAgICAgIHRoaXMuaGlkZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRtZERpYWxvZy5oaWRlKHRydWUpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFib3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJG1kRGlhbG9nLmNhbmNlbCgpO1xuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIGNvbnRyb2xsZXJBczogJ2RpYWxvZycsXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxuICAgICAgdGhlbWU6ICRtZFRoZW1pbmcuZGVmYXVsdFRoZW1lKClcbiAgICB9O1xuICB9XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGRpYWxvZ0RlZmF1bHRPcHRpb25zKCRtZEFyaWEsICRkb2N1bWVudCwgJG1kVXRpbCwgJG1kQ29uc3RhbnQsICRtZFRoZW1pbmcsICRtZERpYWxvZywgJHRpbWVvdXQsICRyb290RWxlbWVudCwgJGFuaW1hdGUsICQkckFGLCAkcSkge1xuICAgIHJldHVybiB7XG4gICAgICBoYXNCYWNrZHJvcDogdHJ1ZSxcbiAgICAgIGlzb2xhdGVTY29wZTogdHJ1ZSxcbiAgICAgIG9uU2hvdzogb25TaG93LFxuICAgICAgb25SZW1vdmU6IG9uUmVtb3ZlLFxuICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTogZmFsc2UsXG4gICAgICBlc2NhcGVUb0Nsb3NlOiB0cnVlLFxuICAgICAgdGFyZ2V0RXZlbnQ6IG51bGwsXG4gICAgICBmb2N1c09uT3BlbjogdHJ1ZSxcbiAgICAgIGRpc2FibGVQYXJlbnRTY3JvbGw6IHRydWUsXG4gICAgICB0cmFuc2Zvcm1UZW1wbGF0ZTogZnVuY3Rpb24odGVtcGxhdGUpIHtcbiAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwibWQtZGlhbG9nLWNvbnRhaW5lclwiPicgKyB0ZW1wbGF0ZSArICc8L2Rpdj4nO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiB0cmFwRm9jdXMoZXYpIHtcbiAgICAgIHZhciBkaWFsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZC1kaWFsb2cnKTtcblxuICAgICAgaWYgKGRpYWxvZyAmJiAhZGlhbG9nLmNvbnRhaW5zKGV2LnRhcmdldCkpIHtcbiAgICAgICAgZXYuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGRpYWxvZy5mb2N1cygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE9uIHNob3cgbWV0aG9kIGZvciBkaWFsb2dzXG4gICAgZnVuY3Rpb24gb25TaG93KHNjb3BlLCBlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICBhbmd1bGFyLmVsZW1lbnQoJGRvY3VtZW50WzBdLmJvZHkpLmFkZENsYXNzKCdtZC1kaWFsb2ctaXMtc2hvd2luZycpO1xuICAgICAgZWxlbWVudCA9ICRtZFV0aWwuZXh0cmFjdEVsZW1lbnRCeU5hbWUoZWxlbWVudCwgJ21kLWRpYWxvZycpO1xuXG4gICAgICAvLyBJbmNhc2UgdGhlIHVzZXIgcHJvdmlkZXMgYSByYXcgZG9tIGVsZW1lbnQsIGFsd2F5cyB3cmFwIGl0IGluIGpxTGl0ZVxuICAgICAgb3B0aW9ucy5wYXJlbnQgPSBhbmd1bGFyLmVsZW1lbnQob3B0aW9ucy5wYXJlbnQpO1xuXG4gICAgICBvcHRpb25zLnBvcEluVGFyZ2V0ID0gYW5ndWxhci5lbGVtZW50KChvcHRpb25zLnRhcmdldEV2ZW50IHx8IHt9KS50YXJnZXQpO1xuICAgICAgdmFyIGNsb3NlQnV0dG9uID0gZmluZENsb3NlQnV0dG9uKCk7XG5cbiAgICAgIGlmIChvcHRpb25zLmhhc0JhY2tkcm9wKSB7XG4gICAgICAgIC8vIEZpeCBmb3IgSUUgMTBcbiAgICAgICAgdmFyIGNvbXB1dGVGcm9tID0gKG9wdGlvbnMucGFyZW50WzBdID09ICRkb2N1bWVudFswXS5ib2R5ICYmICRkb2N1bWVudFswXS5kb2N1bWVudEVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICYmICRkb2N1bWVudFswXS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSA/IGFuZ3VsYXIuZWxlbWVudCgkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50KSA6IG9wdGlvbnMucGFyZW50O1xuICAgICAgICB2YXIgcGFyZW50T2Zmc2V0ID0gY29tcHV0ZUZyb20ucHJvcCgnc2Nyb2xsVG9wJyk7XG4gICAgICAgIG9wdGlvbnMuYmFja2Ryb3AgPSBhbmd1bGFyLmVsZW1lbnQoJzxtZC1iYWNrZHJvcCBjbGFzcz1cIm1kLWRpYWxvZy1iYWNrZHJvcCBtZC1vcGFxdWVcIj4nKTtcbiAgICAgICAgb3B0aW9ucy5iYWNrZHJvcC5jc3MoJ3RvcCcsIHBhcmVudE9mZnNldCArJ3B4Jyk7XG4gICAgICAgICRtZFRoZW1pbmcuaW5oZXJpdChvcHRpb25zLmJhY2tkcm9wLCBvcHRpb25zLnBhcmVudCk7XG4gICAgICAgICRhbmltYXRlLmVudGVyKG9wdGlvbnMuYmFja2Ryb3AsIG9wdGlvbnMucGFyZW50KTtcbiAgICAgICAgZWxlbWVudC5jc3MoJ3RvcCcsIHBhcmVudE9mZnNldCArJ3B4Jyk7XG4gICAgICB9XG5cbiAgICAgIHZhciByb2xlID0gJ2RpYWxvZycsXG4gICAgICAgICAgZWxlbWVudFRvRm9jdXMgPSBjbG9zZUJ1dHRvbjtcblxuICAgICAgaWYgKG9wdGlvbnMuJHR5cGUgPT09ICdhbGVydCcpIHtcbiAgICAgICAgcm9sZSA9ICdhbGVydGRpYWxvZyc7XG4gICAgICAgIGVsZW1lbnRUb0ZvY3VzID0gZWxlbWVudC5maW5kKCdtZC1kaWFsb2ctY29udGVudCcpO1xuICAgICAgfVxuXG4gICAgICBjb25maWd1cmVBcmlhKGVsZW1lbnQuZmluZCgnbWQtZGlhbG9nJyksIHJvbGUsIG9wdGlvbnMpO1xuXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRyYXBGb2N1cywgdHJ1ZSk7XG5cbiAgICAgIGlmIChvcHRpb25zLmRpc2FibGVQYXJlbnRTY3JvbGwpIHtcbiAgICAgICAgb3B0aW9ucy5sYXN0T3ZlcmZsb3cgPSBvcHRpb25zLnBhcmVudC5jc3MoJ292ZXJmbG93Jyk7XG4gICAgICAgIG9wdGlvbnMucGFyZW50LmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkaWFsb2dQb3BJbihcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgb3B0aW9ucy5wYXJlbnQsXG4gICAgICAgIG9wdGlvbnMucG9wSW5UYXJnZXQgJiYgb3B0aW9ucy5wb3BJblRhcmdldC5sZW5ndGggJiYgb3B0aW9ucy5wb3BJblRhcmdldFxuICAgICAgKVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgYXBwbHlBcmlhVG9TaWJsaW5ncyhlbGVtZW50LCB0cnVlKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5lc2NhcGVUb0Nsb3NlKSB7XG4gICAgICAgICAgb3B0aW9ucy5yb290RWxlbWVudEtleXVwQ2FsbGJhY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAkbWRDb25zdGFudC5LRVlfQ09ERS5FU0NBUEUpIHtcbiAgICAgICAgICAgICAgJHRpbWVvdXQoJG1kRGlhbG9nLmNhbmNlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICAkcm9vdEVsZW1lbnQub24oJ2tleXVwJywgb3B0aW9ucy5yb290RWxlbWVudEtleXVwQ2FsbGJhY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuY2xpY2tPdXRzaWRlVG9DbG9zZSkge1xuICAgICAgICAgIG9wdGlvbnMuZGlhbG9nQ2xpY2tPdXRzaWRlQ2FsbGJhY2sgPSBmdW5jdGlvbihldikge1xuICAgICAgICAgICAgLy8gT25seSBjbG9zZSBpZiB3ZSBjbGljayB0aGUgZmxleCBjb250YWluZXIgb3V0c2lkZSB0aGUgYmFja2Ryb3BcbiAgICAgICAgICAgIGlmIChldi50YXJnZXQgPT09IGVsZW1lbnRbMF0pIHtcbiAgICAgICAgICAgICAgJHRpbWVvdXQoJG1kRGlhbG9nLmNhbmNlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBlbGVtZW50Lm9uKCdjbGljaycsIG9wdGlvbnMuZGlhbG9nQ2xpY2tPdXRzaWRlQ2FsbGJhY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuZm9jdXNPbk9wZW4pIHtcbiAgICAgICAgICBlbGVtZW50VG9Gb2N1cy5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuXG4gICAgICBmdW5jdGlvbiBmaW5kQ2xvc2VCdXR0b24oKSB7XG4gICAgICAgIC8vSWYgbm8gZWxlbWVudCB3aXRoIGNsYXNzIGRpYWxvZy1jbG9zZSwgdHJ5IHRvIGZpbmQgdGhlIGxhc3RcbiAgICAgICAgLy9idXR0b24gY2hpbGQgaW4gbWQtYWN0aW9ucyBhbmQgYXNzdW1lIGl0IGlzIGEgY2xvc2UgYnV0dG9uXG4gICAgICAgIHZhciBjbG9zZUJ1dHRvbiA9IGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLmRpYWxvZy1jbG9zZScpO1xuICAgICAgICBpZiAoIWNsb3NlQnV0dG9uKSB7XG4gICAgICAgICAgdmFyIGFjdGlvbkJ1dHRvbnMgPSBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZC1hY3Rpb25zIGJ1dHRvbicpO1xuICAgICAgICAgIGNsb3NlQnV0dG9uID0gYWN0aW9uQnV0dG9uc1sgYWN0aW9uQnV0dG9ucy5sZW5ndGggLSAxIF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFuZ3VsYXIuZWxlbWVudChjbG9zZUJ1dHRvbik7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyBPbiByZW1vdmUgZnVuY3Rpb24gZm9yIGFsbCBkaWFsb2dzXG4gICAgZnVuY3Rpb24gb25SZW1vdmUoc2NvcGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIGFuZ3VsYXIuZWxlbWVudCgkZG9jdW1lbnRbMF0uYm9keSkucmVtb3ZlQ2xhc3MoJ21kLWRpYWxvZy1pcy1zaG93aW5nJyk7XG5cbiAgICAgIGlmIChvcHRpb25zLmJhY2tkcm9wKSB7XG4gICAgICAgICRhbmltYXRlLmxlYXZlKG9wdGlvbnMuYmFja2Ryb3ApO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuZGlzYWJsZVBhcmVudFNjcm9sbCkge1xuICAgICAgICBvcHRpb25zLnBhcmVudC5jc3MoJ292ZXJmbG93Jywgb3B0aW9ucy5sYXN0T3ZlcmZsb3cpO1xuICAgICAgICBkZWxldGUgb3B0aW9ucy5sYXN0T3ZlcmZsb3c7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5lc2NhcGVUb0Nsb3NlKSB7XG4gICAgICAgICRyb290RWxlbWVudC5vZmYoJ2tleXVwJywgb3B0aW9ucy5yb290RWxlbWVudEtleXVwQ2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuY2xpY2tPdXRzaWRlVG9DbG9zZSkge1xuICAgICAgICBlbGVtZW50Lm9mZignY2xpY2snLCBvcHRpb25zLmRpYWxvZ0NsaWNrT3V0c2lkZUNhbGxiYWNrKTtcbiAgICAgIH1cblxuICAgICAgYXBwbHlBcmlhVG9TaWJsaW5ncyhlbGVtZW50LCBmYWxzZSk7XG5cbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdHJhcEZvY3VzLCB0cnVlKTtcblxuICAgICAgcmV0dXJuIGRpYWxvZ1BvcE91dChcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgb3B0aW9ucy5wYXJlbnQsXG4gICAgICAgIG9wdGlvbnMucG9wSW5UYXJnZXQgJiYgb3B0aW9ucy5wb3BJblRhcmdldC5sZW5ndGggJiYgb3B0aW9ucy5wb3BJblRhcmdldFxuICAgICAgKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICBvcHRpb25zLnBvcEluVGFyZ2V0ICYmIG9wdGlvbnMucG9wSW5UYXJnZXQuZm9jdXMoKTtcbiAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5qZWN0IEFSSUEtc3BlY2lmaWMgYXR0cmlidXRlcyBhcHByb3ByaWF0ZSBmb3IgRGlhbG9nc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZUFyaWEoZWxlbWVudCwgcm9sZSwgb3B0aW9ucykge1xuXG4gICAgICBlbGVtZW50LmF0dHIoe1xuICAgICAgICAncm9sZSc6IHJvbGUsXG4gICAgICAgICd0YWJJbmRleCc6ICctMSdcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZGlhbG9nQ29udGVudCA9IGVsZW1lbnQuZmluZCgnbWQtZGlhbG9nLWNvbnRlbnQnKTtcbiAgICAgIGlmIChkaWFsb2dDb250ZW50Lmxlbmd0aCA9PT0gMCl7XG4gICAgICAgIGRpYWxvZ0NvbnRlbnQgPSBlbGVtZW50O1xuICAgICAgfVxuXG4gICAgICB2YXIgZGlhbG9nSWQgPSBlbGVtZW50LmF0dHIoJ2lkJykgfHwgKCdkaWFsb2dfJyArICRtZFV0aWwubmV4dFVpZCgpKTtcbiAgICAgIGRpYWxvZ0NvbnRlbnQuYXR0cignaWQnLCBkaWFsb2dJZCk7XG4gICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknLCBkaWFsb2dJZCk7XG5cbiAgICAgIGlmIChvcHRpb25zLmFyaWFMYWJlbCkge1xuICAgICAgICAkbWRBcmlhLmV4cGVjdChlbGVtZW50LCAnYXJpYS1sYWJlbCcsIG9wdGlvbnMuYXJpYUxhYmVsKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAkbWRBcmlhLmV4cGVjdEFzeW5jKGVsZW1lbnQsICdhcmlhLWxhYmVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHdvcmRzID0gZGlhbG9nQ29udGVudC50ZXh0KCkuc3BsaXQoL1xccysvKTtcbiAgICAgICAgICBpZiAod29yZHMubGVuZ3RoID4gMykgd29yZHMgPSB3b3Jkcy5zbGljZSgwLDMpLmNvbmNhdCgnLi4uJyk7XG4gICAgICAgICAgcmV0dXJuIHdvcmRzLmpvaW4oJyAnKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gZmlsdGVyIG91dCByYXcgRE9NIG5vZGVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOb2RlT25lT2YoZWxlbSwgbm9kZVR5cGVBcnJheSkge1xuICAgICAgaWYgKG5vZGVUeXBlQXJyYXkuaW5kZXhPZihlbGVtLm5vZGVOYW1lKSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdhbGsgRE9NIHRvIGFwcGx5IG9yIHJlbW92ZSBhcmlhLWhpZGRlbiBvbiBzaWJsaW5nIG5vZGVzXG4gICAgICogYW5kIHBhcmVudCBzaWJsaW5nIG5vZGVzXG4gICAgICpcbiAgICAgKiBQcmV2ZW50cyBzY3JlZW4gcmVhZGVyIGludGVyYWN0aW9uIGJlaGluZCBtb2RhbCB3aW5kb3dcbiAgICAgKiBvbiBzd2lwZSBpbnRlcmZhY2VzXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXBwbHlBcmlhVG9TaWJsaW5ncyhlbGVtZW50LCB2YWx1ZSkge1xuICAgICAgdmFyIGF0dHJpYnV0ZSA9ICdhcmlhLWhpZGRlbic7XG5cbiAgICAgIC8vIGdldCByYXcgRE9NIG5vZGVcbiAgICAgIGVsZW1lbnQgPSBlbGVtZW50WzBdO1xuXG4gICAgICBmdW5jdGlvbiB3YWxrRE9NKGVsZW1lbnQpIHtcbiAgICAgICAgd2hpbGUgKGVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgIGlmIChlbGVtZW50ID09PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBjaGlsZHJlbiA9IGVsZW1lbnQucGFyZW50Tm9kZS5jaGlsZHJlbjtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBza2lwIG92ZXIgY2hpbGQgaWYgaXQgaXMgYW4gYXNjZW5kYW50IG9mIHRoZSBkaWFsb2dcbiAgICAgICAgICAgIC8vIG9yIGEgc2NyaXB0IG9yIHN0eWxlIHRhZ1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgIT09IGNoaWxkcmVuW2ldICYmICFpc05vZGVPbmVPZihjaGlsZHJlbltpXSwgWydTQ1JJUFQnLCAnU1RZTEUnXSkpIHtcbiAgICAgICAgICAgICAgY2hpbGRyZW5baV0uc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHdhbGtET00oZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdhbGtET00oZWxlbWVudCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlhbG9nUG9wSW4oY29udGFpbmVyLCBwYXJlbnRFbGVtZW50LCBjbGlja0VsZW1lbnQpIHtcbiAgICAgIHZhciBkaWFsb2dFbCA9IGNvbnRhaW5lci5maW5kKCdtZC1kaWFsb2cnKTtcblxuICAgICAgcGFyZW50RWxlbWVudC5hcHBlbmQoY29udGFpbmVyKTtcbiAgICAgIHRyYW5zZm9ybVRvQ2xpY2tFbGVtZW50KGRpYWxvZ0VsLCBjbGlja0VsZW1lbnQpO1xuXG4gICAgICAkJHJBRihmdW5jdGlvbigpIHtcbiAgICAgICAgZGlhbG9nRWwuYWRkQ2xhc3MoJ3RyYW5zaXRpb24taW4nKVxuICAgICAgICAgIC5jc3MoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STSwgJycpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiAkbWRVdGlsLnRyYW5zaXRpb25FbmRQcm9taXNlKGRpYWxvZ0VsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkaWFsb2dQb3BPdXQoY29udGFpbmVyLCBwYXJlbnRFbGVtZW50LCBjbGlja0VsZW1lbnQpIHtcbiAgICAgIHZhciBkaWFsb2dFbCA9IGNvbnRhaW5lci5maW5kKCdtZC1kaWFsb2cnKTtcblxuICAgICAgZGlhbG9nRWwuYWRkQ2xhc3MoJ3RyYW5zaXRpb24tb3V0JykucmVtb3ZlQ2xhc3MoJ3RyYW5zaXRpb24taW4nKTtcbiAgICAgIHRyYW5zZm9ybVRvQ2xpY2tFbGVtZW50KGRpYWxvZ0VsLCBjbGlja0VsZW1lbnQpO1xuXG4gICAgICByZXR1cm4gJG1kVXRpbC50cmFuc2l0aW9uRW5kUHJvbWlzZShkaWFsb2dFbCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtVG9DbGlja0VsZW1lbnQoZGlhbG9nRWwsIGNsaWNrRWxlbWVudCkge1xuICAgICAgaWYgKGNsaWNrRWxlbWVudCkge1xuICAgICAgICB2YXIgY2xpY2tSZWN0ID0gY2xpY2tFbGVtZW50WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgZGlhbG9nUmVjdCA9IGRpYWxvZ0VsWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIHZhciBzY2FsZVggPSBNYXRoLm1pbigwLjUsIGNsaWNrUmVjdC53aWR0aCAvIGRpYWxvZ1JlY3Qud2lkdGgpO1xuICAgICAgICB2YXIgc2NhbGVZID0gTWF0aC5taW4oMC41LCBjbGlja1JlY3QuaGVpZ2h0IC8gZGlhbG9nUmVjdC5oZWlnaHQpO1xuXG4gICAgICAgIGRpYWxvZ0VsLmNzcygkbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNLCAndHJhbnNsYXRlM2QoJyArXG4gICAgICAgICAgKC1kaWFsb2dSZWN0LmxlZnQgKyBjbGlja1JlY3QubGVmdCArIGNsaWNrUmVjdC53aWR0aC8yIC0gZGlhbG9nUmVjdC53aWR0aC8yKSArICdweCwnICtcbiAgICAgICAgICAoLWRpYWxvZ1JlY3QudG9wICsgY2xpY2tSZWN0LnRvcCArIGNsaWNrUmVjdC5oZWlnaHQvMiAtIGRpYWxvZ1JlY3QuaGVpZ2h0LzIpICsgJ3B4LCcgK1xuICAgICAgICAgICcwKSBzY2FsZSgnICsgc2NhbGVYICsgJywnICsgc2NhbGVZICsgJyknXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlhbG9nVHJhbnNpdGlvbkVuZChkaWFsb2dFbCkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgIGRpYWxvZ0VsLm9uKCRtZENvbnN0YW50LkNTUy5UUkFOU0lUSU9ORU5ELCBmaW5pc2hlZCk7XG4gICAgICBmdW5jdGlvbiBmaW5pc2hlZChldikge1xuICAgICAgICAvL01ha2Ugc3VyZSB0aGlzIHRyYW5zaXRpb25lbmQgZGlkbid0IGJ1YmJsZSB1cCBmcm9tIGEgY2hpbGRcbiAgICAgICAgaWYgKGV2LnRhcmdldCA9PT0gZGlhbG9nRWxbMF0pIHtcbiAgICAgICAgICBkaWFsb2dFbC5vZmYoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TSVRJT05FTkQsIGZpbmlzaGVkKTtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuICB9XG59XG5NZERpYWxvZ1Byb3ZpZGVyLiRpbmplY3QgPSBbXCIkJGludGVyaW1FbGVtZW50UHJvdmlkZXJcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5mYWJBY3Rpb25zJywgWydtYXRlcmlhbC5jb3JlJ10pXG4gICAgLmRpcmVjdGl2ZSgnbWRGYWJBY3Rpb25zJywgTWRGYWJBY3Rpb25zRGlyZWN0aXZlKTtcblxuICAvKipcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxuICAgKiBAbmFtZSBtZEZhYkFjdGlvbnNcbiAgICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmZhYlNwZWVkRGlhbFxuICAgKlxuICAgKiBAcmVzdHJpY3QgRVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhlIGA8bWQtZmFiLWFjdGlvbnM+YCBkaXJlY3RpdmUgaXMgdXNlZCBpbnNpZGUgb2YgYSBgPG1kLWZhYi1zcGVlZC1kaWFsPmAgb3JcbiAgICogYDxtZC1mYWItdG9vbGJhcj5gIGRpcmVjdGl2ZSB0byBtYXJrIHRoZSBhbiBlbGVtZW50IChvciBlbGVtZW50cykgYXMgdGhlIGFjdGlvbnMgYW5kIHNldHVwIHRoZVxuICAgKiBwcm9wZXIgZXZlbnQgbGlzdGVuZXJzLlxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogU2VlIHRoZSBgPG1kLWZhYi1zcGVlZC1kaWFsPmAgb3IgYDxtZC1mYWItdG9vbGJhcj5gIGRpcmVjdGl2ZXMgZm9yIGV4YW1wbGUgdXNhZ2UuXG4gICAqL1xuICBmdW5jdGlvbiBNZEZhYkFjdGlvbnNEaXJlY3RpdmUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRScsXG5cbiAgICAgIHJlcXVpcmU6IFsnXj9tZEZhYlNwZWVkRGlhbCcsICdeP21kRmFiVG9vbGJhciddLFxuXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cmlidXRlcywgY29udHJvbGxlcnMpIHtcbiAgICAgICAgLy8gR3JhYiB3aGljaGV2ZXIgcGFyZW50IGNvbnRyb2xsZXIgaXMgdXNlZFxuICAgICAgICB2YXIgY29udHJvbGxlciA9IGNvbnRyb2xsZXJzWzBdIHx8IGNvbnRyb2xsZXJzWzFdO1xuXG4gICAgICAgIC8vIE1ha2UgdGhlIGNoaWxkcmVuIG9wZW4vY2xvc2UgdGhlaXIgcGFyZW50IGRpcmVjdGl2ZVxuICAgICAgICBpZiAoY29udHJvbGxlcikge1xuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChlbGVtZW50LmNoaWxkcmVuKCksIGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoY2hpbGQpLm9uKCdmb2N1cycsIGNvbnRyb2xsZXIub3Blbik7XG4gICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoY2hpbGQpLm9uKCdibHVyJywgY29udHJvbGxlci5jbG9zZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZnRlciBzZXR0aW5nIHVwIHRoZSBsaXN0ZW5lcnMsIHdyYXAgZXZlcnkgY2hpbGQgaW4gYSBuZXcgZGl2IGFuZCBhZGQgYSBjbGFzcyB0aGF0IHdlIGNhblxuICAgICAgICAvLyBzY2FsZS9mbGluZyBpbmRlcGVuZGVudGx5XG4gICAgICAgIGVsZW1lbnQuY2hpbGRyZW4oKS53cmFwKCc8ZGl2IGNsYXNzPVwibWQtZmFiLWFjdGlvbi1pdGVtXCI+Jyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbn0pKCk7XG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLmRpdmlkZXJcbiAqIEBkZXNjcmlwdGlvbiBEaXZpZGVyIG1vZHVsZSFcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuZGl2aWRlcicsIFtcbiAgJ21hdGVyaWFsLmNvcmUnXG5dKVxuICAuZGlyZWN0aXZlKCdtZERpdmlkZXInLCBNZERpdmlkZXJEaXJlY3RpdmUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kRGl2aWRlclxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmRpdmlkZXJcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEaXZpZGVycyBncm91cCBhbmQgc2VwYXJhdGUgY29udGVudCB3aXRoaW4gbGlzdHMgYW5kIHBhZ2UgbGF5b3V0cyB1c2luZyBzdHJvbmcgdmlzdWFsIGFuZCBzcGF0aWFsIGRpc3RpbmN0aW9ucy4gVGhpcyBkaXZpZGVyIGlzIGEgdGhpbiBydWxlLCBsaWdodHdlaWdodCBlbm91Z2ggdG8gbm90IGRpc3RyYWN0IHRoZSB1c2VyIGZyb20gY29udGVudC5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1pbnNldCBBZGQgdGhpcyBhdHRyaWJ1dGUgdG8gYWN0aXZhdGUgdGhlIGluc2V0IGRpdmlkZXIgc3R5bGUuXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtZGl2aWRlcj48L21kLWRpdmlkZXI+XG4gKlxuICogPG1kLWRpdmlkZXIgbWQtaW5zZXQ+PC9tZC1kaXZpZGVyPlxuICogPC9obGpzPlxuICpcbiAqL1xuZnVuY3Rpb24gTWREaXZpZGVyRGlyZWN0aXZlKCRtZFRoZW1pbmcpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIGxpbms6ICRtZFRoZW1pbmdcbiAgfTtcbn1cbk1kRGl2aWRlckRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kVGhlbWluZ1wiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmZhYlNwZWVkRGlhbCcsIFtcbiAgICAgICdtYXRlcmlhbC5jb3JlJyxcbiAgICAgICdtYXRlcmlhbC5jb21wb25lbnRzLmZhYlRyaWdnZXInLFxuICAgICAgJ21hdGVyaWFsLmNvbXBvbmVudHMuZmFiQWN0aW9ucydcbiAgICBdKVxuICAgIC5kaXJlY3RpdmUoJ21kRmFiU3BlZWREaWFsJywgTWRGYWJTcGVlZERpYWxEaXJlY3RpdmUpXG4gICAgLmFuaW1hdGlvbignLm1kLWZsaW5nJywgTWRGYWJTcGVlZERpYWxGbGluZ0FuaW1hdGlvbilcbiAgICAuYW5pbWF0aW9uKCcubWQtc2NhbGUnLCBNZEZhYlNwZWVkRGlhbFNjYWxlQW5pbWF0aW9uKTtcblxuICAvKipcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxuICAgKiBAbmFtZSBtZEZhYlNwZWVkRGlhbFxuICAgKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuZmFiU3BlZWREaWFsXG4gICAqXG4gICAqIEByZXN0cmljdCBFXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGUgYDxtZC1mYWItc3BlZWQtZGlhbD5gIGRpcmVjdGl2ZSBpcyB1c2VkIHRvIHByZXNlbnQgYSBzZXJpZXMgb2YgcG9wdXAgZWxlbWVudHMgKHVzdWFsbHlcbiAgICogYDxtZC1idXR0b24+YHMpIGZvciBxdWljayBhY2Nlc3MgdG8gY29tbW9uIGFjdGlvbnMuXG4gICAqXG4gICAqIFRoZXJlIGFyZSBjdXJyZW50bHkgdHdvIGFuaW1hdGlvbnMgYXZhaWxhYmxlIGJ5IGFwcGx5aW5nIG9uZSBvZiB0aGUgZm9sbG93aW5nIGNsYXNzZXMgdG9cbiAgICogdGhlIGNvbXBvbmVudDpcbiAgICpcbiAgICogIC0gYG1kLWZsaW5nYCAtIFRoZSBzcGVlZCBkaWFsIGl0ZW1zIGFwcGVhciBmcm9tIHVuZGVybmVhdGggdGhlIHRyaWdnZXIgYW5kIG1vdmUgaW50byB0aGVpclxuICAgKiAgICBhcHByb3ByaWF0ZSBwb3NpdGlvbnMuXG4gICAqICAtIGBtZC1zY2FsZWAgLSBUaGUgc3BlZWQgZGlhbCBpdGVtcyBhcHBlYXIgaW4gdGhlaXIgcHJvcGVyIHBsYWNlcyBieSBzY2FsaW5nIGZyb20gMCUgdG8gMTAwJS5cbiAgICpcbiAgICogQHVzYWdlXG4gICAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gICAqIDxtZC1mYWItc3BlZWQtZGlhbCBkaXJlY3Rpb249XCJ1cFwiIGNsYXNzPVwibWQtZmxpbmdcIj5cbiAgICogICA8bWQtZmFiLXRyaWdnZXI+XG4gICAqICAgICA8bWQtYnV0dG9uIGFyaWEtbGFiZWw9XCJBZGQuLi5cIj48bWQtaWNvbiBpY29uPVwiL2ltZy9pY29ucy9wbHVzLnN2Z1wiPjwvbWQtaWNvbj48L21kLWJ1dHRvbj5cbiAgICogICA8L21kLWZhYi10cmlnZ2VyPlxuICAgKlxuICAgKiAgIDxtZC1mYWItYWN0aW9ucz5cbiAgICogICAgIDxtZC1idXR0b24gYXJpYS1sYWJlbD1cIkFkZCBVc2VyXCI+XG4gICAqICAgICAgIDxtZC1pY29uIGljb249XCIvaW1nL2ljb25zL3VzZXIuc3ZnXCI+PC9tZC1pY29uPlxuICAgKiAgICAgPC9tZC1idXR0b24+XG4gICAqXG4gICAqICAgICA8bWQtYnV0dG9uIGFyaWEtbGFiZWw9XCJBZGQgR3JvdXBcIj5cbiAgICogICAgICAgPG1kLWljb24gaWNvbj1cIi9pbWcvaWNvbnMvZ3JvdXAuc3ZnXCI+PC9tZC1pY29uPlxuICAgKiAgICAgPC9tZC1idXR0b24+XG4gICAqICAgPC9tZC1mYWItYWN0aW9ucz5cbiAgICogPC9tZC1mYWItc3BlZWQtZGlhbD5cbiAgICogPC9obGpzPlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1kLWRpcmVjdGlvbiBGcm9tIHdoaWNoIGRpcmVjdGlvbiB5b3Ugd291bGQgbGlrZSB0aGUgc3BlZWQgZGlhbCB0byBhcHBlYXJcbiAgICogcmVsYXRpdmUgdG8gdGhlIHRyaWdnZXIgZWxlbWVudC5cbiAgICogQHBhcmFtIHtleHByZXNzaW9uPX0gbWQtb3BlbiBQcm9ncmFtbWF0aWNhbGx5IGNvbnRyb2wgd2hldGhlciBvciBub3QgdGhlIHNwZWVkLWRpYWwgaXMgdmlzaWJsZS5cbiAgICovXG4gIGZ1bmN0aW9uIE1kRmFiU3BlZWREaWFsRGlyZWN0aXZlKCkge1xuICAgIEZhYlNwZWVkRGlhbENvbnRyb2xsZXIuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRlbGVtZW50XCIsIFwiJGFuaW1hdGVcIl07XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRScsXG5cbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIGRpcmVjdGlvbjogJ0A/bWREaXJlY3Rpb24nLFxuICAgICAgICBpc09wZW46ICc9P21kT3BlbidcbiAgICAgIH0sXG5cbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICBjb250cm9sbGVyOiBGYWJTcGVlZERpYWxDb250cm9sbGVyLFxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuXG4gICAgICBsaW5rOiBGYWJTcGVlZERpYWxMaW5rXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIEZhYlNwZWVkRGlhbExpbmsoc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgIC8vIFByZXBlbmQgYW4gZWxlbWVudCB0byBob2xkIG91ciBDU1MgdmFyaWFibGVzIHNvIHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgYW5pbWF0aW9ucyBiZWxvd1xuICAgICAgZWxlbWVudC5wcmVwZW5kKCc8ZGl2IGNsYXNzPVwibWQtY3NzLXZhcmlhYmxlc1wiPjwvZGl2PicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEZhYlNwZWVkRGlhbENvbnRyb2xsZXIoJHNjb3BlLCAkZWxlbWVudCwgJGFuaW1hdGUpIHtcbiAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgIC8vIERlZmluZSBvdXIgb3Blbi9jbG9zZSBmdW5jdGlvbnNcbiAgICAgIC8vIE5vdGU6IFVzZWQgYnkgZmFiVHJpZ2dlciBhbmQgZmFiQWN0aW9ucyBkaXJlY3RpdmVzXG4gICAgICB2bS5vcGVuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS4kYXBwbHkoJ3ZtLmlzT3BlbiA9IHRydWUnKTtcbiAgICAgIH07XG5cbiAgICAgIHZtLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICRzY29wZS4kYXBwbHkoJ3ZtLmlzT3BlbiA9IGZhbHNlJyk7XG4gICAgICB9O1xuXG4gICAgICBzZXR1cERlZmF1bHRzKCk7XG4gICAgICBzZXR1cExpc3RlbmVycygpO1xuICAgICAgc2V0dXBXYXRjaGVycygpO1xuXG4gICAgICAvLyBTZXQgb3VyIGRlZmF1bHQgdmFyaWFibGVzXG4gICAgICBmdW5jdGlvbiBzZXR1cERlZmF1bHRzKCkge1xuICAgICAgICAvLyBTZXQgdGhlIGRlZmF1bHQgZGlyZWN0aW9uIHRvICdkb3duJyBpZiBub25lIGlzIHNwZWNpZmllZFxuICAgICAgICB2bS5kaXJlY3Rpb24gPSB2bS5kaXJlY3Rpb24gfHwgJ2Rvd24nO1xuXG4gICAgICAgIC8vIFNldCB0aGUgZGVmYXVsdCB0byBiZSBjbG9zZWRcbiAgICAgICAgdm0uaXNPcGVuID0gdm0uaXNPcGVuIHx8IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXR1cCBvdXIgZXZlbnQgbGlzdGVuZXJzXG4gICAgICBmdW5jdGlvbiBzZXR1cExpc3RlbmVycygpIHtcbiAgICAgICAgJGVsZW1lbnQub24oJ21vdXNlZW50ZXInLCB2bS5vcGVuKTtcbiAgICAgICAgJGVsZW1lbnQub24oJ21vdXNlbGVhdmUnLCB2bS5jbG9zZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldHVwIG91ciB3YXRjaGVyc1xuICAgICAgZnVuY3Rpb24gc2V0dXBXYXRjaGVycygpIHtcbiAgICAgICAgLy8gV2F0Y2ggZm9yIGNoYW5nZXMgdG8gdGhlIGRpcmVjdGlvbiBhbmQgdXBkYXRlIGNsYXNzZXMvYXR0cmlidXRlc1xuICAgICAgICAkc2NvcGUuJHdhdGNoKCd2bS5kaXJlY3Rpb24nLCBmdW5jdGlvbihuZXdEaXIsIG9sZERpcikge1xuICAgICAgICAgIC8vIEFkZCB0aGUgYXBwcm9wcmlhdGUgY2xhc3NlcyBzbyB3ZSBjYW4gdGFyZ2V0IHRoZSBkaXJlY3Rpb24gaW4gdGhlIENTU1xuICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKCRlbGVtZW50LCAnbWQtJyArIG9sZERpcik7XG4gICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoJGVsZW1lbnQsICdtZC0nICsgbmV3RGlyKTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICAvLyBXYXRjaCBmb3IgY2hhbmdlcyB0byBtZC1vcGVuXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ3ZtLmlzT3BlbicsIGZ1bmN0aW9uKGlzT3Blbikge1xuICAgICAgICAgIHZhciB0b0FkZCA9IGlzT3BlbiA/ICdtZC1pcy1vcGVuJyA6ICcnO1xuICAgICAgICAgIHZhciB0b1JlbW92ZSA9IGlzT3BlbiA/ICcnIDogJ21kLWlzLW9wZW4nO1xuXG4gICAgICAgICAgJGFuaW1hdGUuc2V0Q2xhc3MoJGVsZW1lbnQsIHRvQWRkLCB0b1JlbW92ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIE1kRmFiU3BlZWREaWFsRmxpbmdBbmltYXRpb24oKSB7XG4gICAgZnVuY3Rpb24gcnVuQW5pbWF0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHZhciBlbCA9IGVsZW1lbnRbMF07XG4gICAgICB2YXIgY3RybCA9IGVsZW1lbnQuY29udHJvbGxlcignbWRGYWJTcGVlZERpYWwnKTtcbiAgICAgIHZhciBpdGVtcyA9IGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tZC1mYWItYWN0aW9uLWl0ZW0nKTtcblxuICAgICAgLy8gR3JhYiBvdXIgZWxlbWVudCB3aGljaCBzdG9yZXMgQ1NTIHZhcmlhYmxlc1xuICAgICAgdmFyIHZhcmlhYmxlc0VsZW1lbnQgPSBlbC5xdWVyeVNlbGVjdG9yKCcubWQtY3NzLXZhcmlhYmxlcycpO1xuXG4gICAgICAvLyBTZXR1cCBKUyB2YXJpYWJsZXMgYmFzZWQgb24gb3VyIENTUyB2YXJpYWJsZXNcbiAgICAgIHZhciBzdGFydFpJbmRleCA9IHZhcmlhYmxlc0VsZW1lbnQuc3R5bGUuekluZGV4O1xuXG4gICAgICAvLyBBbHdheXMgcmVzZXQgdGhlIGl0ZW1zIHRvIHRoZWlyIG5hdHVyYWwgcG9zaXRpb24vc3RhdGVcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChpdGVtcywgZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgdmFyIHN0eWxlcyA9IGl0ZW0uc3R5bGU7XG5cbiAgICAgICAgc3R5bGVzLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgICBzdHlsZXMudHJhbnNpdGlvbkRlbGF5ID0gJyc7XG4gICAgICAgIHN0eWxlcy5vcGFjaXR5ID0gMTtcblxuICAgICAgICAvLyBNYWtlIHRoZSBpdGVtcyBjbG9zZXN0IHRvIHRoZSB0cmlnZ2VyIGhhdmUgdGhlIGhpZ2hlc3Qgei1pbmRleFxuICAgICAgICBpdGVtLnN0eWxlLnpJbmRleCA9IChpdGVtcy5sZW5ndGggLSBpbmRleCkgKyBzdGFydFpJbmRleDtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBJZiB0aGUgY29udHJvbCBpcyBjbG9zZWQsIGhpZGUgdGhlIGl0ZW1zIGJlaGluZCB0aGUgdHJpZ2dlclxuICAgICAgaWYgKCFjdHJsLmlzT3Blbikge1xuICAgICAgICBhbmd1bGFyLmZvckVhY2goaXRlbXMsIGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgICAgdmFyIG5ld1Bvc2l0aW9uLCBheGlzO1xuXG4gICAgICAgICAgc3dpdGNoIChjdHJsLmRpcmVjdGlvbikge1xuICAgICAgICAgICAgY2FzZSAndXAnOlxuICAgICAgICAgICAgICBuZXdQb3NpdGlvbiA9IGl0ZW0uc2Nyb2xsSGVpZ2h0ICogKGluZGV4ICsgMSk7XG4gICAgICAgICAgICAgIGF4aXMgPSAnWSc7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZG93bic6XG4gICAgICAgICAgICAgIG5ld1Bvc2l0aW9uID0gLWl0ZW0uc2Nyb2xsSGVpZ2h0ICogKGluZGV4ICsgMSk7XG4gICAgICAgICAgICAgIGF4aXMgPSAnWSc7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgIG5ld1Bvc2l0aW9uID0gaXRlbS5zY3JvbGxXaWR0aCAqIChpbmRleCArIDEpO1xuICAgICAgICAgICAgICBheGlzID0gJ1gnO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgICAgbmV3UG9zaXRpb24gPSAtaXRlbS5zY3JvbGxXaWR0aCAqIChpbmRleCArIDEpO1xuICAgICAgICAgICAgICBheGlzID0gJ1gnO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpdGVtLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUnICsgYXhpcyArICcoJyArIG5ld1Bvc2l0aW9uICsgJ3B4KSc7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBhZGRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lKSB7XG4gICAgICAgIGlmIChlbGVtZW50Lmhhc0NsYXNzKCdtZC1mbGluZycpKSB7XG4gICAgICAgICAgcnVuQW5pbWF0aW9uKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSkge1xuICAgICAgICBydW5BbmltYXRpb24oZWxlbWVudCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gTWRGYWJTcGVlZERpYWxTY2FsZUFuaW1hdGlvbigpIHtcbiAgICB2YXIgZGVsYXkgPSA2NTtcblxuICAgIGZ1bmN0aW9uIHJ1bkFuaW1hdGlvbihlbGVtZW50KSB7XG4gICAgICB2YXIgZWwgPSBlbGVtZW50WzBdO1xuICAgICAgdmFyIGN0cmwgPSBlbGVtZW50LmNvbnRyb2xsZXIoJ21kRmFiU3BlZWREaWFsJyk7XG4gICAgICB2YXIgaXRlbXMgPSBlbC5xdWVyeVNlbGVjdG9yQWxsKCcubWQtZmFiLWFjdGlvbi1pdGVtJyk7XG5cbiAgICAgIC8vIEFsd2F5cyByZXNldCB0aGUgaXRlbXMgdG8gdGhlaXIgbmF0dXJhbCBwb3NpdGlvbi9zdGF0ZVxuICAgICAgYW5ndWxhci5mb3JFYWNoKGl0ZW1zLCBmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICB2YXIgc3R5bGVzID0gaXRlbS5zdHlsZSxcbiAgICAgICAgICBvZmZzZXREZWxheSA9IGluZGV4ICogZGVsYXk7XG5cbiAgICAgICAgc3R5bGVzLm9wYWNpdHkgPSBjdHJsLmlzT3BlbiA/IDEgOiAwO1xuICAgICAgICBzdHlsZXMudHJhbnNmb3JtID0gY3RybC5pc09wZW4gPyAnc2NhbGUoMSknIDogJ3NjYWxlKDApJztcbiAgICAgICAgc3R5bGVzLnRyYW5zaXRpb25EZWxheSA9IChjdHJsLmlzT3BlbiA/ICBvZmZzZXREZWxheSA6IChpdGVtcy5sZW5ndGggLSBvZmZzZXREZWxheSkpICsgJ21zJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBhZGRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lKSB7XG4gICAgICAgIHJ1bkFuaW1hdGlvbihlbGVtZW50KTtcbiAgICAgIH0sXG5cbiAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIGRvbmUpIHtcbiAgICAgICAgcnVuQW5pbWF0aW9uKGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSkoKTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmZhYlRvb2xiYXInLCBbXG4gICAgICAnbWF0ZXJpYWwuY29yZScsXG4gICAgICAnbWF0ZXJpYWwuY29tcG9uZW50cy5mYWJUcmlnZ2VyJyxcbiAgICAgICdtYXRlcmlhbC5jb21wb25lbnRzLmZhYkFjdGlvbnMnXG4gICAgXSlcbiAgICAuZGlyZWN0aXZlKCdtZEZhYlRvb2xiYXInLCBNZEZhYlRvb2xiYXJEaXJlY3RpdmUpXG4gICAgLmFuaW1hdGlvbignLm1kLWZhYi10b29sYmFyJywgTWRGYWJUb29sYmFyQW5pbWF0aW9uKTtcblxuICAvKipcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxuICAgKiBAbmFtZSBtZEZhYlRvb2xiYXJcbiAgICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmZhYlRvb2xiYXJcbiAgICpcbiAgICogQHJlc3RyaWN0IEVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIFRoZSBgPG1kLWZhYi10b29sYmFyPmAgZGlyZWN0aXZlIGlzIHVzZWQgcHJlc2VudCBhIHRvb2xiYXIgb2YgZWxlbWVudHMgKHVzdWFsbHkgYDxtZC1idXR0b24+YHMpXG4gICAqIGZvciBxdWljayBhY2Nlc3MgdG8gY29tbW9uIGFjdGlvbnMgd2hlbiBhIGZsb2F0aW5nIGFjdGlvbiBidXR0b24gaXMgYWN0aXZhdGVkICh2aWEgaG92ZXIgb3JcbiAgICoga2V5Ym9hcmQgbmF2aWdhdGlvbikuXG4gICAqXG4gICAqIEB1c2FnZVxuICAgKlxuICAgKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICAgKiA8bWQtZmFiLXRvb2xiYXI+XG4gICAqICAgPG1kLWZhYi10cmlnZ2VyPlxuICAgKiAgICAgPG1kLWJ1dHRvbiBhcmlhLWxhYmVsPVwiQWRkLi4uXCI+PG1kLWljb24gaWNvbj1cIi9pbWcvaWNvbnMvcGx1cy5zdmdcIj48L21kLWljb24+PC9tZC1idXR0b24+XG4gICAqICAgPC9tZC1mYWItdHJpZ2dlcj5cbiAgICpcbiAgICogICA8bWQtZmFiLWFjdGlvbnM+XG4gICAqICAgICA8bWQtYnV0dG9uIGFyaWEtbGFiZWw9XCJBZGQgVXNlclwiPlxuICAgKiAgICAgICA8bWQtaWNvbiBpY29uPVwiL2ltZy9pY29ucy91c2VyLnN2Z1wiPjwvbWQtaWNvbj5cbiAgICogICAgIDwvbWQtYnV0dG9uPlxuICAgKlxuICAgKiAgICAgPG1kLWJ1dHRvbiBhcmlhLWxhYmVsPVwiQWRkIEdyb3VwXCI+XG4gICAqICAgICAgIDxtZC1pY29uIGljb249XCIvaW1nL2ljb25zL2dyb3VwLnN2Z1wiPjwvbWQtaWNvbj5cbiAgICogICAgIDwvbWQtYnV0dG9uPlxuICAgKiAgIDwvbWQtZmFiLWFjdGlvbnM+XG4gICAqIDwvbWQtZmFiLXRvb2xiYXI+XG4gICAqIDwvaGxqcz5cbiAgICpcbiAgICogQHBhcmFtIHtleHByZXNzaW9uPX0gbWQtb3BlbiBQcm9ncmFtbWF0aWNhbGx5IGNvbnRyb2wgd2hldGhlciBvciBub3QgdGhlIHRvb2xiYXIgaXMgdmlzaWJsZS5cbiAgICovXG4gIGZ1bmN0aW9uIE1kRmFiVG9vbGJhckRpcmVjdGl2ZSgpIHtcbiAgICBGYWJUb29sYmFyQ29udHJvbGxlci4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJGVsZW1lbnRcIiwgXCIkYW5pbWF0ZVwiXTtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgICB0ZW1wbGF0ZTpcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC1mYWItdG9vbGJhci13cmFwcGVyXCI+JyArXG4gICAgICAgICcgIDxkaXYgY2xhc3M9XCJtZC1mYWItdG9vbGJhci1jb250ZW50XCIgbmctdHJhbnNjbHVkZT48L2Rpdj4nICtcbiAgICAgICAgJzwvZGl2PicsXG5cbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIGlzT3BlbjogJz0/bWRPcGVuJ1xuICAgICAgfSxcblxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgIGNvbnRyb2xsZXI6IEZhYlRvb2xiYXJDb250cm9sbGVyLFxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuXG4gICAgICBsaW5rOiBsaW5rXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIEZhYlRvb2xiYXJDb250cm9sbGVyKCRzY29wZSwgJGVsZW1lbnQsICRhbmltYXRlKSB7XG4gICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAvLyBTZXQgdGhlIGRlZmF1bHQgdG8gYmUgY2xvc2VkXG4gICAgICB2bS5pc09wZW4gPSB2bS5pc09wZW4gfHwgZmFsc2U7XG5cbiAgICAgIHZtLm9wZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdm0uaXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgfTtcblxuICAgICAgdm0uY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdm0uaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIEFkZCBvdXIgY2xhc3Mgc28gd2UgY2FuIHRyaWdnZXIgdGhlIGFuaW1hdGlvbiBvbiBzdGFydFxuICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoJ21kLWZhYi10b29sYmFyJyk7XG5cbiAgICAgIC8vIFNldHVwIHNvbWUgbW91c2UgZXZlbnRzIHNvIHRoZSBob3ZlciBlZmZlY3QgY2FuIGJlIHRyaWdnZXJlZFxuICAgICAgLy8gYW55d2hlcmUgb3ZlciB0aGUgdG9vbGJhclxuICAgICAgJGVsZW1lbnQub24oJ21vdXNlZW50ZXInLCB2bS5vcGVuKTtcbiAgICAgICRlbGVtZW50Lm9uKCdtb3VzZWxlYXZlJywgdm0uY2xvc2UpO1xuXG4gICAgICAvLyBXYXRjaCBmb3IgY2hhbmdlcyB0byBtZC1vcGVuIGFuZCB0b2dnbGUgb3VyIGNsYXNzXG4gICAgICAkc2NvcGUuJHdhdGNoKCd2bS5pc09wZW4nLCBmdW5jdGlvbihpc09wZW4pIHtcbiAgICAgICAgdmFyIHRvQWRkID0gaXNPcGVuID8gJ21kLWlzLW9wZW4nIDogJyc7XG4gICAgICAgIHZhciB0b1JlbW92ZSA9IGlzT3BlbiA/ICcnIDogJ21kLWlzLW9wZW4nO1xuXG4gICAgICAgICRhbmltYXRlLnNldENsYXNzKCRlbGVtZW50LCB0b0FkZCwgdG9SZW1vdmUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cmlidXRlcykge1xuICAgICAgLy8gRG9uJ3QgYWxsb3cgZm9jdXMgb24gdGhlIHRyaWdnZXJcbiAgICAgIGVsZW1lbnQuZmluZCgnbWQtZmFiLXRyaWdnZXInKS5maW5kKCdidXR0b24nKS5hdHRyKCd0YWJpbmRleCcsICctMScpO1xuXG4gICAgICAvLyBQcmVwZW5kIHRoZSBiYWNrZ3JvdW5kIGVsZW1lbnQgdG8gdGhlIHRyaWdnZXIncyBidXR0b25cbiAgICAgIGVsZW1lbnQuZmluZCgnbWQtZmFiLXRyaWdnZXInKS5maW5kKCdidXR0b24nKVxuICAgICAgICAucHJlcGVuZCgnPGRpdiBjbGFzcz1cIm1kLWZhYi10b29sYmFyLWJhY2tncm91bmRcIj48L2Rpdj4nKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBNZEZhYlRvb2xiYXJBbmltYXRpb24oKSB7XG4gICAgdmFyIG9yaWdpbmFsSWNvbkRlbGF5O1xuXG4gICAgZnVuY3Rpb24gcnVuQW5pbWF0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSkge1xuICAgICAgdmFyIGVsID0gZWxlbWVudFswXTtcbiAgICAgIHZhciBjdHJsID0gZWxlbWVudC5jb250cm9sbGVyKCdtZEZhYlRvb2xiYXInKTtcblxuICAgICAgLy8gR3JhYiB0aGUgcmVsZXZhbnQgY2hpbGQgZWxlbWVudHNcbiAgICAgIHZhciBiYWNrZ3JvdW5kRWxlbWVudCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5tZC1mYWItdG9vbGJhci1iYWNrZ3JvdW5kJyk7XG4gICAgICB2YXIgdHJpZ2dlckVsZW1lbnQgPSBlbC5xdWVyeVNlbGVjdG9yKCdtZC1mYWItdHJpZ2dlciBidXR0b24nKTtcbiAgICAgIHZhciBpY29uRWxlbWVudCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJ21kLWZhYi10cmlnZ2VyIGJ1dHRvbiBtZC1pY29uJyk7XG4gICAgICB2YXIgYWN0aW9ucyA9IGVsZW1lbnQuZmluZCgnbWQtZmFiLWFjdGlvbnMnKS5jaGlsZHJlbigpO1xuXG4gICAgICAvLyBJZiB3ZSBoYXZlIGJvdGggZWxlbWVudHMsIHVzZSB0aGVtIHRvIHBvc2l0aW9uIHRoZSBuZXcgYmFja2dyb3VuZFxuICAgICAgaWYgKHRyaWdnZXJFbGVtZW50ICYmIGJhY2tncm91bmRFbGVtZW50KSB7XG4gICAgICAgIC8vIEdldCBvdXIgdmFyaWFibGVzXG4gICAgICAgIHZhciBjb2xvciA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRyaWdnZXJFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCdiYWNrZ3JvdW5kLWNvbG9yJyk7XG4gICAgICAgIHZhciB3aWR0aCA9IGVsLm9mZnNldFdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZWwub2Zmc2V0SGVpZ2h0O1xuXG4gICAgICAgIC8vIE1ha2UgYSBzcXVhcmVcbiAgICAgICAgdmFyIHNjYWxlID0gd2lkdGggKiAyO1xuXG4gICAgICAgIC8vIFNldCBzb21lIGJhc2ljIHN0eWxlcyBubyBtYXR0ZXIgd2hhdCBhbmltYXRpb24gd2UncmUgZG9pbmdcbiAgICAgICAgYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XG4gICAgICAgIGJhY2tncm91bmRFbGVtZW50LnN0eWxlLmJvcmRlclJhZGl1cyA9IHdpZHRoICsgJ3B4JztcblxuICAgICAgICAvLyBJZiB3ZSdyZSBvcGVuXG4gICAgICAgIGlmIChjdHJsLmlzT3Blbikge1xuXG4gICAgICAgICAgLy8gU2V0IHRoZSB3aWR0aC9oZWlnaHQgdG8gdGFrZSB1cCB0aGUgZnVsbCB0b29sYmFyIHdpZHRoXG4gICAgICAgICAgYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUud2lkdGggPSBzY2FsZSArICdweCc7XG4gICAgICAgICAgYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gc2NhbGUgKyAncHgnO1xuXG4gICAgICAgICAgLy8gU2V0IHRoZSB0b3AvbGVmdCB0byBtb3ZlIHVwL2xlZnQgKG9yIHJpZ2h0KSBieSB0aGUgc2NhbGUgd2lkdGgvaGVpZ2h0XG4gICAgICAgICAgYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUudG9wID0gLShzY2FsZSAvIDIpICsgJ3B4JztcblxuICAgICAgICAgIGlmIChlbGVtZW50Lmhhc0NsYXNzKCdtZC1sZWZ0JykpIHtcbiAgICAgICAgICAgIGJhY2tncm91bmRFbGVtZW50LnN0eWxlLmxlZnQgPSAtKHNjYWxlIC8gMikgKyAncHgnO1xuICAgICAgICAgICAgYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUucmlnaHQgPSBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChlbGVtZW50Lmhhc0NsYXNzKCdtZC1yaWdodCcpKSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS5yaWdodCA9IC0oc2NhbGUgLyAyKSArICdweCc7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS5sZWZ0ID0gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTZXQgdGhlIG5leHQgY2xvc2UgYW5pbWF0aW9uIHRvIGhhdmUgdGhlIHByb3BlciBkZWxheXNcbiAgICAgICAgICBiYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS50cmFuc2l0aW9uRGVsYXkgPSAnMG1zJztcbiAgICAgICAgICBpY29uRWxlbWVudC5zdHlsZS50cmFuc2l0aW9uRGVsYXkgPSAnLjNzJztcblxuICAgICAgICAgIC8vIEFwcGx5IGEgdHJhbnNpdGlvbiBkZWxheSB0byBhY3Rpb25zXG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGFjdGlvbnMsIGZ1bmN0aW9uKGFjdGlvbiwgaW5kZXgpIHtcbiAgICAgICAgICAgIGFjdGlvbi5zdHlsZS50cmFuc2l0aW9uRGVsYXkgPSAoYWN0aW9ucy5sZW5ndGggLSBpbmRleCkgKiAyNSArICdtcyc7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlLCBzZXQgdGhlIHdpZHRoL2hlaWdodCB0byB0aGUgdHJpZ2dlcidzIHdpZHRoL2hlaWdodFxuICAgICAgICAgIGJhY2tncm91bmRFbGVtZW50LnN0eWxlLndpZHRoID0gdHJpZ2dlckVsZW1lbnQub2Zmc2V0V2lkdGggKyAncHgnO1xuICAgICAgICAgIGJhY2tncm91bmRFbGVtZW50LnN0eWxlLmhlaWdodCA9IHRyaWdnZXJFbGVtZW50Lm9mZnNldEhlaWdodCArICdweCc7XG5cbiAgICAgICAgICAvLyBSZXNldCB0aGUgcG9zaXRpb25cbiAgICAgICAgICBiYWNrZ3JvdW5kRWxlbWVudC5zdHlsZS50b3AgPSAnMHB4JztcblxuICAgICAgICAgIGlmIChlbGVtZW50Lmhhc0NsYXNzKCdtZC1sZWZ0JykpIHtcbiAgICAgICAgICAgIGJhY2tncm91bmRFbGVtZW50LnN0eWxlLmxlZnQgPSAnMHB4JztcbiAgICAgICAgICAgIGJhY2tncm91bmRFbGVtZW50LnN0eWxlLnJpZ2h0ID0gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZWxlbWVudC5oYXNDbGFzcygnbWQtcmlnaHQnKSkge1xuICAgICAgICAgICAgYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUucmlnaHQgPSAnMHB4JztcbiAgICAgICAgICAgIGJhY2tncm91bmRFbGVtZW50LnN0eWxlLmxlZnQgPSBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFNldCB0aGUgbmV4dCBvcGVuIGFuaW1hdGlvbiB0byBoYXZlIHRoZSBwcm9wZXIgZGVsYXlzXG4gICAgICAgICAgYmFja2dyb3VuZEVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gJzIwMG1zJztcbiAgICAgICAgICBpY29uRWxlbWVudC5zdHlsZS50cmFuc2l0aW9uRGVsYXkgPSAnMG1zJztcblxuICAgICAgICAgIC8vIEFwcGx5IGEgdHJhbnNpdGlvbiBkZWxheSB0byBhY3Rpb25zXG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGFjdGlvbnMsIGZ1bmN0aW9uKGFjdGlvbiwgaW5kZXgpIHtcbiAgICAgICAgICAgIGFjdGlvbi5zdHlsZS50cmFuc2l0aW9uRGVsYXkgPSAoaW5kZXggKiAyNSkgKyAnbXMnO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGFkZENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIGRvbmUpIHtcbiAgICAgICAgcnVuQW5pbWF0aW9uKGVsZW1lbnQsIGNsYXNzTmFtZSwgZG9uZSk7XG4gICAgICB9LFxuXG4gICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lKSB7XG4gICAgICAgIHJ1bkFuaW1hdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIGRvbmUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSkoKTtcbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuZ3JpZExpc3RcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuZ3JpZExpc3QnLCBbJ21hdGVyaWFsLmNvcmUnXSlcbiAgICAgICAuZGlyZWN0aXZlKCdtZEdyaWRMaXN0JywgR3JpZExpc3REaXJlY3RpdmUpXG4gICAgICAgLmRpcmVjdGl2ZSgnbWRHcmlkVGlsZScsIEdyaWRUaWxlRGlyZWN0aXZlKVxuICAgICAgIC5kaXJlY3RpdmUoJ21kR3JpZFRpbGVGb290ZXInLCBHcmlkVGlsZUNhcHRpb25EaXJlY3RpdmUpXG4gICAgICAgLmRpcmVjdGl2ZSgnbWRHcmlkVGlsZUhlYWRlcicsIEdyaWRUaWxlQ2FwdGlvbkRpcmVjdGl2ZSlcbiAgICAgICAuZmFjdG9yeSgnJG1kR3JpZExheW91dCcsIEdyaWRMYXlvdXRGYWN0b3J5KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZEdyaWRMaXN0XG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuZ3JpZExpc3RcbiAqIEByZXN0cmljdCBFXG4gKiBAZGVzY3JpcHRpb25cbiAqIEdyaWQgbGlzdHMgYXJlIGFuIGFsdGVybmF0aXZlIHRvIHN0YW5kYXJkIGxpc3Qgdmlld3MuIEdyaWQgbGlzdHMgYXJlIGRpc3RpbmN0XG4gKiBmcm9tIGdyaWRzIHVzZWQgZm9yIGxheW91dHMgYW5kIG90aGVyIHZpc3VhbCBwcmVzZW50YXRpb25zLlxuICpcbiAqIEEgZ3JpZCBsaXN0IGlzIGJlc3Qgc3VpdGVkIHRvIHByZXNlbnRpbmcgYSBob21vZ2Vub3VzIGRhdGEgdHlwZSwgdHlwaWNhbGx5XG4gKiBpbWFnZXMsIGFuZCBpcyBvcHRpbWl6ZWQgZm9yIHZpc3VhbCBjb21wcmVoZW5zaW9uIGFuZCBkaWZmZXJlbnRpYXRpbmcgYmV0d2VlblxuICogbGlrZSBkYXRhIHR5cGVzLlxuICpcbiAqIEEgZ3JpZCBsaXN0IGlzIGEgY29udGludW91cyBlbGVtZW50IGNvbnNpc3Rpbmcgb2YgdGVzc2VsbGF0ZWQsIHJlZ3VsYXJcbiAqIHN1YmRpdmlzaW9ucyBjYWxsZWQgY2VsbHMgdGhhdCBjb250YWluIHRpbGVzIChgbWQtZ3JpZC10aWxlYCkuXG4gKlxuICogPGltZyBzcmM9XCIvL21hdGVyaWFsLWRlc2lnbi5zdG9yYWdlLmdvb2dsZWFwaXMuY29tL3B1Ymxpc2gvdl8yL21hdGVyaWFsX2V4dF9wdWJsaXNoLzBCeDRCU3Q2am5pRDdPVmxFYVhaNVltVTFYemcvY29tcG9uZW50c19ncmlkc191c2FnZTIucG5nXCJcbiAqICAgIHN0eWxlPVwid2lkdGg6IDMwMHB4OyBoZWlnaHQ6IGF1dG87IG1hcmdpbi1yaWdodDogMTZweDtcIiBhbHQ9XCJDb25jZXB0IG9mIGdyaWQgZXhwbGFpbmVkIHZpc3VhbGx5XCI+XG4gKiA8aW1nIHNyYz1cIi8vbWF0ZXJpYWwtZGVzaWduLnN0b3JhZ2UuZ29vZ2xlYXBpcy5jb20vcHVibGlzaC92XzIvbWF0ZXJpYWxfZXh0X3B1Ymxpc2gvMEJ4NEJTdDZqbmlEN1ZHaHNPRTVpZFdsSldYTS9jb21wb25lbnRzX2dyaWRzX3VzYWdlMy5wbmdcIlxuICogICAgc3R5bGU9XCJ3aWR0aDogMzAwcHg7IGhlaWdodDogYXV0bztcIiBhbHQ9XCJHcmlkIGNvbmNlcHRzIGxlZ2VuZFwiPlxuICpcbiAqIENlbGxzIGFyZSBhcnJheWVkIHZlcnRpY2FsbHkgYW5kIGhvcml6b250YWxseSB3aXRoaW4gdGhlIGdyaWQuXG4gKlxuICogVGlsZXMgaG9sZCBjb250ZW50IGFuZCBjYW4gc3BhbiBvbmUgb3IgbW9yZSBjZWxscyB2ZXJ0aWNhbGx5IG9yIGhvcml6b250YWxseS5cbiAqXG4gKiAjIyMgUmVzcG9uc2l2ZSBBdHRyaWJ1dGVzXG4gKlxuICogVGhlIGBtZC1ncmlkLWxpc3RgIGRpcmVjdGl2ZSBzdXBwb3J0cyBcInJlc3BvbnNpdmVcIiBhdHRyaWJ1dGVzLCB3aGljaCBhbGxvd1xuICogZGlmZmVyZW50IGBtZC1jb2xzYCwgYG1kLWd1dHRlcmAgYW5kIGBtZC1yb3ctaGVpZ2h0YCB2YWx1ZXMgZGVwZW5kaW5nIG9uIHRoZVxuICogY3VycmVudGx5IG1hdGNoaW5nIG1lZGlhIHF1ZXJ5IChhcyBkZWZpbmVkIGluIGAkbWRDb25zdGFudC5NRURJQWApLlxuICpcbiAqIEluIG9yZGVyIHRvIHNldCBhIHJlc3BvbnNpdmUgYXR0cmlidXRlLCBmaXJzdCBkZWZpbmUgdGhlIGZhbGxiYWNrIHZhbHVlIHdpdGhcbiAqIHRoZSBzdGFuZGFyZCBhdHRyaWJ1dGUgbmFtZSwgdGhlbiBhZGQgYWRkaXRpb25hbCBhdHRyaWJ1dGVzIHdpdGggdGhlXG4gKiBmb2xsb3dpbmcgY29udmVudGlvbjogYHtiYXNlLWF0dHJpYnV0ZS1uYW1lfS17bWVkaWEtcXVlcnktbmFtZX09XCJ7dmFsdWV9XCJgXG4gKiAoaWUuIGBtZC1jb2xzLWxnPVwiOFwiYClcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbWQtY29scyBOdW1iZXIgb2YgY29sdW1ucyBpbiB0aGUgZ3JpZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZC1yb3ctaGVpZ2h0IE9uZSBvZlxuICogPHVsPlxuICogICA8bGk+Q1NTIGxlbmd0aCAtIEZpeGVkIGhlaWdodCByb3dzIChlZy4gYDhweGAgb3IgYDFyZW1gKTwvbGk+XG4gKiAgIDxsaT5ge3dpZHRofTp7aGVpZ2h0fWAgLSBSYXRpbyBvZiB3aWR0aCB0byBoZWlnaHQgKGVnLlxuICogICBgbWQtcm93LWhlaWdodD1cIjE2OjlcImApPC9saT5cbiAqICAgPGxpPmBcImZpdFwiYCAtIEhlaWdodCB3aWxsIGJlIGRldGVybWluZWQgYnkgc3ViZGl2aWRpbmcgdGhlIGF2YWlsYWJsZVxuICogICBoZWlnaHQgYnkgdGhlIG51bWJlciBvZiByb3dzPC9saT5cbiAqIDwvdWw+XG4gKiBAcGFyYW0ge3N0cmluZz19IG1kLWd1dHRlciBUaGUgYW1vdW50IG9mIHNwYWNlIGJldHdlZW4gdGlsZXMgaW4gQ1NTIHVuaXRzXG4gKiAgICAgKGRlZmF1bHQgMXB4KVxuICogQHBhcmFtIHtleHByZXNzaW9uPX0gbWQtb24tbGF5b3V0IEV4cHJlc3Npb24gdG8gZXZhbHVhdGUgYWZ0ZXIgbGF5b3V0LiBFdmVudFxuICogICAgIG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGAsIGFuZCBjb250YWlucyBwZXJmb3JtYW5jZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAdXNhZ2VcbiAqIEJhc2ljOlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1ncmlkLWxpc3QgbWQtY29scz1cIjVcIiBtZC1ndXR0ZXI9XCIxZW1cIiBtZC1yb3ctaGVpZ2h0PVwiNDozXCI+XG4gKiAgIDxtZC1ncmlkLXRpbGU+PC9tZC1ncmlkLXRpbGU+XG4gKiA8L21kLWdyaWQtbGlzdD5cbiAqIDwvaGxqcz5cbiAqXG4gKiBGaXhlZC1oZWlnaHQgcm93czpcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtZ3JpZC1saXN0IG1kLWNvbHM9XCI0XCIgbWQtcm93LWhlaWdodD1cIjIwMHB4XCIgLi4uPlxuICogICA8bWQtZ3JpZC10aWxlPjwvbWQtZ3JpZC10aWxlPlxuICogPC9tZC1ncmlkLWxpc3Q+XG4gKiA8L2hsanM+XG4gKlxuICogRml0IHJvd3M6XG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWdyaWQtbGlzdCBtZC1jb2xzPVwiNFwiIG1kLXJvdy1oZWlnaHQ9XCJmaXRcIiBzdHlsZT1cImhlaWdodDogNDAwcHg7XCIgLi4uPlxuICogICA8bWQtZ3JpZC10aWxlPjwvbWQtZ3JpZC10aWxlPlxuICogPC9tZC1ncmlkLWxpc3Q+XG4gKiA8L2hsanM+XG4gKlxuICogVXNpbmcgcmVzcG9uc2l2ZSBhdHRyaWJ1dGVzOlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1ncmlkLWxpc3RcbiAqICAgICBtZC1jb2xzLXNtPVwiMlwiXG4gKiAgICAgbWQtY29scy1tZD1cIjRcIlxuICogICAgIG1kLWNvbHMtbGc9XCI4XCJcbiAqICAgICBtZC1jb2xzLWd0LWxnPVwiMTJcIlxuICogICAgIC4uLj5cbiAqICAgPG1kLWdyaWQtdGlsZT48L21kLWdyaWQtdGlsZT5cbiAqIDwvbWQtZ3JpZC1saXN0PlxuICogPC9obGpzPlxuICovXG5mdW5jdGlvbiBHcmlkTGlzdERpcmVjdGl2ZSgkaW50ZXJwb2xhdGUsICRtZENvbnN0YW50LCAkbWRHcmlkTGF5b3V0LCAkbWRNZWRpYSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgY29udHJvbGxlcjogR3JpZExpc3RDb250cm9sbGVyLFxuICAgIHNjb3BlOiB7XG4gICAgICBtZE9uTGF5b3V0OiAnJidcbiAgICB9LFxuICAgIGxpbms6IHBvc3RMaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsKSB7XG4gICAgLy8gQXBwbHkgc2VtYW50aWNzXG4gICAgZWxlbWVudC5hdHRyKCdyb2xlJywgJ2xpc3QnKTtcblxuICAgIC8vIFByb3ZpZGUgdGhlIGNvbnRyb2xsZXIgd2l0aCBhIHdheSB0byB0cmlnZ2VyIGxheW91dHMuXG4gICAgY3RybC5sYXlvdXREZWxlZ2F0ZSA9IGxheW91dERlbGVnYXRlO1xuXG4gICAgdmFyIGludmFsaWRhdGVMYXlvdXQgPSBhbmd1bGFyLmJpbmQoY3RybCwgY3RybC5pbnZhbGlkYXRlTGF5b3V0KSxcbiAgICAgICAgdW53YXRjaEF0dHJzID0gd2F0Y2hNZWRpYSgpO1xuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIHVud2F0Y2hNZWRpYSk7XG5cbiAgICAvKipcbiAgICAgKiBXYXRjaGVzIGZvciBjaGFuZ2VzIGluIG1lZGlhLCBpbnZhbGlkYXRpbmcgbGF5b3V0IGFzIG5lY2Vzc2FyeS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3YXRjaE1lZGlhKCkge1xuICAgICAgZm9yICh2YXIgbWVkaWFOYW1lIGluICRtZENvbnN0YW50Lk1FRElBKSB7XG4gICAgICAgICRtZE1lZGlhKG1lZGlhTmFtZSk7IC8vIGluaXRpYWxpemVcbiAgICAgICAgJG1kTWVkaWEuZ2V0UXVlcnkoJG1kQ29uc3RhbnQuTUVESUFbbWVkaWFOYW1lXSlcbiAgICAgICAgICAgIC5hZGRMaXN0ZW5lcihpbnZhbGlkYXRlTGF5b3V0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAkbWRNZWRpYS53YXRjaFJlc3BvbnNpdmVBdHRyaWJ1dGVzKFxuICAgICAgICAgIFsnbWQtY29scycsICdtZC1yb3ctaGVpZ2h0J10sIGF0dHJzLCBsYXlvdXRJZk1lZGlhTWF0Y2gpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVud2F0Y2hNZWRpYSgpIHtcbiAgICAgIGN0cmwubGF5b3V0RGVsZWdhdGUgPSBhbmd1bGFyLm5vb3A7XG5cbiAgICAgIHVud2F0Y2hBdHRycygpO1xuICAgICAgZm9yICh2YXIgbWVkaWFOYW1lIGluICRtZENvbnN0YW50Lk1FRElBKSB7XG4gICAgICAgICRtZE1lZGlhLmdldFF1ZXJ5KCRtZENvbnN0YW50Lk1FRElBW21lZGlhTmFtZV0pXG4gICAgICAgICAgICAucmVtb3ZlTGlzdGVuZXIoaW52YWxpZGF0ZUxheW91dCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgZ3JpZCBsYXlvdXQgaWYgdGhlIHByb3ZpZGVkIG1lZGlhTmFtZSBtYXRjaGVzIHRoZSBjdXJyZW50bHlcbiAgICAgKiBhY3RpdmUgbWVkaWEgdHlwZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXlvdXRJZk1lZGlhTWF0Y2gobWVkaWFOYW1lKSB7XG4gICAgICBpZiAobWVkaWFOYW1lID09IG51bGwpIHtcbiAgICAgICAgLy8gVE9ETyhzaHluZG1hbik6IEl0IHdvdWxkIGJlIG5pY2UgdG8gb25seSBsYXlvdXQgaWYgd2UgaGF2ZVxuICAgICAgICAvLyBpbnN0YW5jZXMgb2YgYXR0cmlidXRlcyB1c2luZyB0aGlzIG1lZGlhIHR5cGVcbiAgICAgICAgY3RybC5pbnZhbGlkYXRlTGF5b3V0KCk7XG4gICAgICB9IGVsc2UgaWYgKCRtZE1lZGlhKG1lZGlhTmFtZSkpIHtcbiAgICAgICAgY3RybC5pbnZhbGlkYXRlTGF5b3V0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGxhc3RMYXlvdXRQcm9wcztcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgdGhlIGxheW91dCBlbmdpbmUsIGFuZCB1c2VzIGl0cyByZXN1bHRzIHRvIGxheSBvdXQgb3VyXG4gICAgICogdGlsZSBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdGlsZXNJbnZhbGlkYXRlZCBXaGV0aGVyIHRpbGVzIGhhdmUgYmVlblxuICAgICAqICAgIGFkZGVkL3JlbW92ZWQvbW92ZWQgc2luY2UgdGhlIGxhc3QgbGF5b3V0LiBUaGlzIGlzIHRvIGF2b2lkIHNpdHVhdGlvbnNcbiAgICAgKiAgICB3aGVyZSB0aWxlcyBhcmUgcmVwbGFjZWQgd2l0aCBwcm9wZXJ0aWVzIGlkZW50aWNhbCB0byB0aGVpciByZW1vdmVkXG4gICAgICogICAgY291bnRlcnBhcnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxheW91dERlbGVnYXRlKHRpbGVzSW52YWxpZGF0ZWQpIHtcbiAgICAgIHZhciB0aWxlcyA9IGdldFRpbGVFbGVtZW50cygpO1xuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICB0aWxlU3BhbnM6IGdldFRpbGVTcGFucyh0aWxlcyksXG4gICAgICAgIGNvbENvdW50OiBnZXRDb2x1bW5Db3VudCgpLFxuICAgICAgICByb3dNb2RlOiBnZXRSb3dNb2RlKCksXG4gICAgICAgIHJvd0hlaWdodDogZ2V0Um93SGVpZ2h0KCksXG4gICAgICAgIGd1dHRlcjogZ2V0R3V0dGVyKClcbiAgICAgIH07XG5cbiAgICAgIGlmICghdGlsZXNJbnZhbGlkYXRlZCAmJiBhbmd1bGFyLmVxdWFscyhwcm9wcywgbGFzdExheW91dFByb3BzKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBwZXJmb3JtYW5jZSA9XG4gICAgICAgICRtZEdyaWRMYXlvdXQocHJvcHMuY29sQ291bnQsIHByb3BzLnRpbGVTcGFucywgdGlsZXMpXG4gICAgICAgICAgLm1hcChmdW5jdGlvbih0aWxlUG9zaXRpb25zLCByb3dDb3VudCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgZ3JpZDoge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgc3R5bGU6IGdldEdyaWRTdHlsZShwcm9wcy5jb2xDb3VudCwgcm93Q291bnQsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLmd1dHRlciwgcHJvcHMucm93TW9kZSwgcHJvcHMucm93SGVpZ2h0KVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB0aWxlczogdGlsZVBvc2l0aW9ucy5tYXAoZnVuY3Rpb24ocHMsIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudDogYW5ndWxhci5lbGVtZW50KHRpbGVzW2ldKSxcbiAgICAgICAgICAgICAgICAgIHN0eWxlOiBnZXRUaWxlU3R5bGUocHMucG9zaXRpb24sIHBzLnNwYW5zLFxuICAgICAgICAgICAgICAgICAgICAgIHByb3BzLmNvbENvdW50LCBwcm9wcy5yb3dDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5ndXR0ZXIsIHByb3BzLnJvd01vZGUsIHByb3BzLnJvd0hlaWdodClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAucmVmbG93KClcbiAgICAgICAgICAucGVyZm9ybWFuY2UoKTtcblxuICAgICAgLy8gUmVwb3J0IGxheW91dFxuICAgICAgc2NvcGUubWRPbkxheW91dCh7XG4gICAgICAgICRldmVudDoge1xuICAgICAgICAgIHBlcmZvcm1hbmNlOiBwZXJmb3JtYW5jZVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgbGFzdExheW91dFByb3BzID0gcHJvcHM7XG4gICAgfVxuXG4gICAgLy8gVXNlICRpbnRlcnBvbGF0ZSB0byBkbyBzb21lIHNpbXBsZSBzdHJpbmcgaW50ZXJwb2xhdGlvbiBhcyBhIGNvbnZlbmllbmNlLlxuXG4gICAgdmFyIHN0YXJ0U3ltYm9sID0gJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCk7XG4gICAgdmFyIGVuZFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKTtcblxuICAgIC8vIFJldHVybnMgYW4gZXhwcmVzc2lvbiB3cmFwcGVkIGluIHRoZSBpbnRlcnBvbGF0b3IncyBzdGFydCBhbmQgZW5kIHN5bWJvbHMuXG4gICAgZnVuY3Rpb24gZXhwcihleHByU3RyKSB7XG4gICAgICByZXR1cm4gc3RhcnRTeW1ib2wgKyBleHByU3RyICsgZW5kU3ltYm9sO1xuICAgIH1cblxuICAgIC8vIFRoZSBhbW91bnQgb2Ygc3BhY2UgYSBzaW5nbGUgMXgxIHRpbGUgd291bGQgdGFrZSB1cCAoZWl0aGVyIHdpZHRoIG9yIGhlaWdodCksIHVzZWQgYXNcbiAgICAvLyBhIGJhc2lzIGZvciBvdGhlciBjYWxjdWxhdGlvbnMuIFRoaXMgY29uc2lzdHMgb2YgdGFraW5nIHRoZSBiYXNlIHNpemUgcGVyY2VudCAoYXMgd291bGQgYmVcbiAgICAvLyBpZiBldmVubHkgZGl2aWRpbmcgdGhlIHNpemUgYmV0d2VlbiBjZWxscyksIGFuZCB0aGVuIHN1YnRyYWN0aW5nIHRoZSBzaXplIG9mIG9uZSBndXR0ZXIuXG4gICAgLy8gSG93ZXZlciwgc2luY2UgdGhlcmUgYXJlIG5vIGd1dHRlcnMgb24gdGhlIGVkZ2VzLCBlYWNoIHRpbGUgb25seSB1c2VzIGEgZnJhdGlvblxuICAgIC8vIChndXR0ZXJTaGFyZSA9IG51bUd1dHRlcnMgLyBudW1DZWxscykgb2YgdGhlIGd1dHRlciBzaXplLiAoSW1hZ2luZSBoYXZpbmcgb25lIGd1dHRlciBwZXJcbiAgICAvLyB0aWxlLCBhbmQgdGhlbiBicmVha2luZyB1cCB0aGUgZXh0cmEgZ3V0dGVyIG9uIHRoZSBlZGdlIGV2ZW5seSBhbW9uZyB0aGUgY2VsbHMpLlxuICAgIHZhciBVTklUID0gJGludGVycG9sYXRlKGV4cHIoJ3NoYXJlJykgKyAnJSAtICgnICsgZXhwcignZ3V0dGVyJykgKyAnICogJyArIGV4cHIoJ2d1dHRlclNoYXJlJykgKyAnKScpO1xuXG4gICAgLy8gVGhlIGhvcml6b250YWwgb3IgdmVydGljYWwgcG9zaXRpb24gb2YgYSB0aWxlLCBlLmcuLCB0aGUgJ3RvcCcgb3IgJ2xlZnQnIHByb3BlcnR5IHZhbHVlLlxuICAgIC8vIFRoZSBwb3NpdGlvbiBjb21lcyB0aGUgc2l6ZSBvZiBhIDF4MSB0aWxlIHBsdXMgZ3V0dGVyIGZvciBlYWNoIHByZXZpb3VzIHRpbGUgaW4gdGhlXG4gICAgLy8gcm93L2NvbHVtbiAob2Zmc2V0KS5cbiAgICB2YXIgUE9TSVRJT04gID0gJGludGVycG9sYXRlKCdjYWxjKCgnICsgZXhwcigndW5pdCcpICsgJyArICcgKyBleHByKCdndXR0ZXInKSArICcpICogJyArIGV4cHIoJ29mZnNldCcpICsgJyknKTtcblxuICAgIC8vIFRoZSBhY3R1YWwgc2l6ZSBvZiBhIHRpbGUsIGUuZy4sIHdpZHRoIG9yIGhlaWdodCwgdGFraW5nIHJvd1NwYW4gb3IgY29sU3BhbiBpbnRvIGFjY291bnQuXG4gICAgLy8gVGhpcyBpcyBjb21wdXRlZCBieSBtdWx0aXBseWluZyB0aGUgYmFzZSB1bml0IGJ5IHRoZSByb3dTcGFuL2NvbFNwYW4sIGFuZCB0aGVuIGFkZGluZyBiYWNrXG4gICAgLy8gaW4gdGhlIHNwYWNlIHRoYXQgdGhlIGd1dHRlciB3b3VsZCBub3JtYWxseSBoYXZlIHVzZWQgKHdoaWNoIHdhcyBhbHJlYWR5IGFjY291bnRlZCBmb3IgaW5cbiAgICAvLyB0aGUgYmFzZSB1bml0IGNhbGN1bGF0aW9uKS5cbiAgICB2YXIgRElNRU5TSU9OID0gJGludGVycG9sYXRlKCdjYWxjKCgnICsgZXhwcigndW5pdCcpICsgJykgKiAnICsgZXhwcignc3BhbicpICsgJyArICgnICsgZXhwcignc3BhbicpICsgJyAtIDEpICogJyArIGV4cHIoJ2d1dHRlcicpICsgJyknKTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHN0eWxlcyBhcHBsaWVkIHRvIGEgdGlsZSBlbGVtZW50IGRlc2NyaWJlZCBieSB0aGUgZ2l2ZW4gcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge3tyb3c6IG51bWJlciwgY29sOiBudW1iZXJ9fSBwb3NpdGlvbiBUaGUgcm93IGFuZCBjb2x1bW4gaW5kaWNlcyBvZiB0aGUgdGlsZS5cbiAgICAgKiBAcGFyYW0ge3tyb3c6IG51bWJlciwgY29sOiBudW1iZXJ9fSBzcGFucyBUaGUgcm93U3BhbiBhbmQgY29sU3BhbiBvZiB0aGUgdGlsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sQ291bnQgVGhlIG51bWJlciBvZiBjb2x1bW5zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3dDb3VudCBUaGUgbnVtYmVyIG9mIHJvd3MuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGd1dHRlciBUaGUgYW1vdW50IG9mIHNwYWNlIGJldHdlZW4gdGlsZXMuIFRoaXMgd2lsbCBiZSBzb21ldGhpbmcgbGlrZVxuICAgICAqICAgICAnNXB4JyBvciAnMmVtJy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcm93TW9kZSBUaGUgcm93IGhlaWdodCBtb2RlLiBDYW4gYmUgb25lIG9mOlxuICAgICAqICAgICAnZml4ZWQnOiBhbGwgcm93cyBoYXZlIGEgZml4ZWQgc2l6ZSwgZ2l2ZW4gYnkgcm93SGVpZ2h0LFxuICAgICAqICAgICAncmF0aW8nOiByb3cgaGVpZ2h0IGRlZmluZWQgYXMgYSByYXRpbyB0byB3aWR0aCwgb3JcbiAgICAgKiAgICAgJ2ZpdCc6IGZpdCB0byB0aGUgZ3JpZC1saXN0IGVsZW1lbnQgaGVpZ2h0LCBkaXZpbmRpbmcgZXZlbmx5IGFtb25nIHJvd3MuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSByb3dIZWlnaHQgVGhlIGhlaWdodCBvZiBhIHJvdy4gVGhpcyBpcyBvbmx5IHVzZWQgZm9yICdmaXhlZCcgbW9kZSBhbmRcbiAgICAgKiAgICAgZm9yICdyYXRpbycgbW9kZS4gRm9yICdyYXRpbycgbW9kZSwgdGhpcyBpcyB0aGUgKnJhdGlvKiBvZiB3aWR0aC10by1oZWlnaHQgKGUuZy4sIDAuNzUpLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IE1hcCBvZiBDU1MgcHJvcGVydGllcyB0byBiZSBhcHBsaWVkIHRvIHRoZSBzdHlsZSBlbGVtZW50LiBXaWxsIGRlZmluZVxuICAgICAqICAgICB2YWx1ZXMgZm9yIHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCwgbWFyZ2luVG9wLCBhbmQgcGFkZGluZ1RvcC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRUaWxlU3R5bGUocG9zaXRpb24sIHNwYW5zLCBjb2xDb3VudCwgcm93Q291bnQsIGd1dHRlciwgcm93TW9kZSwgcm93SGVpZ2h0KSB7XG4gICAgICAvLyBUT0RPKHNoeW5kbWFuKTogVGhlcmUgYXJlIHN0eWxlIGNhY2hpbmcgb3Bwb3J0dW5pdGllcyBoZXJlLlxuXG4gICAgICAvLyBQZXJjZW50IG9mIHRoZSBhdmFpbGFibGUgaG9yaXpvbnRhbCBzcGFjZSB0aGF0IG9uZSBjb2x1bW4gdGFrZXMgdXAuXG4gICAgICB2YXIgaFNoYXJlID0gKDEgLyBjb2xDb3VudCkgKiAxMDA7XG5cbiAgICAgIC8vIEZyYWN0aW9uIG9mIHRoZSBndXR0ZXIgc2l6ZSB0aGF0IGVhY2ggY29sdW1uIHRha2VzIHVwLlxuICAgICAgdmFyIGhHdXR0ZXJTaGFyZSA9IChjb2xDb3VudCAtIDEpIC8gY29sQ291bnQ7XG5cbiAgICAgIC8vIEJhc2UgaG9yaXpvbnRhbCBzaXplIG9mIGEgY29sdW1uLlxuICAgICAgdmFyIGhVbml0ID0gVU5JVCh7c2hhcmU6IGhTaGFyZSwgZ3V0dGVyU2hhcmU6IGhHdXR0ZXJTaGFyZSwgZ3V0dGVyOiBndXR0ZXJ9KTtcblxuICAgICAgLy8gVGhlIHdpZHRoIGFuZCBob3Jpem9udGFsIHBvc2l0aW9uIG9mIGVhY2ggdGlsZSBpcyBhbHdheXMgY2FsY3VsYXRlZCB0aGUgc2FtZSB3YXksIGJ1dCB0aGVcbiAgICAgIC8vIGhlaWdodCBhbmQgdmVydGljYWwgcG9zaXRpb24gZGVwZW5kcyBvbiB0aGUgcm93TW9kZS5cbiAgICAgIHZhciBzdHlsZSA9IHtcbiAgICAgICAgbGVmdDogUE9TSVRJT04oeyB1bml0OiBoVW5pdCwgb2Zmc2V0OiBwb3NpdGlvbi5jb2wsIGd1dHRlcjogZ3V0dGVyIH0pLFxuICAgICAgICB3aWR0aDogRElNRU5TSU9OKHsgdW5pdDogaFVuaXQsIHNwYW46IHNwYW5zLmNvbCwgZ3V0dGVyOiBndXR0ZXIgfSksXG4gICAgICAgIC8vIHJlc2V0c1xuICAgICAgICBwYWRkaW5nVG9wOiAnJyxcbiAgICAgICAgbWFyZ2luVG9wOiAnJyxcbiAgICAgICAgdG9wOiAnJyxcbiAgICAgICAgaGVpZ2h0OiAnJ1xuICAgICAgfTtcblxuICAgICAgc3dpdGNoIChyb3dNb2RlKSB7XG4gICAgICAgIGNhc2UgJ2ZpeGVkJzpcbiAgICAgICAgICAvLyBJbiBmaXhlZCBtb2RlLCBzaW1wbHkgdXNlIHRoZSBnaXZlbiByb3dIZWlnaHQuXG4gICAgICAgICAgc3R5bGUudG9wID0gUE9TSVRJT04oeyB1bml0OiByb3dIZWlnaHQsIG9mZnNldDogcG9zaXRpb24ucm93LCBndXR0ZXI6IGd1dHRlciB9KTtcbiAgICAgICAgICBzdHlsZS5oZWlnaHQgPSBESU1FTlNJT04oeyB1bml0OiByb3dIZWlnaHQsIHNwYW46IHNwYW5zLnJvdywgZ3V0dGVyOiBndXR0ZXIgfSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncmF0aW8nOlxuICAgICAgICAgIC8vIFBlcmNlbnQgb2YgdGhlIGF2YWlsYWJsZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IG9uZSByb3cgdGFrZXMgdXAuIEhlcmUsIHJvd0hlaWdodCBob2xkc1xuICAgICAgICAgIC8vIHRoZSByYXRpbyB2YWx1ZS4gRm9yIGV4YW1wbGUsIGlmIHRoZSB3aWR0aDpoZWlnaHQgcmF0aW8gaXMgNDozLCByb3dIZWlnaHQgPSAxLjMzMy5cbiAgICAgICAgICB2YXIgdlNoYXJlID0gaFNoYXJlIC8gcm93SGVpZ2h0O1xuXG4gICAgICAgICAgLy8gQmFzZSB2ZXJpdGNhbCBzaXplIG9mIGEgcm93LlxuICAgICAgICAgIHZhciB2VW5pdCA9IFVOSVQoeyBzaGFyZTogdlNoYXJlLCBndXR0ZXJTaGFyZTogaEd1dHRlclNoYXJlLCBndXR0ZXI6IGd1dHRlciB9KTtcblxuICAgICAgICAgIC8vIHBhZGlkbmdUb3AgYW5kIG1hcmdpblRvcCBhcmUgdXNlZCB0byBtYWludGFpbiB0aGUgZ2l2ZW4gYXNwZWN0IHJhdGlvLCBhc1xuICAgICAgICAgIC8vIGEgcGVyY2VudGFnZS1iYXNlZCB2YWx1ZSBmb3IgdGhlc2UgcHJvcGVydGllcyBpcyBhcHBsaWVkIHRvIHRoZSAqd2lkdGgqIG9mIHRoZVxuICAgICAgICAgIC8vIGNvbnRhaW5pbmcgYmxvY2suIFNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyL2JveC5odG1sI21hcmdpbi1wcm9wZXJ0aWVzXG4gICAgICAgICAgc3R5bGUucGFkZGluZ1RvcCA9IERJTUVOU0lPTih7IHVuaXQ6IHZVbml0LCBzcGFuOiBzcGFucy5yb3csIGd1dHRlcjogZ3V0dGVyfSk7XG4gICAgICAgICAgc3R5bGUubWFyZ2luVG9wID0gUE9TSVRJT04oeyB1bml0OiB2VW5pdCwgb2Zmc2V0OiBwb3NpdGlvbi5yb3csIGd1dHRlcjogZ3V0dGVyIH0pO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2ZpdCc6XG4gICAgICAgICAgLy8gRnJhY3Rpb24gb2YgdGhlIGd1dHRlciBzaXplIHRoYXQgZWFjaCBjb2x1bW4gdGFrZXMgdXAuXG4gICAgICAgICAgdmFyIHZHdXR0ZXJTaGFyZSA9IChyb3dDb3VudCAtIDEpIC8gcm93Q291bnQ7XG5cbiAgICAgICAgICAvLyBQZXJjZW50IG9mIHRoZSBhdmFpbGFibGUgdmVydGljYWwgc3BhY2UgdGhhdCBvbmUgcm93IHRha2VzIHVwLlxuICAgICAgICAgIHZhciB2U2hhcmUgPSAoMSAvIHJvd0NvdW50KSAqIDEwMDtcblxuICAgICAgICAgIC8vIEJhc2UgdmVydGljYWwgc2l6ZSBvZiBhIHJvdy5cbiAgICAgICAgICB2YXIgdlVuaXQgPSBVTklUKHtzaGFyZTogdlNoYXJlLCBndXR0ZXJTaGFyZTogdkd1dHRlclNoYXJlLCBndXR0ZXI6IGd1dHRlcn0pO1xuXG4gICAgICAgICAgc3R5bGUudG9wID0gUE9TSVRJT04oe3VuaXQ6IHZVbml0LCBvZmZzZXQ6IHBvc2l0aW9uLnJvdywgZ3V0dGVyOiBndXR0ZXJ9KTtcbiAgICAgICAgICBzdHlsZS5oZWlnaHQgPSBESU1FTlNJT04oe3VuaXQ6IHZVbml0LCBzcGFuOiBzcGFucy5yb3csIGd1dHRlcjogZ3V0dGVyfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRHcmlkU3R5bGUoY29sQ291bnQsIHJvd0NvdW50LCBndXR0ZXIsIHJvd01vZGUsIHJvd0hlaWdodCkge1xuICAgICAgdmFyIHN0eWxlID0ge1xuICAgICAgICBoZWlnaHQ6ICcnLFxuICAgICAgICBwYWRkaW5nQm90dG9tOiAnJ1xuICAgICAgfTtcblxuICAgICAgc3dpdGNoKHJvd01vZGUpIHtcbiAgICAgICAgY2FzZSAnZml4ZWQnOlxuICAgICAgICAgIHN0eWxlLmhlaWdodCA9IERJTUVOU0lPTih7IHVuaXQ6IHJvd0hlaWdodCwgc3Bhbjogcm93Q291bnQsIGd1dHRlcjogZ3V0dGVyIH0pO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3JhdGlvJzpcbiAgICAgICAgICAvLyByb3dIZWlnaHQgaXMgd2lkdGggLyBoZWlnaHRcbiAgICAgICAgICB2YXIgaEd1dHRlclNoYXJlID0gY29sQ291bnQgPT09IDEgPyAwIDogKGNvbENvdW50IC0gMSkgLyBjb2xDb3VudCxcbiAgICAgICAgICAgICAgaFNoYXJlID0gKDEgLyBjb2xDb3VudCkgKiAxMDAsXG4gICAgICAgICAgICAgIHZTaGFyZSA9IGhTaGFyZSAqICgxIC8gcm93SGVpZ2h0KSxcbiAgICAgICAgICAgICAgdlVuaXQgPSBVTklUKHsgc2hhcmU6IHZTaGFyZSwgZ3V0dGVyU2hhcmU6IGhHdXR0ZXJTaGFyZSwgZ3V0dGVyOiBndXR0ZXIgfSk7XG5cbiAgICAgICAgICBzdHlsZS5wYWRkaW5nQm90dG9tID0gRElNRU5TSU9OKHsgdW5pdDogdlVuaXQsIHNwYW46IHJvd0NvdW50LCBndXR0ZXI6IGd1dHRlcn0pO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2ZpdCc6XG4gICAgICAgICAgLy8gbm9vcCwgYXMgdGhlIGhlaWdodCBpcyB1c2VyIHNldFxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3R5bGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VGlsZUVsZW1lbnRzKCkge1xuICAgICAgcmV0dXJuIFtdLmZpbHRlci5jYWxsKGVsZW1lbnQuY2hpbGRyZW4oKSwgZnVuY3Rpb24oZWxlKSB7XG4gICAgICAgIHJldHVybiBlbGUudGFnTmFtZSA9PSAnTUQtR1JJRC1USUxFJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYW4gYXJyYXkgb2Ygb2JqZWN0cyBjb250YWluaW5nIHRoZSByb3dzcGFuIGFuZCBjb2xzcGFuIGZvciBlYWNoIHRpbGUuXG4gICAgICogQHJldHVybnMge0FycmF5PHtyb3c6IG51bWJlciwgY29sOiBudW1iZXJ9Pn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRUaWxlU3BhbnModGlsZUVsZW1lbnRzKSB7XG4gICAgICByZXR1cm4gW10ubWFwLmNhbGwodGlsZUVsZW1lbnRzLCBmdW5jdGlvbihlbGUpIHtcbiAgICAgICAgdmFyIGN0cmwgPSBhbmd1bGFyLmVsZW1lbnQoZWxlKS5jb250cm9sbGVyKCdtZEdyaWRUaWxlJyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcm93OiBwYXJzZUludChcbiAgICAgICAgICAgICAgJG1kTWVkaWEuZ2V0UmVzcG9uc2l2ZUF0dHJpYnV0ZShjdHJsLiRhdHRycywgJ21kLXJvd3NwYW4nKSwgMTApIHx8IDEsXG4gICAgICAgICAgY29sOiBwYXJzZUludChcbiAgICAgICAgICAgICAgJG1kTWVkaWEuZ2V0UmVzcG9uc2l2ZUF0dHJpYnV0ZShjdHJsLiRhdHRycywgJ21kLWNvbHNwYW4nKSwgMTApIHx8IDFcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldENvbHVtbkNvdW50KCkge1xuICAgICAgdmFyIGNvbENvdW50ID0gcGFyc2VJbnQoJG1kTWVkaWEuZ2V0UmVzcG9uc2l2ZUF0dHJpYnV0ZShhdHRycywgJ21kLWNvbHMnKSwgMTApO1xuICAgICAgaWYgKGlzTmFOKGNvbENvdW50KSkge1xuICAgICAgICB0aHJvdyAnbWQtZ3JpZC1saXN0OiBtZC1jb2xzIGF0dHJpYnV0ZSB3YXMgbm90IGZvdW5kLCBvciBjb250YWluZWQgYSBub24tbnVtZXJpYyB2YWx1ZSc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29sQ291bnQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0R3V0dGVyKCkge1xuICAgICAgcmV0dXJuIGFwcGx5RGVmYXVsdFVuaXQoJG1kTWVkaWEuZ2V0UmVzcG9uc2l2ZUF0dHJpYnV0ZShhdHRycywgJ21kLWd1dHRlcicpIHx8IDEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFJvd0hlaWdodCgpIHtcbiAgICAgIHZhciByb3dIZWlnaHQgPSAkbWRNZWRpYS5nZXRSZXNwb25zaXZlQXR0cmlidXRlKGF0dHJzLCAnbWQtcm93LWhlaWdodCcpO1xuICAgICAgc3dpdGNoIChnZXRSb3dNb2RlKCkpIHtcbiAgICAgICAgY2FzZSAnZml4ZWQnOlxuICAgICAgICAgIHJldHVybiBhcHBseURlZmF1bHRVbml0KHJvd0hlaWdodCk7XG4gICAgICAgIGNhc2UgJ3JhdGlvJzpcbiAgICAgICAgICB2YXIgd2hSYXRpbyA9IHJvd0hlaWdodC5zcGxpdCgnOicpO1xuICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHdoUmF0aW9bMF0pIC8gcGFyc2VGbG9hdCh3aFJhdGlvWzFdKTtcbiAgICAgICAgY2FzZSAnZml0JzpcbiAgICAgICAgICByZXR1cm4gMDsgLy8gTi9BXG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Um93TW9kZSgpIHtcbiAgICAgIHZhciByb3dIZWlnaHQgPSAkbWRNZWRpYS5nZXRSZXNwb25zaXZlQXR0cmlidXRlKGF0dHJzLCAnbWQtcm93LWhlaWdodCcpO1xuICAgICAgaWYgKHJvd0hlaWdodCA9PSAnZml0Jykge1xuICAgICAgICByZXR1cm4gJ2ZpdCc7XG4gICAgICB9IGVsc2UgaWYgKHJvd0hlaWdodC5pbmRleE9mKCc6JykgIT09IC0xKSB7XG4gICAgICAgIHJldHVybiAncmF0aW8nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICdmaXhlZCc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXBwbHlEZWZhdWx0VW5pdCh2YWwpIHtcbiAgICAgIHJldHVybiAvXFxEJC8udGVzdCh2YWwpID8gdmFsIDogdmFsICsgJ3B4JztcbiAgICB9XG4gIH1cbn1cbkdyaWRMaXN0RGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkaW50ZXJwb2xhdGVcIiwgXCIkbWRDb25zdGFudFwiLCBcIiRtZEdyaWRMYXlvdXRcIiwgXCIkbWRNZWRpYVwiXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBHcmlkTGlzdENvbnRyb2xsZXIoJHRpbWVvdXQpIHtcbiAgdGhpcy5sYXlvdXRJbnZhbGlkYXRlZCA9IGZhbHNlO1xuICB0aGlzLnRpbGVzSW52YWxpZGF0ZWQgPSBmYWxzZTtcbiAgdGhpcy4kdGltZW91dF8gPSAkdGltZW91dDtcbiAgdGhpcy5sYXlvdXREZWxlZ2F0ZSA9IGFuZ3VsYXIubm9vcDtcbn1cbkdyaWRMaXN0Q29udHJvbGxlci4kaW5qZWN0ID0gW1wiJHRpbWVvdXRcIl07XG5cbkdyaWRMaXN0Q29udHJvbGxlci5wcm90b3R5cGUgPSB7XG4gIGludmFsaWRhdGVUaWxlczogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy50aWxlc0ludmFsaWRhdGVkID0gdHJ1ZTtcbiAgICB0aGlzLmludmFsaWRhdGVMYXlvdXQoKTtcbiAgfSxcblxuICBpbnZhbGlkYXRlTGF5b3V0OiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5sYXlvdXRJbnZhbGlkYXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmxheW91dEludmFsaWRhdGVkID0gdHJ1ZTtcbiAgICB0aGlzLiR0aW1lb3V0Xyhhbmd1bGFyLmJpbmQodGhpcywgdGhpcy5sYXlvdXQpKTtcbiAgfSxcblxuICBsYXlvdXQ6IGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmxheW91dERlbGVnYXRlKHRoaXMudGlsZXNJbnZhbGlkYXRlZCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMubGF5b3V0SW52YWxpZGF0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMudGlsZXNJbnZhbGlkYXRlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIEdyaWRMYXlvdXRGYWN0b3J5KCRtZFV0aWwpIHtcbiAgdmFyIGRlZmF1bHRBbmltYXRvciA9IEdyaWRUaWxlQW5pbWF0b3I7XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgcmVmbG93IGFuaW1hdG9yIGNhbGxiYWNrXG4gICAqL1xuICBHcmlkTGF5b3V0LmFuaW1hdGVXaXRoID0gZnVuY3Rpb24oY3VzdG9tQW5pbWF0b3IpIHtcbiAgICBkZWZhdWx0QW5pbWF0b3IgPSAhYW5ndWxhci5pc0Z1bmN0aW9uKGN1c3RvbUFuaW1hdG9yKSA/IEdyaWRUaWxlQW5pbWF0b3IgOiBjdXN0b21BbmltYXRvcjtcbiAgfTtcblxuICByZXR1cm4gR3JpZExheW91dDtcblxuICAvKipcbiAgICogUHVibGlzaCBsYXlvdXQgZnVuY3Rpb25cbiAgICovXG4gIGZ1bmN0aW9uIEdyaWRMYXlvdXQoY29sQ291bnQsIHRpbGVTcGFucykge1xuICAgICAgdmFyIHNlbGYsIGxheW91dEluZm8sIGdyaWRTdHlsZXMsIGxheW91dFRpbWUsIG1hcFRpbWUsIHJlZmxvd1RpbWU7XG5cbiAgICAgIGxheW91dFRpbWUgPSAkbWRVdGlsLnRpbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgIGxheW91dEluZm8gPSBjYWxjdWxhdGVHcmlkRm9yKGNvbENvdW50LCB0aWxlU3BhbnMpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBzZWxmID0ge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBvYmplY3RzIGRlc2NyaWJpbmcgZWFjaCB0aWxlJ3MgcG9zaXRpb24gaW4gdGhlIGdyaWQuXG4gICAgICAgICAqL1xuICAgICAgICBsYXlvdXRJbmZvOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gbGF5b3V0SW5mbztcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFwcyBncmlkIHBvc2l0aW9uaW5nIHRvIGFuIGVsZW1lbnQgYW5kIGEgc2V0IG9mIHN0eWxlcyB1c2luZyB0aGVcbiAgICAgICAgICogcHJvdmlkZWQgdXBkYXRlRm4uXG4gICAgICAgICAqL1xuICAgICAgICBtYXA6IGZ1bmN0aW9uKHVwZGF0ZUZuKSB7XG4gICAgICAgICAgbWFwVGltZSA9ICRtZFV0aWwudGltZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpbmZvID0gc2VsZi5sYXlvdXRJbmZvKCk7XG4gICAgICAgICAgICBncmlkU3R5bGVzID0gdXBkYXRlRm4oaW5mby5wb3NpdGlvbmluZywgaW5mby5yb3dDb3VudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgYW5pbWF0b3Igc2ltcGx5IHNldHMgdGhlIGVsZW1lbnQuY3NzKCA8c3R5bGVzPiApLiBBbiBhbHRlcm5hdGVcbiAgICAgICAgICogYW5pbWF0b3IgY2FuIGJlIHByb3ZpZGVkIGFzIGFuIGFyZ3VtZW50LiBUaGUgZnVuY3Rpb24gaGFzIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgICogc2lnbmF0dXJlOlxuICAgICAgICAgKlxuICAgICAgICAgKiAgICBmdW5jdGlvbih7Z3JpZDoge2VsZW1lbnQ6IEpRTGl0ZSwgc3R5bGU6IE9iamVjdH0sIHRpbGVzOiBBcnJheTx7ZWxlbWVudDogSlFMaXRlLCBzdHlsZTogT2JqZWN0fT4pXG4gICAgICAgICAqL1xuICAgICAgICByZWZsb3c6IGZ1bmN0aW9uKGFuaW1hdG9yRm4pIHtcbiAgICAgICAgICByZWZsb3dUaW1lID0gJG1kVXRpbC50aW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGFuaW1hdG9yID0gYW5pbWF0b3JGbiB8fCBkZWZhdWx0QW5pbWF0b3I7XG4gICAgICAgICAgICBhbmltYXRvcihncmlkU3R5bGVzLmdyaWQsIGdyaWRTdHlsZXMudGlsZXMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaW1pbmcgZm9yIHRoZSBtb3N0IHJlY2VudCBsYXlvdXQgcnVuLlxuICAgICAgICAgKi9cbiAgICAgICAgcGVyZm9ybWFuY2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0aWxlQ291bnQ6IHRpbGVTcGFucy5sZW5ndGgsXG4gICAgICAgICAgICBsYXlvdXRUaW1lOiBsYXlvdXRUaW1lLFxuICAgICAgICAgICAgbWFwVGltZTogbWFwVGltZSxcbiAgICAgICAgICAgIHJlZmxvd1RpbWU6IHJlZmxvd1RpbWUsXG4gICAgICAgICAgICB0b3RhbFRpbWU6IGxheW91dFRpbWUgKyBtYXBUaW1lICsgcmVmbG93VGltZVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IEdyaWRsaXN0IGFuaW1hdG9yIHNpbXBsZSBzZXRzIHRoZSBjc3MgZm9yIGVhY2ggZWxlbWVudDtcbiAgICogTk9URTogYW55IHRyYW5zaXRpb25zIGVmZmVjdHMgbXVzdCBiZSBtYW51YWxseSBzZXQgaW4gdGhlIENTUy5cbiAgICogZS5nLlxuICAgKlxuICAgKiAgbWQtZ3JpZC10aWxlIHtcbiAgICogICAgdHJhbnNpdGlvbjogYWxsIDcwMG1zIGVhc2Utb3V0IDUwbXM7XG4gICAqICB9XG4gICAqXG4gICAqL1xuICBmdW5jdGlvbiBHcmlkVGlsZUFuaW1hdG9yKGdyaWQsIHRpbGVzKSB7XG4gICAgZ3JpZC5lbGVtZW50LmNzcyhncmlkLnN0eWxlKTtcbiAgICB0aWxlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpIHtcbiAgICAgIHQuZWxlbWVudC5jc3ModC5zdHlsZSk7XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBwb3NpdGlvbnMgb2YgdGlsZXMuXG4gICAqXG4gICAqIFRoZSBhbGdvcml0aG0gd29ya3MgYXMgZm9sbG93czpcbiAgICogICAgQW4gQXJyYXk8TnVtYmVyPiB3aXRoIGxlbmd0aCBjb2xDb3VudCAoc3BhY2VUcmFja2VyKSBrZWVwcyB0cmFjayBvZlxuICAgKiAgICBhdmFpbGFibGUgdGlsaW5nIHBvc2l0aW9ucywgd2hlcmUgZWxlbWVudHMgb2YgdmFsdWUgMCByZXByZXNlbnRzIGFuXG4gICAqICAgIGVtcHR5IHBvc2l0aW9uLiBTcGFjZSBmb3IgYSB0aWxlIGlzIHJlc2VydmVkIGJ5IGZpbmRpbmcgYSBzZXF1ZW5jZSBvZlxuICAgKiAgICAwcyB3aXRoIGxlbmd0aCA8PSB0aGFuIHRoZSB0aWxlJ3MgY29sc3Bhbi4gV2hlbiBzdWNoIGEgc3BhY2UgaGFzIGJlZW5cbiAgICogICAgZm91bmQsIHRoZSBvY2N1cGllZCB0aWxlIHBvc2l0aW9ucyBhcmUgaW5jcmVtZW50ZWQgYnkgdGhlIHRpbGUnc1xuICAgKiAgICByb3dzcGFuIHZhbHVlLCBhcyB0aGVzZSBwb3NpdGlvbnMgaGF2ZSBiZWNvbWUgdW5hdmFpbGFibGUgZm9yIHRoYXRcbiAgICogICAgbWFueSByb3dzLlxuICAgKlxuICAgKiAgICBJZiB0aGUgZW5kIG9mIGEgcm93IGhhcyBiZWVuIHJlYWNoZWQgd2l0aG91dCBmaW5kaW5nIHNwYWNlIGZvciB0aGVcbiAgICogICAgdGlsZSwgc3BhY2VUcmFja2VyJ3MgZWxlbWVudHMgYXJlIGVhY2ggZGVjcmVtZW50ZWQgYnkgMSB0byBhIG1pbmltdW1cbiAgICogICAgb2YgMC4gUm93cyBhcmUgc2VhcmNoZWQgaW4gdGhpcyBmYXNoaW9uIHVudGlsIHNwYWNlIGlzIGZvdW5kLlxuICAgKi9cbiAgZnVuY3Rpb24gY2FsY3VsYXRlR3JpZEZvcihjb2xDb3VudCwgdGlsZVNwYW5zKSB7XG4gICAgdmFyIGN1ckNvbCA9IDAsXG4gICAgICAgIGN1clJvdyA9IDAsXG4gICAgICAgIHNwYWNlVHJhY2tlciA9IG5ld1NwYWNlVHJhY2tlcigpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBvc2l0aW9uaW5nOiB0aWxlU3BhbnMubWFwKGZ1bmN0aW9uKHNwYW5zLCBpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3BhbnM6IHNwYW5zLFxuICAgICAgICAgIHBvc2l0aW9uOiByZXNlcnZlU3BhY2Uoc3BhbnMsIGkpXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIHJvd0NvdW50OiBjdXJSb3cgKyBNYXRoLm1heC5hcHBseShNYXRoLCBzcGFjZVRyYWNrZXIpXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHJlc2VydmVTcGFjZShzcGFucywgaSkge1xuICAgICAgaWYgKHNwYW5zLmNvbCA+IGNvbENvdW50KSB7XG4gICAgICAgIHRocm93ICdtZC1ncmlkLWxpc3Q6IFRpbGUgYXQgcG9zaXRpb24gJyArIGkgKyAnIGhhcyBhIGNvbHNwYW4gJyArXG4gICAgICAgICAgICAnKCcgKyBzcGFucy5jb2wgKyAnKSB0aGF0IGV4Y2VlZHMgdGhlIGNvbHVtbiBjb3VudCAnICtcbiAgICAgICAgICAgICcoJyArIGNvbENvdW50ICsgJyknO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RhcnQgPSAwLFxuICAgICAgICAgIGVuZCA9IDA7XG5cbiAgICAgIC8vIFRPRE8oc2h5bmRtYW4pOiBUaGlzIGxvb3AgaXNuJ3Qgc3RyaWN0bHkgbmVjZXNzYXJ5IGlmIHlvdSBjYW5cbiAgICAgIC8vIGRldGVybWluZSB0aGUgbWluaW11bSBudW1iZXIgb2Ygcm93cyBiZWZvcmUgYSBzcGFjZSBvcGVucyB1cC4gVG8gZG9cbiAgICAgIC8vIHRoaXMsIHJlY29nbml6ZSB0aGF0IHlvdSd2ZSBpdGVyYXRlZCBhY3Jvc3MgYW4gZW50aXJlIHJvdyBsb29raW5nIGZvclxuICAgICAgLy8gc3BhY2UsIGFuZCBpZiBzbyBmYXN0LWZvcndhcmQgYnkgdGhlIG1pbmltdW0gcm93U3BhbiBjb3VudC4gUmVwZWF0XG4gICAgICAvLyB1bnRpbCB0aGUgcmVxdWlyZWQgc3BhY2Ugb3BlbnMgdXAuXG4gICAgICB3aGlsZSAoZW5kIC0gc3RhcnQgPCBzcGFucy5jb2wpIHtcbiAgICAgICAgaWYgKGN1ckNvbCA+PSBjb2xDb3VudCkge1xuICAgICAgICAgIG5leHRSb3coKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXJ0ID0gc3BhY2VUcmFja2VyLmluZGV4T2YoMCwgY3VyQ29sKTtcbiAgICAgICAgaWYgKHN0YXJ0ID09PSAtMSB8fCAoZW5kID0gZmluZEVuZChzdGFydCArIDEpKSA9PT0gLTEpIHtcbiAgICAgICAgICBzdGFydCA9IGVuZCA9IDA7XG4gICAgICAgICAgbmV4dFJvdygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VyQ29sID0gZW5kICsgMTtcbiAgICAgIH1cblxuICAgICAgYWRqdXN0Um93KHN0YXJ0LCBzcGFucy5jb2wsIHNwYW5zLnJvdyk7XG4gICAgICBjdXJDb2wgPSBzdGFydCArIHNwYW5zLmNvbDtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29sOiBzdGFydCxcbiAgICAgICAgcm93OiBjdXJSb3dcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmV4dFJvdygpIHtcbiAgICAgIGN1ckNvbCA9IDA7XG4gICAgICBjdXJSb3crKztcbiAgICAgIGFkanVzdFJvdygwLCBjb2xDb3VudCwgLTEpOyAvLyBEZWNyZW1lbnQgcm93IHNwYW5zIGJ5IG9uZVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkanVzdFJvdyhmcm9tLCBjb2xzLCBieSkge1xuICAgICAgZm9yICh2YXIgaSA9IGZyb207IGkgPCBmcm9tICsgY29sczsgaSsrKSB7XG4gICAgICAgIHNwYWNlVHJhY2tlcltpXSA9IE1hdGgubWF4KHNwYWNlVHJhY2tlcltpXSArIGJ5LCAwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaW5kRW5kKHN0YXJ0KSB7XG4gICAgICB2YXIgaTtcbiAgICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgc3BhY2VUcmFja2VyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzcGFjZVRyYWNrZXJbaV0gIT09IDApIHtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaSA9PT0gc3BhY2VUcmFja2VyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBuZXdTcGFjZVRyYWNrZXIoKSB7XG4gICAgICB2YXIgdHJhY2tlciA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xDb3VudDsgaSsrKSB7XG4gICAgICAgIHRyYWNrZXIucHVzaCgwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cmFja2VyO1xuICAgIH1cbiAgfVxufVxuR3JpZExheW91dEZhY3RvcnkuJGluamVjdCA9IFtcIiRtZFV0aWxcIl07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRHcmlkVGlsZVxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmdyaWRMaXN0XG4gKiBAcmVzdHJpY3QgRVxuICogQGRlc2NyaXB0aW9uXG4gKiBUaWxlcyBjb250YWluIHRoZSBjb250ZW50IG9mIGFuIGBtZC1ncmlkLWxpc3RgLiBUaGV5IHNwYW4gb25lIG9yIG1vcmUgZ3JpZFxuICogY2VsbHMgdmVydGljYWxseSBvciBob3Jpem9udGFsbHksIGFuZCB1c2UgYG1kLWdyaWQtdGlsZS17Zm9vdGVyLGhlYWRlcn1gIHRvXG4gKiBkaXNwbGF5IHNlY29uZGFyeSBjb250ZW50LlxuICpcbiAqICMjIyBSZXNwb25zaXZlIEF0dHJpYnV0ZXNcbiAqXG4gKiBUaGUgYG1kLWdyaWQtdGlsZWAgZGlyZWN0aXZlIHN1cHBvcnRzIFwicmVzcG9uc2l2ZVwiIGF0dHJpYnV0ZXMsIHdoaWNoIGFsbG93XG4gKiBkaWZmZXJlbnQgYG1kLXJvd3NwYW5gIGFuZCBgbWQtY29sc3BhbmAgdmFsdWVzIGRlcGVuZGluZyBvbiB0aGUgY3VycmVudGx5XG4gKiBtYXRjaGluZyBtZWRpYSBxdWVyeSAoYXMgZGVmaW5lZCBpbiBgJG1kQ29uc3RhbnQuTUVESUFgKS5cbiAqXG4gKiBJbiBvcmRlciB0byBzZXQgYSByZXNwb25zaXZlIGF0dHJpYnV0ZSwgZmlyc3QgZGVmaW5lIHRoZSBmYWxsYmFjayB2YWx1ZSB3aXRoXG4gKiB0aGUgc3RhbmRhcmQgYXR0cmlidXRlIG5hbWUsIHRoZW4gYWRkIGFkZGl0aW9uYWwgYXR0cmlidXRlcyB3aXRoIHRoZVxuICogZm9sbG93aW5nIGNvbnZlbnRpb246IGB7YmFzZS1hdHRyaWJ1dGUtbmFtZX0te21lZGlhLXF1ZXJ5LW5hbWV9PVwie3ZhbHVlfVwiYFxuICogKGllLiBgbWQtY29sc3Bhbi1zbT1cIjRcImApXG4gKlxuICogQHBhcmFtIHtudW1iZXI9fSBtZC1jb2xzcGFuIFRoZSBudW1iZXIgb2YgY29sdW1ucyB0byBzcGFuIChkZWZhdWx0IDEpLiBDYW5ub3RcbiAqICAgIGV4Y2VlZCB0aGUgbnVtYmVyIG9mIGNvbHVtbnMgaW4gdGhlIGdyaWQuIFN1cHBvcnRzIGludGVycG9sYXRpb24uXG4gKiBAcGFyYW0ge251bWJlcj19IG1kLXJvd3NwYW4gVGhlIG51bWJlciBvZiByb3dzIHRvIHNwYW4gKGRlZmF1bHQgMSkuIFN1cHBvcnRzXG4gKiAgICAgaW50ZXJwb2xhdGlvbi5cbiAqXG4gKiBAdXNhZ2VcbiAqIFdpdGggaGVhZGVyOlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1ncmlkLXRpbGU+XG4gKiAgIDxtZC1ncmlkLXRpbGUtaGVhZGVyPlxuICogICAgIDxoMz5UaGlzIGlzIGEgaGVhZGVyPC9oMz5cbiAqICAgPC9tZC1ncmlkLXRpbGUtaGVhZGVyPlxuICogPC9tZC1ncmlkLXRpbGU+XG4gKiA8L2hsanM+XG4gKlxuICogV2l0aCBmb290ZXI6XG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWdyaWQtdGlsZT5cbiAqICAgPG1kLWdyaWQtdGlsZS1mb290ZXI+XG4gKiAgICAgPGgzPlRoaXMgaXMgYSBmb290ZXI8L2gzPlxuICogICA8L21kLWdyaWQtdGlsZS1mb290ZXI+XG4gKiA8L21kLWdyaWQtdGlsZT5cbiAqIDwvaGxqcz5cbiAqXG4gKiBTcGFubmluZyBtdWx0aXBsZSByb3dzL2NvbHVtbnM6XG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWdyaWQtdGlsZSBtZC1jb2xzcGFuPVwiMlwiIG1kLXJvd3NwYW49XCIzXCI+XG4gKiA8L21kLWdyaWQtdGlsZT5cbiAqIDwvaGxqcz5cbiAqXG4gKiBSZXNwb25zaXZlIGF0dHJpYnV0ZXM6XG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWdyaWQtdGlsZSBtZC1jb2xzcGFuPVwiMVwiIG1kLWNvbHNwYW4tc209XCIzXCIgbWQtY29sc3Bhbi1tZD1cIjVcIj5cbiAqIDwvbWQtZ3JpZC10aWxlPlxuICogPC9obGpzPlxuICovXG5mdW5jdGlvbiBHcmlkVGlsZURpcmVjdGl2ZSgkbWRNZWRpYSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVxdWlyZTogJ15tZEdyaWRMaXN0JyxcbiAgICB0ZW1wbGF0ZTogJzxmaWd1cmUgbmctdHJhbnNjbHVkZT48L2ZpZ3VyZT4nLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgc2NvcGU6IHt9LFxuICAgIC8vIFNpbXBsZSBjb250cm9sbGVyIHRoYXQgZXhwb3NlcyBhdHRyaWJ1dGVzIHRvIHRoZSBncmlkIGRpcmVjdGl2ZVxuICAgIGNvbnRyb2xsZXI6IFtcIiRhdHRyc1wiLCBmdW5jdGlvbigkYXR0cnMpIHtcbiAgICAgIHRoaXMuJGF0dHJzID0gJGF0dHJzO1xuICAgIH1dLFxuICAgIGxpbms6IHBvc3RMaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBncmlkQ3RybCkge1xuICAgIC8vIEFwcGx5IHNlbWFudGljc1xuICAgIGVsZW1lbnQuYXR0cigncm9sZScsICdsaXN0aXRlbScpO1xuXG4gICAgLy8gSWYgb3VyIGNvbHNwYW4gb3Igcm93c3BhbiBjaGFuZ2VzLCB0cmlnZ2VyIGEgbGF5b3V0XG4gICAgdmFyIHVud2F0Y2hBdHRycyA9ICRtZE1lZGlhLndhdGNoUmVzcG9uc2l2ZUF0dHJpYnV0ZXMoWydtZC1jb2xzcGFuJywgJ21kLXJvd3NwYW4nXSxcbiAgICAgICAgYXR0cnMsIGFuZ3VsYXIuYmluZChncmlkQ3RybCwgZ3JpZEN0cmwuaW52YWxpZGF0ZUxheW91dCkpO1xuXG4gICAgLy8gVGlsZSByZWdpc3RyYXRpb24vZGVyZWdpc3RyYXRpb25cbiAgICBncmlkQ3RybC5pbnZhbGlkYXRlVGlsZXMoKTtcbiAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICB1bndhdGNoQXR0cnMoKTtcbiAgICAgIGdyaWRDdHJsLmludmFsaWRhdGVMYXlvdXQoKTtcbiAgICB9KTtcblxuICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChzY29wZS4kcGFyZW50LiRpbmRleCkpIHtcbiAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHsgcmV0dXJuIHNjb3BlLiRwYXJlbnQuJGluZGV4OyB9LFxuICAgICAgICBmdW5jdGlvbiBpbmRleENoYW5nZWQobmV3SWR4LCBvbGRJZHgpIHtcbiAgICAgICAgICBpZiAobmV3SWR4ID09PSBvbGRJZHgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZ3JpZEN0cmwuaW52YWxpZGF0ZVRpbGVzKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuR3JpZFRpbGVEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZE1lZGlhXCJdO1xuXG5cbmZ1bmN0aW9uIEdyaWRUaWxlQ2FwdGlvbkRpcmVjdGl2ZSgpIHtcbiAgcmV0dXJuIHtcbiAgICB0ZW1wbGF0ZTogJzxmaWdjYXB0aW9uIG5nLXRyYW5zY2x1ZGU+PC9maWdjYXB0aW9uPicsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZVxuICB9O1xufVxuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuZmFiVHJpZ2dlcicsIFsgJ21hdGVyaWFsLmNvcmUnIF0pXG4gICAgLmRpcmVjdGl2ZSgnbWRGYWJUcmlnZ2VyJywgTWRGYWJUcmlnZ2VyRGlyZWN0aXZlKTtcblxuICAvKipcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxuICAgKiBAbmFtZSBtZEZhYlRyaWdnZXJcbiAgICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmZhYlNwZWVkRGlhbFxuICAgKlxuICAgKiBAcmVzdHJpY3QgRVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhlIGA8bWQtZmFiLXRyaWdnZXI+YCBkaXJlY3RpdmUgaXMgdXNlZCBpbnNpZGUgb2YgYSBgPG1kLWZhYi1zcGVlZC1kaWFsPmAgb3JcbiAgICogYDxtZC1mYWItdG9vbGJhcj5gIGRpcmVjdGl2ZSB0byBtYXJrIHRoZSBhbiBlbGVtZW50IChvciBlbGVtZW50cykgYXMgdGhlIHRyaWdnZXIgYW5kIHNldHVwIHRoZVxuICAgKiBwcm9wZXIgZXZlbnQgbGlzdGVuZXJzLlxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogU2VlIHRoZSBgPG1kLWZhYi1zcGVlZC1kaWFsPmAgb3IgYDxtZC1mYWItdG9vbGJhcj5gIGRpcmVjdGl2ZXMgZm9yIGV4YW1wbGUgdXNhZ2UuXG4gICAqL1xuICBmdW5jdGlvbiBNZEZhYlRyaWdnZXJEaXJlY3RpdmUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRScsXG5cbiAgICAgIHJlcXVpcmU6IFsnXj9tZEZhYlNwZWVkRGlhbCcsICdeP21kRmFiVG9vbGJhciddLFxuXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cmlidXRlcywgY29udHJvbGxlcnMpIHtcbiAgICAgICAgLy8gR3JhYiB3aGljaGV2ZXIgcGFyZW50IGNvbnRyb2xsZXIgaXMgdXNlZFxuICAgICAgICB2YXIgY29udHJvbGxlciA9IGNvbnRyb2xsZXJzWzBdIHx8IGNvbnRyb2xsZXJzWzFdO1xuXG4gICAgICAgIC8vIE1ha2UgdGhlIGNoaWxkcmVuIG9wZW4vY2xvc2UgdGhlaXIgcGFyZW50IGRpcmVjdGl2ZVxuICAgICAgICBpZiAoY29udHJvbGxlcikge1xuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChlbGVtZW50LmNoaWxkcmVuKCksIGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoY2hpbGQpLm9uKCdmb2N1cycsIGNvbnRyb2xsZXIub3Blbik7XG4gICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoY2hpbGQpLm9uKCdibHVyJywgY29udHJvbGxlci5jbG9zZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pKCk7XG5cblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5pY29uXG4gKiBAZGVzY3JpcHRpb25cbiAqIEljb25cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuaWNvbicsIFtcbiAgICAnbWF0ZXJpYWwuY29yZSdcbiAgXSlcbiAgLmRpcmVjdGl2ZSgnbWRJY29uJywgbWRJY29uRGlyZWN0aXZlKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZEljb25cbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5pY29uXG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgPG1kLWljb24+YCBkaXJlY3RpdmUgaXMgYW4gbWFya3VwIGVsZW1lbnQgdXNlZnVsIGZvciBzaG93aW5nIGFuIGljb24gYmFzZWQgb24gYSBmb250LWljb25cbiAqIG9yIGEgU1ZHLiBJY29ucyBhcmUgdmlldy1vbmx5IGVsZW1lbnRzIHRoYXQgc2hvdWxkIG5vdCBiZSB1c2VkIGRpcmVjdGx5IGFzIGJ1dHRvbnM7IGluc3RlYWQgbmVzdCBhIGA8bWQtaWNvbj5gXG4gKiBpbnNpZGUgYSBgbWQtYnV0dG9uYCB0byBhZGQgaG92ZXIgYW5kIGNsaWNrIGZlYXR1cmVzLlxuICpcbiAqIFdoZW4gdXNpbmcgU1ZHcywgYm90aCBleHRlcm5hbCBTVkdzICh2aWEgVVJMcykgb3Igc2V0cyBvZiBTVkdzIFtmcm9tIGljb24gc2V0c10gY2FuIGJlXG4gKiBlYXNpbHkgbG9hZGVkIGFuZCB1c2VkLldoZW4gdXNlIGZvbnQtaWNvbnMsIGRldmVsb3BlcnMgbXVzdCBmb2xsb3dpbmcgdGhyZWUgKDMpIHNpbXBsZSBzdGVwczpcbiAqXG4gKiA8b2w+XG4gKiA8bGk+TG9hZCB0aGUgZm9udCBsaWJyYXJ5LiBlLmcuPGJyLz5cbiAqICAgICZsdDtsaW5rIGhyZWY9XCJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2ljb24/ZmFtaWx5PU1hdGVyaWFsK0ljb25zXCJcbiAqICAgIHJlbD1cInN0eWxlc2hlZXRcIiZndDtcbiAqIDwvbGk+XG4gKiA8bGk+IFVzZSBlaXRoZXIgKGEpIGZvbnQtaWNvbiBjbGFzcyBuYW1lcyBvciAoYikgZm9udCBsaWdhdHVyZXMgdG8gcmVuZGVyIHRoZSBmb250IGdseXBoIGJ5IHVzaW5nIGl0cyB0ZXh0dWFsIG5hbWU8L2xpPlxuICogPGxpPiBVc2UgJmx0O21kLWljb24gbWQtZm9udC1pY29uPVwiY2xhc3NuYW1lXCIgLyZndDsgb3IgPGJyLz5cbiAqICAgICB1c2UgJmx0O21kLWljb24gbWQtZm9udC1zZXQ9XCJmb250IGxpYnJhcnkgY2xhc3NuYW1lIG9yIGFsaWFzXCImZ3Q7IHRleHR1YWxfbmFtZSAmbHQ7L21kLWljb24mZ3Q7IG9yIDxici8+XG4gKiAgICAgdXNlICZsdDttZC1pY29uIG1kLWZvbnQtc2V0PVwiZm9udCBsaWJyYXJ5IGNsYXNzbmFtZSBvciBhbGlhc1wiJmd0OyBudW1lcmljYWxfY2hhcmFjdGVyX3JlZmVyZW5jZSAmbHQ7L21kLWljb24mZ3Q7XG4gKiA8L2xpPlxuICogPC9vbD5cbiAqXG4gKiBGdWxsIGRldGFpbHMgZm9yIHRoZXNlIHN0ZXBzIGNhbiBiZSBmb3VuZDpcbiAqXG4gKiA8dWw+XG4gKiA8bGk+aHR0cDovL2dvb2dsZS5naXRodWIuaW8vbWF0ZXJpYWwtZGVzaWduLWljb25zLzwvbGk+XG4gKiA8bGk+aHR0cDovL2dvb2dsZS5naXRodWIuaW8vbWF0ZXJpYWwtZGVzaWduLWljb25zLyNpY29uLWZvbnQtZm9yLXRoZS13ZWI8L2xpPlxuICogPC91bD5cbiAqXG4gKiBUaGUgTWF0ZXJpYWwgRGVzaWduIGljb24gc3R5bGUgPGNvZGU+Lm1hdGVyaWFsLWljb25zPC9jb2RlPiBhbmQgdGhlIGljb24gZm9udCByZWZlcmVuY2VzIGFyZSBwdWJsaXNoZWQgaW5cbiAqIE1hdGVyaWFsIERlc2lnbiBJY29uczpcbiAqXG4gKiA8dWw+XG4gKiA8bGk+aHR0cDovL3d3dy5nb29nbGUuY29tL2Rlc2lnbi9pY29ucy88L2xpPlxuICogPGxpPmh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vZGVzaWduL2ljb25zLyNpY19hY2Nlc3NpYmlsaXR5PC9saT5cbiAqIDwvdWw+XG4gKlxuICogPGgyIGlkPVwibWF0ZXJpYWxfZGVzaWduX2ljb25zXCI+TWF0ZXJpYWwgRGVzaWduIEljb25zPC9oMj5cbiAqIFVzaW5nIHRoZSBNYXRlcmlhbCBEZXNpZ24gSWNvbi1TZWxlY3RvciwgZGV2ZWxvcGVycyBjYW4gZWFzaWx5IGFuZCBxdWlja2x5IHNlYXJjaCBmb3IgYSBNYXRlcmlhbCBEZXNpZ24gZm9udC1pY29uIGFuZFxuICogZGV0ZXJtaW5lIGl0cyB0ZXh0dWFsIG5hbWUgYW5kIGNoYXJhY3RlciByZWZlcmVuY2UgY29kZS4gQ2xpY2sgb24gYW55IGljb24gdG8gc2VlIHRoZSBzbGlkZS11cCBpbmZvcm1hdGlvblxuICogcGFuZWwgd2l0aCBkZXRhaWxzIHJlZ2FyZGluZyBhIFNWRyBkb3dubG9hZCBvciBpbmZvcm1hdGlvbiBvbiB0aGUgZm9udC1pY29uIHVzYWdlLlxuICpcbiAqIDxhIGhyZWY9XCJodHRwczovL3d3dy5nb29nbGUuY29tL2Rlc2lnbi9pY29ucy8jaWNfYWNjZXNzaWJpbGl0eVwiIHRhcmdldD1cIl9ibGFua1wiIHN0eWxlPVwiYm9yZGVyLWJvdHRvbTpub25lO1wiPlxuICogPGltZyBzcmM9XCJodHRwczovL2Nsb3VkLmdpdGh1YnVzZXJjb250ZW50LmNvbS9hc3NldHMvMjEwNDEzLzc5MDI0OTAvZmU4ZGQxNGMtMDc4MC0xMWU1LTk4ZmItYzgyMWNjNjQ3NWU2LnBuZ1wiXG4gKiAgICAgIGFyaWEtbGFiZWw9XCJNYXRlcmlhbCBEZXNpZ24gSWNvbi1TZWxlY3RvclwiIHN0eWxlPVwibWF4LXdpZHRoOjc1JTtwYWRkaW5nLWxlZnQ6MTAlXCI+XG4gKiA8L2E+XG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbWFnZV9jYXB0aW9uXCI+XG4gKiAgQ2xpY2sgb24gdGhlIGltYWdlIGFib3ZlIHRvIGxpbmsgdG8gdGhlXG4gKiAgPGEgaHJlZj1cImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vZGVzaWduL2ljb25zLyNpY19hY2Nlc3NpYmlsaXR5XCIgdGFyZ2V0PVwiX2JsYW5rXCI+TWF0ZXJpYWwgRGVzaWduIEljb24tU2VsZWN0b3I8L2E+LlxuICogPC9zcGFuPlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZC1mb250LWljb24gTmFtZSBvZiBDU1MgaWNvbiBhc3NvY2lhdGVkIHdpdGggdGhlIGZvbnQtZmFjZSB3aWxsIGJlIHVzZWRcbiAqIHRvIHJlbmRlciB0aGUgaWNvbi4gUmVxdWlyZXMgdGhlIGZvbnRzIGFuZCB0aGUgbmFtZWQgQ1NTIHN0eWxlcyB0byBiZSBwcmVsb2FkZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gbWQtZm9udC1zZXQgQ1NTIHN0eWxlIG5hbWUgYXNzb2NpYXRlZCB3aXRoIHRoZSBmb250IGxpYnJhcnk7IHdoaWNoIHdpbGwgYmUgYXNzaWduZWQgYXNcbiAqIHRoZSBjbGFzcyBmb3IgdGhlIGZvbnQtaWNvbiBsaWdhdHVyZS4gVGhpcyB2YWx1ZSBtYXkgYWxzbyBiZSBhbiBhbGlhcyB0aGF0IGlzIHVzZWQgdG8gbG9va3VwIHRoZSBjbGFzc25hbWU7XG4gKiBpbnRlcm5hbGx5IHVzZSBgJG1kSWNvblByb3ZpZGVyLmZvbnRTZXQoPGFsaWFzPilgIHRvIGRldGVybWluZSB0aGUgc3R5bGUgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZC1zdmctc3JjIFVSTCBbb3IgZXhwcmVzc2lvbiBdIHVzZWQgdG8gbG9hZCwgY2FjaGUsIGFuZCBkaXNwbGF5IGFuIGV4dGVybmFsIFNWRy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZC1zdmctaWNvbiBOYW1lIHVzZWQgZm9yIGxvb2t1cCBvZiB0aGUgaWNvbiBmcm9tIHRoZSBpbnRlcm5hbCBjYWNoZTsgaW50ZXJwb2xhdGVkIHN0cmluZ3Mgb3JcbiAqIGV4cHJlc3Npb25zIG1heSBhbHNvIGJlIHVzZWQuIFNwZWNpZmljIHNldCBuYW1lcyBjYW4gYmUgdXNlZCB3aXRoIHRoZSBzeW50YXggYDxzZXQgbmFtZT46PGljb24gbmFtZT5gLjxici8+PGJyLz5cbiAqIFRvIHVzZSBpY29uIHNldHMsIGRldmVsb3BlcnMgYXJlIHJlcXVpcmVkIHRvIHByZS1yZWdpc3RlciB0aGUgc2V0cyB1c2luZyB0aGUgYCRtZEljb25Qcm92aWRlcmAgc2VydmljZS5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gYXJpYS1sYWJlbCBMYWJlbHMgaWNvbiBmb3IgYWNjZXNzaWJpbGl0eS4gSWYgYW4gZW1wdHkgc3RyaW5nIGlzIHByb3ZpZGVkLCBpY29uXG4gKiB3aWxsIGJlIGhpZGRlbiBmcm9tIGFjY2Vzc2liaWxpdHkgbGF5ZXIgd2l0aCBgYXJpYS1oaWRkZW49XCJ0cnVlXCJgLiBJZiB0aGVyZSdzIG5vIGFyaWEtbGFiZWwgb24gdGhlIGljb25cbiAqIG5vciBhIGxhYmVsIG9uIHRoZSBwYXJlbnQgZWxlbWVudCwgYSB3YXJuaW5nIHdpbGwgYmUgbG9nZ2VkIHRvIHRoZSBjb25zb2xlLlxuICpcbiAqIEB1c2FnZVxuICogV2hlbiB1c2luZyBTVkdzOlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqXG4gKiAgPCEtLSBJY29uIElEOyBtYXkgY29udGFpbiBvcHRpb25hbCBpY29uIHNldCBwcmVmaXg7IGljb25zIG11c3QgcmVnaXN0ZXJlZCB1c2luZyAkbWRJY29uUHJvdmlkZXIgLS0+XG4gKiAgPG1kLWljb24gbWQtc3ZnLWljb249XCJzb2NpYWw6YW5kcm9pZFwiICAgIGFyaWEtbGFiZWw9XCJhbmRyb2lkIFwiID48L21kLWljb24+XG4gKlxuICogIDwhLS0gSWNvbiB1cmxzOyBtYXkgYmUgcHJlbG9hZGVkIGluIHRlbXBsYXRlQ2FjaGUgLS0+XG4gKiAgPG1kLWljb24gbWQtc3ZnLXNyYz1cIi9hbmRyb2lkLnN2Z1wiICAgICAgIGFyaWEtbGFiZWw9XCJhbmRyb2lkIFwiID48L21kLWljb24+XG4gKiAgPG1kLWljb24gbWQtc3ZnLXNyYz1cInt7IGdldEFuZHJvaWQoKSB9fVwiIGFyaWEtbGFiZWw9XCJhbmRyb2lkIFwiID48L21kLWljb24+XG4gKlxuICogPC9obGpzPlxuICpcbiAqIFVzZSB0aGUgPGNvZGU+JG1kSWNvblByb3ZpZGVyPC9jb2RlPiB0byBjb25maWd1cmUgeW91ciBhcHBsaWNhdGlvbiB3aXRoXG4gKiBzdmcgaWNvbnNldHMuXG4gKlxuICogPGhsanMgbGFuZz1cImpzXCI+XG4gKiAgYW5ndWxhci5tb2R1bGUoJ2FwcFN2Z0ljb25TZXRzJywgWyduZ01hdGVyaWFsJ10pXG4gKiAgICAuY29udHJvbGxlcignRGVtb0N0cmwnLCBmdW5jdGlvbigkc2NvcGUpIHt9KVxuICogICAgLmNvbmZpZyhmdW5jdGlvbigkbWRJY29uUHJvdmlkZXIpIHtcbiAqICAgICAgJG1kSWNvblByb3ZpZGVyXG4gKiAgICAgICAgIC5pY29uU2V0KCdzb2NpYWwnLCAnaW1nL2ljb25zL3NldHMvc29jaWFsLWljb25zLnN2ZycsIDI0KVxuICogICAgICAgICAuZGVmYXVsdEljb25TZXQoJ2ltZy9pY29ucy9zZXRzL2NvcmUtaWNvbnMuc3ZnJywgMjQpO1xuICogICAgIH0pO1xuICogPC9obGpzPlxuICpcbiAqXG4gKiBXaGVuIHVzaW5nIEZvbnQgSWNvbnMgd2l0aCBjbGFzc25hbWVzOlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqXG4gKiAgPG1kLWljb24gbWQtZm9udC1pY29uPVwiYW5kcm9pZFwiIGFyaWEtbGFiZWw9XCJhbmRyb2lkXCIgPjwvbWQtaWNvbj5cbiAqICA8bWQtaWNvbiBjbGFzcz1cImljb25faG9tZVwiICAgICAgYXJpYS1sYWJlbD1cIkhvbWVcIiAgICA+PC9tZC1pY29uPlxuICpcbiAqIDwvaGxqcz5cbiAqXG4gKiBXaGVuIHVzaW5nIE1hdGVyaWFsIEZvbnQgSWNvbnMgd2l0aCBsaWdhdHVyZXM6XG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogIDwhLS0gRm9yIE1hdGVyaWFsIERlc2lnbiBJY29ucyAtLT5cbiAqICA8IS0tIFRoZSBjbGFzcyAnLm1hdGVyaWFsLWljb25zJyBpcyBhdXRvLWFkZGVkLiAtLT5cbiAqICA8bWQtaWNvbj4gZmFjZSA8L21kLWljb24+XG4gKiAgPG1kLWljb24gY2xhc3M9XCJtZC1saWdodCBtZC00OFwiPiBmYWNlIDwvbWQtaWNvbj5cbiAqICA8bWQtaWNvbiBtZC1mb250LXNldD1cIm1hdGVyaWFsLWljb25zXCI+IGZhY2UgPC9tZC1pY29uPlxuICogIDxtZC1pY29uPiAjeEU4N0M7IDwvbWQtaWNvbj5cbiAqIDwvaGxqcz5cbiAqXG4gKiBXaGVuIHVzaW5nIG90aGVyIEZvbnQtSWNvbiBsaWJyYXJpZXM6XG4gKlxuICogPGhsanMgbGFuZz1cImpzXCI+XG4gKiAgLy8gU3BlY2lmeSBhIGZvbnQtaWNvbiBzdHlsZSBhbGlhc1xuICogIGFuZ3VsYXIuY29uZmlnKGZ1bmN0aW9uKCRtZEljb25Qcm92aWRlcikge1xuICogICAgJG1kSWNvblByb3ZpZGVyLmZvbnRTZXQoJ2ZhJywgJ2ZvbnRhd2Vzb21lJyk7XG4gKiAgfSk7XG4gKiA8L2hsanM+XG4gKlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqICA8bWQtaWNvbiBtZC1mb250LXNldD1cImZhXCI+ZW1haWw8L21kLWljb24+XG4gKiA8L2hsanM+XG4gKlxuICovXG5mdW5jdGlvbiBtZEljb25EaXJlY3RpdmUoJG1kSWNvbiwgJG1kVGhlbWluZywgJG1kQXJpYSwgJGludGVycG9sYXRlICkge1xuXG4gIHJldHVybiB7XG4gICAgc2NvcGU6IHtcbiAgICAgIGZvbnRTZXQgOiAnQG1kRm9udFNldCcsXG4gICAgICBmb250SWNvbjogJ0BtZEZvbnRJY29uJyxcbiAgICAgIHN2Z0ljb24gOiAnQG1kU3ZnSWNvbicsXG4gICAgICBzdmdTcmMgIDogJ0BtZFN2Z1NyYydcbiAgICB9LFxuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgbGluayA6IHBvc3RMaW5rXG4gIH07XG5cblxuICAvKipcbiAgICogRGlyZWN0aXZlIHBvc3RMaW5rXG4gICAqIFN1cHBvcnRzIGVtYmVkZGVkIFNWR3MsIGZvbnQtaWNvbnMsICYgZXh0ZXJuYWwgU1ZHc1xuICAgKi9cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuXG4gICAgcHJlcGFyZUZvckZvbnRJY29uKCk7XG5cbiAgICAvLyBJZiB1c2luZyBhIGZvbnQtaWNvbiwgdGhlbiB0aGUgdGV4dHVhbCBuYW1lIG9mIHRoZSBpY29uIGl0c2VsZlxuICAgIC8vIHByb3ZpZGVzIHRoZSBhcmlhLWxhYmVsLlxuXG4gICAgdmFyIGxhYmVsID0gYXR0ci5hbHQgfHwgc2NvcGUuZm9udEljb24gfHwgc2NvcGUuc3ZnSWNvbiB8fCBlbGVtZW50LnRleHQoKTtcbiAgICB2YXIgYXR0ck5hbWUgPSBhdHRyLiRub3JtYWxpemUoYXR0ci4kYXR0ci5tZFN2Z0ljb24gfHwgYXR0ci4kYXR0ci5tZFN2Z1NyYyB8fCAnJyk7XG5cbiAgICBpZiAoICFhdHRyWydhcmlhLWxhYmVsJ10gKSB7XG5cbiAgICAgIGlmIChsYWJlbCAhPSAnJyAmJiAhcGFyZW50c0hhdmVUZXh0KCkgKSB7XG5cbiAgICAgICAgJG1kQXJpYS5leHBlY3QoZWxlbWVudCwgJ2FyaWEtbGFiZWwnLCBsYWJlbCk7XG4gICAgICAgICRtZEFyaWEuZXhwZWN0KGVsZW1lbnQsICdyb2xlJywgJ2ltZycpO1xuXG4gICAgICB9IGVsc2UgaWYgKCAhZWxlbWVudC50ZXh0KCkgKSB7XG4gICAgICAgIC8vIElmIG5vdCBhIGZvbnQtaWNvbiB3aXRoIGxpZ2F0dXJlLCB0aGVuXG4gICAgICAgIC8vIGhpZGUgZnJvbSB0aGUgYWNjZXNzaWJpbGl0eSBsYXllci5cblxuICAgICAgICAkbWRBcmlhLmV4cGVjdChlbGVtZW50LCAnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChhdHRyTmFtZSkge1xuICAgICAgLy8gVXNlIGVpdGhlciBwcmUtY29uZmlndXJlZCBTVkcgb3IgVVJMIHNvdXJjZSwgcmVzcGVjdGl2ZWx5LlxuICAgICAgYXR0ci4kb2JzZXJ2ZShhdHRyTmFtZSwgZnVuY3Rpb24oYXR0clZhbCkge1xuXG4gICAgICAgIGVsZW1lbnQuZW1wdHkoKTtcbiAgICAgICAgaWYgKGF0dHJWYWwpIHtcbiAgICAgICAgICAkbWRJY29uKGF0dHJWYWwpLnRoZW4oZnVuY3Rpb24oc3ZnKSB7XG4gICAgICAgICAgICBlbGVtZW50LmFwcGVuZChzdmcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcmVudHNIYXZlVGV4dCgpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpO1xuICAgICAgaWYgKHBhcmVudC5hdHRyKCdhcmlhLWxhYmVsJykgfHwgcGFyZW50LnRleHQoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYocGFyZW50LnBhcmVudCgpLmF0dHIoJ2FyaWEtbGFiZWwnKSB8fCBwYXJlbnQucGFyZW50KCkudGV4dCgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByZXBhcmVGb3JGb250SWNvbiAoKSB7XG4gICAgICBpZiAoIXNjb3BlLnN2Z0ljb24gJiYgIXNjb3BlLnN2Z1NyYykge1xuICAgICAgICBpZiAoc2NvcGUuZm9udEljb24pIHtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdtZC1mb250Jyk7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhzY29wZS5mb250SWNvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcygkbWRJY29uLmZvbnRTZXQoc2NvcGUuZm9udFNldCkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9XG4gIH1cbn1cbm1kSWNvbkRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kSWNvblwiLCBcIiRtZFRoZW1pbmdcIiwgXCIkbWRBcmlhXCIsIFwiJGludGVycG9sYXRlXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5pY29uJyApXG4gICAgLnByb3ZpZGVyKCckbWRJY29uJywgTWRJY29uUHJvdmlkZXIpO1xuXG4gIC8qKlxuICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAqIEBuYW1lICRtZEljb25Qcm92aWRlclxuICAgICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmljb25cbiAgICAqXG4gICAgKiBAZGVzY3JpcHRpb25cbiAgICAqIGAkbWRJY29uUHJvdmlkZXJgIGlzIHVzZWQgb25seSB0byByZWdpc3RlciBpY29uIElEcyB3aXRoIFVSTHMuIFRoZXNlIGNvbmZpZ3VyYXRpb24gZmVhdHVyZXMgYWxsb3dcbiAgICAqIGljb25zIGFuZCBpY29uIHNldHMgdG8gYmUgcHJlLXJlZ2lzdGVyZWQgYW5kIGFzc29jaWF0ZWQgd2l0aCBzb3VyY2UgVVJMcyAqKmJlZm9yZSoqIHRoZSBgPG1kLWljb24gLz5gXG4gICAgKiBkaXJlY3RpdmVzIGFyZSBjb21waWxlZC5cbiAgICAqXG4gICAgKiBJZiB1c2luZyBmb250LWljb25zLCB0aGUgZGV2ZWxvcGVyIGlzIHJlcHNvbnNpYmxlIGZvciBsb2FkaW5nIHRoZSBmb250cy5cbiAgICAqXG4gICAgKiBJZiB1c2luZyBTVkdzLCBsb2FkaW5nIG9mIHRoZSBhY3R1YWwgc3ZnIGZpbGVzIGFyZSBkZWZlcnJlZCB0byBvbi1kZW1hbmQgcmVxdWVzdHMgYW5kIGFyZSBsb2FkZWRcbiAgICAqIGludGVybmFsbHkgYnkgdGhlIGAkbWRJY29uYCBzZXJ2aWNlIHVzaW5nIHRoZSBgJGh0dHBgIHNlcnZpY2UuIFdoZW4gYW4gU1ZHIGlzIHJlcXVlc3RlZCBieSBuYW1lL0lELFxuICAgICogdGhlIGAkbWRJY29uYCBzZXJ2aWNlIHNlYXJjaGVzIGl0cyByZWdpc3RyeSBmb3IgdGhlIGFzc29jaWF0ZWQgc291cmNlIFVSTDtcbiAgICAqIHRoYXQgVVJMIGlzIHVzZWQgdG8gb24tZGVtYW5kIGxvYWQgYW5kIHBhcnNlIHRoZSBTVkcgZHluYW1pY2FsbHkuXG4gICAgKlxuICAgICogQHVzYWdlXG4gICAgKiA8aGxqcyBsYW5nPVwianNcIj5cbiAgICAqICAgYXBwLmNvbmZpZyhmdW5jdGlvbigkbWRJY29uUHJvdmlkZXIpIHtcbiAgICAqXG4gICAgKiAgICAgLy8gQ29uZmlndXJlIFVSTHMgZm9yIGljb25zIHNwZWNpZmllZCBieSBbc2V0Ol1pZC5cbiAgICAqXG4gICAgKiAgICAgJG1kSWNvblByb3ZpZGVyXG4gICAgKiAgICAgICAgICAuZGVmYXVsdEZvbnRTZXQoICdmb250YXdlc29tZScgKVxuICAgICogICAgICAgICAgLmRlZmF1bHRJY29uU2V0KCdteS9hcHAvaWNvbnMuc3ZnJykgICAgICAgLy8gUmVnaXN0ZXIgYSBkZWZhdWx0IHNldCBvZiBTVkcgaWNvbnNcbiAgICAqICAgICAgICAgIC5pY29uU2V0KCdzb2NpYWwnLCAnbXkvYXBwL3NvY2lhbC5zdmcnKSAgIC8vIFJlZ2lzdGVyIGEgbmFtZWQgaWNvbiBzZXQgb2YgU1ZHc1xuICAgICogICAgICAgICAgLmljb24oJ2FuZHJvaWQnLCAnbXkvYXBwL2FuZHJvaWQuc3ZnJykgICAgLy8gUmVnaXN0ZXIgYSBzcGVjaWZpYyBpY29uIChieSBuYW1lKVxuICAgICogICAgICAgICAgLmljb24oJ3dvcms6Y2hhaXInLCAnbXkvYXBwL2NoYWlyLnN2ZycpOyAgLy8gUmVnaXN0ZXIgaWNvbiBpbiBhIHNwZWNpZmljIHNldFxuICAgICogICB9KTtcbiAgICAqIDwvaGxqcz5cbiAgICAqXG4gICAgKiBTVkcgaWNvbnMgYW5kIGljb24gc2V0cyBjYW4gYmUgZWFzaWx5IHByZS1sb2FkZWQgYW5kIGNhY2hlZCB1c2luZyBlaXRoZXIgKGEpIGEgYnVpbGQgcHJvY2VzcyBvciAoYikgYSBydW50aW1lXG4gICAgKiAqKnN0YXJ0dXAqKiBwcm9jZXNzIChzaG93biBiZWxvdyk6XG4gICAgKlxuICAgICogPGhsanMgbGFuZz1cImpzXCI+XG4gICAgKiAgIGFwcC5jb25maWcoZnVuY3Rpb24oJG1kSWNvblByb3ZpZGVyKSB7XG4gICAgKlxuICAgICogICAgIC8vIFJlZ2lzdGVyIGEgZGVmYXVsdCBzZXQgb2YgU1ZHIGljb24gZGVmaW5pdGlvbnNcbiAgICAqICAgICAkbWRJY29uUHJvdmlkZXIuZGVmYXVsdEljb25TZXQoJ215L2FwcC9pY29ucy5zdmcnKVxuICAgICpcbiAgICAqICAgfSlcbiAgICAqICAgLnJ1bihmdW5jdGlvbigkaHR0cCwgJHRlbXBsYXRlQ2FjaGUpe1xuICAgICpcbiAgICAqICAgICAvLyBQcmUtZmV0Y2ggaWNvbnMgc291cmNlcyBieSBVUkwgYW5kIGNhY2hlIGluIHRoZSAkdGVtcGxhdGVDYWNoZS4uLlxuICAgICogICAgIC8vIHN1YnNlcXVlbnQgJGh0dHAgY2FsbHMgd2lsbCBsb29rIHRoZXJlIGZpcnN0LlxuICAgICpcbiAgICAqICAgICB2YXIgdXJscyA9IFsgJ2lteS9hcHAvaWNvbnMuc3ZnJywgJ2ltZy9pY29ucy9hbmRyb2lkLnN2ZyddO1xuICAgICpcbiAgICAqICAgICBhbmd1bGFyLmZvckVhY2godXJscywgZnVuY3Rpb24odXJsKSB7XG4gICAgKiAgICAgICAkaHR0cC5nZXQodXJsLCB7Y2FjaGU6ICR0ZW1wbGF0ZUNhY2hlfSk7XG4gICAgKiAgICAgfSk7XG4gICAgKlxuICAgICogICB9KTtcbiAgICAqXG4gICAgKiA8L2hsanM+XG4gICAgKlxuICAgICogTk9URTogdGhlIGxvYWRlZCBTVkcgZGF0YSBpcyBzdWJzZXF1ZW50bHkgY2FjaGVkIGludGVybmFsbHkgZm9yIGZ1dHVyZSByZXF1ZXN0cy5cbiAgICAqXG4gICAgKi9cblxuICAgLyoqXG4gICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgKiBAbmFtZSAkbWRJY29uUHJvdmlkZXIjaWNvblxuICAgICpcbiAgICAqIEBkZXNjcmlwdGlvblxuICAgICogUmVnaXN0ZXIgYSBzb3VyY2UgVVJMIGZvciBhIHNwZWNpZmljIGljb24gbmFtZTsgdGhlIG5hbWUgbWF5IGluY2x1ZGUgb3B0aW9uYWwgJ2ljb24gc2V0JyBuYW1lIHByZWZpeC5cbiAgICAqIFRoZXNlIGljb25zICB3aWxsIGxhdGVyIGJlIHJldHJpZXZlZCBmcm9tIHRoZSBjYWNoZSB1c2luZyBgJG1kSWNvbiggPGljb24gbmFtZT4gKWBcbiAgICAqXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgSWNvbiBuYW1lL2lkIHVzZWQgdG8gcmVnaXN0ZXIgdGhlIGljb25cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgc3BlY2lmaWVzIHRoZSBleHRlcm5hbCBsb2NhdGlvbiBmb3IgdGhlIGRhdGEgZmlsZS4gVXNlZCBpbnRlcm5hbGx5IGJ5IGAkaHR0cGAgdG8gbG9hZCB0aGVcbiAgICAqIGRhdGEgb3IgYXMgcGFydCBvZiB0aGUgbG9va3VwIGluIGAkdGVtcGxhdGVDYWNoZWAgaWYgcHJlLWxvYWRpbmcgd2FzIGNvbmZpZ3VyZWQuXG4gICAgKiBAcGFyYW0ge251bWJlcj19IHZpZXdCb3hTaXplIFNldHMgdGhlIHdpZHRoIGFuZCBoZWlnaHQgdGhlIGljb24ncyB2aWV3Qm94LlxuICAgICogSXQgaXMgaWdub3JlZCBmb3IgaWNvbnMgd2l0aCBhbiBleGlzdGluZyB2aWV3Qm94LiBEZWZhdWx0IHNpemUgaXMgMjQuXG4gICAgKlxuICAgICogQHJldHVybnMge29ian0gYW4gYCRtZEljb25Qcm92aWRlcmAgcmVmZXJlbmNlOyB1c2VkIHRvIHN1cHBvcnQgbWV0aG9kIGNhbGwgY2hhaW5zIGZvciB0aGUgQVBJXG4gICAgKlxuICAgICogQHVzYWdlXG4gICAgKiA8aGxqcyBsYW5nPVwianNcIj5cbiAgICAqICAgYXBwLmNvbmZpZyhmdW5jdGlvbigkbWRJY29uUHJvdmlkZXIpIHtcbiAgICAqXG4gICAgKiAgICAgLy8gQ29uZmlndXJlIFVSTHMgZm9yIGljb25zIHNwZWNpZmllZCBieSBbc2V0Ol1pZC5cbiAgICAqXG4gICAgKiAgICAgJG1kSWNvblByb3ZpZGVyXG4gICAgKiAgICAgICAgICAuaWNvbignYW5kcm9pZCcsICdteS9hcHAvYW5kcm9pZC5zdmcnKSAgICAvLyBSZWdpc3RlciBhIHNwZWNpZmljIGljb24gKGJ5IG5hbWUpXG4gICAgKiAgICAgICAgICAuaWNvbignd29yazpjaGFpcicsICdteS9hcHAvY2hhaXIuc3ZnJyk7ICAvLyBSZWdpc3RlciBpY29uIGluIGEgc3BlY2lmaWMgc2V0XG4gICAgKiAgIH0pO1xuICAgICogPC9obGpzPlxuICAgICpcbiAgICAqL1xuICAgLyoqXG4gICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgKiBAbmFtZSAkbWRJY29uUHJvdmlkZXIjaWNvblNldFxuICAgICpcbiAgICAqIEBkZXNjcmlwdGlvblxuICAgICogUmVnaXN0ZXIgYSBzb3VyY2UgVVJMIGZvciBhICduYW1lZCcgc2V0IG9mIGljb25zOyBncm91cCBvZiBTVkcgZGVmaW5pdGlvbnMgd2hlcmUgZWFjaCBkZWZpbml0aW9uXG4gICAgKiBoYXMgYW4gaWNvbiBpZC4gSW5kaXZpZHVhbCBpY29ucyBjYW4gYmUgc3Vic2VxdWVudGx5IHJldHJpZXZlZCBmcm9tIHRoaXMgY2FjaGVkIHNldCB1c2luZ1xuICAgICogYCRtZEljb24oPGljb24gc2V0IG5hbWU+OjxpY29uIG5hbWU+KWBcbiAgICAqXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgSWNvbiBuYW1lL2lkIHVzZWQgdG8gcmVnaXN0ZXIgdGhlIGljb25zZXRcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgc3BlY2lmaWVzIHRoZSBleHRlcm5hbCBsb2NhdGlvbiBmb3IgdGhlIGRhdGEgZmlsZS4gVXNlZCBpbnRlcm5hbGx5IGJ5IGAkaHR0cGAgdG8gbG9hZCB0aGVcbiAgICAqIGRhdGEgb3IgYXMgcGFydCBvZiB0aGUgbG9va3VwIGluIGAkdGVtcGxhdGVDYWNoZWAgaWYgcHJlLWxvYWRpbmcgd2FzIGNvbmZpZ3VyZWQuXG4gICAgKiBAcGFyYW0ge251bWJlcj19IHZpZXdCb3hTaXplIFNldHMgdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHZpZXdCb3ggb2YgYWxsIGljb25zIGluIHRoZSBzZXQuIFxuICAgICogSXQgaXMgaWdub3JlZCBmb3IgaWNvbnMgd2l0aCBhbiBleGlzdGluZyB2aWV3Qm94LiBBbGwgaWNvbnMgaW4gdGhlIGljb24gc2V0IHNob3VsZCBiZSB0aGUgc2FtZSBzaXplLlxuICAgICogRGVmYXVsdCB2YWx1ZSBpcyAyNC5cbiAgICAqXG4gICAgKiBAcmV0dXJucyB7b2JqfSBhbiBgJG1kSWNvblByb3ZpZGVyYCByZWZlcmVuY2U7IHVzZWQgdG8gc3VwcG9ydCBtZXRob2QgY2FsbCBjaGFpbnMgZm9yIHRoZSBBUElcbiAgICAqXG4gICAgKlxuICAgICogQHVzYWdlXG4gICAgKiA8aGxqcyBsYW5nPVwianNcIj5cbiAgICAqICAgYXBwLmNvbmZpZyhmdW5jdGlvbigkbWRJY29uUHJvdmlkZXIpIHtcbiAgICAqXG4gICAgKiAgICAgLy8gQ29uZmlndXJlIFVSTHMgZm9yIGljb25zIHNwZWNpZmllZCBieSBbc2V0Ol1pZC5cbiAgICAqXG4gICAgKiAgICAgJG1kSWNvblByb3ZpZGVyXG4gICAgKiAgICAgICAgICAuaWNvblNldCgnc29jaWFsJywgJ215L2FwcC9zb2NpYWwuc3ZnJykgICAvLyBSZWdpc3RlciBhIG5hbWVkIGljb24gc2V0XG4gICAgKiAgIH0pO1xuICAgICogPC9obGpzPlxuICAgICpcbiAgICAqL1xuICAgLyoqXG4gICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgKiBAbmFtZSAkbWRJY29uUHJvdmlkZXIjZGVmYXVsdEljb25TZXRcbiAgICAqXG4gICAgKiBAZGVzY3JpcHRpb25cbiAgICAqIFJlZ2lzdGVyIGEgc291cmNlIFVSTCBmb3IgdGhlIGRlZmF1bHQgJ25hbWVkJyBzZXQgb2YgaWNvbnMuIFVubGVzcyBleHBsaWNpdGx5IHJlZ2lzdGVyZWQsXG4gICAgKiBzdWJzZXF1ZW50IGxvb2t1cHMgb2YgaWNvbnMgd2lsbCBmYWlsb3ZlciB0byBzZWFyY2ggdGhpcyAnZGVmYXVsdCcgaWNvbiBzZXQuXG4gICAgKiBJY29uIGNhbiBiZSByZXRyaWV2ZWQgZnJvbSB0aGlzIGNhY2hlZCwgZGVmYXVsdCBzZXQgdXNpbmcgYCRtZEljb24oPG5hbWU+KWBcbiAgICAqXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIHNwZWNpZmllcyB0aGUgZXh0ZXJuYWwgbG9jYXRpb24gZm9yIHRoZSBkYXRhIGZpbGUuIFVzZWQgaW50ZXJuYWxseSBieSBgJGh0dHBgIHRvIGxvYWQgdGhlXG4gICAgKiBkYXRhIG9yIGFzIHBhcnQgb2YgdGhlIGxvb2t1cCBpbiBgJHRlbXBsYXRlQ2FjaGVgIGlmIHByZS1sb2FkaW5nIHdhcyBjb25maWd1cmVkLlxuICAgICogQHBhcmFtIHtudW1iZXI9fSB2aWV3Qm94U2l6ZSBTZXRzIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSB2aWV3Qm94IG9mIGFsbCBpY29ucyBpbiB0aGUgc2V0LiBcbiAgICAqIEl0IGlzIGlnbm9yZWQgZm9yIGljb25zIHdpdGggYW4gZXhpc3Rpbmcgdmlld0JveC4gQWxsIGljb25zIGluIHRoZSBpY29uIHNldCBzaG91bGQgYmUgdGhlIHNhbWUgc2l6ZS5cbiAgICAqIERlZmF1bHQgdmFsdWUgaXMgMjQuXG4gICAgKlxuICAgICogQHJldHVybnMge29ian0gYW4gYCRtZEljb25Qcm92aWRlcmAgcmVmZXJlbmNlOyB1c2VkIHRvIHN1cHBvcnQgbWV0aG9kIGNhbGwgY2hhaW5zIGZvciB0aGUgQVBJXG4gICAgKlxuICAgICogQHVzYWdlXG4gICAgKiA8aGxqcyBsYW5nPVwianNcIj5cbiAgICAqICAgYXBwLmNvbmZpZyhmdW5jdGlvbigkbWRJY29uUHJvdmlkZXIpIHtcbiAgICAqXG4gICAgKiAgICAgLy8gQ29uZmlndXJlIFVSTHMgZm9yIGljb25zIHNwZWNpZmllZCBieSBbc2V0Ol1pZC5cbiAgICAqXG4gICAgKiAgICAgJG1kSWNvblByb3ZpZGVyXG4gICAgKiAgICAgICAgICAuZGVmYXVsdEljb25TZXQoICdteS9hcHAvc29jaWFsLnN2ZycgKSAgIC8vIFJlZ2lzdGVyIGEgZGVmYXVsdCBpY29uIHNldFxuICAgICogICB9KTtcbiAgICAqIDwvaGxqcz5cbiAgICAqXG4gICAgKi9cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJG1kSWNvblByb3ZpZGVyI2RlZmF1bHRGb250U2V0XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBXaGVuIHVzaW5nIEZvbnQtSWNvbnMsIEFuZ3VsYXIgTWF0ZXJpYWwgYXNzdW1lcyB0aGUgdGhlIE1hdGVyaWFsIERlc2lnbiBpY29ucyB3aWxsIGJlIHVzZWQgYW5kIGF1dG9tYXRpY2FsbHlcbiAgICogY29uZmlndXJlcyB0aGUgZGVmYXVsdCBmb250LXNldCA9PSAnbWF0ZXJpYWwtaWNvbnMnLiBOb3RlIHRoYXQgdGhlIGZvbnQtc2V0IHJlZmVyZW5jZXMgdGhlIGZvbnQtaWNvbiBsaWJyYXJ5XG4gICAqIGNsYXNzIHN0eWxlIHRoYXQgc2hvdWxkIGJlIGFwcGxpZWQgdG8gdGhlIGA8bWQtaWNvbj5gLlxuICAgKlxuICAgKiBDb25maWd1cmluZyB0aGUgZGVmYXVsdCBtZWFucyB0aGF0IHRoZSBhdHRyaWJ1dGVzXG4gICAqIGBtZC1mb250LXNldD1cIm1hdGVyaWFsLWljb25zXCJgIG9yIGBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCJgIGRvIG5vdCBuZWVkIHRvIGJlIGV4cGxpY2l0bHkgZGVjbGFyZWQgb24gdGhlXG4gICAqIGA8bWQtaWNvbj5gIG1hcmt1cC4gRm9yIGV4YW1wbGU6XG4gICAqXG4gICAqICBgPG1kLWljb24+IGZhY2UgPC9tZC1pY29uPmBcbiAgICogIHdpbGwgcmVuZGVyIGFzXG4gICAqICBgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPiBmYWNlIDwvc3Bhbj5gLCBhbmRcbiAgICpcbiAgICogIGA8bWQtaWNvbiBtZC1mb250LXNldD1cImZhXCI+IGZhY2UgPC9tZC1pY29uPmBcbiAgICogIHdpbGwgcmVuZGVyIGFzXG4gICAqICBgPHNwYW4gY2xhc3M9XCJmYVwiPiBmYWNlIDwvc3Bhbj5gXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIG9mIHRoZSBmb250LWxpYnJhcnkgc3R5bGUgdGhhdCBzaG91bGQgYmUgYXBwbGllZCB0byB0aGUgbWQtaWNvbiBET00gZWxlbWVudFxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogPGhsanMgbGFuZz1cImpzXCI+XG4gICAqICAgYXBwLmNvbmZpZyhmdW5jdGlvbigkbWRJY29uUHJvdmlkZXIpIHtcbiAgICogICAgICRtZEljb25Qcm92aWRlci5kZWZhdWx0Rm9udFNldCggJ2ZvbnRhd2Vzb21lJyApO1xuICAgKiAgIH0pO1xuICAgKiA8L2hsanM+XG4gICAqXG4gICAqL1xuXG4gICAvKipcbiAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAqIEBuYW1lICRtZEljb25Qcm92aWRlciNkZWZhdWx0Vmlld0JveFNpemVcbiAgICAqXG4gICAgKiBAZGVzY3JpcHRpb25cbiAgICAqIFdoaWxlIGA8bWQtaWNvbiAvPmAgbWFya3VwIGNhbiBhbHNvIGJlIHN0eWxlIHdpdGggc2l6aW5nIENTUywgdGhpcyBtZXRob2QgY29uZmlndXJlc1xuICAgICogdGhlIGRlZmF1bHQgd2lkdGggKiphbmQqKiBoZWlnaHQgdXNlZCBmb3IgYWxsIGljb25zOyB1bmxlc3Mgb3ZlcnJpZGRlbiBieSBzcGVjaWZpYyBDU1MuXG4gICAgKiBUaGUgZGVmYXVsdCBzaXppbmcgaXMgKDI0cHgsIDI0cHgpLlxuICAgICogQHBhcmFtIHtudW1iZXI9fSB2aWV3Qm94U2l6ZSBTZXRzIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSB2aWV3Qm94IGZvciBhbiBpY29uIG9yIGFuIGljb24gc2V0LlxuICAgICogQWxsIGljb25zIGluIGEgc2V0IHNob3VsZCBiZSB0aGUgc2FtZSBzaXplLiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyAyNC5cbiAgICAqXG4gICAgKiBAcmV0dXJucyB7b2JqfSBhbiBgJG1kSWNvblByb3ZpZGVyYCByZWZlcmVuY2U7IHVzZWQgdG8gc3VwcG9ydCBtZXRob2QgY2FsbCBjaGFpbnMgZm9yIHRoZSBBUElcbiAgICAqXG4gICAgKiBAdXNhZ2VcbiAgICAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICAgICogICBhcHAuY29uZmlnKGZ1bmN0aW9uKCRtZEljb25Qcm92aWRlcikge1xuICAgICpcbiAgICAqICAgICAvLyBDb25maWd1cmUgVVJMcyBmb3IgaWNvbnMgc3BlY2lmaWVkIGJ5IFtzZXQ6XWlkLlxuICAgICpcbiAgICAqICAgICAkbWRJY29uUHJvdmlkZXJcbiAgICAqICAgICAgICAgIC5kZWZhdWx0Vmlld0JveFNpemUoMzYpICAgLy8gUmVnaXN0ZXIgYSBkZWZhdWx0IGljb24gc2l6ZSAod2lkdGggPT0gaGVpZ2h0KVxuICAgICogICB9KTtcbiAgICAqIDwvaGxqcz5cbiAgICAqXG4gICAgKi9cblxuIHZhciBjb25maWcgPSB7XG4gICBkZWZhdWx0Vmlld0JveFNpemU6IDI0LFxuICAgZGVmYXVsdEZvbnRTZXQ6ICdtYXRlcmlhbC1pY29ucycsXG4gICBmb250U2V0cyA6IFsgXVxuIH07XG5cbiBmdW5jdGlvbiBNZEljb25Qcm92aWRlcigpIHsgfVxuXG4gTWRJY29uUHJvdmlkZXIucHJvdG90eXBlID0ge1xuICAgaWNvbiA6IGZ1bmN0aW9uIChpZCwgdXJsLCB2aWV3Qm94U2l6ZSkge1xuICAgICBpZiAoIGlkLmluZGV4T2YoJzonKSA9PSAtMSApIGlkID0gJyRkZWZhdWx0OicgKyBpZDtcblxuICAgICBjb25maWdbaWRdID0gbmV3IENvbmZpZ3VyYXRpb25JdGVtKHVybCwgdmlld0JveFNpemUgKTtcbiAgICAgcmV0dXJuIHRoaXM7XG4gICB9LFxuXG4gICBpY29uU2V0IDogZnVuY3Rpb24gKGlkLCB1cmwsIHZpZXdCb3hTaXplKSB7XG4gICAgIGNvbmZpZ1tpZF0gPSBuZXcgQ29uZmlndXJhdGlvbkl0ZW0odXJsLCB2aWV3Qm94U2l6ZSApO1xuICAgICByZXR1cm4gdGhpcztcbiAgIH0sXG5cbiAgIGRlZmF1bHRJY29uU2V0IDogZnVuY3Rpb24gKHVybCwgdmlld0JveFNpemUpIHtcbiAgICAgdmFyIHNldE5hbWUgPSAnJGRlZmF1bHQnO1xuXG4gICAgIGlmICggIWNvbmZpZ1tzZXROYW1lXSApIHtcbiAgICAgICBjb25maWdbc2V0TmFtZV0gPSBuZXcgQ29uZmlndXJhdGlvbkl0ZW0odXJsLCB2aWV3Qm94U2l6ZSApO1xuICAgICB9XG5cbiAgICAgY29uZmlnW3NldE5hbWVdLnZpZXdCb3hTaXplID0gdmlld0JveFNpemUgfHwgY29uZmlnLmRlZmF1bHRWaWV3Qm94U2l6ZTtcblxuICAgICByZXR1cm4gdGhpcztcbiAgIH0sXG5cbiAgIGRlZmF1bHRWaWV3Qm94U2l6ZSA6IGZ1bmN0aW9uICh2aWV3Qm94U2l6ZSkge1xuICAgICBjb25maWcuZGVmYXVsdFZpZXdCb3hTaXplID0gdmlld0JveFNpemU7XG4gICAgIHJldHVybiB0aGlzO1xuICAgfSxcbiAgIFxuICAgLyoqXG4gICAgKiBSZWdpc3RlciBhbiBhbGlhcyBuYW1lIGFzc29jaWF0ZWQgd2l0aCBhIGZvbnQtaWNvbiBsaWJyYXJ5IHN0eWxlIDtcbiAgICAqL1xuICAgZm9udFNldCA6IGZ1bmN0aW9uIGZvbnRTZXQoYWxpYXMsIGNsYXNzTmFtZSkge1xuICAgIGNvbmZpZy5mb250U2V0cy5wdXNoKHtcbiAgICAgIGFsaWFzIDogYWxpYXMsXG4gICAgICBmb250U2V0IDogY2xhc3NOYW1lIHx8IGFsaWFzXG4gICAgfSk7XG4gICB9LFxuXG4gICAvKipcbiAgICAqIFNwZWNpZnkgYSBkZWZhdWx0IHN0eWxlIG5hbWUgYXNzb2NpYXRlZCB3aXRoIGEgZm9udC1pY29uIGxpYnJhcnlcbiAgICAqIGZhbGxiYWNrIHRvIE1hdGVyaWFsIEljb25zLlxuICAgICpcbiAgICAqL1xuICAgZGVmYXVsdEZvbnRTZXQgOiBmdW5jdGlvbiBkZWZhdWx0Rm9udFNldChjbGFzc05hbWUpIHtcbiAgICBjb25maWcuZGVmYXVsdEZvbnRTZXQgPSAhY2xhc3NOYW1lID8gJycgOiBjbGFzc05hbWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gICB9LFxuXG4gICBkZWZhdWx0SWNvblNpemUgOiBmdW5jdGlvbiBkZWZhdWx0SWNvblNpemUoaWNvblNpemUpIHtcbiAgICAgY29uZmlnLmRlZmF1bHRJY29uU2l6ZSA9IGljb25TaXplO1xuICAgICByZXR1cm4gdGhpcztcbiAgIH0sXG5cbiAgIHByZWxvYWRJY29uczogZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICAgIHZhciBpY29uUHJvdmlkZXIgPSB0aGlzO1xuICAgICB2YXIgc3ZnUmVnaXN0cnkgPSBbXG4gICAgICAge1xuICAgICAgICAgaWQgOiAnbWQtdGFicy1hcnJvdycsXG4gICAgICAgICB1cmw6ICdtZC10YWJzLWFycm93LnN2ZycsXG4gICAgICAgICBzdmc6ICc8c3ZnIHZlcnNpb249XCIxLjFcIiB4PVwiMHB4XCIgeT1cIjBweFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48Zz48cG9seWdvbiBwb2ludHM9XCIxNS40LDcuNCAxNCw2IDgsMTIgMTQsMTggMTUuNCwxNi42IDEwLjgsMTIgXCIvPjwvZz48L3N2Zz4nXG4gICAgICAgfSxcbiAgICAgICB7XG4gICAgICAgICBpZCA6ICdtZC1jbG9zZScsXG4gICAgICAgICB1cmw6ICdtZC1jbG9zZS5zdmcnLFxuICAgICAgICAgc3ZnOiAnPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgeD1cIjBweFwiIHk9XCIwcHhcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PGc+PHBhdGggZD1cIk0xOSA2LjQxbC0xLjQxLTEuNDEtNS41OSA1LjU5LTUuNTktNS41OS0xLjQxIDEuNDEgNS41OSA1LjU5LTUuNTkgNS41OSAxLjQxIDEuNDEgNS41OS01LjU5IDUuNTkgNS41OSAxLjQxLTEuNDEtNS41OS01LjU5elwiLz48L2c+PC9zdmc+J1xuICAgICAgIH0sXG4gICAgICAge1xuICAgICAgICAgaWQ6ICAnbWQtY2FuY2VsJyxcbiAgICAgICAgIHVybDogJ21kLWNhbmNlbC5zdmcnLFxuICAgICAgICAgc3ZnOiAnPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgeD1cIjBweFwiIHk9XCIwcHhcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PGc+PHBhdGggZD1cIk0xMiAyYy01LjUzIDAtMTAgNC40Ny0xMCAxMHM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTAtNC40Ny0xMC0xMC0xMHptNSAxMy41OWwtMS40MSAxLjQxLTMuNTktMy41OS0zLjU5IDMuNTktMS40MS0xLjQxIDMuNTktMy41OS0zLjU5LTMuNTkgMS40MS0xLjQxIDMuNTkgMy41OSAzLjU5LTMuNTkgMS40MSAxLjQxLTMuNTkgMy41OSAzLjU5IDMuNTl6XCIvPjwvZz48L3N2Zz4nXG4gICAgICAgfSxcbiAgICAgICB7XG4gICAgICAgICBpZDogICdtZC1tZW51JyxcbiAgICAgICAgIHVybDogJ21kLW1lbnUuc3ZnJyxcbiAgICAgICAgIHN2ZzogJzxzdmcgdmVyc2lvbj1cIjEuMVwiIHg9XCIwcHhcIiB5PVwiMHB4XCIgdmlld0JveD1cIjAgMCAxMDAgMTAwXCI+PHBhdGggZD1cIk0gNTAgMCBMIDEwMCAxNCBMIDkyIDgwIEwgNTAgMTAwIEwgOCA4MCBMIDAgMTQgWlwiIGZpbGw9XCIjYjJiMmIyXCI+PC9wYXRoPjxwYXRoIGQ9XCJNIDUwIDUgTCA2IDE4IEwgMTMuNSA3NyBMIDUwIDk0IFpcIiBmaWxsPVwiI0U0MjkzOVwiPjwvcGF0aD48cGF0aCBkPVwiTSA1MCA1IEwgOTQgMTggTCA4Ni41IDc3IEwgNTAgOTQgWlwiIGZpbGw9XCIjQjcyODMzXCI+PC9wYXRoPjxwYXRoIGQ9XCJNIDUwIDcgTCA4MyA3NSBMIDcyIDc1IEwgNjUgNTkgTCA1MCA1OSBMIDUwIDUwIEwgNjEgNTAgTCA1MCAyNiBaXCIgZmlsbD1cIiNiMmIyYjJcIj48L3BhdGg+PHBhdGggZD1cIk0gNTAgNyBMIDE3IDc1IEwgMjggNzUgTCAzNSA1OSBMIDUwIDU5IEwgNTAgNTAgTCAzOSA1MCBMIDUwIDI2IFpcIiBmaWxsPVwiI2ZmZlwiPjwvcGF0aD48L3N2Zz4nXG4gICAgICAgfSxcbiAgICAgICB7XG4gICAgICAgICBpZDogICdtZC10b2dnbGUtYXJyb3cnLFxuICAgICAgICAgdXJsOiAnbWQtdG9nZ2xlLWFycm93LXN2ZycsXG4gICAgICAgICBzdmc6ICc8c3ZnIHZlcnNpb249XCIxLjFcIiB4PVwiMHB4XCIgeT1cIjBweFwiIHZpZXdCb3g9XCIwIDAgNDggNDhcIj48cGF0aCBkPVwiTTI0IDE2bC0xMiAxMiAyLjgzIDIuODMgOS4xNy05LjE3IDkuMTcgOS4xNyAyLjgzLTIuODN6XCIvPjxwYXRoIGQ9XCJNMCAwaDQ4djQ4aC00OHpcIiBmaWxsPVwibm9uZVwiLz48L3N2Zz4nXG4gICAgICAgfVxuICAgICBdO1xuXG4gICAgIHN2Z1JlZ2lzdHJ5LmZvckVhY2goZnVuY3Rpb24oYXNzZXQpe1xuICAgICAgIGljb25Qcm92aWRlci5pY29uKGFzc2V0LmlkLCAgYXNzZXQudXJsKTtcbiAgICAgICAkdGVtcGxhdGVDYWNoZS5wdXQoYXNzZXQudXJsLCBhc3NldC5zdmcpO1xuICAgICB9KTtcblxuICAgfSxcblxuICAgJGdldCA6IFsnJGh0dHAnLCAnJHEnLCAnJGxvZycsICckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCRodHRwLCAkcSwgJGxvZywgJHRlbXBsYXRlQ2FjaGUpIHtcbiAgICAgdGhpcy5wcmVsb2FkSWNvbnMoJHRlbXBsYXRlQ2FjaGUpO1xuICAgICByZXR1cm4gTWRJY29uU2VydmljZShjb25maWcsICRodHRwLCAkcSwgJGxvZywgJHRlbXBsYXRlQ2FjaGUpO1xuICAgfV1cbiB9O1xuXG4gICAvKipcbiAgICAqICBDb25maWd1cmF0aW9uIGl0ZW0gc3RvcmVkIGluIHRoZSBJY29uIHJlZ2lzdHJ5OyB1c2VkIGZvciBsb29rdXBzXG4gICAgKiAgdG8gbG9hZCBpZiBub3QgYWxyZWFkeSBjYWNoZWQgaW4gdGhlIGBsb2FkZWRgIGNhY2hlXG4gICAgKi9cbiAgIGZ1bmN0aW9uIENvbmZpZ3VyYXRpb25JdGVtKHVybCwgdmlld0JveFNpemUpIHtcbiAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgIHRoaXMudmlld0JveFNpemUgPSB2aWV3Qm94U2l6ZSB8fCBjb25maWcuZGVmYXVsdFZpZXdCb3hTaXplO1xuICAgfVxuXG4gLyoqXG4gICogQG5nZG9jIHNlcnZpY2VcbiAgKiBAbmFtZSAkbWRJY29uXG4gICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmljb25cbiAgKlxuICAqIEBkZXNjcmlwdGlvblxuICAqIFRoZSBgJG1kSWNvbmAgc2VydmljZSBpcyBhIGZ1bmN0aW9uIHVzZWQgdG8gbG9va3VwIFNWRyBpY29ucy5cbiAgKlxuICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBRdWVyeSB2YWx1ZSBmb3IgYSB1bmlxdWUgSWQgb3IgVVJMLiBJZiB0aGUgYXJndW1lbnQgaXMgYSBVUkwsIHRoZW4gdGhlIHNlcnZpY2Ugd2lsbCByZXRyaWV2ZSB0aGUgaWNvbiBlbGVtZW50XG4gICogZnJvbSBpdHMgaW50ZXJuYWwgY2FjaGUgb3IgbG9hZCB0aGUgaWNvbiBhbmQgY2FjaGUgaXQgZmlyc3QuIElmIHRoZSB2YWx1ZSBpcyBub3QgYSBVUkwtdHlwZSBzdHJpbmcsIHRoZW4gYW4gSUQgbG9va3VwIGlzXG4gICogcGVyZm9ybWVkLiBUaGUgSWQgbWF5IGJlIGEgdW5pcXVlIGljb24gSUQgb3IgbWF5IGluY2x1ZGUgYW4gaWNvblNldCBJRCBwcmVmaXguXG4gICpcbiAgKiBGb3IgdGhlICoqaWQqKiBxdWVyeSB0byB3b3JrIHByb3Blcmx5LCB0aGlzIG1lYW5zIHRoYXQgYWxsIGlkLXRvLVVSTCBtYXBwaW5ncyBtdXN0IGhhdmUgYmVlbiBwcmV2aW91c2x5IGNvbmZpZ3VyZWRcbiAgKiB1c2luZyB0aGUgYCRtZEljb25Qcm92aWRlcmAuXG4gICpcbiAgKiBAcmV0dXJucyB7b2JqfSBDbG9uZSBvZiB0aGUgaW5pdGlhbCBTVkcgRE9NIGVsZW1lbnQ7IHdoaWNoIHdhcyBjcmVhdGVkIGZyb20gdGhlIFNWRyBtYXJrdXAgaW4gdGhlIFNWRyBkYXRhIGZpbGUuXG4gICpcbiAgKiBAdXNhZ2VcbiAgKiA8aGxqcyBsYW5nPVwianNcIj5cbiAgKiBmdW5jdGlvbiBTb21lRGlyZWN0aXZlKCRtZEljb24pIHtcbiAgKlxuICAqICAgLy8gU2VlIGlmIHRoZSBpY29uIGhhcyBhbHJlYWR5IGJlZW4gbG9hZGVkLCBpZiBub3RcbiAgKiAgIC8vIHRoZW4gbG9va3VwIHRoZSBpY29uIGZyb20gdGhlIHJlZ2lzdHJ5IGNhY2hlLCBsb2FkIGFuZCBjYWNoZVxuICAqICAgLy8gaXQgZm9yIGZ1dHVyZSByZXF1ZXN0cy5cbiAgKiAgIC8vIE5PVEU6IElEIHF1ZXJpZXMgcmVxdWlyZSBjb25maWd1cmF0aW9uIHdpdGggJG1kSWNvblByb3ZpZGVyXG4gICpcbiAgKiAgICRtZEljb24oJ2FuZHJvaWQnKS50aGVuKGZ1bmN0aW9uKGljb25FbCkgICAgeyBlbGVtZW50LmFwcGVuZChpY29uRWwpOyB9KTtcbiAgKiAgICRtZEljb24oJ3dvcms6Y2hhaXInKS50aGVuKGZ1bmN0aW9uKGljb25FbCkgeyBlbGVtZW50LmFwcGVuZChpY29uRWwpOyB9KTtcbiAgKlxuICAqICAgLy8gTG9hZCBhbmQgY2FjaGUgdGhlIGV4dGVybmFsIFNWRyB1c2luZyBhIFVSTFxuICAqXG4gICogICAkbWRJY29uKCdpbWcvaWNvbnMvYW5kcm9pZC5zdmcnKS50aGVuKGZ1bmN0aW9uKGljb25FbCkge1xuICAqICAgICBlbGVtZW50LmFwcGVuZChpY29uRWwpO1xuICAqICAgfSk7XG4gICogfTtcbiAgKiA8L2hsanM+XG4gICpcbiAgKiBOT1RFOiBUaGUgYDxtZC1pY29uIC8+ICBgIGRpcmVjdGl2ZSBpbnRlcm5hbGx5IHVzZXMgdGhlIGAkbWRJY29uYCBzZXJ2aWNlIHRvIHF1ZXJ5LCBsb2FkZWQsIGFuZCBpbnN0YW50aWF0ZVxuICAqIFNWRyBET00gZWxlbWVudHMuXG4gICovXG4gZnVuY3Rpb24gTWRJY29uU2VydmljZShjb25maWcsICRodHRwLCAkcSwgJGxvZywgJHRlbXBsYXRlQ2FjaGUpIHtcbiAgIHZhciBpY29uQ2FjaGUgPSB7fTtcbiAgIHZhciB1cmxSZWdleCA9IC9bLWEtekEtWjAtOUA6JV9cXCsufiM/Ji8vPV17MiwyNTZ9XFwuW2Etel17Miw0fVxcYihcXC9bLWEtekEtWjAtOUA6JV9cXCsufiM/Ji8vPV0qKT8vaTtcblxuICAgSWNvbi5wcm90b3R5cGUgPSB7IGNsb25lIDogY2xvbmVTVkcsIHByZXBhcmU6IHByZXBhcmVBbmRTdHlsZSB9O1xuICAgZ2V0SWNvbi5mb250U2V0ID0gZmluZFJlZ2lzdGVyZWRGb250U2V0O1xuXG4gICAvLyBQdWJsaXNoIHNlcnZpY2UuLi5cbiAgIHJldHVybiBnZXRJY29uO1xuXG4gICAvKipcbiAgICAqIEFjdHVhbCAkbWRJY29uIHNlcnZpY2UgaXMgZXNzZW50aWFsbHkgYSBsb29rdXAgZnVuY3Rpb25cbiAgICAqL1xuICAgZnVuY3Rpb24gZ2V0SWNvbihpZCkge1xuICAgICBpZCA9IGlkIHx8ICcnO1xuXG4gICAgIC8vIElmIGFscmVhZHkgbG9hZGVkIGFuZCBjYWNoZWQsIHVzZSBhIGNsb25lIG9mIHRoZSBjYWNoZWQgaWNvbi5cbiAgICAgLy8gT3RoZXJ3aXNlIGVpdGhlciBsb2FkIGJ5IFVSTCwgb3IgbG9va3VwIGluIHRoZSByZWdpc3RyeSBhbmQgdGhlbiBsb2FkIGJ5IFVSTCwgYW5kIGNhY2hlLlxuXG4gICAgIGlmICggaWNvbkNhY2hlW2lkXSAgICAgICAgICkgcmV0dXJuICRxLndoZW4oIGljb25DYWNoZVtpZF0uY2xvbmUoKSApO1xuICAgICBpZiAoIHVybFJlZ2V4LnRlc3QoaWQpICAgICApIHJldHVybiBsb2FkQnlVUkwoaWQpLnRoZW4oIGNhY2hlSWNvbihpZCkgKTtcbiAgICAgaWYgKCBpZC5pbmRleE9mKCc6JykgPT0gLTEgKSBpZCA9ICckZGVmYXVsdDonICsgaWQ7XG5cbiAgICAgcmV0dXJuIGxvYWRCeUlEKGlkKVxuICAgICAgICAgLmNhdGNoKGxvYWRGcm9tSWNvblNldClcbiAgICAgICAgIC5jYXRjaChhbm5vdW5jZUlkTm90Rm91bmQpXG4gICAgICAgICAuY2F0Y2goYW5ub3VuY2VOb3RGb3VuZClcbiAgICAgICAgIC50aGVuKCBjYWNoZUljb24oaWQpICk7XG4gICB9XG5cbiAgIC8qKlxuICAgICogTG9va3VwIHJlZ2lzdGVyZWQgZm9udFNldCBzdHlsZSB1c2luZyBpdHMgYWxpYXMuLi5cbiAgICAqIElmIG5vdCBmb3VuZCxcbiAgICAqL1xuICAgZnVuY3Rpb24gZmluZFJlZ2lzdGVyZWRGb250U2V0KGFsaWFzKSB7XG4gICAgICB2YXIgdXNlRGVmYXVsdCA9IGFuZ3VsYXIuaXNVbmRlZmluZWQoYWxpYXMpIHx8ICEoYWxpYXMgJiYgYWxpYXMubGVuZ3RoKTtcbiAgICAgIGlmICggdXNlRGVmYXVsdCApIHJldHVybiBjb25maWcuZGVmYXVsdEZvbnRTZXQ7XG5cbiAgICAgIHZhciByZXN1bHQgPSBhbGlhcztcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChjb25maWcuZm9udFNldHMsIGZ1bmN0aW9uKGl0KXtcbiAgICAgICAgaWYgKCBpdC5hbGlhcyA9PSBhbGlhcyApIHJlc3VsdCA9IGl0LmZvbnRTZXQgfHwgcmVzdWx0O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICB9XG5cbiAgIC8qKlxuICAgICogUHJlcGFyZSBhbmQgY2FjaGUgdGhlIGxvYWRlZCBpY29uIGZvciB0aGUgc3BlY2lmaWVkIGBpZGBcbiAgICAqL1xuICAgZnVuY3Rpb24gY2FjaGVJY29uKCBpZCApIHtcblxuICAgICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlQ2FjaGUoIGljb24gKSB7XG4gICAgICAgaWNvbkNhY2hlW2lkXSA9IGlzSWNvbihpY29uKSA/IGljb24gOiBuZXcgSWNvbihpY29uLCBjb25maWdbaWRdKTtcblxuICAgICAgIHJldHVybiBpY29uQ2FjaGVbaWRdLmNsb25lKCk7XG4gICAgIH07XG4gICB9XG5cbiAgIC8qKlxuICAgICogTG9va3VwIHRoZSBjb25maWd1cmF0aW9uIGluIHRoZSByZWdpc3RyeSwgaWYgIXJlZ2lzdGVyZWQgdGhyb3cgYW4gZXJyb3JcbiAgICAqIG90aGVyd2lzZSBsb2FkIHRoZSBpY29uIFtvbi1kZW1hbmRdIHVzaW5nIHRoZSByZWdpc3RlcmVkIFVSTC5cbiAgICAqXG4gICAgKi9cbiAgIGZ1bmN0aW9uIGxvYWRCeUlEKGlkKSB7XG4gICAgIHZhciBpY29uQ29uZmlnID0gY29uZmlnW2lkXTtcblxuICAgICByZXR1cm4gIWljb25Db25maWcgPyAkcS5yZWplY3QoaWQpIDogbG9hZEJ5VVJMKGljb25Db25maWcudXJsKS50aGVuKGZ1bmN0aW9uKGljb24pIHtcbiAgICAgICByZXR1cm4gbmV3IEljb24oaWNvbiwgaWNvbkNvbmZpZyk7XG4gICAgIH0pO1xuICAgfVxuXG4gICAvKipcbiAgICAqICAgIExvYWRzIHRoZSBmaWxlIGFzIFhNTCBhbmQgdXNlcyBxdWVyeVNlbGVjdG9yKCA8aWQ+ICkgdG8gZmluZFxuICAgICogICAgdGhlIGRlc2lyZWQgbm9kZS4uLlxuICAgICovXG4gICBmdW5jdGlvbiBsb2FkRnJvbUljb25TZXQoaWQpIHtcbiAgICAgdmFyIHNldE5hbWUgPSBpZC5zdWJzdHJpbmcoMCwgaWQubGFzdEluZGV4T2YoJzonKSkgfHwgJyRkZWZhdWx0JztcbiAgICAgdmFyIGljb25TZXRDb25maWcgPSBjb25maWdbc2V0TmFtZV07XG5cbiAgICAgcmV0dXJuICFpY29uU2V0Q29uZmlnID8gJHEucmVqZWN0KGlkKSA6IGxvYWRCeVVSTChpY29uU2V0Q29uZmlnLnVybCkudGhlbihleHRyYWN0RnJvbVNldCk7XG5cbiAgICAgZnVuY3Rpb24gZXh0cmFjdEZyb21TZXQoc2V0KSB7XG4gICAgICAgdmFyIGljb25OYW1lID0gaWQuc2xpY2UoaWQubGFzdEluZGV4T2YoJzonKSArIDEpO1xuICAgICAgIHZhciBpY29uID0gc2V0LnF1ZXJ5U2VsZWN0b3IoJyMnICsgaWNvbk5hbWUpO1xuICAgICAgIHJldHVybiAhaWNvbiA/ICRxLnJlamVjdChpZCkgOiBuZXcgSWNvbihpY29uLCBpY29uU2V0Q29uZmlnKTtcbiAgICAgfVxuICAgfVxuXG4gICAvKipcbiAgICAqIExvYWQgdGhlIGljb24gYnkgVVJMIChtYXkgdXNlIHRoZSAkdGVtcGxhdGVDYWNoZSkuXG4gICAgKiBFeHRyYWN0IHRoZSBkYXRhIGZvciBsYXRlciBjb252ZXJzaW9uIHRvIEljb25cbiAgICAqL1xuICAgZnVuY3Rpb24gbG9hZEJ5VVJMKHVybCkge1xuICAgICByZXR1cm4gJGh0dHBcbiAgICAgICAuZ2V0KHVybCwgeyBjYWNoZTogJHRlbXBsYXRlQ2FjaGUgfSlcbiAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgcmV0dXJuIGFuZ3VsYXIuZWxlbWVudCgnPGRpdj4nKS5hcHBlbmQocmVzcG9uc2UuZGF0YSkuZmluZCgnc3ZnJylbMF07XG4gICAgICAgfSk7XG4gICB9XG5cbiAgIC8qKlxuICAgICogVXNlciBkaWQgbm90IHNwZWNpZnkgYSBVUkwgYW5kIHRoZSBJRCBoYXMgbm90IGJlZW4gcmVnaXN0ZXJlZCB3aXRoIHRoZSAkbWRJY29uXG4gICAgKiByZWdpc3RyeVxuICAgICovXG4gICBmdW5jdGlvbiBhbm5vdW5jZUlkTm90Rm91bmQoaWQpIHtcbiAgICAgdmFyIG1zZztcblxuICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhpZCkpIHtcbiAgICAgICBtc2cgPSAnaWNvbiAnICsgaWQgKyAnIG5vdCBmb3VuZCc7XG4gICAgICAgJGxvZy53YXJuKG1zZyk7XG4gICAgIH1cblxuICAgICByZXR1cm4gJHEucmVqZWN0KG1zZyB8fCBpZCk7XG4gICB9XG5cbiAgIC8qKlxuICAgICogQ2F0Y2ggSFRUUCBvciBnZW5lcmljIGVycm9ycyBub3QgcmVsYXRlZCB0byBpbmNvcnJlY3QgaWNvbiBJRHMuXG4gICAgKi9cbiAgIGZ1bmN0aW9uIGFubm91bmNlTm90Rm91bmQoZXJyKSB7XG4gICAgIHZhciBtc2cgPSBhbmd1bGFyLmlzU3RyaW5nKGVycikgPyBlcnIgOiAoZXJyLm1lc3NhZ2UgfHwgZXJyLmRhdGEgfHwgZXJyLnN0YXR1c1RleHQpO1xuICAgICAkbG9nLndhcm4obXNnKTtcblxuICAgICByZXR1cm4gJHEucmVqZWN0KG1zZyk7XG4gICB9XG5cbiAgIC8qKlxuICAgICogQ2hlY2sgdGFyZ2V0IHNpZ25hdHVyZSB0byBzZWUgaWYgaXQgaXMgYW4gSWNvbiBpbnN0YW5jZS5cbiAgICAqL1xuICAgZnVuY3Rpb24gaXNJY29uKHRhcmdldCkge1xuICAgICByZXR1cm4gYW5ndWxhci5pc0RlZmluZWQodGFyZ2V0LmVsZW1lbnQpICYmIGFuZ3VsYXIuaXNEZWZpbmVkKHRhcmdldC5jb25maWcpO1xuICAgfVxuXG4gICAvKipcbiAgICAqICBEZWZpbmUgdGhlIEljb24gY2xhc3NcbiAgICAqL1xuICAgZnVuY3Rpb24gSWNvbihlbCwgY29uZmlnKSB7XG4gICAgIGlmIChlbC50YWdOYW1lICE9ICdzdmcnKSB7XG4gICAgICAgZWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPicpLmFwcGVuZChlbClbMF07XG4gICAgIH1cblxuICAgICAvLyBJbmplY3QgdGhlIG5hbWVzcGFjZSBpZiBub3QgYXZhaWxhYmxlLi4uXG4gICAgIGlmICggIWVsLmdldEF0dHJpYnV0ZSgneG1sbnMnKSApIHtcbiAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3htbG5zJywgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiKTtcbiAgICAgfVxuXG4gICAgIHRoaXMuZWxlbWVudCA9IGVsO1xuICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgdGhpcy5wcmVwYXJlKCk7XG4gICB9XG5cbiAgIC8qKlxuICAgICogIFByZXBhcmUgdGhlIERPTSBlbGVtZW50IHRoYXQgd2lsbCBiZSBjYWNoZWQgaW4gdGhlXG4gICAgKiAgbG9hZGVkIGljb25DYWNoZSBzdG9yZS5cbiAgICAqL1xuICAgZnVuY3Rpb24gcHJlcGFyZUFuZFN0eWxlKCkge1xuICAgICB2YXIgdmlld0JveFNpemUgPSB0aGlzLmNvbmZpZyA/IHRoaXMuY29uZmlnLnZpZXdCb3hTaXplIDogY29uZmlnLmRlZmF1bHRWaWV3Qm94U2l6ZTtcbiAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh7XG4gICAgICAgICAgICdmaXQnICAgOiAnJyxcbiAgICAgICAgICAgJ2hlaWdodCc6ICcxMDAlJyxcbiAgICAgICAgICAgJ3dpZHRoJyA6ICcxMDAlJyxcbiAgICAgICAgICAgJ3ByZXNlcnZlQXNwZWN0UmF0aW8nOiAneE1pZFlNaWQgbWVldCcsXG4gICAgICAgICAgICd2aWV3Qm94JyA6IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnKSB8fCAoJzAgMCAnICsgdmlld0JveFNpemUgKyAnICcgKyB2aWV3Qm94U2l6ZSlcbiAgICAgICAgIH0sIGZ1bmN0aW9uKHZhbCwgYXR0cikge1xuICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHIsIHZhbCk7XG4gICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHtcbiAgICAgICAgICAgJ3BvaW50ZXItZXZlbnRzJyA6ICdub25lJyxcbiAgICAgICAgICAgJ2Rpc3BsYXknIDogJ2Jsb2NrJ1xuICAgICAgICAgfSwgZnVuY3Rpb24odmFsLCBzdHlsZSkge1xuICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGVbc3R5bGVdID0gdmFsO1xuICAgICAgICAgfSwgdGhpcyk7XG4gICB9XG5cbiAgIC8qKlxuICAgICogQ2xvbmUgdGhlIEljb24gRE9NIGVsZW1lbnQuXG4gICAgKi9cbiAgIGZ1bmN0aW9uIGNsb25lU1ZHKCl7XG4gICAgIHJldHVybiB0aGlzLmVsZW1lbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgfVxuXG4gfVxuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLmlucHV0XG4gKi9cblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuaW5wdXQnLCBbXG4gICdtYXRlcmlhbC5jb3JlJ1xuXSlcbiAgLmRpcmVjdGl2ZSgnbWRJbnB1dENvbnRhaW5lcicsIG1kSW5wdXRDb250YWluZXJEaXJlY3RpdmUpXG4gIC5kaXJlY3RpdmUoJ2xhYmVsJywgbGFiZWxEaXJlY3RpdmUpXG4gIC5kaXJlY3RpdmUoJ2lucHV0JywgaW5wdXRUZXh0YXJlYURpcmVjdGl2ZSlcbiAgLmRpcmVjdGl2ZSgndGV4dGFyZWEnLCBpbnB1dFRleHRhcmVhRGlyZWN0aXZlKVxuICAuZGlyZWN0aXZlKCdtZE1heGxlbmd0aCcsIG1kTWF4bGVuZ3RoRGlyZWN0aXZlKVxuICAuZGlyZWN0aXZlKCdwbGFjZWhvbGRlcicsIHBsYWNlaG9sZGVyRGlyZWN0aXZlKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZElucHV0Q29udGFpbmVyXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuaW5wdXRcbiAqXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYDxtZC1pbnB1dC1jb250YWluZXI+YCBpcyB0aGUgcGFyZW50IG9mIGFueSBpbnB1dCBvciB0ZXh0YXJlYSBlbGVtZW50LlxuICpcbiAqIElucHV0IGFuZCB0ZXh0YXJlYSBlbGVtZW50cyB3aWxsIG5vdCBiZWhhdmUgcHJvcGVybHkgdW5sZXNzIHRoZSBtZC1pbnB1dC1jb250YWluZXJcbiAqIHBhcmVudCBpcyBwcm92aWRlZC5cbiAqXG4gKiBAcGFyYW0gbWQtaXMtZXJyb3Ige2V4cHJlc3Npb249fSBXaGVuIHRoZSBnaXZlbiBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLCB0aGUgaW5wdXQgY29udGFpbmVyIHdpbGwgZ28gaW50byBlcnJvciBzdGF0ZS4gRGVmYXVsdHMgdG8gZXJyb3JpbmcgaWYgdGhlIGlucHV0IGhhcyBiZWVuIHRvdWNoZWQgYW5kIGlzIGludmFsaWQuXG4gKiBAcGFyYW0gbWQtbm8tZmxvYXQge2Jvb2xlYW49fSBXaGVuIHByZXNlbnQsIHBsYWNlaG9sZGVycyB3aWxsIG5vdCBiZSBjb252ZXJ0ZWQgdG8gZmxvYXRpbmcgbGFiZWxzXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICpcbiAqIDxtZC1pbnB1dC1jb250YWluZXI+XG4gKiAgIDxsYWJlbD5Vc2VybmFtZTwvbGFiZWw+XG4gKiAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidXNlci5uYW1lXCI+XG4gKiA8L21kLWlucHV0LWNvbnRhaW5lcj5cbiAqXG4gKiA8bWQtaW5wdXQtY29udGFpbmVyPlxuICogICA8bGFiZWw+RGVzY3JpcHRpb248L2xhYmVsPlxuICogICA8dGV4dGFyZWEgbmctbW9kZWw9XCJ1c2VyLmRlc2NyaXB0aW9uXCI+PC90ZXh0YXJlYT5cbiAqIDwvbWQtaW5wdXQtY29udGFpbmVyPlxuICpcbiAqIDwvaGxqcz5cbiAqL1xuZnVuY3Rpb24gbWRJbnB1dENvbnRhaW5lckRpcmVjdGl2ZSgkbWRUaGVtaW5nLCAkcGFyc2UpIHtcbiAgQ29udGFpbmVyQ3RybC4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJGVsZW1lbnRcIiwgXCIkYXR0cnNcIl07XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBsaW5rOiBwb3N0TGluayxcbiAgICBjb250cm9sbGVyOiBDb250YWluZXJDdHJsXG4gIH07XG5cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuICB9XG4gIGZ1bmN0aW9uIENvbnRhaW5lckN0cmwoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgc2VsZi5pc0Vycm9yR2V0dGVyID0gJGF0dHJzLm1kSXNFcnJvciAmJiAkcGFyc2UoJGF0dHJzLm1kSXNFcnJvcik7XG5cbiAgICBzZWxmLmRlbGVnYXRlQ2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuaW5wdXQuZm9jdXMoKTtcbiAgICB9O1xuICAgIHNlbGYuZWxlbWVudCA9ICRlbGVtZW50O1xuICAgIHNlbGYuc2V0Rm9jdXNlZCA9IGZ1bmN0aW9uKGlzRm9jdXNlZCkge1xuICAgICAgJGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ21kLWlucHV0LWZvY3VzZWQnLCAhIWlzRm9jdXNlZCk7XG4gICAgfTtcbiAgICBzZWxmLnNldEhhc1ZhbHVlID0gZnVuY3Rpb24oaGFzVmFsdWUpIHtcbiAgICAgICRlbGVtZW50LnRvZ2dsZUNsYXNzKCdtZC1pbnB1dC1oYXMtdmFsdWUnLCAhIWhhc1ZhbHVlKTtcbiAgICB9O1xuICAgIHNlbGYuc2V0SW52YWxpZCA9IGZ1bmN0aW9uKGlzSW52YWxpZCkge1xuICAgICAgJGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ21kLWlucHV0LWludmFsaWQnLCAhIWlzSW52YWxpZCk7XG4gICAgfTtcbiAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHNlbGYubGFiZWwgJiYgc2VsZi5pbnB1dDtcbiAgICB9LCBmdW5jdGlvbihoYXNMYWJlbEFuZElucHV0KSB7XG4gICAgICBpZiAoaGFzTGFiZWxBbmRJbnB1dCAmJiAhc2VsZi5sYWJlbC5hdHRyKCdmb3InKSkge1xuICAgICAgICBzZWxmLmxhYmVsLmF0dHIoJ2ZvcicsIHNlbGYuaW5wdXQuYXR0cignaWQnKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbm1kSW5wdXRDb250YWluZXJEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZFRoZW1pbmdcIiwgXCIkcGFyc2VcIl07XG5cbmZ1bmN0aW9uIGxhYmVsRGlyZWN0aXZlKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVxdWlyZTogJ14/bWRJbnB1dENvbnRhaW5lcicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGNvbnRhaW5lckN0cmwpIHtcbiAgICAgIGlmICghY29udGFpbmVyQ3RybCB8fCBhdHRyLm1kTm9GbG9hdCkgcmV0dXJuO1xuXG4gICAgICBjb250YWluZXJDdHJsLmxhYmVsID0gZWxlbWVudDtcbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY29udGFpbmVyQ3RybC5sYWJlbCA9IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRJbnB1dFxuICogQHJlc3RyaWN0IEVcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5pbnB1dFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIHRoZSBgPGlucHV0PmAgb3IgdGhlICBgPHRleHRhcmVhPmAgYXMgYSBjaGlsZCBvZiBhbiBgPG1kLWlucHV0LWNvbnRhaW5lcj5gLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyPX0gbWQtbWF4bGVuZ3RoIFRoZSBtYXhpbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIGFsbG93ZWQgaW4gdGhpcyBpbnB1dC4gSWYgdGhpcyBpcyBzcGVjaWZpZWQsIGEgY2hhcmFjdGVyIGNvdW50ZXIgd2lsbCBiZSBzaG93biB1bmRlcm5lYXRoIHRoZSBpbnB1dC48YnIvPjxici8+XG4gKiBUaGUgcHVycG9zZSBvZiAqKmBtZC1tYXhsZW5ndGhgKiogaXMgZXhhY3RseSB0byBzaG93IHRoZSBtYXggbGVuZ3RoIGNvdW50ZXIgdGV4dC4gSWYgeW91IGRvbid0IHdhbnQgdGhlIGNvdW50ZXIgdGV4dCBhbmQgb25seSBuZWVkIFwicGxhaW5cIiB2YWxpZGF0aW9uLCB5b3UgY2FuIHVzZSB0aGUgXCJzaW1wbGVcIiBgbmctbWF4bGVuZ3RoYCBvciBtYXhsZW5ndGggYXR0cmlidXRlcy5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gYXJpYS1sYWJlbCBBcmlhLWxhYmVsIGlzIHJlcXVpcmVkIHdoZW4gbm8gbGFiZWwgaXMgcHJlc2VudC4gIEEgd2FybmluZyBtZXNzYWdlIHdpbGwgYmUgbG9nZ2VkIGluIHRoZSBjb25zb2xlIGlmIG5vdCBwcmVzZW50LlxuICogQHBhcmFtIHtzdHJpbmc9fSBwbGFjZWhvbGRlciBBbiBhbHRlcm5hdGl2ZSBhcHByb2FjaCB0byB1c2luZyBhcmlhLWxhYmVsIHdoZW4gdGhlIGxhYmVsIGlzIG5vdCBwcmVzZW50LiAgVGhlIHBsYWNlaG9sZGVyIHRleHQgaXMgY29waWVkIHRvIHRoZSBhcmlhLWxhYmVsIGF0dHJpYnV0ZS5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtaW5wdXQtY29udGFpbmVyPlxuICogICA8bGFiZWw+Q29sb3I8L2xhYmVsPlxuICogICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImNvbG9yXCIgcmVxdWlyZWQgbWQtbWF4bGVuZ3RoPVwiMTBcIj5cbiAqIDwvbWQtaW5wdXQtY29udGFpbmVyPlxuICogPC9obGpzPlxuICogPGgzPldpdGggRXJyb3JzPC9oMz5cbiAqXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XG4gKiAgIDxtZC1pbnB1dC1jb250YWluZXI+XG4gKiAgICAgPGxhYmVsPkxhc3QgTmFtZTwvbGFiZWw+XG4gKiAgICAgPGlucHV0IG5hbWU9XCJsYXN0TmFtZVwiIG5nLW1vZGVsPVwibGFzdE5hbWVcIiByZXF1aXJlZCBtZC1tYXhsZW5ndGg9XCIxMFwiIG1pbmxlbmd0aD1cIjRcIj5cbiAqICAgICA8ZGl2IG5nLW1lc3NhZ2VzPVwidXNlckZvcm0ubGFzdE5hbWUuJGVycm9yXCIgbmctc2hvdz1cInVzZXJGb3JtLmxhc3ROYW1lLiRkaXJ0eVwiPlxuICogICAgICAgPGRpdiBuZy1tZXNzYWdlPVwicmVxdWlyZWRcIj5UaGlzIGlzIHJlcXVpcmVkITwvZGl2PlxuICogICAgICAgPGRpdiBuZy1tZXNzYWdlPVwibWQtbWF4bGVuZ3RoXCI+VGhhdCdzIHRvbyBsb25nITwvZGl2PlxuICogICAgICAgPGRpdiBuZy1tZXNzYWdlPVwibWlubGVuZ3RoXCI+VGhhdCdzIHRvbyBzaG9ydCE8L2Rpdj5cbiAqICAgICA8L2Rpdj5cbiAqICAgPC9tZC1pbnB1dC1jb250YWluZXI+XG4gKiAgIDxtZC1pbnB1dC1jb250YWluZXI+XG4gKiAgICAgPGxhYmVsPkJpb2dyYXBoeTwvbGFiZWw+XG4gKiAgICAgPHRleHRhcmVhIG5hbWU9XCJiaW9cIiBuZy1tb2RlbD1cImJpb2dyYXBoeVwiIHJlcXVpcmVkIG1kLW1heGxlbmd0aD1cIjE1MFwiPjwvdGV4dGFyZWE+XG4gKiAgICAgPGRpdiBuZy1tZXNzYWdlcz1cInVzZXJGb3JtLmJpby4kZXJyb3JcIiBuZy1zaG93PVwidXNlckZvcm0uYmlvLiRkaXJ0eVwiPlxuICogICAgICAgPGRpdiBuZy1tZXNzYWdlPVwicmVxdWlyZWRcIj5UaGlzIGlzIHJlcXVpcmVkITwvZGl2PlxuICogICAgICAgPGRpdiBuZy1tZXNzYWdlPVwibWQtbWF4bGVuZ3RoXCI+VGhhdCdzIHRvbyBsb25nITwvZGl2PlxuICogICAgIDwvZGl2PlxuICogICA8L21kLWlucHV0LWNvbnRhaW5lcj5cbiAqICAgPG1kLWlucHV0LWNvbnRhaW5lcj5cbiAqICAgICA8aW5wdXQgYXJpYS1sYWJlbD0ndGl0bGUnIG5nLW1vZGVsPSd0aXRsZSc+XG4gKiAgIDwvbWQtaW5wdXQtY29udGFpbmVyPlxuICogICA8bWQtaW5wdXQtY29udGFpbmVyPlxuICogICAgIDxpbnB1dCBwbGFjZWhvbGRlcj0ndGl0bGUnIG5nLW1vZGVsPSd0aXRsZSc+XG4gKiAgIDwvbWQtaW5wdXQtY29udGFpbmVyPlxuICogPC9mb3JtPlxuICogPC9obGpzPlxuICpcbiAqIFJlcXVpcmVzIFtuZ01lc3NhZ2VzXShodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmdNZXNzYWdlcykuXG4gKiBCZWhhdmVzIGxpa2UgdGhlIFtBbmd1bGFySlMgaW5wdXQgZGlyZWN0aXZlXShodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmcvZGlyZWN0aXZlL2lucHV0KS5cbiAqXG4gKi9cblxuZnVuY3Rpb24gaW5wdXRUZXh0YXJlYURpcmVjdGl2ZSgkbWRVdGlsLCAkd2luZG93LCAkbWRBcmlhKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXF1aXJlOiBbJ14/bWRJbnB1dENvbnRhaW5lcicsICc/bmdNb2RlbCddLFxuICAgIGxpbms6IHBvc3RMaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG5cbiAgICB2YXIgY29udGFpbmVyQ3RybCA9IGN0cmxzWzBdO1xuICAgIHZhciBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdIHx8ICRtZFV0aWwuZmFrZU5nTW9kZWwoKTtcbiAgICB2YXIgaXNSZWFkb25seSA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHIucmVhZG9ubHkpO1xuXG4gICAgaWYgKCAhY29udGFpbmVyQ3RybCApIHJldHVybjtcbiAgICBpZiAoY29udGFpbmVyQ3RybC5pbnB1dCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiPG1kLWlucHV0LWNvbnRhaW5lcj4gY2FuIG9ubHkgaGF2ZSAqb25lKiA8aW5wdXQ+IG9yIDx0ZXh0YXJlYT4gY2hpbGQgZWxlbWVudCFcIik7XG4gICAgfVxuICAgIGNvbnRhaW5lckN0cmwuaW5wdXQgPSBlbGVtZW50O1xuXG4gICAgaWYoIWNvbnRhaW5lckN0cmwubGFiZWwpIHtcbiAgICAgICRtZEFyaWEuZXhwZWN0KGVsZW1lbnQsICdhcmlhLWxhYmVsJywgZWxlbWVudC5hdHRyKCdwbGFjZWhvbGRlcicpKTtcbiAgICB9XG5cbiAgICBlbGVtZW50LmFkZENsYXNzKCdtZC1pbnB1dCcpO1xuICAgIGlmICghZWxlbWVudC5hdHRyKCdpZCcpKSB7XG4gICAgICBlbGVtZW50LmF0dHIoJ2lkJywgJ2lucHV0XycgKyAkbWRVdGlsLm5leHRVaWQoKSk7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnRbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAndGV4dGFyZWEnKSB7XG4gICAgICBzZXR1cFRleHRhcmVhKCk7XG4gICAgfVxuXG4gICAgdmFyIGlzRXJyb3JHZXR0ZXIgPSBjb250YWluZXJDdHJsLmlzRXJyb3JHZXR0ZXIgfHwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmdNb2RlbEN0cmwuJGludmFsaWQgJiYgbmdNb2RlbEN0cmwuJHRvdWNoZWQ7XG4gICAgfTtcbiAgICBzY29wZS4kd2F0Y2goaXNFcnJvckdldHRlciwgY29udGFpbmVyQ3RybC5zZXRJbnZhbGlkKTtcblxuICAgIG5nTW9kZWxDdHJsLiRwYXJzZXJzLnB1c2gobmdNb2RlbFBpcGVsaW5lQ2hlY2tWYWx1ZSk7XG4gICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChuZ01vZGVsUGlwZWxpbmVDaGVja1ZhbHVlKTtcblxuICAgIGVsZW1lbnQub24oJ2lucHV0JywgaW5wdXRDaGVja1ZhbHVlKTtcblxuICAgIGlmICghaXNSZWFkb25seSkge1xuICAgICAgZWxlbWVudFxuICAgICAgICAub24oJ2ZvY3VzJywgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICBjb250YWluZXJDdHJsLnNldEZvY3VzZWQodHJ1ZSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbignYmx1cicsIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgY29udGFpbmVyQ3RybC5zZXRGb2N1c2VkKGZhbHNlKTtcbiAgICAgICAgICBpbnB1dENoZWNrVmFsdWUoKTtcbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICAvL25nTW9kZWxDdHJsLiRzZXRUb3VjaGVkKCk7XG4gICAgLy9pZiggbmdNb2RlbEN0cmwuJGludmFsaWQgKSBjb250YWluZXJDdHJsLnNldEludmFsaWQoKTtcblxuICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnRhaW5lckN0cmwuc2V0Rm9jdXNlZChmYWxzZSk7XG4gICAgICBjb250YWluZXJDdHJsLnNldEhhc1ZhbHVlKGZhbHNlKTtcbiAgICAgIGNvbnRhaW5lckN0cmwuaW5wdXQgPSBudWxsO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuZ01vZGVsUGlwZWxpbmVDaGVja1ZhbHVlKGFyZykge1xuICAgICAgY29udGFpbmVyQ3RybC5zZXRIYXNWYWx1ZSghbmdNb2RlbEN0cmwuJGlzRW1wdHkoYXJnKSk7XG4gICAgICByZXR1cm4gYXJnO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbnB1dENoZWNrVmFsdWUoKSB7XG4gICAgICAvLyBBbiBpbnB1dCdzIHZhbHVlIGNvdW50cyBpZiBpdHMgbGVuZ3RoID4gMCxcbiAgICAgIC8vIG9yIGlmIHRoZSBpbnB1dCdzIHZhbGlkaXR5IHN0YXRlIHNheXMgaXQgaGFzIGJhZCBpbnB1dCAoZWcgc3RyaW5nIGluIGEgbnVtYmVyIGlucHV0KVxuICAgICAgY29udGFpbmVyQ3RybC5zZXRIYXNWYWx1ZShlbGVtZW50LnZhbCgpLmxlbmd0aCA+IDAgfHwgKGVsZW1lbnRbMF0udmFsaWRpdHl8fHt9KS5iYWRJbnB1dCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0dXBUZXh0YXJlYSgpIHtcbiAgICAgIHZhciBub2RlID0gZWxlbWVudFswXTtcbiAgICAgIHZhciBvbkNoYW5nZVRleHRhcmVhID0gJG1kVXRpbC5kZWJvdW5jZShncm93VGV4dGFyZWEsIDEpO1xuXG4gICAgICBmdW5jdGlvbiBwaXBlbGluZUxpc3RlbmVyKHZhbHVlKSB7XG4gICAgICAgIG9uQ2hhbmdlVGV4dGFyZWEoKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobmdNb2RlbEN0cmwpIHtcbiAgICAgICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChwaXBlbGluZUxpc3RlbmVyKTtcbiAgICAgICAgbmdNb2RlbEN0cmwuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMucHVzaChwaXBlbGluZUxpc3RlbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uQ2hhbmdlVGV4dGFyZWEoKTtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnQub24oJ2tleWRvd24gaW5wdXQnLCBvbkNoYW5nZVRleHRhcmVhKTtcbiAgICAgIGVsZW1lbnQub24oJ3Njcm9sbCcsIG9uU2Nyb2xsKTtcbiAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vbigncmVzaXplJywgb25DaGFuZ2VUZXh0YXJlYSk7XG5cbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZigncmVzaXplJywgb25DaGFuZ2VUZXh0YXJlYSk7XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gZ3Jvd1RleHRhcmVhKCkge1xuICAgICAgICBub2RlLnN0eWxlLmhlaWdodCA9IFwiYXV0b1wiO1xuICAgICAgICBub2RlLnNjcm9sbFRvcCA9IDA7XG4gICAgICAgIHZhciBoZWlnaHQgPSBnZXRIZWlnaHQoKTtcbiAgICAgICAgaWYgKGhlaWdodCkgbm9kZS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRIZWlnaHQgKCkge1xuICAgICAgICB2YXIgbGluZSA9IG5vZGUuc2Nyb2xsSGVpZ2h0IC0gbm9kZS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHJldHVybiBub2RlLm9mZnNldEhlaWdodCArIChsaW5lID4gMCA/IGxpbmUgOiAwKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25TY3JvbGwoZSkge1xuICAgICAgICBub2RlLnNjcm9sbFRvcCA9IDA7XG4gICAgICAgIC8vIGZvciBzbW9vdGggbmV3IGxpbmUgYWRkaW5nXG4gICAgICAgIHZhciBsaW5lID0gbm9kZS5zY3JvbGxIZWlnaHQgLSBub2RlLm9mZnNldEhlaWdodDtcbiAgICAgICAgdmFyIGhlaWdodCA9IG5vZGUub2Zmc2V0SGVpZ2h0ICsgbGluZTtcbiAgICAgICAgbm9kZS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuaW5wdXRUZXh0YXJlYURpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kVXRpbFwiLCBcIiR3aW5kb3dcIiwgXCIkbWRBcmlhXCJdO1xuXG5mdW5jdGlvbiBtZE1heGxlbmd0aERpcmVjdGl2ZSgkYW5pbWF0ZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogWyduZ01vZGVsJywgJ15tZElucHV0Q29udGFpbmVyJ10sXG4gICAgbGluazogcG9zdExpbmtcbiAgfTtcblxuICBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcbiAgICB2YXIgbWF4bGVuZ3RoO1xuICAgIHZhciBuZ01vZGVsQ3RybCA9IGN0cmxzWzBdO1xuICAgIHZhciBjb250YWluZXJDdHJsID0gY3RybHNbMV07XG4gICAgdmFyIGNoYXJDb3VudEVsID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwibWQtY2hhci1jb3VudGVyXCI+Jyk7XG5cbiAgICAvLyBTdG9wIG1vZGVsIGZyb20gdHJpbW1pbmcuIFRoaXMgbWFrZXMgaXQgc28gd2hpdGVzcGFjZVxuICAgIC8vIG92ZXIgdGhlIG1heGxlbmd0aCBzdGlsbCBjb3VudHMgYXMgaW52YWxpZC5cbiAgICBhdHRyLiRzZXQoJ25nVHJpbScsICdmYWxzZScpO1xuICAgIGNvbnRhaW5lckN0cmwuZWxlbWVudC5hcHBlbmQoY2hhckNvdW50RWwpO1xuXG4gICAgbmdNb2RlbEN0cmwuJGZvcm1hdHRlcnMucHVzaChyZW5kZXJDaGFyQ291bnQpO1xuICAgIG5nTW9kZWxDdHJsLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLnB1c2gocmVuZGVyQ2hhckNvdW50KTtcbiAgICBlbGVtZW50Lm9uKCdpbnB1dCBrZXlkb3duJywgZnVuY3Rpb24oKSB7XG4gICAgICByZW5kZXJDaGFyQ291bnQoKTsgLy9tYWtlIHN1cmUgaXQncyBjYWxsZWQgd2l0aCBubyBhcmdzXG4gICAgfSk7XG5cbiAgICBzY29wZS4kd2F0Y2goYXR0ci5tZE1heGxlbmd0aCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIG1heGxlbmd0aCA9IHZhbHVlO1xuICAgICAgaWYgKGFuZ3VsYXIuaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlID4gMCkge1xuICAgICAgICBpZiAoIWNoYXJDb3VudEVsLnBhcmVudCgpLmxlbmd0aCkge1xuICAgICAgICAgICRhbmltYXRlLmVudGVyKGNoYXJDb3VudEVsLCBjb250YWluZXJDdHJsLmVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KGNvbnRhaW5lckN0cmwuZWxlbWVudFswXS5sYXN0RWxlbWVudENoaWxkKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyQ2hhckNvdW50KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkYW5pbWF0ZS5sZWF2ZShjaGFyQ291bnRFbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBuZ01vZGVsQ3RybC4kdmFsaWRhdG9yc1snbWQtbWF4bGVuZ3RoJ10gPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICAgIGlmICghYW5ndWxhci5pc051bWJlcihtYXhsZW5ndGgpIHx8IG1heGxlbmd0aCA8IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gKCBtb2RlbFZhbHVlIHx8IGVsZW1lbnQudmFsKCkgfHwgdmlld1ZhbHVlIHx8ICcnICkubGVuZ3RoIDw9IG1heGxlbmd0aDtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVuZGVyQ2hhckNvdW50KHZhbHVlKSB7XG4gICAgICBjaGFyQ291bnRFbC50ZXh0KCAoIGVsZW1lbnQudmFsKCkgfHwgdmFsdWUgfHwgJycgKS5sZW5ndGggKyAnLycgKyBtYXhsZW5ndGggKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH1cbn1cbm1kTWF4bGVuZ3RoRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkYW5pbWF0ZVwiXTtcblxuZnVuY3Rpb24gcGxhY2Vob2xkZXJEaXJlY3RpdmUoJGxvZykge1xuICB2YXIgYmxhY2tMaXN0RWxlbWVudHMgPSBbJ01ELVNFTEVDVCddO1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJ15eP21kSW5wdXRDb250YWluZXInLFxuICAgIHByaW9yaXR5OiAyMDAsXG4gICAgbGluazogcG9zdExpbmtcbiAgfTtcblxuICBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgaW5wdXRDb250YWluZXIpIHtcbiAgICBpZiAoIWlucHV0Q29udGFpbmVyKSByZXR1cm47XG4gICAgaWYgKGJsYWNrTGlzdEVsZW1lbnRzLmluZGV4T2YoZWxlbWVudFswXS5ub2RlTmFtZSkgIT0gLTEpIHJldHVybjtcbiAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoaW5wdXRDb250YWluZXIuZWxlbWVudC5hdHRyKCdtZC1uby1mbG9hdCcpKSkgcmV0dXJuO1xuXG4gICAgdmFyIHBsYWNlaG9sZGVyVGV4dCA9IGF0dHIucGxhY2Vob2xkZXI7XG4gICAgZWxlbWVudC5yZW1vdmVBdHRyKCdwbGFjZWhvbGRlcicpO1xuXG4gICAgaWYgKCBpbnB1dENvbnRhaW5lci5lbGVtZW50LmZpbmQoJ2xhYmVsJykubGVuZ3RoID09IDAgKSB7XG4gICAgICB2YXIgcGxhY2Vob2xkZXIgPSAnPGxhYmVsIG5nLWNsaWNrPVwiZGVsZWdhdGVDbGljaygpXCI+JyArIHBsYWNlaG9sZGVyVGV4dCArICc8L2xhYmVsPic7XG5cbiAgICAgIGlucHV0Q29udGFpbmVyLmVsZW1lbnQuYWRkQ2xhc3MoJ21kLWljb24tZmxvYXQnKTtcbiAgICAgIGlucHV0Q29udGFpbmVyLmVsZW1lbnQucHJlcGVuZChwbGFjZWhvbGRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICRsb2cud2FybihcIlRoZSBwbGFjZWhvbGRlcj0nXCIgKyBwbGFjZWhvbGRlclRleHQgKyBcIicgd2lsbCBiZSBpZ25vcmVkIHNpbmNlIHRoaXMgbWQtaW5wdXQtY29udGFpbmVyIGhhcyBhIGNoaWxkIGxhYmVsIGVsZW1lbnQuXCIpO1xuICAgIH1cblxuICB9XG59XG5wbGFjZWhvbGRlckRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJGxvZ1wiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5saXN0XG4gKiBAZGVzY3JpcHRpb25cbiAqIExpc3QgbW9kdWxlXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmxpc3QnLCBbXG4gICdtYXRlcmlhbC5jb3JlJ1xuXSlcbiAgLmNvbnRyb2xsZXIoJ01kTGlzdENvbnRyb2xsZXInLCBNZExpc3RDb250cm9sbGVyKVxuICAuZGlyZWN0aXZlKCdtZExpc3QnLCBtZExpc3REaXJlY3RpdmUpXG4gIC5kaXJlY3RpdmUoJ21kTGlzdEl0ZW0nLCBtZExpc3RJdGVtRGlyZWN0aXZlKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZExpc3RcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5saXN0XG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgPG1kLWxpc3Q+YCBkaXJlY3RpdmUgaXMgYSBsaXN0IGNvbnRhaW5lciBmb3IgMS4ubiBgPG1kLWxpc3QtaXRlbT5gIHRhZ3MuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWxpc3Q+XG4gKiAgIDxtZC1saXN0LWl0ZW0gY2xhc3M9XCJtZC0yLWxpbmVcIiBuZy1yZXBlYXQ9XCJpdGVtIGluIHRvZG9zXCI+XG4gKiAgICAgPG1kLWNoZWNrYm94IG5nLW1vZGVsPVwiaXRlbS5kb25lXCI+PC9tZC1jaGVja2JveD5cbiAqICAgICA8ZGl2IGNsYXNzPVwibWQtbGlzdC1pdGVtLXRleHRcIj5cbiAqICAgICAgIDxoMz57e2l0ZW0udGl0bGV9fTwvaDM+XG4gKiAgICAgICA8cD57e2l0ZW0uZGVzY3JpcHRpb259fTwvcD5cbiAqICAgICA8L2Rpdj5cbiAqICAgPC9tZC1saXN0LWl0ZW0+XG4gKiA8L21kLWxpc3Q+XG4gKiA8L2hsanM+XG4gKi9cblxuZnVuY3Rpb24gbWRMaXN0RGlyZWN0aXZlKCRtZFRoZW1pbmcpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRFbCkge1xuICAgICAgdEVsWzBdLnNldEF0dHJpYnV0ZSgncm9sZScsICdsaXN0Jyk7XG4gICAgICByZXR1cm4gJG1kVGhlbWluZztcbiAgICB9XG4gIH07XG59XG5tZExpc3REaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZFRoZW1pbmdcIl07XG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kTGlzdEl0ZW1cbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5saXN0XG4gKlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgPG1kLWxpc3QtaXRlbT5gIGRpcmVjdGl2ZSBpcyBhIGNvbnRhaW5lciBpbnRlbmRlZCBmb3Igcm93IGl0ZW1zIGluIGEgYDxtZC1saXN0PmAgY29udGFpbmVyLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqICA8bWQtbGlzdD5cbiAqICAgIDxtZC1saXN0LWl0ZW0+XG4gKiAgICAgICAgICAgIEl0ZW0gY29udGVudCBpbiBsaXN0XG4gKiAgICA8L21kLWxpc3QtaXRlbT5cbiAqICA8L21kLWxpc3Q+XG4gKiA8L2hsanM+XG4gKlxuICovXG5mdW5jdGlvbiBtZExpc3RJdGVtRGlyZWN0aXZlKCRtZEFyaWEsICRtZENvbnN0YW50LCAkdGltZW91dCkge1xuICB2YXIgcHJveGllZFR5cGVzID0gWydtZC1jaGVja2JveCcsICdtZC1zd2l0Y2gnXTtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIGNvbnRyb2xsZXI6ICdNZExpc3RDb250cm9sbGVyJyxcbiAgICBjb21waWxlOiBmdW5jdGlvbih0RWwsIHRBdHRycykge1xuICAgICAgLy8gQ2hlY2sgZm9yIHByb3h5IGNvbnRyb2xzIChubyBuZy1jbGljayBvbiBwYXJlbnQsIGFuZCBhIGNvbnRyb2wgaW5zaWRlKVxuICAgICAgdmFyIHNlY29uZGFyeUl0ZW0gPSB0RWxbMF0ucXVlcnlTZWxlY3RvcignLm1kLXNlY29uZGFyeScpO1xuICAgICAgdmFyIGhhc1Byb3hpZWRFbGVtZW50O1xuICAgICAgdmFyIHByb3h5RWxlbWVudDtcblxuICAgICAgdEVsWzBdLnNldEF0dHJpYnV0ZSgncm9sZScsICdsaXN0aXRlbScpO1xuXG4gICAgICBpZiAoIXRBdHRycy5uZ0NsaWNrKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCB0eXBlOyB0eXBlID0gcHJveGllZFR5cGVzW2ldOyArK2kpIHtcbiAgICAgICAgICBpZiAocHJveHlFbGVtZW50ID0gdEVsWzBdLnF1ZXJ5U2VsZWN0b3IodHlwZSkpIHtcbiAgICAgICAgICAgIGhhc1Byb3hpZWRFbGVtZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzUHJveGllZEVsZW1lbnQpIHtcbiAgICAgICAgICB3cmFwSW4oJ2RpdicpO1xuICAgICAgICB9IGVsc2UgaWYgKCF0RWxbMF0ucXVlcnlTZWxlY3RvcignbWQtYnV0dG9uJykpIHtcbiAgICAgICAgICB0RWwuYWRkQ2xhc3MoJ21kLW5vLXByb3h5Jyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdyYXBJbignYnV0dG9uJyk7XG4gICAgICB9XG4gICAgICBzZXR1cFRvZ2dsZUFyaWEoKTtcblxuXG4gICAgICBmdW5jdGlvbiBzZXR1cFRvZ2dsZUFyaWEoKSB7XG4gICAgICAgIHZhciB0b2dnbGVUeXBlcyA9IFsnbWQtc3dpdGNoJywgJ21kLWNoZWNrYm94J107XG4gICAgICAgIHZhciB0b2dnbGU7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHRvZ2dsZVR5cGU7IHRvZ2dsZVR5cGUgPSB0b2dnbGVUeXBlc1tpXTsgKytpKSB7XG4gICAgICAgICAgaWYgKHRvZ2dsZSA9IHRFbC5maW5kKHRvZ2dsZVR5cGUpWzBdKSB7XG4gICAgICAgICAgICBpZiAoIXRvZ2dsZS5oYXNBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKSkge1xuICAgICAgICAgICAgICB2YXIgcCA9IHRFbC5maW5kKCdwJylbMF07XG4gICAgICAgICAgICAgIGlmICghcCkgcmV0dXJuO1xuICAgICAgICAgICAgICB0b2dnbGUuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ1RvZ2dsZSAnICsgcC50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBJbih0eXBlKSB7XG4gICAgICAgIHZhciBjb250YWluZXI7XG4gICAgICAgIGlmICh0eXBlID09ICdkaXYnKSB7XG4gICAgICAgICAgY29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwibWQtbm8tc3R5bGUgbWQtbGlzdC1pdGVtLWlubmVyXCI+Jyk7XG4gICAgICAgICAgY29udGFpbmVyLmFwcGVuZCh0RWwuY29udGVudHMoKSk7XG4gICAgICAgICAgdEVsLmFkZENsYXNzKCdtZC1wcm94eS1mb2N1cycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRhaW5lciA9IGFuZ3VsYXIuZWxlbWVudCgnPG1kLWJ1dHRvbiBjbGFzcz1cIm1kLW5vLXN0eWxlXCI+PGRpdiBjbGFzcz1cIm1kLWxpc3QtaXRlbS1pbm5lclwiPjwvZGl2PjwvbWQtYnV0dG9uPicpO1xuICAgICAgICAgIHZhciBjb3BpZWRBdHRycyA9IFsnbmctY2xpY2snLCAnYXJpYS1sYWJlbCcsICduZy1kaXNhYmxlZCddO1xuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChjb3BpZWRBdHRycywgZnVuY3Rpb24oYXR0cikge1xuICAgICAgICAgICAgaWYgKHRFbFswXS5oYXNBdHRyaWJ1dGUoYXR0cikpIHtcbiAgICAgICAgICAgICAgY29udGFpbmVyWzBdLnNldEF0dHJpYnV0ZShhdHRyLCB0RWxbMF0uZ2V0QXR0cmlidXRlKGF0dHIpKTtcbiAgICAgICAgICAgICAgdEVsWzBdLnJlbW92ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb250YWluZXIuY2hpbGRyZW4oKS5lcSgwKS5hcHBlbmQodEVsLmNvbnRlbnRzKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdEVsWzBdLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgdEVsLmFwcGVuZChjb250YWluZXIpO1xuXG4gICAgICAgIGlmIChzZWNvbmRhcnlJdGVtICYmIHNlY29uZGFyeUl0ZW0uaGFzQXR0cmlidXRlKCduZy1jbGljaycpKSB7XG4gICAgICAgICAgJG1kQXJpYS5leHBlY3Qoc2Vjb25kYXJ5SXRlbSwgJ2FyaWEtbGFiZWwnKTtcbiAgICAgICAgICB2YXIgYnV0dG9uV3JhcHBlciA9IGFuZ3VsYXIuZWxlbWVudCgnPG1kLWJ1dHRvbiBjbGFzcz1cIm1kLXNlY29uZGFyeS1jb250YWluZXIgbWQtaWNvbi1idXR0b25cIj4nKTtcbiAgICAgICAgICBidXR0b25XcmFwcGVyLmF0dHIoJ25nLWNsaWNrJywgc2Vjb25kYXJ5SXRlbS5nZXRBdHRyaWJ1dGUoJ25nLWNsaWNrJykpO1xuICAgICAgICAgIHNlY29uZGFyeUl0ZW0ucmVtb3ZlQXR0cmlidXRlKCduZy1jbGljaycpO1xuICAgICAgICAgIHNlY29uZGFyeUl0ZW0uc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuICAgICAgICAgIHNlY29uZGFyeUl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnbWQtc2Vjb25kYXJ5Jyk7XG4gICAgICAgICAgYnV0dG9uV3JhcHBlci5hcHBlbmQoc2Vjb25kYXJ5SXRlbSk7XG4gICAgICAgICAgc2Vjb25kYXJ5SXRlbSA9IGJ1dHRvbldyYXBwZXJbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBmb3IgYSBzZWNvbmRhcnkgaXRlbSBhbmQgbW92ZSBpdCBvdXRzaWRlXG4gICAgICAgIGlmICggc2Vjb25kYXJ5SXRlbSAmJiAoXG4gICAgICAgICAgc2Vjb25kYXJ5SXRlbS5oYXNBdHRyaWJ1dGUoJ25nLWNsaWNrJykgfHxcbiAgICAgICAgICAgICggdEF0dHJzLm5nQ2xpY2sgJiZcbiAgICAgICAgICAgICBpc1Byb3hpZWRFbGVtZW50KHNlY29uZGFyeUl0ZW0pIClcbiAgICAgICAgKSkge1xuICAgICAgICAgIHRFbC5hZGRDbGFzcygnbWQtd2l0aC1zZWNvbmRhcnknKTtcbiAgICAgICAgICB0RWwuYXBwZW5kKHNlY29uZGFyeUl0ZW0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGlzUHJveGllZEVsZW1lbnQoZWwpIHtcbiAgICAgICAgcmV0dXJuIHByb3hpZWRUeXBlcy5pbmRleE9mKGVsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpICE9IC0xO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcG9zdExpbms7XG5cbiAgICAgIGZ1bmN0aW9uIHBvc3RMaW5rKCRzY29wZSwgJGVsZW1lbnQsICRhdHRyLCBjdHJsKSB7XG5cbiAgICAgICAgdmFyIHByb3hpZXMgICAgPSBbXSxcbiAgICAgICAgICAgIGZpcnN0Q2hpbGQgPSAkZWxlbWVudFswXS5maXJzdEVsZW1lbnRDaGlsZCxcbiAgICAgICAgICAgIGhhc0NsaWNrICAgPSBmaXJzdENoaWxkICYmIGZpcnN0Q2hpbGQuaGFzQXR0cmlidXRlKCduZy1jbGljaycpO1xuXG4gICAgICAgIGNvbXB1dGVQcm94aWVzKCk7XG4gICAgICAgIGNvbXB1dGVDbGlja2FibGUoKTtcblxuICAgICAgICBpZiAoJGVsZW1lbnQuaGFzQ2xhc3MoJ21kLXByb3h5LWZvY3VzJykgJiYgcHJveGllcy5sZW5ndGgpIHtcbiAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocHJveGllcywgZnVuY3Rpb24ocHJveHkpIHtcbiAgICAgICAgICAgIHByb3h5ID0gYW5ndWxhci5lbGVtZW50KHByb3h5KTtcblxuICAgICAgICAgICAgJHNjb3BlLm1vdXNlQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICBwcm94eS5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICRzY29wZS5tb3VzZUFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1vdXNlQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKCdmb2N1cycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoJHNjb3BlLm1vdXNlQWN0aXZlID09PSBmYWxzZSkgeyAkZWxlbWVudC5hZGRDbGFzcygnbWQtZm9jdXNlZCcpOyB9XG4gICAgICAgICAgICAgIHByb3h5Lm9uKCdibHVyJywgZnVuY3Rpb24gcHJveHlPbkJsdXIoKSB7XG4gICAgICAgICAgICAgICAgJGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ21kLWZvY3VzZWQnKTtcbiAgICAgICAgICAgICAgICBwcm94eS5vZmYoJ2JsdXInLCBwcm94eU9uQmx1cik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjb21wdXRlUHJveGllcygpIHtcbiAgICAgICAgICB2YXIgY2hpbGRyZW4gPSAkZWxlbWVudC5jaGlsZHJlbigpO1xuICAgICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggJiYgIWNoaWxkcmVuWzBdLmhhc0F0dHJpYnV0ZSgnbmctY2xpY2snKSkge1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHByb3hpZWRUeXBlcywgZnVuY3Rpb24odHlwZSkge1xuICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZmlyc3RDaGlsZC5xdWVyeVNlbGVjdG9yQWxsKHR5cGUpLCBmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICAgICAgICAgIHByb3hpZXMucHVzaChjaGlsZCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGNvbXB1dGVDbGlja2FibGUoKSB7XG4gICAgICAgICAgaWYgKHByb3hpZXMubGVuZ3RoIHx8IGhhc0NsaWNrKSB7XG4gICAgICAgICAgICAkZWxlbWVudC5hZGRDbGFzcygnbWQtY2xpY2thYmxlJyk7XG5cbiAgICAgICAgICAgIGN0cmwuYXR0YWNoUmlwcGxlKCRzY29wZSwgYW5ndWxhci5lbGVtZW50KCRlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC1uby1zdHlsZScpKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFoYXNDbGljayAmJiAhcHJveGllcy5sZW5ndGgpIHtcbiAgICAgICAgICBmaXJzdENoaWxkICYmIGZpcnN0Q2hpbGQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQubm9kZU5hbWUgIT0gJ0lOUFVUJyAmJiBlLnRhcmdldC5ub2RlTmFtZSAhPSAnVEVYVEFSRUEnKSB7XG4gICAgICAgICAgICAgIHZhciBrZXlDb2RlID0gZS53aGljaCB8fCBlLmtleUNvZGU7XG4gICAgICAgICAgICAgIGlmIChrZXlDb2RlID09ICRtZENvbnN0YW50LktFWV9DT0RFLlNQQUNFKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgIGZpcnN0Q2hpbGQuY2xpY2soKTtcbiAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAkZWxlbWVudC5vZmYoJ2NsaWNrJyk7XG4gICAgICAgICRlbGVtZW50Lm9mZigna2V5cHJlc3MnKTtcblxuICAgICAgICBpZiAocHJveGllcy5sZW5ndGggJiYgZmlyc3RDaGlsZCkge1xuICAgICAgICAgICRlbGVtZW50LmNoaWxkcmVuKCkuZXEoMCkub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKGZpcnN0Q2hpbGQuY29udGFpbnMoZS50YXJnZXQpKSB7XG4gICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChwcm94aWVzLCBmdW5jdGlvbihwcm94eSkge1xuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldCAhPT0gcHJveHkgJiYgIXByb3h5LmNvbnRhaW5zKGUudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KHByb3h5KS50cmlnZ2VySGFuZGxlcignY2xpY2snKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxubWRMaXN0SXRlbURpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kQXJpYVwiLCBcIiRtZENvbnN0YW50XCIsIFwiJHRpbWVvdXRcIl07XG5cbi8qXG4gKiBAcHJpdmF0ZVxuICogQG5nZG9jIGNvbnRyb2xsZXJcbiAqIEBuYW1lIE1kTGlzdENvbnRyb2xsZXJcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5saXN0XG4gKlxuICovXG5mdW5jdGlvbiBNZExpc3RDb250cm9sbGVyKCRzY29wZSwgJGVsZW1lbnQsICRtZExpc3RJbmtSaXBwbGUpIHtcbiAgdmFyIGN0cmwgPSB0aGlzO1xuICBjdHJsLmF0dGFjaFJpcHBsZSA9IGF0dGFjaFJpcHBsZTtcblxuICBmdW5jdGlvbiBhdHRhY2hSaXBwbGUgKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgdmFyIG9wdGlvbnMgPSB7fTtcbiAgICAkbWRMaXN0SW5rUmlwcGxlLmF0dGFjaChzY29wZSwgZWxlbWVudCwgb3B0aW9ucyk7XG4gIH1cbn1cbk1kTGlzdENvbnRyb2xsZXIuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRlbGVtZW50XCIsIFwiJG1kTGlzdElua1JpcHBsZVwiXTtcblxuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLm1lbnVcbiAqL1xuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5tZW51JywgW1xuICAnbWF0ZXJpYWwuY29yZScsXG4gICdtYXRlcmlhbC5jb21wb25lbnRzLmJhY2tkcm9wJ1xuXSlcbi5kaXJlY3RpdmUoJ21kTWVudScsIE1lbnVEaXJlY3RpdmUpXG4uY29udHJvbGxlcignbWRNZW51Q3RybCcsIE1lbnVDb250cm9sbGVyKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZE1lbnVcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5tZW51XG4gKiBAcmVzdHJpY3QgRVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogTWVudXMgYXJlIGVsZW1lbnRzIHRoYXQgb3BlbiB3aGVuIGNsaWNrZWQuIFRoZXkgYXJlIHVzZWZ1bCBmb3IgZGlzcGxheWluZ1xuICogYWRkaXRpb25hbCBvcHRpb25zIHdpdGhpbiB0aGUgY29udGV4dCBvZiBhbiBhY3Rpb24uXG4gKlxuICogRXZlcnkgYG1kLW1lbnVgIG11c3Qgc3BlY2lmeSBleGFjdGx5IHR3byBjaGlsZCBlbGVtZW50cy4gVGhlIGZpcnN0IGVsZW1lbnQgaXMgd2hhdCBpc1xuICogbGVmdCBpbiB0aGUgRE9NIGFuZCBpcyB1c2VkIHRvIG9wZW4gdGhlIG1lbnUuIFRoaXMgZWxlbWVudCBpcyBjYWxsZWQgdGhlIHRyaWdnZXIgZWxlbWVudC5cbiAqIFRoZSB0cmlnZ2VyIGVsZW1lbnQncyBzY29wZSBoYXMgYWNjZXNzIHRvIGAkbWRPcGVuTWVudSgpYFxuICogd2hpY2ggaXQgbWF5IGNhbGwgdG8gb3BlbiB0aGUgbWVudS5cbiAqXG4gKiBUaGUgc2Vjb25kIGVsZW1lbnQgaXMgdGhlIGBtZC1tZW51LWNvbnRlbnRgIGVsZW1lbnQgd2hpY2ggcmVwcmVzZW50cyB0aGVcbiAqIGNvbnRlbnRzIG9mIHRoZSBtZW51IHdoZW4gaXQgaXMgb3Blbi4gVHlwaWNhbGx5IHRoaXMgd2lsbCBjb250YWluIGBtZC1tZW51LWl0ZW1gcyxcbiAqIGJ1dCB5b3UgY2FuIGRvIGN1c3RvbSBjb250ZW50IGFzIHdlbGwuXG4gKlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1tZW51PlxuICogIDwhLS0gVHJpZ2dlciBlbGVtZW50IGlzIGEgbWQtYnV0dG9uIHdpdGggYW4gaWNvbiAtLT5cbiAqICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwiJG1kT3Blbk1lbnUoKVwiIGNsYXNzPVwibWQtaWNvbi1idXR0b25cIiBhcmlhLWxhYmVsPVwiT3BlbiBzYW1wbGUgbWVudVwiPlxuICogICAgPG1kLWljb24gbWQtc3ZnLWljb249XCJjYWxsOnBob25lXCI+PC9tZC1pY29uPlxuICogIDwvbWQtYnV0dG9uPlxuICogIDxtZC1tZW51LWNvbnRlbnQ+XG4gKiAgICA8bWQtbWVudS1pdGVtPjxtZC1idXR0b24gbmctY2xpY2s9XCJkb1NvbWV0aGluZygpXCI+RG8gU29tZXRoaW5nPC9tZC1idXR0b24+PC9tZC1tZW51LWl0ZW0+XG4gKiAgPC9tZC1tZW51LWNvbnRlbnQ+XG4gKiA8L21kLW1lbnU+XG4gKiA8L2hsanM+XG5cbiAqICMjIFNpemluZyBNZW51c1xuICpcbiAqIFRoZSB3aWR0aCBvZiB0aGUgbWVudSB3aGVuIGl0IGlzIG9wZW4gbWF5IGJlIHNwZWNpZmllZCBieSBzcGVjaWZ5aW5nIGEgYHdpZHRoYFxuICogYXR0cmlidXRlIG9uIHRoZSBgbWQtbWVudS1jb250ZW50YCBlbGVtZW50LlxuICogU2VlIHRoZSBbTWF0ZXJpYWwgRGVzaWduIFNwZWNdKGh0dHA6Ly93d3cuZ29vZ2xlLmNvbS9kZXNpZ24vc3BlYy9jb21wb25lbnRzL21lbnVzLmh0bWwjbWVudXMtc3BlY3MpXG4gKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKlxuICogIyMgQWxpZ25pbmcgTWVudXNcbiAqXG4gKiBXaGVuIGEgbWVudSBvcGVucywgaXQgaXMgaW1wb3J0YW50IHRoYXQgdGhlIGNvbnRlbnQgYWxpZ25zIHdpdGggdGhlIHRyaWdnZXIgZWxlbWVudC5cbiAqIEZhaWx1cmUgdG8gYWxpZ24gbWVudXMgY2FuIHJlc3VsdCBpbiBqYXJyaW5nIGV4cGVyaWVuY2VzIGZvciB1c2VycyBhcyBjb250ZW50XG4gKiBzdWRkZW5seSBzaGlmdHMuIFRvIGhlbHAgd2l0aCB0aGlzLCBgbWQtbWVudWAgcHJvdmlkZXMgc2VydmVyYWwgQVBJcyB0byBoZWxwXG4gKiB3aXRoIGFsaWdubWVudC5cbiAqXG4gKiAjIyMgVGFyZ2V0IE1vZGVcbiAqXG4gKiBCeSBkZWZhdWx0LCBgbWQtbWVudWAgd2lsbCBhdHRlbXB0IHRvIGFsaWduIHRoZSBgbWQtbWVudS1jb250ZW50YCBieSBhbGlnbmluZ1xuICogZGVzaWduYXRlZCBjaGlsZCBlbGVtZW50cyBpbiBib3RoIHRoZSB0cmlnZ2VyIGFuZCB0aGUgbWVudSBjb250ZW50LlxuICpcbiAqIFRvIHNwZWNpZnkgdGhlIGFsaWdubWVudCBlbGVtZW50IGluIHRoZSBgdHJpZ2dlcmAgeW91IGNhbiB1c2UgdGhlIGBtZC1tZW51LW9yaWdpbmBcbiAqIGF0dHJpYnV0ZSBvbiBhIGNoaWxkIGVsZW1lbnQuIElmIG5vIGBtZC1tZW51LW9yaWdpbmAgaXMgc3BlY2lmaWVkLCB0aGUgYG1kLW1lbnVgXG4gKiB3aWxsIGJlIHVzZWQgYXMgdGhlIG9yaWdpbiBlbGVtZW50LlxuICpcbiAqIFNpbWlsYXJseSwgdGhlIGBtZC1tZW51LWNvbnRlbnRgIG1heSBzcGVjaWZ5IGEgYG1kLW1lbnUtYWxpZ24tdGFyZ2V0YCBmb3IgYVxuICogYG1kLW1lbnUtaXRlbWAgdG8gc3BlY2lmeSB0aGUgbm9kZSB0aGF0IGl0IHNob3VsZCB0cnkgYW5kIGFsaWduIHdpdGguXG4gKlxuICogSW4gdGhpcyBleGFtcGxlIGNvZGUsIHdlIHNwZWNpZnkgYW4gaWNvbiB0byBiZSBvdXIgb3JpZ2luIGVsZW1lbnQsIGFuZCBhblxuICogaWNvbiBpbiBvdXIgbWVudSBjb250ZW50IHRvIGJlIG91ciBhbGlnbm1lbnQgdGFyZ2V0LiBUaGlzIGVuc3VyZXMgdGhhdCBib3RoXG4gKiBpY29ucyBhcmUgYWxpZ25lZCB3aGVuIHRoZSBtZW51IG9wZW5zLlxuICpcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtbWVudT5cbiAqICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwiJG1kT3Blbk1lbnUoKVwiIGNsYXNzPVwibWQtaWNvbi1idXR0b25cIiBhcmlhLWxhYmVsPVwiT3BlbiBzb21lIG1lbnVcIj5cbiAqICAgIDxtZC1pY29uIG1kLW1lbnUtb3JpZ2luIG1kLXN2Zy1pY29uPVwiY2FsbDpwaG9uZVwiPjwvbWQtaWNvbj5cbiAqICA8L21kLWJ1dHRvbj5cbiAqICA8bWQtbWVudS1jb250ZW50PlxuICogICAgPG1kLW1lbnUtaXRlbT5cbiAqICAgICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cImRvU29tZXRoaW5nKClcIiBhcmlhLWxhYmVsPVwiRG8gc29tZXRoaW5nXCI+XG4gKiAgICAgICAgPG1kLWljb24gbWQtbWVudS1hbGlnbi10YXJnZXQgbWQtc3ZnLWljb249XCJjYWxsOnBob25lXCI+PC9tZC1pY29uPlxuICogICAgICAgIERvIFNvbWV0aGluZ1xuICogICAgICA8L21kLWJ1dHRvbj5cbiAqICAgIDwvbWQtbWVudS1pdGVtPlxuICogIDwvbWQtbWVudS1jb250ZW50PlxuICogPC9tZC1tZW51PlxuICogPC9obGpzPlxuICpcbiAqIFNvbWV0aW1lcyB3ZSB3YW50IHRvIHNwZWNpZnkgYWxpZ25tZW50IG9uIHRoZSByaWdodCBzaWRlIG9mIGFuIGVsZW1lbnQsIGZvciBleGFtcGxlXG4gKiBpZiB3ZSBoYXZlIGEgbWVudSBvbiB0aGUgcmlnaHQgc2lkZSBhIHRvb2xiYXIsIHdlIHdhbnQgdG8gcmlnaHQgYWxpZ24gb3VyIG1lbnUgY29udGVudC5cbiAqXG4gKiBXZSBjYW4gc3BlY2lmeSB0aGUgb3JpZ2luIGJ5IHVzaW5nIHRoZSBgbWQtcG9zaXRpb24tbW9kZWAgYXR0cmlidXRlIG9uIGJvdGhcbiAqIHRoZSBgeGAgYW5kIGB5YCBheGlzLiBSaWdodCBub3cgb25seSB0aGUgYHgtYXhpc2AgaGFzIG1vcmUgdGhhbiBvbmUgb3B0aW9uLlxuICogWW91IG1heSBzcGVjaWZ5IHRoZSBkZWZhdWx0IG1vZGUgb2YgYHRhcmdldCB0YXJnZXRgIG9yXG4gKiBgdGFyZ2V0LXJpZ2h0IHRhcmdldGAgdG8gc3BlY2lmeSBhIHJpZ2h0LW9yaWVudGVkIGFsaWdubWVudCB0YXJnZXQuIFNlZSB0aGVcbiAqIHBvc2l0aW9uIHNlY3Rpb24gb2YgdGhlIGRlbW9zIGZvciBtb3JlIGV4YW1wbGVzLlxuICpcbiAqICMjIyBNZW51IE9mZnNldHNcbiAqXG4gKiBJdCBpcyBzb21ldGltZXMgdW5hdm9pZGFibGUgdG8gbmVlZCB0byBoYXZlIGEgZGVlcGVyIGxldmVsIG9mIGNvbnRyb2wgZm9yXG4gKiB0aGUgcG9zaXRpb25pbmcgb2YgYSBtZW51IHRvIGVuc3VyZSBwZXJmZWN0IGFsaWdubWVudC4gYG1kLW1lbnVgIHByb3ZpZGVzXG4gKiB0aGUgYG1kLW9mZnNldGAgYXR0cmlidXRlIHRvIGFsbG93IHBpeGVsIGxldmVsIHNwZWNpZmljdHkgb2YgYWRqdXN0aW5nIHRoZVxuICogZXhhY3QgcG9zaXRpb25pbmcuXG4gKlxuICogVGhpcyBvZmZzZXQgaXMgcHJvdmlkZWQgaW4gdGhlIGZvcm1hdCBvZiBgeCB5YCBvciBgbmAgd2hlcmUgYG5gIHdpbGwgYmUgdXNlZFxuICogaW4gYm90aCB0aGUgYHhgIGFuZCBgeWAgYXhpcy5cbiAqXG4gKiBGb3IgZXhhbXBsZSwgdG8gbW92ZSBhIG1lbnUgYnkgYDJweGAgZnJvbSB0aGUgdG9wLCB3ZSBjYW4gdXNlOlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1tZW51IG1kLW9mZnNldD1cIjIgMFwiPlxuICogICA8IS0tIG1lbnUtY29udGVudCAtLT5cbiAqIDwvbWQtbWVudT5cbiAqIDwvaGxqcz5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtbWVudT5cbiAqICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwiJG1kT3Blbk1lbnUoKVwiIGNsYXNzPVwibWQtaWNvbi1idXR0b25cIj5cbiAqICAgIDxtZC1pY29uIG1kLXN2Zy1pY29uPVwiY2FsbDpwaG9uZVwiPjwvbWQtaWNvbj5cbiAqICA8L21kLWJ1dHRvbj5cbiAqICA8bWQtbWVudS1jb250ZW50PlxuICogICAgPG1kLW1lbnUtaXRlbT48bWQtYnV0dG9uIG5nLWNsaWNrPVwiZG9Tb21ldGhpbmcoKVwiPkRvIFNvbWV0aGluZzwvbWQtYnV0dG9uPjwvbWQtbWVudS1pdGVtPlxuICogIDwvbWQtbWVudS1jb250ZW50PlxuICogPC9tZC1tZW51PlxuICogPC9obGpzPlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZC1wb3NpdGlvbi1tb2RlIFRoZSBwb3NpdGlvbiBtb2RlIGluIHRoZSBmb3JtIG9mXG4gICAgICAgICAgICAgYHhgLCBgeWAuIERlZmF1bHQgdmFsdWUgaXMgYHRhcmdldGAsYHRhcmdldGAuIFJpZ2h0IG5vdyB0aGUgYHhgIGF4aXNcbiAgICAgICAgICAgICBhbHNvIHN1cHBwb3J0cyBgdGFyZ2V0LXJpZ2h0YC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZC1vZmZzZXQgQW4gb2Zmc2V0IHRvIGFwcGx5IHRvIHRoZSBkcm9wZG93biBhZnRlciBwb3NpdGlvbmluZ1xuICAgICAgICAgICAgIGB4YCwgYHlgLiBEZWZhdWx0IHZhbHVlIGlzIGAwYCxgMGAuXG4gKlxuICovXG5cbmZ1bmN0aW9uIE1lbnVEaXJlY3RpdmUoJG1kTWVudSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVxdWlyZTogJ21kTWVudScsXG4gICAgY29udHJvbGxlcjogJ21kTWVudUN0cmwnLCAvLyBlbXB0eSBmdW5jdGlvbiB0byBiZSBidWlsdCBieSBsaW5rXG4gICAgc2NvcGU6IHRydWUsXG4gICAgY29tcGlsZTogY29tcGlsZVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNvbXBpbGUodGVtcGxhdGVFbGVtZW50KSB7XG4gICAgdGVtcGxhdGVFbGVtZW50LmFkZENsYXNzKCdtZC1tZW51Jyk7XG4gICAgdmFyIHRyaWdnZXJFbGVtZW50ID0gdGVtcGxhdGVFbGVtZW50LmNoaWxkcmVuKClbMF07XG4gICAgaWYgKCF0cmlnZ2VyRWxlbWVudC5oYXNBdHRyaWJ1dGUoJ25nLWNsaWNrJykpIHtcbiAgICAgIHRyaWdnZXJFbGVtZW50ID0gdHJpZ2dlckVsZW1lbnQucXVlcnlTZWxlY3RvcignW25nLWNsaWNrXScpO1xuICAgIH1cbiAgICB0cmlnZ2VyRWxlbWVudCAmJiB0cmlnZ2VyRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGFzcG9wdXAnLCAndHJ1ZScpO1xuICAgIGlmICh0ZW1wbGF0ZUVsZW1lbnQuY2hpbGRyZW4oKS5sZW5ndGggIT0gMikge1xuICAgICAgdGhyb3cgRXJyb3IoJ0ludmFsaWQgSFRNTCBmb3IgbWQtbWVudS4gRXhwZWN0ZWQgdHdvIGNoaWxkcmVuIGVsZW1lbnRzLicpO1xuICAgIH1cbiAgICByZXR1cm4gbGluaztcbiAgfVxuXG4gIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBtZE1lbnVDdHJsKSB7XG5cbiAgICAvLyBNb3ZlIGV2ZXJ5dGhpbmcgaW50byBhIG1kLW1lbnUtY29udGFpbmVyIGFuZCBwYXNzIGl0IHRvIHRoZSBjb250cm9sbGVyXG4gICAgdmFyIG1lbnVDb250YWluZXIgPSBhbmd1bGFyLmVsZW1lbnQoXG4gICAgICAnPGRpdiBjbGFzcz1cIm1kLW9wZW4tbWVudS1jb250YWluZXIgbWQtd2hpdGVmcmFtZS16MlwiPjwvZGl2PidcbiAgICApO1xuICAgIHZhciBtZW51Q29udGVudHMgPSBlbGVtZW50LmNoaWxkcmVuKClbMV07XG4gICAgbWVudUNvbnRhaW5lci5hcHBlbmQobWVudUNvbnRlbnRzKTtcbiAgICBtZE1lbnVDdHJsLmluaXQobWVudUNvbnRhaW5lcik7XG5cbiAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAobWRNZW51Q3RybC5pc09wZW4pIHtcbiAgICAgICAgbWVudUNvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgbWRNZW51Q3RybC5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIH1cbn1cbk1lbnVEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZE1lbnVcIl07XG5cbmZ1bmN0aW9uIE1lbnVDb250cm9sbGVyKCRtZE1lbnUsICRhdHRycywgJGVsZW1lbnQsICRzY29wZSkge1xuXG4gIHZhciBtZW51Q29udGFpbmVyO1xuICB2YXIgY3RybCA9IHRoaXM7XG4gIHZhciB0cmlnZ2VyRWxlbWVudDtcblxuICAvLyBDYWxsZWQgYnkgb3VyIGxpbmtpbmcgZm4gdG8gcHJvdmlkZSBhY2Nlc3MgdG8gdGhlIG1lbnUtY29udGVudFxuICAvLyBlbGVtZW50IHJlbW92ZWQgZHVyaW5nIGxpbmtcbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24oc2V0TWVudUNvbnRhaW5lcikge1xuICAgIG1lbnVDb250YWluZXIgPSBzZXRNZW51Q29udGFpbmVyO1xuICAgIHRyaWdnZXJFbGVtZW50ID0gJGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignW25nLWNsaWNrXScpO1xuICB9O1xuXG4gIC8vIFVzZXMgdGhlICRtZE1lbnUgaW50ZXJpbSBlbGVtZW50IHNlcnZpY2UgdG8gb3BlbiB0aGUgbWVudSBjb250ZW50c1xuICB0aGlzLm9wZW4gPSBmdW5jdGlvbiBvcGVuTWVudSgpIHtcbiAgICBjdHJsLmlzT3BlbiA9IHRydWU7XG4gICAgdHJpZ2dlckVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICAkbWRNZW51LnNob3coe1xuICAgICAgbWRNZW51Q3RybDogY3RybCxcbiAgICAgIGVsZW1lbnQ6IG1lbnVDb250YWluZXIsXG4gICAgICB0YXJnZXQ6ICRlbGVtZW50WzBdXG4gICAgfSk7XG4gIH07XG4gIC8vIEV4cG9zZSBhIG9wZW4gZnVuY3Rpb24gdG8gdGhlIGNoaWxkIHNjb3BlIGZvciBodG1sIHRvIHVzZVxuICAkc2NvcGUuJG1kT3Blbk1lbnUgPSB0aGlzLm9wZW47XG5cbiAgLy8gVXNlIHRoZSAkbWRNZW51IGludGVyaW0gZWxlbWVudCBzZXJ2aWNlIHRvIGNsb3NlIHRoZSBtZW51IGNvbnRlbnRzXG4gIHRoaXMuY2xvc2UgPSBmdW5jdGlvbiBjbG9zZU1lbnUoc2tpcEZvY3VzKSB7XG4gICAgY3RybC5pc09wZW4gPSBmYWxzZTtcbiAgICB0cmlnZ2VyRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAkbWRNZW51LmhpZGUoKTtcblxuICAgIGlmICghc2tpcEZvY3VzKSB7XG4gICAgICAkZWxlbWVudC5jaGlsZHJlbigpWzBdLmZvY3VzKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEJ1aWxkIGEgbmljZSBvYmplY3Qgb3V0IG9mIG91ciBzdHJpbmcgYXR0cmlidXRlIHdoaWNoIHNwZWNpZmllcyB0aGVcbiAgLy8gdGFyZ2V0IG1vZGUgZm9yIGxlZnQgYW5kIHRvcCBwb3NpdGlvbmluZ1xuICB0aGlzLnBvc2l0aW9uTW9kZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhdHRhY2htZW50ID0gKCRhdHRycy5tZFBvc2l0aW9uTW9kZSB8fCAndGFyZ2V0Jykuc3BsaXQoJyAnKTtcblxuICAgIC8vIElmIGF0dGFjaG1lbnQgaXMgYSBzaW5nbGUgaXRlbSwgZHVwbGljYXRlIGl0IGZvciBvdXIgc2Vjb25kIHZhbHVlLlxuICAgIC8vIGllLiAndGFyZ2V0JyAtPiAndGFyZ2V0IHRhcmdldCdcbiAgICBpZiAoYXR0YWNobWVudC5sZW5ndGggPT0gMSkge1xuICAgICAgYXR0YWNobWVudC5wdXNoKGF0dGFjaG1lbnRbMF0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBsZWZ0OiBhdHRhY2htZW50WzBdLFxuICAgICAgdG9wOiBhdHRhY2htZW50WzFdXG4gICAgfTtcbiAgfTtcblxuICAvLyBCdWlsZCBhIG5pY2Ugb2JqZWN0IG91dCBvZiBvdXIgc3RyaW5nIGF0dHJpYnV0ZSB3aGljaCBzcGVjaWZpZXNcbiAgLy8gdGhlIG9mZnNldCBvZiB0b3AgYW5kIGxlZnQgaW4gcGl4ZWxzLlxuICB0aGlzLm9mZnNldHMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgb2Zmc2V0cyA9ICgkYXR0cnMubWRPZmZzZXQgfHwgJzAgMCcpLnNwbGl0KCcgJykubWFwKHBhcnNlRmxvYXQpO1xuICAgIGlmIChvZmZzZXRzLmxlbmd0aCA9PSAyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZWZ0OiBvZmZzZXRzWzBdLFxuICAgICAgICB0b3A6IG9mZnNldHNbMV1cbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChvZmZzZXRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IG9mZnNldHNbMF0sXG4gICAgICAgIGxlZnQ6IG9mZnNldHNbMF1cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEVycm9yKCdJbnZhbGlkIG9mZnNldHMgc3BlY2lmaWVkLiBQbGVhc2UgZm9sbG93IGZvcm1hdCA8eCwgeT4gb3IgPG4+Jyk7XG4gICAgfVxuICB9O1xufVxuTWVudUNvbnRyb2xsZXIuJGluamVjdCA9IFtcIiRtZE1lbnVcIiwgXCIkYXR0cnNcIiwgXCIkZWxlbWVudFwiLCBcIiRzY29wZVwiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLm1lbnUnKVxuLnByb3ZpZGVyKCckbWRNZW51JywgTWVudVByb3ZpZGVyKTtcblxuLypcbiAqIEludGVyaW0gZWxlbWVudCBwcm92aWRlciBmb3IgdGhlIG1lbnUuXG4gKiBIYW5kbGVzIGJlaGF2aW9yIGZvciBhIG1lbnUgd2hpbGUgaXQgaXMgb3BlbiwgaW5jbHVkaW5nOlxuICogICAgLSBoYW5kbGluZyBhbmltYXRpbmcgdGhlIG1lbnUgb3BlbmluZy9jbG9zaW5nXG4gKiAgICAtIGhhbmRsaW5nIGtleS9tb3VzZSBldmVudHMgb24gdGhlIG1lbnUgZWxlbWVudFxuICogICAgLSBoYW5kbGluZyBlbmFibGluZy9kaXNhYmxpbmcgc2Nyb2xsIHdoaWxlIHRoZSBtZW51IGlzIG9wZW5cbiAqICAgIC0gaGFuZGxpbmcgcmVkcmF3aW5nIGR1cmluZyByZXNpemVzIGFuZCBvcmllbnRhdGlvbiBjaGFuZ2VzXG4gKlxuICovXG5cbmZ1bmN0aW9uIE1lbnVQcm92aWRlcigkJGludGVyaW1FbGVtZW50UHJvdmlkZXIpIHtcbiAgdmFyIE1FTlVfRURHRV9NQVJHSU4gPSA4O1xuXG4gIG1lbnVEZWZhdWx0T3B0aW9ucy4kaW5qZWN0ID0gW1wiJCRyQUZcIiwgXCIkd2luZG93XCIsIFwiJG1kVXRpbFwiLCBcIiRtZFRoZW1pbmdcIiwgXCIkdGltZW91dFwiLCBcIiRtZENvbnN0YW50XCIsIFwiJGRvY3VtZW50XCJdO1xuICByZXR1cm4gJCRpbnRlcmltRWxlbWVudFByb3ZpZGVyKCckbWRNZW51JylcbiAgICAuc2V0RGVmYXVsdHMoe1xuICAgICAgbWV0aG9kczogWyd0YXJnZXQnXSxcbiAgICAgIG9wdGlvbnM6IG1lbnVEZWZhdWx0T3B0aW9uc1xuICAgIH0pO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBtZW51RGVmYXVsdE9wdGlvbnMoJCRyQUYsICR3aW5kb3csICRtZFV0aWwsICRtZFRoZW1pbmcsICR0aW1lb3V0LCAkbWRDb25zdGFudCwgJGRvY3VtZW50KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhcmVudDogJ2JvZHknLFxuICAgICAgb25TaG93OiBvblNob3csXG4gICAgICBvblJlbW92ZTogb25SZW1vdmUsXG4gICAgICBoYXNCYWNrZHJvcDogdHJ1ZSxcbiAgICAgIGRpc2FibGVQYXJlbnRTY3JvbGw6IHRydWUsXG4gICAgICBza2lwQ29tcGlsZTogdHJ1ZSxcbiAgICAgIHRoZW1hYmxlOiB0cnVlXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJvaWxlcnBsYXRlIGludGVyaW1FbGVtZW50IG9uU2hvdyBmdW5jdGlvblxuICAgICAqIEhhbmRsZXMgaW5zZXJ0aW5nIHRoZSBtZW51IGludG8gdGhlIERPTSwgcG9zaXRpb25pbmcgaXQsIGFuZCB3aXJpbmcgdXBcbiAgICAgKiB2YXJpb3VzIGludGVyYWN0aW9uIGV2ZW50c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uU2hvdyhzY29wZSwgZWxlbWVudCwgb3B0cykge1xuXG4gICAgICAvLyBTYW5pdGl6ZSBhbmQgc2V0IGRlZmF1bHRzIG9uIG9wdHNcbiAgICAgIGJ1aWxkT3B0cyhvcHRzKTtcblxuICAgICAgLy8gV2lyZSB1cCB0aGVtaW5nIG9uIG91ciBtZW51IGVsZW1lbnRcbiAgICAgICRtZFRoZW1pbmcuaW5oZXJpdChvcHRzLm1lbnVDb250ZW50RWwsIG9wdHMudGFyZ2V0KTtcblxuICAgICAgLy8gUmVnaXN0ZXIgdmFyaW91cyBsaXN0ZW5lcnMgdG8gbW92ZSBtZW51IG9uIHJlc2l6ZS9vcmllbnRhdGlvbiBjaGFuZ2VcbiAgICAgIGhhbmRsZVJlc2l6aW5nKCk7XG5cbiAgICAgIC8vIERpc2FibGUgc2Nyb2xsaW5nXG4gICAgICBpZiAob3B0cy5kaXNhYmxlUGFyZW50U2Nyb2xsKSB7XG4gICAgICAgIG9wdHMucmVzdG9yZVNjcm9sbCA9ICRtZFV0aWwuZGlzYWJsZVNjcm9sbEFyb3VuZChvcHRzLmVsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICAvLyBPbmx5IGFjdGl2YXRlIGNsaWNrIGxpc3RlbmVycyBhZnRlciBhIHNob3J0IHRpbWUgdG8gc3RvcCBhY2NpZGVudGFsIGRvdWJsZSB0YXBzL2NsaWNrc1xuICAgICAgLy8gZnJvbSBjbGlja2luZyB0aGUgd3JvbmcgaXRlbVxuICAgICAgJHRpbWVvdXQoYWN0aXZhdGVJbnRlcmFjdGlvbiwgNzUsIGZhbHNlKTtcblxuICAgICAgaWYgKG9wdHMuYmFja2Ryb3ApIHtcbiAgICAgICAgJG1kVGhlbWluZy5pbmhlcml0KG9wdHMuYmFja2Ryb3AsIG9wdHMucGFyZW50KTtcbiAgICAgICAgb3B0cy5wYXJlbnQuYXBwZW5kKG9wdHMuYmFja2Ryb3ApO1xuICAgICAgfVxuICAgICAgc2hvd01lbnUoKTtcblxuICAgICAgLy8gUmV0dXJuIHRoZSBwcm9taXNlIGZvciB3aGVuIG91ciBtZW51IGlzIGRvbmUgYW5pbWF0aW5nIGluXG4gICAgICByZXR1cm4gJG1kVXRpbC50cmFuc2l0aW9uRW5kUHJvbWlzZShlbGVtZW50LCB7dGltZW91dDogMzUwfSk7XG5cbiAgICAgIC8qKiBDaGVjayBmb3IgdmFsaWQgb3B0cyBhbmQgc2V0IHNvbWUgc2FuZSBkZWZhdWx0cyAqL1xuICAgICAgZnVuY3Rpb24gYnVpbGRPcHRzKCkge1xuICAgICAgICBpZiAoIW9wdHMudGFyZ2V0KSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAnJG1kTWVudS5zaG93KCkgZXhwZWN0ZWQgYSB0YXJnZXQgdG8gYW5pbWF0ZSBmcm9tIGluIG9wdGlvbnMudGFyZ2V0J1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgYW5ndWxhci5leHRlbmQob3B0cywge1xuICAgICAgICAgIGFscmVhZHlPcGVuOiBmYWxzZSxcbiAgICAgICAgICBpc1JlbW92ZWQ6IGZhbHNlLFxuICAgICAgICAgIHRhcmdldDogYW5ndWxhci5lbGVtZW50KG9wdHMudGFyZ2V0KSwgLy9tYWtlIHN1cmUgaXQncyBub3QgYSBuYWtlZCBkb20gbm9kZVxuICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KG9wdHMucGFyZW50KSxcbiAgICAgICAgICBtZW51Q29udGVudEVsOiBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCdtZC1tZW51LWNvbnRlbnQnKSksXG4gICAgICAgICAgYmFja2Ryb3A6IG9wdHMuaGFzQmFja2Ryb3AgJiYgYW5ndWxhci5lbGVtZW50KCc8bWQtYmFja2Ryb3AgY2xhc3M9XCJtZC1tZW51LWJhY2tkcm9wIG1kLWNsaWNrLWNhdGNoZXJcIj4nKVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLyoqIFdpcmV1cCB2YXJpb3VzIHJlc2l6ZSBsaXN0ZW5lcnMgZm9yIHNjcmVlbiBjaGFuZ2VzICovXG4gICAgICBmdW5jdGlvbiBoYW5kbGVSZXNpemluZygpIHtcbiAgICAgICAgb3B0cy5yZXNpemVGbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHBvc2l0aW9uTWVudShlbGVtZW50LCBvcHRzKTtcbiAgICAgICAgfTtcbiAgICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9uKCdyZXNpemUnLCBvcHRzLnJlc2l6ZUZuKTtcbiAgICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9uKCdvcmllbnRhdGlvbmNoYW5nZScsIG9wdHMucmVzaXplRm4pO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFBsYWNlIHRoZSBtZW51IGludG8gdGhlIERPTSBhbmQgY2FsbCBwb3NpdGlvbmluZyByZWxhdGVkIGZ1bmN0aW9uc1xuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBzaG93TWVudSgpIHtcbiAgICAgICAgb3B0cy5wYXJlbnQuYXBwZW5kKGVsZW1lbnQpO1xuXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ21kLWxlYXZlJyk7XG4gICAgICAgIC8vIEtpY2sgb2ZmIG91ciBhbmltYXRpb24vcG9zaXRpb25pbmcgYnV0IGZpcnN0LCB3YWl0IGEgZmV3IGZyYW1lc1xuICAgICAgICAvLyBzbyBhbGwgb2Ygb3VyIGNvbXB1dGVkIHBvc2l0aW9ucy9zaXplcyBhcmUgYWNjdXJhdGVcbiAgICAgICAgJCRyQUYoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJCRyQUYoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBwb3NpdGlvbk1lbnUoZWxlbWVudCwgb3B0cyk7XG4gICAgICAgICAgICAvLyBXYWl0IGEgZnJhbWUgYmVmb3JlIGZhZGluZyBpbiBtZW51IChtZC1hY3RpdmUpIHNvIHRoYXQgd2UgZG9uJ3QgdHJpZ2dlclxuICAgICAgICAgICAgLy8gdHJhbnNpdGlvbnMgb24gdGhlIG1lbnUgcG9zaXRpb24gY2hhbmdpbmdcbiAgICAgICAgICAgICQkckFGKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdtZC1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgb3B0cy5hbHJlYWR5T3BlbiA9IHRydWU7XG4gICAgICAgICAgICAgIGVsZW1lbnRbMF0uc3R5bGVbJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STV0gPSAnJztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuXG4gICAgICAvKipcbiAgICAgICAqIEFjdGl2YXRlIGludGVyYWN0aW9uIG9uIHRoZSBtZW51LiBXaXJlIHVwIGtleWJvYXJkIGxpc3Rlcm5zIGZvclxuICAgICAgICogY2xpY2tzLCBrZXlwcmVzc2VzLCBiYWNrZHJvcCBjbG9zaW5nLCBldGMuXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlSW50ZXJhY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ21kLWNsaWNrYWJsZScpO1xuXG4gICAgICAgIC8vIGNsb3NlIG9uIGJhY2tkcm9wIGNsaWNrXG4gICAgICAgIG9wdHMuYmFja2Ryb3AgJiYgb3B0cy5iYWNrZHJvcC5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgb3B0cy5tZE1lbnVDdHJsLmNsb3NlKHRydWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBXaXJlIHVwIGtleWJvYXJkIGxpc3RlbmVycy5cbiAgICAgICAgLy8gQ2xvc2Ugb24gZXNjYXBlLCBmb2N1cyBuZXh0IGl0ZW0gb24gZG93biBhcnJvdywgZm9jdXMgcHJldiBpdGVtIG9uIHVwXG4gICAgICAgIG9wdHMubWVudUNvbnRlbnRFbC5vbigna2V5ZG93bicsIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc3dpdGNoIChldi5rZXlDb2RlKSB7XG4gICAgICAgICAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuRVNDQVBFOiBvcHRzLm1kTWVudUN0cmwuY2xvc2UoKTsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuVVBfQVJST1c6IGZvY3VzTWVudUl0ZW0oZXYsIG9wdHMubWVudUNvbnRlbnRFbCwgb3B0cywgLTEpOyBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAkbWRDb25zdGFudC5LRVlfQ09ERS5ET1dOX0FSUk9XOiBmb2N1c01lbnVJdGVtKGV2LCBvcHRzLm1lbnVDb250ZW50RWwsIG9wdHMsIDEpOyBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2xvc2UgbWVudSBvbiBtZW51IGl0ZW0gY2xpY2ssIGlmIHNhaWQgbWVudS1pdGVtIGlzIG5vdCBkaXNhYmxlZFxuICAgICAgICBvcHRzLm1lbnVDb250ZW50RWwub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgICAvLyBUcmF2ZXJzZSB1cCB0aGUgZXZlbnQgdW50aWwgd2UgZ2V0IHRvIHRoZSBtZW51Q29udGVudEVsIHRvIHNlZSBpZlxuICAgICAgICAgIC8vIHRoZXJlIGlzIGFuIG5nLWNsaWNrIGFuZCB0aGF0IHRoZSBuZy1jbGljayBpcyBub3QgZGlzYWJsZWRcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0ICYmIHRhcmdldC5oYXNBdHRyaWJ1dGUoJ25nLWNsaWNrJykpIHtcbiAgICAgICAgICAgICAgaWYgKCF0YXJnZXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IHdoaWxlICgodGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGUpICYmIHRhcmdldCAhPSBvcHRzLm1lbnVDb250ZW50RWwpXG5cbiAgICAgICAgICBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgb3B0cy5tZE1lbnVDdHJsLmNsb3NlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGtpY2sgb2ZmIGluaXRpYWwgZm9jdXMgaW4gdGhlIG1lbnUgb24gdGhlIGZpcnN0IGVsZW1lbnRcbiAgICAgICAgdmFyIGZvY3VzVGFyZ2V0ID0gb3B0cy5tZW51Q29udGVudEVsWzBdLnF1ZXJ5U2VsZWN0b3IoJ1ttZC1tZW51LWZvY3VzLXRhcmdldF0nKTtcbiAgICAgICAgaWYgKCFmb2N1c1RhcmdldCkgZm9jdXNUYXJnZXQgPSBvcHRzLm1lbnVDb250ZW50RWxbMF0uZmlyc3RFbGVtZW50Q2hpbGQuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICAgIGZvY3VzVGFyZ2V0LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICAqIFRha2VzIGEga2V5cHJlc3MgZXZlbnQgYW5kIGZvY3VzZXMgdGhlIG5leHQvcHJldmlvdXMgbWVudVxuICAgICAgKiBpdGVtIGZyb20gdGhlIGVtaXR0aW5nIGVsZW1lbnRcbiAgICAgICogQHBhcmFtIHtldmVudH0gZSAtIFRoZSBvcmlnaW4ga2V5cHJlc3MgZXZlbnRcbiAgICAgICogQHBhcmFtIHthbmd1bGFyLmVsZW1lbnR9IG1lbnVFbCAtIFRoZSBtZW51IGVsZW1lbnRcbiAgICAgICogQHBhcmFtIHtvYmplY3R9IG9wdHMgLSBUaGUgaW50ZXJpbSBlbGVtZW50IG9wdGlvbnMgZm9yIHRoZSBtZE1lbnVcbiAgICAgICogQHBhcmFtIHtudW1iZXJ9IGRpcmVjdGlvbiAtIFRoZSBkaXJlY3Rpb24gdG8gbW92ZSBpbiAoKzEgPSBuZXh0LCAtMSA9IHByZXYpXG4gICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvY3VzTWVudUl0ZW0oZSwgbWVudUVsLCBvcHRzLCBkaXJlY3Rpb24pIHtcbiAgICAgIHZhciBjdXJyZW50SXRlbSA9ICRtZFV0aWwuZ2V0Q2xvc2VzdChlLnRhcmdldCwgJ01ELU1FTlUtSVRFTScpO1xuXG4gICAgICB2YXIgaXRlbXMgPSAkbWRVdGlsLm5vZGVzVG9BcnJheShtZW51RWxbMF0uY2hpbGRyZW4pO1xuICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IGl0ZW1zLmluZGV4T2YoY3VycmVudEl0ZW0pO1xuXG4gICAgICAvLyBUcmF2ZXJzZSB0aHJvdWdoIG91ciBlbGVtZW50cyBpbiB0aGUgc3BlY2lmaWVkIGRpcmVjdGlvbiAoKy8tMSkgYW5kIHRyeSB0b1xuICAgICAgLy8gZm9jdXMgdGhlbSB1bnRpbCB3ZSBmaW5kIG9uZSB0aGF0IGFjY2VwdHMgZm9jdXNcbiAgICAgIGZvciAodmFyIGkgPSBjdXJyZW50SW5kZXggKyBkaXJlY3Rpb247IGkgPj0gMCAmJiBpIDwgaXRlbXMubGVuZ3RoOyBpID0gaSArIGRpcmVjdGlvbikge1xuICAgICAgICB2YXIgZm9jdXNUYXJnZXQgPSBpdGVtc1tpXS5maXJzdEVsZW1lbnRDaGlsZCB8fCBpdGVtc1tpXTtcbiAgICAgICAgdmFyIGRpZEZvY3VzID0gYXR0ZW1wdEZvY3VzKGZvY3VzVGFyZ2V0KTtcbiAgICAgICAgaWYgKGRpZEZvY3VzKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0cyB0byBmb2N1cyBhbiBlbGVtZW50LiBDaGVja3Mgd2hldGhlciB0aGF0IGVsZW1lbnQgaXMgdGhlIGN1cnJlbnRseVxuICAgICAqIGZvY3VzZWQgZWxlbWVudCBhZnRlciBhdHRlbXB0aW5nLlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsIC0gdGhlIGVsZW1lbnQgdG8gYXR0ZW1wdCBmb2N1cyBvblxuICAgICAqIEByZXR1cm5zIHtib29sfSAtIHdoZXRoZXIgdGhlIGVsZW1lbnQgd2FzIHN1Y2Nlc3NmdWxseSBmb2N1c2VkXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXR0ZW1wdEZvY3VzKGVsKSB7XG4gICAgICBpZiAoZWwgJiYgZWwuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpICE9IC0xKSB7XG4gICAgICAgIGVsLmZvY3VzKCk7XG4gICAgICAgIGlmICgkZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCA9PSBlbCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJvaWxlcnBsYXRlIGludGVyaW1FbGVtZW50IG9uUmVtb3ZlIGZ1bmN0aW9uXG4gICAgICogSGFuZGxlcyByZW1vdmluZyB0aGUgbWVudSBmcm9tIHRoZSBET00sIGNsZWFuaW5nIHVwIHRoZSBlbGVtZW50XG4gICAgICogYW5kIHJlbW92aW5nIHZhcmlvdXMgbGlzdGVuZXJzXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25SZW1vdmUoc2NvcGUsIGVsZW1lbnQsIG9wdHMpIHtcbiAgICAgIG9wdHMuaXNSZW1vdmVkID0gdHJ1ZTtcbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ21kLWxlYXZlJylcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdtZC1jbGlja2FibGUnKTtcblxuICAgICAgLy8gRGlzYWJsZSByZXNpemluZyBoYW5kbGVyc1xuICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZigncmVzaXplJywgb3B0cy5yZXNpemVGbik7XG4gICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub2ZmKCdvcmllbnRhdGlvbmNoYW5nZScsIG9wdHMucmVzaXplRm4pO1xuICAgICAgb3B0cy5yZXNpemVGbiA9IHVuZGVmaW5lZDtcblxuICAgICAgLy8gV2FpdCBmb3IgYW5pbWF0ZSBvdXQsIHRoZW4gcmVtb3ZlIGZyb20gdGhlIERPTVxuICAgICAgcmV0dXJuICRtZFV0aWwudHJhbnNpdGlvbkVuZFByb21pc2UoZWxlbWVudCwgeyB0aW1lb3V0OiAzNTAgfSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnbWQtYWN0aXZlJyk7XG4gICAgICAgIG9wdHMuYmFja2Ryb3AgJiYgb3B0cy5iYWNrZHJvcC5yZW1vdmUoKTtcbiAgICAgICAgaWYgKGVsZW1lbnRbMF0ucGFyZW50Tm9kZSA9PT0gb3B0cy5wYXJlbnRbMF0pIHtcbiAgICAgICAgICBvcHRzLnBhcmVudFswXS5yZW1vdmVDaGlsZChlbGVtZW50WzBdKTtcbiAgICAgICAgfVxuICAgICAgICBvcHRzLnJlc3RvcmVTY3JvbGwgJiYgb3B0cy5yZXN0b3JlU2Nyb2xsKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBtZW51IHBvc2l0aW9uIGFuZCBzZXRzIHRoZSBzdHlsZSBvbiB0aGUgbWVudSBjb250YWluZXJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbCAtIHRoZSBtZW51IGNvbnRhaW5lciBlbGVtZW50XG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdHMgLSB0aGUgaW50ZXJpbSBlbGVtZW50IG9wdGlvbnMgb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gcG9zaXRpb25NZW51KGVsLCBvcHRzKSB7XG4gICAgICBpZiAob3B0cy5pc1JlbW92ZWQpIHJldHVybjtcblxuICAgICAgdmFyIGNvbnRhaW5lck5vZGUgPSBlbFswXSxcbiAgICAgICAgICBvcGVuTWVudU5vZGUgPSBlbFswXS5maXJzdEVsZW1lbnRDaGlsZCxcbiAgICAgICAgICBvcGVuTWVudU5vZGVSZWN0ID0gb3Blbk1lbnVOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgIGJvdW5kcnlOb2RlID0gb3B0cy5wYXJlbnRbMF0sXG4gICAgICAgICAgYm91bmRyeU5vZGVSZWN0ID0gYm91bmRyeU5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgIHZhciBvcmlnaW5Ob2RlID0gb3B0cy50YXJnZXRbMF0ucXVlcnlTZWxlY3RvcignW21kLW1lbnUtb3JpZ2luXScpIHx8IG9wdHMudGFyZ2V0WzBdLFxuICAgICAgICAgIG9yaWdpbk5vZGVSZWN0ID0gb3JpZ2luTm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXG4gICAgICB2YXIgYm91bmRzID0ge1xuICAgICAgICBsZWZ0OiBib3VuZHJ5Tm9kZVJlY3QubGVmdCArIE1FTlVfRURHRV9NQVJHSU4sXG4gICAgICAgIHRvcDogYm91bmRyeU5vZGVSZWN0LnRvcCArIE1FTlVfRURHRV9NQVJHSU4sXG4gICAgICAgIGJvdHRvbTogYm91bmRyeU5vZGVSZWN0LmJvdHRvbSAtIE1FTlVfRURHRV9NQVJHSU4sXG4gICAgICAgIHJpZ2h0OiBib3VuZHJ5Tm9kZVJlY3QucmlnaHQgLSBNRU5VX0VER0VfTUFSR0lOXG4gICAgICB9O1xuXG5cbiAgICAgIHZhciBhbGlnblRhcmdldCwgYWxpZ25UYXJnZXRSZWN0LCBleGlzdGluZ09mZnNldHM7XG4gICAgICB2YXIgcG9zaXRpb25Nb2RlID0gb3B0cy5tZE1lbnVDdHJsLnBvc2l0aW9uTW9kZSgpO1xuXG4gICAgICBpZiAocG9zaXRpb25Nb2RlLnRvcCA9PSAndGFyZ2V0JyB8fCBwb3NpdGlvbk1vZGUubGVmdCA9PSAndGFyZ2V0JyB8fCBwb3NpdGlvbk1vZGUubGVmdCA9PSAndGFyZ2V0LXJpZ2h0Jykge1xuICAgICAgICAvLyBUT0RPOiBBbGxvdyBjZW50ZXJpbmcgb24gYW4gYXJiaXRyYXJ5IG5vZGUsIGZvciBub3cgY2VudGVyIG9uIGZpcnN0IG1lbnUtaXRlbSdzIGNoaWxkXG4gICAgICAgIGFsaWduVGFyZ2V0ID0gb3Blbk1lbnVOb2RlLmZpcnN0RWxlbWVudENoaWxkLmZpcnN0RWxlbWVudENoaWxkIHx8IG9wZW5NZW51Tm9kZS5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgYWxpZ25UYXJnZXQgPSBhbGlnblRhcmdldC5xdWVyeVNlbGVjdG9yKCdbbWQtbWVudS1hbGlnbi10YXJnZXRdJykgfHwgYWxpZ25UYXJnZXQ7XG4gICAgICAgIGFsaWduVGFyZ2V0UmVjdCA9IGFsaWduVGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIGV4aXN0aW5nT2Zmc2V0cyA9IHtcbiAgICAgICAgICB0b3A6IHBhcnNlRmxvYXQoY29udGFpbmVyTm9kZS5zdHlsZS50b3AgfHwgMCksXG4gICAgICAgICAgbGVmdDogcGFyc2VGbG9hdChjb250YWluZXJOb2RlLnN0eWxlLmxlZnQgfHwgMClcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgdmFyIHBvc2l0aW9uID0geyB9O1xuICAgICAgdmFyIHRyYW5zZm9ybU9yaWdpbiA9ICd0b3AgJztcblxuICAgICAgc3dpdGNoIChwb3NpdGlvbk1vZGUudG9wKSB7XG4gICAgICAgIGNhc2UgJ3RhcmdldCc6XG4gICAgICAgICAgcG9zaXRpb24udG9wID0gZXhpc3RpbmdPZmZzZXRzLnRvcCArIG9yaWdpbk5vZGVSZWN0LnRvcCAtIGFsaWduVGFyZ2V0UmVjdC50b3A7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIEZ1dHVyZSBzdXBwb3J0IGZvciBtZE1lbnVCYXJcbiAgICAgICAgLy8gY2FzZSAndG9wJzpcbiAgICAgICAgLy8gICBwb3NpdGlvbi50b3AgPSBvcmlnaW5Ob2RlUmVjdC50b3A7XG4gICAgICAgIC8vICAgYnJlYWs7XG4gICAgICAgIC8vIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgIC8vICAgcG9zaXRpb24udG9wID0gb3JpZ2luTm9kZVJlY3QudG9wICsgb3JpZ2luTm9kZVJlY3QuaGVpZ2h0O1xuICAgICAgICAvLyAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0YXJnZXQgbW9kZSBcIicgKyBwb3NpdGlvbk1vZGUudG9wICsgJ1wiIHNwZWNpZmllZCBmb3IgbWQtbWVudSBvbiBZIGF4aXMuJyk7XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAocG9zaXRpb25Nb2RlLmxlZnQpIHtcbiAgICAgICAgY2FzZSAndGFyZ2V0JzpcbiAgICAgICAgICBwb3NpdGlvbi5sZWZ0ID0gZXhpc3RpbmdPZmZzZXRzLmxlZnQgKyBvcmlnaW5Ob2RlUmVjdC5sZWZ0IC0gYWxpZ25UYXJnZXRSZWN0LmxlZnQ7XG4gICAgICAgICAgdHJhbnNmb3JtT3JpZ2luICs9ICdsZWZ0JztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGFyZ2V0LXJpZ2h0JzpcbiAgICAgICAgICBwb3NpdGlvbi5sZWZ0ID0gb3JpZ2luTm9kZVJlY3QucmlnaHQgLSBvcGVuTWVudU5vZGVSZWN0LndpZHRoICsgKG9wZW5NZW51Tm9kZVJlY3QucmlnaHQgLSBhbGlnblRhcmdldFJlY3QucmlnaHQpO1xuICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbiArPSAncmlnaHQnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyBGdXR1cmUgc3VwcG9ydCBmb3IgbWRNZW51QmFyXG4gICAgICAgIC8vIGNhc2UgJ2xlZnQnOlxuICAgICAgICAvLyAgIHBvc2l0aW9uLmxlZnQgPSBvcmlnaW5Ob2RlUmVjdC5sZWZ0O1xuICAgICAgICAvLyAgIHRyYW5zZm9ybU9yaWdpbiArPSAnbGVmdCc7XG4gICAgICAgIC8vICAgYnJlYWs7XG4gICAgICAgIC8vIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgLy8gICBwb3NpdGlvbi5sZWZ0ID0gb3JpZ2luTm9kZVJlY3QucmlnaHQgLSBjb250YWluZXJOb2RlLm9mZnNldFdpZHRoO1xuICAgICAgICAvLyAgIHRyYW5zZm9ybU9yaWdpbiArPSAncmlnaHQnO1xuICAgICAgICAvLyAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0YXJnZXQgbW9kZSBcIicgKyBwb3NpdGlvbk1vZGUubGVmdCArICdcIiBzcGVjaWZpZWQgZm9yIG1kLW1lbnUgb24gWCBheGlzLicpO1xuICAgICAgfVxuXG4gICAgICB2YXIgb2Zmc2V0cyA9IG9wdHMubWRNZW51Q3RybC5vZmZzZXRzKCk7XG4gICAgICBwb3NpdGlvbi50b3AgKz0gb2Zmc2V0cy50b3A7XG4gICAgICBwb3NpdGlvbi5sZWZ0ICs9IG9mZnNldHMubGVmdDtcblxuICAgICAgY2xhbXAocG9zaXRpb24pO1xuXG4gICAgICBlbC5jc3Moe1xuICAgICAgICB0b3A6IHBvc2l0aW9uLnRvcCArICdweCcsXG4gICAgICAgIGxlZnQ6IHBvc2l0aW9uLmxlZnQgKyAncHgnXG4gICAgICB9KTtcblxuICAgICAgY29udGFpbmVyTm9kZS5zdHlsZVskbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNX09SSUdJTl0gPSB0cmFuc2Zvcm1PcmlnaW47XG5cbiAgICAgIC8vIEFuaW1hdGUgYSBzY2FsZSBvdXQgaWYgd2UgYXJlbid0IGp1c3QgcmVwb3NpdGlvbmluZ1xuICAgICAgaWYgKCFvcHRzLmFscmVhZHlPcGVuKSB7XG4gICAgICAgIGNvbnRhaW5lck5vZGUuc3R5bGVbJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STV0gPSAnc2NhbGUoJyArXG4gICAgICAgICAgTWF0aC5taW4ob3JpZ2luTm9kZVJlY3Qud2lkdGggLyBjb250YWluZXJOb2RlLm9mZnNldFdpZHRoLCAxLjApICsgJywnICtcbiAgICAgICAgICBNYXRoLm1pbihvcmlnaW5Ob2RlUmVjdC5oZWlnaHQgLyBjb250YWluZXJOb2RlLm9mZnNldEhlaWdodCwgMS4wKSArXG4gICAgICAgICcpJztcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBDbGFtcHMgdGhlIHJlcG9zaXRpb25pbmcgb2YgdGhlIG1lbnUgd2l0aGluIHRoZSBjb25maW5lcyBvZlxuICAgICAgICogYm91bmRpbmcgZWxlbWVudCAob2Z0ZW4gdGhlIHNjcmVlbi9ib2R5KVxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBjbGFtcChwb3MpIHtcbiAgICAgICAgcG9zLnRvcCA9IE1hdGgubWF4KE1hdGgubWluKHBvcy50b3AsIGJvdW5kcy5ib3R0b20gLSBjb250YWluZXJOb2RlLm9mZnNldEhlaWdodCksIGJvdW5kcy50b3ApO1xuICAgICAgICBwb3MubGVmdCA9IE1hdGgubWF4KE1hdGgubWluKHBvcy5sZWZ0LCBib3VuZHMucmlnaHQgLSBjb250YWluZXJOb2RlLm9mZnNldFdpZHRoKSwgYm91bmRzLmxlZnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuTWVudVByb3ZpZGVyLiRpbmplY3QgPSBbXCIkJGludGVyaW1FbGVtZW50UHJvdmlkZXJcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMucHJvZ3Jlc3NDaXJjdWxhclxuICogQGRlc2NyaXB0aW9uIENpcmN1bGFyIFByb2dyZXNzIG1vZHVsZSFcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMucHJvZ3Jlc3NDaXJjdWxhcicsIFtcbiAgJ21hdGVyaWFsLmNvcmUnXG5dKVxuICAuZGlyZWN0aXZlKCdtZFByb2dyZXNzQ2lyY3VsYXInLCBNZFByb2dyZXNzQ2lyY3VsYXJEaXJlY3RpdmUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kUHJvZ3Jlc3NDaXJjdWxhclxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnByb2dyZXNzQ2lyY3VsYXJcbiAqIEByZXN0cmljdCBFXG4gKlxuKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBjaXJjdWxhciBwcm9ncmVzcyBkaXJlY3RpdmUgaXMgdXNlZCB0byBtYWtlIGxvYWRpbmcgY29udGVudCBpbiB5b3VyIGFwcCBhcyBkZWxpZ2h0ZnVsIGFuZFxuICogcGFpbmxlc3MgYXMgcG9zc2libGUgYnkgbWluaW1pemluZyB0aGUgYW1vdW50IG9mIHZpc3VhbCBjaGFuZ2UgYSB1c2VyIHNlZXMgYmVmb3JlIHRoZXkgY2FuIHZpZXdcbiAqIGFuZCBpbnRlcmFjdCB3aXRoIGNvbnRlbnQuXG4gKlxuICogRm9yIG9wZXJhdGlvbnMgd2hlcmUgdGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIG9wZXJhdGlvbiBjb21wbGV0ZWQgY2FuIGJlIGRldGVybWluZWQsIHVzZSBhXG4gKiBkZXRlcm1pbmF0ZSBpbmRpY2F0b3IuIFRoZXkgZ2l2ZSB1c2VycyBhIHF1aWNrIHNlbnNlIG9mIGhvdyBsb25nIGFuIG9wZXJhdGlvbiB3aWxsIHRha2UuXG4gKlxuICogRm9yIG9wZXJhdGlvbnMgd2hlcmUgdGhlIHVzZXIgaXMgYXNrZWQgdG8gd2FpdCBhIG1vbWVudCB3aGlsZSBzb21ldGhpbmcgZmluaXNoZXMgdXAsIGFuZCBpdOKAmXNcbiAqIG5vdCBuZWNlc3NhcnkgdG8gZXhwb3NlIHdoYXQncyBoYXBwZW5pbmcgYmVoaW5kIHRoZSBzY2VuZXMgYW5kIGhvdyBsb25nIGl0IHdpbGwgdGFrZSwgdXNlIGFuXG4gKiBpbmRldGVybWluYXRlIGluZGljYXRvci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWQtbW9kZSBTZWxlY3QgZnJvbSBvbmUgb2YgdHdvIG1vZGVzOiBkZXRlcm1pbmF0ZSBhbmQgaW5kZXRlcm1pbmF0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gdmFsdWUgSW4gZGV0ZXJtaW5hdGUgbW9kZSwgdGhpcyBudW1iZXIgcmVwcmVzZW50cyB0aGUgcGVyY2VudGFnZSBvZiB0aGVcbiAqICAgICBjaXJjdWxhciBwcm9ncmVzcy4gRGVmYXVsdDogMFxuICogQHBhcmFtIHtudW1iZXI9fSBtZC1kaWFtZXRlciBUaGlzIHNwZWNpZmllcyB0aGUgZGlhbXRlciBvZiB0aGUgY2lyY3VsYXIgcHJvZ3Jlc3MuIERlZmF1bHQ6IDQ4XG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLXByb2dyZXNzLWNpcmN1bGFyIG1kLW1vZGU9XCJkZXRlcm1pbmF0ZVwiIHZhbHVlPVwiLi4uXCI+PC9tZC1wcm9ncmVzcy1jaXJjdWxhcj5cbiAqXG4gKiA8bWQtcHJvZ3Jlc3MtY2lyY3VsYXIgbWQtbW9kZT1cImRldGVybWluYXRlXCIgbmctdmFsdWU9XCIuLi5cIj48L21kLXByb2dyZXNzLWNpcmN1bGFyPlxuICpcbiAqIDxtZC1wcm9ncmVzcy1jaXJjdWxhciBtZC1tb2RlPVwiZGV0ZXJtaW5hdGVcIiB2YWx1ZT1cIi4uLlwiIG1kLWRpYW1ldGVyPVwiMTAwXCI+PC9tZC1wcm9ncmVzcy1jaXJjdWxhcj5cbiAqXG4gKiA8bWQtcHJvZ3Jlc3MtY2lyY3VsYXIgbWQtbW9kZT1cImluZGV0ZXJtaW5hdGVcIj48L21kLXByb2dyZXNzLWNpcmN1bGFyPlxuICogPC9obGpzPlxuICovXG5mdW5jdGlvbiBNZFByb2dyZXNzQ2lyY3VsYXJEaXJlY3RpdmUoJG1kQ29uc3RhbnQsICRtZFRoZW1pbmcpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHRlbXBsYXRlOlxuICAgICAgICAvLyBUaGUgcHJvZ3Jlc3MgJ2NpcmNsZScgaXMgY29tcG9zZWQgb2YgdHdvIGhhbGYtY2lyY2xlczogdGhlIGxlZnQgc2lkZSBhbmQgdGhlIHJpZ2h0XG4gICAgICAgIC8vIHNpZGUuIEVhY2ggc2lkZSBoYXMgQ1NTIGFwcGxpZWQgdG8gJ2ZpbGwtaW4nIHRoZSBoYWxmLWNpcmNsZSB0byB0aGUgYXBwcm9wcmlhdGUgcHJvZ3Jlc3MuXG4gICAgICAgICc8ZGl2IGNsYXNzPVwibWQtc3Bpbm5lci13cmFwcGVyXCI+JyArXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC1pbm5lclwiPicgK1xuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC1nYXBcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibWQtbGVmdFwiPicgK1xuICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLWhhbGYtY2lyY2xlXCI+PC9kaXY+JyArXG4gICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLXJpZ2h0XCI+JyArXG4gICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibWQtaGFsZi1jaXJjbGVcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICc8L2Rpdj4nLFxuICAgIGNvbXBpbGU6IGNvbXBpbGVcbiAgfTtcblxuICBmdW5jdGlvbiBjb21waWxlKHRFbGVtZW50KSB7XG4gICAgLy8gVGhlIGphdmFzY3JpcHQgaW4gdGhpcyBmaWxlIGlzIG1haW5seSByZXNwb25zaWJsZSBmb3Igc2V0dGluZyB0aGUgY29ycmVjdCBhcmlhIGF0dHJpYnV0ZXMuXG4gICAgLy8gVGhlIGFuaW1hdGlvbiBvZiB0aGUgcHJvZ3Jlc3Mgc3Bpbm5lciBpcyBkb25lIGVudGlyZWx5IHdpdGgganVzdCBDU1MuXG4gICAgdEVsZW1lbnQuYXR0cignYXJpYS12YWx1ZW1pbicsIDApO1xuICAgIHRFbGVtZW50LmF0dHIoJ2FyaWEtdmFsdWVtYXgnLCAxMDApO1xuICAgIHRFbGVtZW50LmF0dHIoJ3JvbGUnLCAncHJvZ3Jlc3NiYXInKTtcblxuICAgIHJldHVybiBwb3N0TGluaztcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgJG1kVGhlbWluZyhlbGVtZW50KTtcbiAgICB2YXIgY2lyY2xlID0gZWxlbWVudFswXTtcblxuICAgIC8vIFNjYWxlIHRoZSBwcm9ncmVzcyBjaXJjbGUgYmFzZWQgb24gdGhlIGRlZmF1bHQgZGlhbWV0ZXIuXG4gICAgdmFyIGRpYW1ldGVyID0gYXR0ci5tZERpYW1ldGVyIHx8IDQ4O1xuICAgIHZhciBzY2FsZSA9IGRpYW1ldGVyIC8gNDg7XG4gICAgY2lyY2xlLnN0eWxlWyRtZENvbnN0YW50LkNTUy5UUkFOU0ZPUk1dID0gJ3NjYWxlKCcgKyBzY2FsZSArICcpJztcblxuICAgIGF0dHIuJG9ic2VydmUoJ3ZhbHVlJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBwZXJjZW50VmFsdWUgPSBjbGFtcCh2YWx1ZSk7XG4gICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtdmFsdWVub3cnLCBwZXJjZW50VmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENsYW1wcyB0aGUgdmFsdWUgdG8gYmUgYmV0d2VlbiAwIGFuZCAxMDAuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xhbXAuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBmdW5jdGlvbiBjbGFtcCh2YWx1ZSkge1xuICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbih2YWx1ZSB8fCAwLCAxMDApKTtcbiAgfVxufVxuTWRQcm9ncmVzc0NpcmN1bGFyRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkbWRDb25zdGFudFwiLCBcIiRtZFRoZW1pbmdcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMucHJvZ3Jlc3NMaW5lYXJcbiAqIEBkZXNjcmlwdGlvbiBMaW5lYXIgUHJvZ3Jlc3MgbW9kdWxlIVxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5wcm9ncmVzc0xpbmVhcicsIFtcbiAgJ21hdGVyaWFsLmNvcmUnXG5dKVxuICAuZGlyZWN0aXZlKCdtZFByb2dyZXNzTGluZWFyJywgTWRQcm9ncmVzc0xpbmVhckRpcmVjdGl2ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRQcm9ncmVzc0xpbmVhclxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnByb2dyZXNzTGluZWFyXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGxpbmVhciBwcm9ncmVzcyBkaXJlY3RpdmUgaXMgdXNlZCB0byBtYWtlIGxvYWRpbmcgY29udGVudCBpbiB5b3VyIGFwcCBhcyBkZWxpZ2h0ZnVsIGFuZCBwYWlubGVzcyBhcyBwb3NzaWJsZSBieSBtaW5pbWl6aW5nIHRoZSBhbW91bnQgb2YgdmlzdWFsIGNoYW5nZSBhIHVzZXIgc2VlcyBiZWZvcmUgdGhleSBjYW4gdmlldyBhbmQgaW50ZXJhY3Qgd2l0aCBjb250ZW50LiBFYWNoIG9wZXJhdGlvbiBzaG91bGQgb25seSBiZSByZXByZXNlbnRlZCBieSBvbmUgYWN0aXZpdHkgaW5kaWNhdG9y4oCUZm9yIGV4YW1wbGUsIG9uZSByZWZyZXNoIG9wZXJhdGlvbiBzaG91bGQgbm90IGRpc3BsYXkgYm90aCBhIHJlZnJlc2ggYmFyIGFuZCBhbiBhY3Rpdml0eSBjaXJjbGUuXG4gKlxuICogRm9yIG9wZXJhdGlvbnMgd2hlcmUgdGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIG9wZXJhdGlvbiBjb21wbGV0ZWQgY2FuIGJlIGRldGVybWluZWQsIHVzZSBhIGRldGVybWluYXRlIGluZGljYXRvci4gVGhleSBnaXZlIHVzZXJzIGEgcXVpY2sgc2Vuc2Ugb2YgaG93IGxvbmcgYW4gb3BlcmF0aW9uIHdpbGwgdGFrZS5cbiAqXG4gKiBGb3Igb3BlcmF0aW9ucyB3aGVyZSB0aGUgdXNlciBpcyBhc2tlZCB0byB3YWl0IGEgbW9tZW50IHdoaWxlIHNvbWV0aGluZyBmaW5pc2hlcyB1cCwgYW5kIGl04oCZcyBub3QgbmVjZXNzYXJ5IHRvIGV4cG9zZSB3aGF0J3MgaGFwcGVuaW5nIGJlaGluZCB0aGUgc2NlbmVzIGFuZCBob3cgbG9uZyBpdCB3aWxsIHRha2UsIHVzZSBhbiBpbmRldGVybWluYXRlIGluZGljYXRvci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWQtbW9kZSBTZWxlY3QgZnJvbSBvbmUgb2YgZm91ciBtb2RlczogZGV0ZXJtaW5hdGUsIGluZGV0ZXJtaW5hdGUsIGJ1ZmZlciBvciBxdWVyeS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gdmFsdWUgSW4gZGV0ZXJtaW5hdGUgYW5kIGJ1ZmZlciBtb2RlcywgdGhpcyBudW1iZXIgcmVwcmVzZW50cyB0aGUgcGVyY2VudGFnZSBvZiB0aGUgcHJpbWFyeSBwcm9ncmVzcyBiYXIuIERlZmF1bHQ6IDBcbiAqIEBwYXJhbSB7bnVtYmVyPX0gbWQtYnVmZmVyLXZhbHVlIEluIHRoZSBidWZmZXIgbW9kZSwgdGhpcyBudW1iZXIgcmVwcmVzZW50cyB0aGUgcHJlY2VudGFnZSBvZiB0aGUgc2Vjb25kYXJ5IHByb2dyZXNzIGJhci4gRGVmYXVsdDogMFxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1wcm9ncmVzcy1saW5lYXIgbWQtbW9kZT1cImRldGVybWluYXRlXCIgdmFsdWU9XCIuLi5cIj48L21kLXByb2dyZXNzLWxpbmVhcj5cbiAqXG4gKiA8bWQtcHJvZ3Jlc3MtbGluZWFyIG1kLW1vZGU9XCJkZXRlcm1pbmF0ZVwiIG5nLXZhbHVlPVwiLi4uXCI+PC9tZC1wcm9ncmVzcy1saW5lYXI+XG4gKlxuICogPG1kLXByb2dyZXNzLWxpbmVhciBtZC1tb2RlPVwiaW5kZXRlcm1pbmF0ZVwiPjwvbWQtcHJvZ3Jlc3MtbGluZWFyPlxuICpcbiAqIDxtZC1wcm9ncmVzcy1saW5lYXIgbWQtbW9kZT1cImJ1ZmZlclwiIHZhbHVlPVwiLi4uXCIgbWQtYnVmZmVyLXZhbHVlPVwiLi4uXCI+PC9tZC1wcm9ncmVzcy1saW5lYXI+XG4gKlxuICogPG1kLXByb2dyZXNzLWxpbmVhciBtZC1tb2RlPVwicXVlcnlcIj48L21kLXByb2dyZXNzLWxpbmVhcj5cbiAqIDwvaGxqcz5cbiAqL1xuZnVuY3Rpb24gTWRQcm9ncmVzc0xpbmVhckRpcmVjdGl2ZSgkJHJBRiwgJG1kQ29uc3RhbnQsICRtZFRoZW1pbmcpIHtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibWQtY29udGFpbmVyXCI+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cIm1kLWRhc2hlZFwiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgY2xhc3M9XCJtZC1iYXIgbWQtYmFyMVwiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgY2xhc3M9XCJtZC1iYXIgbWQtYmFyMlwiPjwvZGl2PicgK1xuICAgICAgJzwvZGl2PicsXG4gICAgY29tcGlsZTogY29tcGlsZVxuICB9O1xuICBcbiAgZnVuY3Rpb24gY29tcGlsZSh0RWxlbWVudCwgdEF0dHJzLCB0cmFuc2NsdWRlKSB7XG4gICAgdEVsZW1lbnQuYXR0cignYXJpYS12YWx1ZW1pbicsIDApO1xuICAgIHRFbGVtZW50LmF0dHIoJ2FyaWEtdmFsdWVtYXgnLCAxMDApO1xuICAgIHRFbGVtZW50LmF0dHIoJ3JvbGUnLCAncHJvZ3Jlc3NiYXInKTtcblxuICAgIHJldHVybiBwb3N0TGluaztcbiAgfVxuICBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG4gICAgdmFyIGJhcjFTdHlsZSA9IGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLWJhcjEnKS5zdHlsZSxcbiAgICAgIGJhcjJTdHlsZSA9IGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLWJhcjInKS5zdHlsZSxcbiAgICAgIGNvbnRhaW5lciA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC1jb250YWluZXInKSk7XG5cbiAgICBhdHRyLiRvYnNlcnZlKCd2YWx1ZScsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoYXR0ci5tZE1vZGUgPT0gJ3F1ZXJ5Jykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBjbGFtcGVkID0gY2xhbXAodmFsdWUpO1xuICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLXZhbHVlbm93JywgY2xhbXBlZCk7XG4gICAgICBiYXIyU3R5bGVbJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STV0gPSB0cmFuc2Zvcm1zW2NsYW1wZWRdO1xuICAgIH0pO1xuXG4gICAgYXR0ci4kb2JzZXJ2ZSgnbWRCdWZmZXJWYWx1ZScsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBiYXIxU3R5bGVbJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STV0gPSB0cmFuc2Zvcm1zW2NsYW1wKHZhbHVlKV07XG4gICAgfSk7XG5cbiAgICAkJHJBRihmdW5jdGlvbigpIHtcbiAgICAgIGNvbnRhaW5lci5hZGRDbGFzcygnbWQtcmVhZHknKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsYW1wKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID4gMTAwKSB7XG4gICAgICByZXR1cm4gMTAwO1xuICAgIH1cblxuICAgIGlmICh2YWx1ZSA8IDApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHJldHVybiBNYXRoLmNlaWwodmFsdWUgfHwgMCk7XG4gIH1cbn1cbk1kUHJvZ3Jlc3NMaW5lYXJEaXJlY3RpdmUuJGluamVjdCA9IFtcIiQkckFGXCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkbWRUaGVtaW5nXCJdO1xuXG5cbi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8vIFByaXZhdGUgTWV0aG9kc1xuLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxudmFyIHRyYW5zZm9ybXMgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB2YWx1ZXMgPSBuZXcgQXJyYXkoMTAxKTtcbiAgZm9yKHZhciBpID0gMDsgaSA8IDEwMTsgaSsrKXtcbiAgICB2YWx1ZXNbaV0gPSBtYWtlVHJhbnNmb3JtKGkpO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlcztcblxuICBmdW5jdGlvbiBtYWtlVHJhbnNmb3JtKHZhbHVlKXtcbiAgICB2YXIgc2NhbGUgPSB2YWx1ZS8xMDA7XG4gICAgdmFyIHRyYW5zbGF0ZVggPSAodmFsdWUtMTAwKS8yO1xuICAgIHJldHVybiAndHJhbnNsYXRlWCgnICsgdHJhbnNsYXRlWC50b1N0cmluZygpICsgJyUpIHNjYWxlKCcgKyBzY2FsZS50b1N0cmluZygpICsgJywgMSknO1xuICB9XG59KSgpO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnJhZGlvQnV0dG9uXG4gKiBAZGVzY3JpcHRpb24gcmFkaW9CdXR0b24gbW9kdWxlIVxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5yYWRpb0J1dHRvbicsIFtcbiAgJ21hdGVyaWFsLmNvcmUnXG5dKVxuICAuZGlyZWN0aXZlKCdtZFJhZGlvR3JvdXAnLCBtZFJhZGlvR3JvdXBEaXJlY3RpdmUpXG4gIC5kaXJlY3RpdmUoJ21kUmFkaW9CdXR0b24nLCBtZFJhZGlvQnV0dG9uRGlyZWN0aXZlKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMucmFkaW9CdXR0b25cbiAqIEBuYW1lIG1kUmFkaW9Hcm91cFxuICpcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYDxtZC1yYWRpby1ncm91cD5gIGRpcmVjdGl2ZSBpZGVudGlmaWVzIGEgZ3JvdXBpbmdcbiAqIGNvbnRhaW5lciBmb3IgdGhlIDEuLm4gZ3JvdXBlZCByYWRpbyBidXR0b25zOyBzcGVjaWZpZWQgdXNpbmcgbmVzdGVkXG4gKiBgPG1kLXJhZGlvLWJ1dHRvbj5gIHRhZ3MuXG4gKlxuICogQXMgcGVyIHRoZSBbbWF0ZXJpYWwgZGVzaWduIHNwZWNdKGh0dHA6Ly93d3cuZ29vZ2xlLmNvbS9kZXNpZ24vc3BlYy9zdHlsZS9jb2xvci5odG1sI2NvbG9yLXVpLWNvbG9yLWFwcGxpY2F0aW9uKVxuICogdGhlIHJhZGlvIGJ1dHRvbiBpcyBpbiB0aGUgYWNjZW50IGNvbG9yIGJ5IGRlZmF1bHQuIFRoZSBwcmltYXJ5IGNvbG9yIHBhbGV0dGUgbWF5IGJlIHVzZWQgd2l0aFxuICogdGhlIGBtZC1wcmltYXJ5YCBjbGFzcy5cbiAqXG4gKiBOb3RlOiBgPG1kLXJhZGlvLWdyb3VwPmAgYW5kIGA8bWQtcmFkaW8tYnV0dG9uPmAgaGFuZGxlIHRhYmluZGV4IGRpZmZlcmVudGx5XG4gKiB0aGFuIHRoZSBuYXRpdmUgYDxpbnB1dCB0eXBlPSdyYWRpbyc+YCBjb250cm9scy4gV2hlcmVhcyB0aGUgbmF0aXZlIGNvbnRyb2xzXG4gKiBmb3JjZSB0aGUgdXNlciB0byB0YWIgdGhyb3VnaCBhbGwgdGhlIHJhZGlvIGJ1dHRvbnMsIGA8bWQtcmFkaW8tZ3JvdXA+YFxuICogaXMgZm9jdXNhYmxlLCBhbmQgYnkgZGVmYXVsdCB0aGUgYDxtZC1yYWRpby1idXR0b24+YHMgYXJlIG5vdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmctbW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICogQHBhcmFtIHtib29sZWFuPX0gbWQtbm8taW5rIFVzZSBvZiBhdHRyaWJ1dGUgaW5kaWNhdGVzIGZsYWcgdG8gZGlzYWJsZSBpbmsgcmlwcGxlIGVmZmVjdHMuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLXJhZGlvLWdyb3VwIG5nLW1vZGVsPVwic2VsZWN0ZWRcIj5cbiAqXG4gKiAgIDxtZC1yYWRpby1idXR0b25cbiAqICAgICAgICBuZy1yZXBlYXQ9XCJkIGluIGNvbG9yT3B0aW9uc1wiXG4gKiAgICAgICAgbmctdmFsdWU9XCJkLnZhbHVlXCIgYXJpYS1sYWJlbD1cInt7IGQubGFiZWwgfX1cIj5cbiAqXG4gKiAgICAgICAgICB7eyBkLmxhYmVsIH19XG4gKlxuICogICA8L21kLXJhZGlvLWJ1dHRvbj5cbiAqXG4gKiA8L21kLXJhZGlvLWdyb3VwPlxuICogPC9obGpzPlxuICpcbiAqL1xuZnVuY3Rpb24gbWRSYWRpb0dyb3VwRGlyZWN0aXZlKCRtZFV0aWwsICRtZENvbnN0YW50LCAkbWRUaGVtaW5nLCAkdGltZW91dCkge1xuICBSYWRpb0dyb3VwQ29udHJvbGxlci5wcm90b3R5cGUgPSBjcmVhdGVSYWRpb0dyb3VwQ29udHJvbGxlclByb3RvKCk7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIGNvbnRyb2xsZXI6IFsnJGVsZW1lbnQnLCBSYWRpb0dyb3VwQ29udHJvbGxlcl0sXG4gICAgcmVxdWlyZTogWydtZFJhZGlvR3JvdXAnLCAnP25nTW9kZWwnXSxcbiAgICBsaW5rOiB7IHByZTogbGlua1JhZGlvR3JvdXAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGxpbmtSYWRpb0dyb3VwKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG4gICAgdmFyIHJnQ3RybCA9IGN0cmxzWzBdO1xuICAgIHZhciBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdIHx8ICRtZFV0aWwuZmFrZU5nTW9kZWwoKTtcblxuICAgIGZ1bmN0aW9uIHNldEZvY3VzKCkge1xuICAgICAgaWYgKCFlbGVtZW50Lmhhc0NsYXNzKCdtZC1mb2N1c2VkJykpIHsgZWxlbWVudC5hZGRDbGFzcygnbWQtZm9jdXNlZCcpOyB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24ga2V5ZG93bkxpc3RlbmVyKGV2KSB7XG4gICAgICB2YXIga2V5Q29kZSA9IGV2LndoaWNoIHx8IGV2LmtleUNvZGU7XG4gICAgICBzd2l0Y2goa2V5Q29kZSkge1xuICAgICAgICBjYXNlICRtZENvbnN0YW50LktFWV9DT0RFLkxFRlRfQVJST1c6XG4gICAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuVVBfQVJST1c6XG4gICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICByZ0N0cmwuc2VsZWN0UHJldmlvdXMoKTtcbiAgICAgICAgICBzZXRGb2N1cygpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuUklHSFRfQVJST1c6XG4gICAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuRE9XTl9BUlJPVzpcbiAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHJnQ3RybC5zZWxlY3ROZXh0KCk7XG4gICAgICAgICAgc2V0Rm9jdXMoKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICRtZENvbnN0YW50LktFWV9DT0RFLkVOVEVSOlxuICAgICAgICAgIHZhciBmb3JtID0gYW5ndWxhci5lbGVtZW50KCRtZFV0aWwuZ2V0Q2xvc2VzdChlbGVtZW50WzBdLCAnZm9ybScpKTtcbiAgICAgICAgICBpZiAoZm9ybS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3JtLnRyaWdnZXJIYW5kbGVyKCdzdWJtaXQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmdDdHJsLmluaXQobmdNb2RlbEN0cmwpO1xuXG4gICAgc2NvcGUubW91c2VBY3RpdmUgPSBmYWxzZTtcbiAgICBlbGVtZW50LmF0dHIoe1xuICAgICAgICAgICAgICAncm9sZSc6ICdyYWRpb2dyb3VwJyxcbiAgICAgICAgICAgICAgJ3RhYkluZGV4JzogZWxlbWVudC5hdHRyKCd0YWJpbmRleCcpIHx8ICcwJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbigna2V5ZG93bicsIGtleWRvd25MaXN0ZW5lcilcbiAgICAgICAgICAgIC5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgc2NvcGUubW91c2VBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5tb3VzZUFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbignZm9jdXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYoc2NvcGUubW91c2VBY3RpdmUgPT09IGZhbHNlKSB7IHJnQ3RybC4kZWxlbWVudC5hZGRDbGFzcygnbWQtZm9jdXNlZCcpOyB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKCdibHVyJywgZnVuY3Rpb24oKSB7IHJnQ3RybC4kZWxlbWVudC5yZW1vdmVDbGFzcygnbWQtZm9jdXNlZCcpOyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFJhZGlvR3JvdXBDb250cm9sbGVyKCRlbGVtZW50KSB7XG4gICAgdGhpcy5fcmFkaW9CdXR0b25SZW5kZXJGbnMgPSBbXTtcbiAgICB0aGlzLiRlbGVtZW50ID0gJGVsZW1lbnQ7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVSYWRpb0dyb3VwQ29udHJvbGxlclByb3RvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbml0OiBmdW5jdGlvbihuZ01vZGVsQ3RybCkge1xuICAgICAgICB0aGlzLl9uZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsO1xuICAgICAgICB0aGlzLl9uZ01vZGVsQ3RybC4kcmVuZGVyID0gYW5ndWxhci5iaW5kKHRoaXMsIHRoaXMucmVuZGVyKTtcbiAgICAgIH0sXG4gICAgICBhZGQ6IGZ1bmN0aW9uKHJiUmVuZGVyKSB7XG4gICAgICAgIHRoaXMuX3JhZGlvQnV0dG9uUmVuZGVyRm5zLnB1c2gocmJSZW5kZXIpO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24ocmJSZW5kZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fcmFkaW9CdXR0b25SZW5kZXJGbnMuaW5kZXhPZihyYlJlbmRlcik7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICB0aGlzLl9yYWRpb0J1dHRvblJlbmRlckZucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fcmFkaW9CdXR0b25SZW5kZXJGbnMuZm9yRWFjaChmdW5jdGlvbihyYlJlbmRlcikge1xuICAgICAgICAgIHJiUmVuZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHNldFZpZXdWYWx1ZTogZnVuY3Rpb24odmFsdWUsIGV2ZW50VHlwZSkge1xuICAgICAgICB0aGlzLl9uZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHZhbHVlLCBldmVudFR5cGUpO1xuICAgICAgICAvLyB1cGRhdGUgdGhlIG90aGVyIHJhZGlvIGJ1dHRvbnMgYXMgd2VsbFxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgfSxcbiAgICAgIGdldFZpZXdWYWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uZ01vZGVsQ3RybC4kdmlld1ZhbHVlO1xuICAgICAgfSxcbiAgICAgIHNlbGVjdE5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY2hhbmdlU2VsZWN0ZWRCdXR0b24odGhpcy4kZWxlbWVudCwgMSk7XG4gICAgICB9LFxuICAgICAgc2VsZWN0UHJldmlvdXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY2hhbmdlU2VsZWN0ZWRCdXR0b24odGhpcy4kZWxlbWVudCwgLTEpO1xuICAgICAgfSxcbiAgICAgIHNldEFjdGl2ZURlc2NlbmRhbnQ6IGZ1bmN0aW9uIChyYWRpb0lkKSB7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQuYXR0cignYXJpYS1hY3RpdmVkZXNjZW5kYW50JywgcmFkaW9JZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQ2hhbmdlIHRoZSByYWRpbyBncm91cCdzIHNlbGVjdGVkIGJ1dHRvbiBieSBhIGdpdmVuIGluY3JlbWVudC5cbiAgICogSWYgbm8gYnV0dG9uIGlzIHNlbGVjdGVkLCBzZWxlY3QgdGhlIGZpcnN0IGJ1dHRvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYW5nZVNlbGVjdGVkQnV0dG9uKHBhcmVudCwgaW5jcmVtZW50KSB7XG4gICAgLy8gQ29lcmNlIGFsbCBjaGlsZCByYWRpbyBidXR0b25zIGludG8gYW4gYXJyYXksIHRoZW4gd3JhcCB0aGVuIGluIGFuIGl0ZXJhdG9yXG4gICAgdmFyIGJ1dHRvbnMgPSAkbWRVdGlsLml0ZXJhdG9yKHBhcmVudFswXS5xdWVyeVNlbGVjdG9yQWxsKCdtZC1yYWRpby1idXR0b24nKSwgdHJ1ZSk7XG5cbiAgICBpZiAoYnV0dG9ucy5jb3VudCgpKSB7XG4gICAgICB2YXIgdmFsaWRhdGUgPSBmdW5jdGlvbiAoYnV0dG9uKSB7XG4gICAgICAgIC8vIElmIGRpc2FibGVkLCB0aGVuIE5PVCB2YWxpZFxuICAgICAgICByZXR1cm4gIWFuZ3VsYXIuZWxlbWVudChidXR0b24pLmF0dHIoXCJkaXNhYmxlZFwiKTtcbiAgICAgIH07XG4gICAgICB2YXIgc2VsZWN0ZWQgPSBwYXJlbnRbMF0ucXVlcnlTZWxlY3RvcignbWQtcmFkaW8tYnV0dG9uLm1kLWNoZWNrZWQnKTtcbiAgICAgIHZhciB0YXJnZXQgPSBidXR0b25zW2luY3JlbWVudCA8IDAgPyAncHJldmlvdXMnIDogJ25leHQnXShzZWxlY3RlZCwgdmFsaWRhdGUpIHx8IGJ1dHRvbnMuZmlyc3QoKTtcbiAgICAgIC8vIEFjdGl2YXRlIHJhZGlvQnV0dG9uJ3MgY2xpY2sgbGlzdGVuZXIgKHRyaWdnZXJIYW5kbGVyIHdvbid0IGNyZWF0ZSBhIHJlYWwgY2xpY2sgZXZlbnQpXG4gICAgICBhbmd1bGFyLmVsZW1lbnQodGFyZ2V0KS50cmlnZ2VySGFuZGxlcignY2xpY2snKTtcblxuXG4gICAgfVxuICB9XG5cbn1cbm1kUmFkaW9Hcm91cERpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kVXRpbFwiLCBcIiRtZENvbnN0YW50XCIsIFwiJG1kVGhlbWluZ1wiLCBcIiR0aW1lb3V0XCJdO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5yYWRpb0J1dHRvblxuICogQG5hbWUgbWRSYWRpb0J1dHRvblxuICpcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYDxtZC1yYWRpby1idXR0b24+YGRpcmVjdGl2ZSBpcyB0aGUgY2hpbGQgZGlyZWN0aXZlIHJlcXVpcmVkIHRvIGJlIHVzZWQgd2l0aGluIGA8bWQtcmFkaW8tZ3JvdXA+YCBlbGVtZW50cy5cbiAqXG4gKiBXaGlsZSBzaW1pbGFyIHRvIHRoZSBgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5nLW1vZGVsPVwiXCIgdmFsdWU9XCJcIj5gIGRpcmVjdGl2ZSxcbiAqIHRoZSBgPG1kLXJhZGlvLWJ1dHRvbj5gIGRpcmVjdGl2ZSBwcm92aWRlcyBpbmsgZWZmZWN0cywgQVJJQSBzdXBwb3J0LCBhbmRcbiAqIHN1cHBvcnRzIHVzZSB3aXRoaW4gbmFtZWQgcmFkaW8gZ3JvdXBzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ1ZhbHVlIEFuZ3VsYXIgZXhwcmVzc2lvbiB3aGljaCBzZXRzIHRoZSB2YWx1ZSB0byB3aGljaCB0aGUgZXhwcmVzc2lvbiBzaG91bGRcbiAqICAgIGJlIHNldCB3aGVuIHNlbGVjdGVkLipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIHNlbGVjdGVkLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICogQHBhcmFtIHtzdHJpbmc9fSBhcmlhLWxhYmVsIEFkZHMgbGFiZWwgdG8gcmFkaW8gYnV0dG9uIGZvciBhY2Nlc3NpYmlsaXR5LlxuICogRGVmYXVsdHMgdG8gcmFkaW8gYnV0dG9uJ3MgdGV4dC4gSWYgbm8gdGV4dCBjb250ZW50IGlzIGF2YWlsYWJsZSwgYSB3YXJuaW5nIHdpbGwgYmUgbG9nZ2VkLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqXG4gKiA8bWQtcmFkaW8tYnV0dG9uIHZhbHVlPVwiMVwiIGFyaWEtbGFiZWw9XCJMYWJlbCAxXCI+XG4gKiAgIExhYmVsIDFcbiAqIDwvbWQtcmFkaW8tYnV0dG9uPlxuICpcbiAqIDxtZC1yYWRpby1idXR0b24gbmctbW9kZWw9XCJjb2xvclwiIG5nLXZhbHVlPVwic3BlY2lhbFZhbHVlXCIgYXJpYS1sYWJlbD1cIkdyZWVuXCI+XG4gKiAgIEdyZWVuXG4gKiA8L21kLXJhZGlvLWJ1dHRvbj5cbiAqXG4gKiA8L2hsanM+XG4gKlxuICovXG5mdW5jdGlvbiBtZFJhZGlvQnV0dG9uRGlyZWN0aXZlKCRtZEFyaWEsICRtZFV0aWwsICRtZFRoZW1pbmcpIHtcblxuICB2YXIgQ0hFQ0tFRF9DU1MgPSAnbWQtY2hlY2tlZCc7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHJlcXVpcmU6ICdebWRSYWRpb0dyb3VwJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1kLWNvbnRhaW5lclwiIG1kLWluay1yaXBwbGUgbWQtaW5rLXJpcHBsZS1jaGVja2JveD4nICtcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLW9mZlwiPjwvZGl2PicgK1xuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibWQtb25cIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAnPGRpdiBuZy10cmFuc2NsdWRlIGNsYXNzPVwibWQtbGFiZWxcIj48L2Rpdj4nLFxuICAgIGxpbms6IGxpbmtcbiAgfTtcblxuICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCByZ0N0cmwpIHtcbiAgICB2YXIgbGFzdENoZWNrZWQ7XG5cbiAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuICAgIGNvbmZpZ3VyZUFyaWEoZWxlbWVudCwgc2NvcGUpO1xuXG4gICAgcmdDdHJsLmFkZChyZW5kZXIpO1xuICAgIGF0dHIuJG9ic2VydmUoJ3ZhbHVlJywgcmVuZGVyKTtcblxuICAgIGVsZW1lbnRcbiAgICAgIC5vbignY2xpY2snLCBsaXN0ZW5lcilcbiAgICAgIC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmdDdHJsLnJlbW92ZShyZW5kZXIpO1xuICAgICAgfSk7XG5cbiAgICBmdW5jdGlvbiBsaXN0ZW5lcihldikge1xuICAgICAgaWYgKGVsZW1lbnRbMF0uaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSByZXR1cm47XG5cbiAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgcmdDdHJsLnNldFZpZXdWYWx1ZShhdHRyLnZhbHVlLCBldiAmJiBldi50eXBlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBjaGVja2VkID0gKHJnQ3RybC5nZXRWaWV3VmFsdWUoKSA9PSBhdHRyLnZhbHVlKTtcbiAgICAgIGlmIChjaGVja2VkID09PSBsYXN0Q2hlY2tlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsYXN0Q2hlY2tlZCA9IGNoZWNrZWQ7XG4gICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtY2hlY2tlZCcsIGNoZWNrZWQpO1xuICAgICAgaWYgKGNoZWNrZWQpIHtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhDSEVDS0VEX0NTUyk7XG4gICAgICAgIHJnQ3RybC5zZXRBY3RpdmVEZXNjZW5kYW50KGVsZW1lbnQuYXR0cignaWQnKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKENIRUNLRURfQ1NTKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5qZWN0IEFSSUEtc3BlY2lmaWMgYXR0cmlidXRlcyBhcHByb3ByaWF0ZSBmb3IgZWFjaCByYWRpbyBidXR0b25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25maWd1cmVBcmlhKCBlbGVtZW50LCBzY29wZSApe1xuICAgICAgc2NvcGUuYXJpYUlkID0gYnVpbGRBcmlhSUQoKTtcblxuICAgICAgZWxlbWVudC5hdHRyKHtcbiAgICAgICAgJ2lkJyA6ICBzY29wZS5hcmlhSWQsXG4gICAgICAgICdyb2xlJyA6ICdyYWRpbycsXG4gICAgICAgICdhcmlhLWNoZWNrZWQnIDogJ2ZhbHNlJ1xuICAgICAgfSk7XG5cbiAgICAgICRtZEFyaWEuZXhwZWN0V2l0aFRleHQoZWxlbWVudCwgJ2FyaWEtbGFiZWwnKTtcblxuICAgICAgLyoqXG4gICAgICAgKiBCdWlsZCBhIHVuaXF1ZSBJRCBmb3IgZWFjaCByYWRpbyBidXR0b24gdGhhdCB3aWxsIGJlIHVzZWQgd2l0aCBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQuXG4gICAgICAgKiBQcmVzZXJ2ZSBleGlzdGluZyBJRCBpZiBhbHJlYWR5IHNwZWNpZmllZC5cbiAgICAgICAqIEByZXR1cm5zIHsqfHN0cmluZ31cbiAgICAgICAqL1xuICAgICAgZnVuY3Rpb24gYnVpbGRBcmlhSUQoKSB7XG4gICAgICAgIHJldHVybiBhdHRyLmlkIHx8ICggJ3JhZGlvJyArIFwiX1wiICsgJG1kVXRpbC5uZXh0VWlkKCkgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbm1kUmFkaW9CdXR0b25EaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZEFyaWFcIiwgXCIkbWRVdGlsXCIsIFwiJG1kVGhlbWluZ1wiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5zZWxlY3RcbiAqL1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiMjIyBUT0RPICMjI1xuKipET0NVTUVOVEFUSU9OIEFORCBERU1PUyoqXG5cbi0gWyBdIG5nLW1vZGVsIHdpdGggY2hpbGQgbWRPcHRpb25zIChiYXNpYylcbi0gWyBdIG5nLW1vZGVsPVwiZm9vXCIgbmctbW9kZWwtb3B0aW9ucz1cInsgdHJhY2tCeTogJyR2YWx1ZS5pZCcgfVwiIGZvciBvYmplY3RzXG4tIFsgXSBtZE9wdGlvbiB3aXRoIHZhbHVlXG4tIFsgXSBVc2FnZSB3aXRoIGlucHV0IGluc2lkZVxuXG4jIyMgVE9ETyAtIFBPU1QgUkMxICMjI1xuLSBbIF0gQWJzdHJhY3QgcGxhY2VtZW50IGxvZ2ljIGluICRtZFNlbGVjdCBzZXJ2aWNlIHRvICRtZE1lbnUgc2VydmljZVxuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbnZhciBTRUxFQ1RfRURHRV9NQVJHSU4gPSA4O1xudmFyIHNlbGVjdE5leHRJZCA9IDA7XG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnNlbGVjdCcsIFtcbiAgJ21hdGVyaWFsLmNvcmUnLFxuICAnbWF0ZXJpYWwuY29tcG9uZW50cy5iYWNrZHJvcCdcbl0pXG4uZGlyZWN0aXZlKCdtZFNlbGVjdCcsIFNlbGVjdERpcmVjdGl2ZSlcbi5kaXJlY3RpdmUoJ21kU2VsZWN0TWVudScsIFNlbGVjdE1lbnVEaXJlY3RpdmUpXG4uZGlyZWN0aXZlKCdtZE9wdGlvbicsIE9wdGlvbkRpcmVjdGl2ZSlcbi5kaXJlY3RpdmUoJ21kT3B0Z3JvdXAnLCBPcHRncm91cERpcmVjdGl2ZSlcbi5wcm92aWRlcignJG1kU2VsZWN0JywgU2VsZWN0UHJvdmlkZXIpO1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRTZWxlY3RcbiAqIEByZXN0cmljdCBFXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuc2VsZWN0XG4gKlxuICogQGRlc2NyaXB0aW9uIERpc3BsYXlzIGEgc2VsZWN0IGJveCwgYm91bmQgdG8gYW4gbmctbW9kZWwuXG4gKlxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZy1tb2RlbCBUaGUgbW9kZWwhXG4gKiBAcGFyYW0ge2V4cHJlc3Npb249fSBtZC1vbi1jbG9zZSBleHByZXNzaW9uIHRvIGJlIGV2YWx1YXRlZCB3aGVuIHRoZSBzZWxlY3QgaXMgY2xvc2VkXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtdWx0aXBsZSBXaGV0aGVyIGl0J3MgbXVsdGlwbGUuXG4gKiBAcGFyYW0ge3N0cmluZz19IHBsYWNlaG9sZGVyIFBsYWNlaG9sZGVyIGhpbnQgdGV4dC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gYXJpYS1sYWJlbCBPcHRpb25hbCBsYWJlbCBmb3IgYWNjZXNzaWJpbGl0eS4gT25seSBuZWNlc3NhcnkgaWYgbm8gcGxhY2Vob2xkZXIgb3JcbiAqIGV4cGxpY2l0IGxhYmVsIGlzIHByZXNlbnQuXG4gKlxuICogQHVzYWdlXG4gKiBXaXRoIGEgcGxhY2Vob2xkZXIgKGxhYmVsIGFuZCBhcmlhLWxhYmVsIGFyZSBhZGRlZCBkeW5hbWljYWxseSlcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiAgIDxtZC1zZWxlY3RcbiAqICAgICBuZy1tb2RlbD1cInNvbWVNb2RlbFwiXG4gKiAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3QgYSBzdGF0ZVwiPlxuICogICAgIDxtZC1vcHRpb24gbmctdmFsdWU9XCJvcHRcIiBuZy1yZXBlYXQ9XCJvcHQgaW4gbmVpZ2hib3Job29kczJcIj57eyBvcHQgfX08L21kLW9wdGlvbj5cbiAqICAgPC9tZC1zZWxlY3Q+XG4gKiA8L2hsanM+XG4gKlxuICogV2l0aCBhbiBleHBsaWNpdCBsYWJlbFxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqICAgPG1kLXNlbGVjdFxuICogICAgIG5nLW1vZGVsPVwic29tZU1vZGVsXCI+XG4gKiAgICAgPG1kLXNlbGVjdC1sYWJlbD5TZWxlY3QgYSBzdGF0ZTwvbWQtc2VsZWN0LWxhYmVsPlxuICogICAgIDxtZC1vcHRpb24gbmctdmFsdWU9XCJvcHRcIiBuZy1yZXBlYXQ9XCJvcHQgaW4gbmVpZ2hib3Job29kczJcIj57eyBvcHQgfX08L21kLW9wdGlvbj5cbiAqICAgPC9tZC1zZWxlY3Q+XG4gKiA8L2hsanM+XG4gKi9cbmZ1bmN0aW9uIFNlbGVjdERpcmVjdGl2ZSgkbWRTZWxlY3QsICRtZFV0aWwsICRtZFRoZW1pbmcsICRtZEFyaWEsICRpbnRlcnBvbGF0ZSwgJGNvbXBpbGUsICRwYXJzZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVxdWlyZTogWydtZFNlbGVjdCcsICduZ01vZGVsJywgJz9eZm9ybSddLFxuICAgIGNvbXBpbGU6IGNvbXBpbGUsXG4gICAgY29udHJvbGxlcjogZnVuY3Rpb24oKSB7IH0gLy8gZW1wdHkgcGxhY2Vob2xkZXIgY29udHJvbGxlciB0byBiZSBpbml0aWFsaXplZCBpbiBsaW5rXG4gIH07XG5cbiAgZnVuY3Rpb24gY29tcGlsZShlbGVtZW50LCBhdHRyKSB7XG4gICAgLy8gVGhlIHVzZXIgaXMgYWxsb3dlZCB0byBwcm92aWRlIGEgbGFiZWwgZm9yIHRoZSBzZWxlY3QgYXMgbWQtc2VsZWN0LWxhYmVsIGNoaWxkXG4gICAgdmFyIGxhYmVsRWwgPSBlbGVtZW50LmZpbmQoJ21kLXNlbGVjdC1sYWJlbCcpLnJlbW92ZSgpO1xuXG4gICAgLy8gSWYgbm90IHByb3ZpZGVkLCB3ZSBhdXRvbWF0aWNhbGx5IG1ha2Ugb25lXG4gICAgaWYgKCFsYWJlbEVsLmxlbmd0aCkge1xuICAgICAgbGFiZWxFbCA9IGFuZ3VsYXIuZWxlbWVudCgnPG1kLXNlbGVjdC1sYWJlbD48c3Bhbj48L3NwYW4+PC9tZC1zZWxlY3QtbGFiZWw+Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghbGFiZWxFbFswXS5maXJzdEVsZW1lbnRDaGlsZCkge1xuICAgICAgICB2YXIgc3BhbldyYXBwZXIgPSBhbmd1bGFyLmVsZW1lbnQoJzxzcGFuPicpO1xuICAgICAgICBzcGFuV3JhcHBlci5hcHBlbmQobGFiZWxFbC5jb250ZW50cygpKTtcbiAgICAgICAgbGFiZWxFbC5hcHBlbmQoc3BhbldyYXBwZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICBsYWJlbEVsLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJtZC1zZWxlY3QtaWNvblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvc3Bhbj4nKTtcbiAgICBsYWJlbEVsLmFkZENsYXNzKCdtZC1zZWxlY3QtbGFiZWwnKTtcbiAgICBpZiAoIWxhYmVsRWxbMF0uaGFzQXR0cmlidXRlKCdpZCcpKSB7XG4gICAgICBsYWJlbEVsLmF0dHIoJ2lkJywgJ3NlbGVjdF9sYWJlbF8nICsgJG1kVXRpbC5uZXh0VWlkKCkpO1xuICAgIH1cblxuICAgIC8vIFRoZXJlJ3MgZ290IHRvIGJlIGFuIG1kLWNvbnRlbnQgaW5zaWRlLiBJZiB0aGVyZSdzIG5vdCBvbmUsIGxldCdzIGFkZCBpdC5cbiAgICBpZiAoIWVsZW1lbnQuZmluZCgnbWQtY29udGVudCcpLmxlbmd0aCkge1xuICAgICAgZWxlbWVudC5hcHBlbmQoIGFuZ3VsYXIuZWxlbWVudCgnPG1kLWNvbnRlbnQ+JykuYXBwZW5kKGVsZW1lbnQuY29udGVudHMoKSkgKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgcHJvZ3Jlc3Mgc3Bpbm5lciBmb3IgbWQtb3B0aW9ucy1sb2FkaW5nXG4gICAgaWYgKGF0dHIubWRPbk9wZW4pIHtcbiAgICAgIGVsZW1lbnQuZmluZCgnbWQtY29udGVudCcpLnByZXBlbmQoXG4gICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnPG1kLXByb2dyZXNzLWNpcmN1bGFyPicpXG4gICAgICAgICAgICAgICAuYXR0cignbWQtbW9kZScsICdpbmRldGVybWluYXRlJylcbiAgICAgICAgICAgICAgIC5hdHRyKCduZy1oaWRlJywgJyQkbG9hZGluZ0FzeW5jRG9uZScpXG4gICAgICAgICAgICAgICAud3JhcCgnPGRpdj4nKVxuICAgICAgICAgICAgICAgLnBhcmVudCgpXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChhdHRyLm5hbWUpIHtcbiAgICAgIHZhciBhdXRvZmlsbENsb25lID0gYW5ndWxhci5lbGVtZW50KCc8c2VsZWN0IGNsYXNzPVwibWQtdmlzdWFsbHktaGlkZGVuXCI+Jyk7XG4gICAgICBhdXRvZmlsbENsb25lLmF0dHIoe1xuICAgICAgICAnbmFtZSc6ICcuJyArIGF0dHIubmFtZSxcbiAgICAgICAgJ25nLW1vZGVsJzogYXR0ci5uZ01vZGVsLFxuICAgICAgICAnYXJpYS1oaWRkZW4nOiAndHJ1ZScsXG4gICAgICAgICd0YWJpbmRleCc6ICctMSdcbiAgICAgIH0pO1xuICAgICAgdmFyIG9wdHMgPSBlbGVtZW50LmZpbmQoJ21kLW9wdGlvbicpO1xuICAgICAgYW5ndWxhci5mb3JFYWNoKG9wdHMsIGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIHZhciBuZXdFbCA9IGFuZ3VsYXIuZWxlbWVudCgnPG9wdGlvbj4nICsgZWwuaW5uZXJIVE1MICsgJzwvb3B0aW9uPicpO1xuICAgICAgICBpZiAoZWwuaGFzQXR0cmlidXRlKCduZy12YWx1ZScpKSBuZXdFbC5hdHRyKCduZy12YWx1ZScsIGVsLmdldEF0dHJpYnV0ZSgnbmctdmFsdWUnKSk7XG4gICAgICAgIGVsc2UgaWYgKGVsLmhhc0F0dHJpYnV0ZSgndmFsdWUnKSkgbmV3RWwuYXR0cigndmFsdWUnLCBlbC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpO1xuICAgICAgICBhdXRvZmlsbENsb25lLmFwcGVuZChuZXdFbCk7XG4gICAgICB9KTtcblxuICAgICAgZWxlbWVudC5wYXJlbnQoKS5hcHBlbmQoYXV0b2ZpbGxDbG9uZSk7XG4gICAgfVxuXG4gICAgLy8gVXNlIGV2ZXJ5dGhpbmcgdGhhdCdzIGxlZnQgaW5zaWRlIGVsZW1lbnQuY29udGVudHMoKSBhcyB0aGUgY29udGVudHMgb2YgdGhlIG1lbnVcbiAgICB2YXIgc2VsZWN0VGVtcGxhdGUgPSAnPGRpdiBjbGFzcz1cIm1kLXNlbGVjdC1tZW51LWNvbnRhaW5lclwiPicgK1xuICAgICAgICAnPG1kLXNlbGVjdC1tZW51ICcgK1xuICAgICAgICAoYW5ndWxhci5pc0RlZmluZWQoYXR0ci5tdWx0aXBsZSkgPyAnbXVsdGlwbGUnIDogJycpICsgJz4nICtcbiAgICAgICAgICBlbGVtZW50Lmh0bWwoKSArXG4gICAgICAgICc8L21kLXNlbGVjdC1tZW51PjwvZGl2Pic7XG5cbiAgICBlbGVtZW50LmVtcHR5KCkuYXBwZW5kKGxhYmVsRWwpO1xuXG4gICAgYXR0ci50YWJpbmRleCA9IGF0dHIudGFiaW5kZXggfHwgJzAnO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuICAgICAgdmFyIGlzT3BlbjtcbiAgICAgIHZhciBpc0Rpc2FibGVkO1xuXG4gICAgICB2YXIgbWRTZWxlY3RDdHJsID0gY3RybHNbMF07XG4gICAgICB2YXIgbmdNb2RlbCA9IGN0cmxzWzFdO1xuICAgICAgdmFyIGZvcm1DdHJsID0gY3RybHNbMl07XG5cbiAgICAgIHZhciBsYWJlbEVsID0gZWxlbWVudC5maW5kKCdtZC1zZWxlY3QtbGFiZWwnKTtcbiAgICAgIHZhciBjdXN0b21MYWJlbCA9IGxhYmVsRWwudGV4dCgpLmxlbmd0aCAhPT0gMDtcbiAgICAgIHZhciBzZWxlY3RDb250YWluZXIsIHNlbGVjdFNjb3BlLCBzZWxlY3RNZW51Q3RybDtcbiAgICAgIGNyZWF0ZVNlbGVjdCgpO1xuXG4gICAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuXG4gICAgICBpZiAoYXR0ci5uYW1lICYmIGZvcm1DdHJsKSB7XG4gICAgICAgIHZhciBzZWxlY3RFbCA9IGVsZW1lbnQucGFyZW50KClbMF0ucXVlcnlTZWxlY3Rvcignc2VsZWN0W25hbWU9XCIuJyArIGF0dHIubmFtZSArICdcIl0nKTtcbiAgICAgICAgZm9ybUN0cmwuJHJlbW92ZUNvbnRyb2woYW5ndWxhci5lbGVtZW50KHNlbGVjdEVsKS5jb250cm9sbGVyKCkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgb3JpZ2luYWxSZW5kZXIgPSBuZ01vZGVsLiRyZW5kZXI7XG4gICAgICBuZ01vZGVsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgb3JpZ2luYWxSZW5kZXIoKTtcbiAgICAgICAgc3luY0xhYmVsVGV4dCgpO1xuICAgICAgfTtcblxuICAgICAgbWRTZWxlY3RDdHJsLnNldExhYmVsVGV4dCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgaWYgKGN1c3RvbUxhYmVsKSByZXR1cm47IC8vIEFzc3VtZSB0aGF0IHVzZXIgaXMgaGFuZGxpbmcgaXQgb24gdGhlaXIgb3duXG4gICAgICAgIG1kU2VsZWN0Q3RybC5zZXRJc1BsYWNlaG9sZGVyKCF0ZXh0KTtcbiAgICAgICAgdGV4dCA9IHRleHQgfHwgYXR0ci5wbGFjZWhvbGRlciB8fCAnJztcbiAgICAgICAgdmFyIHRhcmdldCA9IGN1c3RvbUxhYmVsID8gbGFiZWxFbCA6IGxhYmVsRWwuY2hpbGRyZW4oKS5lcSgwKTtcbiAgICAgICAgdGFyZ2V0LnRleHQodGV4dCk7XG4gICAgICB9O1xuXG4gICAgICBtZFNlbGVjdEN0cmwuc2V0SXNQbGFjZWhvbGRlciA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICB2YWwgPyBsYWJlbEVsLmFkZENsYXNzKCdtZC1wbGFjZWhvbGRlcicpIDogbGFiZWxFbC5yZW1vdmVDbGFzcygnbWQtcGxhY2Vob2xkZXInKTtcbiAgICAgIH07XG5cbiAgICAgIG1kU2VsZWN0Q3RybC50cmlnZ2VyQ2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgJHBhcnNlKGF0dHIubWRPbkNsb3NlKShzY29wZSk7XG4gICAgICB9O1xuXG4gICAgICBzY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldEFyaWFMYWJlbCgpO1xuICAgICAgICBzeW5jTGFiZWxUZXh0KCk7XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gc2V0QXJpYUxhYmVsKCkge1xuICAgICAgICB2YXIgbGFiZWxUZXh0ID0gZWxlbWVudC5hdHRyKCdwbGFjZWhvbGRlcicpO1xuICAgICAgICBpZiAoIWxhYmVsVGV4dCkge1xuICAgICAgICAgIGxhYmVsVGV4dCA9IGVsZW1lbnQuZmluZCgnbWQtc2VsZWN0LWxhYmVsJykudGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgICRtZEFyaWEuZXhwZWN0KGVsZW1lbnQsICdhcmlhLWxhYmVsJywgbGFiZWxUZXh0KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc3luY0xhYmVsVGV4dCgpIHtcbiAgICAgICAgaWYgKHNlbGVjdENvbnRhaW5lcikge1xuICAgICAgICAgIHNlbGVjdE1lbnVDdHJsID0gc2VsZWN0TWVudUN0cmwgfHwgc2VsZWN0Q29udGFpbmVyLmZpbmQoJ21kLXNlbGVjdC1tZW51JykuY29udHJvbGxlcignbWRTZWxlY3RNZW51Jyk7XG4gICAgICAgICAgbWRTZWxlY3RDdHJsLnNldExhYmVsVGV4dChzZWxlY3RNZW51Q3RybC5zZWxlY3RlZExhYmVscygpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZGVyZWdpc3RlcldhdGNoZXI7XG4gICAgICBhdHRyLiRvYnNlcnZlKCduZ011bHRpcGxlJywgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgIGlmIChkZXJlZ2lzdGVyV2F0Y2hlcikgZGVyZWdpc3RlcldhdGNoZXIoKTtcbiAgICAgICAgdmFyIHBhcnNlciA9ICRwYXJzZSh2YWwpO1xuICAgICAgICBkZXJlZ2lzdGVyV2F0Y2hlciA9IHNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHsgcmV0dXJuIHBhcnNlcihzY29wZSk7IH0sIGZ1bmN0aW9uKG11bHRpcGxlLCBwcmV2VmFsKSB7XG4gICAgICAgICAgaWYgKG11bHRpcGxlID09PSB1bmRlZmluZWQgJiYgcHJldlZhbCA9PT0gdW5kZWZpbmVkKSByZXR1cm47IC8vIGFzc3VtZSBjb21waWxlciBkaWQgYSBnb29kIGpvYlxuICAgICAgICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgICAgICAgZWxlbWVudC5hdHRyKCdtdWx0aXBsZScsICdtdWx0aXBsZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHIoJ211bHRpcGxlJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzZWxlY3RDb250YWluZXIpIHtcbiAgICAgICAgICAgIHNlbGVjdE1lbnVDdHJsLnNldE11bHRpcGxlKG11bHRpcGxlKTtcbiAgICAgICAgICAgIG9yaWdpbmFsUmVuZGVyID0gbmdNb2RlbC4kcmVuZGVyO1xuICAgICAgICAgICAgbmdNb2RlbC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIG9yaWdpbmFsUmVuZGVyKCk7XG4gICAgICAgICAgICAgIHN5bmNMYWJlbFRleHQoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZWxlY3RNZW51Q3RybC5yZWZyZXNoVmlld1ZhbHVlKCk7XG4gICAgICAgICAgICBuZ01vZGVsLiRyZW5kZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGF0dHIuJG9ic2VydmUoJ2Rpc2FibGVkJywgZnVuY3Rpb24oZGlzYWJsZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkaXNhYmxlZCA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByZXZlbnQgY2xpY2sgZXZlbnQgYmVpbmcgcmVnaXN0ZXJlZCB0d2ljZVxuICAgICAgICBpZiAoaXNEaXNhYmxlZCAhPT0gdW5kZWZpbmVkICYmIGlzRGlzYWJsZWQgPT09IGRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlzRGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgICAgZWxlbWVudC5hdHRyKHsndGFiaW5kZXgnOiAtMSwgJ2FyaWEtZGlzYWJsZWQnOiAndHJ1ZSd9KTtcbiAgICAgICAgICBlbGVtZW50Lm9mZignY2xpY2snLCBvcGVuU2VsZWN0KTtcbiAgICAgICAgICBlbGVtZW50Lm9mZigna2V5ZG93bicsIGhhbmRsZUtleXByZXNzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50LmF0dHIoeyd0YWJpbmRleCc6IGF0dHIudGFiaW5kZXgsICdhcmlhLWRpc2FibGVkJzogJ2ZhbHNlJ30pO1xuICAgICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgb3BlblNlbGVjdCk7XG4gICAgICAgICAgZWxlbWVudC5vbigna2V5ZG93bicsIGhhbmRsZUtleXByZXNzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghYXR0ci5kaXNhYmxlZCAmJiAhYXR0ci5uZ0Rpc2FibGVkKSB7XG4gICAgICAgIGVsZW1lbnQuYXR0cih7J3RhYmluZGV4JzogYXR0ci50YWJpbmRleCwgJ2FyaWEtZGlzYWJsZWQnOiAnZmFsc2UnfSk7XG4gICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgb3BlblNlbGVjdCk7XG4gICAgICAgIGVsZW1lbnQub24oJ2tleWRvd24nLCBoYW5kbGVLZXlwcmVzcyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBhcmlhQXR0cnMgPSB7XG4gICAgICAgIHJvbGU6ICdjb21ib2JveCcsXG4gICAgICAgICdhcmlhLWV4cGFuZGVkJzogJ2ZhbHNlJ1xuICAgICAgfTtcbiAgICAgIGlmICghZWxlbWVudFswXS5oYXNBdHRyaWJ1dGUoJ2lkJykpIHtcbiAgICAgICAgYXJpYUF0dHJzLmlkID0gJ3NlbGVjdF8nICsgJG1kVXRpbC5uZXh0VWlkKCk7XG4gICAgICB9XG4gICAgICBlbGVtZW50LmF0dHIoYXJpYUF0dHJzKTtcblxuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoaXNPcGVuKSB7XG4gICAgICAgICAgJG1kU2VsZWN0LmNhbmNlbCgpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxlY3RDb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZWN0Q29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuXG4gICAgICAvLyBDcmVhdGUgYSBmYWtlIHNlbGVjdCB0byBmaW5kIG91dCB0aGUgbGFiZWwgdmFsdWVcbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZVNlbGVjdCgpIHtcbiAgICAgICAgc2VsZWN0Q29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KHNlbGVjdFRlbXBsYXRlKTtcbiAgICAgICAgdmFyIHNlbGVjdEVsID0gc2VsZWN0Q29udGFpbmVyLmZpbmQoJ21kLXNlbGVjdC1tZW51Jyk7XG4gICAgICAgIHNlbGVjdEVsLmRhdGEoJyRuZ01vZGVsQ29udHJvbGxlcicsIG5nTW9kZWwpO1xuICAgICAgICBzZWxlY3RFbC5kYXRhKCckbWRTZWxlY3RDb250cm9sbGVyJywgbWRTZWxlY3RDdHJsKTtcbiAgICAgICAgc2VsZWN0U2NvcGUgPSBzY29wZS4kbmV3KCk7XG4gICAgICAgIHNlbGVjdENvbnRhaW5lciA9ICRjb21waWxlKHNlbGVjdENvbnRhaW5lcikoc2VsZWN0U2NvcGUpO1xuICAgICAgICBzZWxlY3RNZW51Q3RybCA9IHNlbGVjdENvbnRhaW5lci5maW5kKCdtZC1zZWxlY3QtbWVudScpLmNvbnRyb2xsZXIoJ21kU2VsZWN0TWVudScpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVLZXlwcmVzcyhlKSB7XG4gICAgICAgIHZhciBhbGxvd2VkQ29kZXMgPSBbMzIsIDEzLCAzOCwgNDBdO1xuICAgICAgICBpZiAoYWxsb3dlZENvZGVzLmluZGV4T2YoZS5rZXlDb2RlKSAhPSAtMSApIHtcbiAgICAgICAgICAvLyBwcmV2ZW50IHBhZ2Ugc2Nyb2xsaW5nIG9uIGludGVyYWN0aW9uXG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIG9wZW5TZWxlY3QoZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGUua2V5Q29kZSA8PSA5MCAmJiBlLmtleUNvZGUgPj0gMzEpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciBub2RlID0gc2VsZWN0TWVudUN0cmwub3B0Tm9kZUZvcktleWJvYXJkU2VhcmNoKGUpO1xuICAgICAgICAgICAgaWYgKCFub2RlKSByZXR1cm47XG4gICAgICAgICAgICB2YXIgb3B0aW9uQ3RybCA9IGFuZ3VsYXIuZWxlbWVudChub2RlKS5jb250cm9sbGVyKCdtZE9wdGlvbicpO1xuICAgICAgICAgICAgaWYgKCFzZWxlY3RNZW51Q3RybC5pc011bHRpcGxlKSB7XG4gICAgICAgICAgICAgIHNlbGVjdE1lbnVDdHJsLmRlc2VsZWN0KCBPYmplY3Qua2V5cyhzZWxlY3RNZW51Q3RybC5zZWxlY3RlZClbMF0gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGVjdE1lbnVDdHJsLnNlbGVjdChvcHRpb25DdHJsLmhhc2hLZXksIG9wdGlvbkN0cmwudmFsdWUpO1xuICAgICAgICAgICAgc2VsZWN0TWVudUN0cmwucmVmcmVzaFZpZXdWYWx1ZSgpO1xuICAgICAgICAgICAgbmdNb2RlbC4kcmVuZGVyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9wZW5TZWxlY3QoKSB7XG4gICAgICAgIHNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgICAkbWRTZWxlY3Quc2hvdyh7XG4gICAgICAgICAgICBzY29wZTogc2VsZWN0U2NvcGUsXG4gICAgICAgICAgICBwcmVzZXJ2ZVNjb3BlOiB0cnVlLFxuICAgICAgICAgICAgc2tpcENvbXBpbGU6IHRydWUsXG4gICAgICAgICAgICBlbGVtZW50OiBzZWxlY3RDb250YWluZXIsXG4gICAgICAgICAgICB0YXJnZXQ6IGVsZW1lbnRbMF0sXG4gICAgICAgICAgICBoYXNCYWNrZHJvcDogdHJ1ZSxcbiAgICAgICAgICAgIGxvYWRpbmdBc3luYzogYXR0ci5tZE9uT3BlbiA/IHNjb3BlLiRldmFsKGF0dHIubWRPbk9wZW4pIHx8IHRydWUgOiBmYWxzZSxcbiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHNlbGVjdGVkVGV4dCkge1xuICAgICAgICAgICAgaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn1cblNlbGVjdERpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kU2VsZWN0XCIsIFwiJG1kVXRpbFwiLCBcIiRtZFRoZW1pbmdcIiwgXCIkbWRBcmlhXCIsIFwiJGludGVycG9sYXRlXCIsIFwiJGNvbXBpbGVcIiwgXCIkcGFyc2VcIl07XG5cbmZ1bmN0aW9uIFNlbGVjdE1lbnVEaXJlY3RpdmUoJHBhcnNlLCAkbWRVdGlsLCAkbWRUaGVtaW5nKSB7XG5cbiAgU2VsZWN0TWVudUNvbnRyb2xsZXIuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRhdHRyc1wiLCBcIiRlbGVtZW50XCJdO1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVxdWlyZTogWydtZFNlbGVjdE1lbnUnLCAnP25nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiBTZWxlY3RNZW51Q29udHJvbGxlcixcbiAgICBsaW5rOiB7IHByZTogcHJlTGluayB9XG4gIH07XG5cbiAgLy8gV2UgdXNlIHByZUxpbmsgaW5zdGVhZCBvZiBwb3N0TGluayB0byBlbnN1cmUgdGhhdCB0aGUgc2VsZWN0IGlzIGluaXRpYWxpemVkIGJlZm9yZVxuICAvLyBpdHMgY2hpbGQgb3B0aW9ucyBydW4gcG9zdExpbmsuXG4gIGZ1bmN0aW9uIHByZUxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgdmFyIHNlbGVjdEN0cmwgPSBjdHJsc1swXTtcbiAgICB2YXIgbmdNb2RlbCA9IGN0cmxzWzFdO1xuXG4gICAgJG1kVGhlbWluZyhlbGVtZW50KTtcbiAgICBlbGVtZW50Lm9uKCdjbGljaycsIGNsaWNrTGlzdGVuZXIpO1xuICAgIGVsZW1lbnQub24oJ2tleXByZXNzJywga2V5TGlzdGVuZXIpO1xuICAgIGlmIChuZ01vZGVsKSBzZWxlY3RDdHJsLmluaXQobmdNb2RlbCk7XG4gICAgY29uZmlndXJlQXJpYSgpO1xuXG4gICAgZnVuY3Rpb24gY29uZmlndXJlQXJpYSgpIHtcbiAgICAgIGVsZW1lbnQuYXR0cih7XG4gICAgICAgICdpZCc6ICdzZWxlY3RfbWVudV8nICsgJG1kVXRpbC5uZXh0VWlkKCksXG4gICAgICAgICdyb2xlJzogJ2xpc3Rib3gnLFxuICAgICAgICAnYXJpYS1tdWx0aXNlbGVjdGFibGUnOiAoc2VsZWN0Q3RybC5pc011bHRpcGxlID8gJ3RydWUnIDogJ2ZhbHNlJylcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGtleUxpc3RlbmVyKGUpIHtcbiAgICAgIGlmIChlLmtleUNvZGUgPT0gMTMgfHwgZS5rZXlDb2RlID09IDMyKSB7XG4gICAgICAgIGNsaWNrTGlzdGVuZXIoZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xpY2tMaXN0ZW5lcihldikge1xuICAgICAgdmFyIG9wdGlvbiA9ICRtZFV0aWwuZ2V0Q2xvc2VzdChldi50YXJnZXQsICdtZC1vcHRpb24nKTtcbiAgICAgIHZhciBvcHRpb25DdHJsID0gb3B0aW9uICYmIGFuZ3VsYXIuZWxlbWVudChvcHRpb24pLmRhdGEoJyRtZE9wdGlvbkNvbnRyb2xsZXInKTtcbiAgICAgIGlmICghb3B0aW9uIHx8ICFvcHRpb25DdHJsKSByZXR1cm47XG5cbiAgICAgIHZhciBvcHRpb25IYXNoS2V5ID0gc2VsZWN0Q3RybC5oYXNoR2V0dGVyKG9wdGlvbkN0cmwudmFsdWUpO1xuICAgICAgdmFyIGlzU2VsZWN0ZWQgPSBhbmd1bGFyLmlzRGVmaW5lZChzZWxlY3RDdHJsLnNlbGVjdGVkW29wdGlvbkhhc2hLZXldKTtcblxuICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoc2VsZWN0Q3RybC5pc011bHRpcGxlKSB7XG4gICAgICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHNlbGVjdEN0cmwuZGVzZWxlY3Qob3B0aW9uSGFzaEtleSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGVjdEN0cmwuc2VsZWN0KG9wdGlvbkhhc2hLZXksIG9wdGlvbkN0cmwudmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIWlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHNlbGVjdEN0cmwuZGVzZWxlY3QoIE9iamVjdC5rZXlzKHNlbGVjdEN0cmwuc2VsZWN0ZWQpWzBdICk7XG4gICAgICAgICAgICBzZWxlY3RDdHJsLnNlbGVjdCggb3B0aW9uSGFzaEtleSwgb3B0aW9uQ3RybC52YWx1ZSApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZWxlY3RDdHJsLnJlZnJlc2hWaWV3VmFsdWUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG5cblxuICBmdW5jdGlvbiBTZWxlY3RNZW51Q29udHJvbGxlcigkc2NvcGUsICRhdHRycywgJGVsZW1lbnQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5pc011bHRpcGxlID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm11bHRpcGxlKTtcbiAgICAvLyBzZWxlY3RlZCBpcyBhbiBvYmplY3Qgd2l0aCBrZXlzIG1hdGNoaW5nIGFsbCBvZiB0aGUgc2VsZWN0ZWQgb3B0aW9ucycgaGFzaGVkIHZhbHVlc1xuICAgIHNlbGYuc2VsZWN0ZWQgPSB7fTtcbiAgICAvLyBvcHRpb25zIGlzIGFuIG9iamVjdCB3aXRoIGtleXMgbWF0Y2hpbmcgZXZlcnkgb3B0aW9uJ3MgaGFzaCB2YWx1ZSxcbiAgICAvLyBhbmQgdmFsdWVzIG1hdGNoaW5nIGV2ZXJ5IG9wdGlvbidzIGNvbnRyb2xsZXIuXG4gICAgc2VsZi5vcHRpb25zID0ge307XG5cbiAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5vcHRpb25zOyB9LCBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYubmdNb2RlbC4kcmVuZGVyKCk7XG4gICAgfSwgdHJ1ZSk7XG5cbiAgICB2YXIgZGVyZWdpc3RlckNvbGxlY3Rpb25XYXRjaDtcbiAgICBzZWxmLnNldE11bHRpcGxlID0gZnVuY3Rpb24oaXNNdWx0aXBsZSkge1xuICAgICAgdmFyIG5nTW9kZWwgPSBzZWxmLm5nTW9kZWw7XG4gICAgICBzZWxmLmlzTXVsdGlwbGUgPSBpc011bHRpcGxlO1xuICAgICAgaWYgKGRlcmVnaXN0ZXJDb2xsZWN0aW9uV2F0Y2gpIGRlcmVnaXN0ZXJDb2xsZWN0aW9uV2F0Y2goKTtcblxuICAgICAgaWYgKHNlbGYuaXNNdWx0aXBsZSkge1xuICAgICAgICBuZ01vZGVsLiR2YWxpZGF0b3JzWydtZC1tdWx0aXBsZSddID0gdmFsaWRhdGVBcnJheTtcbiAgICAgICAgbmdNb2RlbC4kcmVuZGVyID0gcmVuZGVyTXVsdGlwbGU7XG5cbiAgICAgICAgLy8gd2F0Y2hDb2xsZWN0aW9uIG9uIHRoZSBtb2RlbCBiZWNhdXNlIGJ5IGRlZmF1bHQgbmdNb2RlbCBvbmx5IHdhdGNoZXMgdGhlIG1vZGVsJ3NcbiAgICAgICAgLy8gcmVmZXJlbmNlLiBUaGlzIGFsbG93ZWQgdGhlIGRldmVsb3BlciB0byBhbHNvIHB1c2ggYW5kIHBvcCBmcm9tIHRoZWlyIGFycmF5LlxuICAgICAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbigkYXR0cnMubmdNb2RlbCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBpZiAodmFsaWRhdGVBcnJheSh2YWx1ZSkpIHJlbmRlck11bHRpcGxlKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGUgbmdNb2RlbC4kdmFsaWRhdG9yc1snbWQtbXVsdGlwbGUnXTtcbiAgICAgICAgbmdNb2RlbC4kcmVuZGVyID0gcmVuZGVyU2luZ3VsYXI7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHZhbGlkYXRlQXJyYXkobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgIC8vIElmIGEgdmFsdWUgaXMgdHJ1dGh5IGJ1dCBub3QgYW4gYXJyYXksIHJlamVjdCBpdC5cbiAgICAgICAgLy8gSWYgdmFsdWUgaXMgdW5kZWZpbmVkL2ZhbHN5LCBhY2NlcHQgdGhhdCBpdCdzIGFuIGVtcHR5IGFycmF5LlxuICAgICAgICByZXR1cm4gYW5ndWxhci5pc0FycmF5KG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlIHx8IFtdKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHNlYXJjaFN0ciA9ICcnO1xuICAgIHZhciBjbGVhclNlYXJjaFRpbWVvdXQsIG9wdE5vZGVzLCBvcHRUZXh0O1xuICAgIHZhciBDTEVBUl9TRUFSQ0hfQUZURVIgPSAzMDA7XG4gICAgc2VsZi5vcHROb2RlRm9yS2V5Ym9hcmRTZWFyY2ggPSBmdW5jdGlvbihlKSB7XG4gICAgICBjbGVhclNlYXJjaFRpbWVvdXQgJiYgY2xlYXJUaW1lb3V0KGNsZWFyU2VhcmNoVGltZW91dCk7XG4gICAgICBjbGVhclNlYXJjaFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclNlYXJjaFRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHNlYXJjaFN0ciA9ICcnO1xuICAgICAgICBvcHRUZXh0ID0gdW5kZWZpbmVkO1xuICAgICAgICBvcHROb2RlcyA9IHVuZGVmaW5lZDtcbiAgICAgIH0sIENMRUFSX1NFQVJDSF9BRlRFUik7XG4gICAgICBzZWFyY2hTdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShlLmtleUNvZGUpO1xuICAgICAgdmFyIHNlYXJjaCA9IG5ldyBSZWdFeHAoJ14nICsgc2VhcmNoU3RyLCAnaScpO1xuICAgICAgaWYgKCFvcHROb2Rlcykge1xuICAgICAgICBvcHROb2RlcyA9ICRlbGVtZW50LmZpbmQoJ21kLW9wdGlvbicpO1xuICAgICAgICBvcHRUZXh0ID0gbmV3IEFycmF5KG9wdE5vZGVzLmxlbmd0aCk7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChvcHROb2RlcywgZnVuY3Rpb24oZWwsIGkpIHtcbiAgICAgICAgICBvcHRUZXh0W2ldID0gZWwudGV4dENvbnRlbnQudHJpbSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0VGV4dC5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoc2VhcmNoLnRlc3Qob3B0VGV4dFtpXSkpIHtcbiAgICAgICAgICByZXR1cm4gb3B0Tm9kZXNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG5cbiAgICBzZWxmLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsKSB7XG4gICAgICBzZWxmLm5nTW9kZWwgPSBuZ01vZGVsO1xuXG4gICAgICAvLyBBbGxvdyB1c2VycyB0byBwcm92aWRlIGBuZy1tb2RlbD1cImZvb1wiIG5nLW1vZGVsLW9wdGlvbnM9XCJ7dHJhY2tCeTogJ2Zvby5pZCd9XCJgIHNvXG4gICAgICAvLyB0aGF0IHdlIGNhbiBwcm9wZXJseSBjb21wYXJlIG9iamVjdHMgc2V0IG9uIHRoZSBtb2RlbCB0byB0aGUgYXZhaWxhYmxlIG9wdGlvbnNcbiAgICAgIGlmIChuZ01vZGVsLiRvcHRpb25zICYmIG5nTW9kZWwuJG9wdGlvbnMudHJhY2tCeSkge1xuICAgICAgICB2YXIgdHJhY2tCeUxvY2FscyA9IHt9O1xuICAgICAgICB2YXIgdHJhY2tCeVBhcnNlZCA9ICRwYXJzZShuZ01vZGVsLiRvcHRpb25zLnRyYWNrQnkpO1xuICAgICAgICBzZWxmLmhhc2hHZXR0ZXIgPSBmdW5jdGlvbih2YWx1ZSwgdmFsdWVTY29wZSkge1xuICAgICAgICAgIHRyYWNrQnlMb2NhbHMuJHZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIHRyYWNrQnlQYXJzZWQodmFsdWVTY29wZSB8fCAkc2NvcGUsIHRyYWNrQnlMb2NhbHMpO1xuICAgICAgICB9O1xuICAgICAgLy8gSWYgdGhlIHVzZXIgZG9lc24ndCBwcm92aWRlIGEgdHJhY2tCeSwgd2UgYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhbiBpZCBmb3IgZXZlcnlcbiAgICAgIC8vIHZhbHVlIHBhc3NlZCBpblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5oYXNoR2V0dGVyID0gZnVuY3Rpb24gZ2V0SGFzaFZhbHVlKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ29iamVjdF8nICsgKHZhbHVlLiQkbWRTZWxlY3RJZCB8fCAodmFsdWUuJCRtZFNlbGVjdElkID0gKytzZWxlY3ROZXh0SWQpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgc2VsZi5zZXRNdWx0aXBsZShzZWxmLmlzTXVsdGlwbGUpO1xuICAgIH07XG5cbiAgICBzZWxmLnNlbGVjdGVkTGFiZWxzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZWN0ZWRPcHRpb25FbHMgPSAkbWRVdGlsLm5vZGVzVG9BcnJheSgkZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yQWxsKCdtZC1vcHRpb25bc2VsZWN0ZWRdJykpO1xuICAgICAgaWYgKHNlbGVjdGVkT3B0aW9uRWxzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWRPcHRpb25FbHMubWFwKGZ1bmN0aW9uKGVsKSB7IHJldHVybiBlbC50ZXh0Q29udGVudDsgfSkuam9pbignLCAnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgc2VsZi5zZWxlY3QgPSBmdW5jdGlvbihoYXNoS2V5LCBoYXNoZWRWYWx1ZSkge1xuICAgICAgdmFyIG9wdGlvbiA9IHNlbGYub3B0aW9uc1toYXNoS2V5XTtcbiAgICAgIG9wdGlvbiAmJiBvcHRpb24uc2V0U2VsZWN0ZWQodHJ1ZSk7XG4gICAgICBzZWxmLnNlbGVjdGVkW2hhc2hLZXldID0gaGFzaGVkVmFsdWU7XG4gICAgfTtcbiAgICBzZWxmLmRlc2VsZWN0ID0gZnVuY3Rpb24oaGFzaEtleSkge1xuICAgICAgdmFyIG9wdGlvbiA9IHNlbGYub3B0aW9uc1toYXNoS2V5XTtcbiAgICAgIG9wdGlvbiAmJiBvcHRpb24uc2V0U2VsZWN0ZWQoZmFsc2UpO1xuICAgICAgZGVsZXRlIHNlbGYuc2VsZWN0ZWRbaGFzaEtleV07XG4gICAgfTtcblxuICAgIHNlbGYuYWRkT3B0aW9uID0gZnVuY3Rpb24oaGFzaEtleSwgb3B0aW9uQ3RybCkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHNlbGYub3B0aW9uc1toYXNoS2V5XSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEdXBsaWNhdGUgbWQtb3B0aW9uIHZhbHVlcyBhcmUgbm90IGFsbG93ZWQgaW4gYSBzZWxlY3QuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0R1cGxpY2F0ZSB2YWx1ZSBcIicgKyBvcHRpb25DdHJsLnZhbHVlICsgJ1wiIGZvdW5kLicpO1xuICAgICAgfVxuICAgICAgc2VsZi5vcHRpb25zW2hhc2hLZXldID0gb3B0aW9uQ3RybDtcblxuICAgICAgLy8gSWYgdGhpcyBvcHRpb24ncyB2YWx1ZSB3YXMgYWxyZWFkeSBpbiBvdXIgbmdNb2RlbCwgZ28gYWhlYWQgYW5kIHNlbGVjdCBpdC5cbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChzZWxmLnNlbGVjdGVkW2hhc2hLZXldKSkge1xuICAgICAgICBzZWxmLnNlbGVjdChoYXNoS2V5LCBvcHRpb25DdHJsLnZhbHVlKTtcbiAgICAgICAgc2VsZi5yZWZyZXNoVmlld1ZhbHVlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBzZWxmLnJlbW92ZU9wdGlvbiA9IGZ1bmN0aW9uKGhhc2hLZXkpIHtcbiAgICAgIGRlbGV0ZSBzZWxmLm9wdGlvbnNbaGFzaEtleV07XG4gICAgICAvLyBEb24ndCBkZXNlbGVjdCBhbiBvcHRpb24gd2hlbiBpdCdzIHJlbW92ZWQgLSB0aGUgdXNlcidzIG5nTW9kZWwgc2hvdWxkIGJlIGFsbG93ZWRcbiAgICAgIC8vIHRvIGhhdmUgdmFsdWVzIHRoYXQgZG8gbm90IG1hdGNoIGEgY3VycmVudGx5IGF2YWlsYWJsZSBvcHRpb24uXG4gICAgfTtcblxuICAgIHNlbGYucmVmcmVzaFZpZXdWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgdmFyIG9wdGlvbjtcbiAgICAgIGZvciAodmFyIGhhc2hLZXkgaW4gc2VsZi5zZWxlY3RlZCkge1xuICAgICAgICAgLy8gSWYgdGhpcyBoYXNoS2V5IGhhcyBhbiBhc3NvY2lhdGVkIG9wdGlvbiwgcHVzaCB0aGF0IG9wdGlvbidzIHZhbHVlIHRvIHRoZSBtb2RlbC5cbiAgICAgICAgIGlmICgob3B0aW9uID0gc2VsZi5vcHRpb25zW2hhc2hLZXldKSkge1xuICAgICAgICAgICB2YWx1ZXMucHVzaChvcHRpb24udmFsdWUpO1xuICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB0aGUgZ2l2ZW4gaGFzaEtleSBoYXMgbm8gYXNzb2NpYXRlZCBvcHRpb24sIGFuZCB3ZSBnb3QgaXRcbiAgICAgICAgICAgLy8gZnJvbSBhbiBuZ01vZGVsIHZhbHVlIGF0IGFuIGVhcmxpZXIgdGltZS4gUHVzaCB0aGUgdW5oYXNoZWQgdmFsdWUgb2ZcbiAgICAgICAgICAgLy8gdGhpcyBoYXNoS2V5IHRvIHRoZSBtb2RlbC5cbiAgICAgICAgICAgLy8gVGhpcyBhbGxvd3MgdGhlIGRldmVsb3BlciB0byBwdXQgYSB2YWx1ZSBpbiB0aGUgbW9kZWwgdGhhdCBkb2Vzbid0IHlldCBoYXZlXG4gICAgICAgICAgIC8vIGFuIGFzc29jaWF0ZWQgb3B0aW9uLlxuICAgICAgICAgICB2YWx1ZXMucHVzaChzZWxmLnNlbGVjdGVkW2hhc2hLZXldKTtcbiAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNlbGYubmdNb2RlbC4kc2V0Vmlld1ZhbHVlKHNlbGYuaXNNdWx0aXBsZSA/IHZhbHVlcyA6IHZhbHVlc1swXSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHJlbmRlck11bHRpcGxlKCkge1xuICAgICAgdmFyIG5ld1NlbGVjdGVkVmFsdWVzID0gc2VsZi5uZ01vZGVsLiRtb2RlbFZhbHVlIHx8IHNlbGYubmdNb2RlbC4kdmlld1ZhbHVlO1xuICAgICAgaWYgKCFhbmd1bGFyLmlzQXJyYXkobmV3U2VsZWN0ZWRWYWx1ZXMpKSByZXR1cm47XG5cbiAgICAgIHZhciBvbGRTZWxlY3RlZCA9IE9iamVjdC5rZXlzKHNlbGYuc2VsZWN0ZWQpO1xuXG4gICAgICB2YXIgbmV3U2VsZWN0ZWRIYXNoZXMgPSBuZXdTZWxlY3RlZFZhbHVlcy5tYXAoc2VsZi5oYXNoR2V0dGVyKTtcbiAgICAgIHZhciBkZXNlbGVjdGVkID0gb2xkU2VsZWN0ZWQuZmlsdGVyKGZ1bmN0aW9uKGhhc2gpIHtcbiAgICAgICAgcmV0dXJuIG5ld1NlbGVjdGVkSGFzaGVzLmluZGV4T2YoaGFzaCkgPT09IC0xO1xuICAgICAgfSk7XG5cbiAgICAgIGRlc2VsZWN0ZWQuZm9yRWFjaChzZWxmLmRlc2VsZWN0KTtcbiAgICAgIG5ld1NlbGVjdGVkSGFzaGVzLmZvckVhY2goZnVuY3Rpb24oaGFzaEtleSwgaSkge1xuICAgICAgICBzZWxmLnNlbGVjdChoYXNoS2V5LCBuZXdTZWxlY3RlZFZhbHVlc1tpXSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVuZGVyU2luZ3VsYXIoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBzZWxmLm5nTW9kZWwuJHZpZXdWYWx1ZSB8fCBzZWxmLm5nTW9kZWwuJG1vZGVsVmFsdWU7XG4gICAgICBPYmplY3Qua2V5cyhzZWxmLnNlbGVjdGVkKS5mb3JFYWNoKHNlbGYuZGVzZWxlY3QpO1xuICAgICAgc2VsZi5zZWxlY3QoIHNlbGYuaGFzaEdldHRlcih2YWx1ZSksIHZhbHVlICk7XG4gICAgfVxuICB9XG5cbn1cblNlbGVjdE1lbnVEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRwYXJzZVwiLCBcIiRtZFV0aWxcIiwgXCIkbWRUaGVtaW5nXCJdO1xuXG5mdW5jdGlvbiBPcHRpb25EaXJlY3RpdmUoJG1kQnV0dG9uSW5rUmlwcGxlLCAkbWRVdGlsKSB7XG5cbiAgT3B0aW9uQ29udHJvbGxlci4kaW5qZWN0ID0gW1wiJGVsZW1lbnRcIl07XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXF1aXJlOiBbJ21kT3B0aW9uJywgJ15ebWRTZWxlY3RNZW51J10sXG4gICAgY29udHJvbGxlcjogT3B0aW9uQ29udHJvbGxlcixcbiAgICBjb21waWxlOiBjb21waWxlXG4gIH07XG5cbiAgZnVuY3Rpb24gY29tcGlsZShlbGVtZW50LCBhdHRyKSB7XG4gICAgLy8gTWFudWFsIHRyYW5zY2x1c2lvbiB0byBhdm9pZCB0aGUgZXh0cmEgaW5uZXIgPHNwYW4+IHRoYXQgbmctdHJhbnNjbHVkZSBnZW5lcmF0ZXNcbiAgICBlbGVtZW50LmFwcGVuZCggYW5ndWxhci5lbGVtZW50KCc8ZGl2IGNsYXNzPVwibWQtdGV4dFwiPicpLmFwcGVuZChlbGVtZW50LmNvbnRlbnRzKCkpICk7XG5cbiAgICBlbGVtZW50LmF0dHIoJ3RhYmluZGV4JywgYXR0ci50YWJpbmRleCB8fCAnMCcpO1xuICAgIHJldHVybiBwb3N0TGluaztcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuICAgIHZhciBvcHRpb25DdHJsID0gY3RybHNbMF07XG4gICAgdmFyIHNlbGVjdEN0cmwgPSBjdHJsc1sxXTtcblxuICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChhdHRyLm5nVmFsdWUpKSB7XG4gICAgICBzY29wZS4kd2F0Y2goYXR0ci5uZ1ZhbHVlLCBzZXRPcHRpb25WYWx1ZSk7XG4gICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzRGVmaW5lZChhdHRyLnZhbHVlKSkge1xuICAgICAgc2V0T3B0aW9uVmFsdWUoYXR0ci52YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHsgcmV0dXJuIGVsZW1lbnQudGV4dCgpOyB9LCBzZXRPcHRpb25WYWx1ZSk7XG4gICAgfVxuXG4gICAgc2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCkge1xuICAgICAgYXR0ci4kb2JzZXJ2ZSgnc2VsZWN0ZWQnLCBmdW5jdGlvbihzZWxlY3RlZCkge1xuICAgICAgICBpZiAoIWFuZ3VsYXIuaXNEZWZpbmVkKHNlbGVjdGVkKSkgcmV0dXJuO1xuICAgICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgICBpZiAoIXNlbGVjdEN0cmwuaXNNdWx0aXBsZSkge1xuICAgICAgICAgICAgc2VsZWN0Q3RybC5kZXNlbGVjdCggT2JqZWN0LmtleXMoc2VsZWN0Q3RybC5zZWxlY3RlZClbMF0gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZWN0Q3RybC5zZWxlY3Qob3B0aW9uQ3RybC5oYXNoS2V5LCBvcHRpb25DdHJsLnZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxlY3RDdHJsLmRlc2VsZWN0KG9wdGlvbkN0cmwuaGFzaEtleSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZWN0Q3RybC5yZWZyZXNoVmlld1ZhbHVlKCk7XG4gICAgICAgIHNlbGVjdEN0cmwubmdNb2RlbC4kcmVuZGVyKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgICRtZEJ1dHRvbklua1JpcHBsZS5hdHRhY2goc2NvcGUsIGVsZW1lbnQpO1xuICAgIGNvbmZpZ3VyZUFyaWEoKTtcblxuICAgIGZ1bmN0aW9uIHNldE9wdGlvblZhbHVlKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgdmFyIG9sZEhhc2hLZXkgPSBzZWxlY3RDdHJsLmhhc2hHZXR0ZXIob2xkVmFsdWUsIHNjb3BlKTtcbiAgICAgIHZhciBuZXdIYXNoS2V5ID0gc2VsZWN0Q3RybC5oYXNoR2V0dGVyKG5ld1ZhbHVlLCBzY29wZSk7XG5cbiAgICAgIG9wdGlvbkN0cmwuaGFzaEtleSA9IG5ld0hhc2hLZXk7XG4gICAgICBvcHRpb25DdHJsLnZhbHVlID0gbmV3VmFsdWU7XG5cbiAgICAgIHNlbGVjdEN0cmwucmVtb3ZlT3B0aW9uKG9sZEhhc2hLZXksIG9wdGlvbkN0cmwpO1xuICAgICAgc2VsZWN0Q3RybC5hZGRPcHRpb24obmV3SGFzaEtleSwgb3B0aW9uQ3RybCk7XG4gICAgfVxuXG4gICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZWN0Q3RybC5yZW1vdmVPcHRpb24ob3B0aW9uQ3RybC5oYXNoS2V5LCBvcHRpb25DdHJsKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZUFyaWEoKSB7XG4gICAgICB2YXIgYXJpYUF0dHJzID0ge1xuICAgICAgICAncm9sZSc6ICdvcHRpb24nLFxuICAgICAgICAnYXJpYS1zZWxlY3RlZCc6ICdmYWxzZSdcbiAgICAgIH07XG5cbiAgICAgIGlmICghZWxlbWVudFswXS5oYXNBdHRyaWJ1dGUoJ2lkJykpIHtcbiAgICAgICAgYXJpYUF0dHJzLmlkID0gJ3NlbGVjdF9vcHRpb25fJyArICRtZFV0aWwubmV4dFVpZCgpO1xuICAgICAgfVxuICAgICAgZWxlbWVudC5hdHRyKGFyaWFBdHRycyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gT3B0aW9uQ29udHJvbGxlcigkZWxlbWVudCkge1xuICAgIHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnNldFNlbGVjdGVkID0gZnVuY3Rpb24oaXNTZWxlY3RlZCkge1xuICAgICAgaWYgKGlzU2VsZWN0ZWQgJiYgIXRoaXMuc2VsZWN0ZWQpIHtcbiAgICAgICAgJGVsZW1lbnQuYXR0cih7XG4gICAgICAgICAgJ3NlbGVjdGVkJzogJ3NlbGVjdGVkJyxcbiAgICAgICAgICAnYXJpYS1zZWxlY3RlZCc6ICd0cnVlJ1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoIWlzU2VsZWN0ZWQgJiYgdGhpcy5zZWxlY3RlZCkge1xuICAgICAgICAkZWxlbWVudC5yZW1vdmVBdHRyKCdzZWxlY3RlZCcpO1xuICAgICAgICAkZWxlbWVudC5hdHRyKCdhcmlhLXNlbGVjdGVkJywgJ2ZhbHNlJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnNlbGVjdGVkID0gaXNTZWxlY3RlZDtcbiAgICB9O1xuICB9XG5cbn1cbk9wdGlvbkRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJG1kQnV0dG9uSW5rUmlwcGxlXCIsIFwiJG1kVXRpbFwiXTtcblxuZnVuY3Rpb24gT3B0Z3JvdXBEaXJlY3RpdmUoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBjb21waWxlOiBjb21waWxlXG4gIH07XG4gIGZ1bmN0aW9uIGNvbXBpbGUoZWwsIGF0dHJzKSB7XG4gICAgdmFyIGxhYmVsRWxlbWVudCA9IGVsLmZpbmQoJ2xhYmVsJyk7XG4gICAgaWYgKCFsYWJlbEVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICBsYWJlbEVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoJzxsYWJlbD4nKTtcbiAgICAgIGVsLnByZXBlbmQobGFiZWxFbGVtZW50KTtcbiAgICB9XG4gICAgaWYgKGF0dHJzLmxhYmVsKSBsYWJlbEVsZW1lbnQudGV4dChhdHRycy5sYWJlbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gU2VsZWN0UHJvdmlkZXIoJCRpbnRlcmltRWxlbWVudFByb3ZpZGVyKSB7XG4gIHNlbGVjdERlZmF1bHRPcHRpb25zLiRpbmplY3QgPSBbXCIkbWRTZWxlY3RcIiwgXCIkbWRDb25zdGFudFwiLCBcIiQkckFGXCIsIFwiJG1kVXRpbFwiLCBcIiRtZFRoZW1pbmdcIiwgXCIkdGltZW91dFwiLCBcIiR3aW5kb3dcIl07XG4gIHJldHVybiAkJGludGVyaW1FbGVtZW50UHJvdmlkZXIoJyRtZFNlbGVjdCcpXG4gICAgLnNldERlZmF1bHRzKHtcbiAgICAgIG1ldGhvZHM6IFsndGFyZ2V0J10sXG4gICAgICBvcHRpb25zOiBzZWxlY3REZWZhdWx0T3B0aW9uc1xuICAgIH0pO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBzZWxlY3REZWZhdWx0T3B0aW9ucygkbWRTZWxlY3QsICRtZENvbnN0YW50LCAkJHJBRiwgJG1kVXRpbCwgJG1kVGhlbWluZywgJHRpbWVvdXQsICR3aW5kb3cgKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhcmVudDogJ2JvZHknLFxuICAgICAgb25TaG93OiBvblNob3csXG4gICAgICBvblJlbW92ZTogb25SZW1vdmUsXG4gICAgICBoYXNCYWNrZHJvcDogdHJ1ZSxcbiAgICAgIGRpc2FibGVQYXJlbnRTY3JvbGw6IHRydWUsXG4gICAgICB0aGVtYWJsZTogdHJ1ZVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBvblNob3coc2NvcGUsIGVsZW1lbnQsIG9wdHMpIHtcbiAgICAgIGlmICghb3B0cy50YXJnZXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCckbWRTZWxlY3Quc2hvdygpIGV4cGVjdGVkIGEgdGFyZ2V0IGVsZW1lbnQgaW4gb3B0aW9ucy50YXJnZXQgYnV0IGdvdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcIicgKyBvcHRzLnRhcmdldCArICdcIiEnKTtcbiAgICAgIH1cblxuICAgICAgYW5ndWxhci5leHRlbmQob3B0cywge1xuICAgICAgICBpc1JlbW92ZWQ6IGZhbHNlLFxuICAgICAgICB0YXJnZXQ6IGFuZ3VsYXIuZWxlbWVudChvcHRzLnRhcmdldCksIC8vbWFrZSBzdXJlIGl0J3Mgbm90IGEgbmFrZWQgZG9tIG5vZGVcbiAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQob3B0cy5wYXJlbnQpLFxuICAgICAgICBzZWxlY3RFbDogZWxlbWVudC5maW5kKCdtZC1zZWxlY3QtbWVudScpLFxuICAgICAgICBjb250ZW50RWw6IGVsZW1lbnQuZmluZCgnbWQtY29udGVudCcpLFxuICAgICAgICBiYWNrZHJvcDogb3B0cy5oYXNCYWNrZHJvcCAmJiBhbmd1bGFyLmVsZW1lbnQoJzxtZC1iYWNrZHJvcCBjbGFzcz1cIm1kLXNlbGVjdC1iYWNrZHJvcCBtZC1jbGljay1jYXRjaGVyXCI+JylcbiAgICAgIH0pO1xuXG4gICAgICBvcHRzLnJlc2l6ZUZuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICQkckFGKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICQkckFGKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYW5pbWF0ZVNlbGVjdChzY29wZSwgZWxlbWVudCwgb3B0cyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9uKCdyZXNpemUnLCBvcHRzLnJlc2l6ZUZuKTtcbiAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vbignb3JpZW50YXRpb25jaGFuZ2UnLCBvcHRzLnJlc2l6ZUZuKTtcblxuXG4gICAgICBjb25maWd1cmVBcmlhKCk7XG5cbiAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ21kLWxlYXZlJyk7XG5cbiAgICAgIHZhciBvcHRpb25Ob2RlcyA9IG9wdHMuc2VsZWN0RWxbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ21kLW9wdGlvbicpO1xuXG4gICAgICBpZiAob3B0cy5sb2FkaW5nQXN5bmMgJiYgb3B0cy5sb2FkaW5nQXN5bmMudGhlbikge1xuICAgICAgICBvcHRzLmxvYWRpbmdBc3luYy50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNjb3BlLiQkbG9hZGluZ0FzeW5jRG9uZSA9IHRydWU7XG4gICAgICAgICAgLy8gR2l2ZSBvdXJzZWx2ZXMgdHdvIGZyYW1lcyBmb3IgdGhlIHByb2dyZXNzIGxvYWRlciB0byBjbGVhciBvdXQuXG4gICAgICAgICAgJCRyQUYoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkJHJBRihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgLy8gRG9uJ3QgZ28gZm9yd2FyZCBpZiB0aGUgc2VsZWN0IGhhcyBiZWVuIHJlbW92ZWQgaW4gdGhpcyB0aW1lLi4uXG4gICAgICAgICAgICAgIGlmIChvcHRzLmlzUmVtb3ZlZCkgcmV0dXJuO1xuICAgICAgICAgICAgICBhbmltYXRlU2VsZWN0KHNjb3BlLCBlbGVtZW50LCBvcHRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAob3B0cy5sb2FkaW5nQXN5bmMpIHtcbiAgICAgICAgc2NvcGUuJCRsb2FkaW5nQXN5bmNEb25lID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdHMuZGlzYWJsZVBhcmVudFNjcm9sbCAmJiAhJG1kVXRpbC5nZXRDbG9zZXN0KG9wdHMudGFyZ2V0LCAnTUQtRElBTE9HJykpIHtcbiAgICAgICAgb3B0cy5yZXN0b3JlU2Nyb2xsID0gJG1kVXRpbC5kaXNhYmxlU2Nyb2xsQXJvdW5kKG9wdHMuZWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRzLmRpc2FibGVQYXJlbnRTY3JvbGwgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIC8vIE9ubHkgYWN0aXZhdGUgY2xpY2sgbGlzdGVuZXJzIGFmdGVyIGEgc2hvcnQgdGltZSB0byBzdG9wIGFjY2lkZW50YWwgZG91YmxlIHRhcHMvY2xpY2tzXG4gICAgICAvLyBmcm9tIGNsaWNraW5nIHRoZSB3cm9uZyBpdGVtXG4gICAgICAkdGltZW91dChhY3RpdmF0ZUludGVyYWN0aW9uLCA3NSwgZmFsc2UpO1xuXG4gICAgICBpZiAob3B0cy5iYWNrZHJvcCkge1xuICAgICAgICAkbWRUaGVtaW5nLmluaGVyaXQob3B0cy5iYWNrZHJvcCwgb3B0cy5wYXJlbnQpO1xuICAgICAgICBvcHRzLnBhcmVudC5hcHBlbmQob3B0cy5iYWNrZHJvcCk7XG4gICAgICB9XG4gICAgICBvcHRzLnBhcmVudC5hcHBlbmQoZWxlbWVudCk7XG5cbiAgICAgIC8vIEdpdmUgdGhlIHNlbGVjdCBhIGZyYW1lIHRvICdpbml0aWFsaXplJyBpbiB0aGUgRE9NLFxuICAgICAgLy8gc28gd2UgY2FuIHJlYWQgaXRzIGhlaWdodC93aWR0aC9wb3NpdGlvblxuICAgICAgJCRyQUYoZnVuY3Rpb24oKSB7XG4gICAgICAgICQkckFGKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChvcHRzLmlzUmVtb3ZlZCkgcmV0dXJuO1xuICAgICAgICAgIGFuaW1hdGVTZWxlY3Qoc2NvcGUsIGVsZW1lbnQsIG9wdHMpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gJG1kVXRpbC50cmFuc2l0aW9uRW5kUHJvbWlzZShvcHRzLnNlbGVjdEVsLCB7dGltZW91dDogMzUwfSk7XG5cbiAgICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZUFyaWEoKSB7XG4gICAgICAgIG9wdHMudGFyZ2V0LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBhY3RpdmF0ZUludGVyYWN0aW9uKCkge1xuICAgICAgICBpZiAob3B0cy5pc1JlbW92ZWQpIHJldHVybjtcbiAgICAgICAgdmFyIHNlbGVjdEN0cmwgPSBvcHRzLnNlbGVjdEVsLmNvbnRyb2xsZXIoJ21kU2VsZWN0TWVudScpIHx8IHt9O1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdtZC1jbGlja2FibGUnKTtcblxuICAgICAgICBvcHRzLmJhY2tkcm9wICYmIG9wdHMuYmFja2Ryb3Aub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIG9wdHMucmVzdG9yZUZvY3VzID0gZmFsc2U7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KCRtZFNlbGVjdC5jYW5jZWwpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBFc2NhcGUgdG8gY2xvc2VcbiAgICAgICAgb3B0cy5zZWxlY3RFbC5vbigna2V5ZG93bicsIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgc3dpdGNoIChldi5rZXlDb2RlKSB7XG4gICAgICAgICAgICBjYXNlICRtZENvbnN0YW50LktFWV9DT0RFLlNQQUNFOlxuICAgICAgICAgICAgY2FzZSAkbWRDb25zdGFudC5LRVlfQ09ERS5FTlRFUjpcbiAgICAgICAgICAgICAgdmFyIG9wdGlvbiA9ICRtZFV0aWwuZ2V0Q2xvc2VzdChldi50YXJnZXQsICdtZC1vcHRpb24nKTtcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbikge1xuICAgICAgICAgICAgICAgIG9wdHMuc2VsZWN0RWwudHJpZ2dlckhhbmRsZXIoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ2NsaWNrJyxcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogb3B0aW9uXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuVEFCOlxuICAgICAgICAgICAgY2FzZSAkbWRDb25zdGFudC5LRVlfQ09ERS5FU0NBUEU6XG4gICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIG9wdHMucmVzdG9yZUZvY3VzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCRtZFNlbGVjdC5jYW5jZWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ3ljbGluZyBvZiBvcHRpb25zLCBhbmQgY2xvc2luZyBvbiBlbnRlclxuICAgICAgICBvcHRzLnNlbGVjdEVsLm9uKCdrZXlkb3duJywgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICBzd2l0Y2ggKGV2LmtleUNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuVVBfQVJST1c6IHJldHVybiBmb2N1c1ByZXZPcHRpb24oKTtcbiAgICAgICAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuRE9XTl9BUlJPVzogcmV0dXJuIGZvY3VzTmV4dE9wdGlvbigpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgaWYgKGV2LmtleUNvZGUgPj0gMzEgJiYgZXYua2V5Q29kZSA8PSA5MCkge1xuICAgICAgICAgICAgICAgIHZhciBvcHROb2RlID0gb3B0cy5zZWxlY3RFbC5jb250cm9sbGVyKCdtZFNlbGVjdE1lbnUnKS5vcHROb2RlRm9yS2V5Ym9hcmRTZWFyY2goZXYpO1xuICAgICAgICAgICAgICAgIG9wdE5vZGUgJiYgb3B0Tm9kZS5mb2N1cygpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICAgIGZ1bmN0aW9uIGZvY3VzT3B0aW9uKGRpcmVjdGlvbikge1xuICAgICAgICAgIHZhciBvcHRpb25zQXJyYXkgPSAkbWRVdGlsLm5vZGVzVG9BcnJheShvcHRpb25Ob2Rlcyk7XG4gICAgICAgICAgdmFyIGluZGV4ID0gb3B0aW9uc0FycmF5LmluZGV4T2Yob3B0cy5mb2N1c2VkTm9kZSk7XG4gICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgLy8gV2UgbG9zdCB0aGUgcHJldmlvdXNseSBmb2N1c2VkIGVsZW1lbnQsIHJlc2V0IHRvIGZpcnN0IG9wdGlvblxuICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAnbmV4dCcgJiYgaW5kZXggPCBvcHRpb25zQXJyYXkubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ3ByZXYnICYmIGluZGV4ID4gMCkge1xuICAgICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIG5ld09wdGlvbiA9IG9wdHMuZm9jdXNlZE5vZGUgPSBvcHRpb25zQXJyYXlbaW5kZXhdO1xuICAgICAgICAgIG5ld09wdGlvbiAmJiBuZXdPcHRpb24uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBmb2N1c05leHRPcHRpb24oKSB7XG4gICAgICAgICAgZm9jdXNPcHRpb24oJ25leHQnKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBmb2N1c1ByZXZPcHRpb24oKSB7XG4gICAgICAgICAgZm9jdXNPcHRpb24oJ3ByZXYnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdHMuc2VsZWN0RWwub24oJ2NsaWNrJywgY2hlY2tDbG9zZU1lbnUpO1xuICAgICAgICBvcHRzLnNlbGVjdEVsLm9uKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gMzIgfHwgZS5rZXlDb2RlID09IDEzKSB7XG4gICAgICAgICAgICBjaGVja0Nsb3NlTWVudSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gY2hlY2tDbG9zZU1lbnUoKSB7XG4gICAgICAgICAgaWYgKCFzZWxlY3RDdHJsLmlzTXVsdGlwbGUpIHtcbiAgICAgICAgICAgIG9wdHMucmVzdG9yZUZvY3VzID0gdHJ1ZTtcbiAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICRtZFNlbGVjdC5oaWRlKHNlbGVjdEN0cmwubmdNb2RlbC4kdmlld1ZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25SZW1vdmUoc2NvcGUsIGVsZW1lbnQsIG9wdHMpIHtcbiAgICAgIG9wdHMuaXNSZW1vdmVkID0gdHJ1ZTtcbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ21kLWxlYXZlJylcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdtZC1jbGlja2FibGUnKTtcbiAgICAgIG9wdHMudGFyZ2V0LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcblxuXG4gICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub2ZmKCdyZXNpemUnLCBvcHRzLnJlc2l6ZUZuKTtcbiAgICAgIGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5vZmYoJ29yaWVudGF0aW9uY2hhbmdlJywgb3B0cy5yZXNpemVmbik7XG4gICAgICBvcHRzLnJlc2l6ZUZuID0gdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgbWRTZWxlY3QgPSBvcHRzLnNlbGVjdEVsLmNvbnRyb2xsZXIoJ21kU2VsZWN0Jyk7XG4gICAgICBpZiAobWRTZWxlY3QpIHtcbiAgICAgICAgbWRTZWxlY3Quc2V0TGFiZWxUZXh0KG9wdHMuc2VsZWN0RWwuY29udHJvbGxlcignbWRTZWxlY3RNZW51Jykuc2VsZWN0ZWRMYWJlbHMoKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAkbWRVdGlsLnRyYW5zaXRpb25FbmRQcm9taXNlKGVsZW1lbnQsIHsgdGltZW91dDogMzUwIH0pLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ21kLWFjdGl2ZScpO1xuICAgICAgICBvcHRzLmJhY2tkcm9wICYmIG9wdHMuYmFja2Ryb3AucmVtb3ZlKCk7XG4gICAgICAgIGlmIChlbGVtZW50WzBdLnBhcmVudE5vZGUgPT09IG9wdHMucGFyZW50WzBdKSB7XG4gICAgICAgICAgb3B0cy5wYXJlbnRbMF0ucmVtb3ZlQ2hpbGQoZWxlbWVudFswXSk7IC8vIHVzZSBicm93c2VyIHRvIGF2b2lkICRkZXN0cm95IGV2ZW50XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMuZGlzYWJsZVBhcmVudFNjcm9sbCkge1xuICAgICAgICAgIG9wdHMucmVzdG9yZVNjcm9sbCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLnJlc3RvcmVGb2N1cykgb3B0cy50YXJnZXQuZm9jdXMoKTtcbiAgICAgICAgbWRTZWxlY3QgJiYgbWRTZWxlY3QudHJpZ2dlckNsb3NlKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhbmltYXRlU2VsZWN0KHNjb3BlLCBlbGVtZW50LCBvcHRzKSB7XG4gICAgICB2YXIgY29udGFpbmVyTm9kZSA9IGVsZW1lbnRbMF0sXG4gICAgICAgICAgdGFyZ2V0Tm9kZSA9IG9wdHMudGFyZ2V0WzBdLmZpcnN0RWxlbWVudENoaWxkLmZpcnN0RWxlbWVudENoaWxkLCAvLyB0YXJnZXQgdGhlIGZpcnN0IHNwYW4sIGZ1bmN0aW9uaW5nIGFzIHRoZSBsYWJlbFxuICAgICAgICAgIHBhcmVudE5vZGUgPSBvcHRzLnBhcmVudFswXSxcbiAgICAgICAgICBzZWxlY3ROb2RlID0gb3B0cy5zZWxlY3RFbFswXSxcbiAgICAgICAgICBjb250ZW50Tm9kZSA9IG9wdHMuY29udGVudEVsWzBdLFxuICAgICAgICAgIHBhcmVudFJlY3QgPSBwYXJlbnROb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgIHRhcmdldFJlY3QgPSB0YXJnZXROb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgIHNob3VsZE9wZW5Bcm91bmRUYXJnZXQgPSBmYWxzZSxcbiAgICAgICAgICBib3VuZHMgPSB7XG4gICAgICAgICAgICBsZWZ0OiBwYXJlbnRSZWN0LmxlZnQgKyBTRUxFQ1RfRURHRV9NQVJHSU4sXG4gICAgICAgICAgICB0b3A6IFNFTEVDVF9FREdFX01BUkdJTixcbiAgICAgICAgICAgIGJvdHRvbTogcGFyZW50UmVjdC5oZWlnaHQgLSBTRUxFQ1RfRURHRV9NQVJHSU4sXG4gICAgICAgICAgICByaWdodDogcGFyZW50UmVjdC53aWR0aCAtIFNFTEVDVF9FREdFX01BUkdJTiAtICgkbWRVdGlsLmZsb2F0aW5nU2Nyb2xsYmFycygpID8gMTYgOiAwKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3BhY2VBdmFpbGFibGUgPSB7XG4gICAgICAgICAgICB0b3A6IHRhcmdldFJlY3QudG9wIC0gYm91bmRzLnRvcCxcbiAgICAgICAgICAgIGxlZnQ6IHRhcmdldFJlY3QubGVmdCAtIGJvdW5kcy5sZWZ0LFxuICAgICAgICAgICAgcmlnaHQ6IGJvdW5kcy5yaWdodCAtICh0YXJnZXRSZWN0LmxlZnQgKyB0YXJnZXRSZWN0LndpZHRoKSxcbiAgICAgICAgICAgIGJvdHRvbTogYm91bmRzLmJvdHRvbSAtICh0YXJnZXRSZWN0LnRvcCArIHRhcmdldFJlY3QuaGVpZ2h0KVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbWF4V2lkdGggPSBwYXJlbnRSZWN0LndpZHRoIC0gU0VMRUNUX0VER0VfTUFSR0lOICogMixcbiAgICAgICAgICBpc1Njcm9sbGFibGUgPSBjb250ZW50Tm9kZS5zY3JvbGxIZWlnaHQgPiBjb250ZW50Tm9kZS5vZmZzZXRIZWlnaHQsXG4gICAgICAgICAgc2VsZWN0ZWROb2RlID0gc2VsZWN0Tm9kZS5xdWVyeVNlbGVjdG9yKCdtZC1vcHRpb25bc2VsZWN0ZWRdJyksXG4gICAgICAgICAgb3B0aW9uTm9kZXMgPSBzZWxlY3ROb2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdtZC1vcHRpb24nKSxcbiAgICAgICAgICBvcHRncm91cE5vZGVzID0gc2VsZWN0Tm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbWQtb3B0Z3JvdXAnKTtcblxuXG4gICAgICB2YXIgY2VudGVyZWROb2RlO1xuICAgICAgLy8gSWYgYSBzZWxlY3RlZCBub2RlLCBjZW50ZXIgYXJvdW5kIHRoYXRcbiAgICAgIGlmIChzZWxlY3RlZE5vZGUpIHtcbiAgICAgICAgY2VudGVyZWROb2RlID0gc2VsZWN0ZWROb2RlO1xuICAgICAgLy8gSWYgdGhlcmUgYXJlIG9wdGlvbiBncm91cHMsIGNlbnRlciBhcm91bmQgdGhlIGZpcnN0IG9wdGlvbiBncm91cFxuICAgICAgfSBlbHNlIGlmIChvcHRncm91cE5vZGVzLmxlbmd0aCkge1xuICAgICAgICBjZW50ZXJlZE5vZGUgPSBvcHRncm91cE5vZGVzWzBdO1xuICAgICAgLy8gT3RoZXJ3aXNlLCBjZW50ZXIgYXJvdW5kIHRoZSBmaXJzdCBvcHRpb25Ob2RlXG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbk5vZGVzLmxlbmd0aCl7XG4gICAgICAgIGNlbnRlcmVkTm9kZSA9IG9wdGlvbk5vZGVzWzBdO1xuICAgICAgLy8gSW4gY2FzZSB0aGVyZSBhcmUgbm8gb3B0aW9ucywgY2VudGVyIG9uIHdoYXRldmVyJ3MgaW4gdGhlcmUuLi4gKGVnIHByb2dyZXNzIGluZGljYXRvcilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNlbnRlcmVkTm9kZSA9IGNvbnRlbnROb2RlLmZpcnN0RWxlbWVudENoaWxkIHx8IGNvbnRlbnROb2RlO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29udGVudE5vZGUub2Zmc2V0V2lkdGggPiBtYXhXaWR0aCkge1xuICAgICAgICBjb250ZW50Tm9kZS5zdHlsZVsnbWF4LXdpZHRoJ10gPSBtYXhXaWR0aCArICdweCc7XG4gICAgICB9XG4gICAgICBpZiAoc2hvdWxkT3BlbkFyb3VuZFRhcmdldCkge1xuICAgICAgICBjb250ZW50Tm9kZS5zdHlsZVsnbWluLXdpZHRoJ10gPSB0YXJnZXRSZWN0LndpZHRoICsgJ3B4JztcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIHBhZGRpbmcgYmVmb3JlIHdlIGNvbXB1dGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBtZW51XG4gICAgICBpZiAoaXNTY3JvbGxhYmxlKSB7XG4gICAgICAgIHNlbGVjdE5vZGUuY2xhc3NMaXN0LmFkZCgnbWQtb3ZlcmZsb3cnKTtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IHRoZSBzZWxlY3RNZW51UmVjdCAqYWZ0ZXIqIG1heC13aWR0aCBpcyBwb3NzaWJseSBzZXQgYWJvdmVcbiAgICAgIHZhciBzZWxlY3RNZW51UmVjdCA9IHNlbGVjdE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB2YXIgY2VudGVyZWRSZWN0ID0gZ2V0T2Zmc2V0UmVjdChjZW50ZXJlZE5vZGUpO1xuXG4gICAgICBpZiAoY2VudGVyZWROb2RlKSB7XG4gICAgICAgIHZhciBjZW50ZXJlZFN0eWxlID0gJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGNlbnRlcmVkTm9kZSk7XG4gICAgICAgIGNlbnRlcmVkUmVjdC5wYWRkaW5nTGVmdCA9IHBhcnNlSW50KGNlbnRlcmVkU3R5bGUucGFkZGluZ0xlZnQsIDEwKSB8fCAwO1xuICAgICAgICBjZW50ZXJlZFJlY3QucGFkZGluZ1JpZ2h0ID0gcGFyc2VJbnQoY2VudGVyZWRTdHlsZS5wYWRkaW5nUmlnaHQsIDEwKSB8fCAwO1xuICAgICAgfVxuXG4gICAgICB2YXIgZm9jdXNlZE5vZGUgPSBjZW50ZXJlZE5vZGU7XG4gICAgICBpZiAoKGZvY3VzZWROb2RlLnRhZ05hbWUgfHwgJycpLnRvVXBwZXJDYXNlKCkgPT09ICdNRC1PUFRHUk9VUCcpIHtcbiAgICAgICAgZm9jdXNlZE5vZGUgPSBvcHRpb25Ob2Rlc1swXSB8fCBjb250ZW50Tm9kZS5maXJzdEVsZW1lbnRDaGlsZCB8fCBjb250ZW50Tm9kZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzU2Nyb2xsYWJsZSkge1xuICAgICAgICB2YXIgc2Nyb2xsQnVmZmVyID0gY29udGVudE5vZGUub2Zmc2V0SGVpZ2h0IC8gMjtcbiAgICAgICAgY29udGVudE5vZGUuc2Nyb2xsVG9wID0gY2VudGVyZWRSZWN0LnRvcCArIGNlbnRlcmVkUmVjdC5oZWlnaHQgLyAyIC0gc2Nyb2xsQnVmZmVyO1xuXG4gICAgICAgIGlmIChzcGFjZUF2YWlsYWJsZS50b3AgPCBzY3JvbGxCdWZmZXIpIHtcbiAgICAgICAgICBjb250ZW50Tm9kZS5zY3JvbGxUb3AgPSBNYXRoLm1pbihcbiAgICAgICAgICAgIGNlbnRlcmVkUmVjdC50b3AsXG4gICAgICAgICAgICBjb250ZW50Tm9kZS5zY3JvbGxUb3AgKyBzY3JvbGxCdWZmZXIgLSBzcGFjZUF2YWlsYWJsZS50b3BcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHNwYWNlQXZhaWxhYmxlLmJvdHRvbSA8IHNjcm9sbEJ1ZmZlcikge1xuICAgICAgICAgIGNvbnRlbnROb2RlLnNjcm9sbFRvcCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgY2VudGVyZWRSZWN0LnRvcCArIGNlbnRlcmVkUmVjdC5oZWlnaHQgLSBzZWxlY3RNZW51UmVjdC5oZWlnaHQsXG4gICAgICAgICAgICBjb250ZW50Tm9kZS5zY3JvbGxUb3AgLSBzY3JvbGxCdWZmZXIgKyBzcGFjZUF2YWlsYWJsZS5ib3R0b21cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBsZWZ0LCB0b3AsIHRyYW5zZm9ybU9yaWdpbjtcbiAgICAgIGlmIChzaG91bGRPcGVuQXJvdW5kVGFyZ2V0KSB7XG4gICAgICAgIGxlZnQgPSB0YXJnZXRSZWN0LmxlZnQ7XG4gICAgICAgIHRvcCA9IHRhcmdldFJlY3QudG9wICsgdGFyZ2V0UmVjdC5oZWlnaHQ7XG4gICAgICAgIHRyYW5zZm9ybU9yaWdpbiA9ICc1MCUgMCc7XG4gICAgICAgIGlmICh0b3AgKyBzZWxlY3RNZW51UmVjdC5oZWlnaHQgPiBib3VuZHMuYm90dG9tKSB7XG4gICAgICAgICAgdG9wID0gdGFyZ2V0UmVjdC50b3AgLSBzZWxlY3RNZW51UmVjdC5oZWlnaHQ7XG4gICAgICAgICAgdHJhbnNmb3JtT3JpZ2luID0gJzUwJSAxMDAlJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGVmdCA9IHRhcmdldFJlY3QubGVmdCArIGNlbnRlcmVkUmVjdC5sZWZ0IC0gY2VudGVyZWRSZWN0LnBhZGRpbmdMZWZ0O1xuICAgICAgICB0b3AgPSBNYXRoLmZsb29yKHRhcmdldFJlY3QudG9wICsgdGFyZ2V0UmVjdC5oZWlnaHQgLyAyIC0gY2VudGVyZWRSZWN0LmhlaWdodCAvIDIgLVxuICAgICAgICAgIGNlbnRlcmVkUmVjdC50b3AgKyBjb250ZW50Tm9kZS5zY3JvbGxUb3ApO1xuXG5cbiAgICAgICAgdHJhbnNmb3JtT3JpZ2luID0gKGNlbnRlcmVkUmVjdC5sZWZ0ICsgdGFyZ2V0UmVjdC53aWR0aCAvIDIpICsgJ3B4ICcgK1xuICAgICAgICAoY2VudGVyZWRSZWN0LnRvcCArIGNlbnRlcmVkUmVjdC5oZWlnaHQgLyAyIC0gY29udGVudE5vZGUuc2Nyb2xsVG9wKSArICdweCAwcHgnO1xuXG4gICAgICAgIGNvbnRhaW5lck5vZGUuc3R5bGUubWluV2lkdGggPSB0YXJnZXRSZWN0LndpZHRoICsgY2VudGVyZWRSZWN0LnBhZGRpbmdMZWZ0ICtcbiAgICAgICAgICBjZW50ZXJlZFJlY3QucGFkZGluZ1JpZ2h0ICsgJ3B4JztcbiAgICAgIH1cblxuICAgICAgLy8gS2VlcCBsZWZ0IGFuZCB0b3Agd2l0aGluIHRoZSB3aW5kb3dcbiAgICAgIHZhciBjb250YWluZXJSZWN0ID0gY29udGFpbmVyTm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnRhaW5lck5vZGUuc3R5bGUubGVmdCA9IGNsYW1wKGJvdW5kcy5sZWZ0LCBsZWZ0LCBib3VuZHMucmlnaHQgLSBjb250YWluZXJSZWN0LndpZHRoKSArICdweCc7XG4gICAgICBjb250YWluZXJOb2RlLnN0eWxlLnRvcCA9IGNsYW1wKGJvdW5kcy50b3AsIHRvcCwgYm91bmRzLmJvdHRvbSAtIGNvbnRhaW5lclJlY3QuaGVpZ2h0KSArICdweCc7XG4gICAgICBzZWxlY3ROb2RlLnN0eWxlWyRtZENvbnN0YW50LkNTUy5UUkFOU0ZPUk1fT1JJR0lOXSA9IHRyYW5zZm9ybU9yaWdpbjtcblxuICAgICAgc2VsZWN0Tm9kZS5zdHlsZVskbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNXSA9ICdzY2FsZSgnICtcbiAgICAgICAgTWF0aC5taW4odGFyZ2V0UmVjdC53aWR0aCAvIHNlbGVjdE1lbnVSZWN0LndpZHRoLCAxLjApICsgJywnICtcbiAgICAgICAgTWF0aC5taW4odGFyZ2V0UmVjdC5oZWlnaHQgLyBzZWxlY3RNZW51UmVjdC5oZWlnaHQsIDEuMCkgK1xuICAgICAgJyknO1xuXG5cbiAgICAgICQkckFGKGZ1bmN0aW9uKCkge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdtZC1hY3RpdmUnKTtcbiAgICAgICAgc2VsZWN0Tm9kZS5zdHlsZVskbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNXSA9ICcnO1xuICAgICAgICBpZiAoZm9jdXNlZE5vZGUpIHtcbiAgICAgICAgICBvcHRzLmZvY3VzZWROb2RlID0gZm9jdXNlZE5vZGU7XG4gICAgICAgICAgZm9jdXNlZE5vZGUuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBjbGFtcChtaW4sIG4sIG1heCkge1xuICAgIHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKG4sIG1heCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0T2Zmc2V0UmVjdChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUgPyB7XG4gICAgICBsZWZ0OiBub2RlLm9mZnNldExlZnQsXG4gICAgICB0b3A6IG5vZGUub2Zmc2V0VG9wLFxuICAgICAgd2lkdGg6IG5vZGUub2Zmc2V0V2lkdGgsXG4gICAgICBoZWlnaHQ6IG5vZGUub2Zmc2V0SGVpZ2h0XG4gICAgfSA6IHsgbGVmdDogMCwgdG9wOiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gIH1cbn1cblNlbGVjdFByb3ZpZGVyLiRpbmplY3QgPSBbXCIkJGludGVyaW1FbGVtZW50UHJvdmlkZXJcIl07XG5cblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5zaWRlbmF2XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIFNpZGVuYXYgUVAgY29tcG9uZW50LlxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5zaWRlbmF2JywgW1xuICAgICdtYXRlcmlhbC5jb3JlJyxcbiAgICAnbWF0ZXJpYWwuY29tcG9uZW50cy5iYWNrZHJvcCdcbiAgXSlcbiAgLmZhY3RvcnkoJyRtZFNpZGVuYXYnLCBTaWRlbmF2U2VydmljZSApXG4gIC5kaXJlY3RpdmUoJ21kU2lkZW5hdicsIFNpZGVuYXZEaXJlY3RpdmUpXG4gIC5kaXJlY3RpdmUoJ21kU2lkZW5hdkZvY3VzJywgU2lkZW5hdkZvY3VzRGlyZWN0aXZlKVxuICAuY29udHJvbGxlcignJG1kU2lkZW5hdkNvbnRyb2xsZXInLCBTaWRlbmF2Q29udHJvbGxlcik7XG5cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRtZFNpZGVuYXZcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5zaWRlbmF2XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBgJG1kU2lkZW5hdmAgbWFrZXMgaXQgZWFzeSB0byBpbnRlcmFjdCB3aXRoIG11bHRpcGxlIHNpZGVuYXZzXG4gKiBpbiBhbiBhcHAuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwianNcIj5cbiAqIC8vIEFzeW5jIGxvb2t1cCBmb3Igc2lkZW5hdiBpbnN0YW5jZTsgd2lsbCByZXNvbHZlIHdoZW4gdGhlIGluc3RhbmNlIGlzIGF2YWlsYWJsZVxuICogJG1kU2lkZW5hdihjb21wb25lbnRJZCkudGhlbihmdW5jdGlvbihpbnN0YW5jZSkge1xuICogICAkbG9nLmRlYnVnKCBjb21wb25lbnRJZCArIFwiaXMgbm93IHJlYWR5XCIgKTtcbiAqIH0pO1xuICogLy8gQXN5bmMgdG9nZ2xlIHRoZSBnaXZlbiBzaWRlbmF2O1xuICogLy8gd2hlbiBpbnN0YW5jZSBpcyBrbm93biByZWFkeSBhbmQgbGF6eSBsb29rdXAgaXMgbm90IG5lZWRlZC5cbiAqICRtZFNpZGVuYXYoY29tcG9uZW50SWQpXG4gKiAgICAudG9nZ2xlKClcbiAqICAgIC50aGVuKGZ1bmN0aW9uKCl7XG4gKiAgICAgICRsb2cuZGVidWcoJ3RvZ2dsZWQnKTtcbiAqICAgIH0pO1xuICogLy8gQXN5bmMgb3BlbiB0aGUgZ2l2ZW4gc2lkZW5hdlxuICogJG1kU2lkZW5hdihjb21wb25lbnRJZClcbiAqICAgIC5vcGVuKClcbiAqICAgIC50aGVuKGZ1bmN0aW9uKCl7XG4gKiAgICAgICRsb2cuZGVidWcoJ29wZW5lZCcpO1xuICogICAgfSk7XG4gKiAvLyBBc3luYyBjbG9zZSB0aGUgZ2l2ZW4gc2lkZW5hdlxuICogJG1kU2lkZW5hdihjb21wb25lbnRJZClcbiAqICAgIC5jbG9zZSgpXG4gKiAgICAudGhlbihmdW5jdGlvbigpe1xuICogICAgICAkbG9nLmRlYnVnKCdjbG9zZWQnKTtcbiAqICAgIH0pO1xuICogLy8gU3luYyBjaGVjayB0byBzZWUgaWYgdGhlIHNwZWNpZmllZCBzaWRlbmF2IGlzIHNldCB0byBiZSBvcGVuXG4gKiAkbWRTaWRlbmF2KGNvbXBvbmVudElkKS5pc09wZW4oKTtcbiAqIC8vIFN5bmMgY2hlY2sgdG8gd2hldGhlciBnaXZlbiBzaWRlbmF2IGlzIGxvY2tlZCBvcGVuXG4gKiAvLyBJZiB0aGlzIGlzIHRydWUsIHRoZSBzaWRlbmF2IHdpbGwgYmUgb3BlbiByZWdhcmRsZXNzIG9mIGNsb3NlKClcbiAqICRtZFNpZGVuYXYoY29tcG9uZW50SWQpLmlzTG9ja2VkT3BlbigpO1xuICogPC9obGpzPlxuICovXG5mdW5jdGlvbiBTaWRlbmF2U2VydmljZSgkbWRDb21wb25lbnRSZWdpc3RyeSwgJHEpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGhhbmRsZSkge1xuXG4gICAgLy8gTG9va3VwIHRoZSBjb250cm9sbGVyIGluc3RhbmNlIGZvciB0aGUgc3BlY2lmaWVkIHNpZE5hdiBpbnN0YW5jZVxuICAgIHZhciBzZWxmO1xuICAgIHZhciBlcnJvck1zZyA9IFwiU2lkZU5hdiAnXCIgKyBoYW5kbGUgKyBcIicgaXMgbm90IGF2YWlsYWJsZSFcIjtcbiAgICB2YXIgaW5zdGFuY2UgPSAkbWRDb21wb25lbnRSZWdpc3RyeS5nZXQoaGFuZGxlKTtcblxuICAgIGlmKCFpbnN0YW5jZSkge1xuICAgICAgJG1kQ29tcG9uZW50UmVnaXN0cnkubm90Rm91bmRFcnJvcihoYW5kbGUpO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmID0ge1xuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIFN5bmMgbWV0aG9kc1xuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIGlzT3BlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5pc09wZW4oKTtcbiAgICAgIH0sXG4gICAgICBpc0xvY2tlZE9wZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgJiYgaW5zdGFuY2UuaXNMb2NrZWRPcGVuKCk7XG4gICAgICB9LFxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIEFzeW5jIG1ldGhvZHNcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICB0b2dnbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgPyBpbnN0YW5jZS50b2dnbGUoKSA6ICRxLnJlamVjdChlcnJvck1zZyk7XG4gICAgICB9LFxuICAgICAgb3BlbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpbnN0YW5jZSA/IGluc3RhbmNlLm9wZW4oKSA6ICRxLnJlamVjdChlcnJvck1zZyk7XG4gICAgICB9LFxuICAgICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaW5zdGFuY2UgPyBpbnN0YW5jZS5jbG9zZSgpIDogJHEucmVqZWN0KGVycm9yTXNnKTtcbiAgICAgIH0sXG4gICAgICB0aGVuIDogZnVuY3Rpb24oIGNhbGxiYWNrRm4gKSB7XG4gICAgICAgIHZhciBwcm9taXNlID0gaW5zdGFuY2UgPyAkcS53aGVuKGluc3RhbmNlKSA6IHdhaXRGb3JJbnN0YW5jZSgpO1xuICAgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKCBjYWxsYmFja0ZuIHx8IGFuZ3VsYXIubm9vcCApO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZWZlcnJlZCBsb29rdXAgb2YgY29tcG9uZW50IGluc3RhbmNlIHVzaW5nICRjb21wb25lbnQgcmVnaXN0cnlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3YWl0Rm9ySW5zdGFuY2UoKSB7XG4gICAgICByZXR1cm4gJG1kQ29tcG9uZW50UmVnaXN0cnlcbiAgICAgICAgICAgICAgICAud2hlbihoYW5kbGUpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oIGl0ICl7XG4gICAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IGl0O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblNpZGVuYXZTZXJ2aWNlLiRpbmplY3QgPSBbXCIkbWRDb21wb25lbnRSZWdpc3RyeVwiLCBcIiRxXCJdO1xuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZFNpZGVuYXZGb2N1c1xuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnNpZGVuYXZcbiAqXG4gKiBAcmVzdHJpY3QgQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYCRtZFNpZGVuYXZGb2N1c2AgcHJvdmlkZXMgYSB3YXkgdG8gc3BlY2lmeSB0aGUgZm9jdXNlZCBlbGVtZW50IHdoZW4gYSBzaWRlbmF2IG9wZW5zLlxuICogVGhpcyBpcyBjb21wbGV0ZWx5IG9wdGlvbmFsLCBhcyB0aGUgc2lkZW5hdiBpdHNlbGYgaXMgZm9jdXNlZCBieSBkZWZhdWx0LlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1zaWRlbmF2PlxuICogICA8Zm9ybT5cbiAqICAgICA8bWQtaW5wdXQtY29udGFpbmVyPlxuICogICAgICAgPGxhYmVsIGZvcj1cInRlc3RJbnB1dFwiPkxhYmVsPC9sYWJlbD5cbiAqICAgICAgIDxpbnB1dCBpZD1cInRlc3RJbnB1dFwiIHR5cGU9XCJ0ZXh0XCIgbWQtc2lkZW5hdi1mb2N1cz5cbiAqICAgICA8L21kLWlucHV0LWNvbnRhaW5lcj5cbiAqICAgPC9mb3JtPlxuICogPC9tZC1zaWRlbmF2PlxuICogPC9obGpzPlxuICoqL1xuZnVuY3Rpb24gU2lkZW5hdkZvY3VzRGlyZWN0aXZlKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJ15tZFNpZGVuYXYnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBzaWRlbmF2Q3RybCkge1xuICAgICAgc2lkZW5hdkN0cmwuZm9jdXNFbGVtZW50KGVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRTaWRlbmF2XG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuc2lkZW5hdlxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBBIFNpZGVuYXYgY29tcG9uZW50IHRoYXQgY2FuIGJlIG9wZW5lZCBhbmQgY2xvc2VkIHByb2dyYW1hdGljYWxseS5cbiAqXG4gKiBCeSBkZWZhdWx0LCB1cG9uIG9wZW5pbmcgaXQgd2lsbCBzbGlkZSBvdXQgb24gdG9wIG9mIHRoZSBtYWluIGNvbnRlbnQgYXJlYS5cbiAqXG4gKiBGb3Iga2V5Ym9hcmQgYW5kIHNjcmVlbiByZWFkZXIgYWNjZXNzaWJpbGl0eSwgZm9jdXMgaXMgc2VudCB0byB0aGUgc2lkZW5hdiB3cmFwcGVyIGJ5IGRlZmF1bHQuXG4gKiBJdCBjYW4gYmUgb3ZlcnJpZGRlbiB3aXRoIHRoZSBgbWQtc2lkZW5hdi1mb2N1c2AgZGlyZWN0aXZlIG9uIHRoZSBjaGlsZCBlbGVtZW50IHlvdSB3YW50IGZvY3VzZWQuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPGRpdiBsYXlvdXQ9XCJyb3dcIiBuZy1jb250cm9sbGVyPVwiTXlDb250cm9sbGVyXCI+XG4gKiAgIDxtZC1zaWRlbmF2IG1kLWNvbXBvbmVudC1pZD1cImxlZnRcIiBjbGFzcz1cIm1kLXNpZGVuYXYtbGVmdFwiPlxuICogICAgIExlZnQgTmF2IVxuICogICA8L21kLXNpZGVuYXY+XG4gKlxuICogICA8bWQtY29udGVudD5cbiAqICAgICBDZW50ZXIgQ29udGVudFxuICogICAgIDxtZC1idXR0b24gbmctY2xpY2s9XCJvcGVuTGVmdE1lbnUoKVwiPlxuICogICAgICAgT3BlbiBMZWZ0IE1lbnVcbiAqICAgICA8L21kLWJ1dHRvbj5cbiAqICAgPC9tZC1jb250ZW50PlxuICpcbiAqICAgPG1kLXNpZGVuYXYgbWQtY29tcG9uZW50LWlkPVwicmlnaHRcIlxuICogICAgIG1kLWlzLWxvY2tlZC1vcGVuPVwiJG1kTWVkaWEoJ21pbi13aWR0aDogMzMzcHgnKVwiXG4gKiAgICAgY2xhc3M9XCJtZC1zaWRlbmF2LXJpZ2h0XCI+XG4gKiAgICAgPGZvcm0+XG4gKiAgICAgICA8bWQtaW5wdXQtY29udGFpbmVyPlxuICogICAgICAgICA8bGFiZWwgZm9yPVwidGVzdElucHV0XCI+VGVzdCBpbnB1dDwvbGFiZWw+XG4gKiAgICAgICAgIDxpbnB1dCBpZD1cInRlc3RJbnB1dFwiIHR5cGU9XCJ0ZXh0XCJcbiAqICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwiZGF0YVwiIG1kLXNpZGVuYXYtZm9jdXM+XG4gKiAgICAgICA8L21kLWlucHV0LWNvbnRhaW5lcj5cbiAqICAgICA8L2Zvcm0+XG4gKiAgIDwvbWQtc2lkZW5hdj5cbiAqIDwvZGl2PlxuICogPC9obGpzPlxuICpcbiAqIDxobGpzIGxhbmc9XCJqc1wiPlxuICogdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFsnbmdNYXRlcmlhbCddKTtcbiAqIGFwcC5jb250cm9sbGVyKCdNeUNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsICRtZFNpZGVuYXYpIHtcbiAqICAgJHNjb3BlLm9wZW5MZWZ0TWVudSA9IGZ1bmN0aW9uKCkge1xuICogICAgICRtZFNpZGVuYXYoJ2xlZnQnKS50b2dnbGUoKTtcbiAqICAgfTtcbiAqIH0pO1xuICogPC9obGpzPlxuICpcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG1kLWlzLW9wZW4gQSBtb2RlbCBib3VuZCB0byB3aGV0aGVyIHRoZSBzaWRlbmF2IGlzIG9wZW5lZC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWQtY29tcG9uZW50LWlkIGNvbXBvbmVudElkIHRvIHVzZSB3aXRoICRtZFNpZGVuYXYgc2VydmljZS5cbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG1kLWlzLWxvY2tlZC1vcGVuIFdoZW4gdGhpcyBleHByZXNzaW9uIGV2YWx1dGVzIHRvIHRydWUsXG4gKiB0aGUgc2lkZW5hdiAnbG9ja3Mgb3Blbic6IGl0IGZhbGxzIGludG8gdGhlIGNvbnRlbnQncyBmbG93IGluc3RlYWRcbiAqIG9mIGFwcGVhcmluZyBvdmVyIGl0LiBUaGlzIG92ZXJyaWRlcyB0aGUgYGlzLW9wZW5gIGF0dHJpYnV0ZS5cbiAqXG4gKiBUaGUgJG1kTWVkaWEoKSBzZXJ2aWNlIGlzIGV4cG9zZWQgdG8gdGhlIGlzLWxvY2tlZC1vcGVuIGF0dHJpYnV0ZSwgd2hpY2hcbiAqIGNhbiBiZSBnaXZlbiBhIG1lZGlhIHF1ZXJ5IG9yIG9uZSBvZiB0aGUgYHNtYCwgYGd0LXNtYCwgYG1kYCwgYGd0LW1kYCwgYGxnYCBvciBgZ3QtbGdgIHByZXNldHMuXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgIC0gYDxtZC1zaWRlbmF2IG1kLWlzLWxvY2tlZC1vcGVuPVwic2hvdWxkTG9ja09wZW5cIj48L21kLXNpZGVuYXY+YFxuICogICAtIGA8bWQtc2lkZW5hdiBtZC1pcy1sb2NrZWQtb3Blbj1cIiRtZE1lZGlhKCdtaW4td2lkdGg6IDEwMDBweCcpXCI+PC9tZC1zaWRlbmF2PmBcbiAqICAgLSBgPG1kLXNpZGVuYXYgbWQtaXMtbG9ja2VkLW9wZW49XCIkbWRNZWRpYSgnc20nKVwiPjwvbWQtc2lkZW5hdj5gIChsb2NrcyBvcGVuIG9uIHNtYWxsIHNjcmVlbnMpXG4gKi9cbmZ1bmN0aW9uIFNpZGVuYXZEaXJlY3RpdmUoJHRpbWVvdXQsICRhbmltYXRlLCAkcGFyc2UsICRsb2csICRtZE1lZGlhLCAkbWRDb25zdGFudCwgJGNvbXBpbGUsICRtZFRoZW1pbmcsICRxLCAkZG9jdW1lbnQpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHNjb3BlOiB7XG4gICAgICBpc09wZW46ICc9P21kSXNPcGVuJ1xuICAgIH0sXG4gICAgY29udHJvbGxlcjogJyRtZFNpZGVuYXZDb250cm9sbGVyJyxcbiAgICBjb21waWxlOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICBlbGVtZW50LmFkZENsYXNzKCdtZC1jbG9zZWQnKTtcbiAgICAgIGVsZW1lbnQuYXR0cigndGFiSW5kZXgnLCAnLTEnKTtcbiAgICAgIHJldHVybiBwb3N0TGluaztcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIERpcmVjdGl2ZSBQb3N0IExpbmsgZnVuY3Rpb24uLi5cbiAgICovXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBzaWRlbmF2Q3RybCkge1xuICAgIHZhciBsYXN0UGFyZW50T3ZlckZsb3c7XG4gICAgdmFyIHRyaWdnZXJpbmdFbGVtZW50ID0gbnVsbDtcbiAgICB2YXIgcHJvbWlzZSA9ICRxLndoZW4odHJ1ZSk7XG5cbiAgICB2YXIgaXNMb2NrZWRPcGVuUGFyc2VkID0gJHBhcnNlKGF0dHIubWRJc0xvY2tlZE9wZW4pO1xuICAgIHZhciBpc0xvY2tlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGlzTG9ja2VkT3BlblBhcnNlZChzY29wZS4kcGFyZW50LCB7XG4gICAgICAgICRtZWRpYTogZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgICAgJGxvZy53YXJuKFwiJG1lZGlhIGlzIGRlcHJlY2F0ZWQgZm9yIGlzLWxvY2tlZC1vcGVuLiBVc2UgJG1kTWVkaWEgaW5zdGVhZC5cIik7XG4gICAgICAgICAgcmV0dXJuICRtZE1lZGlhKGFyZyk7XG4gICAgICAgIH0sXG4gICAgICAgICRtZE1lZGlhOiAkbWRNZWRpYVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgYmFja2Ryb3AgPSAkY29tcGlsZShcbiAgICAgICc8bWQtYmFja2Ryb3AgY2xhc3M9XCJtZC1zaWRlbmF2LWJhY2tkcm9wIG1kLW9wYXF1ZSBuZy1lbnRlclwiPidcbiAgICApKHNjb3BlKTtcblxuICAgIGVsZW1lbnQub24oJyRkZXN0cm95Jywgc2lkZW5hdkN0cmwuZGVzdHJveSk7XG4gICAgJG1kVGhlbWluZy5pbmhlcml0KGJhY2tkcm9wLCBlbGVtZW50KTtcblxuICAgIHNjb3BlLiR3YXRjaChpc0xvY2tlZCwgdXBkYXRlSXNMb2NrZWQpO1xuICAgIHNjb3BlLiR3YXRjaCgnaXNPcGVuJywgdXBkYXRlSXNPcGVuKTtcblxuXG4gICAgLy8gUHVibGlzaCBzcGVjaWFsIGFjY2Vzc29yIGZvciB0aGUgQ29udHJvbGxlciBpbnN0YW5jZVxuICAgIHNpZGVuYXZDdHJsLiR0b2dnbGVPcGVuID0gdG9nZ2xlT3BlbjtcbiAgICBzaWRlbmF2Q3RybC5mb2N1c0VsZW1lbnQoIHNpZGVuYXZDdHJsLmZvY3VzRWxlbWVudCgpIHx8IGVsZW1lbnQgKTtcblxuICAgIC8qKlxuICAgICAqIFRvZ2dsZSB0aGUgRE9NIGNsYXNzZXMgdG8gaW5kaWNhdGUgYGxvY2tlZGBcbiAgICAgKiBAcGFyYW0gaXNMb2NrZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVJc0xvY2tlZChpc0xvY2tlZCwgb2xkVmFsdWUpIHtcbiAgICAgIHNjb3BlLmlzTG9ja2VkT3BlbiA9IGlzTG9ja2VkO1xuICAgICAgaWYgKGlzTG9ja2VkID09PSBvbGRWYWx1ZSkge1xuICAgICAgICBlbGVtZW50LnRvZ2dsZUNsYXNzKCdtZC1sb2NrZWQtb3BlbicsICEhaXNMb2NrZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGFuaW1hdGVbaXNMb2NrZWQgPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJ10oZWxlbWVudCwgJ21kLWxvY2tlZC1vcGVuJyk7XG4gICAgICB9XG4gICAgICBiYWNrZHJvcC50b2dnbGVDbGFzcygnbWQtbG9ja2VkLW9wZW4nLCAhIWlzTG9ja2VkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGUgdGhlIFNpZGVOYXYgdmlldyBhbmQgYXR0YWNoL2RldGFjaCBsaXN0ZW5lcnNcbiAgICAgKiBAcGFyYW0gaXNPcGVuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlSXNPcGVuKGlzT3Blbikge1xuICAgICAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50KCk7XG5cbiAgICAgIHBhcmVudFtpc09wZW4gPyAnb24nIDogJ29mZiddKCdrZXlkb3duJywgb25LZXlEb3duKTtcbiAgICAgIGJhY2tkcm9wW2lzT3BlbiA/ICdvbicgOiAnb2ZmJ10oJ2NsaWNrJywgY2xvc2UpO1xuXG4gICAgICBpZiAoIGlzT3BlbiApIHtcbiAgICAgICAgLy8gQ2FwdHVyZSB1cG9uIG9wZW5pbmcuLlxuICAgICAgICB0cmlnZ2VyaW5nRWxlbWVudCA9ICRkb2N1bWVudFswXS5hY3RpdmVFbGVtZW50O1xuICAgICAgfVxuICAgICAgdmFyIGZvY3VzRWwgPSBzaWRlbmF2Q3RybC5mb2N1c0VsZW1lbnQoKTtcblxuICAgICAgZGlzYWJsZVBhcmVudFNjcm9sbChpc09wZW4pO1xuXG4gICAgICByZXR1cm4gcHJvbWlzZSA9ICRxLmFsbChbXG4gICAgICAgICAgICAgICAgaXNPcGVuID8gJGFuaW1hdGUuZW50ZXIoYmFja2Ryb3AsIHBhcmVudCkgOiAkYW5pbWF0ZS5sZWF2ZShiYWNrZHJvcCksXG4gICAgICAgICAgICAgICAgJGFuaW1hdGVbaXNPcGVuID8gJ3JlbW92ZUNsYXNzJyA6ICdhZGRDbGFzcyddKGVsZW1lbnQsICdtZC1jbG9zZWQnKVxuICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyBQZXJmb3JtIGZvY3VzIHdoZW4gYW5pbWF0aW9ucyBhcmUgQUxMIGRvbmUuLi5cbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgICBmb2N1c0VsICYmIGZvY3VzRWwuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByZXZlbnQgcGFyZW50IHNjcm9sbGluZyAod2hlbiB0aGUgU2lkZU5hdiBpcyBvcGVuKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpc2FibGVQYXJlbnRTY3JvbGwoZGlzYWJsZWQpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpO1xuICAgICAgaWYgKCBkaXNhYmxlZCApIHtcbiAgICAgICAgbGFzdFBhcmVudE92ZXJGbG93ID0gcGFyZW50LmNzcygnb3ZlcmZsb3cnKTtcbiAgICAgICAgcGFyZW50LmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XG4gICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGxhc3RQYXJlbnRPdmVyRmxvdykpIHtcbiAgICAgICAgcGFyZW50LmNzcygnb3ZlcmZsb3cnLCBsYXN0UGFyZW50T3ZlckZsb3cpO1xuICAgICAgICBsYXN0UGFyZW50T3ZlckZsb3cgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVG9nZ2xlIHRoZSBzaWRlTmF2IHZpZXcgYW5kIHB1Ymxpc2ggYSBwcm9taXNlIHRvIGJlIHJlc29sdmVkIHdoZW5cbiAgICAgKiB0aGUgdmlldyBhbmltYXRpb24gZmluaXNoZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaXNPcGVuXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9nZ2xlT3BlbiggaXNPcGVuICkge1xuICAgICAgaWYgKHNjb3BlLmlzT3BlbiA9PSBpc09wZW4gKSB7XG5cbiAgICAgICAgcmV0dXJuICRxLndoZW4odHJ1ZSk7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgLy8gVG9nZ2xlIHZhbHVlIHRvIGZvcmNlIGFuIGFzeW5jIGB1cGRhdGVJc09wZW4oKWAgdG8gcnVuXG4gICAgICAgIHNjb3BlLmlzT3BlbiA9IGlzT3BlbjtcblxuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcblxuICAgICAgICAgIC8vIFdoZW4gdGhlIGN1cnJlbnQgYHVwZGF0ZUlzT3BlbigpYCBhbmltYXRpb24gZmluaXNoZXNcbiAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XG5cbiAgICAgICAgICAgIGlmICggIXNjb3BlLmlzT3BlbiApIHtcbiAgICAgICAgICAgICAgLy8gcmVzZXQgZm9jdXMgdG8gb3JpZ2luYXRpbmcgZWxlbWVudCAoaWYgYXZhaWxhYmxlKSB1cG9uIGNsb3NlXG4gICAgICAgICAgICAgIHRyaWdnZXJpbmdFbGVtZW50ICYmIHRyaWdnZXJpbmdFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgIHRyaWdnZXJpbmdFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0sMCxmYWxzZSk7XG5cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXV0by1jbG9zZSBzaWRlTmF2IHdoZW4gdGhlIGBlc2NhcGVgIGtleSBpcyBwcmVzc2VkLlxuICAgICAqIEBwYXJhbSBldnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbktleURvd24oZXYpIHtcbiAgICAgIHZhciBpc0VzY2FwZSA9IChldi5rZXlDb2RlID09PSAkbWRDb25zdGFudC5LRVlfQ09ERS5FU0NBUEUpO1xuICAgICAgcmV0dXJuIGlzRXNjYXBlID8gY2xvc2UoZXYpIDogJHEud2hlbih0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaXRoIGJhY2tkcm9wIGBjbGlja3NgIG9yIGBlc2NhcGVgIGtleS1wcmVzcywgaW1tZWRpYXRlbHlcbiAgICAgKiBhcHBseSB0aGUgQ1NTIGNsb3NlIHRyYW5zaXRpb24uLi4gVGhlbiBub3RpZnkgdGhlIGNvbnRyb2xsZXJcbiAgICAgKiB0byBjbG9zZSgpIGFuZCBwZXJmb3JtIGl0cyBvd24gYWN0aW9ucy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9zZShldikge1xuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICByZXR1cm4gc2lkZW5hdkN0cmwuY2xvc2UoKTtcbiAgICB9XG5cbiAgfVxufVxuU2lkZW5hdkRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJHRpbWVvdXRcIiwgXCIkYW5pbWF0ZVwiLCBcIiRwYXJzZVwiLCBcIiRsb2dcIiwgXCIkbWRNZWRpYVwiLCBcIiRtZENvbnN0YW50XCIsIFwiJGNvbXBpbGVcIiwgXCIkbWRUaGVtaW5nXCIsIFwiJHFcIiwgXCIkZG9jdW1lbnRcIl07XG5cbi8qXG4gKiBAcHJpdmF0ZVxuICogQG5nZG9jIGNvbnRyb2xsZXJcbiAqIEBuYW1lIFNpZGVuYXZDb250cm9sbGVyXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuc2lkZW5hdlxuICpcbiAqL1xuZnVuY3Rpb24gU2lkZW5hdkNvbnRyb2xsZXIoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCAkbWRDb21wb25lbnRSZWdpc3RyeSwgJHEpIHtcblxuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICBmb2N1c0VsZW1lbnQ7XG5cbiAgLy8gVXNlIERlZmF1bHQgaW50ZXJuYWwgbWV0aG9kIHVudGlsIG92ZXJyaWRkZW4gYnkgZGlyZWN0aXZlIHBvc3RMaW5rXG5cbiAgLy8gU3luY2hyb25vdXMgZ2V0dGVyc1xuICBzZWxmLmlzT3BlbiA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gISEkc2NvcGUuaXNPcGVuOyB9O1xuICBzZWxmLmlzTG9ja2VkT3BlbiA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gISEkc2NvcGUuaXNMb2NrZWRPcGVuOyB9O1xuXG4gIC8vIEFzeW5jIGFjdGlvbnNcbiAgc2VsZi5vcGVuICAgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYuJHRvZ2dsZU9wZW4oIHRydWUgKTsgIH07XG4gIHNlbGYuY2xvc2UgID0gZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLiR0b2dnbGVPcGVuKCBmYWxzZSApOyB9O1xuICBzZWxmLnRvZ2dsZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi4kdG9nZ2xlT3BlbiggISRzY29wZS5pc09wZW4gKTsgIH07XG4gIHNlbGYuZm9jdXNFbGVtZW50ID0gZnVuY3Rpb24oZWwpIHtcbiAgICBpZiAoIGFuZ3VsYXIuaXNEZWZpbmVkKGVsKSApIHtcbiAgICAgIGZvY3VzRWxlbWVudCA9IGVsO1xuICAgIH1cbiAgICByZXR1cm4gZm9jdXNFbGVtZW50O1xuICB9O1xuXG4gIHNlbGYuJHRvZ2dsZU9wZW4gPSBmdW5jdGlvbigpIHsgcmV0dXJuICRxLndoZW4oJHNjb3BlLmlzT3Blbik7IH07XG5cbiAgc2VsZi5kZXN0cm95ID0gJG1kQ29tcG9uZW50UmVnaXN0cnkucmVnaXN0ZXIoc2VsZiwgJGF0dHJzLm1kQ29tcG9uZW50SWQpO1xufVxuU2lkZW5hdkNvbnRyb2xsZXIuJGluamVjdCA9IFtcIiRzY29wZVwiLCBcIiRlbGVtZW50XCIsIFwiJGF0dHJzXCIsIFwiJG1kQ29tcG9uZW50UmVnaXN0cnlcIiwgXCIkcVwiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtb2R1bGVcbiAgICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5zbGlkZXJcbiAgICovXG4gIGFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnNsaWRlcicsIFtcbiAgICAnbWF0ZXJpYWwuY29yZSdcbiAgXSlcbiAgLmRpcmVjdGl2ZSgnbWRTbGlkZXInLCBTbGlkZXJEaXJlY3RpdmUpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kU2xpZGVyXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuc2xpZGVyXG4gKiBAcmVzdHJpY3QgRVxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYDxtZC1zbGlkZXI+YCBjb21wb25lbnQgYWxsb3dzIHRoZSB1c2VyIHRvIGNob29zZSBmcm9tIGEgcmFuZ2Ugb2ZcbiAqIHZhbHVlcy5cbiAqXG4gKiBBcyBwZXIgdGhlIFttYXRlcmlhbCBkZXNpZ24gc3BlY10oaHR0cDovL3d3dy5nb29nbGUuY29tL2Rlc2lnbi9zcGVjL3N0eWxlL2NvbG9yLmh0bWwjY29sb3ItdWktY29sb3ItYXBwbGljYXRpb24pXG4gKiB0aGUgc2xpZGVyIGlzIGluIHRoZSBhY2NlbnQgY29sb3IgYnkgZGVmYXVsdC4gVGhlIHByaW1hcnkgY29sb3IgcGFsZXR0ZSBtYXkgYmUgdXNlZCB3aXRoXG4gKiB0aGUgYG1kLXByaW1hcnlgIGNsYXNzLlxuICpcbiAqIEl0IGhhcyB0d28gbW9kZXM6ICdub3JtYWwnIG1vZGUsIHdoZXJlIHRoZSB1c2VyIHNsaWRlcyBiZXR3ZWVuIGEgd2lkZSByYW5nZVxuICogb2YgdmFsdWVzLCBhbmQgJ2Rpc2NyZXRlJyBtb2RlLCB3aGVyZSB0aGUgdXNlciBzbGlkZXMgYmV0d2VlbiBvbmx5IGEgZmV3XG4gKiBzZWxlY3QgdmFsdWVzLlxuICpcbiAqIFRvIGVuYWJsZSBkaXNjcmV0ZSBtb2RlLCBhZGQgdGhlIGBtZC1kaXNjcmV0ZWAgYXR0cmlidXRlIHRvIGEgc2xpZGVyLFxuICogYW5kIHVzZSB0aGUgYHN0ZXBgIGF0dHJpYnV0ZSB0byBjaGFuZ2UgdGhlIGRpc3RhbmNlIGJldHdlZW5cbiAqIHZhbHVlcyB0aGUgdXNlciBpcyBhbGxvd2VkIHRvIHBpY2suXG4gKlxuICogQHVzYWdlXG4gKiA8aDQ+Tm9ybWFsIE1vZGU8L2g0PlxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1zbGlkZXIgbmctbW9kZWw9XCJteVZhbHVlXCIgbWluPVwiNVwiIG1heD1cIjUwMFwiPlxuICogPC9tZC1zbGlkZXI+XG4gKiA8L2hsanM+XG4gKiA8aDQ+RGlzY3JldGUgTW9kZTwvaDQ+XG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLXNsaWRlciBtZC1kaXNjcmV0ZSBuZy1tb2RlbD1cIm15RGlzY3JldGVWYWx1ZVwiIHN0ZXA9XCIxMFwiIG1pbj1cIjEwXCIgbWF4PVwiMTMwXCI+XG4gKiA8L21kLXNsaWRlcj5cbiAqIDwvaGxqcz5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1kaXNjcmV0ZSBXaGV0aGVyIHRvIGVuYWJsZSBkaXNjcmV0ZSBtb2RlLlxuICogQHBhcmFtIHtudW1iZXI9fSBzdGVwIFRoZSBkaXN0YW5jZSBiZXR3ZWVuIHZhbHVlcyB0aGUgdXNlciBpcyBhbGxvd2VkIHRvIHBpY2suIERlZmF1bHQgMS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gbWluIFRoZSBtaW5pbXVtIHZhbHVlIHRoZSB1c2VyIGlzIGFsbG93ZWQgdG8gcGljay4gRGVmYXVsdCAwLlxuICogQHBhcmFtIHtudW1iZXI9fSBtYXggVGhlIG1heGltdW0gdmFsdWUgdGhlIHVzZXIgaXMgYWxsb3dlZCB0byBwaWNrLiBEZWZhdWx0IDEwMC5cbiAqL1xuZnVuY3Rpb24gU2xpZGVyRGlyZWN0aXZlKCQkckFGLCAkd2luZG93LCAkbWRBcmlhLCAkbWRVdGlsLCAkbWRDb25zdGFudCwgJG1kVGhlbWluZywgJG1kR2VzdHVyZSwgJHBhcnNlKSB7XG4gIHJldHVybiB7XG4gICAgc2NvcGU6IHt9LFxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgdGVtcGxhdGU6XG4gICAgICAnPGRpdiBjbGFzcz1cIm1kLXNsaWRlci13cmFwcGVyXCI+XFxcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1kLXRyYWNrLWNvbnRhaW5lclwiPlxcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1kLXRyYWNrXCI+PC9kaXY+XFxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWQtdHJhY2sgbWQtdHJhY2stZmlsbFwiPjwvZGl2PlxcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1kLXRyYWNrLXRpY2tzXCI+PC9kaXY+XFxcbiAgICAgICAgPC9kaXY+XFxcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1kLXRodW1iLWNvbnRhaW5lclwiPlxcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1kLXRodW1iXCI+PC9kaXY+XFxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWQtZm9jdXMtdGh1bWJcIj48L2Rpdj5cXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZC1mb2N1cy1yaW5nXCI+PC9kaXY+XFxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibWQtc2lnblwiPlxcXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1kLXRodW1iLXRleHRcIj48L3NwYW4+XFxcbiAgICAgICAgICA8L2Rpdj5cXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZC1kaXNhYmxlZC10aHVtYlwiPjwvZGl2PlxcXG4gICAgICAgIDwvZGl2PlxcXG4gICAgICA8L2Rpdj4nLFxuICAgIGNvbXBpbGU6IGNvbXBpbGVcbiAgfTtcblxuICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gIC8vIFByaXZhdGUgTWV0aG9kc1xuICAvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiAgZnVuY3Rpb24gY29tcGlsZSAodEVsZW1lbnQsIHRBdHRycykge1xuICAgIHRFbGVtZW50LmF0dHIoe1xuICAgICAgdGFiSW5kZXg6IDAsXG4gICAgICByb2xlOiAnc2xpZGVyJ1xuICAgIH0pO1xuXG4gICAgJG1kQXJpYS5leHBlY3QodEVsZW1lbnQsICdhcmlhLWxhYmVsJyk7XG5cbiAgICByZXR1cm4gcG9zdExpbms7XG4gIH1cblxuICBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgbmdNb2RlbEN0cmwpIHtcbiAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmwgfHwge1xuICAgICAgLy8gTW9jayBuZ01vZGVsQ29udHJvbGxlciBpZiBpdCBkb2Vzbid0IGV4aXN0IHRvIGdpdmUgdXNcbiAgICAgIC8vIHRoZSBtaW5pbXVtIGZ1bmN0aW9uYWxpdHkgbmVlZGVkXG4gICAgICAkc2V0Vmlld1ZhbHVlOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy4kdmlld1ZhbHVlID0gdmFsO1xuICAgICAgICB0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oY2IpIHsgY2IoKTsgfSk7XG4gICAgICB9LFxuICAgICAgJHBhcnNlcnM6IFtdLFxuICAgICAgJGZvcm1hdHRlcnM6IFtdLFxuICAgICAgJHZpZXdDaGFuZ2VMaXN0ZW5lcnM6IFtdXG4gICAgfTtcblxuICAgIHZhciBpc0Rpc2FibGVkUGFyc2VkID0gYXR0ci5uZ0Rpc2FibGVkICYmICRwYXJzZShhdHRyLm5nRGlzYWJsZWQpO1xuICAgIHZhciBpc0Rpc2FibGVkR2V0dGVyID0gaXNEaXNhYmxlZFBhcnNlZCA/XG4gICAgICBmdW5jdGlvbigpIHsgcmV0dXJuIGlzRGlzYWJsZWRQYXJzZWQoc2NvcGUuJHBhcmVudCk7IH0gOlxuICAgICAgYW5ndWxhci5ub29wO1xuICAgIHZhciB0aHVtYiA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC10aHVtYicpKTtcbiAgICB2YXIgdGh1bWJUZXh0ID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLXRodW1iLXRleHQnKSk7XG4gICAgdmFyIHRodW1iQ29udGFpbmVyID0gdGh1bWIucGFyZW50KCk7XG4gICAgdmFyIHRyYWNrQ29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLXRyYWNrLWNvbnRhaW5lcicpKTtcbiAgICB2YXIgYWN0aXZlVHJhY2sgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcubWQtdHJhY2stZmlsbCcpKTtcbiAgICB2YXIgdGlja0NvbnRhaW5lciA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5tZC10cmFjay10aWNrcycpKTtcbiAgICB2YXIgdGhyb3R0bGVkUmVmcmVzaERpbWVuc2lvbnMgPSAkbWRVdGlsLnRocm90dGxlKHJlZnJlc2hTbGlkZXJEaW1lbnNpb25zLCA1MDAwKTtcblxuICAgIC8vIERlZmF1bHQgdmFsdWVzLCBvdmVycmlkYWJsZSBieSBhdHRyc1xuICAgIGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHIubWluKSA/IGF0dHIuJG9ic2VydmUoJ21pbicsIHVwZGF0ZU1pbikgOiB1cGRhdGVNaW4oMCk7XG4gICAgYW5ndWxhci5pc0RlZmluZWQoYXR0ci5tYXgpID8gYXR0ci4kb2JzZXJ2ZSgnbWF4JywgdXBkYXRlTWF4KSA6IHVwZGF0ZU1heCgxMDApO1xuICAgIGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHIuc3RlcCk/IGF0dHIuJG9ic2VydmUoJ3N0ZXAnLCB1cGRhdGVTdGVwKSA6IHVwZGF0ZVN0ZXAoMSk7XG5cbiAgICAvLyBXZSBoYXZlIHRvIG1hbnVhbGx5IHN0b3AgdGhlICR3YXRjaCBvbiBuZ0Rpc2FibGVkIGJlY2F1c2UgaXQgZXhpc3RzXG4gICAgLy8gb24gdGhlIHBhcmVudCBzY29wZSwgYW5kIHdvbid0IGJlIGF1dG9tYXRpY2FsbHkgZGVzdHJveWVkIHdoZW5cbiAgICAvLyB0aGUgY29tcG9uZW50IGlzIGRlc3Ryb3llZC5cbiAgICB2YXIgc3RvcERpc2FibGVkV2F0Y2ggPSBhbmd1bGFyLm5vb3A7XG4gICAgaWYgKGF0dHIubmdEaXNhYmxlZCkge1xuICAgICAgc3RvcERpc2FibGVkV2F0Y2ggPSBzY29wZS4kcGFyZW50LiR3YXRjaChhdHRyLm5nRGlzYWJsZWQsIHVwZGF0ZUFyaWFEaXNhYmxlZCk7XG4gICAgfVxuXG4gICAgJG1kR2VzdHVyZS5yZWdpc3RlcihlbGVtZW50LCAnZHJhZycpO1xuXG4gICAgZWxlbWVudFxuICAgICAgLm9uKCdrZXlkb3duJywga2V5ZG93bkxpc3RlbmVyKVxuICAgICAgLm9uKCckbWQucHJlc3Nkb3duJywgb25QcmVzc0Rvd24pXG4gICAgICAub24oJyRtZC5wcmVzc3VwJywgb25QcmVzc1VwKVxuICAgICAgLm9uKCckbWQuZHJhZ3N0YXJ0Jywgb25EcmFnU3RhcnQpXG4gICAgICAub24oJyRtZC5kcmFnJywgb25EcmFnKVxuICAgICAgLm9uKCckbWQuZHJhZ2VuZCcsIG9uRHJhZ0VuZCk7XG5cbiAgICAvLyBPbiByZXNpemUsIHJlY2FsY3VsYXRlIHRoZSBzbGlkZXIncyBkaW1lbnNpb25zIGFuZCByZS1yZW5kZXJcbiAgICBmdW5jdGlvbiB1cGRhdGVBbGwoKSB7XG4gICAgICByZWZyZXNoU2xpZGVyRGltZW5zaW9ucygpO1xuICAgICAgbmdNb2RlbFJlbmRlcigpO1xuICAgICAgcmVkcmF3VGlja3MoKTtcbiAgICB9XG4gICAgc2V0VGltZW91dCh1cGRhdGVBbGwpO1xuXG4gICAgdmFyIGRlYm91bmNlZFVwZGF0ZUFsbCA9ICQkckFGLnRocm90dGxlKHVwZGF0ZUFsbCk7XG4gICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9uKCdyZXNpemUnLCBkZWJvdW5jZWRVcGRhdGVBbGwpO1xuXG4gICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZigncmVzaXplJywgZGVib3VuY2VkVXBkYXRlQWxsKTtcbiAgICAgIHN0b3BEaXNhYmxlZFdhdGNoKCk7XG4gICAgfSk7XG5cbiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gbmdNb2RlbFJlbmRlcjtcbiAgICBuZ01vZGVsQ3RybC4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKG5nTW9kZWxSZW5kZXIpO1xuICAgIG5nTW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnB1c2gobWluTWF4VmFsaWRhdG9yKTtcbiAgICBuZ01vZGVsQ3RybC4kZm9ybWF0dGVycy5wdXNoKHN0ZXBWYWxpZGF0b3IpO1xuXG4gICAgLyoqXG4gICAgICogQXR0cmlidXRlc1xuICAgICAqL1xuICAgIHZhciBtaW47XG4gICAgdmFyIG1heDtcbiAgICB2YXIgc3RlcDtcbiAgICBmdW5jdGlvbiB1cGRhdGVNaW4odmFsdWUpIHtcbiAgICAgIG1pbiA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLXZhbHVlbWluJywgdmFsdWUpO1xuICAgICAgdXBkYXRlQWxsKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZU1heCh2YWx1ZSkge1xuICAgICAgbWF4ID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtdmFsdWVtYXgnLCB2YWx1ZSk7XG4gICAgICB1cGRhdGVBbGwoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlU3RlcCh2YWx1ZSkge1xuICAgICAgc3RlcCA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgcmVkcmF3VGlja3MoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQXJpYURpc2FibGVkKGlzRGlzYWJsZWQpIHtcbiAgICAgIGVsZW1lbnQuYXR0cignYXJpYS1kaXNhYmxlZCcsICEhaXNEaXNhYmxlZCk7XG4gICAgfVxuXG4gICAgLy8gRHJhdyB0aGUgdGlja3Mgd2l0aCBjYW52YXMuXG4gICAgLy8gVGhlIGFsdGVybmF0aXZlIHRvIGRyYXdpbmcgdGlja3Mgd2l0aCBjYW52YXMgaXMgdG8gZHJhdyBvbmUgZWxlbWVudCBmb3IgZWFjaCB0aWNrLFxuICAgIC8vIHdoaWNoIGNvdWxkIHF1aWNrbHkgYmVjb21lIGEgcGVyZm9ybWFuY2UgYm90dGxlbmVjay5cbiAgICB2YXIgdGlja0NhbnZhcywgdGlja0N0eDtcbiAgICBmdW5jdGlvbiByZWRyYXdUaWNrcygpIHtcbiAgICAgIGlmICghYW5ndWxhci5pc0RlZmluZWQoYXR0ci5tZERpc2NyZXRlKSkgcmV0dXJuO1xuXG4gICAgICB2YXIgbnVtU3RlcHMgPSBNYXRoLmZsb29yKCAobWF4IC0gbWluKSAvIHN0ZXAgKTtcbiAgICAgIGlmICghdGlja0NhbnZhcykge1xuICAgICAgICB2YXIgdHJhY2tUaWNrc1N0eWxlID0gJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRpY2tDb250YWluZXJbMF0pO1xuICAgICAgICB0aWNrQ2FudmFzID0gYW5ndWxhci5lbGVtZW50KCc8Y2FudmFzIHN0eWxlPVwicG9zaXRpb246YWJzb2x1dGU7XCI+Jyk7XG4gICAgICAgIHRpY2tDdHggPSB0aWNrQ2FudmFzWzBdLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIHRpY2tDdHguZmlsbFN0eWxlID0gdHJhY2tUaWNrc1N0eWxlLmJhY2tncm91bmRDb2xvciB8fCAnYmxhY2snO1xuICAgICAgICB0aWNrQ29udGFpbmVyLmFwcGVuZCh0aWNrQ2FudmFzKTtcbiAgICAgIH1cbiAgICAgIHZhciBkaW1lbnNpb25zID0gZ2V0U2xpZGVyRGltZW5zaW9ucygpO1xuICAgICAgdGlja0NhbnZhc1swXS53aWR0aCA9IGRpbWVuc2lvbnMud2lkdGg7XG4gICAgICB0aWNrQ2FudmFzWzBdLmhlaWdodCA9IGRpbWVuc2lvbnMuaGVpZ2h0O1xuXG4gICAgICB2YXIgZGlzdGFuY2U7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBudW1TdGVwczsgaSsrKSB7XG4gICAgICAgIGRpc3RhbmNlID0gTWF0aC5mbG9vcihkaW1lbnNpb25zLndpZHRoICogKGkgLyBudW1TdGVwcykpO1xuICAgICAgICB0aWNrQ3R4LmZpbGxSZWN0KGRpc3RhbmNlIC0gMSwgMCwgMiwgZGltZW5zaW9ucy5oZWlnaHQpO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaGluZyBEaW1lbnNpb25zXG4gICAgICovXG4gICAgdmFyIHNsaWRlckRpbWVuc2lvbnMgPSB7fTtcbiAgICByZWZyZXNoU2xpZGVyRGltZW5zaW9ucygpO1xuICAgIGZ1bmN0aW9uIHJlZnJlc2hTbGlkZXJEaW1lbnNpb25zKCkge1xuICAgICAgc2xpZGVyRGltZW5zaW9ucyA9IHRyYWNrQ29udGFpbmVyWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTbGlkZXJEaW1lbnNpb25zKCkge1xuICAgICAgdGhyb3R0bGVkUmVmcmVzaERpbWVuc2lvbnMoKTtcbiAgICAgIHJldHVybiBzbGlkZXJEaW1lbnNpb25zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGxlZnQvcmlnaHQgYXJyb3cgbGlzdGVuZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlkb3duTGlzdGVuZXIoZXYpIHtcbiAgICAgIGlmKGVsZW1lbnRbMF0uaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNoYW5nZUFtb3VudDtcbiAgICAgIGlmIChldi5rZXlDb2RlID09PSAkbWRDb25zdGFudC5LRVlfQ09ERS5MRUZUX0FSUk9XKSB7XG4gICAgICAgIGNoYW5nZUFtb3VudCA9IC1zdGVwO1xuICAgICAgfSBlbHNlIGlmIChldi5rZXlDb2RlID09PSAkbWRDb25zdGFudC5LRVlfQ09ERS5SSUdIVF9BUlJPVykge1xuICAgICAgICBjaGFuZ2VBbW91bnQgPSBzdGVwO1xuICAgICAgfVxuICAgICAgaWYgKGNoYW5nZUFtb3VudCkge1xuICAgICAgICBpZiAoZXYubWV0YUtleSB8fCBldi5jdHJsS2V5IHx8IGV2LmFsdEtleSkge1xuICAgICAgICAgIGNoYW5nZUFtb3VudCAqPSA0O1xuICAgICAgICB9XG4gICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBzY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNldE1vZGVsVmFsdWUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSArIGNoYW5nZUFtb3VudCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIG5nTW9kZWwgc2V0dGVycyBhbmQgdmFsaWRhdG9yc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldE1vZGVsVmFsdWUodmFsdWUpIHtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoIG1pbk1heFZhbGlkYXRvcihzdGVwVmFsaWRhdG9yKHZhbHVlKSkgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbmdNb2RlbFJlbmRlcigpIHtcbiAgICAgIGlmIChpc05hTihuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKSkge1xuICAgICAgICBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlID0gbmdNb2RlbEN0cmwuJG1vZGVsVmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBwZXJjZW50ID0gKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgLSBtaW4pIC8gKG1heCAtIG1pbik7XG4gICAgICBzY29wZS5tb2RlbFZhbHVlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcbiAgICAgIGVsZW1lbnQuYXR0cignYXJpYS12YWx1ZW5vdycsIG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpO1xuICAgICAgc2V0U2xpZGVyUGVyY2VudChwZXJjZW50KTtcbiAgICAgIHRodW1iVGV4dC50ZXh0KCBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWluTWF4VmFsaWRhdG9yKHZhbHVlKSB7XG4gICAgICBpZiAoYW5ndWxhci5pc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCB2YWx1ZSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzdGVwVmFsaWRhdG9yKHZhbHVlKSB7XG4gICAgICBpZiAoYW5ndWxhci5pc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgdmFyIGZvcm1hdHRlZFZhbHVlID0gKE1hdGgucm91bmQodmFsdWUgLyBzdGVwKSAqIHN0ZXApO1xuICAgICAgICAvLyBGb3JtYXQgdG8gMyBkaWdpdHMgYWZ0ZXIgdGhlIGRlY2ltYWwgcG9pbnQgLSBmaXhlcyAjMjAxNS5cbiAgICAgICAgcmV0dXJuIChNYXRoLnJvdW5kKGZvcm1hdHRlZFZhbHVlICogMTAwMCkgLyAxMDAwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcGVyY2VudCAwLTFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRTbGlkZXJQZXJjZW50KHBlcmNlbnQpIHtcbiAgICAgIGFjdGl2ZVRyYWNrLmNzcygnd2lkdGgnLCAocGVyY2VudCAqIDEwMCkgKyAnJScpO1xuICAgICAgdGh1bWJDb250YWluZXIuY3NzKFxuICAgICAgICAnbGVmdCcsXG4gICAgICAgIChwZXJjZW50ICogMTAwKSArICclJ1xuICAgICAgKTtcbiAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ21kLW1pbicsIHBlcmNlbnQgPT09IDApO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogU2xpZGUgbGlzdGVuZXJzXG4gICAgICovXG4gICAgdmFyIGlzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICB2YXIgaXNEaXNjcmV0ZSA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHIubWREaXNjcmV0ZSk7XG5cbiAgICBmdW5jdGlvbiBvblByZXNzRG93bihldikge1xuICAgICAgaWYgKGlzRGlzYWJsZWRHZXR0ZXIoKSkgcmV0dXJuO1xuXG4gICAgICBlbGVtZW50LmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgIGVsZW1lbnRbMF0uZm9jdXMoKTtcbiAgICAgIHJlZnJlc2hTbGlkZXJEaW1lbnNpb25zKCk7XG5cbiAgICAgIHZhciBleGFjdFZhbCA9IHBlcmNlbnRUb1ZhbHVlKCBwb3NpdGlvblRvUGVyY2VudCggZXYucG9pbnRlci54ICkpO1xuICAgICAgdmFyIGNsb3Nlc3RWYWwgPSBtaW5NYXhWYWxpZGF0b3IoIHN0ZXBWYWxpZGF0b3IoZXhhY3RWYWwpICk7XG4gICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldE1vZGVsVmFsdWUoIGNsb3Nlc3RWYWwgKTtcbiAgICAgICAgc2V0U2xpZGVyUGVyY2VudCggdmFsdWVUb1BlcmNlbnQoY2xvc2VzdFZhbCkpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uUHJlc3NVcChldikge1xuICAgICAgaWYgKGlzRGlzYWJsZWRHZXR0ZXIoKSkgcmV0dXJuO1xuXG4gICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdkcmFnZ2luZyBhY3RpdmUnKTtcblxuICAgICAgdmFyIGV4YWN0VmFsID0gcGVyY2VudFRvVmFsdWUoIHBvc2l0aW9uVG9QZXJjZW50KCBldi5wb2ludGVyLnggKSk7XG4gICAgICB2YXIgY2xvc2VzdFZhbCA9IG1pbk1heFZhbGlkYXRvciggc3RlcFZhbGlkYXRvcihleGFjdFZhbCkgKTtcbiAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0TW9kZWxWYWx1ZShjbG9zZXN0VmFsKTtcbiAgICAgICAgbmdNb2RlbFJlbmRlcigpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KGV2KSB7XG4gICAgICBpZiAoaXNEaXNhYmxlZEdldHRlcigpKSByZXR1cm47XG4gICAgICBpc0RyYWdnaW5nID0gdHJ1ZTtcbiAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICBlbGVtZW50LmFkZENsYXNzKCdkcmFnZ2luZycpO1xuICAgICAgc2V0U2xpZGVyRnJvbUV2ZW50KGV2KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25EcmFnKGV2KSB7XG4gICAgICBpZiAoIWlzRHJhZ2dpbmcpIHJldHVybjtcbiAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgc2V0U2xpZGVyRnJvbUV2ZW50KGV2KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25EcmFnRW5kKGV2KSB7XG4gICAgICBpZiAoIWlzRHJhZ2dpbmcpIHJldHVybjtcbiAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgaXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFNsaWRlckZyb21FdmVudChldikge1xuICAgICAgLy8gV2hpbGUgcGFubmluZyBkaXNjcmV0ZSwgdXBkYXRlIG9ubHkgdGhlXG4gICAgICAvLyB2aXN1YWwgcG9zaXRpb25pbmcgYnV0IG5vdCB0aGUgbW9kZWwgdmFsdWUuXG4gICAgICBpZiAoIGlzRGlzY3JldGUgKSBhZGp1c3RUaHVtYlBvc2l0aW9uKCBldi5wb2ludGVyLnggKTtcbiAgICAgIGVsc2UgICAgICAgICAgICAgIGRvU2xpZGUoIGV2LnBvaW50ZXIueCApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNsaWRlIHRoZSBVSSBieSBjaGFuZ2luZyB0aGUgbW9kZWwgdmFsdWVcbiAgICAgKiBAcGFyYW0geFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRvU2xpZGUoIHggKSB7XG4gICAgICBzY29wZS4kZXZhbEFzeW5jKCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0TW9kZWxWYWx1ZSggcGVyY2VudFRvVmFsdWUoIHBvc2l0aW9uVG9QZXJjZW50KHgpICkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2xpZGUgdGhlIFVJIHdpdGhvdXQgY2hhbmdpbmcgdGhlIG1vZGVsICh3aGlsZSBkcmFnZ2luZy9wYW5uaW5nKVxuICAgICAqIEBwYXJhbSB4XG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRqdXN0VGh1bWJQb3NpdGlvbiggeCApIHtcbiAgICAgIHZhciBleGFjdFZhbCA9IHBlcmNlbnRUb1ZhbHVlKCBwb3NpdGlvblRvUGVyY2VudCggeCApKTtcbiAgICAgIHZhciBjbG9zZXN0VmFsID0gbWluTWF4VmFsaWRhdG9yKCBzdGVwVmFsaWRhdG9yKGV4YWN0VmFsKSApO1xuICAgICAgc2V0U2xpZGVyUGVyY2VudCggcG9zaXRpb25Ub1BlcmNlbnQoeCkgKTtcbiAgICAgIHRodW1iVGV4dC50ZXh0KCBjbG9zZXN0VmFsICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBob3Jpem9udGFsIHBvc2l0aW9uIG9uIHNsaWRlciB0byBwZXJjZW50YWdlIHZhbHVlIG9mIG9mZnNldCBmcm9tIGJlZ2lubmluZy4uLlxuICAgICAqIEBwYXJhbSB4XG4gICAgICogQHJldHVybnMge251bWJlcn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwb3NpdGlvblRvUGVyY2VudCggeCApIHtcbiAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCAoeCAtIHNsaWRlckRpbWVuc2lvbnMubGVmdCkgLyAoc2xpZGVyRGltZW5zaW9ucy53aWR0aCkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHBlcmNlbnRhZ2Ugb2Zmc2V0IG9uIHNsaWRlIHRvIGVxdWl2YWxlbnQgbW9kZWwgdmFsdWVcbiAgICAgKiBAcGFyYW0gcGVyY2VudFxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBlcmNlbnRUb1ZhbHVlKCBwZXJjZW50ICkge1xuICAgICAgcmV0dXJuIChtaW4gKyBwZXJjZW50ICogKG1heCAtIG1pbikpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbHVlVG9QZXJjZW50KCB2YWwgKSB7XG4gICAgICByZXR1cm4gKHZhbCAtIG1pbikvKG1heCAtIG1pbik7XG4gICAgfVxuICB9XG59XG5TbGlkZXJEaXJlY3RpdmUuJGluamVjdCA9IFtcIiQkckFGXCIsIFwiJHdpbmRvd1wiLCBcIiRtZEFyaWFcIiwgXCIkbWRVdGlsXCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkbWRUaGVtaW5nXCIsIFwiJG1kR2VzdHVyZVwiLCBcIiRwYXJzZVwiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5zdWJoZWFkZXJcbiAqIEBkZXNjcmlwdGlvblxuICogU3ViSGVhZGVyIG1vZHVsZVxuICpcbiAqICBTdWJoZWFkZXJzIGFyZSBzcGVjaWFsIGxpc3QgdGlsZXMgdGhhdCBkZWxpbmVhdGUgZGlzdGluY3Qgc2VjdGlvbnMgb2YgYVxuICogIGxpc3Qgb3IgZ3JpZCBsaXN0IGFuZCBhcmUgdHlwaWNhbGx5IHJlbGF0ZWQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyaW5nIG9yXG4gKiAgc29ydGluZyBjcml0ZXJpYS4gU3ViaGVhZGVyIHRpbGVzIGFyZSBlaXRoZXIgZGlzcGxheWVkIGlubGluZSB3aXRoIHRpbGVzIG9yXG4gKiAgY2FuIGJlIGFzc29jaWF0ZWQgd2l0aCBjb250ZW50LCBmb3IgZXhhbXBsZSwgaW4gYW4gYWRqYWNlbnQgY29sdW1uLlxuICpcbiAqICBVcG9uIHNjcm9sbGluZywgc3ViaGVhZGVycyByZW1haW4gcGlubmVkIHRvIHRoZSB0b3Agb2YgdGhlIHNjcmVlbiBhbmQgcmVtYWluXG4gKiAgcGlubmVkIHVudGlsIHB1c2hlZCBvbiBvciBvZmYgc2NyZWVuIGJ5IHRoZSBuZXh0IHN1YmhlYWRlci4gQHNlZSBbTWF0ZXJpYWxcbiAqICBEZXNpZ24gU3BlY2lmaWNhdGlvbnNdKGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vZGVzaWduL3NwZWMvY29tcG9uZW50cy9zdWJoZWFkZXJzLmh0bWwpXG4gKlxuICogID4gVG8gaW1wcm92ZSB0aGUgdmlzdWFsIGdyb3VwaW5nIG9mIGNvbnRlbnQsIHVzZSB0aGUgc3lzdGVtIGNvbG9yIGZvciB5b3VyIHN1YmhlYWRlcnMuXG4gKlxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5zdWJoZWFkZXInLCBbXG4gICdtYXRlcmlhbC5jb3JlJyxcbiAgJ21hdGVyaWFsLmNvbXBvbmVudHMuc3RpY2t5J1xuXSlcbiAgLmRpcmVjdGl2ZSgnbWRTdWJoZWFkZXInLCBNZFN1YmhlYWRlckRpcmVjdGl2ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRTdWJoZWFkZXJcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5zdWJoZWFkZXJcbiAqXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGA8bWQtc3ViaGVhZGVyPmAgZGlyZWN0aXZlIGlzIGEgc3ViaGVhZGVyIGZvciBhIHNlY3Rpb24uIEJ5IGRlZmF1bHQgaXQgaXMgc3RpY2t5LlxuICogWW91IGNhbiBtYWtlIGl0IG5vdCBzdGlja3kgYnkgYXBwbHlpbmcgdGhlIGBtZC1uby1zdGlja3lgIGNsYXNzIHRvIHRoZSBzdWJoZWFkZXIuXG4gKlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1zdWJoZWFkZXI+T25saW5lIEZyaWVuZHM8L21kLXN1YmhlYWRlcj5cbiAqIDwvaGxqcz5cbiAqL1xuXG5mdW5jdGlvbiBNZFN1YmhlYWRlckRpcmVjdGl2ZSgkbWRTdGlja3ksICRjb21waWxlLCAkbWRUaGVtaW5nKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgdGVtcGxhdGU6IFxuICAgICAgJzxoMiBjbGFzcz1cIm1kLXN1YmhlYWRlclwiPicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cIm1kLXN1YmhlYWRlci1pbm5lclwiPicgK1xuICAgICAgICAgICc8c3BhbiBjbGFzcz1cIm1kLXN1YmhlYWRlci1jb250ZW50XCI+PC9zcGFuPicgK1xuICAgICAgICAnPC9kaXY+JyArXG4gICAgICAnPC9oMj4nLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIsIHRyYW5zY2x1ZGUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuICAgICAgICB2YXIgb3V0ZXJIVE1MID0gZWxlbWVudFswXS5vdXRlckhUTUw7XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0Q29udGVudChlbCkge1xuICAgICAgICAgIHJldHVybiBhbmd1bGFyLmVsZW1lbnQoZWxbMF0ucXVlcnlTZWxlY3RvcignLm1kLXN1YmhlYWRlci1jb250ZW50JykpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVHJhbnNjbHVkZSB0aGUgdXNlci1naXZlbiBjb250ZW50cyBvZiB0aGUgc3ViaGVhZGVyXG4gICAgICAgIC8vIHRoZSBjb252ZW50aW9uYWwgd2F5LlxuICAgICAgICB0cmFuc2NsdWRlKHNjb3BlLCBmdW5jdGlvbihjbG9uZSkge1xuICAgICAgICAgIGdldENvbnRlbnQoZWxlbWVudCkuYXBwZW5kKGNsb25lKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGFub3RoZXIgY2xvbmUsIHRoYXQgdXNlcyB0aGUgb3V0ZXIgYW5kIGlubmVyIGNvbnRlbnRzXG4gICAgICAgIC8vIG9mIHRoZSBlbGVtZW50LCB0aGF0IHdpbGwgYmUgJ3N0aWNraWVkJyBhcyB0aGUgdXNlciBzY3JvbGxzLlxuICAgICAgICBpZiAoIWVsZW1lbnQuaGFzQ2xhc3MoJ21kLW5vLXN0aWNreScpKSB7XG4gICAgICAgICAgdHJhbnNjbHVkZShzY29wZSwgZnVuY3Rpb24oY2xvbmUpIHtcbiAgICAgICAgICAgIHZhciBzdGlja3lDbG9uZSA9ICRjb21waWxlKGFuZ3VsYXIuZWxlbWVudChvdXRlckhUTUwpKShzY29wZSk7XG4gICAgICAgICAgICBnZXRDb250ZW50KHN0aWNreUNsb25lKS5hcHBlbmQoY2xvbmUpO1xuICAgICAgICAgICAgJG1kU3RpY2t5KHNjb3BlLCBlbGVtZW50LCBzdGlja3lDbG9uZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufVxuTWRTdWJoZWFkZXJEaXJlY3RpdmUuJGluamVjdCA9IFtcIiRtZFN0aWNreVwiLCBcIiRjb21waWxlXCIsIFwiJG1kVGhlbWluZ1wiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnN0aWNreVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogU3RpY2t5IGVmZmVjdHMgZm9yIG1kXG4gKi9cblxuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuc3RpY2t5JywgW1xuICAnbWF0ZXJpYWwuY29yZScsXG4gICdtYXRlcmlhbC5jb21wb25lbnRzLmNvbnRlbnQnXG5dKVxuICAuZmFjdG9yeSgnJG1kU3RpY2t5JywgTWRTdGlja3kpO1xuXG4vKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRtZFN0aWNreVxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnN0aWNreVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGAkbWRTdGlja3lgc2VydmljZSBwcm92aWRlcyBhIG1peGluIHRvIG1ha2UgZWxlbWVudHMgc3RpY2t5LlxuICpcbiAqIEByZXR1cm5zIEEgYCRtZFN0aWNreWAgZnVuY3Rpb24gdGhhdCB0YWtlcyB0aHJlZSBhcmd1bWVudHM6XG4gKiAgIC0gYHNjb3BlYFxuICogICAtIGBlbGVtZW50YDogVGhlIGVsZW1lbnQgdGhhdCB3aWxsIGJlICdzdGlja3knXG4gKiAgIC0gYGVsZW1lbnRDbG9uZWA6IEEgY2xvbmUgb2YgdGhlIGVsZW1lbnQsIHRoYXQgd2lsbCBiZSBzaG93blxuICogICAgIHdoZW4gdGhlIHVzZXIgc3RhcnRzIHNjcm9sbGluZyBwYXN0IHRoZSBvcmlnaW5hbCBlbGVtZW50LlxuICogICAgIElmIG5vdCBwcm92aWRlZCwgaXQgd2lsbCB1c2UgdGhlIHJlc3VsdCBvZiBgZWxlbWVudC5jbG9uZSgpYC5cbiAqL1xuXG5mdW5jdGlvbiBNZFN0aWNreSgkZG9jdW1lbnQsICRtZENvbnN0YW50LCAkY29tcGlsZSwgJCRyQUYsICRtZFV0aWwpIHtcblxuICB2YXIgYnJvd3NlclN0aWNreVN1cHBvcnQgPSBjaGVja1N0aWNreVN1cHBvcnQoKTtcblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGFuIGVsZW1lbnQgYXMgc3RpY2t5LCB1c2VkIGludGVybmFsbHkgYnkgZGlyZWN0aXZlcyB0byByZWdpc3RlciB0aGVtc2VsdmVzXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gcmVnaXN0ZXJTdGlja3lFbGVtZW50KHNjb3BlLCBlbGVtZW50LCBzdGlja3lDbG9uZSkge1xuICAgIHZhciBjb250ZW50Q3RybCA9IGVsZW1lbnQuY29udHJvbGxlcignbWRDb250ZW50Jyk7XG4gICAgaWYgKCFjb250ZW50Q3RybCkgcmV0dXJuO1xuXG4gICAgaWYgKGJyb3dzZXJTdGlja3lTdXBwb3J0KSB7XG4gICAgICBlbGVtZW50LmNzcyh7XG4gICAgICAgIHBvc2l0aW9uOiBicm93c2VyU3RpY2t5U3VwcG9ydCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICAnei1pbmRleCc6IDJcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgJCRzdGlja3kgPSBjb250ZW50Q3RybC4kZWxlbWVudC5kYXRhKCckJHN0aWNreScpO1xuICAgICAgaWYgKCEkJHN0aWNreSkge1xuICAgICAgICAkJHN0aWNreSA9IHNldHVwU3RpY2t5KGNvbnRlbnRDdHJsKTtcbiAgICAgICAgY29udGVudEN0cmwuJGVsZW1lbnQuZGF0YSgnJCRzdGlja3knLCAkJHN0aWNreSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkZXJlZ2lzdGVyID0gJCRzdGlja3kuYWRkKGVsZW1lbnQsIHN0aWNreUNsb25lIHx8IGVsZW1lbnQuY2xvbmUoKSk7XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZGVyZWdpc3Rlcik7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIHNldHVwU3RpY2t5KGNvbnRlbnRDdHJsKSB7XG4gICAgdmFyIGNvbnRlbnRFbCA9IGNvbnRlbnRDdHJsLiRlbGVtZW50O1xuXG4gICAgLy8gUmVmcmVzaCBlbGVtZW50cyBpcyB2ZXJ5IGV4cGVuc2l2ZSwgc28gd2UgdXNlIHRoZSBkZWJvdW5jZWRcbiAgICAvLyB2ZXJzaW9uIHdoZW4gcG9zc2libGUuXG4gICAgdmFyIGRlYm91bmNlZFJlZnJlc2hFbGVtZW50cyA9ICQkckFGLnRocm90dGxlKHJlZnJlc2hFbGVtZW50cyk7XG5cbiAgICAvLyBzZXR1cEF1Z21lbnRlZFNjcm9sbEV2ZW50cyBnaXZlcyB1cyBgJHNjcm9sbHN0YXJ0YCBhbmQgYCRzY3JvbGxgLFxuICAgIC8vIG1vcmUgcmVsaWFibGUgdGhhbiBgc2Nyb2xsYCBvbiBhbmRyb2lkLlxuICAgIHNldHVwQXVnbWVudGVkU2Nyb2xsRXZlbnRzKGNvbnRlbnRFbCk7XG4gICAgY29udGVudEVsLm9uKCckc2Nyb2xsc3RhcnQnLCBkZWJvdW5jZWRSZWZyZXNoRWxlbWVudHMpO1xuICAgIGNvbnRlbnRFbC5vbignJHNjcm9sbCcsIG9uU2Nyb2xsKTtcblxuICAgIHZhciBzZWxmO1xuICAgIHZhciBzdGlja3lCYXNlb2Zmc2V0ID0gY29udGVudEVsLnByb3AoJ29mZnNldFRvcCcpO1xuICAgIHJldHVybiBzZWxmID0ge1xuICAgICAgcHJldjogbnVsbCxcbiAgICAgIGN1cnJlbnQ6IG51bGwsIC8vdGhlIGN1cnJlbnRseSBzdGlja2llZCBpdGVtXG4gICAgICBuZXh0OiBudWxsLFxuICAgICAgaXRlbXM6IFtdLFxuICAgICAgYWRkOiBhZGQsXG4gICAgICByZWZyZXNoRWxlbWVudHM6IHJlZnJlc2hFbGVtZW50c1xuICAgIH07XG5cbiAgICAvKioqKioqKioqKioqKioqXG4gICAgICogUHVibGljXG4gICAgICoqKioqKioqKioqKioqKi9cbiAgICAvLyBBZGQgYW4gZWxlbWVudCBhbmQgaXRzIHN0aWNreSBjbG9uZSB0byB0aGlzIGNvbnRlbnQncyBzdGlja3kgY29sbGVjdGlvblxuICAgIGZ1bmN0aW9uIGFkZChlbGVtZW50LCBzdGlja3lDbG9uZSkge1xuICAgICAgc3RpY2t5Q2xvbmUuYWRkQ2xhc3MoJ21kLXN0aWNreS1jbG9uZScpO1xuICAgICAgc3RpY2t5Q2xvbmUuY3NzKCd0b3AnLCBzdGlja3lCYXNlb2Zmc2V0ICsgJ3B4Jyk7XG5cbiAgICAgIHZhciBpdGVtID0ge1xuICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICBjbG9uZTogc3RpY2t5Q2xvbmVcbiAgICAgIH07XG4gICAgICBzZWxmLml0ZW1zLnB1c2goaXRlbSk7XG5cbiAgICAgIGNvbnRlbnRFbC5wYXJlbnQoKS5wcmVwZW5kKGl0ZW0uY2xvbmUpO1xuXG4gICAgICBkZWJvdW5jZWRSZWZyZXNoRWxlbWVudHMoKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgICAgc2VsZi5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgICAgaWYgKGl0ZW0uZWxlbWVudFswXSA9PT0gZWxlbWVudFswXSkge1xuICAgICAgICAgICAgc2VsZi5pdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgaXRlbS5jbG9uZS5yZW1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBkZWJvdW5jZWRSZWZyZXNoRWxlbWVudHMoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVmcmVzaEVsZW1lbnRzKCkge1xuICAgICAgLy8gU29ydCBvdXIgY29sbGVjdGlvbiBvZiBlbGVtZW50cyBieSB0aGVpciBjdXJyZW50IHBvc2l0aW9uIGluIHRoZSBET00uXG4gICAgICAvLyBXZSBuZWVkIHRvIGRvIHRoaXMgYmVjYXVzZSBvdXIgZWxlbWVudHMnIG9yZGVyIG9mIGJlaW5nIGFkZGVkIG1heSBub3RcbiAgICAgIC8vIGJlIHRoZSBzYW1lIGFzIHRoZWlyIG9yZGVyIG9mIGRpc3BsYXkuXG4gICAgICBzZWxmLml0ZW1zLmZvckVhY2gocmVmcmVzaFBvc2l0aW9uKTtcbiAgICAgIHNlbGYuaXRlbXMgPSBzZWxmLml0ZW1zLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICByZXR1cm4gYS50b3AgPCBiLnRvcCA/IC0xIDogMTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBGaW5kIHdoaWNoIGl0ZW0gaW4gdGhlIGxpc3Qgc2hvdWxkIGJlIGFjdGl2ZSwgXG4gICAgICAvLyBiYXNlZCB1cG9uIHRoZSBjb250ZW50J3MgY3VycmVudCBzY3JvbGwgcG9zaXRpb25cbiAgICAgIHZhciBpdGVtO1xuICAgICAgdmFyIGN1cnJlbnRTY3JvbGxUb3AgPSBjb250ZW50RWwucHJvcCgnc2Nyb2xsVG9wJyk7XG4gICAgICBmb3IgKHZhciBpID0gc2VsZi5pdGVtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBpZiAoY3VycmVudFNjcm9sbFRvcCA+IHNlbGYuaXRlbXNbaV0udG9wKSB7XG4gICAgICAgICAgaXRlbSA9IHNlbGYuaXRlbXNbaV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNldEN1cnJlbnRJdGVtKGl0ZW0pO1xuICAgIH1cblxuXG4gICAgLyoqKioqKioqKioqKioqKlxuICAgICAqIFByaXZhdGVcbiAgICAgKioqKioqKioqKioqKioqL1xuXG4gICAgLy8gRmluZCB0aGUgYHRvcGAgb2YgYW4gaXRlbSByZWxhdGl2ZSB0byB0aGUgY29udGVudCBlbGVtZW50LFxuICAgIC8vIGFuZCBhbHNvIHRoZSBoZWlnaHQuXG4gICAgZnVuY3Rpb24gcmVmcmVzaFBvc2l0aW9uKGl0ZW0pIHtcbiAgICAgIC8vIEZpbmQgdGhlIHRvcCBvZiBhbiBpdGVtIGJ5IGFkZGluZyB0byB0aGUgb2Zmc2V0SGVpZ2h0IHVudGlsIHdlIHJlYWNoIHRoZSBcbiAgICAgIC8vIGNvbnRlbnQgZWxlbWVudC5cbiAgICAgIHZhciBjdXJyZW50ID0gaXRlbS5lbGVtZW50WzBdO1xuICAgICAgaXRlbS50b3AgPSAwO1xuICAgICAgaXRlbS5sZWZ0ID0gMDtcbiAgICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQgIT09IGNvbnRlbnRFbFswXSkge1xuICAgICAgICBpdGVtLnRvcCArPSBjdXJyZW50Lm9mZnNldFRvcDtcbiAgICAgICAgaXRlbS5sZWZ0ICs9IGN1cnJlbnQub2Zmc2V0TGVmdDtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQub2Zmc2V0UGFyZW50O1xuICAgICAgfVxuICAgICAgaXRlbS5oZWlnaHQgPSBpdGVtLmVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0Jyk7XG4gICAgICBpdGVtLmNsb25lLmNzcygnbWFyZ2luLWxlZnQnLCBpdGVtLmxlZnQgKyAncHgnKTtcbiAgICAgIGlmICgkbWRVdGlsLmZsb2F0aW5nU2Nyb2xsYmFycygpKSB7XG4gICAgICAgIGl0ZW0uY2xvbmUuY3NzKCdtYXJnaW4tcmlnaHQnLCAnMCcpO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgLy8gQXMgd2Ugc2Nyb2xsLCBwdXNoIGluIGFuZCBzZWxlY3QgdGhlIGNvcnJlY3Qgc3RpY2t5IGVsZW1lbnQuXG4gICAgZnVuY3Rpb24gb25TY3JvbGwoKSB7XG4gICAgICB2YXIgc2Nyb2xsVG9wID0gY29udGVudEVsLnByb3AoJ3Njcm9sbFRvcCcpO1xuICAgICAgdmFyIGlzU2Nyb2xsaW5nRG93biA9IHNjcm9sbFRvcCA+IChvblNjcm9sbC5wcmV2U2Nyb2xsVG9wIHx8IDApO1xuICAgICAgb25TY3JvbGwucHJldlNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcblxuICAgICAgLy8gQXQgdGhlIHRvcD9cbiAgICAgIGlmIChzY3JvbGxUb3AgPT09IDApIHtcbiAgICAgICAgc2V0Q3VycmVudEl0ZW0obnVsbCk7XG5cbiAgICAgIC8vIEdvaW5nIHRvIG5leHQgaXRlbT9cbiAgICAgIH0gZWxzZSBpZiAoaXNTY3JvbGxpbmdEb3duICYmIHNlbGYubmV4dCkge1xuICAgICAgICBpZiAoc2VsZi5uZXh0LnRvcCAtIHNjcm9sbFRvcCA8PSAwKSB7XG4gICAgICAgICAgLy8gU3RpY2t5IHRoZSBuZXh0IGl0ZW0gaWYgd2UndmUgc2Nyb2xsZWQgcGFzdCBpdHMgcG9zaXRpb24uXG4gICAgICAgICAgc2V0Q3VycmVudEl0ZW0oc2VsZi5uZXh0KTtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLmN1cnJlbnQpIHtcbiAgICAgICAgICAvLyBQdXNoIHRoZSBjdXJyZW50IGl0ZW0gdXAgd2hlbiB3ZSdyZSBhbG1vc3QgYXQgdGhlIG5leHQgaXRlbS5cbiAgICAgICAgICBpZiAoc2VsZi5uZXh0LnRvcCAtIHNjcm9sbFRvcCA8PSBzZWxmLm5leHQuaGVpZ2h0KSB7XG4gICAgICAgICAgICB0cmFuc2xhdGUoc2VsZi5jdXJyZW50LCBzZWxmLm5leHQudG9wIC0gc2VsZi5uZXh0LmhlaWdodCAtIHNjcm9sbFRvcCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zbGF0ZShzZWxmLmN1cnJlbnQsIG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgIC8vIFNjcm9sbGluZyB1cCB3aXRoIGEgY3VycmVudCBzdGlja3kgaXRlbT9cbiAgICAgIH0gZWxzZSBpZiAoIWlzU2Nyb2xsaW5nRG93biAmJiBzZWxmLmN1cnJlbnQpIHtcbiAgICAgICAgaWYgKHNjcm9sbFRvcCA8IHNlbGYuY3VycmVudC50b3ApIHtcbiAgICAgICAgICAvLyBTdGlja3kgdGhlIHByZXZpb3VzIGl0ZW0gaWYgd2UndmUgc2Nyb2xsZWQgdXAgcGFzdFxuICAgICAgICAgIC8vIHRoZSBvcmlnaW5hbCBwb3NpdGlvbiBvZiB0aGUgY3VycmVudGx5IHN0aWNraWVkIGl0ZW0uXG4gICAgICAgICAgc2V0Q3VycmVudEl0ZW0oc2VsZi5wcmV2KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTY3JvbGxpbmcgdXAsIGFuZCBqdXN0IGJ1bXBpbmcgaW50byB0aGUgaXRlbSBhYm92ZSAoanVzdCBzZXQgdG8gY3VycmVudCk/XG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBuZXh0IGl0ZW0gYnVtcGluZyBpbnRvIHRoZSBjdXJyZW50IGl0ZW0sIHRyYW5zbGF0ZVxuICAgICAgICAvLyB0aGUgY3VycmVudCBpdGVtIHVwIGZyb20gdGhlIHRvcCBhcyBpdCBzY3JvbGxzIGludG8gdmlldy5cbiAgICAgICAgaWYgKHNlbGYuY3VycmVudCAmJiBzZWxmLm5leHQpIHtcbiAgICAgICAgICBpZiAoc2Nyb2xsVG9wID49IHNlbGYubmV4dC50b3AgLSBzZWxmLmN1cnJlbnQuaGVpZ2h0KSB7XG4gICAgICAgICAgICB0cmFuc2xhdGUoc2VsZi5jdXJyZW50LCBzZWxmLm5leHQudG9wIC0gc2Nyb2xsVG9wIC0gc2VsZi5jdXJyZW50LmhlaWdodCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zbGF0ZShzZWxmLmN1cnJlbnQsIG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAgXG4gICBmdW5jdGlvbiBzZXRDdXJyZW50SXRlbShpdGVtKSB7XG4gICAgIGlmIChzZWxmLmN1cnJlbnQgPT09IGl0ZW0pIHJldHVybjtcbiAgICAgLy8gRGVhY3RpdmF0ZSBjdXJyZW50bHkgYWN0aXZlIGl0ZW1cbiAgICAgaWYgKHNlbGYuY3VycmVudCkge1xuICAgICAgIHRyYW5zbGF0ZShzZWxmLmN1cnJlbnQsIG51bGwpO1xuICAgICAgIHNldFN0aWNreVN0YXRlKHNlbGYuY3VycmVudCwgbnVsbCk7XG4gICAgIH1cblxuICAgICAvLyBBY3RpdmF0ZSBuZXcgaXRlbSBpZiBnaXZlblxuICAgICBpZiAoaXRlbSkge1xuICAgICAgIHNldFN0aWNreVN0YXRlKGl0ZW0sICdhY3RpdmUnKTtcbiAgICAgfVxuXG4gICAgIHNlbGYuY3VycmVudCA9IGl0ZW07XG4gICAgIHZhciBpbmRleCA9IHNlbGYuaXRlbXMuaW5kZXhPZihpdGVtKTtcbiAgICAgLy8gSWYgaW5kZXggPT09IC0xLCBpbmRleCArIDEgPSAwLiBJdCB3b3JrcyBvdXQuXG4gICAgIHNlbGYubmV4dCA9IHNlbGYuaXRlbXNbaW5kZXggKyAxXTtcbiAgICAgc2VsZi5wcmV2ID0gc2VsZi5pdGVtc1tpbmRleCAtIDFdO1xuICAgICBzZXRTdGlja3lTdGF0ZShzZWxmLm5leHQsICduZXh0Jyk7XG4gICAgIHNldFN0aWNreVN0YXRlKHNlbGYucHJldiwgJ3ByZXYnKTtcbiAgIH1cblxuICAgZnVuY3Rpb24gc2V0U3RpY2t5U3RhdGUoaXRlbSwgc3RhdGUpIHtcbiAgICAgaWYgKCFpdGVtIHx8IGl0ZW0uc3RhdGUgPT09IHN0YXRlKSByZXR1cm47XG4gICAgIGlmIChpdGVtLnN0YXRlKSB7XG4gICAgICAgaXRlbS5jbG9uZS5hdHRyKCdzdGlja3ktcHJldi1zdGF0ZScsIGl0ZW0uc3RhdGUpO1xuICAgICAgIGl0ZW0uZWxlbWVudC5hdHRyKCdzdGlja3ktcHJldi1zdGF0ZScsIGl0ZW0uc3RhdGUpO1xuICAgICB9XG4gICAgIGl0ZW0uY2xvbmUuYXR0cignc3RpY2t5LXN0YXRlJywgc3RhdGUpO1xuICAgICBpdGVtLmVsZW1lbnQuYXR0cignc3RpY2t5LXN0YXRlJywgc3RhdGUpO1xuICAgICBpdGVtLnN0YXRlID0gc3RhdGU7XG4gICB9XG5cbiAgIGZ1bmN0aW9uIHRyYW5zbGF0ZShpdGVtLCBhbW91bnQpIHtcbiAgICAgaWYgKCFpdGVtKSByZXR1cm47XG4gICAgIGlmIChhbW91bnQgPT09IG51bGwgfHwgYW1vdW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICBpZiAoaXRlbS50cmFuc2xhdGVZKSB7XG4gICAgICAgICBpdGVtLnRyYW5zbGF0ZVkgPSBudWxsO1xuICAgICAgICAgaXRlbS5jbG9uZS5jc3MoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STSwgJycpO1xuICAgICAgIH1cbiAgICAgfSBlbHNlIHtcbiAgICAgICBpdGVtLnRyYW5zbGF0ZVkgPSBhbW91bnQ7XG4gICAgICAgaXRlbS5jbG9uZS5jc3MoXG4gICAgICAgICAkbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNLCBcbiAgICAgICAgICd0cmFuc2xhdGUzZCgnICsgaXRlbS5sZWZ0ICsgJ3B4LCcgKyBhbW91bnQgKyAncHgsMCknXG4gICAgICAgKTtcbiAgICAgfVxuICAgfVxuICB9XG5cbiAgLy8gRnVuY3Rpb24gdG8gY2hlY2sgZm9yIGJyb3dzZXIgc3RpY2t5IHN1cHBvcnRcbiAgZnVuY3Rpb24gY2hlY2tTdGlja3lTdXBwb3J0KCRlbCkge1xuICAgIHZhciBzdGlja3lQcm9wO1xuICAgIHZhciB0ZXN0RWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXY+Jyk7XG4gICAgJGRvY3VtZW50WzBdLmJvZHkuYXBwZW5kQ2hpbGQodGVzdEVsWzBdKTtcblxuICAgIHZhciBzdGlja3lQcm9wcyA9IFsnc3RpY2t5JywgJy13ZWJraXQtc3RpY2t5J107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGlja3lQcm9wcy5sZW5ndGg7ICsraSkge1xuICAgICAgdGVzdEVsLmNzcyh7cG9zaXRpb246IHN0aWNreVByb3BzW2ldLCB0b3A6IDAsICd6LWluZGV4JzogMn0pO1xuICAgICAgaWYgKHRlc3RFbC5jc3MoJ3Bvc2l0aW9uJykgPT0gc3RpY2t5UHJvcHNbaV0pIHtcbiAgICAgICAgc3RpY2t5UHJvcCA9IHN0aWNreVByb3BzW2ldO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgdGVzdEVsLnJlbW92ZSgpO1xuICAgIHJldHVybiBzdGlja3lQcm9wO1xuICB9XG5cbiAgLy8gQW5kcm9pZCA0LjQgZG9uJ3QgYWNjdXJhdGVseSBnaXZlIHNjcm9sbCBldmVudHMuXG4gIC8vIFRvIGZpeCB0aGlzIHByb2JsZW0sIHdlIHNldHVwIGEgZmFrZSBzY3JvbGwgZXZlbnQuIFdlIHNheTpcbiAgLy8gPiBJZiBhIHNjcm9sbCBvciB0b3VjaG1vdmUgZXZlbnQgaGFzIGhhcHBlbmVkIGluIHRoZSBsYXN0IERFTEFZIG1pbGxpc2Vjb25kcywgXG4gIC8vICAgdGhlbiBzZW5kIGEgYCRzY3JvbGxgIGV2ZW50IGV2ZXJ5IGFuaW1hdGlvbkZyYW1lLlxuICAvLyBBZGRpdGlvbmFsbHksIHdlIGFkZCAkc2Nyb2xsc3RhcnQgYW5kICRzY3JvbGxlbmQgZXZlbnRzLlxuICBmdW5jdGlvbiBzZXR1cEF1Z21lbnRlZFNjcm9sbEV2ZW50cyhlbGVtZW50KSB7XG4gICAgdmFyIFNDUk9MTF9FTkRfREVMQVkgPSAyMDA7XG4gICAgdmFyIGlzU2Nyb2xsaW5nO1xuICAgIHZhciBsYXN0U2Nyb2xsVGltZTtcbiAgICBlbGVtZW50Lm9uKCdzY3JvbGwgdG91Y2htb3ZlJywgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIWlzU2Nyb2xsaW5nKSB7XG4gICAgICAgIGlzU2Nyb2xsaW5nID0gdHJ1ZTtcbiAgICAgICAgJCRyQUYobG9vcFNjcm9sbEV2ZW50KTtcbiAgICAgICAgZWxlbWVudC50cmlnZ2VySGFuZGxlcignJHNjcm9sbHN0YXJ0Jyk7XG4gICAgICB9XG4gICAgICBlbGVtZW50LnRyaWdnZXJIYW5kbGVyKCckc2Nyb2xsJyk7XG4gICAgICBsYXN0U2Nyb2xsVGltZSA9ICskbWRVdGlsLm5vdygpO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gbG9vcFNjcm9sbEV2ZW50KCkge1xuICAgICAgaWYgKCskbWRVdGlsLm5vdygpIC0gbGFzdFNjcm9sbFRpbWUgPiBTQ1JPTExfRU5EX0RFTEFZKSB7XG4gICAgICAgIGlzU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICAgIGVsZW1lbnQudHJpZ2dlckhhbmRsZXIoJyRzY3JvbGxlbmQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQudHJpZ2dlckhhbmRsZXIoJyRzY3JvbGwnKTtcbiAgICAgICAgJCRyQUYobG9vcFNjcm9sbEV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufVxuTWRTdGlja3kuJGluamVjdCA9IFtcIiRkb2N1bWVudFwiLCBcIiRtZENvbnN0YW50XCIsIFwiJGNvbXBpbGVcIiwgXCIkJHJBRlwiLCBcIiRtZFV0aWxcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMuc3dpcGVcbiAqIEBkZXNjcmlwdGlvbiBTd2lwZSBtb2R1bGUhXG4gKi9cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnN3aXBlXG4gKiBAbmFtZSBtZFN3aXBlTGVmdFxuICpcbiAqIEByZXN0cmljdCBBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgbWQtc3dpcGUtbGVmdCBkaXJlY3RpdmVzIGFsbG93cyB5b3UgdG8gc3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igd2hlbiBhbiBlbGVtZW50IGlzIHN3aXBlZFxuICogbGVmdC5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8ZGl2IG1kLXN3aXBlLWxlZnQ9XCJvblN3aXBlTGVmdCgpXCI+U3dpcGUgbWUgbGVmdCE8L2Rpdj5cbiAqIDwvaGxqcz5cbiAqL1xuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuc3dpcGVcbiAqIEBuYW1lIG1kU3dpcGVSaWdodFxuICpcbiAqIEByZXN0cmljdCBBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgbWQtc3dpcGUtcmlnaHQgZGlyZWN0aXZlcyBhbGxvd3MgeW91IHRvIHNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIHdoZW4gYW4gZWxlbWVudCBpcyBzd2lwZWRcbiAqIHJpZ2h0LlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxkaXYgbWQtc3dpcGUtcmlnaHQ9XCJvblN3aXBlUmlnaHQoKVwiPlN3aXBlIG1lIHJpZ2h0ITwvZGl2PlxuICogPC9obGpzPlxuICovXG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnN3aXBlJywgWydtYXRlcmlhbC5jb3JlJ10pXG4gICAgLmRpcmVjdGl2ZSgnbWRTd2lwZUxlZnQnLCBnZXREaXJlY3RpdmUoJ1N3aXBlTGVmdCcpKVxuICAgIC5kaXJlY3RpdmUoJ21kU3dpcGVSaWdodCcsIGdldERpcmVjdGl2ZSgnU3dpcGVSaWdodCcpKTtcblxuZnVuY3Rpb24gZ2V0RGlyZWN0aXZlKG5hbWUpIHtcbiAgdmFyIGRpcmVjdGl2ZU5hbWUgPSAnbWQnICsgbmFtZTtcbiAgdmFyIGV2ZW50TmFtZSA9ICckbWQuJyArIG5hbWUudG9Mb3dlckNhc2UoKTtcblxuICAgIERpcmVjdGl2ZUZhY3RvcnkuJGluamVjdCA9IFtcIiRwYXJzZVwiXTtcbiAgcmV0dXJuIERpcmVjdGl2ZUZhY3Rvcnk7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIERpcmVjdGl2ZUZhY3RvcnkoJHBhcnNlKSB7XG4gICAgICByZXR1cm4geyByZXN0cmljdDogJ0EnLCBsaW5rOiBwb3N0TGluayB9O1xuICAgICAgZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgdmFyIGZuID0gJHBhcnNlKGF0dHJbZGlyZWN0aXZlTmFtZV0pO1xuICAgICAgICBlbGVtZW50Lm9uKGV2ZW50TmFtZSwgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7IGZuKHNjb3BlLCB7ICRldmVudDogZXYgfSk7IH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG59XG5cblxuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy5zd2l0Y2hcbiAqL1xuXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5zd2l0Y2gnLCBbXG4gICdtYXRlcmlhbC5jb3JlJyxcbiAgJ21hdGVyaWFsLmNvbXBvbmVudHMuY2hlY2tib3gnXG5dKVxuICAuZGlyZWN0aXZlKCdtZFN3aXRjaCcsIE1kU3dpdGNoKTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnN3aXRjaFxuICogQG5hbWUgbWRTd2l0Y2hcbiAqIEByZXN0cmljdCBFXG4gKlxuICogVGhlIHN3aXRjaCBkaXJlY3RpdmUgaXMgdXNlZCB2ZXJ5IG11Y2ggbGlrZSB0aGUgbm9ybWFsIFthbmd1bGFyIGNoZWNrYm94XShodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmcvaW5wdXQvaW5wdXQlNUJjaGVja2JveCU1RCkuXG4gKlxuICogQXMgcGVyIHRoZSBbbWF0ZXJpYWwgZGVzaWduIHNwZWNdKGh0dHA6Ly93d3cuZ29vZ2xlLmNvbS9kZXNpZ24vc3BlYy9zdHlsZS9jb2xvci5odG1sI2NvbG9yLXVpLWNvbG9yLWFwcGxpY2F0aW9uKVxuICogdGhlIHN3aXRjaCBpcyBpbiB0aGUgYWNjZW50IGNvbG9yIGJ5IGRlZmF1bHQuIFRoZSBwcmltYXJ5IGNvbG9yIHBhbGV0dGUgbWF5IGJlIHVzZWQgd2l0aFxuICogdGhlIGBtZC1wcmltYXJ5YCBjbGFzcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmctbW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICogQHBhcmFtIHtleHByZXNzaW9uPX0gbmctdHJ1ZS12YWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIHNlbGVjdGVkLlxuICogQHBhcmFtIHtleHByZXNzaW9uPX0gbmctZmFsc2UtdmFsdWUgVGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBleHByZXNzaW9uIHNob3VsZCBiZSBzZXQgd2hlbiBub3Qgc2VsZWN0ZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nLWNoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1uby1pbmsgVXNlIG9mIGF0dHJpYnV0ZSBpbmRpY2F0ZXMgdXNlIG9mIHJpcHBsZSBpbmsgZWZmZWN0cy5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gYXJpYS1sYWJlbCBQdWJsaXNoIHRoZSBidXR0b24gbGFiZWwgdXNlZCBieSBzY3JlZW4tcmVhZGVycyBmb3IgYWNjZXNzaWJpbGl0eS4gRGVmYXVsdHMgdG8gdGhlIHN3aXRjaCdzIHRleHQuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLXN3aXRjaCBuZy1tb2RlbD1cImlzQWN0aXZlXCIgYXJpYS1sYWJlbD1cIkZpbmlzaGVkP1wiPlxuICogICBGaW5pc2hlZCA/XG4gKiA8L21kLXN3aXRjaD5cbiAqXG4gKiA8bWQtc3dpdGNoIG1kLW5vLWluayBuZy1tb2RlbD1cImhhc0lua1wiIGFyaWEtbGFiZWw9XCJObyBJbmsgRWZmZWN0c1wiPlxuICogICBObyBJbmsgRWZmZWN0c1xuICogPC9tZC1zd2l0Y2g+XG4gKlxuICogPG1kLXN3aXRjaCBuZy1kaXNhYmxlZD1cInRydWVcIiBuZy1tb2RlbD1cImlzRGlzYWJsZWRcIiBhcmlhLWxhYmVsPVwiRGlzYWJsZWRcIj5cbiAqICAgRGlzYWJsZWRcbiAqIDwvbWQtc3dpdGNoPlxuICpcbiAqIDwvaGxqcz5cbiAqL1xuZnVuY3Rpb24gTWRTd2l0Y2gobWRDaGVja2JveERpcmVjdGl2ZSwgJG1kVGhlbWluZywgJG1kVXRpbCwgJGRvY3VtZW50LCAkbWRDb25zdGFudCwgJHBhcnNlLCAkJHJBRiwgJG1kR2VzdHVyZSkge1xuICB2YXIgY2hlY2tib3hEaXJlY3RpdmUgPSBtZENoZWNrYm94RGlyZWN0aXZlWzBdO1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBwcmlvcml0eToyMTAsIC8vIFJ1biBiZWZvcmUgbmdBcmlhXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZTpcbiAgICAgICc8ZGl2IGNsYXNzPVwibWQtY29udGFpbmVyXCI+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwibWQtYmFyXCI+PC9kaXY+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwibWQtdGh1bWItY29udGFpbmVyXCI+JyArXG4gICAgICAgICAgJzxkaXYgY2xhc3M9XCJtZC10aHVtYlwiIG1kLWluay1yaXBwbGUgbWQtaW5rLXJpcHBsZS1jaGVja2JveD48L2Rpdj4nICtcbiAgICAgICAgJzwvZGl2PicrXG4gICAgICAnPC9kaXY+JyArXG4gICAgICAnPGRpdiBuZy10cmFuc2NsdWRlIGNsYXNzPVwibWQtbGFiZWxcIj4nICtcbiAgICAgICc8L2Rpdj4nLFxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgY29tcGlsZTogY29tcGlsZVxuICB9O1xuXG4gIGZ1bmN0aW9uIGNvbXBpbGUoZWxlbWVudCwgYXR0cikge1xuICAgIHZhciBjaGVja2JveExpbmsgPSBjaGVja2JveERpcmVjdGl2ZS5jb21waWxlKGVsZW1lbnQsIGF0dHIpO1xuICAgIC8vIG5vIHRyYW5zaXRpb24gb24gaW5pdGlhbCBsb2FkXG4gICAgZWxlbWVudC5hZGRDbGFzcygnbWQtZHJhZ2dpbmcnKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIG5nTW9kZWwpIHtcbiAgICAgIG5nTW9kZWwgPSBuZ01vZGVsIHx8ICRtZFV0aWwuZmFrZU5nTW9kZWwoKTtcbiAgICAgIHZhciBkaXNhYmxlZEdldHRlciA9ICRwYXJzZShhdHRyLm5nRGlzYWJsZWQpO1xuICAgICAgdmFyIHRodW1iQ29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLXRodW1iLWNvbnRhaW5lcicpKTtcbiAgICAgIHZhciBzd2l0Y2hDb250YWluZXIgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcubWQtY29udGFpbmVyJykpO1xuXG4gICAgICAvLyBubyB0cmFuc2l0aW9uIG9uIGluaXRpYWwgbG9hZFxuICAgICAgJCRyQUYoZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ21kLWRyYWdnaW5nJyk7XG4gICAgICB9KTtcblxuICAgICAgY2hlY2tib3hMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBuZ01vZGVsKTtcblxuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHIubmdEaXNhYmxlZCkpIHtcbiAgICAgICAgc2NvcGUuJHdhdGNoKGRpc2FibGVkR2V0dGVyLCBmdW5jdGlvbihpc0Rpc2FibGVkKSB7XG4gICAgICAgICAgZWxlbWVudC5hdHRyKCd0YWJpbmRleCcsIGlzRGlzYWJsZWQgPyAtMSA6IDApO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlc2UgZXZlbnRzIGFyZSB0cmlnZ2VyZWQgYnkgc2V0dXAgZHJhZ1xuICAgICAgJG1kR2VzdHVyZS5yZWdpc3Rlcihzd2l0Y2hDb250YWluZXIsICdkcmFnJyk7XG4gICAgICBzd2l0Y2hDb250YWluZXJcbiAgICAgICAgLm9uKCckbWQuZHJhZ3N0YXJ0Jywgb25EcmFnU3RhcnQpXG4gICAgICAgIC5vbignJG1kLmRyYWcnLCBvbkRyYWcpXG4gICAgICAgIC5vbignJG1kLmRyYWdlbmQnLCBvbkRyYWdFbmQpO1xuXG4gICAgICB2YXIgZHJhZztcbiAgICAgIGZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KGV2KSB7XG4gICAgICAgIC8vIERvbid0IGdvIGlmIG5nLWRpc2FibGVkPT09dHJ1ZVxuICAgICAgICBpZiAoZGlzYWJsZWRHZXR0ZXIoc2NvcGUpKSByZXR1cm47XG4gICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ21kLWRyYWdnaW5nJyk7XG4gICAgICAgIGRyYWcgPSB7XG4gICAgICAgICAgd2lkdGg6IHRodW1iQ29udGFpbmVyLnByb3AoJ29mZnNldFdpZHRoJylcbiAgICAgICAgfTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygndHJhbnNpdGlvbicpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvbkRyYWcoZXYpIHtcbiAgICAgICAgaWYgKCFkcmFnKSByZXR1cm47XG4gICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBldi5zcmNFdmVudCAmJiBldi5zcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIHZhciBwZXJjZW50ID0gZXYucG9pbnRlci5kaXN0YW5jZVggLyBkcmFnLndpZHRoO1xuXG4gICAgICAgIC8vaWYgY2hlY2tlZCwgc3RhcnQgZnJvbSByaWdodC4gZWxzZSwgc3RhcnQgZnJvbSBsZWZ0XG4gICAgICAgIHZhciB0cmFuc2xhdGUgPSBuZ01vZGVsLiR2aWV3VmFsdWUgPyAgMSArIHBlcmNlbnQgOiBwZXJjZW50O1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIHN3aXRjaCBzdGF5cyBpbnNpZGUgaXRzIGJvdW5kcywgMC0xJVxuICAgICAgICB0cmFuc2xhdGUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCB0cmFuc2xhdGUpKTtcblxuICAgICAgICB0aHVtYkNvbnRhaW5lci5jc3MoJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STSwgJ3RyYW5zbGF0ZTNkKCcgKyAoMTAwKnRyYW5zbGF0ZSkgKyAnJSwwLDApJyk7XG4gICAgICAgIGRyYWcudHJhbnNsYXRlID0gdHJhbnNsYXRlO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvbkRyYWdFbmQoZXYpIHtcbiAgICAgICAgaWYgKCFkcmFnKSByZXR1cm47XG4gICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ21kLWRyYWdnaW5nJyk7XG4gICAgICAgIHRodW1iQ29udGFpbmVyLmNzcygkbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNLCAnJyk7XG5cbiAgICAgICAgLy8gV2UgY2hhbmdlZCBpZiB0aGVyZSBpcyBubyBkaXN0YW5jZSAodGhpcyBpcyBhIGNsaWNrIGEgY2xpY2spLFxuICAgICAgICAvLyBvciBpZiB0aGUgZHJhZyBkaXN0YW5jZSBpcyA+NTAlIG9mIHRoZSB0b3RhbC5cbiAgICAgICAgdmFyIGlzQ2hhbmdlZCA9IG5nTW9kZWwuJHZpZXdWYWx1ZSA/IGRyYWcudHJhbnNsYXRlIDwgMC41IDogZHJhZy50cmFuc2xhdGUgPiAwLjU7XG4gICAgICAgIGlmIChpc0NoYW5nZWQpIHtcbiAgICAgICAgICBhcHBseU1vZGVsVmFsdWUoIW5nTW9kZWwuJHZpZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZHJhZyA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGFwcGx5TW9kZWxWYWx1ZShuZXdWYWx1ZSkge1xuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKG5ld1ZhbHVlKTtcbiAgICAgICAgICBuZ01vZGVsLiRyZW5kZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICB9O1xuICB9XG5cblxufVxuTWRTd2l0Y2guJGluamVjdCA9IFtcIm1kQ2hlY2tib3hEaXJlY3RpdmVcIiwgXCIkbWRUaGVtaW5nXCIsIFwiJG1kVXRpbFwiLCBcIiRkb2N1bWVudFwiLCBcIiRtZENvbnN0YW50XCIsIFwiJHBhcnNlXCIsIFwiJCRyQUZcIiwgXCIkbWRHZXN0dXJlXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnRhYnNcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqICBUYWJzLCBjcmVhdGVkIHdpdGggdGhlIGA8bWQtdGFicz5gIGRpcmVjdGl2ZSBwcm92aWRlICp0YWJiZWQqIG5hdmlnYXRpb24gd2l0aCBkaWZmZXJlbnQgc3R5bGVzLlxuICogIFRoZSBUYWJzIGNvbXBvbmVudCBjb25zaXN0cyBvZiBjbGlja2FibGUgdGFicyB0aGF0IGFyZSBhbGlnbmVkIGhvcml6b250YWxseSBzaWRlLWJ5LXNpZGUuXG4gKlxuICogIEZlYXR1cmVzIGluY2x1ZGUgc3VwcG9ydCBmb3I6XG4gKlxuICogIC0gc3RhdGljIG9yIGR5bmFtaWMgdGFicyxcbiAqICAtIHJlc3BvbnNpdmUgZGVzaWducyxcbiAqICAtIGFjY2Vzc2liaWxpdHkgc3VwcG9ydCAoQVJJQSksXG4gKiAgLSB0YWIgcGFnaW5hdGlvbixcbiAqICAtIGV4dGVybmFsIG9yIGludGVybmFsIHRhYiBjb250ZW50LFxuICogIC0gZm9jdXMgaW5kaWNhdG9ycyBhbmQgYXJyb3cta2V5IG5hdmlnYXRpb25zLFxuICogIC0gcHJvZ3JhbW1hdGljIGxvb2t1cCBhbmQgYWNjZXNzIHRvIHRhYiBjb250cm9sbGVycywgYW5kXG4gKiAgLSBkeW5hbWljIHRyYW5zaXRpb25zIHRocm91Z2ggZGlmZmVyZW50IHRhYiBjb250ZW50cy5cbiAqXG4gKi9cbi8qXG4gKiBAc2VlIGpzIGZvbGRlciBmb3IgdGFicyBpbXBsZW1lbnRhdGlvblxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy50YWJzJywgW1xuICAnbWF0ZXJpYWwuY29yZScsXG4gICdtYXRlcmlhbC5jb21wb25lbnRzLmljb24nXG5dKTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbWF0ZXJpYWwuY29tcG9uZW50cy50b2FzdFxuICogQGRlc2NyaXB0aW9uXG4gKiBUb2FzdFxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy50b2FzdCcsIFtcbiAgJ21hdGVyaWFsLmNvcmUnLFxuICAnbWF0ZXJpYWwuY29tcG9uZW50cy5idXR0b24nXG5dKVxuICAuZGlyZWN0aXZlKCdtZFRvYXN0JywgTWRUb2FzdERpcmVjdGl2ZSlcbiAgLnByb3ZpZGVyKCckbWRUb2FzdCcsIE1kVG9hc3RQcm92aWRlcik7XG5cbmZ1bmN0aW9uIE1kVG9hc3REaXJlY3RpdmUoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJ1xuICB9O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkbWRUb2FzdFxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnRvYXN0XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBgJG1kVG9hc3RgIGlzIGEgc2VydmljZSB0byBidWlsZCBhIHRvYXN0IG5vdGlmaWNhdGlvbiBvbiBhbnkgcG9zaXRpb25cbiAqIG9uIHRoZSBzY3JlZW4gd2l0aCBhbiBvcHRpb25hbCBkdXJhdGlvbiwgYW5kIHByb3ZpZGVzIGEgc2ltcGxlIHByb21pc2UgQVBJLlxuICpcbiAqXG4gKiAjIyBSZXN0cmljdGlvbnMgb24gY3VzdG9tIHRvYXN0c1xuICogLSBUaGUgdG9hc3QncyB0ZW1wbGF0ZSBtdXN0IGhhdmUgYW4gb3V0ZXIgYDxtZC10b2FzdD5gIGVsZW1lbnQuXG4gKiAtIEZvciBhIHRvYXN0IGFjdGlvbiwgdXNlIGVsZW1lbnQgd2l0aCBjbGFzcyBgbWQtYWN0aW9uYC5cbiAqIC0gQWRkIHRoZSBjbGFzcyBgbWQtY2Fwc3VsZWAgZm9yIGN1cnZlZCBjb3JuZXJzLlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxkaXYgbmctY29udHJvbGxlcj1cIk15Q29udHJvbGxlclwiPlxuICogICA8bWQtYnV0dG9uIG5nLWNsaWNrPVwib3BlblRvYXN0KClcIj5cbiAqICAgICBPcGVuIGEgVG9hc3QhXG4gKiAgIDwvbWQtYnV0dG9uPlxuICogPC9kaXY+XG4gKiA8L2hsanM+XG4gKlxuICogPGhsanMgbGFuZz1cImpzXCI+XG4gKiB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsnbmdNYXRlcmlhbCddKTtcbiAqIGFwcC5jb250cm9sbGVyKCdNeUNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUsICRtZFRvYXN0KSB7XG4gKiAgICRzY29wZS5vcGVuVG9hc3QgPSBmdW5jdGlvbigkZXZlbnQpIHtcbiAqICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoJ0hlbGxvIScpKTtcbiAqICAgICAvLyBDb3VsZCBhbHNvIGRvICRtZFRvYXN0LnNob3dTaW1wbGUoJ0hlbGxvJyk7XG4gKiAgIH07XG4gKiB9KTtcbiAqIDwvaGxqcz5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRtZFRvYXN0I3Nob3dTaW1wbGVcbiAqIFxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZW5pZW5jZSBtZXRob2Qgd2hpY2ggYnVpbGRzIGFuZCBzaG93cyBhIHNpbXBsZSB0b2FzdC5cbiAqXG4gKiBAcmV0dXJucyB7cHJvbWlzZX0gQSBwcm9taXNlIHRoYXQgY2FuIGJlIHJlc29sdmVkIHdpdGggYCRtZFRvYXN0LmhpZGUoKWAgb3JcbiAqIHJlamVjdGVkIHdpdGggYCRtZFRvYXN0LmNhbmNlbCgpYC5cbiAqXG4gKi9cblxuIC8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJG1kVG9hc3Qjc2ltcGxlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBCdWlsZHMgYSBwcmVjb25maWd1cmVkIHRvYXN0LlxuICpcbiAqIEByZXR1cm5zIHtvYmp9IGEgYCRtZFRvYXN0UHJlc2V0YCB3aXRoIHRoZSBjaGFpbmFibGUgY29uZmlndXJhdGlvbiBtZXRob2RzOlxuICpcbiAqIC0gJG1kVG9hc3RQcmVzZXQjY29udGVudChzdHJpbmcpIC0gc2V0cyB0b2FzdCBjb250ZW50IHRvIHN0cmluZ1xuICogLSAkbWRUb2FzdFByZXNldCNhY3Rpb24oc3RyaW5nKSAtIGFkZHMgYW4gYWN0aW9uIGJ1dHRvbiwgd2hpY2ggcmVzb2x2ZXMgdGhlIHByb21pc2UgcmV0dXJuZWQgZnJvbSBgc2hvdygpYCBpZiBjbGlja2VkLlxuICogLSAkbWRUb2FzdFByZXNldCNoaWdobGlnaHRBY3Rpb24oYm9vbGVhbikgLSBzZXRzIGFjdGlvbiBidXR0b24gdG8gYmUgaGlnaGxpZ2h0ZWRcbiAqIC0gJG1kVG9hc3RQcmVzZXQjY2Fwc3VsZShib29sZWFuKSAtIGFkZHMgJ21kLWNhcHN1bGUnIGNsYXNzIHRvIHRoZSB0b2FzdCAoY3VydmVkIGNvcm5lcnMpXG4gKiAtICRtZFRvYXN0UHJlc2V0I3RoZW1lKGJvb2xlYW4pIC0gc2V0cyB0aGUgdGhlbWUgb24gdGhlIHRvYXN0IHRvIHRoZW1lIChkZWZhdWx0IGlzIGAkbWRUaGVtaW5nUHJvdmlkZXJgJ3MgZGVmYXVsdCB0aGVtZSlcbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRtZFRvYXN0I3VwZGF0ZUNvbnRlbnRcbiAqIFxuICogQGRlc2NyaXB0aW9uXG4gKiBVcGRhdGVzIHRoZSBjb250ZW50IG9mIGFuIGV4aXN0aW5nIHRvYXN0LiBVc2VmdWwgZm9yIHVwZGF0aW5nIHRoaW5ncyBsaWtlIGNvdW50cywgZXRjLlxuICpcbiAqL1xuXG4gLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWRUb2FzdCNidWlsZFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlcyBhIGN1c3RvbSBgJG1kVG9hc3RQcmVzZXRgIHRoYXQgeW91IGNhbiBjb25maWd1cmUuXG4gKlxuICogQHJldHVybnMge29ian0gYSBgJG1kVG9hc3RQcmVzZXRgIHdpdGggdGhlIGNoYWluYWJsZSBjb25maWd1cmF0aW9uIG1ldGhvZHMgZm9yIHNob3dzJyBvcHRpb25zIChzZWUgYmVsb3cpLlxuICovXG5cbiAvKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRtZFRvYXN0I3Nob3dcbiAqXG4gKiBAZGVzY3JpcHRpb24gU2hvd3MgdGhlIHRvYXN0LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zT3JQcmVzZXQgRWl0aGVyIHByb3ZpZGUgYW4gYCRtZFRvYXN0UHJlc2V0YCByZXR1cm5lZCBmcm9tIGBzaW1wbGUoKWBcbiAqIGFuZCBgYnVpbGQoKWAsIG9yIGFuIG9wdGlvbnMgb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICAgLSBgdGVtcGxhdGVVcmxgIC0gYHtzdHJpbmc9fWA6IFRoZSB1cmwgb2YgYW4gaHRtbCB0ZW1wbGF0ZSBmaWxlIHRoYXQgd2lsbFxuICogICAgIGJlIHVzZWQgYXMgdGhlIGNvbnRlbnQgb2YgdGhlIHRvYXN0LiBSZXN0cmljdGlvbnM6IHRoZSB0ZW1wbGF0ZSBtdXN0XG4gKiAgICAgaGF2ZSBhbiBvdXRlciBgbWQtdG9hc3RgIGVsZW1lbnQuXG4gKiAgIC0gYHRlbXBsYXRlYCAtIGB7c3RyaW5nPX1gOiBTYW1lIGFzIHRlbXBsYXRlVXJsLCBleGNlcHQgdGhpcyBpcyBhbiBhY3R1YWxcbiAqICAgICB0ZW1wbGF0ZSBzdHJpbmcuXG4gKiAgIC0gYHNjb3BlYCAtIGB7b2JqZWN0PX1gOiB0aGUgc2NvcGUgdG8gbGluayB0aGUgdGVtcGxhdGUgLyBjb250cm9sbGVyIHRvLiBJZiBub25lIGlzIHNwZWNpZmllZCwgaXQgd2lsbCBjcmVhdGUgYSBuZXcgY2hpbGQgc2NvcGUuXG4gKiAgICAgVGhpcyBzY29wZSB3aWxsIGJlIGRlc3Ryb3llZCB3aGVuIHRoZSB0b2FzdCBpcyByZW1vdmVkIHVubGVzcyBgcHJlc2VydmVTY29wZWAgaXMgc2V0IHRvIHRydWUuXG4gKiAgIC0gYHByZXNlcnZlU2NvcGVgIC0gYHtib29sZWFuPX1gOiB3aGV0aGVyIHRvIHByZXNlcnZlIHRoZSBzY29wZSB3aGVuIHRoZSBlbGVtZW50IGlzIHJlbW92ZWQuIERlZmF1bHQgaXMgZmFsc2VcbiAqICAgLSBgaGlkZURlbGF5YCAtIGB7bnVtYmVyPX1gOiBIb3cgbWFueSBtaWxsaXNlY29uZHMgdGhlIHRvYXN0IHNob3VsZCBzdGF5XG4gKiAgICAgYWN0aXZlIGJlZm9yZSBhdXRvbWF0aWNhbGx5IGNsb3NpbmcuICBTZXQgdG8gMCBvciBmYWxzZSB0byBoYXZlIHRoZSB0b2FzdCBzdGF5IG9wZW4gdW50aWxcbiAqICAgICBjbG9zZWQgbWFudWFsbHkuIERlZmF1bHQ6IDMwMDAuXG4gKiAgIC0gYHBvc2l0aW9uYCAtIGB7c3RyaW5nPX1gOiBXaGVyZSB0byBwbGFjZSB0aGUgdG9hc3QuIEF2YWlsYWJsZTogYW55IGNvbWJpbmF0aW9uXG4gKiAgICAgb2YgJ2JvdHRvbScsICdsZWZ0JywgJ3RvcCcsICdyaWdodCcsICdmaXQnLiBEZWZhdWx0OiAnYm90dG9tIGxlZnQnLlxuICogICAtIGBjb250cm9sbGVyYCAtIGB7c3RyaW5nPX1gOiBUaGUgY29udHJvbGxlciB0byBhc3NvY2lhdGUgd2l0aCB0aGlzIHRvYXN0LlxuICogICAgIFRoZSBjb250cm9sbGVyIHdpbGwgYmUgaW5qZWN0ZWQgdGhlIGxvY2FsIGAkaGlkZVRvYXN0YCwgd2hpY2ggaXMgYSBmdW5jdGlvblxuICogICAgIHVzZWQgdG8gaGlkZSB0aGUgdG9hc3QuXG4gKiAgIC0gYGxvY2Fsc2AgLSBge3N0cmluZz19YDogQW4gb2JqZWN0IGNvbnRhaW5pbmcga2V5L3ZhbHVlIHBhaXJzLiBUaGUga2V5cyB3aWxsXG4gKiAgICAgYmUgdXNlZCBhcyBuYW1lcyBvZiB2YWx1ZXMgdG8gaW5qZWN0IGludG8gdGhlIGNvbnRyb2xsZXIuIEZvciBleGFtcGxlLFxuICogICAgIGBsb2NhbHM6IHt0aHJlZTogM31gIHdvdWxkIGluamVjdCBgdGhyZWVgIGludG8gdGhlIGNvbnRyb2xsZXIgd2l0aCB0aGUgdmFsdWVcbiAqICAgICBvZiAzLlxuICogICAtIGBiaW5kVG9Db250cm9sbGVyYCAtIGBib29sYDogYmluZCB0aGUgbG9jYWxzIHRvIHRoZSBjb250cm9sbGVyLCBpbnN0ZWFkIG9mIHBhc3NpbmcgdGhlbSBpbi4gVGhlc2UgdmFsdWVzIHdpbGwgbm90IGJlIGF2YWlsYWJsZSB1bnRpbCBhZnRlciBpbml0aWFsaXphdGlvbi5cbiAqICAgLSBgcmVzb2x2ZWAgLSBge29iamVjdD19YDogU2ltaWxhciB0byBsb2NhbHMsIGV4Y2VwdCBpdCB0YWtlcyBwcm9taXNlcyBhcyB2YWx1ZXNcbiAqICAgICBhbmQgdGhlIHRvYXN0IHdpbGwgbm90IG9wZW4gdW50aWwgdGhlIHByb21pc2VzIHJlc29sdmUuXG4gKiAgIC0gYGNvbnRyb2xsZXJBc2AgLSBge3N0cmluZz19YDogQW4gYWxpYXMgdG8gYXNzaWduIHRoZSBjb250cm9sbGVyIHRvIG9uIHRoZSBzY29wZS5cbiAqICAgLSBgcGFyZW50YCAtIGB7ZWxlbWVudD19YDogVGhlIGVsZW1lbnQgdG8gYXBwZW5kIHRoZSB0b2FzdCB0by4gRGVmYXVsdHMgdG8gYXBwZW5kaW5nXG4gKiAgICAgdG8gdGhlIHJvb3QgZWxlbWVudCBvZiB0aGUgYXBwbGljYXRpb24uXG4gKlxuICogQHJldHVybnMge3Byb21pc2V9IEEgcHJvbWlzZSB0aGF0IGNhbiBiZSByZXNvbHZlZCB3aXRoIGAkbWRUb2FzdC5oaWRlKClgIG9yXG4gKiByZWplY3RlZCB3aXRoIGAkbWRUb2FzdC5jYW5jZWwoKWAuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkbWRUb2FzdCNoaWRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIaWRlIGFuIGV4aXN0aW5nIHRvYXN0IGFuZCByZXNvbHZlIHRoZSBwcm9taXNlIHJldHVybmVkIGZyb20gYCRtZFRvYXN0LnNob3coKWAuXG4gKlxuICogQHBhcmFtIHsqPX0gcmVzcG9uc2UgQW4gYXJndW1lbnQgZm9yIHRoZSByZXNvbHZlZCBwcm9taXNlLlxuICpcbiAqIEByZXR1cm5zIHtwcm9taXNlfSBhIHByb21pc2UgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgZXhpc3RpbmcgZWxlbWVudCBpcyByZW1vdmVkIGZyb20gdGhlIERPTVxuICpcbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRtZFRvYXN0I2NhbmNlbFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSGlkZSB0aGUgZXhpc3RpbmcgdG9hc3QgYW5kIHJlamVjdCB0aGUgcHJvbWlzZSByZXR1cm5lZCBmcm9tXG4gKiBgJG1kVG9hc3Quc2hvdygpYC5cbiAqXG4gKiBAcGFyYW0geyo9fSByZXNwb25zZSBBbiBhcmd1bWVudCBmb3IgdGhlIHJlamVjdGVkIHByb21pc2UuXG4gKlxuICogQHJldHVybnMge3Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSBleGlzdGluZyBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4gKlxuICovXG5cbmZ1bmN0aW9uIE1kVG9hc3RQcm92aWRlcigkJGludGVyaW1FbGVtZW50UHJvdmlkZXIpIHtcbiAgdmFyIGFjdGl2ZVRvYXN0Q29udGVudDtcbiAgdmFyICRtZFRvYXN0ID0gJCRpbnRlcmltRWxlbWVudFByb3ZpZGVyKCckbWRUb2FzdCcpXG4gICAgLnNldERlZmF1bHRzKHtcbiAgICAgIG1ldGhvZHM6IFsncG9zaXRpb24nLCAnaGlkZURlbGF5JywgJ2NhcHN1bGUnIF0sXG4gICAgICBvcHRpb25zOiB0b2FzdERlZmF1bHRPcHRpb25zXG4gICAgfSlcbiAgICAuYWRkUHJlc2V0KCdzaW1wbGUnLCB7XG4gICAgICBhcmdPcHRpb246ICdjb250ZW50JyxcbiAgICAgIG1ldGhvZHM6IFsnY29udGVudCcsICdhY3Rpb24nLCAnaGlnaGxpZ2h0QWN0aW9uJywgJ3RoZW1lJywgJ3BhcmVudCddLFxuICAgICAgb3B0aW9uczogLyogQG5nSW5qZWN0ICovIFtcIiRtZFRvYXN0XCIsIFwiJG1kVGhlbWluZ1wiLCBmdW5jdGlvbigkbWRUb2FzdCwgJG1kVGhlbWluZykge1xuICAgICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgICB0ZW1wbGF0ZTogW1xuICAgICAgICAgICAgJzxtZC10b2FzdCBtZC10aGVtZT1cInt7IHRvYXN0LnRoZW1lIH19XCIgbmctY2xhc3M9XCJ7XFwnbWQtY2Fwc3VsZVxcJzogdG9hc3QuY2Fwc3VsZX1cIj4nLFxuICAgICAgICAgICAgICAnPHNwYW4gZmxleD57eyB0b2FzdC5jb250ZW50IH19PC9zcGFuPicsXG4gICAgICAgICAgICAgICc8bWQtYnV0dG9uIGNsYXNzPVwibWQtYWN0aW9uXCIgbmctaWY9XCJ0b2FzdC5hY3Rpb25cIiBuZy1jbGljaz1cInRvYXN0LnJlc29sdmUoKVwiIG5nLWNsYXNzPVwie1xcJ21kLWhpZ2hsaWdodFxcJzogdG9hc3QuaGlnaGxpZ2h0QWN0aW9ufVwiPicsXG4gICAgICAgICAgICAgICAgJ3t7IHRvYXN0LmFjdGlvbiB9fScsXG4gICAgICAgICAgICAgICc8L21kLWJ1dHRvbj4nLFxuICAgICAgICAgICAgJzwvbWQtdG9hc3Q+J1xuICAgICAgICAgIF0uam9pbignJyksXG4gICAgICAgICAgY29udHJvbGxlcjogLyogQG5nSW5qZWN0ICovIFtcIiRzY29wZVwiLCBmdW5jdGlvbiBtZFRvYXN0Q3RybCgkc2NvcGUpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7IHJldHVybiBhY3RpdmVUb2FzdENvbnRlbnQ7IH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZWxmLmNvbnRlbnQgPSBhY3RpdmVUb2FzdENvbnRlbnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAkbWRUb2FzdC5oaWRlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1dLFxuICAgICAgICAgIHRoZW1lOiAkbWRUaGVtaW5nLmRlZmF1bHRUaGVtZSgpLFxuICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3RvYXN0JyxcbiAgICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBvcHRzO1xuICAgICAgfV1cbiAgICB9KVxuICAgIC5hZGRNZXRob2QoJ3VwZGF0ZUNvbnRlbnQnLCBmdW5jdGlvbihuZXdDb250ZW50KSB7XG4gICAgICBhY3RpdmVUb2FzdENvbnRlbnQgPSBuZXdDb250ZW50O1xuICAgIH0pO1xuXG4gIHRvYXN0RGVmYXVsdE9wdGlvbnMuJGluamVjdCA9IFtcIiR0aW1lb3V0XCIsIFwiJGFuaW1hdGVcIiwgXCIkbWRUb2FzdFwiLCBcIiRtZFV0aWxcIl07XG4gICAgcmV0dXJuICRtZFRvYXN0O1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiB0b2FzdERlZmF1bHRPcHRpb25zKCR0aW1lb3V0LCAkYW5pbWF0ZSwgJG1kVG9hc3QsICRtZFV0aWwpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb25TaG93OiBvblNob3csXG4gICAgICBvblJlbW92ZTogb25SZW1vdmUsXG4gICAgICBwb3NpdGlvbjogJ2JvdHRvbSBsZWZ0JyxcbiAgICAgIHRoZW1hYmxlOiB0cnVlLFxuICAgICAgaGlkZURlbGF5OiAzMDAwXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG9uU2hvdyhzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgZWxlbWVudCA9ICRtZFV0aWwuZXh0cmFjdEVsZW1lbnRCeU5hbWUoZWxlbWVudCwgJ21kLXRvYXN0Jyk7XG5cbiAgICAgIC8vICd0b3AgbGVmdCcgLT4gJ21kLXRvcCBtZC1sZWZ0J1xuICAgICAgYWN0aXZlVG9hc3RDb250ZW50ID0gb3B0aW9ucy5jb250ZW50O1xuICAgICAgZWxlbWVudC5hZGRDbGFzcyhvcHRpb25zLnBvc2l0aW9uLnNwbGl0KCcgJykubWFwKGZ1bmN0aW9uKHBvcykge1xuICAgICAgICByZXR1cm4gJ21kLScgKyBwb3M7XG4gICAgICB9KS5qb2luKCcgJykpO1xuICAgICAgb3B0aW9ucy5wYXJlbnQuYWRkQ2xhc3ModG9hc3RPcGVuQ2xhc3Mob3B0aW9ucy5wb3NpdGlvbikpO1xuXG4gICAgICBvcHRpb25zLm9uU3dpcGUgPSBmdW5jdGlvbihldiwgZ2VzdHVyZSkge1xuICAgICAgICAvL0FkZCBzd2lwZWxlZnQvc3dpcGVyaWdodCBjbGFzcyB0byBlbGVtZW50IHNvIGl0IGNhbiBhbmltYXRlIGNvcnJlY3RseVxuICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdtZC0nICsgZXYudHlwZS5yZXBsYWNlKCckbWQuJywnJykpO1xuICAgICAgICAkdGltZW91dCgkbWRUb2FzdC5jYW5jZWwpO1xuICAgICAgfTtcbiAgICAgIGVsZW1lbnQub24oJyRtZC5zd2lwZWxlZnQgJG1kLnN3aXBlcmlnaHQnLCBvcHRpb25zLm9uU3dpcGUpO1xuICAgICAgcmV0dXJuICRhbmltYXRlLmVudGVyKGVsZW1lbnQsIG9wdGlvbnMucGFyZW50KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblJlbW92ZShzY29wZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgZWxlbWVudC5vZmYoJyRtZC5zd2lwZWxlZnQgJG1kLnN3aXBlcmlnaHQnLCBvcHRpb25zLm9uU3dpcGUpO1xuICAgICAgb3B0aW9ucy5wYXJlbnQucmVtb3ZlQ2xhc3ModG9hc3RPcGVuQ2xhc3Mob3B0aW9ucy5wb3NpdGlvbikpO1xuICAgICAgcmV0dXJuICRhbmltYXRlLmxlYXZlKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvYXN0T3BlbkNsYXNzKHBvc2l0aW9uKSB7XG4gICAgICByZXR1cm4gJ21kLXRvYXN0LW9wZW4tJyArXG4gICAgICAgIChwb3NpdGlvbi5pbmRleE9mKCd0b3AnKSA+IC0xID8gJ3RvcCcgOiAnYm90dG9tJyk7XG4gICAgfVxuICB9XG5cbn1cbk1kVG9hc3RQcm92aWRlci4kaW5qZWN0ID0gW1wiJCRpbnRlcmltRWxlbWVudFByb3ZpZGVyXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnRvb2xiYXJcbiAqL1xuYW5ndWxhci5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMudG9vbGJhcicsIFtcbiAgJ21hdGVyaWFsLmNvcmUnLFxuICAnbWF0ZXJpYWwuY29tcG9uZW50cy5jb250ZW50J1xuXSlcbiAgLmRpcmVjdGl2ZSgnbWRUb29sYmFyJywgbWRUb29sYmFyRGlyZWN0aXZlKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZFRvb2xiYXJcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy50b29sYmFyXG4gKiBAcmVzdHJpY3QgRVxuICogQGRlc2NyaXB0aW9uXG4gKiBgbWQtdG9vbGJhcmAgaXMgdXNlZCB0byBwbGFjZSBhIHRvb2xiYXIgaW4geW91ciBhcHAuXG4gKlxuICogVG9vbGJhcnMgYXJlIHVzdWFsbHkgdXNlZCBhYm92ZSBhIGNvbnRlbnQgYXJlYSB0byBkaXNwbGF5IHRoZSB0aXRsZSBvZiB0aGVcbiAqIGN1cnJlbnQgcGFnZSwgYW5kIHNob3cgcmVsZXZhbnQgYWN0aW9uIGJ1dHRvbnMgZm9yIHRoYXQgcGFnZS5cbiAqXG4gKiBZb3UgY2FuIGNoYW5nZSB0aGUgaGVpZ2h0IG9mIHRoZSB0b29sYmFyIGJ5IGFkZGluZyBlaXRoZXIgdGhlXG4gKiBgbWQtbWVkaXVtLXRhbGxgIG9yIGBtZC10YWxsYCBjbGFzcyB0byB0aGUgdG9vbGJhci5cbiAqXG4gKiBAdXNhZ2VcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8ZGl2IGxheW91dD1cImNvbHVtblwiIGxheW91dC1maWxsPlxuICogICA8bWQtdG9vbGJhcj5cbiAqXG4gKiAgICAgPGRpdiBjbGFzcz1cIm1kLXRvb2xiYXItdG9vbHNcIj5cbiAqICAgICAgIDxzcGFuPk15IEFwcCdzIFRpdGxlPC9zcGFuPlxuICpcbiAqICAgICAgIDwhLS0gZmlsbCB1cCB0aGUgc3BhY2UgYmV0d2VlbiBsZWZ0IGFuZCByaWdodCBhcmVhIC0tPlxuICogICAgICAgPHNwYW4gZmxleD48L3NwYW4+XG4gKlxuICogICAgICAgPG1kLWJ1dHRvbj5cbiAqICAgICAgICAgUmlnaHQgQmFyIEJ1dHRvblxuICogICAgICAgPC9tZC1idXR0b24+XG4gKiAgICAgPC9kaXY+XG4gKlxuICogICA8L21kLXRvb2xiYXI+XG4gKiAgIDxtZC1jb250ZW50PlxuICogICAgIEhlbGxvIVxuICogICA8L21kLWNvbnRlbnQ+XG4gKiA8L2Rpdj5cbiAqIDwvaGxqcz5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1zY3JvbGwtc2hyaW5rIFdoZXRoZXIgdGhlIGhlYWRlciBzaG91bGQgc2hyaW5rIGF3YXkgYXNcbiAqIHRoZSB1c2VyIHNjcm9sbHMgZG93biwgYW5kIHJldmVhbCBpdHNlbGYgYXMgdGhlIHVzZXIgc2Nyb2xscyB1cC5cbiAqIE5vdGU6IGZvciBzY3JvbGxTaHJpbmsgdG8gd29yaywgdGhlIHRvb2xiYXIgbXVzdCBiZSBhIHNpYmxpbmcgb2YgYVxuICogYG1kLWNvbnRlbnRgIGVsZW1lbnQsIHBsYWNlZCBiZWZvcmUgaXQuIFNlZSB0aGUgc2Nyb2xsIHNocmluayBkZW1vLlxuICpcbiAqXG4gKiBAcGFyYW0ge251bWJlcj19IG1kLXNocmluay1zcGVlZC1mYWN0b3IgSG93IG11Y2ggdG8gY2hhbmdlIHRoZSBzcGVlZCBvZiB0aGUgdG9vbGJhcidzXG4gKiBzaHJpbmtpbmcgYnkuIEZvciBleGFtcGxlLCBpZiAwLjI1IGlzIGdpdmVuIHRoZW4gdGhlIHRvb2xiYXIgd2lsbCBzaHJpbmtcbiAqIGF0IG9uZSBmb3VydGggdGhlIHJhdGUgYXQgd2hpY2ggdGhlIHVzZXIgc2Nyb2xscyBkb3duLiBEZWZhdWx0IDAuNS5cbiAqL1xuZnVuY3Rpb24gbWRUb29sYmFyRGlyZWN0aXZlKCQkckFGLCAkbWRDb25zdGFudCwgJG1kVXRpbCwgJG1kVGhlbWluZywgJGFuaW1hdGUsICR0aW1lb3V0KSB7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIGNvbnRyb2xsZXI6IGFuZ3VsYXIubm9vcCxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgJG1kVGhlbWluZyhlbGVtZW50KTtcblxuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHIubWRTY3JvbGxTaHJpbmspKSB7XG4gICAgICAgIHNldHVwU2Nyb2xsU2hyaW5rKCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNldHVwU2Nyb2xsU2hyaW5rKCkge1xuICAgICAgICAvLyBDdXJyZW50IFwieVwiIHBvc2l0aW9uIG9mIHNjcm9sbFxuICAgICAgICB2YXIgeSA9IDA7XG4gICAgICAgIC8vIFN0b3JlIHRoZSBsYXN0IHNjcm9sbCB0b3AgcG9zaXRpb25cbiAgICAgICAgdmFyIHByZXZTY3JvbGxUb3AgPSAwO1xuXG4gICAgICAgIHZhciBzaHJpbmtTcGVlZEZhY3RvciA9IGF0dHIubWRTaHJpbmtTcGVlZEZhY3RvciB8fCAwLjU7XG5cbiAgICAgICAgdmFyIHRvb2xiYXJIZWlnaHQ7XG4gICAgICAgIHZhciBjb250ZW50RWxlbWVudDtcblxuICAgICAgICB2YXIgZGVib3VuY2VkQ29udGVudFNjcm9sbCA9ICQkckFGLnRocm90dGxlKG9uQ29udGVudFNjcm9sbCk7XG4gICAgICAgIHZhciBkZWJvdW5jZWRVcGRhdGVIZWlnaHQgPSAkbWRVdGlsLmRlYm91bmNlKHVwZGF0ZVRvb2xiYXJIZWlnaHQsIDUgKiAxMDAwKTtcblxuICAgICAgICAvLyBXYWl0IGZvciAkbWRDb250ZW50TG9hZGVkIGV2ZW50IGZyb20gbWRDb250ZW50IGRpcmVjdGl2ZS5cbiAgICAgICAgLy8gSWYgdGhlIG1kQ29udGVudCBlbGVtZW50IGlzIGEgc2libGluZyBvZiBvdXIgdG9vbGJhciwgaG9vayBpdCB1cFxuICAgICAgICAvLyB0byBzY3JvbGwgZXZlbnRzLlxuICAgICAgICBzY29wZS4kb24oJyRtZENvbnRlbnRMb2FkZWQnLCBvbk1kQ29udGVudExvYWQpO1xuXG4gICAgICAgIGZ1bmN0aW9uIG9uTWRDb250ZW50TG9hZCgkZXZlbnQsIG5ld0NvbnRlbnRFbCkge1xuICAgICAgICAgIC8vIFRvb2xiYXIgYW5kIGNvbnRlbnQgbXVzdCBiZSBzaWJsaW5nc1xuICAgICAgICAgIGlmIChlbGVtZW50LnBhcmVudCgpWzBdID09PSBuZXdDb250ZW50RWwucGFyZW50KClbMF0pIHtcbiAgICAgICAgICAgIC8vIHVuaG9vayBvbGQgY29udGVudCBldmVudCBsaXN0ZW5lciBpZiBleGlzdHNcbiAgICAgICAgICAgIGlmIChjb250ZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICBjb250ZW50RWxlbWVudC5vZmYoJ3Njcm9sbCcsIGRlYm91bmNlZENvbnRlbnRTY3JvbGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZXdDb250ZW50RWwub24oJ3Njcm9sbCcsIGRlYm91bmNlZENvbnRlbnRTY3JvbGwpO1xuICAgICAgICAgICAgbmV3Q29udGVudEVsLmF0dHIoJ3Njcm9sbC1zaHJpbmsnLCAndHJ1ZScpO1xuXG4gICAgICAgICAgICBjb250ZW50RWxlbWVudCA9IG5ld0NvbnRlbnRFbDtcbiAgICAgICAgICAgICQkckFGKHVwZGF0ZVRvb2xiYXJIZWlnaHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVRvb2xiYXJIZWlnaHQoKSB7XG4gICAgICAgICAgdG9vbGJhckhlaWdodCA9IGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0Jyk7XG4gICAgICAgICAgLy8gQWRkIGEgbmVnYXRpdmUgbWFyZ2luLXRvcCB0aGUgc2l6ZSBvZiB0aGUgdG9vbGJhciB0byB0aGUgY29udGVudCBlbC5cbiAgICAgICAgICAvLyBUaGUgY29udGVudCB3aWxsIHN0YXJ0IHRyYW5zZm9ybWVkIGRvd24gdGhlIHRvb2xiYXJIZWlnaHQgYW1vdW50LFxuICAgICAgICAgIC8vIHNvIGV2ZXJ5dGhpbmcgbG9va3Mgbm9ybWFsLlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gQXMgdGhlIHVzZXIgc2Nyb2xscyBkb3duLCB0aGUgY29udGVudCB3aWxsIGJlIHRyYW5zZm9ybWVkIHVwIHNsb3dseVxuICAgICAgICAgIC8vIHRvIHB1dCB0aGUgY29udGVudCB1bmRlcm5lYXRoIHdoZXJlIHRoZSB0b29sYmFyIHdhcy5cbiAgICAgICAgICB2YXIgbWFyZ2luID0gICgtdG9vbGJhckhlaWdodCAqIHNocmlua1NwZWVkRmFjdG9yKSArICdweCc7XG4gICAgICAgICAgY29udGVudEVsZW1lbnQuY3NzKCdtYXJnaW4tdG9wJywgbWFyZ2luKTtcbiAgICAgICAgICBjb250ZW50RWxlbWVudC5jc3MoJ21hcmdpbi1ib3R0b20nLCBtYXJnaW4pO1xuXG4gICAgICAgICAgb25Db250ZW50U2Nyb2xsKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvbkNvbnRlbnRTY3JvbGwoZSkge1xuICAgICAgICAgIHZhciBzY3JvbGxUb3AgPSBlID8gZS50YXJnZXQuc2Nyb2xsVG9wIDogcHJldlNjcm9sbFRvcDtcblxuICAgICAgICAgIGRlYm91bmNlZFVwZGF0ZUhlaWdodCgpO1xuXG4gICAgICAgICAgeSA9IE1hdGgubWluKFxuICAgICAgICAgICAgdG9vbGJhckhlaWdodCAvIHNocmlua1NwZWVkRmFjdG9yLFxuICAgICAgICAgICAgTWF0aC5tYXgoMCwgeSArIHNjcm9sbFRvcCAtIHByZXZTY3JvbGxUb3ApXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGVsZW1lbnQuY3NzKFxuICAgICAgICAgICAgJG1kQ29uc3RhbnQuQ1NTLlRSQU5TRk9STSxcbiAgICAgICAgICAgICd0cmFuc2xhdGUzZCgwLCcgKyAoLXkgKiBzaHJpbmtTcGVlZEZhY3RvcikgKyAncHgsMCknXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb250ZW50RWxlbWVudC5jc3MoXG4gICAgICAgICAgICAkbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNLFxuICAgICAgICAgICAgJ3RyYW5zbGF0ZTNkKDAsJyArICgodG9vbGJhckhlaWdodCAtIHkpICogc2hyaW5rU3BlZWRGYWN0b3IpICsgJ3B4LDApJ1xuICAgICAgICAgICk7XG5cbiAgICAgICAgICBwcmV2U2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5oYXNDbGFzcygnbWQtd2hpdGVmcmFtZS16MScpKSB7XG4gICAgICAgICAgICAgIGlmICgheSkge1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHsgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgJ21kLXdoaXRlZnJhbWUtejEnKTsgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICh5KSB7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkgeyAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCAnbWQtd2hpdGVmcmFtZS16MScpOyB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgIH1cbiAgfTtcblxufVxubWRUb29sYmFyRGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkJHJBRlwiLCBcIiRtZENvbnN0YW50XCIsIFwiJG1kVXRpbFwiLCBcIiRtZFRoZW1pbmdcIiwgXCIkYW5pbWF0ZVwiLCBcIiR0aW1lb3V0XCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgbW9kdWxlXG4gKiBAbmFtZSBtYXRlcmlhbC5jb21wb25lbnRzLnRvb2x0aXBcbiAqL1xuYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMudG9vbHRpcCcsIFsgJ21hdGVyaWFsLmNvcmUnIF0pXG4gICAgLmRpcmVjdGl2ZSgnbWRUb29sdGlwJywgTWRUb29sdGlwRGlyZWN0aXZlKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZFRvb2x0aXBcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy50b29sdGlwXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRvb2x0aXBzIGFyZSB1c2VkIHRvIGRlc2NyaWJlIGVsZW1lbnRzIHRoYXQgYXJlIGludGVyYWN0aXZlIGFuZCBwcmltYXJpbHkgZ3JhcGhpY2FsIChub3QgdGV4dHVhbCkuXG4gKlxuICogUGxhY2UgYSBgPG1kLXRvb2x0aXA+YCBhcyBhIGNoaWxkIG9mIHRoZSBlbGVtZW50IGl0IGRlc2NyaWJlcy5cbiAqXG4gKiBBIHRvb2x0aXAgd2lsbCBhY3RpdmF0ZSB3aGVuIHRoZSB1c2VyIGZvY3VzZXMsIGhvdmVycyBvdmVyLCBvciB0b3VjaGVzIHRoZSBwYXJlbnQuXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLWJ1dHRvbiBjbGFzcz1cIm1kLWZhYiBtZC1hY2NlbnRcIiBhcmlhLWxhYmVsPVwiUGxheVwiPlxuICogICA8bWQtdG9vbHRpcD5cbiAqICAgICBQbGF5IE11c2ljXG4gKiAgIDwvbWQtdG9vbHRpcD5cbiAqICAgPG1kLWljb24gaWNvbj1cImltZy9pY29ucy9pY19wbGF5X2Fycm93XzI0cHguc3ZnXCI+PC9tZC1pY29uPlxuICogPC9tZC1idXR0b24+XG4gKiA8L2hsanM+XG4gKlxuICogQHBhcmFtIHtleHByZXNzaW9uPX0gbWQtdmlzaWJsZSBCb29sZWFuIGJvdW5kIHRvIHdoZXRoZXIgdGhlIHRvb2x0aXAgaXNcbiAqIGN1cnJlbnRseSB2aXNpYmxlLlxuICogQHBhcmFtIHtudW1iZXI9fSBtZC1kZWxheSBIb3cgbWFueSBtaWxsaXNlY29uZHMgdG8gd2FpdCB0byBzaG93IHRoZSB0b29sdGlwIGFmdGVyIHRoZSB1c2VyIGZvY3VzZXMsIGhvdmVycywgb3IgdG91Y2hlcyB0aGUgcGFyZW50LiBEZWZhdWx0cyB0byA0MDBtcy5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWQtZGlyZWN0aW9uIFdoaWNoIGRpcmVjdGlvbiB3b3VsZCB5b3UgbGlrZSB0aGUgdG9vbHRpcCB0byBnbz8gIFN1cHBvcnRzIGxlZnQsIHJpZ2h0LCB0b3AsIGFuZCBib3R0b20uICBEZWZhdWx0cyB0byBib3R0b20uXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1hdXRvaGlkZSBJZiBwcmVzZW50IG9yIHByb3ZpZGVkIHdpdGggYSBib29sZWFuIHZhbHVlLCB0aGUgdG9vbHRpcCB3aWxsIGhpZGUgb24gbW91c2UgbGVhdmUsIHJlZ2FyZGxlc3Mgb2YgZm9jdXNcbiAqL1xuZnVuY3Rpb24gTWRUb29sdGlwRGlyZWN0aXZlKCR0aW1lb3V0LCAkd2luZG93LCAkJHJBRiwgJGRvY3VtZW50LCAkbWRVdGlsLCAkbWRUaGVtaW5nLCAkcm9vdEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGFuaW1hdGUsICRxKSB7XG5cbiAgdmFyIFRPT0xUSVBfU0hPV19ERUxBWSA9IDMwMDtcbiAgdmFyIFRPT0xUSVBfV0lORE9XX0VER0VfU1BBQ0UgPSA4O1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHByaW9yaXR5OjIxMCwgLy8gQmVmb3JlIG5nQXJpYVxuICAgIHRlbXBsYXRlOiAnXFxcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1kLWJhY2tncm91bmRcIj48L2Rpdj5cXFxuICAgICAgICA8ZGl2IGNsYXNzPVwibWQtY29udGVudFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+JyxcbiAgICBzY29wZToge1xuICAgICAgdmlzaWJsZTogJz0/bWRWaXNpYmxlJyxcbiAgICAgIGRlbGF5OiAnPT9tZERlbGF5JyxcbiAgICAgIGF1dG9oaWRlOiAnPT9tZEF1dG9oaWRlJ1xuICAgIH0sXG4gICAgbGluazogcG9zdExpbmtcbiAgfTtcblxuICBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xuXG4gICAgJG1kVGhlbWluZyhlbGVtZW50KTtcblxuICAgIHZhciBwYXJlbnQgICAgICAgID0gZ2V0UGFyZW50V2l0aFBvaW50ZXJFdmVudHMoKSxcbiAgICAgICAgYmFja2dyb3VuZCAgICA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50WzBdLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21kLWJhY2tncm91bmQnKVswXSksXG4gICAgICAgIGNvbnRlbnQgICAgICAgPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudFswXS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtZC1jb250ZW50JylbMF0pLFxuICAgICAgICBkaXJlY3Rpb24gICAgID0gYXR0ci5tZERpcmVjdGlvbixcbiAgICAgICAgY3VycmVudCAgICAgICA9IGdldE5lYXJlc3RDb250ZW50RWxlbWVudCgpLFxuICAgICAgICB0b29sdGlwUGFyZW50ID0gYW5ndWxhci5lbGVtZW50KGN1cnJlbnQgfHwgZG9jdW1lbnQuYm9keSksXG4gICAgICAgIGRlYm91bmNlZE9uUmVzaXplID0gJCRyQUYudGhyb3R0bGUoZnVuY3Rpb24gKCkgeyBpZiAoc2NvcGUudmlzaWJsZSkgcG9zaXRpb25Ub29sdGlwKCk7IH0pO1xuXG4gICAgcmV0dXJuIGluaXQoKTtcblxuICAgIGZ1bmN0aW9uIGluaXQgKCkge1xuICAgICAgc2V0RGVmYXVsdHMoKTtcbiAgICAgIG1hbmlwdWxhdGVFbGVtZW50KCk7XG4gICAgICBiaW5kRXZlbnRzKCk7XG4gICAgICBjb25maWd1cmVXYXRjaGVycygpO1xuICAgICAgYWRkQXJpYUxhYmVsKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0RGVmYXVsdHMgKCkge1xuICAgICAgaWYgKCFhbmd1bGFyLmlzRGVmaW5lZChhdHRyLm1kRGVsYXkpKSBzY29wZS5kZWxheSA9IFRPT0xUSVBfU0hPV19ERUxBWTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25maWd1cmVXYXRjaGVycyAoKSB7XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNjb3BlLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZigncmVzaXplJywgZGVib3VuY2VkT25SZXNpemUpO1xuICAgICAgfSk7XG4gICAgICBzY29wZS4kd2F0Y2goJ3Zpc2libGUnLCBmdW5jdGlvbiAoaXNWaXNpYmxlKSB7XG4gICAgICAgIGlmIChpc1Zpc2libGUpIHNob3dUb29sdGlwKCk7XG4gICAgICAgIGVsc2UgaGlkZVRvb2x0aXAoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZEFyaWFMYWJlbCAoKSB7XG4gICAgICBpZiAoIXBhcmVudC5hdHRyKCdhcmlhLWxhYmVsJykgJiYgIXBhcmVudC50ZXh0KCkudHJpbSgpKSB7XG4gICAgICAgIHBhcmVudC5hdHRyKCdhcmlhLWxhYmVsJywgZWxlbWVudC50ZXh0KCkudHJpbSgpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYW5pcHVsYXRlRWxlbWVudCAoKSB7XG4gICAgICBlbGVtZW50LmRldGFjaCgpO1xuICAgICAgZWxlbWVudC5hdHRyKCdyb2xlJywgJ3Rvb2x0aXAnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQYXJlbnRXaXRoUG9pbnRlckV2ZW50cyAoKSB7XG4gICAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnQoKTtcbiAgICAgIHdoaWxlIChwYXJlbnQgJiYgJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHBhcmVudFswXSlbJ3BvaW50ZXItZXZlbnRzJ10gPT0gJ25vbmUnKSB7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgfVxuXG4gICAgIGZ1bmN0aW9uIGdldE5lYXJlc3RDb250ZW50RWxlbWVudCAoKSB7XG4gICAgICAgdmFyIGN1cnJlbnQgPSBlbGVtZW50LnBhcmVudCgpWzBdO1xuICAgICAgIC8vIExvb2sgZm9yIHRoZSBuZWFyZXN0IHBhcmVudCBtZC1jb250ZW50LCBzdG9wcGluZyBhdCB0aGUgcm9vdEVsZW1lbnQuXG4gICAgICAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudCAhPT0gJHJvb3RFbGVtZW50WzBdICYmIGN1cnJlbnQgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudE5vZGU7XG4gICAgICAgfVxuICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICB9XG5cbiAgICBmdW5jdGlvbiBoYXNDb21wdXRlZFN0eWxlVmFsdWUoa2V5LCB2YWx1ZSkge1xuICAgICAgICAvLyBDaGVjayBpZiB3ZSBzaG91bGQgc2hvdyBpdCBvciBub3QuLi5cbiAgICAgICAgdmFyIGNvbXB1dGVkU3R5bGVzID0gJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnRbMF0pO1xuICAgICAgICByZXR1cm4gYW5ndWxhci5pc0RlZmluZWQoY29tcHV0ZWRTdHlsZXNba2V5XSkgJiYgKGNvbXB1dGVkU3R5bGVzW2tleV0gPT0gdmFsdWUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJpbmRFdmVudHMgKCkge1xuICAgICAgdmFyIG1vdXNlQWN0aXZlID0gZmFsc2U7XG4gICAgICB2YXIgZW50ZXJIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghaGFzQ29tcHV0ZWRTdHlsZVZhbHVlKCdwb2ludGVyLWV2ZW50cycsJ25vbmUnKSkge1xuICAgICAgICAgIHNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB2YXIgbGVhdmVIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXV0b2hpZGUgPSBzY29wZS5oYXNPd25Qcm9wZXJ0eSgnYXV0b2hpZGUnKSA/IHNjb3BlLmF1dG9oaWRlIDogYXR0ci5oYXNPd25Qcm9wZXJ0eSgnbWRBdXRvaGlkZScpO1xuICAgICAgICBpZiAoYXV0b2hpZGUgfHwgbW91c2VBY3RpdmUgfHwgKCRkb2N1bWVudFswXS5hY3RpdmVFbGVtZW50ICE9PSBwYXJlbnRbMF0pICkge1xuICAgICAgICAgIHNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIG1vdXNlQWN0aXZlID0gZmFsc2U7XG4gICAgICB9O1xuXG4gICAgICAvLyB0byBhdm9pZCBgc3ludGhldGljIGNsaWNrc2Agd2UgbGlzdGVuIHRvIG1vdXNlZG93biBpbnN0ZWFkIG9mIGBjbGlja2BcbiAgICAgIHBhcmVudC5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oKSB7IG1vdXNlQWN0aXZlID0gdHJ1ZTsgfSk7XG4gICAgICBwYXJlbnQub24oJ2ZvY3VzIG1vdXNlZW50ZXIgdG91Y2hzdGFydCcsIGVudGVySGFuZGxlciApO1xuICAgICAgcGFyZW50Lm9uKCdibHVyIG1vdXNlbGVhdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwnLCBsZWF2ZUhhbmRsZXIgKTtcblxuXG4gICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub24oJ3Jlc2l6ZScsIGRlYm91bmNlZE9uUmVzaXplKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRWaXNpYmxlICh2YWx1ZSkge1xuICAgICAgc2V0VmlzaWJsZS52YWx1ZSA9ICEhdmFsdWU7XG4gICAgICBpZiAoIXNldFZpc2libGUucXVldWVkKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHNldFZpc2libGUucXVldWVkID0gdHJ1ZTtcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNjb3BlLnZpc2libGUgPSBzZXRWaXNpYmxlLnZhbHVlO1xuICAgICAgICAgICAgc2V0VmlzaWJsZS5xdWV1ZWQgPSBmYWxzZTtcbiAgICAgICAgICB9LCBzY29wZS5kZWxheSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7IHNjb3BlLnZpc2libGUgPSBmYWxzZTsgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaG93VG9vbHRpcCgpIHtcbiAgICAgIC8vIEluc2VydCB0aGUgZWxlbWVudCBiZWZvcmUgcG9zaXRpb25pbmcgaXQsIHNvIHdlIGNhbiBnZXQgdGhlIHBvc2l0aW9uXG4gICAgICAvLyBhbmQgY2hlY2sgaWYgd2Ugc2hvdWxkIGRpc3BsYXkgaXRcbiAgICAgIHRvb2x0aXBQYXJlbnQuYXBwZW5kKGVsZW1lbnQpO1xuXG4gICAgICAvLyBDaGVjayBpZiB3ZSBzaG91bGQgZGlzcGxheSBpdCBvciBub3QuXG4gICAgICAvLyBUaGlzIGhhbmRsZXMgaGlkZS0qIGFuZCBzaG93LSogYWxvbmcgd2l0aCBhbnkgdXNlciBkZWZpbmVkIGNzc1xuICAgICAgaWYgKCBoYXNDb21wdXRlZFN0eWxlVmFsdWUoJ2Rpc3BsYXknLCdub25lJykgKSB7XG4gICAgICAgIHNjb3BlLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgZWxlbWVudC5kZXRhY2goKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBwb3NpdGlvblRvb2x0aXAoKTtcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChbZWxlbWVudCwgYmFja2dyb3VuZCwgY29udGVudF0sIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsICdtZC1zaG93Jyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoaWRlVG9vbHRpcCgpIHtcbiAgICAgICRxLmFsbChbXG4gICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGNvbnRlbnQsICdtZC1zaG93JyksXG4gICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGJhY2tncm91bmQsICdtZC1zaG93JyksXG4gICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsICdtZC1zaG93JylcbiAgICAgIF0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXNjb3BlLnZpc2libGUpIGVsZW1lbnQuZGV0YWNoKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwb3NpdGlvblRvb2x0aXAoKSB7XG4gICAgICB2YXIgdGlwUmVjdCA9ICRtZFV0aWwub2Zmc2V0UmVjdChlbGVtZW50LCB0b29sdGlwUGFyZW50KTtcbiAgICAgIHZhciBwYXJlbnRSZWN0ID0gJG1kVXRpbC5vZmZzZXRSZWN0KHBhcmVudCwgdG9vbHRpcFBhcmVudCk7XG4gICAgICB2YXIgbmV3UG9zaXRpb24gPSBnZXRQb3NpdGlvbihkaXJlY3Rpb24pO1xuXG4gICAgICAvLyBJZiB0aGUgdXNlciBwcm92aWRlZCBhIGRpcmVjdGlvbiwganVzdCBudWRnZSB0aGUgdG9vbHRpcCBvbnRvIHRoZSBzY3JlZW5cbiAgICAgIC8vIE90aGVyd2lzZSwgcmVjYWxjdWxhdGUgYmFzZWQgb24gJ3RvcCcgc2luY2UgZGVmYXVsdCBpcyAnYm90dG9tJ1xuICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICBuZXdQb3NpdGlvbiA9IGZpdEluUGFyZW50KG5ld1Bvc2l0aW9uKTtcbiAgICAgIH0gZWxzZSBpZiAobmV3UG9zaXRpb24udG9wID4gZWxlbWVudC5wcm9wKCdvZmZzZXRQYXJlbnQnKS5zY3JvbGxIZWlnaHQgLSB0aXBSZWN0LmhlaWdodCAtIFRPT0xUSVBfV0lORE9XX0VER0VfU1BBQ0UpIHtcbiAgICAgICAgbmV3UG9zaXRpb24gPSBmaXRJblBhcmVudChnZXRQb3NpdGlvbigndG9wJykpO1xuICAgICAgfVxuXG4gICAgICBlbGVtZW50LmNzcyh7dG9wOiBuZXdQb3NpdGlvbi50b3AgKyAncHgnLCBsZWZ0OiBuZXdQb3NpdGlvbi5sZWZ0ICsgJ3B4J30pO1xuXG4gICAgICBwb3NpdGlvbkJhY2tncm91bmQoKTtcblxuICAgICAgZnVuY3Rpb24gcG9zaXRpb25CYWNrZ3JvdW5kICgpIHtcbiAgICAgICAgdmFyIHNpemUgPSBkaXJlY3Rpb24gPT09ICdsZWZ0JyB8fCBkaXJlY3Rpb24gPT09ICdyaWdodCdcbiAgICAgICAgICAgICAgPyBNYXRoLnNxcnQoTWF0aC5wb3codGlwUmVjdC53aWR0aCwgMikgKyBNYXRoLnBvdyh0aXBSZWN0LmhlaWdodCAvIDIsIDIpKSAqIDJcbiAgICAgICAgICAgICAgOiBNYXRoLnNxcnQoTWF0aC5wb3codGlwUmVjdC53aWR0aCAvIDIsIDIpICsgTWF0aC5wb3codGlwUmVjdC5oZWlnaHQsIDIpKSAqIDIsXG4gICAgICAgICAgICBwb3NpdGlvbiA9IGRpcmVjdGlvbiA9PT0gJ2xlZnQnID8geyBsZWZ0OiAxMDAsIHRvcDogNTAgfVxuICAgICAgICAgICAgICA6IGRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyA/IHsgbGVmdDogMCwgdG9wOiA1MCB9XG4gICAgICAgICAgICAgIDogZGlyZWN0aW9uID09PSAndG9wJyA/IHsgbGVmdDogNTAsIHRvcDogMTAwIH1cbiAgICAgICAgICAgICAgOiB7IGxlZnQ6IDUwLCB0b3A6IDAgfTtcbiAgICAgICAgYmFja2dyb3VuZC5jc3Moe1xuICAgICAgICAgIHdpZHRoOiBzaXplICsgJ3B4JyxcbiAgICAgICAgICBoZWlnaHQ6IHNpemUgKyAncHgnLFxuICAgICAgICAgIGxlZnQ6IHBvc2l0aW9uLmxlZnQgKyAnJScsXG4gICAgICAgICAgdG9wOiBwb3NpdGlvbi50b3AgKyAnJSdcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZpdEluUGFyZW50IChwb3MpIHtcbiAgICAgICAgdmFyIG5ld1Bvc2l0aW9uID0geyBsZWZ0OiBwb3MubGVmdCwgdG9wOiBwb3MudG9wIH07XG4gICAgICAgIG5ld1Bvc2l0aW9uLmxlZnQgPSBNYXRoLm1pbiggbmV3UG9zaXRpb24ubGVmdCwgdG9vbHRpcFBhcmVudC5wcm9wKCdzY3JvbGxXaWR0aCcpIC0gdGlwUmVjdC53aWR0aCAtIFRPT0xUSVBfV0lORE9XX0VER0VfU1BBQ0UgKTtcbiAgICAgICAgbmV3UG9zaXRpb24ubGVmdCA9IE1hdGgubWF4KCBuZXdQb3NpdGlvbi5sZWZ0LCBUT09MVElQX1dJTkRPV19FREdFX1NQQUNFICk7XG4gICAgICAgIG5ld1Bvc2l0aW9uLnRvcCAgPSBNYXRoLm1pbiggbmV3UG9zaXRpb24udG9wLCAgdG9vbHRpcFBhcmVudC5wcm9wKCdzY3JvbGxIZWlnaHQnKSAtIHRpcFJlY3QuaGVpZ2h0IC0gVE9PTFRJUF9XSU5ET1dfRURHRV9TUEFDRSApO1xuICAgICAgICBuZXdQb3NpdGlvbi50b3AgID0gTWF0aC5tYXgoIG5ld1Bvc2l0aW9uLnRvcCwgIFRPT0xUSVBfV0lORE9XX0VER0VfU1BBQ0UgKTtcbiAgICAgICAgcmV0dXJuIG5ld1Bvc2l0aW9uO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRQb3NpdGlvbiAoZGlyKSB7XG4gICAgICAgIHJldHVybiBkaXIgPT09ICdsZWZ0J1xuICAgICAgICAgID8geyBsZWZ0OiBwYXJlbnRSZWN0LmxlZnQgLSB0aXBSZWN0LndpZHRoIC0gVE9PTFRJUF9XSU5ET1dfRURHRV9TUEFDRSxcbiAgICAgICAgICAgICAgdG9wOiBwYXJlbnRSZWN0LnRvcCArIHBhcmVudFJlY3QuaGVpZ2h0IC8gMiAtIHRpcFJlY3QuaGVpZ2h0IC8gMiB9XG4gICAgICAgICAgOiBkaXIgPT09ICdyaWdodCdcbiAgICAgICAgICA/IHsgbGVmdDogcGFyZW50UmVjdC5sZWZ0ICsgcGFyZW50UmVjdC53aWR0aCArIFRPT0xUSVBfV0lORE9XX0VER0VfU1BBQ0UsXG4gICAgICAgICAgICAgIHRvcDogcGFyZW50UmVjdC50b3AgKyBwYXJlbnRSZWN0LmhlaWdodCAvIDIgLSB0aXBSZWN0LmhlaWdodCAvIDIgfVxuICAgICAgICAgIDogZGlyID09PSAndG9wJ1xuICAgICAgICAgID8geyBsZWZ0OiBwYXJlbnRSZWN0LmxlZnQgKyBwYXJlbnRSZWN0LndpZHRoIC8gMiAtIHRpcFJlY3Qud2lkdGggLyAyLFxuICAgICAgICAgICAgICB0b3A6IHBhcmVudFJlY3QudG9wIC0gdGlwUmVjdC5oZWlnaHQgLSBUT09MVElQX1dJTkRPV19FREdFX1NQQUNFIH1cbiAgICAgICAgICA6IHsgbGVmdDogcGFyZW50UmVjdC5sZWZ0ICsgcGFyZW50UmVjdC53aWR0aCAvIDIgLSB0aXBSZWN0LndpZHRoIC8gMixcbiAgICAgICAgICAgICAgdG9wOiBwYXJlbnRSZWN0LnRvcCArIHBhcmVudFJlY3QuaGVpZ2h0ICsgVE9PTFRJUF9XSU5ET1dfRURHRV9TUEFDRSB9O1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbn1cbk1kVG9vbHRpcERpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJHRpbWVvdXRcIiwgXCIkd2luZG93XCIsIFwiJCRyQUZcIiwgXCIkZG9jdW1lbnRcIiwgXCIkbWRVdGlsXCIsIFwiJG1kVGhlbWluZ1wiLCBcIiRyb290RWxlbWVudFwiLCBcIiRhbmltYXRlXCIsIFwiJHFcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG1hdGVyaWFsLmNvbXBvbmVudHMud2hpdGVmcmFtZVxuICovXG5hbmd1bGFyLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy53aGl0ZWZyYW1lJywgW10pO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuYXV0b2NvbXBsZXRlJylcbiAgICAuY29udHJvbGxlcignTWRBdXRvY29tcGxldGVDdHJsJywgTWRBdXRvY29tcGxldGVDdHJsKTtcblxudmFyIElURU1fSEVJR0hUID0gNDEsXG4gICAgTUFYX0hFSUdIVCA9IDUuNSAqIElURU1fSEVJR0hULFxuICAgIE1FTlVfUEFERElORyA9IDg7XG5cbmZ1bmN0aW9uIE1kQXV0b2NvbXBsZXRlQ3RybCAoJHNjb3BlLCAkZWxlbWVudCwgJG1kVXRpbCwgJG1kQ29uc3RhbnQsICR0aW1lb3V0LCAkbWRUaGVtaW5nLCAkd2luZG93LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYW5pbWF0ZSwgJHJvb3RFbGVtZW50LCAkYXR0cnMpIHtcbiAgLy8tLSBwcml2YXRlIHZhcmlhYmxlc1xuICB2YXIgY3RybCAgICAgID0gdGhpcyxcbiAgICAgIGl0ZW1QYXJ0cyA9ICRzY29wZS5pdGVtc0V4cHIuc3BsaXQoLyBpbiAvaSksXG4gICAgICBpdGVtRXhwciAgPSBpdGVtUGFydHNbMV0sXG4gICAgICBlbGVtZW50cyAgPSBudWxsLFxuICAgICAgcHJvbWlzZSAgID0gbnVsbCxcbiAgICAgIGNhY2hlICAgICA9IHt9LFxuICAgICAgbm9CbHVyICAgID0gZmFsc2UsXG4gICAgICBzZWxlY3RlZEl0ZW1XYXRjaGVycyA9IFtdLFxuICAgICAgaGFzRm9jdXMgID0gZmFsc2UsXG4gICAgICBsYXN0Q291bnQgPSAwO1xuXG4gIC8vLS0gcHVibGljIHZhcmlhYmxlcyB3aXRoIGhhbmRsZXJzXG4gIGRlZmluZVByb3BlcnR5KCdoaWRkZW4nLCBoYW5kbGVIaWRkZW5DaGFuZ2UsIHRydWUpO1xuXG4gIC8vLS0gcHVibGljIHZhcmlhYmxlc1xuICBjdHJsLnNjb3BlICAgICAgPSAkc2NvcGU7XG4gIGN0cmwucGFyZW50ICAgICA9ICRzY29wZS4kcGFyZW50O1xuICBjdHJsLml0ZW1OYW1lICAgPSBpdGVtUGFydHNbMF07XG4gIGN0cmwubWF0Y2hlcyAgICA9IFtdO1xuICBjdHJsLmxvYWRpbmcgICAgPSBmYWxzZTtcbiAgY3RybC5oaWRkZW4gICAgID0gdHJ1ZTtcbiAgY3RybC5pbmRleCAgICAgID0gbnVsbDtcbiAgY3RybC5tZXNzYWdlcyAgID0gW107XG4gIGN0cmwuaWQgICAgICAgICA9ICRtZFV0aWwubmV4dFVpZCgpO1xuICBjdHJsLmlzRGlzYWJsZWQgPSBudWxsO1xuICBjdHJsLmlzUmVxdWlyZWQgPSBudWxsO1xuXG4gIC8vLS0gcHVibGljIG1ldGhvZHNcbiAgY3RybC5rZXlkb3duICAgID0ga2V5ZG93bjtcbiAgY3RybC5ibHVyICAgICAgID0gYmx1cjtcbiAgY3RybC5mb2N1cyAgICAgID0gZm9jdXM7XG4gIGN0cmwuY2xlYXIgICAgICA9IGNsZWFyVmFsdWU7XG4gIGN0cmwuc2VsZWN0ICAgICA9IHNlbGVjdDtcbiAgY3RybC5saXN0RW50ZXIgID0gb25MaXN0RW50ZXI7XG4gIGN0cmwubGlzdExlYXZlICA9IG9uTGlzdExlYXZlO1xuICBjdHJsLm1vdXNlVXAgICAgPSBvbk1vdXNldXA7XG4gIGN0cmwuZ2V0Q3VycmVudERpc3BsYXlWYWx1ZSAgICAgICAgID0gZ2V0Q3VycmVudERpc3BsYXlWYWx1ZTtcbiAgY3RybC5yZWdpc3RlclNlbGVjdGVkSXRlbVdhdGNoZXIgICAgPSByZWdpc3RlclNlbGVjdGVkSXRlbVdhdGNoZXI7XG4gIGN0cmwudW5yZWdpc3RlclNlbGVjdGVkSXRlbVdhdGNoZXIgID0gdW5yZWdpc3RlclNlbGVjdGVkSXRlbVdhdGNoZXI7XG5cbiAgcmV0dXJuIGluaXQoKTtcblxuICAvLy0tIGluaXRpYWxpemF0aW9uIG1ldGhvZHNcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgY29udHJvbGxlciwgc2V0dXAgd2F0Y2hlcnMsIGdhdGhlciBlbGVtZW50c1xuICAgKi9cbiAgZnVuY3Rpb24gaW5pdCAoKSB7XG4gICAgJG1kVXRpbC5pbml0T3B0aW9uYWxQcm9wZXJ0aWVzKCRzY29wZSwgJGF0dHJzLCB7IHNlYXJjaFRleHQ6IG51bGwsIHNlbGVjdGVkSXRlbTogbnVsbCB9ICk7XG4gICAgJG1kVGhlbWluZygkZWxlbWVudCk7XG4gICAgY29uZmlndXJlV2F0Y2hlcnMoKTtcbiAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBnYXRoZXJFbGVtZW50cygpO1xuICAgICAgZm9jdXNFbGVtZW50KCk7XG4gICAgICBtb3ZlRHJvcGRvd24oKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBkcm9wZG93bidzIHBvc2l0aW9uIGFuZCBhcHBsaWVzIHRoZSBuZXcgc3R5bGVzIHRvIHRoZSBtZW51IGVsZW1lbnRcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBmdW5jdGlvbiBwb3NpdGlvbkRyb3Bkb3duICgpIHtcbiAgICBpZiAoIWVsZW1lbnRzKSByZXR1cm4gJHRpbWVvdXQocG9zaXRpb25Ecm9wZG93biwgMCwgZmFsc2UpO1xuICAgIHZhciBocmVjdCAgPSBlbGVtZW50cy53cmFwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICB2cmVjdCAgPSBlbGVtZW50cy5zbmFwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICByb290ICAgPSBlbGVtZW50cy5yb290LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICB0b3AgICAgPSB2cmVjdC5ib3R0b20gLSByb290LnRvcCxcbiAgICAgICAgYm90ICAgID0gcm9vdC5ib3R0b20gLSB2cmVjdC50b3AsXG4gICAgICAgIGxlZnQgICA9IGhyZWN0LmxlZnQgLSByb290LmxlZnQsXG4gICAgICAgIHdpZHRoICA9IGhyZWN0LndpZHRoLFxuICAgICAgICBzdHlsZXMgPSB7XG4gICAgICAgICAgbGVmdDogICAgIGxlZnQgKyAncHgnLFxuICAgICAgICAgIG1pbldpZHRoOiB3aWR0aCArICdweCcsXG4gICAgICAgICAgbWF4V2lkdGg6IE1hdGgubWF4KGhyZWN0LnJpZ2h0IC0gcm9vdC5sZWZ0LCByb290LnJpZ2h0IC0gaHJlY3QubGVmdCkgLSBNRU5VX1BBRERJTkcgKyAncHgnXG4gICAgICAgIH07XG4gICAgaWYgKHRvcCA+IGJvdCAmJiByb290LmhlaWdodCAtIGhyZWN0LmJvdHRvbSAtIE1FTlVfUEFERElORyA8IE1BWF9IRUlHSFQpIHtcbiAgICAgIHN0eWxlcy50b3AgPSAnYXV0byc7XG4gICAgICBzdHlsZXMuYm90dG9tID0gYm90ICsgJ3B4JztcbiAgICAgIHN0eWxlcy5tYXhIZWlnaHQgPSBNYXRoLm1pbihNQVhfSEVJR0hULCBocmVjdC50b3AgLSByb290LnRvcCAtIE1FTlVfUEFERElORykgKyAncHgnO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXMudG9wID0gdG9wICsgJ3B4JztcbiAgICAgIHN0eWxlcy5ib3R0b20gPSAnYXV0byc7XG4gICAgICBzdHlsZXMubWF4SGVpZ2h0ID0gTWF0aC5taW4oTUFYX0hFSUdIVCwgcm9vdC5ib3R0b20gLSBocmVjdC5ib3R0b20gLSBNRU5VX1BBRERJTkcpICsgJ3B4JztcbiAgICB9XG4gICAgZWxlbWVudHMuJC51bC5jc3Moc3R5bGVzKTtcbiAgICAkdGltZW91dChjb3JyZWN0SG9yaXpvbnRhbEFsaWdubWVudCwgMCwgZmFsc2UpO1xuXG4gICAgLyoqXG4gICAgICogTWFrZXMgc3VyZSB0aGF0IHRoZSBtZW51IGRvZXNuJ3QgZ28gb2ZmIG9mIHRoZSBzY3JlZW4gb24gZWl0aGVyIHNpZGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29ycmVjdEhvcml6b250YWxBbGlnbm1lbnQgKCkge1xuICAgICAgdmFyIGRyb3Bkb3duID0gZWxlbWVudHMudWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgc3R5bGVzICAgPSB7fTtcbiAgICAgIGlmIChkcm9wZG93bi5yaWdodCA+IHJvb3QucmlnaHQgLSBNRU5VX1BBRERJTkcpIHtcbiAgICAgICAgc3R5bGVzLmxlZnQgPSAoaHJlY3QucmlnaHQgLSBkcm9wZG93bi53aWR0aCkgKyAncHgnO1xuICAgICAgfVxuICAgICAgZWxlbWVudHMuJC51bC5jc3Moc3R5bGVzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTW92ZXMgdGhlIGRyb3Bkb3duIG1lbnUgdG8gdGhlIGJvZHkgdGFnIGluIG9yZGVyIHRvIGF2b2lkIHotaW5kZXggYW5kIG92ZXJmbG93IGlzc3Vlcy5cbiAgICovXG4gIGZ1bmN0aW9uIG1vdmVEcm9wZG93biAoKSB7XG4gICAgaWYgKCFlbGVtZW50cy4kLnJvb3QubGVuZ3RoKSByZXR1cm47XG4gICAgJG1kVGhlbWluZyhlbGVtZW50cy4kLnVsKTtcbiAgICBlbGVtZW50cy4kLnVsLmRldGFjaCgpO1xuICAgIGVsZW1lbnRzLiQucm9vdC5hcHBlbmQoZWxlbWVudHMuJC51bCk7XG4gICAgaWYgKCRhbmltYXRlLnBpbikgJGFuaW1hdGUucGluKGVsZW1lbnRzLiQudWwsICRyb290RWxlbWVudCk7XG4gIH1cblxuICAvKipcbiAgICogU2VuZHMgZm9jdXMgdG8gdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqL1xuICBmdW5jdGlvbiBmb2N1c0VsZW1lbnQgKCkge1xuICAgIGlmICgkc2NvcGUuYXV0b2ZvY3VzKSBlbGVtZW50cy5pbnB1dC5mb2N1cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdXAgYW55IHdhdGNoZXJzIHVzZWQgYnkgYXV0b2NvbXBsZXRlXG4gICAqL1xuICBmdW5jdGlvbiBjb25maWd1cmVXYXRjaGVycyAoKSB7XG4gICAgdmFyIHdhaXQgPSBwYXJzZUludCgkc2NvcGUuZGVsYXksIDEwKSB8fCAwO1xuICAgICRhdHRycy4kb2JzZXJ2ZSgnZGlzYWJsZWQnLCBmdW5jdGlvbiAodmFsdWUpIHsgY3RybC5pc0Rpc2FibGVkID0gdmFsdWU7IH0pO1xuICAgICRhdHRycy4kb2JzZXJ2ZSgncmVxdWlyZWQnLCBmdW5jdGlvbiAodmFsdWUpIHsgY3RybC5pc1JlcXVpcmVkID0gdmFsdWUgIT09IG51bGw7IH0pO1xuICAgICRzY29wZS4kd2F0Y2goJ3NlYXJjaFRleHQnLCB3YWl0ID8gJG1kVXRpbC5kZWJvdW5jZShoYW5kbGVTZWFyY2hUZXh0LCB3YWl0KSA6IGhhbmRsZVNlYXJjaFRleHQpO1xuICAgIHJlZ2lzdGVyU2VsZWN0ZWRJdGVtV2F0Y2hlcihzZWxlY3RlZEl0ZW1DaGFuZ2UpO1xuICAgICRzY29wZS4kd2F0Y2goJ3NlbGVjdGVkSXRlbScsIGhhbmRsZVNlbGVjdGVkSXRlbUNoYW5nZSk7XG4gICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9uKCdyZXNpemUnLCBwb3NpdGlvbkRyb3Bkb3duKTtcbiAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGNsZWFudXApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYW55IGV2ZW50cyBvciBsZWZ0b3ZlciBlbGVtZW50cyBjcmVhdGVkIGJ5IHRoaXMgY29udHJvbGxlclxuICAgKi9cbiAgZnVuY3Rpb24gY2xlYW51cCAoKSB7XG4gICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZigncmVzaXplJywgcG9zaXRpb25Ecm9wZG93bik7XG4gICAgZWxlbWVudHMuJC51bC5yZW1vdmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHYXRoZXJzIGFsbCBvZiB0aGUgZWxlbWVudHMgbmVlZGVkIGZvciB0aGlzIGNvbnRyb2xsZXJcbiAgICovXG4gIGZ1bmN0aW9uIGdhdGhlckVsZW1lbnRzICgpIHtcbiAgICBlbGVtZW50cyA9IHtcbiAgICAgIG1haW46ICAkZWxlbWVudFswXSxcbiAgICAgIHVsOiAgICAkZWxlbWVudC5maW5kKCd1bCcpWzBdLFxuICAgICAgaW5wdXQ6ICRlbGVtZW50LmZpbmQoJ2lucHV0JylbMF0sXG4gICAgICB3cmFwOiAgJGVsZW1lbnQuZmluZCgnbWQtYXV0b2NvbXBsZXRlLXdyYXAnKVswXSxcbiAgICAgIHJvb3Q6ICBkb2N1bWVudC5ib2R5XG4gICAgfTtcbiAgICBlbGVtZW50cy5saSA9IGVsZW1lbnRzLnVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsaScpO1xuICAgIGVsZW1lbnRzLnNuYXAgPSBnZXRTbmFwVGFyZ2V0KCk7XG4gICAgZWxlbWVudHMuJCA9IGdldEFuZ3VsYXJFbGVtZW50cyhlbGVtZW50cyk7XG4gIH1cblxuICAvKipcbiAgICogRmluZHMgdGhlIGVsZW1lbnQgdGhhdCB0aGUgbWVudSB3aWxsIGJhc2UgaXRzIHBvc2l0aW9uIG9uXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0U25hcFRhcmdldCAoKSB7XG4gICAgZm9yICh2YXIgZWxlbWVudCA9ICRlbGVtZW50OyBlbGVtZW50Lmxlbmd0aDsgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50KCkpIHtcbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChlbGVtZW50LmF0dHIoJ21kLWF1dG9jb21wbGV0ZS1zbmFwJykpKSByZXR1cm4gZWxlbWVudFswXTtcbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnRzLndyYXA7XG4gIH1cblxuICAvKipcbiAgICogR2F0aGVycyBhbmd1bGFyLXdyYXBwZWQgdmVyc2lvbnMgb2YgZWFjaCBlbGVtZW50XG4gICAqIEBwYXJhbSBlbGVtZW50c1xuICAgKiBAcmV0dXJucyB7e319XG4gICAqL1xuICBmdW5jdGlvbiBnZXRBbmd1bGFyRWxlbWVudHMgKGVsZW1lbnRzKSB7XG4gICAgdmFyIG9iaiA9IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiBlbGVtZW50cykge1xuICAgICAgb2JqW2tleV0gPSBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudHNba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICAvLy0tIGV2ZW50L2NoYW5nZSBoYW5kbGVyc1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGNoYW5nZXMgdG8gdGhlIGBoaWRkZW5gIHByb3BlcnR5LlxuICAgKiBAcGFyYW0gaGlkZGVuXG4gICAqIEBwYXJhbSBvbGRIaWRkZW5cbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZUhpZGRlbkNoYW5nZSAoaGlkZGVuLCBvbGRIaWRkZW4pIHtcbiAgICBpZiAoIWhpZGRlbiAmJiBvbGRIaWRkZW4pIHBvc2l0aW9uRHJvcGRvd24oKTtcbiAgICBpZiAoIWhpZGRlbikge1xuICAgICAgaWYgKGVsZW1lbnRzKSAkdGltZW91dChmdW5jdGlvbiAoKSB7ICRtZFV0aWwuZGlzYWJsZVNjcm9sbEFyb3VuZChlbGVtZW50cy51bCk7IH0sIDAsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJG1kVXRpbC5lbmFibGVTY3JvbGxpbmcoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogV2hlbiB0aGUgdXNlciBtb3VzZXMgb3ZlciB0aGUgZHJvcGRvd24gbWVudSwgaWdub3JlIGJsdXIgZXZlbnRzLlxuICAgKi9cbiAgZnVuY3Rpb24gb25MaXN0RW50ZXIgKCkge1xuICAgIG5vQmx1ciA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogV2hlbiB0aGUgdXNlcidzIG1vdXNlIGxlYXZlcyB0aGUgbWVudSwgYmx1ciBldmVudHMgbWF5IGhpZGUgdGhlIG1lbnUgYWdhaW4uXG4gICAqL1xuICBmdW5jdGlvbiBvbkxpc3RMZWF2ZSAoKSB7XG4gICAgbm9CbHVyID0gZmFsc2U7XG4gICAgaWYgKCFoYXNGb2N1cykgY3RybC5oaWRkZW4gPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIG1vdXNlIGJ1dHRvbiBpcyByZWxlYXNlZCwgc2VuZCBmb2N1cyBiYWNrIHRvIHRoZSBpbnB1dCBmaWVsZC5cbiAgICovXG4gIGZ1bmN0aW9uIG9uTW91c2V1cCAoKSB7XG4gICAgZWxlbWVudHMuaW5wdXQuZm9jdXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGNoYW5nZXMgdG8gdGhlIHNlbGVjdGVkIGl0ZW0uXG4gICAqIEBwYXJhbSBzZWxlY3RlZEl0ZW1cbiAgICogQHBhcmFtIHByZXZpb3VzU2VsZWN0ZWRJdGVtXG4gICAqL1xuICBmdW5jdGlvbiBzZWxlY3RlZEl0ZW1DaGFuZ2UgKHNlbGVjdGVkSXRlbSwgcHJldmlvdXNTZWxlY3RlZEl0ZW0pIHtcbiAgICBpZiAoc2VsZWN0ZWRJdGVtKSB7XG4gICAgICAkc2NvcGUuc2VhcmNoVGV4dCA9IGdldERpc3BsYXlWYWx1ZShzZWxlY3RlZEl0ZW0pO1xuICAgIH1cbiAgICBpZiAoJHNjb3BlLml0ZW1DaGFuZ2UgJiYgc2VsZWN0ZWRJdGVtICE9PSBwcmV2aW91c1NlbGVjdGVkSXRlbSlcbiAgICAgICRzY29wZS5pdGVtQ2hhbmdlKGdldEl0ZW1TY29wZShzZWxlY3RlZEl0ZW0pKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyBhbnkgZXh0ZXJuYWwgd2F0Y2hlcnMgbGlzdGVuaW5nIGZvciB0aGUgc2VsZWN0ZWQgaXRlbS4gIFVzZWQgaW4gY29uanVuY3Rpb24gd2l0aFxuICAgKiBgcmVnaXN0ZXJTZWxlY3RlZEl0ZW1XYXRjaGVyYC5cbiAgICogQHBhcmFtIHNlbGVjdGVkSXRlbVxuICAgKiBAcGFyYW0gcHJldmlvdXNTZWxlY3RlZEl0ZW1cbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGVkSXRlbUNoYW5nZShzZWxlY3RlZEl0ZW0sIHByZXZpb3VzU2VsZWN0ZWRJdGVtKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RlZEl0ZW1XYXRjaGVycy5sZW5ndGg7ICsraSkge1xuICAgICAgc2VsZWN0ZWRJdGVtV2F0Y2hlcnNbaV0oc2VsZWN0ZWRJdGVtLCBwcmV2aW91c1NlbGVjdGVkSXRlbSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIHNlbGVjdGVkIGl0ZW0gY2hhbmdlcy5cbiAgICogQHBhcmFtIGNiXG4gICAqL1xuICBmdW5jdGlvbiByZWdpc3RlclNlbGVjdGVkSXRlbVdhdGNoZXIoY2IpIHtcbiAgICBpZiAoc2VsZWN0ZWRJdGVtV2F0Y2hlcnMuaW5kZXhPZihjYikgPT0gLTEpIHtcbiAgICAgIHNlbGVjdGVkSXRlbVdhdGNoZXJzLnB1c2goY2IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVbnJlZ2lzdGVyIGEgZnVuY3Rpb24gcHJldmlvdXNseSByZWdpc3RlcmVkIGZvciBzZWxlY3RlZCBpdGVtIGNoYW5nZXMuXG4gICAqIEBwYXJhbSBjYlxuICAgKi9cbiAgZnVuY3Rpb24gdW5yZWdpc3RlclNlbGVjdGVkSXRlbVdhdGNoZXIoY2IpIHtcbiAgICB2YXIgaSA9IHNlbGVjdGVkSXRlbVdhdGNoZXJzLmluZGV4T2YoY2IpO1xuICAgIGlmIChpICE9IC0xKSB7XG4gICAgICBzZWxlY3RlZEl0ZW1XYXRjaGVycy5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgY2hhbmdlcyB0byB0aGUgc2VhcmNoVGV4dCBwcm9wZXJ0eS5cbiAgICogQHBhcmFtIHNlYXJjaFRleHRcbiAgICogQHBhcmFtIHByZXZpb3VzU2VhcmNoVGV4dFxuICAgKi9cbiAgZnVuY3Rpb24gaGFuZGxlU2VhcmNoVGV4dCAoc2VhcmNoVGV4dCwgcHJldmlvdXNTZWFyY2hUZXh0KSB7XG4gICAgY3RybC5pbmRleCA9IGdldERlZmF1bHRJbmRleCgpO1xuICAgIC8vLS0gZG8gbm90aGluZyBvbiBpbml0XG4gICAgaWYgKHNlYXJjaFRleHQgPT09IHByZXZpb3VzU2VhcmNoVGV4dCkgcmV0dXJuO1xuICAgIC8vLS0gY2xlYXIgc2VsZWN0ZWQgaXRlbSBpZiBzZWFyY2ggdGV4dCBubyBsb25nZXIgbWF0Y2hlcyBpdFxuICAgIGlmIChzZWFyY2hUZXh0ICE9PSBnZXREaXNwbGF5VmFsdWUoJHNjb3BlLnNlbGVjdGVkSXRlbSkpICRzY29wZS5zZWxlY3RlZEl0ZW0gPSBudWxsO1xuICAgIGVsc2UgcmV0dXJuO1xuICAgIC8vLS0gdHJpZ2dlciBjaGFuZ2UgZXZlbnQgaWYgYXZhaWxhYmxlXG4gICAgaWYgKCRzY29wZS50ZXh0Q2hhbmdlICYmIHNlYXJjaFRleHQgIT09IHByZXZpb3VzU2VhcmNoVGV4dClcbiAgICAgICRzY29wZS50ZXh0Q2hhbmdlKGdldEl0ZW1TY29wZSgkc2NvcGUuc2VsZWN0ZWRJdGVtKSk7XG4gICAgLy8tLSBjYW5jZWwgcmVzdWx0cyBpZiBzZWFyY2ggdGV4dCBpcyBub3QgbG9uZyBlbm91Z2hcbiAgICBpZiAoIWlzTWluTGVuZ3RoTWV0KCkpIHtcbiAgICAgIGN0cmwubG9hZGluZyA9IGZhbHNlO1xuICAgICAgY3RybC5tYXRjaGVzID0gW107XG4gICAgICBjdHJsLmhpZGRlbiA9IHNob3VsZEhpZGUoKTtcbiAgICAgIHVwZGF0ZU1lc3NhZ2VzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZVF1ZXJ5KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgaW5wdXQgYmx1ciBldmVudCwgZGV0ZXJtaW5lcyBpZiB0aGUgZHJvcGRvd24gc2hvdWxkIGhpZGUuXG4gICAqL1xuICBmdW5jdGlvbiBibHVyICgpIHtcbiAgICBoYXNGb2N1cyA9IGZhbHNlO1xuICAgIGlmICghbm9CbHVyKSBjdHJsLmhpZGRlbiA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBpbnB1dCBmb2N1cyBldmVudCwgZGV0ZXJtaW5lcyBpZiB0aGUgZHJvcGRvd24gc2hvdWxkIHNob3cuXG4gICAqL1xuICBmdW5jdGlvbiBmb2N1cyAoKSB7XG4gICAgaGFzRm9jdXMgPSB0cnVlO1xuICAgIC8vLS0gaWYgc2VhcmNoVGV4dCBpcyBudWxsLCBsZXQncyBmb3JjZSBpdCB0byBiZSBhIHN0cmluZ1xuICAgIGlmICghYW5ndWxhci5pc1N0cmluZygkc2NvcGUuc2VhcmNoVGV4dCkpICRzY29wZS5zZWFyY2hUZXh0ID0gJyc7XG4gICAgaWYgKCRzY29wZS5taW5MZW5ndGggPiAwKSByZXR1cm47XG4gICAgY3RybC5oaWRkZW4gPSBzaG91bGRIaWRlKCk7XG4gICAgaWYgKCFjdHJsLmhpZGRlbikgaGFuZGxlUXVlcnkoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGtleWJvYXJkIGlucHV0LlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICovXG4gIGZ1bmN0aW9uIGtleWRvd24gKGV2ZW50KSB7XG4gICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG4gICAgICBjYXNlICRtZENvbnN0YW50LktFWV9DT0RFLkRPV05fQVJST1c6XG4gICAgICAgIGlmIChjdHJsLmxvYWRpbmcpIHJldHVybjtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY3RybC5pbmRleCA9IE1hdGgubWluKGN0cmwuaW5kZXggKyAxLCBjdHJsLm1hdGNoZXMubGVuZ3RoIC0gMSk7XG4gICAgICAgIHVwZGF0ZVNjcm9sbCgpO1xuICAgICAgICB1cGRhdGVNZXNzYWdlcygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuVVBfQVJST1c6XG4gICAgICAgIGlmIChjdHJsLmxvYWRpbmcpIHJldHVybjtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY3RybC5pbmRleCA9IGN0cmwuaW5kZXggPCAwID8gY3RybC5tYXRjaGVzLmxlbmd0aCAtIDEgOiBNYXRoLm1heCgwLCBjdHJsLmluZGV4IC0gMSk7XG4gICAgICAgIHVwZGF0ZVNjcm9sbCgpO1xuICAgICAgICB1cGRhdGVNZXNzYWdlcygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuVEFCOlxuICAgICAgY2FzZSAkbWRDb25zdGFudC5LRVlfQ09ERS5FTlRFUjpcbiAgICAgICAgaWYgKGN0cmwuaGlkZGVuIHx8IGN0cmwubG9hZGluZyB8fCBjdHJsLmluZGV4IDwgMCB8fCBjdHJsLm1hdGNoZXMubGVuZ3RoIDwgMSkgcmV0dXJuO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBzZWxlY3QoY3RybC5pbmRleCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAkbWRDb25zdGFudC5LRVlfQ09ERS5FU0NBUEU6XG4gICAgICAgIGN0cmwubWF0Y2hlcyA9IFtdO1xuICAgICAgICBjdHJsLmhpZGRlbiA9IHRydWU7XG4gICAgICAgIGN0cmwuaW5kZXggPSBnZXREZWZhdWx0SW5kZXgoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgIH1cbiAgfVxuXG4gIC8vLS0gZ2V0dGVyc1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBtaW5pbXVtIGxlbmd0aCBuZWVkZWQgdG8gZGlzcGxheSB0aGUgZHJvcGRvd24uXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0TWluTGVuZ3RoICgpIHtcbiAgICByZXR1cm4gYW5ndWxhci5pc051bWJlcigkc2NvcGUubWluTGVuZ3RoKSA/ICRzY29wZS5taW5MZW5ndGggOiAxO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGRpc3BsYXkgdmFsdWUgZm9yIGFuIGl0ZW0uXG4gICAqIEBwYXJhbSBpdGVtXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0RGlzcGxheVZhbHVlIChpdGVtKSB7XG4gICAgcmV0dXJuIChpdGVtICYmICRzY29wZS5pdGVtVGV4dCkgPyAkc2NvcGUuaXRlbVRleHQoZ2V0SXRlbVNjb3BlKGl0ZW0pKSA6IGl0ZW07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbG9jYWxzIG9iamVjdCBmb3IgY29tcGlsaW5nIGl0ZW0gdGVtcGxhdGVzLlxuICAgKiBAcGFyYW0gaXRlbVxuICAgKiBAcmV0dXJucyB7e319XG4gICAqL1xuICBmdW5jdGlvbiBnZXRJdGVtU2NvcGUgKGl0ZW0pIHtcbiAgICBpZiAoIWl0ZW0pIHJldHVybjtcbiAgICB2YXIgbG9jYWxzID0ge307XG4gICAgaWYgKGN0cmwuaXRlbU5hbWUpIGxvY2Fsc1tjdHJsLml0ZW1OYW1lXSA9IGl0ZW07XG4gICAgcmV0dXJuIGxvY2FscztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBkZWZhdWx0IGluZGV4IGJhc2VkIG9uIHdoZXRoZXIgb3Igbm90IGF1dG9zZWxlY3QgaXMgZW5hYmxlZC5cbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGZ1bmN0aW9uIGdldERlZmF1bHRJbmRleCAoKSB7XG4gICAgcmV0dXJuICRzY29wZS5hdXRvc2VsZWN0ID8gMCA6IC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgdGhlIG1lbnUgc2hvdWxkIGJlIGhpZGRlbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBmdW5jdGlvbiBzaG91bGRIaWRlICgpIHtcbiAgICBpZiAoIWlzTWluTGVuZ3RoTWV0KCkpIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGRpc3BsYXkgdmFsdWUgb2YgdGhlIGN1cnJlbnQgaXRlbS5cbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBmdW5jdGlvbiBnZXRDdXJyZW50RGlzcGxheVZhbHVlICgpIHtcbiAgICByZXR1cm4gZ2V0RGlzcGxheVZhbHVlKGN0cmwubWF0Y2hlc1tjdHJsLmluZGV4XSk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiB0aGUgbWluaW11bSBsZW5ndGggaXMgbWV0IGJ5IHRoZSBzZWFyY2ggdGV4dC5cbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBmdW5jdGlvbiBpc01pbkxlbmd0aE1ldCAoKSB7XG4gICAgcmV0dXJuIGFuZ3VsYXIuaXNEZWZpbmVkKCRzY29wZS5zZWFyY2hUZXh0KSAmJiAkc2NvcGUuc2VhcmNoVGV4dC5sZW5ndGggPj0gZ2V0TWluTGVuZ3RoKCk7XG4gIH1cblxuICAvLy0tIGFjdGlvbnNcblxuICAvKipcbiAgICogRGVmaW5lcyBhIHB1YmxpYyBwcm9wZXJ0eSB3aXRoIGEgaGFuZGxlciBhbmQgYSBkZWZhdWx0IHZhbHVlLlxuICAgKiBAcGFyYW0ga2V5XG4gICAqIEBwYXJhbSBoYW5kbGVyXG4gICAqIEBwYXJhbSB2YWx1ZVxuICAgKi9cbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkgKGtleSwgaGFuZGxlciwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3RybCwga2V5LCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZhbHVlOyB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgdmFyIG9sZFZhbHVlID0gdmFsdWU7XG4gICAgICAgIHZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIGhhbmRsZXIobmV3VmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWxlY3RzIHRoZSBpdGVtIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICogQHBhcmFtIGluZGV4XG4gICAqL1xuICBmdW5jdGlvbiBzZWxlY3QgKGluZGV4KSB7XG4gICAgJHNjb3BlLnNlbGVjdGVkSXRlbSA9IGN0cmwubWF0Y2hlc1tpbmRleF07XG4gICAgY3RybC5oaWRkZW4gPSB0cnVlO1xuICAgIGN0cmwuaW5kZXggPSAwO1xuICAgIGN0cmwubWF0Y2hlcyA9IFtdO1xuICAgIC8vLS0gZm9yY2UgZm9ybSB0byB1cGRhdGUgc3RhdGUgZm9yIHZhbGlkYXRpb25cbiAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBlbGVtZW50cy4kLmlucHV0LmNvbnRyb2xsZXIoJ25nTW9kZWwnKS4kc2V0Vmlld1ZhbHVlKGdldERpc3BsYXlWYWx1ZSgkc2NvcGUuc2VsZWN0ZWRJdGVtKSB8fFxuICAgICAgICAgICRzY29wZS5zZWFyY2hUZXh0KTtcbiAgICAgIGN0cmwuaGlkZGVuID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIHNlYXJjaFRleHQgdmFsdWUgYW5kIHNlbGVjdGVkIGl0ZW0uXG4gICAqL1xuICBmdW5jdGlvbiBjbGVhclZhbHVlICgpIHtcbiAgICAkc2NvcGUuc2VhcmNoVGV4dCA9ICcnO1xuICAgIHNlbGVjdCgtMSk7XG5cbiAgICAvLyBQZXIgaHR0cDovL3d3dy53M3NjaG9vbHMuY29tL2pzcmVmL2V2ZW50X29uaW5wdXQuYXNwXG4gICAgdmFyIGV2ZW50T2JqID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgZXZlbnRPYmouaW5pdEN1c3RvbUV2ZW50KCdpbnB1dCcsIHRydWUsIHRydWUsIHt2YWx1ZTogJHNjb3BlLnNlYXJjaFRleHR9KTtcbiAgICBlbGVtZW50cy5pbnB1dC5kaXNwYXRjaEV2ZW50KGV2ZW50T2JqKTtcblxuICAgIGVsZW1lbnRzLmlucHV0LmZvY3VzKCk7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2hlcyB0aGUgcmVzdWx0cyBmb3IgdGhlIHByb3ZpZGVkIHNlYXJjaCB0ZXh0LlxuICAgKiBAcGFyYW0gc2VhcmNoVGV4dFxuICAgKi9cbiAgZnVuY3Rpb24gZmV0Y2hSZXN1bHRzIChzZWFyY2hUZXh0KSB7XG4gICAgdmFyIGl0ZW1zID0gJHNjb3BlLiRwYXJlbnQuJGV2YWwoaXRlbUV4cHIpLFxuICAgICAgICB0ZXJtID0gc2VhcmNoVGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChhbmd1bGFyLmlzQXJyYXkoaXRlbXMpKSB7XG4gICAgICBoYW5kbGVSZXN1bHRzKGl0ZW1zKTtcbiAgICB9IGVsc2UgaWYgKGl0ZW1zKSB7XG4gICAgICBjdHJsLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgaWYgKGl0ZW1zLnN1Y2Nlc3MpIGl0ZW1zLnN1Y2Nlc3MoaGFuZGxlUmVzdWx0cyk7XG4gICAgICBpZiAoaXRlbXMudGhlbikgICAgaXRlbXMudGhlbihoYW5kbGVSZXN1bHRzKTtcbiAgICAgIGlmIChpdGVtcy5lcnJvcikgICBpdGVtcy5lcnJvcihmdW5jdGlvbiAoKSB7IGN0cmwubG9hZGluZyA9IGZhbHNlOyB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlUmVzdWx0cyAobWF0Y2hlcykge1xuICAgICAgY2FjaGVbdGVybV0gPSBtYXRjaGVzO1xuICAgICAgaWYgKHNlYXJjaFRleHQgIT09ICRzY29wZS5zZWFyY2hUZXh0KSByZXR1cm47IC8vLS0ganVzdCBjYWNoZSB0aGUgcmVzdWx0cyBpZiBvbGQgcmVxdWVzdFxuICAgICAgY3RybC5sb2FkaW5nID0gZmFsc2U7XG4gICAgICBwcm9taXNlID0gbnVsbDtcbiAgICAgIGN0cmwubWF0Y2hlcyA9IG1hdGNoZXM7XG4gICAgICBjdHJsLmhpZGRlbiA9IHNob3VsZEhpZGUoKTtcbiAgICAgIHVwZGF0ZU1lc3NhZ2VzKCk7XG4gICAgICBwb3NpdGlvbkRyb3Bkb3duKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIEFSSUEgbWVzc2FnZXNcbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZU1lc3NhZ2VzICgpIHtcbiAgICBjdHJsLm1lc3NhZ2VzID0gWyBnZXRDb3VudE1lc3NhZ2UoKSwgZ2V0Q3VycmVudERpc3BsYXlWYWx1ZSgpIF07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgQVJJQSBtZXNzYWdlIGZvciBob3cgbWFueSByZXN1bHRzIG1hdGNoIHRoZSBjdXJyZW50IHF1ZXJ5LlxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIGZ1bmN0aW9uIGdldENvdW50TWVzc2FnZSAoKSB7XG4gICAgaWYgKGxhc3RDb3VudCA9PT0gY3RybC5tYXRjaGVzLmxlbmd0aCkgcmV0dXJuICcnO1xuICAgIGxhc3RDb3VudCA9IGN0cmwubWF0Y2hlcy5sZW5ndGg7XG4gICAgc3dpdGNoIChjdHJsLm1hdGNoZXMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6ICByZXR1cm4gJ1RoZXJlIGFyZSBubyBtYXRjaGVzIGF2YWlsYWJsZS4nO1xuICAgICAgY2FzZSAxOiAgcmV0dXJuICdUaGVyZSBpcyAxIG1hdGNoIGF2YWlsYWJsZS4nO1xuICAgICAgZGVmYXVsdDogcmV0dXJuICdUaGVyZSBhcmUgJyArIGN0cmwubWF0Y2hlcy5sZW5ndGggKyAnIG1hdGNoZXMgYXZhaWxhYmxlLic7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1ha2VzIHN1cmUgdGhhdCB0aGUgZm9jdXNlZCBlbGVtZW50IGlzIHdpdGhpbiB2aWV3LlxuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlU2Nyb2xsICgpIHtcbiAgICBpZiAoIWVsZW1lbnRzLmxpW2N0cmwuaW5kZXhdKSByZXR1cm47XG4gICAgdmFyIGxpICA9IGVsZW1lbnRzLmxpW2N0cmwuaW5kZXhdLFxuICAgICAgICB0b3AgPSBsaS5vZmZzZXRUb3AsXG4gICAgICAgIGJvdCA9IHRvcCArIGxpLm9mZnNldEhlaWdodCxcbiAgICAgICAgaGd0ID0gZWxlbWVudHMudWwuY2xpZW50SGVpZ2h0O1xuICAgIGlmICh0b3AgPCBlbGVtZW50cy51bC5zY3JvbGxUb3ApIHtcbiAgICAgIGVsZW1lbnRzLnVsLnNjcm9sbFRvcCA9IHRvcDtcbiAgICB9IGVsc2UgaWYgKGJvdCA+IGVsZW1lbnRzLnVsLnNjcm9sbFRvcCArIGhndCkge1xuICAgICAgZWxlbWVudHMudWwuc2Nyb2xsVG9wID0gYm90IC0gaGd0O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIHF1ZXJ5IHRvIGdhdGhlciB0aGUgcmVzdWx0cyBmb3IgdGhlIGN1cnJlbnQgc2VhcmNoVGV4dC4gIEF0dGVtcHRzIHRvIHJldHVybiBjYWNoZWRcbiAgICogcmVzdWx0cyBmaXJzdCwgdGhlbiBmb3J3YXJkcyB0aGUgcHJvY2VzcyB0byBgZmV0Y2hSZXN1bHRzYCBpZiBuZWNlc3NhcnkuXG4gICAqL1xuICBmdW5jdGlvbiBoYW5kbGVRdWVyeSAoKSB7XG4gICAgdmFyIHNlYXJjaFRleHQgPSAkc2NvcGUuc2VhcmNoVGV4dCxcbiAgICAgICAgdGVybSA9IHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKTtcbiAgICAvLy0tIGNhbmNlbCBwcm9taXNlIGlmIGEgcHJvbWlzZSBpcyBpbiBwcm9ncmVzc1xuICAgIGlmIChwcm9taXNlICYmIHByb21pc2UuY2FuY2VsKSB7XG4gICAgICBwcm9taXNlLmNhbmNlbCgpO1xuICAgICAgcHJvbWlzZSA9IG51bGw7XG4gICAgfVxuICAgIC8vLS0gaWYgcmVzdWx0cyBhcmUgY2FjaGVkLCBwdWxsIGluIGNhY2hlZCByZXN1bHRzXG4gICAgaWYgKCEkc2NvcGUubm9DYWNoZSAmJiBjYWNoZVt0ZXJtXSkge1xuICAgICAgY3RybC5tYXRjaGVzID0gY2FjaGVbdGVybV07XG4gICAgICB1cGRhdGVNZXNzYWdlcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmZXRjaFJlc3VsdHMoc2VhcmNoVGV4dCk7XG4gICAgfVxuICAgIGlmIChoYXNGb2N1cykgY3RybC5oaWRkZW4gPSBzaG91bGRIaWRlKCk7XG4gIH1cblxufVxuTWRBdXRvY29tcGxldGVDdHJsLiRpbmplY3QgPSBbXCIkc2NvcGVcIiwgXCIkZWxlbWVudFwiLCBcIiRtZFV0aWxcIiwgXCIkbWRDb25zdGFudFwiLCBcIiR0aW1lb3V0XCIsIFwiJG1kVGhlbWluZ1wiLCBcIiR3aW5kb3dcIiwgXCIkYW5pbWF0ZVwiLCBcIiRyb290RWxlbWVudFwiLCBcIiRhdHRyc1wiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmF1dG9jb21wbGV0ZScpXG4gICAgLmRpcmVjdGl2ZSgnbWRBdXRvY29tcGxldGUnLCBNZEF1dG9jb21wbGV0ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRBdXRvY29tcGxldGVcbiAqIEBtb2R1bGUgbWF0ZXJpYWwuY29tcG9uZW50cy5hdXRvY29tcGxldGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGA8bWQtYXV0b2NvbXBsZXRlPmAgaXMgYSBzcGVjaWFsIGlucHV0IGNvbXBvbmVudCB3aXRoIGEgZHJvcC1kb3duIG9mIGFsbCBwb3NzaWJsZSBtYXRjaGVzIHRvIGEgY3VzdG9tIHF1ZXJ5LlxuICogVGhpcyBjb21wb25lbnQgYWxsb3dzIHlvdSB0byBwcm92aWRlIHJlYWwtdGltZSBzdWdnZXN0aW9ucyBhcyB0aGUgdXNlciB0eXBlcyBpbiB0aGUgaW5wdXQgYXJlYS5cbiAqXG4gKiBUbyBzdGFydCwgeW91IHdpbGwgbmVlZCB0byBzcGVjaWZ5IHRoZSByZXF1aXJlZCBwYXJhbWV0ZXJzIGFuZCBwcm92aWRlIGEgdGVtcGxhdGUgZm9yIHlvdXIgcmVzdWx0cy5cbiAqIFRoZSBjb250ZW50IGluc2lkZSBgbWQtYXV0b2NvbXBsZXRlYCB3aWxsIGJlIHRyZWF0ZWQgYXMgYSB0ZW1wbGF0ZS5cbiAqXG4gKiBJbiBtb3JlIGNvbXBsZXggY2FzZXMsIHlvdSBtYXkgd2FudCB0byBpbmNsdWRlIG90aGVyIGNvbnRlbnQgc3VjaCBhcyBhIG1lc3NhZ2UgdG8gZGlzcGxheSB3aGVuXG4gKiBubyBtYXRjaGVzIHdlcmUgZm91bmQuICBZb3UgY2FuIGRvIHRoaXMgYnkgd3JhcHBpbmcgeW91ciB0ZW1wbGF0ZSBpbiBgbWQtaXRlbS10ZW1wbGF0ZWAgYW5kIGFkZGluZ1xuICogYSB0YWcgZm9yIGBtZC1ub3QtZm91bmRgLiAgQW4gZXhhbXBsZSBvZiB0aGlzIGlzIHNob3duIGJlbG93LlxuICogIyMjIFZhbGlkYXRpb25cbiAqXG4gKiBZb3UgY2FuIHVzZSBgbmctbWVzc2FnZXNgIHRvIGluY2x1ZGUgdmFsaWRhdGlvbiB0aGUgc2FtZSB3YXkgdGhhdCB5b3Ugd291bGQgbm9ybWFsbHkgdmFsaWRhdGU7XG4gKiBob3dldmVyLCBpZiB5b3Ugd2FudCB0byByZXBsaWNhdGUgYSBzdGFuZGFyZCBpbnB1dCB3aXRoIGEgZmxvYXRpbmcgbGFiZWwsIHlvdSB3aWxsIGhhdmUgdG8gZG8gdGhlXG4gKiBmb2xsb3dpbmc6XG4gKlxuICogLSBNYWtlIHN1cmUgdGhhdCB5b3VyIHRlbXBsYXRlIGlzIHdyYXBwZWQgaW4gYG1kLWl0ZW0tdGVtcGxhdGVgXG4gKiAtIEFkZCB5b3VyIGBuZy1tZXNzYWdlc2AgY29kZSBpbnNpZGUgb2YgYG1kLWF1dG9jb21wbGV0ZWBcbiAqIC0gQWRkIHlvdXIgdmFsaWRhdGlvbiBwcm9wZXJ0aWVzIHRvIGBtZC1hdXRvY29tcGxldGVgIChpZS4gYHJlcXVpcmVkYClcbiAqIC0gQWRkIGEgYG5hbWVgIHRvIGBtZC1hdXRvY29tcGxldGVgICh0byBiZSB1c2VkIG9uIHRoZSBnZW5lcmF0ZWQgYGlucHV0YClcbiAqXG4gKiBUaGVyZSBpcyBhbiBleGFtcGxlIGJlbG93IG9mIGhvdyB0aGlzIHNob3VsZCBsb29rLlxuICpcbiAqXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG1kLWl0ZW1zIEFuIGV4cHJlc3Npb24gaW4gdGhlIGZvcm1hdCBvZiBgaXRlbSBpbiBpdGVtc2AgdG8gaXRlcmF0ZSBvdmVyIG1hdGNoZXMgZm9yIHlvdXIgc2VhcmNoLlxuICogQHBhcmFtIHtleHByZXNzaW9uPX0gbWQtc2VsZWN0ZWQtaXRlbS1jaGFuZ2UgQW4gZXhwcmVzc2lvbiB0byBiZSBydW4gZWFjaCB0aW1lIGEgbmV3IGl0ZW0gaXMgc2VsZWN0ZWRcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG1kLXNlYXJjaC10ZXh0LWNoYW5nZSBBbiBleHByZXNzaW9uIHRvIGJlIHJ1biBlYWNoIHRpbWUgdGhlIHNlYXJjaCB0ZXh0IHVwZGF0ZXNcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWQtc2VhcmNoLXRleHQgQSBtb2RlbCB0byBiaW5kIHRoZSBzZWFyY2ggcXVlcnkgdGV4dCB0b1xuICogQHBhcmFtIHtvYmplY3Q9fSBtZC1zZWxlY3RlZC1pdGVtIEEgbW9kZWwgdG8gYmluZCB0aGUgc2VsZWN0ZWQgaXRlbSB0b1xuICogQHBhcmFtIHtzdHJpbmc9fSBtZC1pdGVtLXRleHQgQW4gZXhwcmVzc2lvbiB0aGF0IHdpbGwgY29udmVydCB5b3VyIG9iamVjdCB0byBhIHNpbmdsZSBzdHJpbmcuXG4gKiBAcGFyYW0ge3N0cmluZz19IHBsYWNlaG9sZGVyIFBsYWNlaG9sZGVyIHRleHQgdGhhdCB3aWxsIGJlIGZvcndhcmRlZCB0byB0aGUgaW5wdXQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1uby1jYWNoZSBEaXNhYmxlcyB0aGUgaW50ZXJuYWwgY2FjaGluZyB0aGF0IGhhcHBlbnMgaW4gYXV0b2NvbXBsZXRlXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBuZy1kaXNhYmxlZCBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IHRvIGRpc2FibGUgdGhlIGlucHV0IGZpZWxkXG4gKiBAcGFyYW0ge251bWJlcj19IG1kLW1pbi1sZW5ndGggU3BlY2lmaWVzIHRoZSBtaW5pbXVtIGxlbmd0aCBvZiB0ZXh0IGJlZm9yZSBhdXRvY29tcGxldGUgd2lsbCBtYWtlIHN1Z2dlc3Rpb25zXG4gKiBAcGFyYW0ge251bWJlcj19IG1kLWRlbGF5IFNwZWNpZmllcyB0aGUgYW1vdW50IG9mIHRpbWUgKGluIG1pbGxpc2Vjb25kcykgdG8gd2FpdCBiZWZvcmUgbG9va2luZyBmb3IgcmVzdWx0c1xuICogQHBhcmFtIHtib29sZWFuPX0gbWQtYXV0b2ZvY3VzIElmIHRydWUsIHdpbGwgaW1tZWRpYXRlbHkgZm9jdXMgdGhlIGlucHV0IGVsZW1lbnRcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG1kLWF1dG9zZWxlY3QgSWYgdHJ1ZSwgdGhlIGZpcnN0IGl0ZW0gd2lsbCBiZSBzZWxlY3RlZCBieSBkZWZhdWx0XG4gKiBAcGFyYW0ge3N0cmluZz19IG1kLW1lbnUtY2xhc3MgVGhpcyB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGRyb3Bkb3duIG1lbnUgZm9yIHN0eWxpbmdcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWQtZmxvYXRpbmctbGFiZWwgVGhpcyB3aWxsIGFkZCBhIGZsb2F0aW5nIGxhYmVsIHRvIGF1dG9jb21wbGV0ZSBhbmQgd3JhcCBpdCBpbiBgbWQtaW5wdXQtY29udGFpbmVyYFxuICpcbiAqIEB1c2FnZVxuICogIyMjQmFzaWMgRXhhbXBsZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqICAgPG1kLWF1dG9jb21wbGV0ZVxuICogICAgICAgbWQtc2VsZWN0ZWQtaXRlbT1cInNlbGVjdGVkSXRlbVwiXG4gKiAgICAgICBtZC1zZWFyY2gtdGV4dD1cInNlYXJjaFRleHRcIlxuICogICAgICAgbWQtaXRlbXM9XCJpdGVtIGluIGdldE1hdGNoZXMoc2VhcmNoVGV4dClcIlxuICogICAgICAgbWQtaXRlbS10ZXh0PVwiaXRlbS5kaXNwbGF5XCI+XG4gKiAgICAgPHNwYW4gbWQtaGlnaGxpZ2h0LXRleHQ9XCJzZWFyY2hUZXh0XCI+e3tpdGVtLmRpc3BsYXl9fTwvc3Bhbj5cbiAqICAgPC9tZC1hdXRvY29tcGxldGU+XG4gKiA8L2hsanM+XG4gKlxuICogIyMjRXhhbXBsZSB3aXRoIFwibm90IGZvdW5kXCIgbWVzc2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqIDxtZC1hdXRvY29tcGxldGVcbiAqICAgICBtZC1zZWxlY3RlZC1pdGVtPVwic2VsZWN0ZWRJdGVtXCJcbiAqICAgICBtZC1zZWFyY2gtdGV4dD1cInNlYXJjaFRleHRcIlxuICogICAgIG1kLWl0ZW1zPVwiaXRlbSBpbiBnZXRNYXRjaGVzKHNlYXJjaFRleHQpXCJcbiAqICAgICBtZC1pdGVtLXRleHQ9XCJpdGVtLmRpc3BsYXlcIj5cbiAqICAgPG1kLWl0ZW0tdGVtcGxhdGU+XG4gKiAgICAgPHNwYW4gbWQtaGlnaGxpZ2h0LXRleHQ9XCJzZWFyY2hUZXh0XCI+e3tpdGVtLmRpc3BsYXl9fTwvc3Bhbj5cbiAqICAgPC9tZC1pdGVtLXRlbXBsYXRlPlxuICogICA8bWQtbm90LWZvdW5kPlxuICogICAgIE5vIG1hdGNoZXMgZm91bmQuXG4gKiAgIDwvbWQtbm90LWZvdW5kPlxuICogPC9tZC1hdXRvY29tcGxldGU+XG4gKiA8L2hsanM+XG4gKlxuICogSW4gdGhpcyBleGFtcGxlLCBvdXIgY29kZSB1dGlsaXplcyBgbWQtaXRlbS10ZW1wbGF0ZWAgYW5kIGBtZC1ub3QtZm91bmRgIHRvIHNwZWNpZnkgdGhlIGRpZmZlcmVudFxuICogcGFydHMgdGhhdCBtYWtlIHVwIG91ciBjb21wb25lbnQuXG4gKlxuICogIyMjIEV4YW1wbGUgd2l0aCB2YWxpZGF0aW9uXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPGZvcm0gbmFtZT1cImF1dG9jb21wbGV0ZUZvcm1cIj5cbiAqICAgPG1kLWF1dG9jb21wbGV0ZVxuICogICAgICAgcmVxdWlyZWRcbiAqICAgICAgIGlucHV0LW5hbWU9XCJhdXRvY29tcGxldGVcIlxuICogICAgICAgbWQtc2VsZWN0ZWQtaXRlbT1cInNlbGVjdGVkSXRlbVwiXG4gKiAgICAgICBtZC1zZWFyY2gtdGV4dD1cInNlYXJjaFRleHRcIlxuICogICAgICAgbWQtaXRlbXM9XCJpdGVtIGluIGdldE1hdGNoZXMoc2VhcmNoVGV4dClcIlxuICogICAgICAgbWQtaXRlbS10ZXh0PVwiaXRlbS5kaXNwbGF5XCI+XG4gKiAgICAgPG1kLWl0ZW0tdGVtcGxhdGU+XG4gKiAgICAgICA8c3BhbiBtZC1oaWdobGlnaHQtdGV4dD1cInNlYXJjaFRleHRcIj57e2l0ZW0uZGlzcGxheX19PC9zcGFuPlxuICogICAgIDwvbWQtaXRlbS10ZW1wbGF0ZT5cbiAqICAgICA8ZGl2IG5nLW1lc3NhZ2VzPVwiYXV0b2NvbXBsZXRlRm9ybS5hdXRvY29tcGxldGUuJGVycm9yXCI+XG4gKiAgICAgICA8ZGl2IG5nLW1lc3NhZ2U9XCJyZXF1aXJlZFwiPlRoaXMgZmllbGQgaXMgcmVxdWlyZWQ8L2Rpdj5cbiAqICAgICA8L2Rpdj5cbiAqICAgPC9tZC1hdXRvY29tcGxldGU+XG4gKiA8L2Zvcm0+XG4gKiA8L2hsanM+XG4gKlxuICogSW4gdGhpcyBleGFtcGxlLCBvdXIgY29kZSB1dGlsaXplcyBgbWQtaXRlbS10ZW1wbGF0ZWAgYW5kIGBtZC1ub3QtZm91bmRgIHRvIHNwZWNpZnkgdGhlIGRpZmZlcmVudFxuICogcGFydHMgdGhhdCBtYWtlIHVwIG91ciBjb21wb25lbnQuXG4gKi9cblxuZnVuY3Rpb24gTWRBdXRvY29tcGxldGUgKCRtZFRoZW1pbmcsICRtZFV0aWwpIHtcbiAgcmV0dXJuIHtcbiAgICBjb250cm9sbGVyOiAgICdNZEF1dG9jb21wbGV0ZUN0cmwnLFxuICAgIGNvbnRyb2xsZXJBczogJyRtZEF1dG9jb21wbGV0ZUN0cmwnLFxuICAgIHNjb3BlOiAgICAgICAge1xuICAgICAgaW5wdXROYW1lOiAgICAgICdAbWRJbnB1dE5hbWUnLFxuICAgICAgaW5wdXRNaW5sZW5ndGg6ICdAbWRJbnB1dE1pbmxlbmd0aCcsXG4gICAgICBpbnB1dE1heGxlbmd0aDogJ0BtZElucHV0TWF4bGVuZ3RoJyxcbiAgICAgIHNlYXJjaFRleHQ6ICAgICAnPT9tZFNlYXJjaFRleHQnLFxuICAgICAgc2VsZWN0ZWRJdGVtOiAgICc9P21kU2VsZWN0ZWRJdGVtJyxcbiAgICAgIGl0ZW1zRXhwcjogICAgICAnQG1kSXRlbXMnLFxuICAgICAgaXRlbVRleHQ6ICAgICAgICcmbWRJdGVtVGV4dCcsXG4gICAgICBwbGFjZWhvbGRlcjogICAgJ0BwbGFjZWhvbGRlcicsXG4gICAgICBub0NhY2hlOiAgICAgICAgJz0/bWROb0NhY2hlJyxcbiAgICAgIGl0ZW1DaGFuZ2U6ICAgICAnJj9tZFNlbGVjdGVkSXRlbUNoYW5nZScsXG4gICAgICB0ZXh0Q2hhbmdlOiAgICAgJyY/bWRTZWFyY2hUZXh0Q2hhbmdlJyxcbiAgICAgIG1pbkxlbmd0aDogICAgICAnPT9tZE1pbkxlbmd0aCcsXG4gICAgICBkZWxheTogICAgICAgICAgJz0/bWREZWxheScsXG4gICAgICBhdXRvZm9jdXM6ICAgICAgJz0/bWRBdXRvZm9jdXMnLFxuICAgICAgZmxvYXRpbmdMYWJlbDogICdAP21kRmxvYXRpbmdMYWJlbCcsXG4gICAgICBhdXRvc2VsZWN0OiAgICAgJz0/bWRBdXRvc2VsZWN0JyxcbiAgICAgIG1lbnVDbGFzczogICAgICAnQD9tZE1lbnVDbGFzcydcbiAgICB9LFxuICAgIHRlbXBsYXRlOiBmdW5jdGlvbiAoZWxlbWVudCwgYXR0cikge1xuICAgICAgdmFyIG5vSXRlbXNUZW1wbGF0ZSA9IGdldE5vSXRlbXNUZW1wbGF0ZSgpLFxuICAgICAgICAgIGl0ZW1UZW1wbGF0ZSA9IGdldEl0ZW1UZW1wbGF0ZSgpLFxuICAgICAgICAgIGxlZnRvdmVyID0gZWxlbWVudC5odG1sKCk7XG4gICAgICByZXR1cm4gJ1xcXG4gICAgICAgIDxtZC1hdXRvY29tcGxldGUtd3JhcFxcXG4gICAgICAgICAgICBsYXlvdXQ9XCJyb3dcIlxcXG4gICAgICAgICAgICBuZy1jbGFzcz1cInsgXFwnbWQtd2hpdGVmcmFtZS16MVxcJzogIWZsb2F0aW5nTGFiZWwgfVwiXFxcbiAgICAgICAgICAgIHJvbGU9XCJsaXN0Ym94XCI+XFxcbiAgICAgICAgICAnICsgZ2V0SW5wdXRFbGVtZW50KCkgKyAnXFxcbiAgICAgICAgICA8bWQtcHJvZ3Jlc3MtbGluZWFyXFxcbiAgICAgICAgICAgICAgbmctaWY9XCIkbWRBdXRvY29tcGxldGVDdHJsLmxvYWRpbmdcIlxcXG4gICAgICAgICAgICAgIG1kLW1vZGU9XCJpbmRldGVybWluYXRlXCI+PC9tZC1wcm9ncmVzcy1saW5lYXI+XFxcbiAgICAgICAgICA8dWwgcm9sZT1cInByZXNlbnRhdGlvblwiXFxcbiAgICAgICAgICAgICAgY2xhc3M9XCJtZC1hdXRvY29tcGxldGUtc3VnZ2VzdGlvbnMgbWQtd2hpdGVmcmFtZS16MSB7e21lbnVDbGFzcyB8fCBcXCdcXCd9fVwiXFxcbiAgICAgICAgICAgICAgaWQ9XCJ1bC17eyRtZEF1dG9jb21wbGV0ZUN0cmwuaWR9fVwiXFxcbiAgICAgICAgICAgICAgbmctaGlkZT1cIiRtZEF1dG9jb21wbGV0ZUN0cmwuaGlkZGVuXCJcXFxuICAgICAgICAgICAgICBuZy1tb3VzZWVudGVyPVwiJG1kQXV0b2NvbXBsZXRlQ3RybC5saXN0RW50ZXIoKVwiXFxcbiAgICAgICAgICAgICAgbmctbW91c2VsZWF2ZT1cIiRtZEF1dG9jb21wbGV0ZUN0cmwubGlzdExlYXZlKClcIlxcXG4gICAgICAgICAgICAgIG5nLW1vdXNldXA9XCIkbWRBdXRvY29tcGxldGVDdHJsLm1vdXNlVXAoKVwiPlxcXG4gICAgICAgICAgICA8bGkgbmctcmVwZWF0PVwiKGluZGV4LCBpdGVtKSBpbiAkbWRBdXRvY29tcGxldGVDdHJsLm1hdGNoZXNcIlxcXG4gICAgICAgICAgICAgICAgbmctY2xhc3M9XCJ7IHNlbGVjdGVkOiBpbmRleCA9PT0gJG1kQXV0b2NvbXBsZXRlQ3RybC5pbmRleCB9XCJcXFxuICAgICAgICAgICAgICAgIG5nLWNsaWNrPVwiJG1kQXV0b2NvbXBsZXRlQ3RybC5zZWxlY3QoaW5kZXgpXCJcXFxuICAgICAgICAgICAgICAgIG1kLWF1dG9jb21wbGV0ZS1saXN0LWl0ZW09XCIkbWRBdXRvY29tcGxldGVDdHJsLml0ZW1OYW1lXCI+XFxcbiAgICAgICAgICAgICAgICAnICsgaXRlbVRlbXBsYXRlICsgJ1xcXG4gICAgICAgICAgICA8L2xpPlxcXG4gICAgICAgICAgICAnICsgbm9JdGVtc1RlbXBsYXRlICsgJ1xcXG4gICAgICAgICAgPC91bD5cXFxuICAgICAgICA8L21kLWF1dG9jb21wbGV0ZS13cmFwPlxcXG4gICAgICAgIDxhcmlhLXN0YXR1c1xcXG4gICAgICAgICAgICBjbGFzcz1cIm1kLXZpc3VhbGx5LWhpZGRlblwiXFxcbiAgICAgICAgICAgIHJvbGU9XCJzdGF0dXNcIlxcXG4gICAgICAgICAgICBhcmlhLWxpdmU9XCJhc3NlcnRpdmVcIj5cXFxuICAgICAgICAgIDxwIG5nLXJlcGVhdD1cIm1lc3NhZ2UgaW4gJG1kQXV0b2NvbXBsZXRlQ3RybC5tZXNzYWdlc1wiIG5nLWlmPVwibWVzc2FnZVwiPnt7bWVzc2FnZX19PC9wPlxcXG4gICAgICAgIDwvYXJpYS1zdGF0dXM+JztcblxuICAgICAgZnVuY3Rpb24gZ2V0SXRlbVRlbXBsYXRlKCkge1xuICAgICAgICB2YXIgdGVtcGxhdGVUYWcgPSBlbGVtZW50LmZpbmQoJ21kLWl0ZW0tdGVtcGxhdGUnKS5yZW1vdmUoKSxcbiAgICAgICAgICAgIGh0bWwgPSB0ZW1wbGF0ZVRhZy5sZW5ndGggPyB0ZW1wbGF0ZVRhZy5odG1sKCkgOiBlbGVtZW50Lmh0bWwoKTtcbiAgICAgICAgaWYgKCF0ZW1wbGF0ZVRhZy5sZW5ndGgpIGVsZW1lbnQuZW1wdHkoKTtcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldE5vSXRlbXNUZW1wbGF0ZSgpIHtcbiAgICAgICAgdmFyIHRlbXBsYXRlVGFnID0gZWxlbWVudC5maW5kKCdtZC1ub3QtZm91bmQnKS5yZW1vdmUoKSxcbiAgICAgICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGVUYWcubGVuZ3RoID8gdGVtcGxhdGVUYWcuaHRtbCgpIDogJyc7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZVxuICAgICAgICAgICAgPyAnPGxpIG5nLWlmPVwiISRtZEF1dG9jb21wbGV0ZUN0cmwubWF0Y2hlcy5sZW5ndGggJiYgISRtZEF1dG9jb21wbGV0ZUN0cmwubG9hZGluZ1xcXG4gICAgICAgICAgICAgICAgICAgICAgICAgJiYgISRtZEF1dG9jb21wbGV0ZUN0cmwuaGlkZGVuXCJcXFxuICAgICAgICAgICAgICAgICAgICAgICAgIG5nLWhpZGU9XCIkbWRBdXRvY29tcGxldGVDdHJsLmhpZGRlblwiXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICBtZC1hdXRvY29tcGxldGUtcGFyZW50LXNjb3BlPicgKyB0ZW1wbGF0ZSArICc8L2xpPidcbiAgICAgICAgICAgIDogJyc7XG5cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0SW5wdXRFbGVtZW50KCkge1xuICAgICAgICBpZiAoYXR0ci5tZEZsb2F0aW5nTGFiZWwpIHtcbiAgICAgICAgICByZXR1cm4gJ1xcXG4gICAgICAgICAgICA8bWQtaW5wdXQtY29udGFpbmVyIGZsZXggbmctaWY9XCJmbG9hdGluZ0xhYmVsXCI+XFxcbiAgICAgICAgICAgICAgPGxhYmVsPnt7ZmxvYXRpbmdMYWJlbH19PC9sYWJlbD5cXFxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInNlYXJjaFwiXFxcbiAgICAgICAgICAgICAgICAgIGlkPVwiZmwtaW5wdXQte3skbWRBdXRvY29tcGxldGVDdHJsLmlkfX1cIlxcXG4gICAgICAgICAgICAgICAgICBuYW1lPVwie3tpbnB1dE5hbWV9fVwiXFxcbiAgICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZT1cIm9mZlwiXFxcbiAgICAgICAgICAgICAgICAgIG5nLXJlcXVpcmVkPVwiaXNSZXF1aXJlZFwiXFxcbiAgICAgICAgICAgICAgICAgIG5nLW1pbmxlbmd0aD1cImlucHV0TWlubGVuZ3RoXCJcXFxuICAgICAgICAgICAgICAgICAgbmctbWF4bGVuZ3RoPVwiaW5wdXRNYXhsZW5ndGhcIlxcXG4gICAgICAgICAgICAgICAgICBuZy1kaXNhYmxlZD1cIiRtZEF1dG9jb21wbGV0ZUN0cmwuaXNEaXNhYmxlZFwiXFxcbiAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwiJG1kQXV0b2NvbXBsZXRlQ3RybC5zY29wZS5zZWFyY2hUZXh0XCJcXFxuICAgICAgICAgICAgICAgICAgbmcta2V5ZG93bj1cIiRtZEF1dG9jb21wbGV0ZUN0cmwua2V5ZG93bigkZXZlbnQpXCJcXFxuICAgICAgICAgICAgICAgICAgbmctYmx1cj1cIiRtZEF1dG9jb21wbGV0ZUN0cmwuYmx1cigpXCJcXFxuICAgICAgICAgICAgICAgICAgbmctZm9jdXM9XCIkbWRBdXRvY29tcGxldGVDdHJsLmZvY3VzKClcIlxcXG4gICAgICAgICAgICAgICAgICBhcmlhLW93bnM9XCJ1bC17eyRtZEF1dG9jb21wbGV0ZUN0cmwuaWR9fVwiXFxcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJ7e2Zsb2F0aW5nTGFiZWx9fVwiXFxcbiAgICAgICAgICAgICAgICAgIGFyaWEtYXV0b2NvbXBsZXRlPVwibGlzdFwiXFxcbiAgICAgICAgICAgICAgICAgIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCJcXFxuICAgICAgICAgICAgICAgICAgYXJpYS1hY3RpdmVkZXNjZW5kYW50PVwiXCJcXFxuICAgICAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cInt7ISRtZEF1dG9jb21wbGV0ZUN0cmwuaGlkZGVufX1cIi8+XFxcbiAgICAgICAgICAgICAgPGRpdiBtZC1hdXRvY29tcGxldGUtcGFyZW50LXNjb3BlIG1kLWF1dG9jb21wbGV0ZS1yZXBsYWNlPicgKyBsZWZ0b3ZlciArICc8L2Rpdj5cXFxuICAgICAgICAgICAgPC9tZC1pbnB1dC1jb250YWluZXI+JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gJ1xcXG4gICAgICAgICAgICA8aW5wdXQgZmxleCB0eXBlPVwic2VhcmNoXCJcXFxuICAgICAgICAgICAgICAgIGlkPVwiaW5wdXQte3skbWRBdXRvY29tcGxldGVDdHJsLmlkfX1cIlxcXG4gICAgICAgICAgICAgICAgbmFtZT1cInt7aW5wdXROYW1lfX1cIlxcXG4gICAgICAgICAgICAgICAgbmctaWY9XCIhZmxvYXRpbmdMYWJlbFwiXFxcbiAgICAgICAgICAgICAgICBhdXRvY29tcGxldGU9XCJvZmZcIlxcXG4gICAgICAgICAgICAgICAgbmctcmVxdWlyZWQ9XCJpc1JlcXVpcmVkXCJcXFxuICAgICAgICAgICAgICAgIG5nLWRpc2FibGVkPVwiJG1kQXV0b2NvbXBsZXRlQ3RybC5pc0Rpc2FibGVkXCJcXFxuICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwiJG1kQXV0b2NvbXBsZXRlQ3RybC5zY29wZS5zZWFyY2hUZXh0XCJcXFxuICAgICAgICAgICAgICAgIG5nLWtleWRvd249XCIkbWRBdXRvY29tcGxldGVDdHJsLmtleWRvd24oJGV2ZW50KVwiXFxcbiAgICAgICAgICAgICAgICBuZy1ibHVyPVwiJG1kQXV0b2NvbXBsZXRlQ3RybC5ibHVyKClcIlxcXG4gICAgICAgICAgICAgICAgbmctZm9jdXM9XCIkbWRBdXRvY29tcGxldGVDdHJsLmZvY3VzKClcIlxcXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJ7e3BsYWNlaG9sZGVyfX1cIlxcXG4gICAgICAgICAgICAgICAgYXJpYS1vd25zPVwidWwte3skbWRBdXRvY29tcGxldGVDdHJsLmlkfX1cIlxcXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cInt7cGxhY2Vob2xkZXJ9fVwiXFxcbiAgICAgICAgICAgICAgICBhcmlhLWF1dG9jb21wbGV0ZT1cImxpc3RcIlxcXG4gICAgICAgICAgICAgICAgYXJpYS1oYXNwb3B1cD1cInRydWVcIlxcXG4gICAgICAgICAgICAgICAgYXJpYS1hY3RpdmVkZXNjZW5kYW50PVwiXCJcXFxuICAgICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJ7eyEkbWRBdXRvY29tcGxldGVDdHJsLmhpZGRlbn19XCIvPlxcXG4gICAgICAgICAgICA8YnV0dG9uXFxcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcXFxuICAgICAgICAgICAgICAgIHRhYmluZGV4PVwiLTFcIlxcXG4gICAgICAgICAgICAgICAgbmctaWY9XCIkbWRBdXRvY29tcGxldGVDdHJsLnNjb3BlLnNlYXJjaFRleHQgJiYgISRtZEF1dG9jb21wbGV0ZUN0cmwuaXNEaXNhYmxlZFwiXFxcbiAgICAgICAgICAgICAgICBuZy1jbGljaz1cIiRtZEF1dG9jb21wbGV0ZUN0cmwuY2xlYXIoKVwiPlxcXG4gICAgICAgICAgICAgIDxtZC1pY29uIG1kLXN2Zy1pY29uPVwibWQtY2xvc2VcIj48L21kLWljb24+XFxcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtZC12aXN1YWxseS1oaWRkZW5cIj5DbGVhcjwvc3Bhbj5cXFxuICAgICAgICAgICAgPC9idXR0b24+XFxcbiAgICAgICAgICAgICAgICAnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuTWRBdXRvY29tcGxldGUuJGluamVjdCA9IFtcIiRtZFRoZW1pbmdcIiwgXCIkbWRVdGlsXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuYXV0b2NvbXBsZXRlJylcbiAgICAuY29udHJvbGxlcignTWRIaWdobGlnaHRDdHJsJywgTWRIaWdobGlnaHRDdHJsKTtcblxuZnVuY3Rpb24gTWRIaWdobGlnaHRDdHJsICgkc2NvcGUsICRlbGVtZW50LCAkaW50ZXJwb2xhdGUpIHtcbiAgdGhpcy5pbml0ID0gaW5pdDtcblxuICByZXR1cm4gaW5pdCgpO1xuXG4gIGZ1bmN0aW9uIGluaXQgKHRlcm0pIHtcbiAgICB2YXIgdW5zYWZlVGV4dCA9ICRpbnRlcnBvbGF0ZSgkZWxlbWVudC5odG1sKCkpKCRzY29wZSksXG4gICAgICAgIHRleHQgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXY+JykudGV4dCh1bnNhZmVUZXh0KS5odG1sKCksXG4gICAgICAgIGZsYWdzID0gJGVsZW1lbnQuYXR0cignbWQtaGlnaGxpZ2h0LWZsYWdzJykgfHwgJycsXG4gICAgICAgIHdhdGNoZXIgPSAkc2NvcGUuJHdhdGNoKHRlcm0sIGZ1bmN0aW9uICh0ZXJtKSB7XG4gICAgICAgICAgdmFyIHJlZ2V4ID0gZ2V0UmVnRXhwKHRlcm0sIGZsYWdzKSxcbiAgICAgICAgICAgICAgaHRtbCA9IHRleHQucmVwbGFjZShyZWdleCwgJzxzcGFuIGNsYXNzPVwiaGlnaGxpZ2h0XCI+JCY8L3NwYW4+Jyk7XG4gICAgICAgICAgJGVsZW1lbnQuaHRtbChodG1sKTtcbiAgICAgICAgfSk7XG4gICAgJGVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24gKCkgeyB3YXRjaGVyKCk7IH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc2FuaXRpemUgKHRlcm0pIHtcbiAgICBpZiAoIXRlcm0pIHJldHVybiB0ZXJtO1xuICAgIHJldHVybiB0ZXJtLnJlcGxhY2UoL1tcXFxcXFxeXFwkXFwqXFwrXFw/XFwuXFwoXFwpXFx8XFx7XFx9XFxbXFxdXS9nLCAnXFxcXCQmJyk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSZWdFeHAgKHRleHQsIGZsYWdzKSB7XG4gICAgdmFyIHN0ciA9ICcnO1xuICAgIGlmIChmbGFncy5pbmRleE9mKCdeJykgPj0gMSkgc3RyICs9ICdeJztcbiAgICBzdHIgKz0gdGV4dDtcbiAgICBpZiAoZmxhZ3MuaW5kZXhPZignJCcpID49IDEpIHN0ciArPSAnJCc7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoc2FuaXRpemUoc3RyKSwgZmxhZ3MucmVwbGFjZSgvW1xcJFxcXl0vZywgJycpKTtcbiAgfVxufVxuTWRIaWdobGlnaHRDdHJsLiRpbmplY3QgPSBbXCIkc2NvcGVcIiwgXCIkZWxlbWVudFwiLCBcIiRpbnRlcnBvbGF0ZVwiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmF1dG9jb21wbGV0ZScpXG4gICAgLmRpcmVjdGl2ZSgnbWRIaWdobGlnaHRUZXh0JywgTWRIaWdobGlnaHQpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kSGlnaGxpZ2h0VGV4dFxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmF1dG9jb21wbGV0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBtZC1oaWdobGlnaHQtdGV4dGAgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gc3BlY2lmeSB0ZXh0IHRoYXQgc2hvdWxkIGJlIGhpZ2hsaWdodGVkIHdpdGhpblxuICogYW4gZWxlbWVudC4gIEhpZ2hsaWdodGVkIHRleHQgd2lsbCBiZSB3cmFwcGVkIGluIGA8c3BhbiBjbGFzcz1cImhpZ2hsaWdodFwiPjwvc3Bhbj5gIHdoaWNoIGNhblxuICogYmUgc3R5bGVkIHRocm91Z2ggQ1NTLiAgUGxlYXNlIG5vdGUgdGhhdCBjaGlsZCBlbGVtZW50cyBtYXkgbm90IGJlIHVzZWQgd2l0aCB0aGlzIGRpcmVjdGl2ZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWQtaGlnaGxpZ2h0LXRleHQgQSBtb2RlbCB0byBiZSBzZWFyY2hlZCBmb3JcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWQtaGlnaGxpZ2h0LWZsYWdzIEEgbGlzdCBvZiBmbGFncyAobG9vc2VseSBiYXNlZCBvbiBKYXZhU2NyaXB0IFJleEV4cCBmbGFncykuXG4gKiAgICAjIyMjICoqU3VwcG9ydGVkIGZsYWdzKio6XG4gKiAgICAtIGBnYDogRmluZCBhbGwgbWF0Y2hlcyB3aXRoaW4gdGhlIHByb3ZpZGVkIHRleHRcbiAqICAgIC0gYGlgOiBJZ25vcmUgY2FzZSB3aGVuIHNlYXJjaGluZyBmb3IgbWF0Y2hlc1xuICogICAgLSBgJGA6IE9ubHkgbWF0Y2ggaWYgdGhlIHRleHQgZW5kcyB3aXRoIHRoZSBzZWFyY2ggdGVybVxuICogICAgLSBgXmA6IE9ubHkgbWF0Y2ggaWYgdGhlIHRleHQgYmVnaW5zIHdpdGggdGhlIHNlYXJjaCB0ZXJtXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPGlucHV0IHBsYWNlaG9sZGVyPVwiRW50ZXIgYSBzZWFyY2ggdGVybS4uLlwiIG5nLW1vZGVsPVwic2VhcmNoVGVybVwiIHR5cGU9XCJ0ZXh0XCIgLz5cbiAqIDx1bD5cbiAqICAgPGxpIG5nLXJlcGVhdD1cInJlc3VsdCBpbiByZXN1bHRzXCIgbWQtaGlnaGxpZ2h0LXRleHQ9XCJzZWFyY2hUZXJtXCI+XG4gKiAgICAge3tyZXN1bHQudGV4dH19XG4gKiAgIDwvbGk+XG4gKiA8L3VsPlxuICogPC9obGpzPlxuICovXG5cbmZ1bmN0aW9uIE1kSGlnaGxpZ2h0ICgpIHtcbiAgcmV0dXJuIHtcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICBzY29wZTogZmFsc2UsXG4gICAgY29udHJvbGxlcjogJ01kSGlnaGxpZ2h0Q3RybCcsXG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gICAgICBjdHJsLmluaXQoYXR0ci5tZEhpZ2hsaWdodFRleHQpO1xuICAgIH1cbiAgfTtcbn1cblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmF1dG9jb21wbGV0ZScpXG4gICAgLmRpcmVjdGl2ZSgnbWRBdXRvY29tcGxldGVMaXN0SXRlbScsIE1kQXV0b2NvbXBsZXRlTGlzdEl0ZW0pO1xuXG5mdW5jdGlvbiBNZEF1dG9jb21wbGV0ZUxpc3RJdGVtICgkY29tcGlsZSwgJG1kVXRpbCkge1xuICByZXR1cm4ge1xuICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgIGxpbms6IHBvc3RMaW5rLFxuICAgIHNjb3BlOiBmYWxzZVxuICB9O1xuICBmdW5jdGlvbiBwb3N0TGluayAoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICB2YXIgY3RybCAgICAgPSBzY29wZS4kcGFyZW50LiRtZEF1dG9jb21wbGV0ZUN0cmwsXG4gICAgICAgIG5ld1Njb3BlID0gY3RybC5wYXJlbnQuJG5ldyhmYWxzZSwgY3RybC5wYXJlbnQpLFxuICAgICAgICBpdGVtTmFtZSA9IGN0cmwuc2NvcGUuJGV2YWwoYXR0ci5tZEF1dG9jb21wbGV0ZUxpc3RJdGVtKTtcbiAgICBuZXdTY29wZVtpdGVtTmFtZV0gPSBzY29wZS5pdGVtO1xuICAgICRjb21waWxlKGVsZW1lbnQuY29udGVudHMoKSkobmV3U2NvcGUpO1xuICAgIGVsZW1lbnQuYXR0cih7XG4gICAgICByb2xlOiAnb3B0aW9uJyxcbiAgICAgIGlkOiAnaXRlbV8nICsgJG1kVXRpbC5uZXh0VWlkKClcbiAgICB9KTtcbiAgfVxufVxuTWRBdXRvY29tcGxldGVMaXN0SXRlbS4kaW5qZWN0ID0gW1wiJGNvbXBpbGVcIiwgXCIkbWRVdGlsXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuYXV0b2NvbXBsZXRlJylcbiAgICAuZGlyZWN0aXZlKCdtZEF1dG9jb21wbGV0ZVBhcmVudFNjb3BlJywgTWRBdXRvY29tcGxldGVQYXJlbnRTY29wZSk7XG5cbmZ1bmN0aW9uIE1kQXV0b2NvbXBsZXRlUGFyZW50U2NvcGUgKCRjb21waWxlLCAkbWRVdGlsKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICBsaW5rOiBwb3N0TGluayxcbiAgICBzY29wZTogZmFsc2VcbiAgfTtcbiAgZnVuY3Rpb24gcG9zdExpbmsgKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgdmFyIGN0cmwgICAgID0gc2NvcGUuJHBhcmVudC4kbWRBdXRvY29tcGxldGVDdHJsO1xuICAgICRjb21waWxlKGVsZW1lbnQuY29udGVudHMoKSkoY3RybC5wYXJlbnQpO1xuICAgIGlmIChhdHRyLmhhc093blByb3BlcnR5KCdtZEF1dG9jb21wbGV0ZVJlcGxhY2UnKSkge1xuICAgICAgZWxlbWVudC5hZnRlcihlbGVtZW50LmNvbnRlbnRzKCkpO1xuICAgICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgICB9XG4gIH1cbn1cbk1kQXV0b2NvbXBsZXRlUGFyZW50U2NvcGUuJGluamVjdCA9IFtcIiRjb21waWxlXCIsIFwiJG1kVXRpbFwiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmNoaXBzJylcbiAgICAuZGlyZWN0aXZlKCdtZENoaXAnLCBNZENoaXApO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG1kQ2hpcFxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmNoaXBzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBgPG1kLWNoaXA+YCBpcyBhIGNvbXBvbmVudCB1c2VkIHdpdGhpbiBgPG1kLWNoaXBzPmAgYW5kIGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgaW5kaXZpZHVhbFxuICogY2hpcHMuXG4gKlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqICAgPG1kLWNoaXA+e3skY2hpcH19PC9tZC1jaGlwPlxuICogPC9obGpzPlxuICpcbiAqL1xuXG4vLyBUaGlzIGhpbnQgdGV4dCBpcyBoaWRkZW4gd2l0aGluIGEgY2hpcCBidXQgdXNlZCBieSBzY3JlZW4gcmVhZGVycyB0b1xuLy8gaW5mb3JtIHRoZSB1c2VyIGhvdyB0aGV5IGNhbiBpbnRlcmFjdCB3aXRoIGEgY2hpcC5cbnZhciBERUxFVEVfSElOVF9URU1QTEFURSA9ICdcXFxuICAgIDxzcGFuIG5nLWlmPVwiISRtZENoaXBzQ3RybC5yZWFkb25seVwiIGNsYXNzPVwibWQtdmlzdWFsbHktaGlkZGVuXCI+XFxcbiAgICAgIHt7JG1kQ2hpcHNDdHJsLmRlbGV0ZUhpbnR9fVxcXG4gICAgPC9zcGFuPic7XG5cbi8qKlxuICogTURDaGlwIERpcmVjdGl2ZSBEZWZpbml0aW9uXG4gKlxuICogQHBhcmFtICRtZFRoZW1pbmdcbiAqIEBwYXJhbSAkbWRJbmtSaXBwbGVcbiAqIEBuZ0luamVjdFxuICovXG5mdW5jdGlvbiBNZENoaXAoJG1kVGhlbWluZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVxdWlyZTogJ14/bWRDaGlwcycsXG4gICAgY29tcGlsZTogIGNvbXBpbGVcbiAgfTtcblxuICBmdW5jdGlvbiBjb21waWxlKGVsZW1lbnQsIGF0dHIpIHtcbiAgICBlbGVtZW50LmFwcGVuZChERUxFVEVfSElOVF9URU1QTEFURSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gICAgICBlbGVtZW50LmFkZENsYXNzKCdtZC1jaGlwJyk7XG4gICAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuXG4gICAgICBpZiAoY3RybCkgYW5ndWxhci5lbGVtZW50KGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignLm1kLWNoaXAtY29udGVudCcpKVxuICAgICAgICAgIC5vbignYmx1cicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGN0cmwuc2VsZWN0ZWRDaGlwID0gLTE7XG4gICAgICAgICAgfSk7XG4gICAgfTtcbiAgfVxufVxuTWRDaGlwLiRpbmplY3QgPSBbXCIkbWRUaGVtaW5nXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuY2hpcHMnKVxuICAgIC5kaXJlY3RpdmUoJ21kQ2hpcFJlbW92ZScsIE1kQ2hpcFJlbW92ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRDaGlwUmVtb3ZlXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuY2hpcHNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGA8bWQtY2hpcC1yZW1vdmU+YFxuICogRGVzaWduYXRlcyBhbiBlbGVtZW50IHRvIGJlIHVzZWQgYXMgdGhlIGRlbGV0ZSBidXR0b24gZm9yIGEgY2hpcC4gVGhpc1xuICogZWxlbWVudCBpcyBwYXNzZWQgYXMgYSBjaGlsZCBvZiB0aGUgYG1kLWNoaXBzYCBlbGVtZW50LlxuICpcbiAqIEB1c2FnZVxuICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAqICAgPG1kLWNoaXBzPjxidXR0b24gbWQtY2hpcC1yZW1vdmU+REVMPC9idXR0b24+PC9tZC1jaGlwcz5cbiAqIDwvaGxqcz5cbiAqL1xuXG5cbi8qKlxuICogTWRDaGlwUmVtb3ZlIERpcmVjdGl2ZSBEZWZpbml0aW9uLlxuICogXG4gKiBAcGFyYW0gJGNvbXBpbGVcbiAqIEBwYXJhbSAkdGltZW91dFxuICogQHJldHVybnMge3tyZXN0cmljdDogc3RyaW5nLCByZXF1aXJlOiBzdHJpbmdbXSwgbGluazogRnVuY3Rpb24sIHNjb3BlOiBib29sZWFufX1cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBNZENoaXBSZW1vdmUgKCR0aW1lb3V0KSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnXm1kQ2hpcHMnLFxuICAgIHNjb3BlOiBmYWxzZSxcbiAgICBsaW5rOiBwb3N0TGlua1xuICB9O1xuXG4gIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gICAgZWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICBjdHJsLnJlbW92ZUNoaXAoc2NvcGUuJCRyZXBsYWNlZFNjb3BlLiRpbmRleCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIENoaWxkIGVsZW1lbnRzIGFyZW4ndCBhdmFpbGFibGUgdW50aWwgYWZ0ZXIgYSAkdGltZW91dCB0aWNrIGFzIHRoZXkgYXJlIGhpZGRlbiBieSBhblxuICAgIC8vIGBuZy1pZmAuIHNlZSBodHRwOi8vZ29vLmdsL3pJV2Z1d1xuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgZWxlbWVudC5hdHRyKHsgdGFiaW5kZXg6IC0xLCBhcmlhSGlkZGVuOiB0cnVlIH0pO1xuICAgICAgZWxlbWVudC5maW5kKCdidXR0b24nKS5hdHRyKCd0YWJpbmRleCcsICctMScpO1xuICAgIH0pO1xuICB9XG59XG5NZENoaXBSZW1vdmUuJGluamVjdCA9IFtcIiR0aW1lb3V0XCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuY2hpcHMnKVxuICAgIC5kaXJlY3RpdmUoJ21kQ2hpcFRyYW5zY2x1ZGUnLCBNZENoaXBUcmFuc2NsdWRlKTtcblxuZnVuY3Rpb24gTWRDaGlwVHJhbnNjbHVkZSAoJGNvbXBpbGUsICRtZFV0aWwpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICBsaW5rOiBsaW5rLFxuICAgIHNjb3BlOiBmYWxzZVxuICB9O1xuICBmdW5jdGlvbiBsaW5rIChzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgIHZhciBjdHJsID0gc2NvcGUuJHBhcmVudC4kbWRDaGlwc0N0cmwsXG4gICAgICAgIG5ld1Njb3BlID0gY3RybC5wYXJlbnQuJG5ldyhmYWxzZSwgY3RybC5wYXJlbnQpO1xuICAgIG5ld1Njb3BlLiQkcmVwbGFjZWRTY29wZSA9IHNjb3BlO1xuICAgIG5ld1Njb3BlLiRjaGlwID0gc2NvcGUuJGNoaXA7XG4gICAgbmV3U2NvcGUuJG1kQ2hpcHNDdHJsID0gY3RybDtcbiAgICBlbGVtZW50Lmh0bWwoY3RybC4kc2NvcGUuJGV2YWwoYXR0ci5tZENoaXBUcmFuc2NsdWRlKSk7XG4gICAgJGNvbXBpbGUoZWxlbWVudC5jb250ZW50cygpKShuZXdTY29wZSk7XG4gIH1cbn1cbk1kQ2hpcFRyYW5zY2x1ZGUuJGluamVjdCA9IFtcIiRjb21waWxlXCIsIFwiJG1kVXRpbFwiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLmNoaXBzJylcbiAgICAuY29udHJvbGxlcignTWRDaGlwc0N0cmwnLCBNZENoaXBzQ3RybCk7XG5cbi8qKlxuICogQ29udHJvbGxlciBmb3IgdGhlIE1kQ2hpcHMgY29tcG9uZW50LiBSZXNwb25zaWJsZSBmb3IgYWRkaW5nIHRvIGFuZFxuICogcmVtb3ZpbmcgZnJvbSB0aGUgbGlzdCBvZiBjaGlwcywgbWFya2luZyBjaGlwcyBhcyBzZWxlY3RlZCwgYW5kIGJpbmRpbmcgdG9cbiAqIHRoZSBtb2RlbHMgb2YgdmFyaW91cyBpbnB1dCBjb21wb25lbnRzLlxuICpcbiAqIEBwYXJhbSAkc2NvcGVcbiAqIEBwYXJhbSAkbWRDb25zdGFudFxuICogQHBhcmFtICRsb2dcbiAqIEBwYXJhbSAkZWxlbWVudFxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE1kQ2hpcHNDdHJsICgkc2NvcGUsICRtZENvbnN0YW50LCAkbG9nLCAkZWxlbWVudCwgJHRpbWVvdXQpIHtcbiAgLyoqIEB0eXBlIHskdGltZW91dH0gKiovXG4gIHRoaXMuJHRpbWVvdXQgPSAkdGltZW91dDtcblxuICAvKiogQHR5cGUge09iamVjdH0gKi9cbiAgdGhpcy4kbWRDb25zdGFudCA9ICRtZENvbnN0YW50O1xuXG4gIC8qKiBAdHlwZSB7YW5ndWxhci4kc2NvcGV9ICovXG4gIHRoaXMuJHNjb3BlID0gJHNjb3BlO1xuXG4gIC8qKiBAdHlwZSB7YW5ndWxhci4kc2NvcGV9ICovXG4gIHRoaXMucGFyZW50ID0gJHNjb3BlLiRwYXJlbnQ7XG5cbiAgLyoqIEB0eXBlIHskbG9nfSAqL1xuICB0aGlzLiRsb2cgPSAkbG9nO1xuXG4gIC8qKiBAdHlwZSB7JGVsZW1lbnR9ICovXG4gIHRoaXMuJGVsZW1lbnQgPSAkZWxlbWVudDtcblxuICAvKiogQHR5cGUge2FuZ3VsYXIuTmdNb2RlbENvbnRyb2xsZXJ9ICovXG4gIHRoaXMubmdNb2RlbEN0cmwgPSBudWxsO1xuXG4gIC8qKiBAdHlwZSB7YW5ndWxhci5OZ01vZGVsQ29udHJvbGxlcn0gKi9cbiAgdGhpcy51c2VySW5wdXROZ01vZGVsQ3RybCA9IG51bGw7XG5cbiAgLyoqIEB0eXBlIHtFbGVtZW50fSAqL1xuICB0aGlzLnVzZXJJbnB1dEVsZW1lbnQgPSBudWxsO1xuXG4gIC8qKiBAdHlwZSB7QXJyYXkuPE9iamVjdD59ICovXG4gIHRoaXMuaXRlbXMgPSBbXTtcblxuICAvKiogQHR5cGUge251bWJlcn0gKi9cbiAgdGhpcy5zZWxlY3RlZENoaXAgPSAtMTtcblxuXG4gIC8qKlxuICAgKiBIaWRkZW4gaGludCB0ZXh0IGZvciBob3cgdG8gZGVsZXRlIGEgY2hpcC4gVXNlZCB0byBnaXZlIGNvbnRleHQgdG8gc2NyZWVuIHJlYWRlcnMuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICB0aGlzLmRlbGV0ZUhpbnQgPSAnUHJlc3MgZGVsZXRlIHRvIHJlbW92ZSB0aGlzIGNoaXAuJztcblxuICAvKipcbiAgICogSGlkZGVuIGxhYmVsIGZvciB0aGUgZGVsZXRlIGJ1dHRvbi4gVXNlZCB0byBnaXZlIGNvbnRleHQgdG8gc2NyZWVuIHJlYWRlcnMuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICB0aGlzLmRlbGV0ZUJ1dHRvbkxhYmVsID0gJ1JlbW92ZSc7XG5cbiAgLyoqXG4gICAqIE1vZGVsIHVzZWQgYnkgdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICB0aGlzLmNoaXBCdWZmZXIgPSAnJztcblxuICAvKipcbiAgICogV2hldGhlciB0byB1c2UgdGhlIG1kT25BcHBlbmQgZXhwcmVzc2lvbiB0byB0cmFuc2Zvcm0gdGhlIGNoaXAgYnVmZmVyXG4gICAqIGJlZm9yZSBhcHBlbmRpbmcgaXQgdG8gdGhlIGxpc3QuXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgdGhpcy51c2VNZE9uQXBwZW5kID0gZmFsc2U7XG59XG5NZENoaXBzQ3RybC4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJG1kQ29uc3RhbnRcIiwgXCIkbG9nXCIsIFwiJGVsZW1lbnRcIiwgXCIkdGltZW91dFwiXTtcblxuLyoqXG4gKiBIYW5kbGVzIHRoZSBrZXlkb3duIGV2ZW50IG9uIHRoZSBpbnB1dCBlbGVtZW50OiA8ZW50ZXI+IGFwcGVuZHMgdGhlXG4gKiBidWZmZXIgdG8gdGhlIGNoaXAgbGlzdCwgd2hpbGUgYmFja3NwYWNlIHJlbW92ZXMgdGhlIGxhc3QgY2hpcCBpbiB0aGUgbGlzdFxuICogaWYgdGhlIGN1cnJlbnQgYnVmZmVyIGlzIGVtcHR5LlxuICogQHBhcmFtIGV2ZW50XG4gKi9cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS5pbnB1dEtleWRvd24gPSBmdW5jdGlvbihldmVudCkge1xuICB2YXIgY2hpcEJ1ZmZlciA9IHRoaXMuZ2V0Q2hpcEJ1ZmZlcigpO1xuICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcbiAgICBjYXNlIHRoaXMuJG1kQ29uc3RhbnQuS0VZX0NPREUuRU5URVI6XG4gICAgICBpZiAodGhpcy4kc2NvcGUucmVxdWlyZU1hdGNoIHx8ICFjaGlwQnVmZmVyKSBicmVhaztcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmFwcGVuZENoaXAoY2hpcEJ1ZmZlcik7XG4gICAgICB0aGlzLnJlc2V0Q2hpcEJ1ZmZlcigpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSB0aGlzLiRtZENvbnN0YW50LktFWV9DT0RFLkJBQ0tTUEFDRTpcbiAgICAgIGlmIChjaGlwQnVmZmVyKSBicmVhaztcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgaWYgKHRoaXMuaXRlbXMubGVuZ3RoKSB0aGlzLnNlbGVjdEFuZEZvY3VzQ2hpcFNhZmUodGhpcy5pdGVtcy5sZW5ndGggLSAxKTtcbiAgICAgIGJyZWFrO1xuICB9XG59O1xuXG4vKipcbiAqIEhhbmRsZXMgdGhlIGtleWRvd24gZXZlbnQgb24gdGhlIGNoaXAgZWxlbWVudHM6IGJhY2tzcGFjZSByZW1vdmVzIHRoZSBzZWxlY3RlZCBjaGlwLCBhcnJvd1xuICoga2V5cyBzd2l0Y2ggd2hpY2ggY2hpcHMgaXMgYWN0aXZlXG4gKiBAcGFyYW0gZXZlbnRcbiAqL1xuTWRDaGlwc0N0cmwucHJvdG90eXBlLmNoaXBLZXlkb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIGlmICh0aGlzLmdldENoaXBCdWZmZXIoKSkgcmV0dXJuO1xuICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcbiAgICBjYXNlIHRoaXMuJG1kQ29uc3RhbnQuS0VZX0NPREUuQkFDS1NQQUNFOlxuICAgIGNhc2UgdGhpcy4kbWRDb25zdGFudC5LRVlfQ09ERS5ERUxFVEU6XG4gICAgICBpZiAodGhpcy5zZWxlY3RlZENoaXAgPCAwKSByZXR1cm47XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5yZW1vdmVBbmRTZWxlY3RBZGphY2VudENoaXAodGhpcy5zZWxlY3RlZENoaXApO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSB0aGlzLiRtZENvbnN0YW50LktFWV9DT0RFLkxFRlRfQVJST1c6XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDaGlwIDwgMCkgdGhpcy5zZWxlY3RlZENoaXAgPSB0aGlzLml0ZW1zLmxlbmd0aDtcbiAgICAgIGlmICh0aGlzLml0ZW1zLmxlbmd0aCkgdGhpcy5zZWxlY3RBbmRGb2N1c0NoaXBTYWZlKHRoaXMuc2VsZWN0ZWRDaGlwIC0gMSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIHRoaXMuJG1kQ29uc3RhbnQuS0VZX0NPREUuUklHSFRfQVJST1c6XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5zZWxlY3RBbmRGb2N1c0NoaXBTYWZlKHRoaXMuc2VsZWN0ZWRDaGlwICsgMSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIHRoaXMuJG1kQ29uc3RhbnQuS0VZX0NPREUuRVNDQVBFOlxuICAgIGNhc2UgdGhpcy4kbWRDb25zdGFudC5LRVlfQ09ERS5UQUI6XG4gICAgICBpZiAodGhpcy5zZWxlY3RlZENoaXAgPCAwKSByZXR1cm47XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5vbkZvY3VzKCk7XG4gICAgICBicmVhaztcbiAgfVxufTtcblxuLyoqXG4gKiBHZXQgdGhlIGlucHV0J3MgcGxhY2Vob2xkZXIgLSB1c2VzIGBwbGFjZWhvbGRlcmAgd2hlbiBsaXN0IGlzIGVtcHR5IGFuZCBgc2Vjb25kYXJ5LXBsYWNlaG9sZGVyYFxuICogd2hlbiB0aGUgbGlzdCBpcyBub24tZW1wdHkuIElmIGBzZWNvbmRhcnktcGxhY2Vob2xkZXJgIGlzIG5vdCBwcm92aWRlZCwgYHBsYWNlaG9sZGVyYCBpcyB1c2VkXG4gKiBhbHdheXMuXG4gKi9cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS5nZXRQbGFjZWhvbGRlciA9IGZ1bmN0aW9uKCkge1xuICAvLyBBbGxvdyBgc2Vjb25kYXJ5LXBsYWNlaG9sZGVyYCB0byBiZSBibGFuay5cbiAgdmFyIHVzZVNlY29uZGFyeSA9ICh0aGlzLml0ZW1zLmxlbmd0aCAmJlxuICAgICAgKHRoaXMuc2Vjb25kYXJ5UGxhY2Vob2xkZXIgPT0gJycgfHwgdGhpcy5zZWNvbmRhcnlQbGFjZWhvbGRlcikpO1xuICByZXR1cm4gdXNlU2Vjb25kYXJ5ID8gdGhpcy5wbGFjZWhvbGRlciA6IHRoaXMuc2Vjb25kYXJ5UGxhY2Vob2xkZXI7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgY2hpcCBhdCB7QGNvZGUgaW5kZXh9IGFuZCBzZWxlY3RzIHRoZSBhZGphY2VudCBjaGlwLlxuICogQHBhcmFtIGluZGV4XG4gKi9cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS5yZW1vdmVBbmRTZWxlY3RBZGphY2VudENoaXAgPSBmdW5jdGlvbihpbmRleCkge1xuICB2YXIgc2VsSW5kZXggPSB0aGlzLmdldEFkamFjZW50Q2hpcEluZGV4KGluZGV4KTtcbiAgdGhpcy5yZW1vdmVDaGlwKGluZGV4KTtcbiAgdGhpcy4kdGltZW91dChhbmd1bGFyLmJpbmQodGhpcywgZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5zZWxlY3RBbmRGb2N1c0NoaXBTYWZlKHNlbEluZGV4KTtcbiAgfSkpO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBzZWxlY3RlZCBjaGlwIGluZGV4IHRvIC0xLlxuICovXG5NZENoaXBzQ3RybC5wcm90b3R5cGUucmVzZXRTZWxlY3RlZENoaXAgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zZWxlY3RlZENoaXAgPSAtMTtcbn07XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggb2YgYW4gYWRqYWNlbnQgY2hpcCB0byBzZWxlY3QgYWZ0ZXIgZGVsZXRpb24uIEFkamFjZW5jeSBpc1xuICogZGV0ZXJtaW5lZCBhcyB0aGUgbmV4dCBjaGlwIGluIHRoZSBsaXN0LCB1bmxlc3MgdGhlIHRhcmdldCBjaGlwIGlzIHRoZVxuICogbGFzdCBpbiB0aGUgbGlzdCwgdGhlbiBpdCBpcyB0aGUgY2hpcCBpbW1lZGlhdGVseSBwcmVjZWRpbmcgdGhlIHRhcmdldC4gSWZcbiAqIHRoZXJlIGlzIG9ubHkgb25lIGl0ZW0gaW4gdGhlIGxpc3QsIC0xIGlzIHJldHVybmVkIChzZWxlY3Qgbm9uZSkuXG4gKiBUaGUgbnVtYmVyIHJldHVybmVkIGlzIHRoZSBpbmRleCB0byBzZWxlY3QgQUZURVIgdGhlIHRhcmdldCBoYXMgYmVlblxuICogcmVtb3ZlZC5cbiAqIElmIHRoZSBjdXJyZW50IGNoaXAgaXMgbm90IHNlbGVjdGVkLCB0aGVuIC0xIGlzIHJldHVybmVkIHRvIHNlbGVjdCBub25lLlxuICovXG5NZENoaXBzQ3RybC5wcm90b3R5cGUuZ2V0QWRqYWNlbnRDaGlwSW5kZXggPSBmdW5jdGlvbihpbmRleCkge1xuICB2YXIgbGVuID0gdGhpcy5pdGVtcy5sZW5ndGggLSAxO1xuICByZXR1cm4gKGxlbiA9PSAwKSA/IC0xIDpcbiAgICAgIChpbmRleCA9PSBsZW4pID8gaW5kZXggLTEgOiBpbmRleDtcbn07XG5cbi8qKlxuICogQXBwZW5kIHRoZSBjb250ZW50cyBvZiB0aGUgYnVmZmVyIHRvIHRoZSBjaGlwIGxpc3QuIFRoaXMgbWV0aG9kIHdpbGwgZmlyc3RcbiAqIGNhbGwgb3V0IHRvIHRoZSBtZC1vbi1hcHBlbmQgbWV0aG9kLCBpZiBwcm92aWRlZFxuICogQHBhcmFtIG5ld0NoaXBcbiAqL1xuTWRDaGlwc0N0cmwucHJvdG90eXBlLmFwcGVuZENoaXAgPSBmdW5jdGlvbihuZXdDaGlwKSB7XG4gIGlmICh0aGlzLml0ZW1zLmluZGV4T2YobmV3Q2hpcCkgKyAxKSByZXR1cm47XG4gIGlmICh0aGlzLnVzZU1kT25BcHBlbmQgJiYgdGhpcy5tZE9uQXBwZW5kKSB7XG4gICAgbmV3Q2hpcCA9IHRoaXMubWRPbkFwcGVuZCh7JyRjaGlwJzogbmV3Q2hpcH0pO1xuICB9XG4gIHRoaXMuaXRlbXMucHVzaChuZXdDaGlwKTtcbn07XG5cbi8qKlxuICogU2V0cyB3aGV0aGVyIHRvIHVzZSB0aGUgbWQtb24tYXBwZW5kIGV4cHJlc3Npb24uIFRoaXMgZXhwcmVzc2lvbiBpc1xuICogYm91bmQgdG8gc2NvcGUgYW5kIGNvbnRyb2xsZXIgaW4ge0Bjb2RlIE1kQ2hpcHNEaXJlY3RpdmV9IGFzXG4gKiB7QGNvZGUgbWRPbkFwcGVuZH0uIER1ZSB0byB0aGUgbmF0dXJlIG9mIGRpcmVjdGl2ZSBzY29wZSBiaW5kaW5ncywgdGhlXG4gKiBjb250cm9sbGVyIGNhbm5vdCBrbm93IG9uIGl0cyBvd24vZnJvbSB0aGUgc2NvcGUgd2hldGhlciBhbiBleHByZXNzaW9uIHdhc1xuICogYWN0dWFsbHkgcHJvdmlkZWQuXG4gKi9cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS51c2VNZE9uQXBwZW5kRXhwcmVzc2lvbiA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnVzZU1kT25BcHBlbmQgPSB0cnVlO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBpbnB1dCBidWZmZXIuIFRoZSBpbnB1dCBidWZmZXIgY2FuIGJlIHRoZSBtb2RlbCBib3VuZCB0byB0aGVcbiAqIGRlZmF1bHQgaW5wdXQgaXRlbSB7QGNvZGUgdGhpcy5jaGlwQnVmZmVyfSwgdGhlIHtAY29kZSBzZWxlY3RlZEl0ZW19XG4gKiBtb2RlbCBvZiBhbiB7QGNvZGUgbWQtYXV0b2NvbXBsZXRlfSwgb3IsIHRocm91Z2ggc29tZSBtYWdpYywgdGhlIG1vZGVsXG4gKiBib3VuZCB0byBhbnkgaW5wcHV0IG9yIHRleHQgYXJlYSBlbGVtZW50IGZvdW5kIHdpdGhpbiBhXG4gKiB7QGNvZGUgbWQtaW5wdXQtY29udGFpbmVyfSBlbGVtZW50LlxuICogQHJldHVybiB7T2JqZWN0fHN0cmluZ31cbiAqL1xuTWRDaGlwc0N0cmwucHJvdG90eXBlLmdldENoaXBCdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICF0aGlzLnVzZXJJbnB1dEVsZW1lbnQgPyB0aGlzLmNoaXBCdWZmZXIgOlxuICAgICAgdGhpcy51c2VySW5wdXROZ01vZGVsQ3RybCA/IHRoaXMudXNlcklucHV0TmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSA6XG4gICAgICAgICAgdGhpcy51c2VySW5wdXRFbGVtZW50WzBdLnZhbHVlO1xufTtcblxuLyoqXG4gKiBSZXNldHMgdGhlIGlucHV0IGJ1ZmZlciBmb3IgZWl0aGVyIHRoZSBpbnRlcm5hbCBpbnB1dCBvciB1c2VyIHByb3ZpZGVkIGlucHV0IGVsZW1lbnQuXG4gKi9cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS5yZXNldENoaXBCdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMudXNlcklucHV0RWxlbWVudCkge1xuICAgIGlmICh0aGlzLnVzZXJJbnB1dE5nTW9kZWxDdHJsKSB7XG4gICAgICB0aGlzLnVzZXJJbnB1dE5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoJycpO1xuICAgICAgdGhpcy51c2VySW5wdXROZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXNlcklucHV0RWxlbWVudFswXS52YWx1ZSA9ICcnO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLmNoaXBCdWZmZXIgPSAnJztcbiAgfVxufTtcblxuLyoqXG4gKiBSZW1vdmVzIHRoZSBjaGlwIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAqIEBwYXJhbSBpbmRleFxuICovXG5NZENoaXBzQ3RybC5wcm90b3R5cGUucmVtb3ZlQ2hpcCA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gIHRoaXMuaXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcbn07XG5cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS5yZW1vdmVDaGlwQW5kRm9jdXNJbnB1dCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICB0aGlzLnJlbW92ZUNoaXAoaW5kZXgpO1xuICB0aGlzLm9uRm9jdXMoKTtcbn07XG4vKipcbiAqIFNlbGVjdHMgdGhlIGNoaXAgYXQgYGluZGV4YCxcbiAqIEBwYXJhbSBpbmRleFxuICovXG5NZENoaXBzQ3RybC5wcm90b3R5cGUuc2VsZWN0QW5kRm9jdXNDaGlwU2FmZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gIGlmICghdGhpcy5pdGVtcy5sZW5ndGgpIHtcbiAgICB0aGlzLnNlbGVjdENoaXAoLTEpO1xuICAgIHRoaXMub25Gb2N1cygpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaW5kZXggPT09IHRoaXMuaXRlbXMubGVuZ3RoKSByZXR1cm4gdGhpcy5vbkZvY3VzKCk7XG4gIGluZGV4ID0gTWF0aC5tYXgoaW5kZXgsIDApO1xuICBpbmRleCA9IE1hdGgubWluKGluZGV4LCB0aGlzLml0ZW1zLmxlbmd0aCAtIDEpO1xuICB0aGlzLnNlbGVjdENoaXAoaW5kZXgpO1xuICB0aGlzLmZvY3VzQ2hpcChpbmRleCk7XG59O1xuXG4vKipcbiAqIE1hcmtzIHRoZSBjaGlwIGF0IHRoZSBnaXZlbiBpbmRleCBhcyBzZWxlY3RlZC5cbiAqIEBwYXJhbSBpbmRleFxuICovXG5NZENoaXBzQ3RybC5wcm90b3R5cGUuc2VsZWN0Q2hpcCA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gIGlmIChpbmRleCA+PSAtMSAmJiBpbmRleCA8PSB0aGlzLml0ZW1zLmxlbmd0aCkge1xuICAgIHRoaXMuc2VsZWN0ZWRDaGlwID0gaW5kZXg7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy4kbG9nLndhcm4oJ1NlbGVjdGVkIENoaXAgaW5kZXggb3V0IG9mIGJvdW5kczsgaWdub3JpbmcuJyk7XG4gIH1cbn07XG5cbi8qKlxuICogU2VsZWN0cyB0aGUgY2hpcCBhdCBgaW5kZXhgIGFuZCBnaXZlcyBpdCBmb2N1cy5cbiAqIEBwYXJhbSBpbmRleFxuICovXG5NZENoaXBzQ3RybC5wcm90b3R5cGUuc2VsZWN0QW5kRm9jdXNDaGlwID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgdGhpcy5zZWxlY3RDaGlwKGluZGV4KTtcbiAgaWYgKGluZGV4ICE9IC0xKSB7XG4gICAgdGhpcy5mb2N1c0NoaXAoaW5kZXgpO1xuICB9XG59O1xuXG4vKipcbiAqIENhbGwgYGZvY3VzKClgIG9uIHRoZSBjaGlwIGF0IGBpbmRleGBcbiAqL1xuTWRDaGlwc0N0cmwucHJvdG90eXBlLmZvY3VzQ2hpcCA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gIHRoaXMuJGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignbWQtY2hpcFtpbmRleD1cIicgKyBpbmRleCArICdcIl0gLm1kLWNoaXAtY29udGVudCcpLmZvY3VzKCk7XG59O1xuXG4vKipcbiAqIENvbmZpZ3VyZXMgdGhlIHJlcXVpcmVkIGludGVyYWN0aW9ucyB3aXRoIHRoZSBuZ01vZGVsIENvbnRyb2xsZXIuXG4gKiBTcGVjaWZpY2FsbHksIHNldCB7QGNvZGUgdGhpcy5pdGVtc30gdG8gdGhlIHtAY29kZSBOZ01vZGVsQ3RybCMkdmlld1ZhbGV9LlxuICogQHBhcmFtIG5nTW9kZWxDdHJsXG4gKi9cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS5jb25maWd1cmVOZ01vZGVsID0gZnVuY3Rpb24obmdNb2RlbEN0cmwpIHtcbiAgdGhpcy5uZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsO1xuXG4gIHZhciBzZWxmID0gdGhpcztcbiAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIG1vZGVsIGlzIHVwZGF0ZWQuIGRvIHNvbWV0aGluZy5cbiAgICBzZWxmLml0ZW1zID0gc2VsZi5uZ01vZGVsQ3RybC4kdmlld1ZhbHVlO1xuICB9O1xufTtcblxuTWRDaGlwc0N0cmwucHJvdG90eXBlLm9uRm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBpbnB1dCA9IHRoaXMuJGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgaW5wdXQgJiYgaW5wdXQuZm9jdXMoKTtcbiAgdGhpcy5yZXNldFNlbGVjdGVkQ2hpcCgpO1xufTtcblxuTWRDaGlwc0N0cmwucHJvdG90eXBlLm9uSW5wdXRGb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5pbnB1dEhhc0ZvY3VzID0gdHJ1ZTtcbiAgdGhpcy5yZXNldFNlbGVjdGVkQ2hpcCgpO1xufTtcblxuTWRDaGlwc0N0cmwucHJvdG90eXBlLm9uSW5wdXRCbHVyID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmlucHV0SGFzRm9jdXMgPSBmYWxzZTtcbn07XG5cbi8qKlxuICogQ29uZmlndXJlIGV2ZW50IGJpbmRpbmdzIG9uIGEgdXNlci1wcm92aWRlZCBpbnB1dCBlbGVtZW50LlxuICogQHBhcmFtIGlucHV0RWxlbWVudFxuICovXG5NZENoaXBzQ3RybC5wcm90b3R5cGUuY29uZmlndXJlVXNlcklucHV0ID0gZnVuY3Rpb24oaW5wdXRFbGVtZW50KSB7XG4gIHRoaXMudXNlcklucHV0RWxlbWVudCA9IGlucHV0RWxlbWVudDtcblxuICAvLyBGaW5kIHRoZSBOZ01vZGVsQ3RybCBmb3IgdGhlIGlucHV0IGVsZW1lbnRcbiAgdmFyIG5nTW9kZWxDdHJsID0gaW5wdXRFbGVtZW50LmNvbnRyb2xsZXIoJ25nTW9kZWwnKTtcbiAgLy8gYC5jb250cm9sbGVyYCB3aWxsIGxvb2sgaW4gdGhlIHBhcmVudCBhcyB3ZWxsLlxuICBpZiAobmdNb2RlbEN0cmwgIT0gdGhpcy5uZ01vZGVsQ3RybCkge1xuICAgIHRoaXMudXNlcklucHV0TmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybDtcbiAgfVxuXG4gIC8vIEJpbmQgdG8ga2V5ZG93biBhbmQgZm9jdXMgZXZlbnRzIG9mIGlucHV0XG4gIHZhciBzY29wZSA9IHRoaXMuJHNjb3BlO1xuICB2YXIgY3RybCA9IHRoaXM7XG4gIGlucHV0RWxlbWVudFxuICAgICAgLmF0dHIoeyB0YWJpbmRleDogMCB9KVxuICAgICAgLm9uKCdrZXlkb3duJywgZnVuY3Rpb24oZXZlbnQpIHsgc2NvcGUuJGFwcGx5KCBhbmd1bGFyLmJpbmQoY3RybCwgZnVuY3Rpb24oKSB7IGN0cmwuaW5wdXRLZXlkb3duKGV2ZW50KTsgfSkpIH0pXG4gICAgICAub24oJ2ZvY3VzJywgYW5ndWxhci5iaW5kKGN0cmwsIGN0cmwub25JbnB1dEZvY3VzKSlcbiAgICAgIC5vbignYmx1cicsIGFuZ3VsYXIuYmluZChjdHJsLCBjdHJsLm9uSW5wdXRCbHVyKSk7XG59O1xuXG5NZENoaXBzQ3RybC5wcm90b3R5cGUuY29uZmlndXJlQXV0b2NvbXBsZXRlID0gZnVuY3Rpb24oY3RybCkge1xuXG4gIGN0cmwucmVnaXN0ZXJTZWxlY3RlZEl0ZW1XYXRjaGVyKGFuZ3VsYXIuYmluZCh0aGlzLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgIGlmIChpdGVtKSB7XG4gICAgICB0aGlzLmFwcGVuZENoaXAoaXRlbSk7XG4gICAgICB0aGlzLnJlc2V0Q2hpcEJ1ZmZlcigpO1xuICAgIH1cbiAgfSkpO1xuXG4gIHRoaXMuJGVsZW1lbnQuZmluZCgnaW5wdXQnKVxuICAgICAgLm9uKCdmb2N1cycsYW5ndWxhci5iaW5kKHRoaXMsIHRoaXMub25JbnB1dEZvY3VzKSApXG4gICAgICAub24oJ2JsdXInLCBhbmd1bGFyLmJpbmQodGhpcywgdGhpcy5vbklucHV0Qmx1cikgKTtcbn07XG5cbk1kQ2hpcHNDdHJsLnByb3RvdHlwZS5oYXNGb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuaW5wdXRIYXNGb2N1cyB8fCB0aGlzLnNlbGVjdGVkQ2hpcCA+PSAwO1xufTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhclxuICAgICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy5jaGlwcycpXG4gICAgICAuZGlyZWN0aXZlKCdtZENoaXBzJywgTWRDaGlwcyk7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAgICogQG5hbWUgbWRDaGlwc1xuICAgKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMuY2hpcHNcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIGA8bWQtY2hpcHM+YCBpcyBhbiBpbnB1dCBjb21wb25lbnQgZm9yIGJ1aWxkaW5nIGxpc3RzIG9mIHN0cmluZ3Mgb3Igb2JqZWN0cy4gVGhlIGxpc3QgaXRlbXMgYXJlXG4gICAqIGRpc3BsYXllZCBhcyAnY2hpcHMnLiBUaGlzIGNvbXBvbmVudCBjYW4gbWFrZSB1c2Ugb2YgYW4gYDxpbnB1dD5gIGVsZW1lbnQgb3IgYW5cbiAgICogYDxtZC1hdXRvY29tcGxldGU+YCBlbGVtZW50LlxuICAgKlxuICAgKiA8c3Ryb25nPkN1c3RvbSBgPG1kLWNoaXAtdGVtcGxhdGU+YCB0ZW1wbGF0ZTwvc3Ryb25nPlxuICAgKiBBIGN1c3RvbSB0ZW1wbGF0ZSBtYXkgYmUgcHJvdmlkZWQgdG8gcmVuZGVyIHRoZSBjb250ZW50IG9mIGVhY2ggY2hpcC4gVGhpcyBpcyBhY2hpZXZlZCBieVxuICAgKiBzcGVjaWZ5aW5nIGFuIGA8bWQtY2hpcC10ZW1wbGF0ZT5gIGVsZW1lbnQgYXMgYSBjaGlsZCBvZiBgPG1kLWNoaXBzPmAuIE5vdGU6IEFueSBhdHRyaWJ1dGVzIG9uXG4gICAqIGA8bWQtY2hpcC10ZW1wbGF0ZT5gIHdpbGwgYmUgZHJvcHBlZCBhcyBvbmx5IHRoZSBpbm5lckhUTUwgaXMgdXNlZCBmb3IgdGhlIGNoaXAgdGVtcGxhdGUuIFRoZVxuICAgKiB2YXJpYWJsZXMgYCRjaGlwYCBhbmQgYCRpbmRleGAgYXJlIGF2YWlsYWJsZSBpbiB0aGUgc2NvcGUgb2YgYDxtZC1jaGlwLXRlbXBsYXRlPmAsIHJlcHJlc2VudGluZ1xuICAgKiB0aGUgY2hpcCBvYmplY3QgYW5kIGl0cyBpbmRleCBpbiB0aGUgbGlzdCBvZiBjaGlwcywgcmVzcGVjdGl2ZWx5LlxuICAgKiBUbyBvdmVycmlkZSB0aGUgY2hpcCBkZWxldGUgY29udHJvbCwgaW5jbHVkZSBhbiBlbGVtZW50IChpZGVhbGx5IGEgYnV0dG9uKSB3aXRoIHRoZSBhdHRyaWJ1dGVcbiAgICogYG1kLWNoaXAtcmVtb3ZlYC4gQSBjbGljayBsaXN0ZW5lciB0byByZW1vdmUgdGhlIGNoaXAgd2lsbCBiZSBhZGRlZCBhdXRvbWF0aWNhbGx5LiBUaGUgZWxlbWVudFxuICAgKiBpcyBhbHNvIHBsYWNlZCBhcyBhIHNpYmxpbmcgdG8gdGhlIGNoaXAgY29udGVudCAob24gd2hpY2ggdGhlcmUgYXJlIGFsc28gY2xpY2sgbGlzdGVuZXJzKSB0b1xuICAgKiBhdm9pZCBhIG5lc3RlZCBuZy1jbGljayBzaXR1YXRpb24uXG4gICAqXG4gICAqIDxoMz4gUGVuZGluZyBGZWF0dXJlcyA8L2gzPlxuICAgKiA8dWwgc3R5bGU9XCJwYWRkaW5nLWxlZnQ6MjBweDtcIj5cbiAgICpcbiAgICogICA8dWw+U3R5bGVcbiAgICogICAgIDxsaT5Db2xvdXJzIGZvciBob3ZlciwgcHJlc3Mgc3RhdGVzIChyaXBwbGU/KS48L2xpPlxuICAgKiAgIDwvdWw+XG4gICAqXG4gICAqICAgPHVsPkxpc3QgTWFuaXB1bGF0aW9uXG4gICAqICAgICA8bGk+ZGVsZXRlIGl0ZW0gdmlhIERFTCBvciBiYWNrc3BhY2Uga2V5cyB3aGVuIHNlbGVjdGVkPC9saT5cbiAgICogICA8L3VsPlxuICAgKlxuICAgKiAgIDx1bD5WYWxpZGF0aW9uXG4gICAqICAgICA8bGk+ZGUtZHVwZSB2YWx1ZXMgKG9yIHN1cHBvcnQgZHVwbGljYXRlcywgYnV0IGZpeCB0aGUgbmctcmVwZWF0IGR1cGxpY2F0ZSBrZXkgaXNzdWUpPC9saT5cbiAgICogICAgIDxsaT5hbGxvdyBhIHZhbGlkYXRpb24gY2FsbGJhY2s8L2xpPlxuICAgKiAgICAgPGxpPmhpbGlnaHRpbmcgc3R5bGUgZm9yIGludmFsaWQgY2hpcHM8L2xpPlxuICAgKiAgIDwvdWw+XG4gICAqXG4gICAqICAgPHVsPkl0ZW0gbXV0YXRpb25cbiAgICogICAgIDxsaT5TdXBwb3J0IGBcbiAgICogICAgICAgPG1kLWNoaXAtZWRpdD5gIHRlbXBsYXRlLCBzaG93L2hpZGUgdGhlIGVkaXQgZWxlbWVudCBvbiB0YXAvY2xpY2s/IGRvdWJsZSB0YXAvZG91YmxlXG4gICAqICAgICAgIGNsaWNrP1xuICAgKiAgICAgPC9saT5cbiAgICogICA8L3VsPlxuICAgKlxuICAgKiAgIDx1bD5UcnVuY2F0aW9uIGFuZCBEaXNhbWJpZ3VhdGlvbiAoPylcbiAgICogICAgIDxsaT5UcnVuY2F0ZSBjaGlwIHRleHQgd2hlcmUgcG9zc2libGUsIGJ1dCBkbyBub3QgdHJ1bmNhdGUgZW50cmllcyBzdWNoIHRoYXQgdHdvIGFyZVxuICAgKiAgICAgaW5kaXN0aW5ndWlzaGFibGUuPC9saT5cbiAgICogICA8L3VsPlxuICAgKlxuICAgKiAgIDx1bD5EcmFnIGFuZCBEcm9wXG4gICAqICAgICA8bGk+RHJhZyBhbmQgZHJvcCBjaGlwcyBiZXR3ZWVuIHJlbGF0ZWQgYDxtZC1jaGlwcz5gIGVsZW1lbnRzLlxuICAgKiAgICAgPC9saT5cbiAgICogICA8L3VsPlxuICAgKiA8L3VsPlxuICAgKlxuICAgKiAgPHNwYW4gc3R5bGU9XCJmb250LXNpemU6LjhlbTt0ZXh0LWFsaWduOmNlbnRlclwiPlxuICAgKiAgICBXYXJuaW5nOiBUaGlzIGNvbXBvbmVudCBpcyBhIFdPUksgSU4gUFJPR1JFU1MuIElmIHlvdSB1c2UgaXQgbm93LFxuICAgKiAgICBpdCB3aWxsIHByb2JhYmx5IGJyZWFrIG9uIHlvdSBpbiB0aGUgZnV0dXJlLlxuICAgKiAgPC9zcGFuPlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZz18b2JqZWN0PX0gbmctbW9kZWwgQSBtb2RlbCB0byBiaW5kIHRoZSBsaXN0IG9mIGl0ZW1zIHRvXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcGxhY2Vob2xkZXIgUGxhY2Vob2xkZXIgdGV4dCB0aGF0IHdpbGwgYmUgZm9yd2FyZGVkIHRvIHRoZSBpbnB1dC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBzZWNvbmRhcnktcGxhY2Vob2xkZXIgUGxhY2Vob2xkZXIgdGV4dCB0aGF0IHdpbGwgYmUgZm9yd2FyZGVkIHRvIHRoZSBpbnB1dCxcbiAgICogICAgZGlzcGxheWVkIHdoZW4gdGhlcmUgaXMgYXQgbGVhc3Qgb24gaXRlbSBpbiB0aGUgbGlzdFxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSByZWFkb25seSBEaXNhYmxlcyBsaXN0IG1hbmlwdWxhdGlvbiAoZGVsZXRpbmcgb3IgYWRkaW5nIGxpc3QgaXRlbXMpLCBoaWRpbmdcbiAgICogICAgdGhlIGlucHV0IGFuZCBkZWxldGUgYnV0dG9uc1xuICAgKiBAcGFyYW0ge2V4cHJlc3Npb259IG1kLW9uLWFwcGVuZCBBbiBleHByZXNzaW9uIGV4cGVjdGVkIHRvIGNvbnZlcnQgdGhlIGlucHV0IHN0cmluZyBpbnRvIGFuXG4gICAqICAgIG9iamVjdCB3aGVuIGFkZGluZyBhIGNoaXAuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gZGVsZXRlLWhpbnQgQSBzdHJpbmcgcmVhZCBieSBzY3JlZW4gcmVhZGVycyBpbnN0cnVjdGluZyB1c2VycyB0aGF0IHByZXNzaW5nXG4gICAqICAgIHRoZSBkZWxldGUga2V5IHdpbGwgcmVtb3ZlIHRoZSBjaGlwLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IGRlbGV0ZS1idXR0b24tbGFiZWwgQSBsYWJlbCBmb3IgdGhlIGRlbGV0ZSBidXR0b24uIEFsc28gaGlkZGVuIGFuZCByZWFkIGJ5XG4gICAqICAgIHNjcmVlbiByZWFkZXJzLlxuICAgKlxuICAgKiBAdXNhZ2VcbiAgICogPGhsanMgbGFuZz1cImh0bWxcIj5cbiAgICogICA8bWQtY2hpcHNcbiAgICogICAgICAgbmctbW9kZWw9XCJteUl0ZW1zXCJcbiAgICogICAgICAgcGxhY2Vob2xkZXI9XCJBZGQgYW4gaXRlbVwiXG4gICAqICAgICAgIHJlYWRvbmx5PVwiaXNSZWFkT25seVwiPlxuICAgKiAgIDwvbWQtY2hpcHM+XG4gICAqIDwvaGxqcz5cbiAgICpcbiAgICovXG5cblxuICB2YXIgTURfQ0hJUFNfVEVNUExBVEUgPSAnXFxcbiAgICAgIDxtZC1jaGlwcy13cmFwXFxcbiAgICAgICAgICBuZy1pZj1cIiEkbWRDaGlwc0N0cmwucmVhZG9ubHkgfHwgJG1kQ2hpcHNDdHJsLml0ZW1zLmxlbmd0aCA+IDBcIlxcXG4gICAgICAgICAgbmcta2V5ZG93bj1cIiRtZENoaXBzQ3RybC5jaGlwS2V5ZG93bigkZXZlbnQpXCJcXFxuICAgICAgICAgIG5nLWNsYXNzPVwieyBcXCdtZC1mb2N1c2VkXFwnOiAkbWRDaGlwc0N0cmwuaGFzRm9jdXMoKSB9XCJcXFxuICAgICAgICAgIGNsYXNzPVwibWQtY2hpcHNcIj5cXFxuICAgICAgICA8bWQtY2hpcCBuZy1yZXBlYXQ9XCIkY2hpcCBpbiAkbWRDaGlwc0N0cmwuaXRlbXNcIlxcXG4gICAgICAgICAgICBpbmRleD1cInt7JGluZGV4fX1cIlxcXG4gICAgICAgICAgICBuZy1jbGFzcz1cIntcXCdtZC1mb2N1c2VkXFwnOiAkbWRDaGlwc0N0cmwuc2VsZWN0ZWRDaGlwID09ICRpbmRleH1cIj5cXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZC1jaGlwLWNvbnRlbnRcIlxcXG4gICAgICAgICAgICAgIHRhYmluZGV4PVwiLTFcIlxcXG4gICAgICAgICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXFxcbiAgICAgICAgICAgICAgbmctZm9jdXM9XCIhJG1kQ2hpcHNDdHJsLnJlYWRvbmx5ICYmICRtZENoaXBzQ3RybC5zZWxlY3RDaGlwKCRpbmRleClcIlxcXG4gICAgICAgICAgICAgIG1kLWNoaXAtdHJhbnNjbHVkZT1cIiRtZENoaXBzQ3RybC5jaGlwQ29udGVudHNUZW1wbGF0ZVwiPjwvZGl2PlxcXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1kLWNoaXAtcmVtb3ZlLWNvbnRhaW5lclwiXFxcbiAgICAgICAgICAgICAgbWQtY2hpcC10cmFuc2NsdWRlPVwiJG1kQ2hpcHNDdHJsLmNoaXBSZW1vdmVUZW1wbGF0ZVwiPjwvZGl2PlxcXG4gICAgICAgIDwvbWQtY2hpcD5cXFxuICAgICAgICA8ZGl2IG5nLWlmPVwiISRtZENoaXBzQ3RybC5yZWFkb25seSAmJiAkbWRDaGlwc0N0cmwubmdNb2RlbEN0cmxcIlxcXG4gICAgICAgICAgICBjbGFzcz1cIm1kLWNoaXAtaW5wdXQtY29udGFpbmVyXCJcXFxuICAgICAgICAgICAgbWQtY2hpcC10cmFuc2NsdWRlPVwiJG1kQ2hpcHNDdHJsLmNoaXBJbnB1dFRlbXBsYXRlXCI+PC9kaXY+XFxcbiAgICAgICAgPC9kaXY+XFxcbiAgICAgIDwvbWQtY2hpcHMtd3JhcD4nO1xuXG4gIHZhciBDSElQX0lOUFVUX1RFTVBMQVRFID0gJ1xcXG4gICAgICAgIDxpbnB1dFxcXG4gICAgICAgICAgICB0YWJpbmRleD1cIjBcIlxcXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cInt7JG1kQ2hpcHNDdHJsLmdldFBsYWNlaG9sZGVyKCl9fVwiXFxcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJ7eyRtZENoaXBzQ3RybC5nZXRQbGFjZWhvbGRlcigpfX1cIlxcXG4gICAgICAgICAgICBuZy1tb2RlbD1cIiRtZENoaXBzQ3RybC5jaGlwQnVmZmVyXCJcXFxuICAgICAgICAgICAgbmctZm9jdXM9XCIkbWRDaGlwc0N0cmwub25JbnB1dEZvY3VzKClcIlxcXG4gICAgICAgICAgICBuZy1ibHVyPVwiJG1kQ2hpcHNDdHJsLm9uSW5wdXRCbHVyKClcIlxcXG4gICAgICAgICAgICBuZy1rZXlkb3duPVwiJG1kQ2hpcHNDdHJsLmlucHV0S2V5ZG93bigkZXZlbnQpXCI+JztcblxuICB2YXIgQ0hJUF9ERUZBVUxUX1RFTVBMQVRFID0gJ1xcXG4gICAgICA8c3Bhbj57eyRjaGlwfX08L3NwYW4+JztcblxuICB2YXIgQ0hJUF9SRU1PVkVfVEVNUExBVEUgPSAnXFxcbiAgICAgIDxidXR0b25cXFxuICAgICAgICAgIGNsYXNzPVwibWQtY2hpcC1yZW1vdmVcIlxcXG4gICAgICAgICAgbmctaWY9XCIhJG1kQ2hpcHNDdHJsLnJlYWRvbmx5XCJcXFxuICAgICAgICAgIG5nLWNsaWNrPVwiJG1kQ2hpcHNDdHJsLnJlbW92ZUNoaXBBbmRGb2N1c0lucHV0KCQkcmVwbGFjZWRTY29wZS4kaW5kZXgpXCJcXFxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxcXG4gICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcXFxuICAgICAgICAgIHRhYmluZGV4PVwiLTFcIj5cXFxuICAgICAgICA8bWQtaWNvbiBtZC1zdmctaWNvbj1cIm1kLWNsb3NlXCI+PC9tZC1pY29uPlxcXG4gICAgICAgIDxzcGFuIGNsYXNzPVwibWQtdmlzdWFsbHktaGlkZGVuXCI+XFxcbiAgICAgICAgICB7eyRtZENoaXBzQ3RybC5kZWxldGVCdXR0b25MYWJlbH19XFxcbiAgICAgICAgPC9zcGFuPlxcXG4gICAgICA8L2J1dHRvbj4nO1xuXG4gIC8qKlxuICAgKiBNRENoaXBzIERpcmVjdGl2ZSBEZWZpbml0aW9uXG4gICAqL1xuICBmdW5jdGlvbiBNZENoaXBzICgkbWRUaGVtaW5nLCAkbWRVdGlsLCAkY29tcGlsZSwgJGxvZywgJHRpbWVvdXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGVtcGxhdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIC8vIENsb25lIHRoZSBlbGVtZW50IGludG8gYW4gYXR0cmlidXRlLiBCeSBwcmVwZW5kaW5nIHRoZSBhdHRyaWJ1dGVcbiAgICAgICAgLy8gbmFtZSB3aXRoICckJywgQW5ndWxhciB3b24ndCB3cml0ZSBpdCBpbnRvIHRoZSBET00uIFRoZSBjbG9uZWRcbiAgICAgICAgLy8gZWxlbWVudCBwcm9wYWdhdGVzIHRvIHRoZSBsaW5rIGZ1bmN0aW9uIHZpYSB0aGUgYXR0cnMgYXJndW1lbnQsXG4gICAgICAgIC8vIHdoZXJlIHZhcmlvdXMgY29udGFpbmVkLWVsZW1lbnRzIGNhbiBiZSBjb25zdW1lZC5cbiAgICAgICAgdmFyIGNvbnRlbnQgPSBhdHRyc1snJG1kVXNlclRlbXBsYXRlJ10gPSBlbGVtZW50LmNsb25lKCk7XG4gICAgICAgIHJldHVybiBNRF9DSElQU19URU1QTEFURTtcbiAgICAgIH0sXG4gICAgICByZXF1aXJlOiBbJ21kQ2hpcHMnXSxcbiAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICBjb250cm9sbGVyOiAnTWRDaGlwc0N0cmwnLFxuICAgICAgY29udHJvbGxlckFzOiAnJG1kQ2hpcHNDdHJsJyxcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICBjb21waWxlOiBjb21waWxlLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgcmVhZG9ubHk6ICc9cmVhZG9ubHknLFxuICAgICAgICBwbGFjZWhvbGRlcjogJ0AnLFxuICAgICAgICBzZWNvbmRhcnlQbGFjZWhvbGRlcjogJ0AnLFxuICAgICAgICBtZE9uQXBwZW5kOiAnJicsXG4gICAgICAgIGRlbGV0ZUhpbnQ6ICdAJyxcbiAgICAgICAgZGVsZXRlQnV0dG9uTGFiZWw6ICdAJyxcbiAgICAgICAgcmVxdWlyZU1hdGNoOiAnPT9tZFJlcXVpcmVNYXRjaCdcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQnVpbGRzIHRoZSBmaW5hbCB0ZW1wbGF0ZSBmb3IgYG1kLWNoaXBzYCBhbmQgcmV0dXJucyB0aGUgcG9zdExpbmsgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBCdWlsZGluZyB0aGUgdGVtcGxhdGUgaW52b2x2ZXMgMyBrZXkgY29tcG9uZW50czpcbiAgICAgKiBzdGF0aWMgY2hpcHNcbiAgICAgKiBjaGlwIHRlbXBsYXRlXG4gICAgICogaW5wdXQgY29udHJvbFxuICAgICAqXG4gICAgICogSWYgbm8gYG5nLW1vZGVsYCBpcyBwcm92aWRlZCwgb25seSB0aGUgc3RhdGljIGNoaXAgd29yayBuZWVkcyB0byBiZSBkb25lLlxuICAgICAqXG4gICAgICogSWYgbm8gdXNlci1wYXNzZWQgYG1kLWNoaXAtdGVtcGxhdGVgIGV4aXN0cywgdGhlIGRlZmF1bHQgdGVtcGxhdGUgaXMgdXNlZC4gVGhpcyByZXN1bHRpbmdcbiAgICAgKiB0ZW1wbGF0ZSBpcyBhcHBlbmRlZCB0byB0aGUgY2hpcCBjb250ZW50IGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBUaGUgcmVtb3ZlIGJ1dHRvbiBtYXkgYmUgb3ZlcnJpZGRlbiBieSBwYXNzaW5nIGFuIGVsZW1lbnQgd2l0aCBhbiBtZC1jaGlwLXJlbW92ZSBhdHRyaWJ1dGUuXG4gICAgICpcbiAgICAgKiBJZiBhbiBgaW5wdXRgIG9yIGBtZC1hdXRvY29tcGxldGVgIGVsZW1lbnQgaXMgcHJvdmlkZWQgYnkgdGhlIGNhbGxlciwgaXQgaXMgc2V0IGFzaWRlIGZvclxuICAgICAqIHRyYW5zY2x1c2lvbiBsYXRlci4gVGhlIHRyYW5zY2x1c2lvbiBoYXBwZW5zIGluIGBwb3N0TGlua2AgYXMgdGhlIHBhcmVudCBzY29wZSBpcyByZXF1aXJlZC5cbiAgICAgKiBJZiBubyB1c2VyIGlucHV0IGlzIHByb3ZpZGVkLCBhIGRlZmF1bHQgb25lIGlzIGFwcGVuZGVkIHRvIHRoZSBpbnB1dCBjb250YWluZXIgbm9kZSBpbiB0aGVcbiAgICAgKiB0ZW1wbGF0ZS5cbiAgICAgKlxuICAgICAqIFN0YXRpYyBDaGlwcyAoaS5lLiBgbWQtY2hpcGAgZWxlbWVudHMgcGFzc2VkIGZyb20gdGhlIGNhbGxlcikgYXJlIGdhdGhlcmVkIGFuZCBzZXQgYXNpZGUgZm9yXG4gICAgICogdHJhbnNjbHVzaW9uIGluIHRoZSBgcG9zdExpbmtgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWxlbWVudFxuICAgICAqIEBwYXJhbSBhdHRyXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBpbGUoZWxlbWVudCwgYXR0cikge1xuICAgICAgLy8gR3JhYiB0aGUgdXNlciB0ZW1wbGF0ZSBmcm9tIGF0dHIgYW5kIHJlc2V0IHRoZSBhdHRyaWJ1dGUgdG8gbnVsbC5cbiAgICAgIHZhciB1c2VyVGVtcGxhdGUgPSBhdHRyWyckbWRVc2VyVGVtcGxhdGUnXTtcbiAgICAgIGF0dHJbJyRtZFVzZXJUZW1wbGF0ZSddID0gbnVsbDtcblxuICAgICAgLy8gU2V0IHRoZSBjaGlwIHJlbW92ZSwgY2hpcCBjb250ZW50cyBhbmQgY2hpcCBpbnB1dCB0ZW1wbGF0ZXMuIFRoZSBsaW5rIGZ1bmN0aW9uIHdpbGwgcHV0XG4gICAgICAvLyB0aGVtIG9uIHRoZSBzY29wZSBmb3IgdHJhbnNjbHVzaW9uIGxhdGVyLlxuICAgICAgdmFyIGNoaXBSZW1vdmVUZW1wbGF0ZSAgID0gZ2V0VGVtcGxhdGVCeVF1ZXJ5KCdtZC1jaGlwcz4qW21kLWNoaXAtcmVtb3ZlXScpIHx8IENISVBfUkVNT1ZFX1RFTVBMQVRFLFxuICAgICAgICAgIGNoaXBDb250ZW50c1RlbXBsYXRlID0gZ2V0VGVtcGxhdGVCeVF1ZXJ5KCdtZC1jaGlwcz5tZC1jaGlwLXRlbXBsYXRlJykgfHwgQ0hJUF9ERUZBVUxUX1RFTVBMQVRFLFxuICAgICAgICAgIGNoaXBJbnB1dFRlbXBsYXRlICAgID0gZ2V0VGVtcGxhdGVCeVF1ZXJ5KCdtZC1jaGlwcz5tZC1hdXRvY29tcGxldGUnKVxuICAgICAgICAgICAgICB8fCBnZXRUZW1wbGF0ZUJ5UXVlcnkoJ21kLWNoaXBzPmlucHV0JylcbiAgICAgICAgICAgICAgfHwgQ0hJUF9JTlBVVF9URU1QTEFURSxcbiAgICAgICAgICBzdGF0aWNDaGlwcyA9IHVzZXJUZW1wbGF0ZS5maW5kKCdtZC1jaGlwJyk7XG5cbiAgICAgIC8vIFdhcm4gb2YgbWFsZm9ybWVkIHRlbXBsYXRlLiBTZWUgIzI1NDVcbiAgICAgIGlmICh1c2VyVGVtcGxhdGVbMF0ucXVlcnlTZWxlY3RvcignbWQtY2hpcC10ZW1wbGF0ZT4qW21kLWNoaXAtcmVtb3ZlXScpKSB7XG4gICAgICAgICRsb2cud2FybignaW52YWxpZCBwbGFjZW1lbnQgb2YgbWQtY2hpcC1yZW1vdmUgd2l0aGluIG1kLWNoaXAtdGVtcGxhdGUuJyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldFRlbXBsYXRlQnlRdWVyeSAocXVlcnkpIHtcbiAgICAgICAgaWYgKCFhdHRyLm5nTW9kZWwpIHJldHVybjtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB1c2VyVGVtcGxhdGVbMF0ucXVlcnlTZWxlY3RvcihxdWVyeSk7XG4gICAgICAgIHJldHVybiBlbGVtZW50ICYmIGVsZW1lbnQub3V0ZXJIVE1MO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENvbmZpZ3VyZXMgY29udHJvbGxlciBhbmQgdHJhbnNjbHVkZXMuXG4gICAgICAgKi9cbiAgICAgIHJldHVybiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIGNvbnRyb2xsZXJzKSB7XG5cbiAgICAgICAgJG1kVXRpbC5pbml0T3B0aW9uYWxQcm9wZXJ0aWVzKHNjb3BlLCBhdHRyKTtcblxuICAgICAgICAkbWRUaGVtaW5nKGVsZW1lbnQpO1xuICAgICAgICB2YXIgbWRDaGlwc0N0cmwgPSBjb250cm9sbGVyc1swXTtcbiAgICAgICAgbWRDaGlwc0N0cmwuY2hpcENvbnRlbnRzVGVtcGxhdGUgPSBjaGlwQ29udGVudHNUZW1wbGF0ZTtcbiAgICAgICAgbWRDaGlwc0N0cmwuY2hpcFJlbW92ZVRlbXBsYXRlICAgPSBjaGlwUmVtb3ZlVGVtcGxhdGU7XG4gICAgICAgIG1kQ2hpcHNDdHJsLmNoaXBJbnB1dFRlbXBsYXRlICAgID0gY2hpcElucHV0VGVtcGxhdGU7XG5cbiAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgLmF0dHIoeyBhcmlhSGlkZGVuOiB0cnVlLCB0YWJpbmRleDogLTEgfSlcbiAgICAgICAgICAgIC5vbignZm9jdXMnLCBmdW5jdGlvbiAoKSB7IG1kQ2hpcHNDdHJsLm9uRm9jdXMoKTsgfSk7XG5cbiAgICAgICAgaWYgKGF0dHIubmdNb2RlbCkge1xuICAgICAgICAgIG1kQ2hpcHNDdHJsLmNvbmZpZ3VyZU5nTW9kZWwoZWxlbWVudC5jb250cm9sbGVyKCduZ01vZGVsJykpO1xuXG4gICAgICAgICAgLy8gSWYgYW4gYG1kLW9uLWFwcGVuZGAgYXR0cmlidXRlIHdhcyBzZXQsIHRlbGwgdGhlIGNvbnRyb2xsZXIgdG8gdXNlIHRoZSBleHByZXNzaW9uXG4gICAgICAgICAgLy8gd2hlbiBhcHBlbmRpbmcgY2hpcHMuXG4gICAgICAgICAgaWYgKGF0dHJzLm1kT25BcHBlbmQpIG1kQ2hpcHNDdHJsLnVzZU1kT25BcHBlbmRFeHByZXNzaW9uKCk7XG5cbiAgICAgICAgICAvLyBUaGUgbWQtYXV0b2NvbXBsZXRlIGFuZCBpbnB1dCBlbGVtZW50cyB3b24ndCBiZSBjb21waWxlZCB1bnRpbCBhZnRlciB0aGlzIGRpcmVjdGl2ZVxuICAgICAgICAgIC8vIGlzIGNvbXBsZXRlIChkdWUgdG8gdGhlaXIgbmVzdGVkIG5hdHVyZSkuIFdhaXQgYSB0aWNrIGJlZm9yZSBsb29raW5nIGZvciB0aGVtIHRvXG4gICAgICAgICAgLy8gY29uZmlndXJlIHRoZSBjb250cm9sbGVyLlxuICAgICAgICAgIGlmIChjaGlwSW5wdXRUZW1wbGF0ZSAhPSBDSElQX0lOUFVUX1RFTVBMQVRFKSB7XG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKGNoaXBJbnB1dFRlbXBsYXRlLmluZGV4T2YoJzxtZC1hdXRvY29tcGxldGUnKSA9PT0gMClcbiAgICAgICAgICAgICAgICBtZENoaXBzQ3RybFxuICAgICAgICAgICAgICAgICAgICAuY29uZmlndXJlQXV0b2NvbXBsZXRlKGVsZW1lbnQuZmluZCgnbWQtYXV0b2NvbXBsZXRlJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jb250cm9sbGVyKCdtZEF1dG9jb21wbGV0ZScpKTtcbiAgICAgICAgICAgICAgbWRDaGlwc0N0cmwuY29uZmlndXJlVXNlcklucHV0KGVsZW1lbnQuZmluZCgnaW5wdXQnKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb21waWxlIHdpdGggdGhlIHBhcmVudCdzIHNjb3BlIGFuZCBwcmVwZW5kIGFueSBzdGF0aWMgY2hpcHMgdG8gdGhlIHdyYXBwZXIuXG4gICAgICAgIGlmIChzdGF0aWNDaGlwcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdmFyIGNvbXBpbGVkU3RhdGljQ2hpcHMgPSAkY29tcGlsZShzdGF0aWNDaGlwcykoc2NvcGUuJHBhcmVudCk7XG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7IGVsZW1lbnQuZmluZCgnbWQtY2hpcHMtd3JhcCcpLnByZXBlbmQoY29tcGlsZWRTdGF0aWNDaGlwcyk7IH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBNZENoaXBzLiRpbmplY3QgPSBbXCIkbWRUaGVtaW5nXCIsIFwiJG1kVXRpbFwiLCBcIiRjb21waWxlXCIsIFwiJGxvZ1wiLCBcIiR0aW1lb3V0XCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuY2hpcHMnKVxuICAgIC5jb250cm9sbGVyKCdNZENvbnRhY3RDaGlwc0N0cmwnLCBNZENvbnRhY3RDaGlwc0N0cmwpO1xuXG5cblxuLyoqXG4gKiBDb250cm9sbGVyIGZvciB0aGUgTWRDb250YWN0Q2hpcHMgY29tcG9uZW50XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gTWRDb250YWN0Q2hpcHNDdHJsICgpIHtcbiAgLyoqIEB0eXBlIHtPYmplY3R9ICovXG4gIHRoaXMuc2VsZWN0ZWRJdGVtID0gbnVsbDtcblxuICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgdGhpcy5zZWFyY2hUZXh0ID0gJyc7XG59XG5cblxuTWRDb250YWN0Q2hpcHNDdHJsLnByb3RvdHlwZS5xdWVyeUNvbnRhY3QgPSBmdW5jdGlvbihzZWFyY2hUZXh0KSB7XG4gIHZhciByZXN1bHRzID0gdGhpcy5jb250YWN0UXVlcnkoeyckcXVlcnknOiBzZWFyY2hUZXh0fSk7XG4gIHJldHVybiB0aGlzLmZpbHRlclNlbGVjdGVkID9cbiAgICAgIHJlc3VsdHMuZmlsdGVyKGFuZ3VsYXIuYmluZCh0aGlzLCB0aGlzLmZpbHRlclNlbGVjdGVkQ29udGFjdHMpKSA6IHJlc3VsdHM7XG59O1xuXG5cbk1kQ29udGFjdENoaXBzQ3RybC5wcm90b3R5cGUuZmlsdGVyU2VsZWN0ZWRDb250YWN0cyA9IGZ1bmN0aW9uKGNvbnRhY3QpIHtcbiAgcmV0dXJuIHRoaXMuY29udGFjdHMuaW5kZXhPZihjb250YWN0KSA9PSAtMTtcbn07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXJcbiAgICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMuY2hpcHMnKVxuICAgICAgLmRpcmVjdGl2ZSgnbWRDb250YWN0Q2hpcHMnLCBNZENvbnRhY3RDaGlwcyk7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAgICogQG5hbWUgbWRDb250YWN0Q2hpcHNcbiAgICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLmNoaXBzXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBgPG1kLWNvbnRhY3QtY2hpcHM+YCBpcyBhbiBpbnB1dCBjb21wb25lbnQgYmFzZWQgb24gYG1kLWNoaXBzYCBhbmQgbWFrZXMgdXNlIG9mIGFuXG4gICAqICAgIGBtZC1hdXRvY29tcGxldGVgIGVsZW1lbnQuIFRoZSBjb21wb25lbnQgYWxsb3dzIHRoZSBjYWxsZXIgdG8gc3VwcGx5IGEgcXVlcnkgZXhwcmVzc2lvblxuICAgKiAgICB3aGljaCByZXR1cm5zICBhIGxpc3Qgb2YgcG9zc2libGUgY29udGFjdHMuIFRoZSB1c2VyIGNhbiBzZWxlY3Qgb25lIG9mIHRoZXNlIGFuZCBhZGQgaXQgdG9cbiAgICogICAgdGhlIGxpc3Qgb2YgY2hpcHMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nPXxvYmplY3Q9fSBuZy1tb2RlbCBBIG1vZGVsIHRvIGJpbmQgdGhlIGxpc3Qgb2YgaXRlbXMgdG9cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBwbGFjZWhvbGRlciBQbGFjZWhvbGRlciB0ZXh0IHRoYXQgd2lsbCBiZSBmb3J3YXJkZWQgdG8gdGhlIGlucHV0LlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHNlY29uZGFyeS1wbGFjZWhvbGRlciBQbGFjZWhvbGRlciB0ZXh0IHRoYXQgd2lsbCBiZSBmb3J3YXJkZWQgdG8gdGhlIGlucHV0LFxuICAgKiAgICBkaXNwbGF5ZWQgd2hlbiB0aGVyZSBpcyBhdCBsZWFzdCBvbiBpdGVtIGluIHRoZSBsaXN0XG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbWQtY29udGFjdHMgQW4gZXhwcmVzc2lvbiBleHBlY3RlZCB0byByZXR1cm4gY29udGFjdHMgbWF0Y2hpbmcgdGhlIHNlYXJjaFxuICAgKiAgICB0ZXN0LCBgJHF1ZXJ5YC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG1kLWNvbnRhY3QtbmFtZSBUaGUgZmllbGQgbmFtZSBvZiB0aGUgY29udGFjdCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZVxuICAgKiAgICBjb250YWN0J3MgbmFtZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG1kLWNvbnRhY3QtZW1haWwgVGhlIGZpZWxkIG5hbWUgb2YgdGhlIGNvbnRhY3Qgb2JqZWN0IHJlcHJlc2VudGluZyB0aGVcbiAgICogICAgY29udGFjdCdzIGVtYWlsIGFkZHJlc3MuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZC1jb250YWN0LWltYWdlIFRoZSBmaWVsZCBuYW1lIG9mIHRoZSBjb250YWN0IG9iamVjdCByZXByZXNlbnRpbmcgdGhlXG4gICAqICAgIGNvbnRhY3QncyBpbWFnZS5cbiAgICpcbiAgICpcbiAgICogLy8gVGhlIGZvbGxvd2luZyBhdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZCBidXQgbWF5IGNvbWUgYmFjay5cbiAgICogQHBhcmFtIHtleHByZXNzaW9uPX0gZmlsdGVyLXNlbGVjdGVkIFdoZXRoZXIgdG8gZmlsdGVyIHNlbGVjdGVkIGNvbnRhY3RzIGZyb20gdGhlIGxpc3Qgb2ZcbiAgICogICAgc3VnZ2VzdGlvbnMgc2hvd24gaW4gdGhlIGF1dG9jb21wbGV0ZS5cbiAgICpcbiAgICpcbiAgICpcbiAgICogQHVzYWdlXG4gICAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gICAqICAgPG1kLWNvbnRhY3QtY2hpcHNcbiAgICogICAgICAgbmctbW9kZWw9XCJjdHJsLmNvbnRhY3RzXCJcbiAgICogICAgICAgbWQtY29udGFjdHM9XCJjdHJsLnF1ZXJ5U2VhcmNoKCRxdWVyeSlcIlxuICAgKiAgICAgICBtZC1jb250YWN0LW5hbWU9XCJuYW1lXCJcbiAgICogICAgICAgbWQtY29udGFjdC1pbWFnZT1cImltYWdlXCJcbiAgICogICAgICAgbWQtY29udGFjdC1lbWFpbD1cImVtYWlsXCJcbiAgICogICAgICAgcGxhY2Vob2xkZXI9XCJUb1wiPlxuICAgKiAgIDwvbWQtY29udGFjdC1jaGlwcz5cbiAgICogPC9obGpzPlxuICAgKlxuICAgKi9cblxuXG4gIHZhciBNRF9DT05UQUNUX0NISVBTX1RFTVBMQVRFID0gJ1xcXG4gICAgICA8bWQtY2hpcHMgY2xhc3M9XCJtZC1jb250YWN0LWNoaXBzXCJcXFxuICAgICAgICAgIG5nLW1vZGVsPVwiJG1kQ29udGFjdENoaXBzQ3RybC5jb250YWN0c1wiXFxcbiAgICAgICAgICBtZC1yZXF1aXJlLW1hdGNoPVwiJG1kQ29udGFjdENoaXBzQ3RybC5yZXF1aXJlTWF0Y2hcIlxcXG4gICAgICAgICAgbWQtYXV0b2NvbXBsZXRlLXNuYXA+XFxcbiAgICAgICAgICA8bWQtYXV0b2NvbXBsZXRlXFxcbiAgICAgICAgICAgICAgbWQtbWVudS1jbGFzcz1cIm1kLWNvbnRhY3QtY2hpcHMtc3VnZ2VzdGlvbnNcIlxcXG4gICAgICAgICAgICAgIG1kLXNlbGVjdGVkLWl0ZW09XCIkbWRDb250YWN0Q2hpcHNDdHJsLnNlbGVjdGVkSXRlbVwiXFxcbiAgICAgICAgICAgICAgbWQtc2VhcmNoLXRleHQ9XCIkbWRDb250YWN0Q2hpcHNDdHJsLnNlYXJjaFRleHRcIlxcXG4gICAgICAgICAgICAgIG1kLWl0ZW1zPVwiaXRlbSBpbiAkbWRDb250YWN0Q2hpcHNDdHJsLnF1ZXJ5Q29udGFjdCgkbWRDb250YWN0Q2hpcHNDdHJsLnNlYXJjaFRleHQpXCJcXFxuICAgICAgICAgICAgICBtZC1pdGVtLXRleHQ9XCIkbWRDb250YWN0Q2hpcHNDdHJsLm1kQ29udGFjdE5hbWVcIlxcXG4gICAgICAgICAgICAgIG1kLW5vLWNhY2hlPVwidHJ1ZVwiXFxcbiAgICAgICAgICAgICAgbWQtYXV0b3NlbGVjdFxcXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwie3skbWRDb250YWN0Q2hpcHNDdHJsLmNvbnRhY3RzLmxlbmd0aCA9PSAwID9cXFxuICAgICAgICAgICAgICAgICAgJG1kQ29udGFjdENoaXBzQ3RybC5wbGFjZWhvbGRlciA6ICRtZENvbnRhY3RDaGlwc0N0cmwuc2Vjb25kYXJ5UGxhY2Vob2xkZXJ9fVwiPlxcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWQtY29udGFjdC1zdWdnZXN0aW9uXCI+XFxcbiAgICAgICAgICAgICAgPGltZyBcXFxuICAgICAgICAgICAgICAgICAgbmctc3JjPVwie3tpdGVtWyRtZENvbnRhY3RDaGlwc0N0cmwuY29udGFjdEltYWdlXX19XCJcXFxuICAgICAgICAgICAgICAgICAgYWx0PVwie3tpdGVtWyRtZENvbnRhY3RDaGlwc0N0cmwuY29udGFjdE5hbWVdfX1cIiAvPlxcXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWQtY29udGFjdC1uYW1lXCIgbWQtaGlnaGxpZ2h0LXRleHQ9XCIkbWRDb250YWN0Q2hpcHNDdHJsLnNlYXJjaFRleHRcIj5cXFxuICAgICAgICAgICAgICAgIHt7aXRlbVskbWRDb250YWN0Q2hpcHNDdHJsLmNvbnRhY3ROYW1lXX19XFxcbiAgICAgICAgICAgICAgPC9zcGFuPlxcXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibWQtY29udGFjdC1lbWFpbFwiID57e2l0ZW1bJG1kQ29udGFjdENoaXBzQ3RybC5jb250YWN0RW1haWxdfX08L3NwYW4+XFxcbiAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgPC9tZC1hdXRvY29tcGxldGU+XFxcbiAgICAgICAgICA8bWQtY2hpcC10ZW1wbGF0ZT5cXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1kLWNvbnRhY3QtYXZhdGFyXCI+XFxcbiAgICAgICAgICAgICAgPGltZyBcXFxuICAgICAgICAgICAgICAgICAgbmctc3JjPVwie3skY2hpcFskbWRDb250YWN0Q2hpcHNDdHJsLmNvbnRhY3RJbWFnZV19fVwiXFxcbiAgICAgICAgICAgICAgICAgIGFsdD1cInt7JGNoaXBbJG1kQ29udGFjdENoaXBzQ3RybC5jb250YWN0TmFtZV19fVwiIC8+XFxcbiAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWQtY29udGFjdC1uYW1lXCI+XFxcbiAgICAgICAgICAgICAge3skY2hpcFskbWRDb250YWN0Q2hpcHNDdHJsLmNvbnRhY3ROYW1lXX19XFxcbiAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgPC9tZC1jaGlwLXRlbXBsYXRlPlxcXG4gICAgICA8L21kLWNoaXBzPic7XG5cblxuICAvKipcbiAgICogTURDb250YWN0Q2hpcHMgRGlyZWN0aXZlIERlZmluaXRpb25cbiAgICpcbiAgICogQHBhcmFtICRtZFRoZW1pbmdcbiAgICogQHJldHVybnMgeyp9XG4gICAqIEBuZ0luamVjdFxuICAgKi9cbiAgZnVuY3Rpb24gTWRDb250YWN0Q2hpcHMgKCRtZFRoZW1pbmcsICRtZFV0aWwpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGVtcGxhdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIHJldHVybiBNRF9DT05UQUNUX0NISVBTX1RFTVBMQVRFO1xuICAgICAgfSxcbiAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICBjb250cm9sbGVyOiAnTWRDb250YWN0Q2hpcHNDdHJsJyxcbiAgICAgIGNvbnRyb2xsZXJBczogJyRtZENvbnRhY3RDaGlwc0N0cmwnLFxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgIGNvbXBpbGU6IGNvbXBpbGUsXG4gICAgICBzY29wZToge1xuICAgICAgICBjb250YWN0UXVlcnk6ICcmbWRDb250YWN0cycsXG4gICAgICAgIHBsYWNlaG9sZGVyOiAnQCcsXG4gICAgICAgIHNlY29uZGFyeVBsYWNlaG9sZGVyOiAnQCcsXG4gICAgICAgIGNvbnRhY3ROYW1lOiAnQG1kQ29udGFjdE5hbWUnLFxuICAgICAgICBjb250YWN0SW1hZ2U6ICdAbWRDb250YWN0SW1hZ2UnLFxuICAgICAgICBjb250YWN0RW1haWw6ICdAbWRDb250YWN0RW1haWwnLFxuICAgICAgICBjb250YWN0czogJz1uZ01vZGVsJyxcbiAgICAgICAgcmVxdWlyZU1hdGNoOiAnPT9tZFJlcXVpcmVNYXRjaCdcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gY29tcGlsZShlbGVtZW50LCBhdHRyKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycykge1xuXG4gICAgICAgICRtZFV0aWwuaW5pdE9wdGlvbmFsUHJvcGVydGllcyhzY29wZSwgYXR0cik7XG4gICAgICAgICRtZFRoZW1pbmcoZWxlbWVudCk7XG5cbiAgICAgICAgZWxlbWVudC5hdHRyKCd0YWJpbmRleCcsICctMScpO1xuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgTWRDb250YWN0Q2hpcHMuJGluamVjdCA9IFtcIiRtZFRoZW1pbmdcIiwgXCIkbWRVdGlsXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBtZFRhYlxuICogQG1vZHVsZSBtYXRlcmlhbC5jb21wb25lbnRzLnRhYnNcbiAqXG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIHRoZSBgPG1kLXRhYj5gIGEgbmVzdGVkIGRpcmVjdGl2ZSB1c2VkIHdpdGhpbiBgPG1kLXRhYnM+YCB0byBzcGVjaWZ5IGEgdGFiIHdpdGggYSAqKmxhYmVsKiogYW5kIG9wdGlvbmFsICp2aWV3IGNvbnRlbnQqLlxuICpcbiAqIElmIHRoZSBgbGFiZWxgIGF0dHJpYnV0ZSBpcyBub3Qgc3BlY2lmaWVkLCB0aGVuIGFuIG9wdGlvbmFsIGA8bWQtdGFiLWxhYmVsPmAgdGFnIGNhbiBiZSB1c2VkIHRvIHNwZWNpZnkgbW9yZVxuICogY29tcGxleCB0YWIgaGVhZGVyIG1hcmt1cC4gSWYgbmVpdGhlciB0aGUgKipsYWJlbCoqIG5vciB0aGUgKiptZC10YWItbGFiZWwqKiBhcmUgc3BlY2lmaWVkLCB0aGVuIHRoZSBuZXN0ZWRcbiAqIG1hcmt1cCBvZiB0aGUgYDxtZC10YWI+YCBpcyB1c2VkIGFzIHRoZSB0YWIgaGVhZGVyIG1hcmt1cC5cbiAqXG4gKiBQbGVhc2Ugbm90ZSB0aGF0IGlmIHlvdSB1c2UgYDxtZC10YWItbGFiZWw+YCwgeW91ciBjb250ZW50ICoqTVVTVCoqIGJlIHdyYXBwZWQgaW4gdGhlIGA8bWQtdGFiLWJvZHk+YCB0YWcuICBUaGlzXG4gKiBpcyB0byBkZWZpbmUgYSBjbGVhciBzZXBhcmF0aW9uIGJldHdlZW4gdGhlIHRhYiBjb250ZW50IGFuZCB0aGUgdGFiIGxhYmVsLlxuICpcbiAqIElmIGEgdGFiICoqbGFiZWwqKiBoYXMgYmVlbiBpZGVudGlmaWVkLCB0aGVuIGFueSAqKm5vbi0qKmA8bWQtdGFiLWxhYmVsPmAgbWFya3VwXG4gKiB3aWxsIGJlIGNvbnNpZGVyZWQgdGFiIGNvbnRlbnQgYW5kIHdpbGwgYmUgdHJhbnNjbHVkZWQgdG8gdGhlIGludGVybmFsIGA8ZGl2IGNsYXNzPVwibWQtdGFicy1jb250ZW50XCI+YCBjb250YWluZXIuXG4gKlxuICogVGhpcyBjb250YWluZXIgaXMgdXNlZCBieSB0aGUgVGFic0NvbnRyb2xsZXIgdG8gc2hvdy9oaWRlIHRoZSBhY3RpdmUgdGFiJ3MgY29udGVudCB2aWV3LiBUaGlzIHN5bmNocm9uaXphdGlvbiBpc1xuICogYXV0b21hdGljYWxseSBtYW5hZ2VkIGJ5IHRoZSBpbnRlcm5hbCBUYWJzQ29udHJvbGxlciB3aGVuZXZlciB0aGUgdGFiIHNlbGVjdGlvbiBjaGFuZ2VzLiBTZWxlY3Rpb24gY2hhbmdlcyBjYW5cbiAqIGJlIGluaXRpYXRlZCB2aWEgZGF0YSBiaW5kaW5nIGNoYW5nZXMsIHByb2dyYW1tYXRpYyBpbnZvY2F0aW9uLCBvciB1c2VyIGdlc3R1cmVzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbGFiZWwgT3B0aW9uYWwgYXR0cmlidXRlIHRvIHNwZWNpZnkgYSBzaW1wbGUgc3RyaW5nIGFzIHRoZSB0YWIgbGFiZWxcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGRpc2FibGVkIElmIHByZXNlbnQsIGRpc2FibGVkIHRhYiBzZWxlY3Rpb24uXG4gKiBAcGFyYW0ge2V4cHJlc3Npb249fSBtZC1vbi1kZXNlbGVjdCBFeHByZXNzaW9uIHRvIGJlIGV2YWx1YXRlZCBhZnRlciB0aGUgdGFiIGhhcyBiZWVuIGRlLXNlbGVjdGVkLlxuICogQHBhcmFtIHtleHByZXNzaW9uPX0gbWQtb24tc2VsZWN0IEV4cHJlc3Npb24gdG8gYmUgZXZhbHVhdGVkIGFmdGVyIHRoZSB0YWIgaGFzIGJlZW4gc2VsZWN0ZWQuXG4gKlxuICpcbiAqIEB1c2FnZVxuICpcbiAqIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiA8bWQtdGFiIGxhYmVsPVwiXCIgZGlzYWJsZWQ9XCJcIiBtZC1vbi1zZWxlY3Q9XCJcIiBtZC1vbi1kZXNlbGVjdD1cIlwiID5cbiAqICAgPGgzPk15IFRhYiBjb250ZW50PC9oMz5cbiAqIDwvbWQtdGFiPlxuICpcbiAqIDxtZC10YWIgPlxuICogICA8bWQtdGFiLWxhYmVsPlxuICogICAgIDxoMz5NeSBUYWIgY29udGVudDwvaDM+XG4gKiAgIDwvbWQtdGFiLWxhYmVsPlxuICogICA8bWQtdGFiLWJvZHk+XG4gKiAgICAgPHA+XG4gKiAgICAgICBTZWQgdXQgcGVyc3BpY2lhdGlzIHVuZGUgb21uaXMgaXN0ZSBuYXR1cyBlcnJvciBzaXQgdm9sdXB0YXRlbSBhY2N1c2FudGl1bSBkb2xvcmVtcXVlIGxhdWRhbnRpdW0sXG4gKiAgICAgICB0b3RhbSByZW0gYXBlcmlhbSwgZWFxdWUgaXBzYSBxdWFlIGFiIGlsbG8gaW52ZW50b3JlIHZlcml0YXRpcyBldCBxdWFzaSBhcmNoaXRlY3RvIGJlYXRhZSB2aXRhZVxuICogICAgICAgZGljdGEgc3VudCBleHBsaWNhYm8uIE5lbW8gZW5pbSBpcHNhbSB2b2x1cHRhdGVtIHF1aWEgdm9sdXB0YXMgc2l0IGFzcGVybmF0dXIgYXV0IG9kaXQgYXV0IGZ1Z2l0LFxuICogICAgICAgc2VkIHF1aWEgY29uc2VxdXVudHVyIG1hZ25pIGRvbG9yZXMgZW9zIHF1aSByYXRpb25lIHZvbHVwdGF0ZW0gc2VxdWkgbmVzY2l1bnQuXG4gKiAgICAgPC9wPlxuICogICA8L21kLXRhYi1ib2R5PlxuICogPC9tZC10YWI+XG4gKiA8L2hsanM+XG4gKlxuICovXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy50YWJzJylcbiAgICAuZGlyZWN0aXZlKCdtZFRhYicsIE1kVGFiKTtcblxuZnVuY3Rpb24gTWRUYWIgKCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6ICdeP21kVGFicycsXG4gICAgdGVybWluYWw6IHRydWUsXG4gICAgdGVtcGxhdGU6IGZ1bmN0aW9uIChlbGVtZW50LCBhdHRyKSB7XG4gICAgICB2YXIgbGFiZWwgPSBnZXRMYWJlbCgpLFxuICAgICAgICAgIGJvZHkgID0gZ2V0VGVtcGxhdGUoKTtcbiAgICAgIHJldHVybiAnJyArXG4gICAgICAgICAgJzxtZC10YWItbGFiZWw+JyArIGxhYmVsICsgJzwvbWQtdGFiLWxhYmVsPicgK1xuICAgICAgICAgICc8bWQtdGFiLWJvZHk+JyArIGJvZHkgKyAnPC9tZC10YWItYm9keT4nO1xuICAgICAgZnVuY3Rpb24gZ2V0TGFiZWwgKCkge1xuICAgICAgICByZXR1cm4gZ2V0TGFiZWxFbGVtZW50KCkgfHwgZ2V0TGFiZWxBdHRyaWJ1dGUoKSB8fCBnZXRFbGVtZW50Q29udGVudHMoKTtcbiAgICAgICAgZnVuY3Rpb24gZ2V0TGFiZWxBdHRyaWJ1dGUgKCkgeyByZXR1cm4gYXR0ci5sYWJlbDsgfVxuICAgICAgICBmdW5jdGlvbiBnZXRMYWJlbEVsZW1lbnQgKCkge1xuICAgICAgICAgIHZhciBsYWJlbCA9IGVsZW1lbnQuZmluZCgnbWQtdGFiLWxhYmVsJykuZXEoMCk7XG4gICAgICAgICAgaWYgKGxhYmVsLmxlbmd0aCkgcmV0dXJuIGxhYmVsLnJlbW92ZSgpLmh0bWwoKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBnZXRFbGVtZW50Q29udGVudHMgKCkge1xuICAgICAgICAgIHZhciBodG1sID0gZWxlbWVudC5odG1sKCk7XG4gICAgICAgICAgZWxlbWVudC5lbXB0eSgpO1xuICAgICAgICAgIHJldHVybiBodG1sO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBnZXRUZW1wbGF0ZSAoKSB7XG4gICAgICAgIHZhciBjb250ZW50ID0gZWxlbWVudC5maW5kKCdtZC10YWItYm9keScpLmVxKDApLFxuICAgICAgICAgICAgdGVtcGxhdGUgPSBjb250ZW50Lmxlbmd0aCA/IGNvbnRlbnQuaHRtbCgpIDogYXR0ci5sYWJlbCA/IGVsZW1lbnQuaHRtbCgpIDogJyc7XG4gICAgICAgIGlmIChjb250ZW50Lmxlbmd0aCkgY29udGVudC5yZW1vdmUoKTtcbiAgICAgICAgZWxzZSBpZiAoYXR0ci5sYWJlbCkgZWxlbWVudC5lbXB0eSgpO1xuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgICB9XG4gICAgfSxcbiAgICBzY29wZToge1xuICAgICAgYWN0aXZlOiAgICc9P21kQWN0aXZlJyxcbiAgICAgIGRpc2FibGVkOiAnPT9uZ0Rpc2FibGVkJyxcbiAgICAgIHNlbGVjdDogICAnJj9tZE9uU2VsZWN0JyxcbiAgICAgIGRlc2VsZWN0OiAnJj9tZE9uRGVzZWxlY3QnXG4gICAgfSxcbiAgICBsaW5rOiBwb3N0TGlua1xuICB9O1xuXG4gIGZ1bmN0aW9uIHBvc3RMaW5rIChzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCkge1xuICAgIGlmICghY3RybCkgcmV0dXJuO1xuICAgIHZhciB0YWJzID0gZWxlbWVudC5wYXJlbnQoKVswXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbWQtdGFiJyksXG4gICAgICAgIGluZGV4ID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbCh0YWJzLCBlbGVtZW50WzBdKSxcbiAgICAgICAgYm9keSA9IGVsZW1lbnQuZmluZCgnbWQtdGFiLWJvZHknKS5lcSgwKS5yZW1vdmUoKSxcbiAgICAgICAgbGFiZWwgPSBlbGVtZW50LmZpbmQoJ21kLXRhYi1sYWJlbCcpLmVxKDApLnJlbW92ZSgpLFxuICAgICAgICBkYXRhID0gY3RybC5pbnNlcnRUYWIoe1xuICAgICAgICAgIHNjb3BlOiAgICBzY29wZSxcbiAgICAgICAgICBwYXJlbnQ6ICAgc2NvcGUuJHBhcmVudCxcbiAgICAgICAgICBpbmRleDogICAgaW5kZXgsXG4gICAgICAgICAgZWxlbWVudDogIGVsZW1lbnQsXG4gICAgICAgICAgdGVtcGxhdGU6IGJvZHkuaHRtbCgpLFxuICAgICAgICAgIGxhYmVsOiAgICBsYWJlbC5odG1sKClcbiAgICAgICAgfSwgaW5kZXgpO1xuXG4gICAgc2NvcGUuc2VsZWN0ICAgPSBzY29wZS5zZWxlY3QgICB8fCBhbmd1bGFyLm5vb3A7XG4gICAgc2NvcGUuZGVzZWxlY3QgPSBzY29wZS5kZXNlbGVjdCB8fCBhbmd1bGFyLm5vb3A7XG5cbiAgICBzY29wZS4kd2F0Y2goJ2FjdGl2ZScsIGZ1bmN0aW9uIChhY3RpdmUpIHsgaWYgKGFjdGl2ZSkgY3RybC5zZWxlY3QoZGF0YS5nZXRJbmRleCgpKTsgfSk7XG4gICAgc2NvcGUuJHdhdGNoKCdkaXNhYmxlZCcsIGZ1bmN0aW9uICgpIHsgY3RybC5yZWZyZXNoSW5kZXgoKTsgfSk7XG4gICAgc2NvcGUuJHdhdGNoKFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodGFicywgZWxlbWVudFswXSk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uIChuZXdJbmRleCkge1xuICAgICAgICAgIGRhdGEuaW5kZXggPSBuZXdJbmRleDtcbiAgICAgICAgICBjdHJsLnVwZGF0ZVRhYk9yZGVyKCk7XG4gICAgICAgIH1cbiAgICApO1xuICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7IGN0cmwucmVtb3ZlVGFiKGRhdGEpOyB9KTtcblxuICB9XG59XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy50YWJzJylcbiAgICAuZGlyZWN0aXZlKCdtZFRhYkl0ZW0nLCBNZFRhYkl0ZW0pO1xuXG5mdW5jdGlvbiBNZFRhYkl0ZW0gKCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6ICdeP21kVGFicycsXG4gICAgbGluazogZnVuY3Rpb24gbGluayAoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpIHtcbiAgICAgIGlmICghY3RybCkgcmV0dXJuO1xuICAgICAgY3RybC5hdHRhY2hSaXBwbGUoc2NvcGUsIGVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnRhYnMnKVxuICAgIC5kaXJlY3RpdmUoJ21kVGFiTGFiZWwnLCBNZFRhYkxhYmVsKTtcblxuZnVuY3Rpb24gTWRUYWJMYWJlbCAoKSB7XG4gIHJldHVybiB7IHRlcm1pbmFsOiB0cnVlIH07XG59XG5cblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmFuZ3VsYXIubW9kdWxlKCdtYXRlcmlhbC5jb21wb25lbnRzLnRhYnMnKVxuICAgIC5kaXJlY3RpdmUoJ21kVGFiU2Nyb2xsJywgTWRUYWJTY3JvbGwpO1xuXG5mdW5jdGlvbiBNZFRhYlNjcm9sbCAoJHBhcnNlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb21waWxlOiBmdW5jdGlvbiAoJGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHZhciBmbiA9ICRwYXJzZShhdHRyLm1kVGFiU2Nyb2xsLCBudWxsLCB0cnVlKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZ0V2ZW50SGFuZGxlciAoc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC5vbignbW91c2V3aGVlbCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7IGZuKHNjb3BlLCB7ICRldmVudDogZXZlbnQgfSk7IH0pO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9XG59XG5NZFRhYlNjcm9sbC4kaW5qZWN0ID0gW1wiJHBhcnNlXCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7XG5cInVzZSBzdHJpY3RcIjtcblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ21hdGVyaWFsLmNvbXBvbmVudHMudGFicycpXG4gICAgLmNvbnRyb2xsZXIoJ01kVGFic0NvbnRyb2xsZXInLCBNZFRhYnNDb250cm9sbGVyKTtcblxuLyoqXG4gKiBAbmdJbmplY3RcbiAqL1xuZnVuY3Rpb24gTWRUYWJzQ29udHJvbGxlciAoJHNjb3BlLCAkZWxlbWVudCwgJHdpbmRvdywgJHRpbWVvdXQsICRtZENvbnN0YW50LCAkbWRUYWJJbmtSaXBwbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAkbWRVdGlsLCAkYW5pbWF0ZSwgJGF0dHJzLCAkY29tcGlsZSwgJG1kVGhlbWluZykge1xuICAvLy0tIGRlZmluZSBwcml2YXRlIHByb3BlcnRpZXNcbiAgdmFyIGN0cmwgICAgICAgPSB0aGlzLFxuICAgICAgbG9ja2VkICAgICA9IGZhbHNlLFxuICAgICAgZWxlbWVudHMgICA9IGdldEVsZW1lbnRzKCksXG4gICAgICBxdWV1ZSAgICAgID0gW10sXG4gICAgICBkZXN0cm95ZWQgID0gZmFsc2UsXG4gICAgICBsb2FkZWQgICAgID0gZmFsc2U7XG5cbiAgLy8tLSBkZWZpbmUgcHVibGljIHByb3BlcnRpZXMgd2l0aCBjaGFuZ2UgaGFuZGxlcnNcbiAgZGVmaW5lUHJvcGVydHkoJ2ZvY3VzSW5kZXgnLCBoYW5kbGVGb2N1c0luZGV4Q2hhbmdlLCAkc2NvcGUuc2VsZWN0ZWRJbmRleCB8fCAwKTtcbiAgZGVmaW5lUHJvcGVydHkoJ29mZnNldExlZnQnLCBoYW5kbGVPZmZzZXRDaGFuZ2UsIDApO1xuICBkZWZpbmVQcm9wZXJ0eSgnaGFzQ29udGVudCcsIGhhbmRsZUhhc0NvbnRlbnQsIGZhbHNlKTtcblxuICAvLy0tIGRlZmluZSBwdWJsaWMgcHJvcGVydGllc1xuICBjdHJsLnNjb3BlID0gJHNjb3BlO1xuICBjdHJsLnBhcmVudCA9ICRzY29wZS4kcGFyZW50O1xuICBjdHJsLnRhYnMgPSBbXTtcbiAgY3RybC5sYXN0U2VsZWN0ZWRJbmRleCA9IG51bGw7XG4gIGN0cmwuaGFzRm9jdXMgPSBmYWxzZTtcbiAgY3RybC5sYXN0Q2xpY2sgPSB0cnVlO1xuICBjdHJsLnNob3VsZFBhZ2luYXRlID0gZmFsc2U7XG4gIGN0cmwuc2hvdWxkQ2VudGVyVGFicyA9IHNob3VsZENlbnRlclRhYnMoKTtcblxuICAvLy0tIGRlZmluZSBwdWJsaWMgbWV0aG9kc1xuICBjdHJsLnJlZGlyZWN0Rm9jdXMgPSByZWRpcmVjdEZvY3VzO1xuICBjdHJsLmF0dGFjaFJpcHBsZSA9IGF0dGFjaFJpcHBsZTtcbiAgY3RybC5zaG91bGRTdHJldGNoVGFicyA9IHNob3VsZFN0cmV0Y2hUYWJzO1xuICBjdHJsLmluc2VydFRhYiA9IGluc2VydFRhYjtcbiAgY3RybC5yZW1vdmVUYWIgPSByZW1vdmVUYWI7XG4gIGN0cmwuc2VsZWN0ID0gc2VsZWN0O1xuICBjdHJsLnNjcm9sbCA9IHNjcm9sbDtcbiAgY3RybC5uZXh0UGFnZSA9IG5leHRQYWdlO1xuICBjdHJsLnByZXZpb3VzUGFnZSA9IHByZXZpb3VzUGFnZTtcbiAgY3RybC5rZXlkb3duID0ga2V5ZG93bjtcbiAgY3RybC5jYW5QYWdlRm9yd2FyZCA9IGNhblBhZ2VGb3J3YXJkO1xuICBjdHJsLmNhblBhZ2VCYWNrID0gY2FuUGFnZUJhY2s7XG4gIGN0cmwucmVmcmVzaEluZGV4ID0gcmVmcmVzaEluZGV4O1xuICBjdHJsLmluY3JlbWVudFNlbGVjdGVkSW5kZXggPSBpbmNyZW1lbnRTZWxlY3RlZEluZGV4O1xuICBjdHJsLnVwZGF0ZUlua0JhclN0eWxlcyA9ICRtZFV0aWwuZGVib3VuY2UodXBkYXRlSW5rQmFyU3R5bGVzLCAxMDApO1xuICBjdHJsLnVwZGF0ZVRhYk9yZGVyID0gJG1kVXRpbC5kZWJvdW5jZSh1cGRhdGVUYWJPcmRlciwgMTAwKTtcblxuICBpbml0KCk7XG5cbiAgLyoqXG4gICAqIFBlcmZvcm0gaW5pdGlhbGl6YXRpb24gZm9yIHRoZSBjb250cm9sbGVyLCBzZXR1cCBldmVudHMgYW5kIHdhdGNoZXIocylcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQgKCkge1xuICAgICRzY29wZS5zZWxlY3RlZEluZGV4ID0gJHNjb3BlLnNlbGVjdGVkSW5kZXggfHwgMDtcbiAgICBjb21waWxlVGVtcGxhdGUoKTtcbiAgICBjb25maWd1cmVXYXRjaGVycygpO1xuICAgIGJpbmRFdmVudHMoKTtcbiAgICAkbWRUaGVtaW5nKCRlbGVtZW50KTtcbiAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB1cGRhdGVIZWlnaHRGcm9tQ29udGVudCgpO1xuICAgICAgYWRqdXN0T2Zmc2V0KCk7XG4gICAgICB1cGRhdGVQYWdpbmF0aW9uKCk7XG4gICAgICBjdHJsLnRhYnNbJHNjb3BlLnNlbGVjdGVkSW5kZXhdICYmIGN0cmwudGFic1skc2NvcGUuc2VsZWN0ZWRJbmRleF0uc2NvcGUuc2VsZWN0KCk7XG4gICAgICBsb2FkZWQgPSB0cnVlO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcGlsZVRlbXBsYXRlICgpIHtcbiAgICB2YXIgdGVtcGxhdGUgPSAkYXR0cnMuJG1kVGFic1RlbXBsYXRlLFxuICAgICAgICBlbGVtZW50ICA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50cy5kYXRhKTtcbiAgICBlbGVtZW50Lmh0bWwodGVtcGxhdGUpO1xuICAgICRjb21waWxlKGVsZW1lbnQuY29udGVudHMoKSkoY3RybC5wYXJlbnQpO1xuICAgIGRlbGV0ZSAkYXR0cnMuJG1kVGFic1RlbXBsYXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gYmluZEV2ZW50cyAoKSB7XG4gICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9uKCdyZXNpemUnLCBoYW5kbGVXaW5kb3dSZXNpemUpO1xuICAgIGFuZ3VsYXIuZWxlbWVudChlbGVtZW50cy5wYWdpbmcpLm9uKCdET01TdWJ0cmVlTW9kaWZpZWQnLCBjdHJsLnVwZGF0ZUlua0JhclN0eWxlcyk7XG4gICAgYW5ndWxhci5lbGVtZW50KGVsZW1lbnRzLnBhZ2luZykub24oJ0RPTVN1YnRyZWVNb2RpZmllZCcsIHVwZGF0ZVBhZ2luYXRpb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gY29uZmlndXJlV2F0Y2hlcnMgKCkge1xuICAgICRtZFV0aWwuaW5pdE9wdGlvbmFsUHJvcGVydGllcygkc2NvcGUsICRhdHRycyk7XG4gICAgJGF0dHJzLiRvYnNlcnZlKCdtZE5vQmFyJywgZnVuY3Rpb24gKHZhbHVlKSB7ICRzY29wZS5ub0lua0JhciA9IGFuZ3VsYXIuaXNEZWZpbmVkKHZhbHVlKTsgfSk7XG4gICAgJHNjb3BlLiR3YXRjaCgnc2VsZWN0ZWRJbmRleCcsIGhhbmRsZVNlbGVjdGVkSW5kZXhDaGFuZ2UpO1xuICAgICRzY29wZS4kd2F0Y2goJ2R5bmFtaWNIZWlnaHQnLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSkgJGVsZW1lbnQuYWRkQ2xhc3MoJ21kLWR5bmFtaWMtaGVpZ2h0Jyk7XG4gICAgICBlbHNlICRlbGVtZW50LnJlbW92ZUNsYXNzKCdtZC1keW5hbWljLWhlaWdodCcpO1xuICAgIH0pO1xuICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgY2xlYW51cCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFueSBldmVudHMgZGVmaW5lZCBieSB0aGlzIGNvbnRyb2xsZXJcbiAgICovXG4gIGZ1bmN0aW9uIGNsZWFudXAgKCkge1xuICAgIGRlc3Ryb3llZCA9IHRydWU7XG4gICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZigncmVzaXplJywgaGFuZGxlV2luZG93UmVzaXplKTtcbiAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudHMucGFnaW5nKS5vZmYoJ0RPTVN1YnRyZWVNb2RpZmllZCcsIGN0cmwudXBkYXRlSW5rQmFyU3R5bGVzKTtcbiAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudHMucGFnaW5nKS5vZmYoJ0RPTVN1YnRyZWVNb2RpZmllZCcsIHVwZGF0ZVBhZ2luYXRpb24pO1xuICB9XG5cbiAgLy8tLSBDaGFuZ2UgaGFuZGxlcnNcblxuICAvKipcbiAgICogQWRkL3JlbW92ZSB0aGUgYG1kLW5vLXRhYi1jb250ZW50YCBjbGFzcyBkZXBlbmRpbmcgb24gYGN0cmwuaGFzQ29udGVudGBcbiAgICogQHBhcmFtIGhhc0NvbnRlbnRcbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZUhhc0NvbnRlbnQgKGhhc0NvbnRlbnQpIHtcbiAgICAkZWxlbWVudFtoYXNDb250ZW50ID8gJ3JlbW92ZUNsYXNzJyA6ICdhZGRDbGFzcyddKCdtZC1uby10YWItY29udGVudCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGx5IGN0cmwub2Zmc2V0TGVmdCB0byB0aGUgcGFnaW5nIGVsZW1lbnQgd2hlbiBpdCBjaGFuZ2VzXG4gICAqIEBwYXJhbSBsZWZ0XG4gICAqL1xuICBmdW5jdGlvbiBoYW5kbGVPZmZzZXRDaGFuZ2UgKGxlZnQpIHtcbiAgICB2YXIgbmV3VmFsdWUgPSBjdHJsLnNob3VsZENlbnRlclRhYnMgPyAnJyA6ICctJyArIGxlZnQgKyAncHgnO1xuICAgIGFuZ3VsYXIuZWxlbWVudChlbGVtZW50cy5wYWdpbmcpLmNzcygkbWRDb25zdGFudC5DU1MuVFJBTlNGT1JNLCAndHJhbnNsYXRlM2QoJyArIG5ld1ZhbHVlICsgJywgMCwgMCknKTtcbiAgICAkc2NvcGUuJGJyb2FkY2FzdCgnJG1kVGFic1BhZ2luYXRpb25DaGFuZ2VkJyk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBVSSB3aGVuZXZlciBgY3RybC5mb2N1c0luZGV4YCBpcyB1cGRhdGVkXG4gICAqIEBwYXJhbSBuZXdJbmRleFxuICAgKiBAcGFyYW0gb2xkSW5kZXhcbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZUZvY3VzSW5kZXhDaGFuZ2UgKG5ld0luZGV4LCBvbGRJbmRleCkge1xuICAgIGlmIChuZXdJbmRleCA9PT0gb2xkSW5kZXgpIHJldHVybjtcbiAgICBpZiAoIWVsZW1lbnRzLnRhYnNbbmV3SW5kZXhdKSByZXR1cm47XG4gICAgYWRqdXN0T2Zmc2V0KCk7XG4gICAgcmVkaXJlY3RGb2N1cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgVUkgd2hlbmV2ZXIgdGhlIHNlbGVjdGVkIGluZGV4IGNoYW5nZXMuIENhbGxzIHVzZXItZGVmaW5lZCBzZWxlY3QvZGVzZWxlY3QgbWV0aG9kcy5cbiAgICogQHBhcmFtIG5ld1ZhbHVlXG4gICAqIEBwYXJhbSBvbGRWYWx1ZVxuICAgKi9cbiAgZnVuY3Rpb24gaGFuZGxlU2VsZWN0ZWRJbmRleENoYW5nZSAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgaWYgKG5ld1ZhbHVlID09PSBvbGRWYWx1ZSkgcmV0dXJuO1xuXG4gICAgJHNjb3BlLnNlbGVjdGVkSW5kZXggPSBnZXROZWFyZXN0U2FmZUluZGV4KG5ld1ZhbHVlKTtcbiAgICBjdHJsLmxhc3RTZWxlY3RlZEluZGV4ID0gb2xkVmFsdWU7XG4gICAgY3RybC51cGRhdGVJbmtCYXJTdHlsZXMoKTtcbiAgICB1cGRhdGVIZWlnaHRGcm9tQ29udGVudCgpO1xuICAgIGFkanVzdE9mZnNldChuZXdWYWx1ZSk7XG4gICAgJHNjb3BlLiRicm9hZGNhc3QoJyRtZFRhYnNDaGFuZ2VkJyk7XG4gICAgY3RybC50YWJzW29sZFZhbHVlXSAmJiBjdHJsLnRhYnNbb2xkVmFsdWVdLnNjb3BlLmRlc2VsZWN0KCk7XG4gICAgY3RybC50YWJzW25ld1ZhbHVlXSAmJiBjdHJsLnRhYnNbbmV3VmFsdWVdLnNjb3BlLnNlbGVjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFF1ZXVlcyB1cCBhIGNhbGwgdG8gYGhhbmRsZVdpbmRvd1Jlc2l6ZWAgd2hlbiBhIHJlc2l6ZSBvY2N1cnMgd2hpbGUgdGhlIHRhYnMgY29tcG9uZW50IGlzXG4gICAqIGhpZGRlbi5cbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZVJlc2l6ZVdoZW5WaXNpYmxlICgpIHtcbiAgICAvLy0tIGlmIHRoZXJlIGlzIGFscmVhZHkgYSB3YXRjaGVyIHdhaXRpbmcgZm9yIHJlc2l6ZSwgZG8gbm90aGluZ1xuICAgIGlmIChoYW5kbGVSZXNpemVXaGVuVmlzaWJsZS53YXRjaGVyKSByZXR1cm47XG4gICAgLy8tLSBvdGhlcndpc2UsIHdlIHdpbGwgYWJ1c2UgdGhlICR3YXRjaCBmdW5jdGlvbiB0byBjaGVjayBmb3IgdmlzaWJsZVxuICAgIGhhbmRsZVJlc2l6ZVdoZW5WaXNpYmxlLndhdGNoZXIgPSAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vLS0gc2luY2Ugd2UgYXJlIGNoZWNraW5nIGZvciBET00gc2l6ZSwgd2UgdXNlICR0aW1lb3V0IHRvIHdhaXQgZm9yIGFmdGVyIHRoZSBET00gdXBkYXRlc1xuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLy0tIGlmIHRoZSB3YXRjaGVyIGhhcyBhbHJlYWR5IHJ1biAoaWUuIG11bHRpcGxlIGRpZ2VzdHMgaW4gb25lIGN5Y2xlKSwgZG8gbm90aGluZ1xuICAgICAgICBpZiAoIWhhbmRsZVJlc2l6ZVdoZW5WaXNpYmxlLndhdGNoZXIpIHJldHVybjtcblxuICAgICAgICBpZiAoJGVsZW1lbnQucHJvcCgnb2Zmc2V0UGFyZW50JykpIHtcbiAgICAgICAgICBoYW5kbGVSZXNpemVXaGVuVmlzaWJsZS53YXRjaGVyKCk7XG4gICAgICAgICAgaGFuZGxlUmVzaXplV2hlblZpc2libGUud2F0Y2hlciA9IG51bGw7XG5cbiAgICAgICAgICAvLy0tIHdlIGhhdmUgdG8gdHJpZ2dlciBvdXIgb3duICRhcHBseSBzbyB0aGF0IHRoZSBET00gYmluZGluZ3Mgd2lsbCB1cGRhdGVcbiAgICAgICAgICBoYW5kbGVXaW5kb3dSZXNpemUoKTtcbiAgICAgICAgfVxuICAgICAgfSwgMCwgZmFsc2UpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8tLSBFdmVudCBoYW5kbGVycyAvIGFjdGlvbnNcblxuICAvKipcbiAgICogSGFuZGxlIHVzZXIga2V5Ym9hcmQgaW50ZXJhY3Rpb25zXG4gICAqIEBwYXJhbSBldmVudFxuICAgKi9cbiAgZnVuY3Rpb24ga2V5ZG93biAoZXZlbnQpIHtcbiAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcbiAgICAgIGNhc2UgJG1kQ29uc3RhbnQuS0VZX0NPREUuTEVGVF9BUlJPVzpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaW5jcmVtZW50U2VsZWN0ZWRJbmRleCgtMSwgdHJ1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAkbWRDb25zdGFudC5LRVlfQ09ERS5SSUdIVF9BUlJPVzpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaW5jcmVtZW50U2VsZWN0ZWRJbmRleCgxLCB0cnVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICRtZENvbnN0YW50LktFWV9DT0RFLlNQQUNFOlxuICAgICAgY2FzZSAkbWRDb25zdGFudC5LRVlfQ09ERS5FTlRFUjpcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKCFsb2NrZWQpICRzY29wZS5zZWxlY3RlZEluZGV4ID0gY3RybC5mb2N1c0luZGV4O1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgY3RybC5sYXN0Q2xpY2sgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHNlbGVjdGVkIGluZGV4IGFuZCB0cmlnZ2VyIGEgY2xpY2sgZXZlbnQgb24gdGhlIG9yaWdpbmFsIGBtZC10YWJgIGVsZW1lbnQgaW4gb3JkZXJcbiAgICogdG8gZmlyZSB1c2VyLWFkZGVkIGNsaWNrIGV2ZW50cy5cbiAgICogQHBhcmFtIGluZGV4XG4gICAqL1xuICBmdW5jdGlvbiBzZWxlY3QgKGluZGV4KSB7XG4gICAgaWYgKCFsb2NrZWQpIGN0cmwuZm9jdXNJbmRleCA9ICRzY29wZS5zZWxlY3RlZEluZGV4ID0gaW5kZXg7XG4gICAgY3RybC5sYXN0Q2xpY2sgPSB0cnVlO1xuICAgIGN0cmwudGFic1tpbmRleF0uZWxlbWVudC50cmlnZ2VySGFuZGxlcignY2xpY2snKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIHBhZ2luYXRpb24gaXMgb24sIHRoaXMgbWFrZXMgc3VyZSB0aGUgc2VsZWN0ZWQgaW5kZXggaXMgaW4gdmlldy5cbiAgICogQHBhcmFtIGV2ZW50XG4gICAqL1xuICBmdW5jdGlvbiBzY3JvbGwgKGV2ZW50KSB7XG4gICAgaWYgKCFjdHJsLnNob3VsZFBhZ2luYXRlKSByZXR1cm47XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjdHJsLm9mZnNldExlZnQgPSBmaXhPZmZzZXQoY3RybC5vZmZzZXRMZWZ0IC0gZXZlbnQud2hlZWxEZWx0YSk7XG4gIH1cblxuICAvKipcbiAgICogU2xpZGVzIHRoZSB0YWJzIG92ZXIgYXBwcm94aW1hdGVseSBvbmUgcGFnZSBmb3J3YXJkLlxuICAgKi9cbiAgZnVuY3Rpb24gbmV4dFBhZ2UgKCkge1xuICAgIHZhciB2aWV3cG9ydFdpZHRoID0gZWxlbWVudHMuY2FudmFzLmNsaWVudFdpZHRoLFxuICAgICAgICB0b3RhbFdpZHRoID0gdmlld3BvcnRXaWR0aCArIGN0cmwub2Zmc2V0TGVmdCxcbiAgICAgICAgaSwgdGFiO1xuICAgIGZvciAoaSA9IDA7IGkgPCBlbGVtZW50cy50YWJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0YWIgPSBlbGVtZW50cy50YWJzW2ldO1xuICAgICAgaWYgKHRhYi5vZmZzZXRMZWZ0ICsgdGFiLm9mZnNldFdpZHRoID4gdG90YWxXaWR0aCkgYnJlYWs7XG4gICAgfVxuICAgIGN0cmwub2Zmc2V0TGVmdCA9IGZpeE9mZnNldCh0YWIub2Zmc2V0TGVmdCk7XG4gIH1cblxuICAvKipcbiAgICogU2xpZGVzIHRoZSB0YWJzIG92ZXIgYXBwcm94aW1hdGVseSBvbmUgcGFnZSBiYWNrd2FyZC5cbiAgICovXG4gIGZ1bmN0aW9uIHByZXZpb3VzUGFnZSAoKSB7XG4gICAgdmFyIGksIHRhYjtcbiAgICBmb3IgKGkgPSAwOyBpIDwgZWxlbWVudHMudGFicy5sZW5ndGg7IGkrKykge1xuICAgICAgdGFiID0gZWxlbWVudHMudGFic1tpXTtcbiAgICAgIGlmICh0YWIub2Zmc2V0TGVmdCArIHRhYi5vZmZzZXRXaWR0aCA+PSBjdHJsLm9mZnNldExlZnQpIGJyZWFrO1xuICAgIH1cbiAgICBjdHJsLm9mZnNldExlZnQgPSBmaXhPZmZzZXQodGFiLm9mZnNldExlZnQgKyB0YWIub2Zmc2V0V2lkdGggLSBlbGVtZW50cy5jYW52YXMuY2xpZW50V2lkdGgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBzaXplIGNhbGN1bGF0aW9ucyB3aGVuIHRoZSB3aW5kb3cgaXMgcmVzaXplZC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhbmRsZVdpbmRvd1Jlc2l6ZSAoKSB7XG4gICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XG4gICAgICBjdHJsLmxhc3RTZWxlY3RlZEluZGV4ID0gJHNjb3BlLnNlbGVjdGVkSW5kZXg7XG4gICAgICBjdHJsLm9mZnNldExlZnQgPSBmaXhPZmZzZXQoY3RybC5vZmZzZXRMZWZ0KTtcbiAgICAgICR0aW1lb3V0KGN0cmwudXBkYXRlSW5rQmFyU3R5bGVzLCAwLCBmYWxzZSk7XG4gICAgICAkdGltZW91dCh1cGRhdGVQYWdpbmF0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSB0YWIgZnJvbSB0aGUgZGF0YSBhbmQgc2VsZWN0IHRoZSBuZWFyZXN0IHZhbGlkIHRhYi5cbiAgICogQHBhcmFtIHRhYkRhdGFcbiAgICovXG4gIGZ1bmN0aW9uIHJlbW92ZVRhYiAodGFiRGF0YSkge1xuICAgIHZhciBzZWxlY3RlZEluZGV4ID0gJHNjb3BlLnNlbGVjdGVkSW5kZXgsXG4gICAgICAgIHRhYiA9IGN0cmwudGFicy5zcGxpY2UodGFiRGF0YS5nZXRJbmRleCgpLCAxKVswXTtcbiAgICByZWZyZXNoSW5kZXgoKTtcbiAgICAvLy0tIHdoZW4gcmVtb3ZpbmcgYSB0YWIsIGlmIHRoZSBzZWxlY3RlZCBpbmRleCBkaWQgbm90IGNoYW5nZSwgd2UgaGF2ZSB0byBtYW51YWxseSB0cmlnZ2VyIHRoZVxuICAgIC8vICAgdGFiIHNlbGVjdC9kZXNlbGVjdCBldmVudHNcbiAgICBpZiAoJHNjb3BlLnNlbGVjdGVkSW5kZXggPT09IHNlbGVjdGVkSW5kZXggJiYgIWRlc3Ryb3llZCkge1xuICAgICAgdGFiLnNjb3BlLmRlc2VsZWN0KCk7XG4gICAgICBjdHJsLnRhYnNbJHNjb3BlLnNlbGVjdGVkSW5kZXhdICYmIGN0cmwudGFic1skc2NvcGUuc2VsZWN0ZWRJbmRleF0uc2NvcGUuc2VsZWN0KCk7XG4gICAgfVxuICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHVwZGF0ZVBhZ2luYXRpb24oKTtcbiAgICAgIGN0cmwub2Zmc2V0TGVmdCA9IGZpeE9mZnNldChjdHJsLm9mZnNldExlZnQpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBlbnRyeSBpbiB0aGUgdGFicyBhcnJheSBmb3IgYSBuZXcgdGFiIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXguXG4gICAqIEBwYXJhbSB0YWJEYXRhXG4gICAqIEBwYXJhbSBpbmRleFxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIGZ1bmN0aW9uIGluc2VydFRhYiAodGFiRGF0YSwgaW5kZXgpIHtcbiAgICB2YXIgcHJvdG8gPSB7XG4gICAgICAgICAgZ2V0SW5kZXg6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGN0cmwudGFicy5pbmRleE9mKHRhYik7IH0sXG4gICAgICAgICAgaXNBY3RpdmU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZ2V0SW5kZXgoKSA9PT0gJHNjb3BlLnNlbGVjdGVkSW5kZXg7IH0sXG4gICAgICAgICAgaXNMZWZ0OiAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZ2V0SW5kZXgoKSA8ICRzY29wZS5zZWxlY3RlZEluZGV4OyB9LFxuICAgICAgICAgIGlzUmlnaHQ6ICBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmdldEluZGV4KCkgPiAkc2NvcGUuc2VsZWN0ZWRJbmRleDsgfSxcbiAgICAgICAgICBzaG91bGRSZW5kZXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICEkc2NvcGUubm9EaXNjb25uZWN0IHx8IHRoaXMuaXNBY3RpdmUoKTsgfSxcbiAgICAgICAgICBoYXNGb2N1czogZnVuY3Rpb24gKCkgeyByZXR1cm4gIWN0cmwubGFzdENsaWNrXG4gICAgICAgICAgICAgICYmIGN0cmwuaGFzRm9jdXMgJiYgdGhpcy5nZXRJbmRleCgpID09PSBjdHJsLmZvY3VzSW5kZXg7IH0sXG4gICAgICAgICAgaWQ6ICAgICAgICRtZFV0aWwubmV4dFVpZCgpXG4gICAgICAgIH0sXG4gICAgICAgIHRhYiA9IGFuZ3VsYXIuZXh0ZW5kKHByb3RvLCB0YWJEYXRhKTtcbiAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoaW5kZXgpKSB7XG4gICAgICBjdHJsLnRhYnMuc3BsaWNlKGluZGV4LCAwLCB0YWIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdHJsLnRhYnMucHVzaCh0YWIpO1xuICAgIH1cbiAgICBwcm9jZXNzUXVldWUoKTtcbiAgICB1cGRhdGVIYXNDb250ZW50KCk7XG4gICAgLy8tLSBpZiBhdXRvc2VsZWN0IGlzIGVuYWJsZWQsIHNlbGVjdCB0aGUgbmV3bHkgYWRkZWQgdGFiXG4gICAgaWYgKGxvYWRlZCAmJiAkc2NvcGUuYXV0b3NlbGVjdCkgJHRpbWVvdXQoZnVuY3Rpb24gKCkgeyBzZWxlY3QoY3RybC50YWJzLmluZGV4T2YodGFiKSk7IH0pO1xuICAgICR0aW1lb3V0KHVwZGF0ZVBhZ2luYXRpb24pO1xuICAgIHJldHVybiB0YWI7XG4gIH1cblxuICAvLy0tIEdldHRlciBtZXRob2RzXG5cbiAgLyoqXG4gICAqIEdhdGhlcnMgcmVmZXJlbmNlcyB0byBhbGwgb2YgdGhlIERPTSBlbGVtZW50cyB1c2VkIGJ5IHRoaXMgY29udHJvbGxlci5cbiAgICogQHJldHVybnMge3t9fVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0RWxlbWVudHMgKCkge1xuICAgIHZhciBlbGVtZW50cyAgICAgID0ge307XG5cbiAgICAvLy0tIGdhdGhlciB0YWIgYmFyIGVsZW1lbnRzXG4gICAgZWxlbWVudHMud3JhcHBlciAgPSAkZWxlbWVudFswXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbWQtdGFicy13cmFwcGVyJylbMF07XG4gICAgZWxlbWVudHMuZGF0YSAgICAgPSAkZWxlbWVudFswXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbWQtdGFiLWRhdGEnKVswXTtcbiAgICBlbGVtZW50cy5jYW52YXMgICA9IGVsZW1lbnRzLndyYXBwZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ21kLXRhYnMtY2FudmFzJylbMF07XG4gICAgZWxlbWVudHMucGFnaW5nICAgPSBlbGVtZW50cy5jYW52YXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ21kLXBhZ2luYXRpb24td3JhcHBlcicpWzBdO1xuICAgIGVsZW1lbnRzLnRhYnMgICAgID0gZWxlbWVudHMucGFnaW5nLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdtZC10YWItaXRlbScpO1xuICAgIGVsZW1lbnRzLmR1bW1pZXMgID0gZWxlbWVudHMuY2FudmFzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdtZC1kdW1teS10YWInKTtcbiAgICBlbGVtZW50cy5pbmtCYXIgICA9IGVsZW1lbnRzLnBhZ2luZy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbWQtaW5rLWJhcicpWzBdO1xuXG4gICAgLy8tLSBnYXRoZXIgdGFiIGNvbnRlbnQgZWxlbWVudHNcbiAgICBlbGVtZW50cy5jb250ZW50c1dyYXBwZXIgPSAkZWxlbWVudFswXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbWQtdGFicy1jb250ZW50LXdyYXBwZXInKVswXTtcbiAgICBlbGVtZW50cy5jb250ZW50cyA9IGVsZW1lbnRzLmNvbnRlbnRzV3JhcHBlci5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbWQtdGFiLWNvbnRlbnQnKTtcblxuICAgIHJldHVybiBlbGVtZW50cztcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IHRoZSBsZWZ0IHBhZ2luYXRpb24gYXJyb3cgc2hvdWxkIGJlIGVuYWJsZWQuXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgZnVuY3Rpb24gY2FuUGFnZUJhY2sgKCkge1xuICAgIHJldHVybiBjdHJsLm9mZnNldExlZnQgPiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hldGhlciBvciBub3QgdGhlIHJpZ2h0IHBhZ2luYXRpb24gYXJyb3cgc2hvdWxkIGJlIGVuYWJsZWQuXG4gICAqIEByZXR1cm5zIHsqfGJvb2xlYW59XG4gICAqL1xuICBmdW5jdGlvbiBjYW5QYWdlRm9yd2FyZCAoKSB7XG4gICAgdmFyIGxhc3RUYWIgPSBlbGVtZW50cy50YWJzW2VsZW1lbnRzLnRhYnMubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIGxhc3RUYWIgJiYgbGFzdFRhYi5vZmZzZXRMZWZ0ICsgbGFzdFRhYi5vZmZzZXRXaWR0aCA+IGVsZW1lbnRzLmNhbnZhcy5jbGllbnRXaWR0aCArXG4gICAgICAgIGN0cmwub2Zmc2V0TGVmdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBVSSBzaG91bGQgc3RyZXRjaCB0aGUgdGFicyB0byBmaWxsIHRoZSBhdmFpbGFibGUgc3BhY2UuXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgZnVuY3Rpb24gc2hvdWxkU3RyZXRjaFRhYnMgKCkge1xuICAgIHN3aXRjaCAoJHNjb3BlLnN0cmV0Y2hUYWJzKSB7XG4gICAgICBjYXNlICdhbHdheXMnOiByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgJ25ldmVyJzogIHJldHVybiBmYWxzZTtcbiAgICAgIGRlZmF1bHQ6ICAgICAgIHJldHVybiAhY3RybC5zaG91bGRQYWdpbmF0ZVxuICAgICAgICAgICYmICR3aW5kb3cubWF0Y2hNZWRpYSgnKG1heC13aWR0aDogNjAwcHgpJykubWF0Y2hlcztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiB0aGUgdGFicyBzaG91bGQgYXBwZWFyIGNlbnRlcmVkLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfGJvb2xlYW59XG4gICAqL1xuICBmdW5jdGlvbiBzaG91bGRDZW50ZXJUYWJzICgpIHtcbiAgICByZXR1cm4gJHNjb3BlLmNlbnRlclRhYnMgJiYgIWN0cmwuc2hvdWxkUGFnaW5hdGU7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiBwYWdpbmF0aW9uIGlzIG5lY2Vzc2FyeSB0byBkaXNwbGF5IHRoZSB0YWJzIHdpdGhpbiB0aGUgYXZhaWxhYmxlIHNwYWNlLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIGZ1bmN0aW9uIHNob3VsZFBhZ2luYXRlICgpIHtcbiAgICBpZiAoJHNjb3BlLm5vUGFnaW5hdGlvbiB8fCAhbG9hZGVkKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIGNhbnZhc1dpZHRoID0gJGVsZW1lbnQucHJvcCgnY2xpZW50V2lkdGgnKTtcbiAgICBhbmd1bGFyLmZvckVhY2goZWxlbWVudHMuZHVtbWllcywgZnVuY3Rpb24gKHRhYikgeyBjYW52YXNXaWR0aCAtPSB0YWIub2Zmc2V0V2lkdGg7IH0pO1xuICAgIHJldHVybiBjYW52YXNXaWR0aCA8IDA7XG4gIH1cblxuICAvKipcbiAgICogRmluZHMgdGhlIG5lYXJlc3QgdGFiIGluZGV4IHRoYXQgaXMgYXZhaWxhYmxlLiAgVGhpcyBpcyBwcmltYXJpbHkgdXNlZCBmb3Igd2hlbiB0aGUgYWN0aXZlXG4gICAqIHRhYiBpcyByZW1vdmVkLlxuICAgKiBAcGFyYW0gbmV3SW5kZXhcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBmdW5jdGlvbiBnZXROZWFyZXN0U2FmZUluZGV4KG5ld0luZGV4KSB7XG4gICAgdmFyIG1heE9mZnNldCA9IE1hdGgubWF4KGN0cmwudGFicy5sZW5ndGggLSBuZXdJbmRleCwgbmV3SW5kZXgpLFxuICAgICAgICBpLCB0YWI7XG4gICAgZm9yIChpID0gMDsgaSA8PSBtYXhPZmZzZXQ7IGkrKykge1xuICAgICAgdGFiID0gY3RybC50YWJzW25ld0luZGV4ICsgaV07XG4gICAgICBpZiAodGFiICYmICh0YWIuc2NvcGUuZGlzYWJsZWQgIT09IHRydWUpKSByZXR1cm4gdGFiLmdldEluZGV4KCk7XG4gICAgICB0YWIgPSBjdHJsLnRhYnNbbmV3SW5kZXggLSBpXTtcbiAgICAgIGlmICh0YWIgJiYgKHRhYi5zY29wZS5kaXNhYmxlZCAhPT0gdHJ1ZSkpIHJldHVybiB0YWIuZ2V0SW5kZXgoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0luZGV4O1xuICB9XG5cbiAgLy8tLSBVdGlsaXR5IG1ldGhvZHNcblxuICAvKipcbiAgICogRGVmaW5lcyBhIHByb3BlcnR5IHVzaW5nIGEgZ2V0dGVyIGFuZCBzZXR0ZXIgaW4gb3JkZXIgdG8gdHJpZ2dlciBhIGNoYW5nZSBoYW5kbGVyIHdpdGhvdXRcbiAgICogdXNpbmcgYCR3YXRjaGAgdG8gb2JzZXJ2ZSBjaGFuZ2VzLlxuICAgKiBAcGFyYW0ga2V5XG4gICAqIEBwYXJhbSBoYW5kbGVyXG4gICAqIEBwYXJhbSB2YWx1ZVxuICAgKi9cbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkgKGtleSwgaGFuZGxlciwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3RybCwga2V5LCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHZhbHVlOyB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgdmFyIG9sZFZhbHVlID0gdmFsdWU7XG4gICAgICAgIHZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIGhhbmRsZXIobmV3VmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHdoZXRoZXIgb3Igbm90IHBhZ2luYXRpb24gc2hvdWxkIGJlIGRpc3BsYXllZC5cbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZVBhZ2luYXRpb24gKCkge1xuICAgIGN0cmwuc2hvdWxkUGFnaW5hdGUgPSBzaG91bGRQYWdpbmF0ZSgpO1xuICAgIGN0cmwuc2hvdWxkQ2VudGVyVGFicyA9IHNob3VsZENlbnRlclRhYnMoKTtcbiAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBhZGp1c3RPZmZzZXQoJHNjb3BlLnNlbGVjdGVkSW5kZXgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlLW9yZGVycyB0aGUgdGFicyBhbmQgdXBkYXRlcyB0aGUgc2VsZWN0ZWQgYW5kIGZvY3VzIGluZGV4ZXMgdG8gdGhlaXIgbmV3IHBvc2l0aW9ucy5cbiAgICogVGhpcyBpcyB0cmlnZ2VyZWQgYnkgYHRhYkRpcmVjdGl2ZS5qc2Agd2hlbiB0aGUgdXNlcidzIHRhYnMgaGF2ZSBiZWVuIHJlLW9yZGVyZWQuXG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVUYWJPcmRlciAoKSB7XG4gICAgdmFyIHNlbGVjdGVkSXRlbSA9IGN0cmwudGFic1skc2NvcGUuc2VsZWN0ZWRJbmRleF0sXG4gICAgICAgIGZvY3VzSXRlbSA9IGN0cmwudGFic1tjdHJsLmZvY3VzSW5kZXhdO1xuICAgIGN0cmwudGFicyA9IGN0cmwudGFicy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYS5pbmRleCAtIGIuaW5kZXg7XG4gICAgfSk7XG4gICAgJHNjb3BlLnNlbGVjdGVkSW5kZXggPSBjdHJsLnRhYnMuaW5kZXhPZihzZWxlY3RlZEl0ZW0pO1xuICAgIGN0cmwuZm9jdXNJbmRleCA9IGN0cmwudGFicy5pbmRleE9mKGZvY3VzSXRlbSk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBtb3ZlcyB0aGUgc2VsZWN0ZWQgb3IgZm9jdXMgaW5kZXggbGVmdCBvciByaWdodC4gIFRoaXMgaXMgdXNlZCBieSB0aGUga2V5ZG93biBoYW5kbGVyLlxuICAgKiBAcGFyYW0gaW5jXG4gICAqL1xuICBmdW5jdGlvbiBpbmNyZW1lbnRTZWxlY3RlZEluZGV4IChpbmMpIHtcbiAgICB2YXIgbmV3SW5kZXgsXG4gICAgICAgIGluZGV4ID0gY3RybC5mb2N1c0luZGV4O1xuICAgIGZvciAobmV3SW5kZXggPSBpbmRleCArIGluYztcbiAgICAgICAgIGN0cmwudGFic1tuZXdJbmRleF0gJiYgY3RybC50YWJzW25ld0luZGV4XS5zY29wZS5kaXNhYmxlZDtcbiAgICAgICAgIG5ld0luZGV4ICs9IGluYykge31cbiAgICBpZiAoY3RybC50YWJzW25ld0luZGV4XSkge1xuICAgICAgY3RybC5mb2N1c0luZGV4ID0gbmV3SW5kZXg7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgdXNlZCB0byBmb3J3YXJkIGZvY3VzIHRvIGR1bW15IGVsZW1lbnRzLiAgVGhpcyBtZXRob2QgaXMgbmVjZXNzYXJ5IHRvIGF2b2lkIGFuaWF0aW9uXG4gICAqIGlzc3VlcyB3aGVuIGF0dGVtcHRpbmcgdG8gZm9jdXMgYW4gaXRlbSB0aGF0IGlzIG91dCBvZiB2aWV3LlxuICAgKi9cbiAgZnVuY3Rpb24gcmVkaXJlY3RGb2N1cyAoKSB7XG4gICAgZWxlbWVudHMuZHVtbWllc1tjdHJsLmZvY3VzSW5kZXhdLmZvY3VzKCk7XG4gIH1cblxuICAvKipcbiAgICogRm9yY2VzIHRoZSBwYWdpbmF0aW9uIHRvIG1vdmUgdGhlIGZvY3VzZWQgdGFiIGludG8gdmlldy5cbiAgICovXG4gIGZ1bmN0aW9uIGFkanVzdE9mZnNldCAoaW5kZXgpIHtcbiAgICBpZiAoY3RybC5zaG91bGRDZW50ZXJUYWJzKSByZXR1cm47XG4gICAgaWYgKGluZGV4ID09IG51bGwpIGluZGV4ID0gY3RybC5mb2N1c0luZGV4O1xuICAgIHZhciB0YWIgPSBlbGVtZW50cy50YWJzW2luZGV4XSxcbiAgICAgICAgbGVmdCA9IHRhYi5vZmZzZXRMZWZ0LFxuICAgICAgICByaWdodCA9IHRhYi5vZmZzZXRXaWR0aCArIGxlZnQ7XG4gICAgY3RybC5vZmZzZXRMZWZ0ID0gTWF0aC5tYXgoY3RybC5vZmZzZXRMZWZ0LCBmaXhPZmZzZXQocmlnaHQgLSBlbGVtZW50cy5jYW52YXMuY2xpZW50V2lkdGgpKTtcbiAgICBjdHJsLm9mZnNldExlZnQgPSBNYXRoLm1pbihjdHJsLm9mZnNldExlZnQsIGZpeE9mZnNldChsZWZ0KSk7XG4gIH1cblxuICAvKipcbiAgICogSXRlcmF0ZXMgdGhyb3VnaCBhbGwgcXVldWVkIGZ1bmN0aW9ucyBhbmQgY2xlYXJzIHRoZSBxdWV1ZS4gIFRoaXMgaXMgdXNlZCBmb3IgZnVuY3Rpb25zIHRoYXRcbiAgICogYXJlIGNhbGxlZCBiZWZvcmUgdGhlIFVJIGlzIHJlYWR5LCBzdWNoIGFzIHNpemUgY2FsY3VsYXRpb25zLlxuICAgKi9cbiAgZnVuY3Rpb24gcHJvY2Vzc1F1ZXVlICgpIHtcbiAgICBxdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uIChmdW5jKSB7ICR0aW1lb3V0KGZ1bmMpOyB9KTtcbiAgICBxdWV1ZSA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgdGhlIHRhYiBjb250ZW50IGFyZWEgaXMgbmVlZGVkLlxuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlSGFzQ29udGVudCAoKSB7XG4gICAgdmFyIGhhc0NvbnRlbnQgPSBmYWxzZTtcbiAgICBhbmd1bGFyLmZvckVhY2goY3RybC50YWJzLCBmdW5jdGlvbiAodGFiKSB7XG4gICAgICBpZiAodGFiLnRlbXBsYXRlKSBoYXNDb250ZW50ID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBjdHJsLmhhc0NvbnRlbnQgPSBoYXNDb250ZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdmVzIHRoZSBpbmRleGVzIHRvIHRoZWlyIG5lYXJlc3QgdmFsaWQgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gcmVmcmVzaEluZGV4ICgpIHtcbiAgICAkc2NvcGUuc2VsZWN0ZWRJbmRleCA9IGdldE5lYXJlc3RTYWZlSW5kZXgoJHNjb3BlLnNlbGVjdGVkSW5kZXgpO1xuICAgIGN0cmwuZm9jdXNJbmRleCA9IGdldE5lYXJlc3RTYWZlSW5kZXgoY3RybC5mb2N1c0luZGV4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBjb250ZW50IGhlaWdodCBvZiB0aGUgY3VycmVudCB0YWIuXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlSGVpZ2h0RnJvbUNvbnRlbnQgKCkge1xuICAgIGlmICghJHNjb3BlLmR5bmFtaWNIZWlnaHQpIHJldHVybiAkZWxlbWVudC5jc3MoJ2hlaWdodCcsICcnKTtcbiAgICBpZiAoIWN0cmwudGFicy5sZW5ndGgpIHJldHVybiBxdWV1ZS5wdXNoKHVwZGF0ZUhlaWdodEZyb21Db250ZW50KTtcbiAgICB2YXIgdGFiQ29udGVudCAgICA9IGVsZW1lbnRzLmNvbnRlbnRzWyRzY29wZS5zZWxlY3RlZEluZGV4XSxcbiAgICAgICAgY29udGVudEhlaWdodCA9IHRhYkNvbnRlbnQgPyB0YWJDb250ZW50Lm9mZnNldEhlaWdodCA6IDAsXG4gICAgICAgIHRhYnNIZWlnaHQgICAgPSBlbGVtZW50cy53cmFwcGVyLm9mZnNldEhlaWdodCxcbiAgICAgICAgbmV3SGVpZ2h0ICAgICA9IGNvbnRlbnRIZWlnaHQgKyB0YWJzSGVpZ2h0LFxuICAgICAgICBjdXJyZW50SGVpZ2h0ID0gJGVsZW1lbnQucHJvcCgnY2xpZW50SGVpZ2h0Jyk7XG4gICAgaWYgKGN1cnJlbnRIZWlnaHQgPT09IG5ld0hlaWdodCkgcmV0dXJuO1xuICAgIGxvY2tlZCA9IHRydWU7XG4gICAgJGFuaW1hdGVcbiAgICAgICAgLmFuaW1hdGUoXG4gICAgICAgICAgJGVsZW1lbnQsXG4gICAgICAgICAgeyBoZWlnaHQ6IGN1cnJlbnRIZWlnaHQgKyAncHgnIH0sXG4gICAgICAgICAgeyBoZWlnaHQ6IG5ld0hlaWdodCArICdweCd9XG4gICAgICAgIClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICRlbGVtZW50LmNzcygnaGVpZ2h0JywgJycpO1xuICAgICAgICAgIGxvY2tlZCA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBvc2l0aW9ucyB0aGUgaW5rIGJhciB0byB0aGUgc2VsZWN0ZWQgdGFiLlxuICAgKiBAcmV0dXJucyB7Kn1cbiAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZUlua0JhclN0eWxlcyAoKSB7XG4gICAgaWYgKCFlbGVtZW50cy50YWJzWyRzY29wZS5zZWxlY3RlZEluZGV4XSkgcmV0dXJuO1xuICAgIGlmICghY3RybC50YWJzLmxlbmd0aCkgcmV0dXJuIHF1ZXVlLnB1c2goY3RybC51cGRhdGVJbmtCYXJTdHlsZXMpO1xuICAgIC8vLS0gaWYgdGhlIGVsZW1lbnQgaXMgbm90IHZpc2libGUsIHdlIHdpbGwgbm90IGJlIGFibGUgdG8gY2FsY3VsYXRlIHNpemVzIHVudGlsIGl0IGlzXG4gICAgLy8tLSB3ZSBzaG91bGQgdHJlYXQgdGhhdCBhcyBhIHJlc2l6ZSBldmVudCByYXRoZXIgdGhhbiBqdXN0IHVwZGF0aW5nIHRoZSBpbmsgYmFyXG4gICAgaWYgKCEkZWxlbWVudC5wcm9wKCdvZmZzZXRQYXJlbnQnKSkgcmV0dXJuIGhhbmRsZVJlc2l6ZVdoZW5WaXNpYmxlKCk7XG4gICAgdmFyIGluZGV4ID0gJHNjb3BlLnNlbGVjdGVkSW5kZXgsXG4gICAgICAgIHRvdGFsV2lkdGggPSBlbGVtZW50cy5wYWdpbmcub2Zmc2V0V2lkdGgsXG4gICAgICAgIHRhYiA9IGVsZW1lbnRzLnRhYnNbaW5kZXhdLFxuICAgICAgICBsZWZ0ID0gdGFiLm9mZnNldExlZnQsXG4gICAgICAgIHJpZ2h0ID0gdG90YWxXaWR0aCAtIGxlZnQgLSB0YWIub2Zmc2V0V2lkdGg7XG4gICAgdXBkYXRlSW5rQmFyQ2xhc3NOYW1lKCk7XG4gICAgYW5ndWxhci5lbGVtZW50KGVsZW1lbnRzLmlua0JhcikuY3NzKHsgbGVmdDogbGVmdCArICdweCcsIHJpZ2h0OiByaWdodCArICdweCcgfSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBsZWZ0L3JpZ2h0IGNsYXNzZXMgc28gdGhhdCB0aGUgaW5rIGJhciB3aWxsIGFuaW1hdGUgcHJvcGVybHkuXG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVJbmtCYXJDbGFzc05hbWUgKCkge1xuICAgIHZhciBuZXdJbmRleCA9ICRzY29wZS5zZWxlY3RlZEluZGV4LFxuICAgICAgICBvbGRJbmRleCA9IGN0cmwubGFzdFNlbGVjdGVkSW5kZXgsXG4gICAgICAgIGluayA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50cy5pbmtCYXIpO1xuICAgIGlmICghYW5ndWxhci5pc051bWJlcihvbGRJbmRleCkpIHJldHVybjtcbiAgICBpZiAobmV3SW5kZXggPCBvbGRJbmRleCkge1xuICAgICAgaW5rLmFkZENsYXNzKCdtZC1sZWZ0JykucmVtb3ZlQ2xhc3MoJ21kLXJpZ2h0Jyk7XG4gICAgfSBlbHNlIGlmIChuZXdJbmRleCA+IG9sZEluZGV4KSB7XG4gICAgICBpbmsuYWRkQ2xhc3MoJ21kLXJpZ2h0JykucmVtb3ZlQ2xhc3MoJ21kLWxlZnQnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGFrZXMgYW4gb2Zmc2V0IHZhbHVlIGFuZCBtYWtlcyBzdXJlIHRoYXQgaXQgaXMgd2l0aGluIHRoZSBtaW4vbWF4IGFsbG93ZWQgdmFsdWVzLlxuICAgKiBAcGFyYW0gdmFsdWVcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBmdW5jdGlvbiBmaXhPZmZzZXQgKHZhbHVlKSB7XG4gICAgaWYgKCFlbGVtZW50cy50YWJzLmxlbmd0aCB8fCAhY3RybC5zaG91bGRQYWdpbmF0ZSkgcmV0dXJuIDA7XG4gICAgdmFyIGxhc3RUYWIgPSBlbGVtZW50cy50YWJzW2VsZW1lbnRzLnRhYnMubGVuZ3RoIC0gMV0sXG4gICAgICAgIHRvdGFsV2lkdGggPSBsYXN0VGFiLm9mZnNldExlZnQgKyBsYXN0VGFiLm9mZnNldFdpZHRoO1xuICAgIHZhbHVlID0gTWF0aC5tYXgoMCwgdmFsdWUpO1xuICAgIHZhbHVlID0gTWF0aC5taW4odG90YWxXaWR0aCAtIGVsZW1lbnRzLmNhbnZhcy5jbGllbnRXaWR0aCwgdmFsdWUpO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRhY2hlcyBhIHJpcHBsZSB0byB0aGUgdGFiIGl0ZW0gZWxlbWVudC5cbiAgICogQHBhcmFtIHNjb3BlXG4gICAqIEBwYXJhbSBlbGVtZW50XG4gICAqL1xuICBmdW5jdGlvbiBhdHRhY2hSaXBwbGUgKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgdmFyIG9wdGlvbnMgPSB7IGNvbG9yRWxlbWVudDogYW5ndWxhci5lbGVtZW50KGVsZW1lbnRzLmlua0JhcikgfTtcbiAgICAkbWRUYWJJbmtSaXBwbGUuYXR0YWNoKHNjb3BlLCBlbGVtZW50LCBvcHRpb25zKTtcbiAgfVxufVxuTWRUYWJzQ29udHJvbGxlci4kaW5qZWN0ID0gW1wiJHNjb3BlXCIsIFwiJGVsZW1lbnRcIiwgXCIkd2luZG93XCIsIFwiJHRpbWVvdXRcIiwgXCIkbWRDb25zdGFudFwiLCBcIiRtZFRhYklua1JpcHBsZVwiLCBcIiRtZFV0aWxcIiwgXCIkYW5pbWF0ZVwiLCBcIiRhdHRyc1wiLCBcIiRjb21waWxlXCIsIFwiJG1kVGhlbWluZ1wiXTtcblxufSkoKTtcbihmdW5jdGlvbigpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbWRUYWJzXG4gKiBAbW9kdWxlIG1hdGVyaWFsLmNvbXBvbmVudHMudGFic1xuICpcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYDxtZC10YWJzPmAgZGlyZWN0aXZlIHNlcnZlcyBhcyB0aGUgY29udGFpbmVyIGZvciAxLi5uIGA8bWQtdGFiPmAgY2hpbGQgZGlyZWN0aXZlcyB0byBwcm9kdWNlcyBhIFRhYnMgY29tcG9uZW50cy5cbiAqIEluIHR1cm4sIHRoZSBuZXN0ZWQgYDxtZC10YWI+YCBkaXJlY3RpdmUgaXMgdXNlZCB0byBzcGVjaWZ5IGEgdGFiIGxhYmVsIGZvciB0aGUgKipoZWFkZXIgYnV0dG9uKiogYW5kIGEgW29wdGlvbmFsXSB0YWIgdmlld1xuICogY29udGVudCB0aGF0IHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoIGVhY2ggdGFiIGJ1dHRvbi5cbiAqXG4gKiBCZWxvdyBpcyB0aGUgbWFya3VwIGZvciBpdHMgc2ltcGxlc3QgdXNhZ2U6XG4gKlxuICogIDxobGpzIGxhbmc9XCJodG1sXCI+XG4gKiAgPG1kLXRhYnM+XG4gKiAgICA8bWQtdGFiIGxhYmVsPVwiVGFiICMxXCI+PC9tZC10YWI+XG4gKiAgICA8bWQtdGFiIGxhYmVsPVwiVGFiICMyXCI+PC9tZC10YWI+XG4gKiAgICA8bWQtdGFiIGxhYmVsPVwiVGFiICMzXCI+PC9tZC10YWI+XG4gKiAgPC9tZC10YWJzPlxuICogIDwvaGxqcz5cbiAqXG4gKiBUYWJzIHN1cHBvcnRzIHRocmVlICgzKSB1c2FnZSBzY2VuYXJpb3M6XG4gKlxuICogIDEuIFRhYnMgKGJ1dHRvbnMgb25seSlcbiAqICAyLiBUYWJzIHdpdGggaW50ZXJuYWwgdmlldyBjb250ZW50XG4gKiAgMy4gVGFicyB3aXRoIGV4dGVybmFsIHZpZXcgY29udGVudFxuICpcbiAqICoqVGFiLW9ubHkqKiBzdXBwb3J0IGlzIHVzZWZ1bCB3aGVuIHRhYiBidXR0b25zIGFyZSB1c2VkIGZvciBjdXN0b20gbmF2aWdhdGlvbiByZWdhcmRsZXNzIG9mIGFueSBvdGhlciBjb21wb25lbnRzLCBjb250ZW50LCBvciB2aWV3cy5cbiAqICoqVGFicyB3aXRoIGludGVybmFsIHZpZXdzKiogYXJlIHRoZSB0cmFkaXRpb25hbCB1c2FnZXMgd2hlcmUgZWFjaCB0YWIgaGFzIGFzc29jaWF0ZWQgdmlldyBjb250ZW50IGFuZCB0aGUgdmlldyBzd2l0Y2hpbmcgaXMgbWFuYWdlZCBpbnRlcm5hbGx5IGJ5IHRoZSBUYWJzIGNvbXBvbmVudC5cbiAqICoqVGFicyB3aXRoIGV4dGVybmFsIHZpZXcgY29udGVudCoqIGlzIG9mdGVuIHVzZWZ1bCB3aGVuIGNvbnRlbnQgYXNzb2NpYXRlZCB3aXRoIGVhY2ggdGFiIGlzIGluZGVwZW5kZW50bHkgbWFuYWdlZCBhbmQgZGF0YS1iaW5kaW5nIG5vdGlmaWNhdGlvbnMgYW5ub3VuY2UgdGFiIHNlbGVjdGlvbiBjaGFuZ2VzLlxuICpcbiAqIEFkZGl0aW9uYWwgZmVhdHVyZXMgYWxzbyBpbmNsdWRlOlxuICpcbiAqICogIENvbnRlbnQgY2FuIGluY2x1ZGUgYW55IG1hcmt1cC5cbiAqICogIElmIGEgdGFiIGlzIGRpc2FibGVkIHdoaWxlIGFjdGl2ZS9zZWxlY3RlZCwgdGhlbiB0aGUgbmV4dCB0YWIgd2lsbCBiZSBhdXRvLXNlbGVjdGVkLlxuICpcbiAqICMjIyBFeHBsYW5hdGlvbiBvZiB0YWIgc3RyZXRjaGluZ1xuICpcbiAqIEluaXRpYWxseSwgdGFicyB3aWxsIGhhdmUgYW4gaW5oZXJlbnQgc2l6ZS4gIFRoaXMgc2l6ZSB3aWxsIGVpdGhlciBiZSBkZWZpbmVkIGJ5IGhvdyBtdWNoIHNwYWNlIGlzIG5lZWRlZCB0byBhY2NvbW1vZGF0ZSB0aGVpciB0ZXh0IG9yIHNldCBieSB0aGUgdXNlciB0aHJvdWdoIENTUy4gIENhbGN1bGF0aW9ucyB3aWxsIGJlIGJhc2VkIG9uIHRoaXMgc2l6ZS5cbiAqXG4gKiBPbiBtb2JpbGUgZGV2aWNlcywgdGFicyB3aWxsIGJlIGV4cGFuZGVkIHRvIGZpbGwgdGhlIGF2YWlsYWJsZSBob3Jpem9udGFsIHNwYWNlLiAgV2hlbiB0aGlzIGhhcHBlbnMsIGFsbCB0YWJzIHdpbGwgYmVjb21lIHRoZSBzYW1lIHNpemUuXG4gKlxuICogT24gZGVza3RvcHMsIGJ5IGRlZmF1bHQsIHN0cmV0Y2hpbmcgd2lsbCBuZXZlciBvY2N1ci5cbiAqXG4gKiBUaGlzIGRlZmF1bHQgYmVoYXZpb3IgY2FuIGJlIG92ZXJyaWRkZW4gdGhyb3VnaCB0aGUgYG1kLXN0cmV0Y2gtdGFic2AgYXR0cmlidXRlLiAgSGVyZSBpcyBhIHRhYmxlIHNob3dpbmcgd2hlbiBzdHJldGNoaW5nIHdpbGwgb2NjdXI6XG4gKlxuICogYG1kLXN0cmV0Y2gtdGFic2AgfCBtb2JpbGUgICAgfCBkZXNrdG9wXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS18LS0tLS0tLS1cbiAqIGBhdXRvYCAgICAgICAgICAgIHwgc3RyZXRjaGVkIHwgLS0tXG4gKiBgYWx3YXlzYCAgICAgICAgICB8IHN0cmV0Y2hlZCB8IHN0cmV0Y2hlZFxuICogYG5ldmVyYCAgICAgICAgICAgfCAtLS0gICAgICAgfCAtLS1cbiAqXG4gKiBAcGFyYW0ge2ludGVnZXI9fSBtZC1zZWxlY3RlZCBJbmRleCBvZiB0aGUgYWN0aXZlL3NlbGVjdGVkIHRhYlxuICogQHBhcmFtIHtib29sZWFuPX0gbWQtbm8taW5rIElmIHByZXNlbnQsIGRpc2FibGVzIGluayByaXBwbGUgZWZmZWN0cy5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IG1kLW5vLWJhciBJZiBwcmVzZW50LCBkaXNhYmxlcyB0aGUgc2VsZWN0aW9uIGluayBiYXIuXG4gKiBAcGFyYW0ge3N0cmluZz19ICBtZC1hbGlnbi10YWJzIEF0dHJpYnV0ZSB0byBpbmRpY2F0ZSBwb3NpdGlvbiBvZiB0YWIgYnV0dG9uczogYGJvdHRvbWAgb3IgYHRvcGA7IGRlZmF1bHQgaXMgYHRvcGBcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWQtc3RyZXRjaC10YWJzIEF0dHJpYnV0ZSB0byBpbmRpY2F0ZSB3aGV0aGVyIG9yIG5vdCB0byBzdHJldGNoIHRhYnM6IGBhdXRvYCwgYGFsd2F5c2AsIG9yIGBuZXZlcmA7IGRlZmF1bHQgaXMgYGF1dG9gXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1keW5hbWljLWhlaWdodCBXaGVuIGVuYWJsZWQsIHRoZSB0YWIgd3JhcHBlciB3aWxsIHJlc2l6ZSBiYXNlZCBvbiB0aGUgY29udGVudHMgb2YgdGhlIHNlbGVjdGVkIHRhYlxuICogQHBhcmFtIHtib29sZWFuPX0gbWQtY2VudGVyLXRhYnMgV2hlbiBlbmFibGVkLCB0YWJzIHdpbGwgYmUgY2VudGVyZWQgcHJvdmlkZWQgdGhlcmUgaXMgbm8gbmVlZCBmb3IgcGFnaW5hdGlvblxuICogQHBhcmFtIHtib29sZWFuPX0gbWQtbm8tcGFnaW5hdGlvbiBXaGVuIGVuYWJsZWQsIHBhZ2luYXRpb24gd2lsbCByZW1haW4gb2ZmXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1zd2lwZS1jb250ZW50IFdoZW4gZW5hYmxlZCwgc3dpcGUgZ2VzdHVyZXMgd2lsbCBiZSBlbmFibGVkIGZvciB0aGUgY29udGVudCBhcmVhIHRvIGp1bXAgYmV0d2VlbiB0YWJzXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBtZC1uby1kaXNjb25uZWN0IElmIHlvdXIgdGFiIGNvbnRlbnQgaGFzIGJhY2tncm91bmQgdGFza3MgKGllLiBldmVudCBsaXN0ZW5lcnMpLCB5b3Ugd2lsbCB3YW50IHRvIGluY2x1ZGUgdGhpcyB0byBwcmV2ZW50IHRoZSBzY29wZSBmcm9tIGJlaW5nIGRpc2Nvbm5lY3RlZFxuICogQHBhcmFtIHtib29sZWFuPX0gbWQtYXV0b3NlbGVjdCBXaGVuIHByZXNlbnQsIGFueSB0YWJzIGFkZGVkIGFmdGVyIHRoZSBpbml0aWFsIGxvYWQgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IHNlbGVjdGVkXG4gKlxuICogQHVzYWdlXG4gKiA8aGxqcyBsYW5nPVwiaHRtbFwiPlxuICogPG1kLXRhYnMgbWQtc2VsZWN0ZWQ9XCJzZWxlY3RlZEluZGV4XCIgPlxuICogICA8aW1nIG5nLXNyYz1cImltZy9hbmd1bGFyLnBuZ1wiIGNsYXNzPVwiY2VudGVyZWRcIj5cbiAqICAgPG1kLXRhYlxuICogICAgICAgbmctcmVwZWF0PVwidGFiIGluIHRhYnMgfCBvcmRlckJ5OnByZWRpY2F0ZTpyZXZlcnNlZFwiXG4gKiAgICAgICBtZC1vbi1zZWxlY3Q9XCJvblRhYlNlbGVjdGVkKHRhYilcIlxuICogICAgICAgbWQtb24tZGVzZWxlY3Q9XCJhbm5vdW5jZURlc2VsZWN0ZWQodGFiKVwiXG4gKiAgICAgICBuZy1kaXNhYmxlZD1cInRhYi5kaXNhYmxlZFwiPlxuICogICAgIDxtZC10YWItbGFiZWw+XG4gKiAgICAgICB7e3RhYi50aXRsZX19XG4gKiAgICAgICA8aW1nIHNyYz1cImltZy9yZW1vdmVUYWIucG5nXCIgbmctY2xpY2s9XCJyZW1vdmVUYWIodGFiKVwiIGNsYXNzPVwiZGVsZXRlXCI+XG4gKiAgICAgPC9tZC10YWItbGFiZWw+XG4gKiAgICAgPG1kLXRhYi1ib2R5PlxuICogICAgICAge3t0YWIuY29udGVudH19XG4gKiAgICAgPC9tZC10YWItYm9keT5cbiAqICAgPC9tZC10YWI+XG4gKiA8L21kLXRhYnM+XG4gKiA8L2hsanM+XG4gKlxuICovXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy50YWJzJylcbiAgICAuZGlyZWN0aXZlKCdtZFRhYnMnLCBNZFRhYnMpO1xuXG5mdW5jdGlvbiBNZFRhYnMgKCRtZFRoZW1pbmcsICRtZFV0aWwsICRjb21waWxlKSB7XG4gIHJldHVybiB7XG4gICAgc2NvcGU6IHtcbiAgICAgIG5vUGFnaW5hdGlvbjogICc9P21kTm9QYWdpbmF0aW9uJyxcbiAgICAgIGR5bmFtaWNIZWlnaHQ6ICc9P21kRHluYW1pY0hlaWdodCcsXG4gICAgICBjZW50ZXJUYWJzOiAgICAnPT9tZENlbnRlclRhYnMnLFxuICAgICAgc2VsZWN0ZWRJbmRleDogJz0/bWRTZWxlY3RlZCcsXG4gICAgICBzdHJldGNoVGFiczogICAnQD9tZFN0cmV0Y2hUYWJzJyxcbiAgICAgIHN3aXBlQ29udGVudDogICc9P21kU3dpcGVDb250ZW50JyxcbiAgICAgIG5vRGlzY29ubmVjdDogICc9P21kTm9EaXNjb25uZWN0JyxcbiAgICAgIGF1dG9zZWxlY3Q6ICAgICc9P21kQXV0b3NlbGVjdCdcbiAgICB9LFxuICAgIHRlbXBsYXRlOiBmdW5jdGlvbiAoZWxlbWVudCwgYXR0cikge1xuICAgICAgYXR0cltcIiRtZFRhYnNUZW1wbGF0ZVwiXSA9IGVsZW1lbnQuaHRtbCgpO1xuICAgICAgcmV0dXJuICdcXFxuICAgICAgICA8bWQtdGFicy13cmFwcGVyIG5nLWNsYXNzPVwieyBcXCdtZC1zdHJldGNoLXRhYnNcXCc6ICRtZFRhYnNDdHJsLnNob3VsZFN0cmV0Y2hUYWJzKCkgfVwiPlxcXG4gICAgICAgICAgPG1kLXRhYi1kYXRhPjwvbWQtdGFiLWRhdGE+XFxcbiAgICAgICAgICA8bWQtcHJldi1idXR0b25cXFxuICAgICAgICAgICAgICB0YWJpbmRleD1cIi0xXCJcXFxuICAgICAgICAgICAgICByb2xlPVwiYnV0dG9uXCJcXFxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiUHJldmlvdXMgUGFnZVwiXFxcbiAgICAgICAgICAgICAgYXJpYS1kaXNhYmxlZD1cInt7ISRtZFRhYnNDdHJsLmNhblBhZ2VCYWNrKCl9fVwiXFxcbiAgICAgICAgICAgICAgbmctY2xhc3M9XCJ7IFxcJ21kLWRpc2FibGVkXFwnOiAhJG1kVGFic0N0cmwuY2FuUGFnZUJhY2soKSB9XCJcXFxuICAgICAgICAgICAgICBuZy1pZj1cIiRtZFRhYnNDdHJsLnNob3VsZFBhZ2luYXRlXCJcXFxuICAgICAgICAgICAgICBuZy1jbGljaz1cIiRtZFRhYnNDdHJsLnByZXZpb3VzUGFnZSgpXCI+XFxcbiAgICAgICAgICAgIDxtZC1pY29uIG1kLXN2Zy1pY29uPVwibWQtdGFicy1hcnJvd1wiPjwvbWQtaWNvbj5cXFxuICAgICAgICAgIDwvbWQtcHJldi1idXR0b24+XFxcbiAgICAgICAgICA8bWQtbmV4dC1idXR0b25cXFxuICAgICAgICAgICAgICB0YWJpbmRleD1cIi0xXCJcXFxuICAgICAgICAgICAgICByb2xlPVwiYnV0dG9uXCJcXFxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiTmV4dCBQYWdlXCJcXFxuICAgICAgICAgICAgICBhcmlhLWRpc2FibGVkPVwie3shJG1kVGFic0N0cmwuY2FuUGFnZUZvcndhcmQoKX19XCJcXFxuICAgICAgICAgICAgICBuZy1jbGFzcz1cInsgXFwnbWQtZGlzYWJsZWRcXCc6ICEkbWRUYWJzQ3RybC5jYW5QYWdlRm9yd2FyZCgpIH1cIlxcXG4gICAgICAgICAgICAgIG5nLWlmPVwiJG1kVGFic0N0cmwuc2hvdWxkUGFnaW5hdGVcIlxcXG4gICAgICAgICAgICAgIG5nLWNsaWNrPVwiJG1kVGFic0N0cmwubmV4dFBhZ2UoKVwiPlxcXG4gICAgICAgICAgICA8bWQtaWNvbiBtZC1zdmctaWNvbj1cIm1kLXRhYnMtYXJyb3dcIj48L21kLWljb24+XFxcbiAgICAgICAgICA8L21kLW5leHQtYnV0dG9uPlxcXG4gICAgICAgICAgPG1kLXRhYnMtY2FudmFzXFxcbiAgICAgICAgICAgICAgdGFiaW5kZXg9XCIwXCJcXFxuICAgICAgICAgICAgICBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9XCJ0YWItaXRlbS17eyRtZFRhYnNDdHJsLnRhYnNbJG1kVGFic0N0cmwuZm9jdXNJbmRleF0uaWR9fVwiXFxcbiAgICAgICAgICAgICAgbmctZm9jdXM9XCIkbWRUYWJzQ3RybC5yZWRpcmVjdEZvY3VzKClcIlxcXG4gICAgICAgICAgICAgIG5nLWNsYXNzPVwie1xcXG4gICAgICAgICAgICAgICAgICBcXCdtZC1wYWdpbmF0ZWRcXCc6ICRtZFRhYnNDdHJsLnNob3VsZFBhZ2luYXRlLFxcXG4gICAgICAgICAgICAgICAgICBcXCdtZC1jZW50ZXItdGFic1xcJzogJG1kVGFic0N0cmwuc2hvdWxkQ2VudGVyVGFic1xcXG4gICAgICAgICAgICAgIH1cIlxcXG4gICAgICAgICAgICAgIG5nLWtleWRvd249XCIkbWRUYWJzQ3RybC5rZXlkb3duKCRldmVudClcIlxcXG4gICAgICAgICAgICAgIHJvbGU9XCJ0YWJsaXN0XCI+XFxcbiAgICAgICAgICAgIDxtZC1wYWdpbmF0aW9uLXdyYXBwZXJcXFxuICAgICAgICAgICAgICAgIG5nLWNsYXNzPVwieyBcXCdtZC1jZW50ZXItdGFic1xcJzogJG1kVGFic0N0cmwuc2hvdWxkQ2VudGVyVGFicyB9XCJcXFxuICAgICAgICAgICAgICAgIG1kLXRhYi1zY3JvbGw9XCIkbWRUYWJzQ3RybC5zY3JvbGwoJGV2ZW50KVwiPlxcXG4gICAgICAgICAgICAgIDxtZC10YWItaXRlbVxcXG4gICAgICAgICAgICAgICAgICB0YWJpbmRleD1cIi0xXCJcXFxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZC10YWJcIlxcXG4gICAgICAgICAgICAgICAgICBzdHlsZT1cIm1heC13aWR0aDoge3sgdGFiV2lkdGggPyB0YWJXaWR0aCArIFxcJ3B4XFwnIDogXFwnbm9uZVxcJyB9fVwiXFxcbiAgICAgICAgICAgICAgICAgIG5nLXJlcGVhdD1cInRhYiBpbiAkbWRUYWJzQ3RybC50YWJzXCJcXFxuICAgICAgICAgICAgICAgICAgcm9sZT1cInRhYlwiXFxcbiAgICAgICAgICAgICAgICAgIGFyaWEtY29udHJvbHM9XCJ0YWItY29udGVudC17e3RhYi5pZH19XCJcXFxuICAgICAgICAgICAgICAgICAgYXJpYS1zZWxlY3RlZD1cInt7dGFiLmlzQWN0aXZlKCl9fVwiXFxcbiAgICAgICAgICAgICAgICAgIGFyaWEtZGlzYWJsZWQ9XCJ7e3RhYi5zY29wZS5kaXNhYmxlZCB8fCBcXCdmYWxzZVxcJ319XCJcXFxuICAgICAgICAgICAgICAgICAgbmctY2xpY2s9XCIkbWRUYWJzQ3RybC5zZWxlY3QodGFiLmdldEluZGV4KCkpXCJcXFxuICAgICAgICAgICAgICAgICAgbmctY2xhc3M9XCJ7XFxcbiAgICAgICAgICAgICAgICAgICAgICBcXCdtZC1hY3RpdmVcXCc6ICAgIHRhYi5pc0FjdGl2ZSgpLFxcXG4gICAgICAgICAgICAgICAgICAgICAgXFwnbWQtZm9jdXNlZFxcJzogICB0YWIuaGFzRm9jdXMoKSxcXFxuICAgICAgICAgICAgICAgICAgICAgIFxcJ21kLWRpc2FibGVkXFwnOiAgdGFiLnNjb3BlLmRpc2FibGVkXFxcbiAgICAgICAgICAgICAgICAgIH1cIlxcXG4gICAgICAgICAgICAgICAgICBuZy1kaXNhYmxlZD1cInRhYi5zY29wZS5kaXNhYmxlZFwiXFxcbiAgICAgICAgICAgICAgICAgIG1kLXN3aXBlLWxlZnQ9XCIkbWRUYWJzQ3RybC5uZXh0UGFnZSgpXCJcXFxuICAgICAgICAgICAgICAgICAgbWQtc3dpcGUtcmlnaHQ9XCIkbWRUYWJzQ3RybC5wcmV2aW91c1BhZ2UoKVwiXFxcbiAgICAgICAgICAgICAgICAgIG1kLXRlbXBsYXRlPVwidGFiLmxhYmVsXCJcXFxuICAgICAgICAgICAgICAgICAgbWQtc2NvcGU9XCJ0YWIucGFyZW50XCI+PC9tZC10YWItaXRlbT5cXFxuICAgICAgICAgICAgICA8bWQtaW5rLWJhciBuZy1oaWRlPVwibm9JbmtCYXJcIj48L21kLWluay1iYXI+XFxcbiAgICAgICAgICAgIDwvbWQtcGFnaW5hdGlvbi13cmFwcGVyPlxcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWQtdmlzdWFsbHktaGlkZGVuIG1kLWR1bW15LXdyYXBwZXJcIj5cXFxuICAgICAgICAgICAgICA8bWQtZHVtbXktdGFiXFxcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWQtdGFiXCJcXFxuICAgICAgICAgICAgICAgICAgdGFiaW5kZXg9XCItMVwiXFxcbiAgICAgICAgICAgICAgICAgIGlkPVwidGFiLWl0ZW0te3t0YWIuaWR9fVwiXFxcbiAgICAgICAgICAgICAgICAgIHJvbGU9XCJ0YWJcIlxcXG4gICAgICAgICAgICAgICAgICBhcmlhLWNvbnRyb2xzPVwidGFiLWNvbnRlbnQte3t0YWIuaWR9fVwiXFxcbiAgICAgICAgICAgICAgICAgIGFyaWEtc2VsZWN0ZWQ9XCJ7e3RhYi5pc0FjdGl2ZSgpfX1cIlxcXG4gICAgICAgICAgICAgICAgICBhcmlhLWRpc2FibGVkPVwie3t0YWIuc2NvcGUuZGlzYWJsZWQgfHwgXFwnZmFsc2VcXCd9fVwiXFxcbiAgICAgICAgICAgICAgICAgIG5nLWZvY3VzPVwiJG1kVGFic0N0cmwuaGFzRm9jdXMgPSB0cnVlXCJcXFxuICAgICAgICAgICAgICAgICAgbmctYmx1cj1cIiRtZFRhYnNDdHJsLmhhc0ZvY3VzID0gZmFsc2VcIlxcXG4gICAgICAgICAgICAgICAgICBuZy1yZXBlYXQ9XCJ0YWIgaW4gJG1kVGFic0N0cmwudGFic1wiXFxcbiAgICAgICAgICAgICAgICAgIG1kLXRlbXBsYXRlPVwidGFiLmxhYmVsXCJcXFxuICAgICAgICAgICAgICAgICAgbWQtc2NvcGU9XCJ0YWIucGFyZW50XCI+PC9tZC1kdW1teS10YWI+XFxcbiAgICAgICAgICAgIDwvZGl2PlxcXG4gICAgICAgICAgPC9tZC10YWJzLWNhbnZhcz5cXFxuICAgICAgICA8L21kLXRhYnMtd3JhcHBlcj5cXFxuICAgICAgICA8bWQtdGFicy1jb250ZW50LXdyYXBwZXIgbmctc2hvdz1cIiRtZFRhYnNDdHJsLmhhc0NvbnRlbnRcIj5cXFxuICAgICAgICAgIDxtZC10YWItY29udGVudFxcXG4gICAgICAgICAgICAgIGlkPVwidGFiLWNvbnRlbnQte3t0YWIuaWR9fVwiXFxcbiAgICAgICAgICAgICAgcm9sZT1cInRhYnBhbmVsXCJcXFxuICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9XCJ0YWItaXRlbS17e3RhYi5pZH19XCJcXFxuICAgICAgICAgICAgICBtZC1zd2lwZS1sZWZ0PVwic3dpcGVDb250ZW50ICYmICRtZFRhYnNDdHJsLmluY3JlbWVudFNlbGVjdGVkSW5kZXgoMSlcIlxcXG4gICAgICAgICAgICAgIG1kLXN3aXBlLXJpZ2h0PVwic3dpcGVDb250ZW50ICYmICRtZFRhYnNDdHJsLmluY3JlbWVudFNlbGVjdGVkSW5kZXgoLTEpXCJcXFxuICAgICAgICAgICAgICBuZy1pZj1cIiRtZFRhYnNDdHJsLmhhc0NvbnRlbnRcIlxcXG4gICAgICAgICAgICAgIG5nLXJlcGVhdD1cIihpbmRleCwgdGFiKSBpbiAkbWRUYWJzQ3RybC50YWJzXCJcXFxuICAgICAgICAgICAgICBtZC1jb25uZWN0ZWQtaWY9XCJ0YWIuaXNBY3RpdmUoKVwiXFxcbiAgICAgICAgICAgICAgbmctY2xhc3M9XCJ7XFxcbiAgICAgICAgICAgICAgICBcXCdtZC1uby10cmFuc2l0aW9uXFwnOiAkbWRUYWJzQ3RybC5sYXN0U2VsZWN0ZWRJbmRleCA9PSBudWxsLFxcXG4gICAgICAgICAgICAgICAgXFwnbWQtYWN0aXZlXFwnOiAgICAgICAgdGFiLmlzQWN0aXZlKCksXFxcbiAgICAgICAgICAgICAgICBcXCdtZC1sZWZ0XFwnOiAgICAgICAgICB0YWIuaXNMZWZ0KCksXFxcbiAgICAgICAgICAgICAgICBcXCdtZC1yaWdodFxcJzogICAgICAgICB0YWIuaXNSaWdodCgpLFxcXG4gICAgICAgICAgICAgICAgXFwnbWQtbm8tc2Nyb2xsXFwnOiAgICAgZHluYW1pY0hlaWdodFxcXG4gICAgICAgICAgICAgIH1cIj5cXFxuICAgICAgICAgICAgPGRpdlxcXG4gICAgICAgICAgICAgICAgbWQtdGVtcGxhdGU9XCJ0YWIudGVtcGxhdGVcIlxcXG4gICAgICAgICAgICAgICAgbWQtc2NvcGU9XCJ0YWIucGFyZW50XCJcXFxuICAgICAgICAgICAgICAgIG5nLWlmPVwidGFiLnNob3VsZFJlbmRlcigpXCI+PC9kaXY+XFxcbiAgICAgICAgICA8L21kLXRhYi1jb250ZW50PlxcXG4gICAgICAgIDwvbWQtdGFicy1jb250ZW50LXdyYXBwZXI+XFxcbiAgICAgICc7XG4gICAgfSxcbiAgICBjb250cm9sbGVyOiAnTWRUYWJzQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAnJG1kVGFic0N0cmwnXG4gIH07XG59XG5NZFRhYnMuJGluamVjdCA9IFtcIiRtZFRoZW1pbmdcIiwgXCIkbWRVdGlsXCIsIFwiJGNvbXBpbGVcIl07XG5cbn0pKCk7XG4oZnVuY3Rpb24oKXtcblwidXNlIHN0cmljdFwiO1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnbWF0ZXJpYWwuY29tcG9uZW50cy50YWJzJylcbiAgICAuZGlyZWN0aXZlKCdtZFRlbXBsYXRlJywgTWRUZW1wbGF0ZSk7XG5cbmZ1bmN0aW9uIE1kVGVtcGxhdGUgKCRjb21waWxlLCAkbWRVdGlsLCAkdGltZW91dCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbGluazogbGluayxcbiAgICBzY29wZToge1xuICAgICAgdGVtcGxhdGU6ICc9bWRUZW1wbGF0ZScsXG4gICAgICBjb21waWxlU2NvcGU6ICc9bWRTY29wZScsXG4gICAgICBjb25uZWN0ZWQ6ICc9P21kQ29ubmVjdGVkSWYnXG4gICAgfSxcbiAgICByZXF1aXJlOiAnXj9tZFRhYnMnXG4gIH07XG4gIGZ1bmN0aW9uIGxpbmsgKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gICAgaWYgKCFjdHJsKSByZXR1cm47XG4gICAgdmFyIGNvbXBpbGVTY29wZSA9IHNjb3BlLmNvbXBpbGVTY29wZS4kbmV3KCk7XG4gICAgZWxlbWVudC5odG1sKHNjb3BlLnRlbXBsYXRlKTtcbiAgICAkY29tcGlsZShlbGVtZW50LmNvbnRlbnRzKCkpKGNvbXBpbGVTY29wZSk7XG4gICAgcmV0dXJuICR0aW1lb3V0KGhhbmRsZVNjb3BlKTtcbiAgICBmdW5jdGlvbiBoYW5kbGVTY29wZSAoKSB7XG4gICAgICBzY29wZS4kd2F0Y2goJ2Nvbm5lY3RlZCcsIGZ1bmN0aW9uICh2YWx1ZSkgeyB2YWx1ZSA9PT0gZmFsc2UgPyBkaXNjb25uZWN0KCkgOiByZWNvbm5lY3QoKTsgfSk7XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgcmVjb25uZWN0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzY29ubmVjdCAoKSB7XG4gICAgICBpZiAoY3RybC5zY29wZS5ub0Rpc2Nvbm5lY3QpIHJldHVybjtcbiAgICAgICRtZFV0aWwuZGlzY29ubmVjdFNjb3BlKGNvbXBpbGVTY29wZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY29ubmVjdCAoKSB7XG4gICAgICBpZiAoY3RybC5zY29wZS5ub0Rpc2Nvbm5lY3QpIHJldHVybjtcbiAgICAgICRtZFV0aWwucmVjb25uZWN0U2NvcGUoY29tcGlsZVNjb3BlKTtcbiAgICB9XG4gIH1cbn1cbk1kVGVtcGxhdGUuJGluamVjdCA9IFtcIiRjb21waWxlXCIsIFwiJG1kVXRpbFwiLCBcIiR0aW1lb3V0XCJdO1xuXG59KSgpO1xuKGZ1bmN0aW9uKCl7IFxuYW5ndWxhci5tb2R1bGUoXCJtYXRlcmlhbC5jb3JlXCIpLmNvbnN0YW50KFwiJE1EX1RIRU1FX0NTU1wiLCBcIi8qIG1peGluIGRlZmluaXRpb24gOyBzZXRzIExUUiBhbmQgUlRMIHdpdGhpbiB0aGUgc2FtZSBzdHlsZSBjYWxsICovbWQtYXV0b2NvbXBsZXRlLm1kLVRIRU1FX05BTUUtdGhlbWUgeyAgYmFja2dyb3VuZDogJ3t7YmFja2dyb3VuZC01MH19JzsgfSAgbWQtYXV0b2NvbXBsZXRlLm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdIHsgICAgYmFja2dyb3VuZDogJ3t7YmFja2dyb3VuZC0xMDB9fSc7IH0gIG1kLWF1dG9jb21wbGV0ZS5tZC1USEVNRV9OQU1FLXRoZW1lIGJ1dHRvbiBtZC1pY29uIHBhdGggeyAgICBmaWxsOiAne3tiYWNrZ3JvdW5kLTYwMH19JzsgfSAgbWQtYXV0b2NvbXBsZXRlLm1kLVRIRU1FX05BTUUtdGhlbWUgYnV0dG9uOmFmdGVyIHsgICAgYmFja2dyb3VuZDogJ3t7YmFja2dyb3VuZC02MDAtMC4zfX0nOyB9Lm1kLWF1dG9jb21wbGV0ZS1zdWdnZXN0aW9ucy5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJhY2tncm91bmQ6ICd7e2JhY2tncm91bmQtNTB9fSc7IH0gIC5tZC1hdXRvY29tcGxldGUtc3VnZ2VzdGlvbnMubWQtVEhFTUVfTkFNRS10aGVtZSBsaSB7ICAgIGNvbG9yOiAne3tiYWNrZ3JvdW5kLTkwMH19JzsgfSAgICAubWQtYXV0b2NvbXBsZXRlLXN1Z2dlc3Rpb25zLm1kLVRIRU1FX05BTUUtdGhlbWUgbGkgLmhpZ2hsaWdodCB7ICAgICAgY29sb3I6ICd7e2JhY2tncm91bmQtNjAwfX0nOyB9ICAgIC5tZC1hdXRvY29tcGxldGUtc3VnZ2VzdGlvbnMubWQtVEhFTUVfTkFNRS10aGVtZSBsaTpob3ZlciwgLm1kLWF1dG9jb21wbGV0ZS1zdWdnZXN0aW9ucy5tZC1USEVNRV9OQU1FLXRoZW1lIGxpLnNlbGVjdGVkIHsgICAgICBiYWNrZ3JvdW5kOiAne3tiYWNrZ3JvdW5kLTIwMH19JzsgfW1kLWJhY2tkcm9wLm1kLW9wYXF1ZS5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2ZvcmVncm91bmQtNC0wLjV9fSc7IH1tZC1ib3R0b20tc2hlZXQubWQtVEhFTUVfTkFNRS10aGVtZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLTUwfX0nOyAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7YmFja2dyb3VuZC0zMDB9fSc7IH0gIG1kLWJvdHRvbS1zaGVldC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWxpc3QgbWQtbGlzdC1pdGVtIHsgICAgY29sb3I6ICd7e2ZvcmVncm91bmQtMX19JzsgfSAgbWQtYm90dG9tLXNoZWV0Lm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXN1YmhlYWRlciB7ICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtNTB9fSc7IH0gIG1kLWJvdHRvbS1zaGVldC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1zdWJoZWFkZXIgeyAgICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0xfX0nOyB9YS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZSwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJvcmRlci1yYWRpdXM6IDNweDsgfSAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSk6aG92ZXIsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSk6aG92ZXIgeyAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLTUwMC0wLjJ9fSc7IH0gIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCB7ICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtNTAwLTAuMn19JzsgfSAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtaWNvbi1idXR0b246aG92ZXIsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtaWNvbi1idXR0b246aG92ZXIgeyAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsgfSAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWIsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWIgeyAgICBib3JkZXItcmFkaXVzOiA1MCU7ICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgICAgY29sb3I6ICd7e2FjY2VudC1jb250cmFzdH19JzsgfSAgICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWZhYiBtZC1pY29uLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZmFiIG1kLWljb24geyAgICAgIGNvbG9yOiAne3thY2NlbnQtY29udHJhc3R9fSc7IH0gICAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWI6bm90KFtkaXNhYmxlZF0pOmhvdmVyLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZmFiOm5vdChbZGlzYWJsZWRdKTpob3ZlciB7ICAgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9ICAgIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZmFiOm5vdChbZGlzYWJsZWRdKS5tZC1mb2N1c2VkLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZmFiOm5vdChbZGlzYWJsZWRdKS5tZC1mb2N1c2VkIHsgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtQTcwMH19JzsgfSAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1pY29uLWJ1dHRvbiwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWljb24tYnV0dG9uIHsgICAgYm9yZGVyLXJhZGl1czogNTAlOyB9ICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnksIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IHsgICAgY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH0gICAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Lm1kLXJhaXNlZCwgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Lm1kLWZhYiwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkubWQtcmFpc2VkLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeS5tZC1mYWIgeyAgICAgIGNvbG9yOiAne3twcmltYXJ5LWNvbnRyYXN0fX0nOyAgICAgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH0gICAgICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkubWQtcmFpc2VkOm5vdChbZGlzYWJsZWRdKSBtZC1pY29uLCBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkubWQtZmFiOm5vdChbZGlzYWJsZWRdKSBtZC1pY29uLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeS5tZC1yYWlzZWQ6bm90KFtkaXNhYmxlZF0pIG1kLWljb24sIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Lm1kLWZhYjpub3QoW2Rpc2FibGVkXSkgbWQtaWNvbiB7ICAgICAgICBjb2xvcjogJ3t7cHJpbWFyeS1jb250cmFzdH19JzsgfSAgICAgIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeS5tZC1yYWlzZWQ6bm90KFtkaXNhYmxlZF0pOmhvdmVyLCBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkubWQtZmFiOm5vdChbZGlzYWJsZWRdKTpob3ZlciwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkubWQtcmFpc2VkOm5vdChbZGlzYWJsZWRdKTpob3ZlciwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkubWQtZmFiOm5vdChbZGlzYWJsZWRdKTpob3ZlciB7ICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9ICAgICAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Lm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCwgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Lm1kLWZhYjpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkubWQtcmFpc2VkOm5vdChbZGlzYWJsZWRdKS5tZC1mb2N1c2VkLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeS5tZC1mYWI6bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgeyAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7cHJpbWFyeS02MDB9fSc7IH0gICAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5Om5vdChbZGlzYWJsZWRdKSBtZC1pY29uLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeTpub3QoW2Rpc2FibGVkXSkgbWQtaWNvbiB7ICAgICAgY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH0gIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZmFiLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZmFiIHsgICAgYm9yZGVyLXJhZGl1czogNTAlOyAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7ICAgIGNvbG9yOiAne3thY2NlbnQtY29udHJhc3R9fSc7IH0gICAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWI6bm90KFtkaXNhYmxlZF0pIC5tZC1pY29uLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZmFiOm5vdChbZGlzYWJsZWRdKSAubWQtaWNvbiB7ICAgICAgY29sb3I6ICd7e2FjY2VudC1jb250cmFzdH19JzsgfSAgICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWZhYjpub3QoW2Rpc2FibGVkXSk6aG92ZXIsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWI6bm90KFtkaXNhYmxlZF0pOmhvdmVyIHsgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH0gICAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWI6bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWI6bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgeyAgICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1BNzAwfX0nOyB9ICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXJhaXNlZCwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXJhaXNlZCB7ICAgIGNvbG9yOiAne3tiYWNrZ3JvdW5kLWNvbnRyYXN0fX0nOyAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLTUwfX0nOyB9ICAgIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcmFpc2VkOm5vdChbZGlzYWJsZWRdKSAubWQtaWNvbiwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSkgLm1kLWljb24geyAgICAgIGNvbG9yOiAne3tiYWNrZ3JvdW5kLWNvbnRyYXN0fX0nOyB9ICAgIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcmFpc2VkOm5vdChbZGlzYWJsZWRdKTpob3ZlciwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSk6aG92ZXIgeyAgICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtNTB9fSc7IH0gICAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1yYWlzZWQ6bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1yYWlzZWQ6bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgeyAgICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtMjAwfX0nOyB9ICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4sIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIHsgICAgY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH0gICAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuLm1kLXJhaXNlZCwgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuLm1kLWZhYiwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4ubWQtcmFpc2VkLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2Fybi5tZC1mYWIgeyAgICAgIGNvbG9yOiAne3t3YXJuLWNvbnRyYXN0fX0nOyAgICAgIGJhY2tncm91bmQtY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH0gICAgICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4ubWQtcmFpc2VkOm5vdChbZGlzYWJsZWRdKSBtZC1pY29uLCBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4ubWQtZmFiOm5vdChbZGlzYWJsZWRdKSBtZC1pY29uLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2Fybi5tZC1yYWlzZWQ6bm90KFtkaXNhYmxlZF0pIG1kLWljb24sIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuLm1kLWZhYjpub3QoW2Rpc2FibGVkXSkgbWQtaWNvbiB7ICAgICAgICBjb2xvcjogJ3t7d2Fybi1jb250cmFzdH19JzsgfSAgICAgIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2Fybi5tZC1yYWlzZWQ6bm90KFtkaXNhYmxlZF0pOmhvdmVyLCBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4ubWQtZmFiOm5vdChbZGlzYWJsZWRdKTpob3ZlciwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4ubWQtcmFpc2VkOm5vdChbZGlzYWJsZWRdKTpob3ZlciwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4ubWQtZmFiOm5vdChbZGlzYWJsZWRdKTpob3ZlciB7ICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9ICAgICAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuLm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCwgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuLm1kLWZhYjpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4ubWQtcmFpc2VkOm5vdChbZGlzYWJsZWRdKS5tZC1mb2N1c2VkLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2Fybi5tZC1mYWI6bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgeyAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7d2Fybi03MDB9fSc7IH0gICAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuOm5vdChbZGlzYWJsZWRdKSBtZC1pY29uLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2Fybjpub3QoW2Rpc2FibGVkXSkgbWQtaWNvbiB7ICAgICAgY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH0gIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50LCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50IHsgICAgY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgfSAgICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudC5tZC1yYWlzZWQsIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50Lm1kLWZhYiwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudC5tZC1yYWlzZWQsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQubWQtZmFiIHsgICAgICBjb2xvcjogJ3t7YWNjZW50LWNvbnRyYXN0fX0nOyAgICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgfSAgICAgIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50Lm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSkgbWQtaWNvbiwgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQubWQtZmFiOm5vdChbZGlzYWJsZWRdKSBtZC1pY29uLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50Lm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSkgbWQtaWNvbiwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudC5tZC1mYWI6bm90KFtkaXNhYmxlZF0pIG1kLWljb24geyAgICAgICAgY29sb3I6ICd7e2FjY2VudC1jb250cmFzdH19JzsgfSAgICAgIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50Lm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSk6aG92ZXIsIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50Lm1kLWZhYjpub3QoW2Rpc2FibGVkXSk6aG92ZXIsIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQubWQtcmFpc2VkOm5vdChbZGlzYWJsZWRdKTpob3ZlciwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudC5tZC1mYWI6bm90KFtkaXNhYmxlZF0pOmhvdmVyIHsgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgfSAgICAgIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50Lm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCwgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQubWQtZmFiOm5vdChbZGlzYWJsZWRdKS5tZC1mb2N1c2VkLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50Lm1kLXJhaXNlZDpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudC5tZC1mYWI6bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgeyAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LTcwMH19JzsgfSAgICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudDpub3QoW2Rpc2FibGVkXSkgbWQtaWNvbiwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudDpub3QoW2Rpc2FibGVkXSkgbWQtaWNvbiB7ICAgICAgY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgfSAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0sIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcmFpc2VkW2Rpc2FibGVkXSwgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWJbZGlzYWJsZWRdLCBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudFtkaXNhYmxlZF0sIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybltkaXNhYmxlZF0sIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0sIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1yYWlzZWRbZGlzYWJsZWRdLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZmFiW2Rpc2FibGVkXSwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudFtkaXNhYmxlZF0sIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuW2Rpc2FibGVkXSB7ICAgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7ICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7IH0gICAgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0gbWQtaWNvbiwgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1yYWlzZWRbZGlzYWJsZWRdIG1kLWljb24sIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZmFiW2Rpc2FibGVkXSBtZC1pY29uLCBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudFtkaXNhYmxlZF0gbWQtaWNvbiwgYS5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuW2Rpc2FibGVkXSBtZC1pY29uLCAubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdIG1kLWljb24sIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1yYWlzZWRbZGlzYWJsZWRdIG1kLWljb24sIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWJbZGlzYWJsZWRdIG1kLWljb24sIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnRbZGlzYWJsZWRdIG1kLWljb24sIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuW2Rpc2FibGVkXSBtZC1pY29uIHsgICAgICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nOyB9ICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXJhaXNlZFtkaXNhYmxlZF0sIGEubWQtYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZmFiW2Rpc2FibGVkXSwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXJhaXNlZFtkaXNhYmxlZF0sIC5tZC1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1mYWJbZGlzYWJsZWRdIHsgICAgYmFja2dyb3VuZC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC00fX0nOyB9ICBhLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lW2Rpc2FibGVkXSwgLm1kLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lW2Rpc2FibGVkXSB7ICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyB9bWQtY2FyZC5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtY29sb3J9fSc7ICBib3JkZXItcmFkaXVzOiAycHg7IH0gIG1kLWNhcmQubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtY2FyZC1pbWFnZSB7ICAgIGJvcmRlci1yYWRpdXM6IDJweCAycHggMCAwOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtcmlwcGxlIHsgIGNvbG9yOiAne3thY2NlbnQtNjAwfX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkIC5tZC1yaXBwbGUgeyAgY29sb3I6ICd7e2JhY2tncm91bmQtNjAwfX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkLm1kLWZvY3VzZWQgLm1kLWNvbnRhaW5lcjpiZWZvcmUgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yLTAuMjZ9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pY29uIHsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkIC5tZC1pY29uIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1jb2xvci0wLjg3fX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkIC5tZC1pY29uOmFmdGVyIHsgIGJvcmRlci1jb2xvcjogJ3t7YmFja2dyb3VuZC0yMDB9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC1wcmltYXJ5IC5tZC1yaXBwbGUgeyAgY29sb3I6ICd7e3ByaW1hcnktNjAwfX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeS5tZC1jaGVja2VkIC5tZC1yaXBwbGUgeyAgY29sb3I6ICd7e2JhY2tncm91bmQtNjAwfX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeSAubWQtaWNvbiB7ICBib3JkZXItY29sb3I6ICd7e2ZvcmVncm91bmQtMn19JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXByaW1hcnkubWQtY2hlY2tlZCAubWQtaWNvbiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yLTAuODd9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC1wcmltYXJ5Lm1kLWNoZWNrZWQubWQtZm9jdXNlZCAubWQtY29udGFpbmVyOmJlZm9yZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yLTAuMjZ9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC1wcmltYXJ5Lm1kLWNoZWNrZWQgLm1kLWljb246YWZ0ZXIgeyAgYm9yZGVyLWNvbG9yOiAne3tiYWNrZ3JvdW5kLTIwMH19JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXdhcm4gLm1kLXJpcHBsZSB7ICBjb2xvcjogJ3t7d2Fybi02MDB9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC13YXJuIC5tZC1pY29uIHsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtd2Fybi5tZC1jaGVja2VkIC5tZC1pY29uIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3dhcm4tY29sb3ItMC44N319JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXdhcm4ubWQtY2hlY2tlZC5tZC1mb2N1c2VkOm5vdChbZGlzYWJsZWRdKSAubWQtY29udGFpbmVyOmJlZm9yZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yLTAuMjZ9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC13YXJuLm1kLWNoZWNrZWQgLm1kLWljb246YWZ0ZXIgeyAgYm9yZGVyLWNvbG9yOiAne3tiYWNrZ3JvdW5kLTIwMH19JzsgfW1kLWNoZWNrYm94Lm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdIC5tZC1pY29uIHsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nOyB9bWQtY2hlY2tib3gubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0ubWQtY2hlY2tlZCAubWQtaWNvbiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7IH1tZC1jaGVja2JveC5tZC1USEVNRV9OQU1FLXRoZW1lW2Rpc2FibGVkXSAubWQtbGFiZWwgeyAgY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfW1kLWNvbnRlbnQubWQtVEhFTUVfTkFNRS10aGVtZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLWNvbG9yfX0nOyB9bWQtY2hpcHMubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtY2hpcHMgeyAgYm94LXNoYWRvdzogMCAxcHggJ3t7YmFja2dyb3VuZC0zMDB9fSc7IH0gIG1kLWNoaXBzLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWNoaXBzLm1kLWZvY3VzZWQgeyAgICBib3gtc2hhZG93OiAwIDJweCAne3twcmltYXJ5LWNvbG9yfX0nOyB9bWQtY2hpcHMubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtY2hpcCB7ICBiYWNrZ3JvdW5kOiAne3tiYWNrZ3JvdW5kLTMwMH19JzsgIGNvbG9yOiAne3tiYWNrZ3JvdW5kLTgwMH19JzsgfSAgbWQtY2hpcHMubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtY2hpcC5tZC1mb2N1c2VkIHsgICAgYmFja2dyb3VuZDogJ3t7cHJpbWFyeS1jb2xvcn19JzsgICAgY29sb3I6ICd7e3ByaW1hcnktY29udHJhc3R9fSc7IH0gICAgbWQtY2hpcHMubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtY2hpcC5tZC1mb2N1c2VkIG1kLWljb24geyAgICAgIGNvbG9yOiAne3twcmltYXJ5LWNvbnRyYXN0fX0nOyB9bWQtY2hpcHMubWQtVEhFTUVfTkFNRS10aGVtZSBtZC1jaGlwLXJlbW92ZSAubWQtYnV0dG9uIG1kLWljb24gcGF0aCB7ICBmaWxsOiAne3tiYWNrZ3JvdW5kLTUwMH19JzsgfS5tZC1jb250YWN0LXN1Z2dlc3Rpb24gc3Bhbi5tZC1jb250YWN0LWVtYWlsIHsgIGNvbG9yOiAne3tiYWNrZ3JvdW5kLTQwMH19JzsgfW1kLWRpYWxvZy5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJvcmRlci1yYWRpdXM6IDRweDsgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtY29sb3J9fSc7IH0gIG1kLWRpYWxvZy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWNvbnRlbnQtb3ZlcmZsb3cgLm1kLWFjdGlvbnMgeyAgICBib3JkZXItdG9wLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTR9fSc7IH1tZC1kaXZpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUgeyAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC00fX0nOyB9bWQtaWNvbi5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTJ9fSc7IH0gIG1kLWljb24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IHsgICAgY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH0gIG1kLWljb24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQgeyAgICBjb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9ICBtZC1pY29uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiB7ICAgIGNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9bWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWlucHV0IHsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTF9fSc7ICBib3JkZXItY29sb3I6ICd7e2ZvcmVncm91bmQtNH19JzsgIHRleHQtc2hhZG93OiAne3tmb3JlZ3JvdW5kLXNoYWRvd319JzsgfSAgbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWlucHV0Ojotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyLCBtZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtaW5wdXQ6Oi1tb3otcGxhY2Vob2xkZXIsIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pbnB1dDotbW96LXBsYWNlaG9sZGVyLCBtZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtaW5wdXQ6LW1zLWlucHV0LXBsYWNlaG9sZGVyIHsgICAgY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfW1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lID4gbWQtaWNvbiB7ICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0xfX0nOyB9bWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgbGFiZWwsIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1wbGFjZWhvbGRlciB7ICB0ZXh0LXNoYWRvdzogJ3t7Zm9yZWdyb3VuZC1zaGFkb3d9fSc7ICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nOyB9bWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgbmctbWVzc2FnZXMsIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lIFtuZy1tZXNzYWdlXSwgbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUgW2RhdGEtbmctbWVzc2FnZV0sIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lIFt4LW5nLW1lc3NhZ2VdIHsgIGNvbG9yOiAne3t3YXJuLTUwMH19JzsgfW1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdCgubWQtaW5wdXQtaW52YWxpZCkubWQtaW5wdXQtaGFzLXZhbHVlIGxhYmVsIHsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTJ9fSc7IH1tZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoLm1kLWlucHV0LWludmFsaWQpLm1kLWlucHV0LWZvY3VzZWQgLm1kLWlucHV0IHsgIGJvcmRlci1jb2xvcjogJ3t7cHJpbWFyeS01MDB9fSc7IH1tZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoLm1kLWlucHV0LWludmFsaWQpLm1kLWlucHV0LWZvY3VzZWQgbGFiZWwgeyAgY29sb3I6ICd7e3ByaW1hcnktNTAwfX0nOyB9bWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KC5tZC1pbnB1dC1pbnZhbGlkKS5tZC1pbnB1dC1mb2N1c2VkIG1kLWljb24geyAgY29sb3I6ICd7e3ByaW1hcnktNTAwfX0nOyB9bWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KC5tZC1pbnB1dC1pbnZhbGlkKS5tZC1pbnB1dC1mb2N1c2VkLm1kLWFjY2VudCAubWQtaW5wdXQgeyAgYm9yZGVyLWNvbG9yOiAne3thY2NlbnQtNTAwfX0nOyB9bWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KC5tZC1pbnB1dC1pbnZhbGlkKS5tZC1pbnB1dC1mb2N1c2VkLm1kLWFjY2VudCBsYWJlbCB7ICBjb2xvcjogJ3t7YWNjZW50LTUwMH19JzsgfW1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdCgubWQtaW5wdXQtaW52YWxpZCkubWQtaW5wdXQtZm9jdXNlZC5tZC13YXJuIC5tZC1pbnB1dCB7ICBib3JkZXItY29sb3I6ICd7e3dhcm4tNTAwfX0nOyB9bWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KC5tZC1pbnB1dC1pbnZhbGlkKS5tZC1pbnB1dC1mb2N1c2VkLm1kLXdhcm4gbGFiZWwgeyAgY29sb3I6ICd7e3dhcm4tNTAwfX0nOyB9bWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtaW5wdXQtaW52YWxpZCAubWQtaW5wdXQgeyAgYm9yZGVyLWNvbG9yOiAne3t3YXJuLTUwMH19JzsgfW1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWludmFsaWQubWQtaW5wdXQtZm9jdXNlZCBsYWJlbCB7ICBjb2xvcjogJ3t7d2Fybi01MDB9fSc7IH1tZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1pbnB1dC1pbnZhbGlkIG5nLW1lc3NhZ2UsIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWludmFsaWQgZGF0YS1uZy1tZXNzYWdlLCBtZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1pbnB1dC1pbnZhbGlkIHgtbmctbWVzc2FnZSwgbWQtaW5wdXQtY29udGFpbmVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtaW5wdXQtaW52YWxpZCBbbmctbWVzc2FnZV0sIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWludmFsaWQgW2RhdGEtbmctbWVzc2FnZV0sIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWludmFsaWQgW3gtbmctbWVzc2FnZV0sIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWlucHV0LWludmFsaWQgLm1kLWNoYXItY291bnRlciB7ICBjb2xvcjogJ3t7d2Fybi01MDB9fSc7IH1tZC1pbnB1dC1jb250YWluZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtaW5wdXRbZGlzYWJsZWRdLCBbZGlzYWJsZWRdIG1kLWlucHV0LWNvbnRhaW5lci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pbnB1dCB7ICBib3JkZXItYm90dG9tLWNvbG9yOiB0cmFuc3BhcmVudDsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7ICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICd7e2ZvcmVncm91bmQtM319JyAwJSwgJ3t7Zm9yZWdyb3VuZC0zfX0nIDMzJSwgdHJhbnNwYXJlbnQgMCUpOyAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudChsZWZ0LCB0cmFuc3BhcmVudCAwJSwgJ3t7Zm9yZWdyb3VuZC0zfX0nIDEwMCUpOyB9bWQtbGlzdC5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLWxpc3QtaXRlbS5tZC0yLWxpbmUgLm1kLWxpc3QtaXRlbS10ZXh0IGgzLCBtZC1saXN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtbGlzdC1pdGVtLm1kLTItbGluZSAubWQtbGlzdC1pdGVtLXRleHQgaDQsIG1kLWxpc3QubWQtVEhFTUVfTkFNRS10aGVtZSBtZC1saXN0LWl0ZW0ubWQtMy1saW5lIC5tZC1saXN0LWl0ZW0tdGV4dCBoMywgbWQtbGlzdC5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLWxpc3QtaXRlbS5tZC0zLWxpbmUgLm1kLWxpc3QtaXRlbS10ZXh0IGg0IHsgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTF9fSc7IH1tZC1saXN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtbGlzdC1pdGVtLm1kLTItbGluZSAubWQtbGlzdC1pdGVtLXRleHQgcCwgbWQtbGlzdC5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLWxpc3QtaXRlbS5tZC0zLWxpbmUgLm1kLWxpc3QtaXRlbS10ZXh0IHAgeyAgY29sb3I6ICd7e2ZvcmVncm91bmQtMn19JzsgfW1kLWxpc3QubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtcHJveHktZm9jdXMubWQtZm9jdXNlZCBkaXYubWQtbm8tc3R5bGUgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC0xMDB9fSc7IH1tZC1saXN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtbGlzdC1pdGVtID4gbWQtaWNvbiB7ICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9ICBtZC1saXN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtbGlzdC1pdGVtID4gbWQtaWNvbi5tZC1oaWdobGlnaHQgeyAgICBjb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfSAgICBtZC1saXN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtbGlzdC1pdGVtID4gbWQtaWNvbi5tZC1oaWdobGlnaHQubWQtYWNjZW50IHsgICAgICBjb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9bWQtbGlzdC5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLWxpc3QtaXRlbSBidXR0b24geyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC1jb2xvcn19JzsgfSAgbWQtbGlzdC5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLWxpc3QtaXRlbSBidXR0b24ubWQtYnV0dG9uOm5vdChbZGlzYWJsZWRdKTpob3ZlciB7ICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtY29sb3J9fSc7IH1tZC1tZW51LWNvbnRlbnQubWQtVEhFTUVfTkFNRS10aGVtZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLWNvbG9yfX0nOyB9ICBtZC1tZW51LWNvbnRlbnQubWQtVEhFTUVfTkFNRS10aGVtZSBtZC1tZW51LWRpdmlkZXIgeyAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTR9fSc7IH1tZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyB9ICBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pbm5lciAubWQtZ2FwIHsgICAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfSAgbWQtcHJvZ3Jlc3MtY2lyY3VsYXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtaW5uZXIgLm1kLWxlZnQgLm1kLWhhbGYtY2lyY2xlLCBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1pbm5lciAubWQtcmlnaHQgLm1kLWhhbGYtY2lyY2xlIHsgICAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfSAgbWQtcHJvZ3Jlc3MtY2lyY3VsYXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtaW5uZXIgLm1kLXJpZ2h0IC5tZC1oYWxmLWNpcmNsZSB7ICAgIGJvcmRlci1yaWdodC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfSAgbWQtcHJvZ3Jlc3MtY2lyY3VsYXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtaW5uZXIgLm1kLWxlZnQgLm1kLWhhbGYtY2lyY2xlIHsgICAgYm9yZGVyLWxlZnQtY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH0gIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiAubWQtaW5uZXIgLm1kLWdhcCB7ICAgIGJvcmRlci10b3AtY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7ICAgIGJvcmRlci1ib3R0b20tY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH0gIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiAubWQtaW5uZXIgLm1kLWxlZnQgLm1kLWhhbGYtY2lyY2xlLCBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gLm1kLWlubmVyIC5tZC1yaWdodCAubWQtaGFsZi1jaXJjbGUgeyAgICBib3JkZXItdG9wLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9ICBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gLm1kLWlubmVyIC5tZC1yaWdodCAubWQtaGFsZi1jaXJjbGUgeyAgICBib3JkZXItcmlnaHQtY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH0gIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiAubWQtaW5uZXIgLm1kLWxlZnQgLm1kLWhhbGYtY2lyY2xlIHsgICAgYm9yZGVyLWxlZnQtY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH0gIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50IC5tZC1pbm5lciAubWQtZ2FwIHsgICAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyAgICBib3JkZXItYm90dG9tLWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH0gIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50IC5tZC1pbm5lciAubWQtbGVmdCAubWQtaGFsZi1jaXJjbGUsIG1kLXByb2dyZXNzLWNpcmN1bGFyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtYWNjZW50IC5tZC1pbm5lciAubWQtcmlnaHQgLm1kLWhhbGYtY2lyY2xlIHsgICAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9ICBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudCAubWQtaW5uZXIgLm1kLXJpZ2h0IC5tZC1oYWxmLWNpcmNsZSB7ICAgIGJvcmRlci1yaWdodC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9ICBtZC1wcm9ncmVzcy1jaXJjdWxhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudCAubWQtaW5uZXIgLm1kLWxlZnQgLm1kLWhhbGYtY2lyY2xlIHsgICAgYm9yZGVyLWxlZnQtY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgfW1kLXByb2dyZXNzLWxpbmVhci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1jb250YWluZXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7cHJpbWFyeS0xMDB9fSc7IH1tZC1wcm9ncmVzcy1saW5lYXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtYmFyIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH1tZC1wcm9ncmVzcy1saW5lYXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC1jb250YWluZXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7d2Fybi0xMDB9fSc7IH1tZC1wcm9ncmVzcy1saW5lYXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC1iYXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfW1kLXByb2dyZXNzLWxpbmVhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudCAubWQtY29udGFpbmVyIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC0xMDB9fSc7IH1tZC1wcm9ncmVzcy1saW5lYXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQgLm1kLWJhciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH1tZC1wcm9ncmVzcy1saW5lYXIubWQtVEhFTUVfTkFNRS10aGVtZVttZC1tb2RlPWJ1ZmZlcl0ubWQtd2FybiAubWQtYmFyMSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLTEwMH19JzsgfW1kLXByb2dyZXNzLWxpbmVhci5tZC1USEVNRV9OQU1FLXRoZW1lW21kLW1vZGU9YnVmZmVyXS5tZC13YXJuIC5tZC1kYXNoZWQ6YmVmb3JlIHsgIGJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudCgne3t3YXJuLTEwMH19JyAwJSwgJ3t7d2Fybi0xMDB9fScgMTYlLCB0cmFuc3BhcmVudCA0MiUpOyB9bWQtcHJvZ3Jlc3MtbGluZWFyLm1kLVRIRU1FX05BTUUtdGhlbWVbbWQtbW9kZT1idWZmZXJdLm1kLWFjY2VudCAubWQtYmFyMSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtMTAwfX0nOyB9bWQtcHJvZ3Jlc3MtbGluZWFyLm1kLVRIRU1FX05BTUUtdGhlbWVbbWQtbW9kZT1idWZmZXJdLm1kLWFjY2VudCAubWQtZGFzaGVkOmJlZm9yZSB7ICBiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoJ3t7YWNjZW50LTEwMH19JyAwJSwgJ3t7YWNjZW50LTEwMH19JyAxNiUsIHRyYW5zcGFyZW50IDQyJSk7IH1tZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtb2ZmIHsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9bWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLW9uIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1jb2xvci0wLjg3fX0nOyB9bWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtY2hlY2tlZCAubWQtb2ZmIHsgIGJvcmRlci1jb2xvcjogJ3t7YWNjZW50LWNvbG9yLTAuODd9fSc7IH1tZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlIHsgIGNvbG9yOiAne3thY2NlbnQtY29sb3ItMC44N319JzsgfW1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1jb250YWluZXIgLm1kLXJpcHBsZSB7ICBjb2xvcjogJ3t7YWNjZW50LTYwMH19JzsgfW1kLXJhZGlvLWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pIC5tZC1wcmltYXJ5IC5tZC1vbiwgbWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeSAubWQtb24sIG1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKSAubWQtcHJpbWFyeSAubWQtb24sIG1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC1wcmltYXJ5IC5tZC1vbiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yLTAuODd9fSc7IH1tZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKSAubWQtcHJpbWFyeSAubWQtY2hlY2tlZCAubWQtb2ZmLCBtZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKSAubWQtcHJpbWFyeS5tZC1jaGVja2VkIC5tZC1vZmYsIG1kLXJhZGlvLWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXByaW1hcnkgLm1kLWNoZWNrZWQgLm1kLW9mZiwgbWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeS5tZC1jaGVja2VkIC5tZC1vZmYsIG1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKSAubWQtcHJpbWFyeSAubWQtY2hlY2tlZCAubWQtb2ZmLCBtZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkgLm1kLXByaW1hcnkubWQtY2hlY2tlZCAubWQtb2ZmLCBtZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeSAubWQtY2hlY2tlZCAubWQtb2ZmLCBtZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeS5tZC1jaGVja2VkIC5tZC1vZmYgeyAgYm9yZGVyLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yLTAuODd9fSc7IH1tZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKSAubWQtcHJpbWFyeSAubWQtY2hlY2tlZCAubWQtaW5rLXJpcHBsZSwgbWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkgLm1kLXByaW1hcnkubWQtY2hlY2tlZCAubWQtaW5rLXJpcHBsZSwgbWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeSAubWQtY2hlY2tlZCAubWQtaW5rLXJpcHBsZSwgbWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeS5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlLCBtZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkgLm1kLXByaW1hcnkgLm1kLWNoZWNrZWQgLm1kLWluay1yaXBwbGUsIG1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKSAubWQtcHJpbWFyeS5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlLCBtZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeSAubWQtY2hlY2tlZCAubWQtaW5rLXJpcHBsZSwgbWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXByaW1hcnkubWQtY2hlY2tlZCAubWQtaW5rLXJpcHBsZSB7ICBjb2xvcjogJ3t7cHJpbWFyeS1jb2xvci0wLjg3fX0nOyB9bWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkgLm1kLXByaW1hcnkgLm1kLWNvbnRhaW5lciAubWQtcmlwcGxlLCBtZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC1wcmltYXJ5IC5tZC1jb250YWluZXIgLm1kLXJpcHBsZSwgbWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pIC5tZC1wcmltYXJ5IC5tZC1jb250YWluZXIgLm1kLXJpcHBsZSwgbWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXByaW1hcnkgLm1kLWNvbnRhaW5lciAubWQtcmlwcGxlIHsgIGNvbG9yOiAne3twcmltYXJ5LTYwMH19JzsgfW1kLXJhZGlvLWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pIC5tZC13YXJuIC5tZC1vbiwgbWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtd2FybiAubWQtb24sIG1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKSAubWQtd2FybiAubWQtb24sIG1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC13YXJuIC5tZC1vbiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yLTAuODd9fSc7IH1tZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKSAubWQtd2FybiAubWQtY2hlY2tlZCAubWQtb2ZmLCBtZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKSAubWQtd2Fybi5tZC1jaGVja2VkIC5tZC1vZmYsIG1kLXJhZGlvLWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXdhcm4gLm1kLWNoZWNrZWQgLm1kLW9mZiwgbWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtd2Fybi5tZC1jaGVja2VkIC5tZC1vZmYsIG1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKSAubWQtd2FybiAubWQtY2hlY2tlZCAubWQtb2ZmLCBtZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkgLm1kLXdhcm4ubWQtY2hlY2tlZCAubWQtb2ZmLCBtZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtd2FybiAubWQtY2hlY2tlZCAubWQtb2ZmLCBtZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtd2Fybi5tZC1jaGVja2VkIC5tZC1vZmYgeyAgYm9yZGVyLWNvbG9yOiAne3t3YXJuLWNvbG9yLTAuODd9fSc7IH1tZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKSAubWQtd2FybiAubWQtY2hlY2tlZCAubWQtaW5rLXJpcHBsZSwgbWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkgLm1kLXdhcm4ubWQtY2hlY2tlZCAubWQtaW5rLXJpcHBsZSwgbWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtd2FybiAubWQtY2hlY2tlZCAubWQtaW5rLXJpcHBsZSwgbWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtd2Fybi5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlLCBtZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkgLm1kLXdhcm4gLm1kLWNoZWNrZWQgLm1kLWluay1yaXBwbGUsIG1kLXJhZGlvLWJ1dHRvbi5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKSAubWQtd2Fybi5tZC1jaGVja2VkIC5tZC1pbmstcmlwcGxlLCBtZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkubWQtd2FybiAubWQtY2hlY2tlZCAubWQtaW5rLXJpcHBsZSwgbWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXdhcm4ubWQtY2hlY2tlZCAubWQtaW5rLXJpcHBsZSB7ICBjb2xvcjogJ3t7d2Fybi1jb2xvci0wLjg3fX0nOyB9bWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSkgLm1kLXdhcm4gLm1kLWNvbnRhaW5lciAubWQtcmlwcGxlLCBtZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lOm5vdChbZGlzYWJsZWRdKS5tZC13YXJuIC5tZC1jb250YWluZXIgLm1kLXJpcHBsZSwgbWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pIC5tZC13YXJuIC5tZC1jb250YWluZXIgLm1kLXJpcHBsZSwgbWQtcmFkaW8tYnV0dG9uLm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pLm1kLXdhcm4gLm1kLWNvbnRhaW5lciAubWQtcmlwcGxlIHsgIGNvbG9yOiAne3t3YXJuLTYwMH19JzsgfW1kLXJhZGlvLWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdLCBtZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0geyAgY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfSAgbWQtcmFkaW8tZ3JvdXAubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0gLm1kLWNvbnRhaW5lciAubWQtb2ZmLCBtZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0gLm1kLWNvbnRhaW5lciAubWQtb2ZmIHsgICAgYm9yZGVyLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTN9fSc7IH0gIG1kLXJhZGlvLWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdIC5tZC1jb250YWluZXIgLm1kLW9uLCBtZC1yYWRpby1idXR0b24ubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0gLm1kLWNvbnRhaW5lciAubWQtb24geyAgICBib3JkZXItY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfW1kLXJhZGlvLWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZm9jdXNlZDpub3QoOmVtcHR5KSAubWQtY2hlY2tlZCAubWQtY29udGFpbmVyOmJlZm9yZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtY29sb3ItMC4yNn19JzsgfW1kLXJhZGlvLWdyb3VwLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtZm9jdXNlZDpub3QoOmVtcHR5KSAubWQtY2hlY2tlZDpub3QoW2Rpc2FibGVkXSkubWQtcHJpbWFyeSAubWQtY29udGFpbmVyOmJlZm9yZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yLTAuMjZ9fSc7IH1tZC1yYWRpby1ncm91cC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWZvY3VzZWQ6bm90KDplbXB0eSkgLm1kLWNoZWNrZWQubWQtcHJpbWFyeSAubWQtY29udGFpbmVyOmJlZm9yZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yLTAuMjZ9fSc7IH1tZC1zZWxlY3QubWQtVEhFTUVfTkFNRS10aGVtZS5uZy1pbnZhbGlkLm5nLWRpcnR5IC5tZC1zZWxlY3QtbGFiZWwgeyAgY29sb3I6ICd7e3dhcm4tNTAwfX0nICFpbXBvcnRhbnQ7ICBib3JkZXItYm90dG9tLWNvbG9yOiAne3t3YXJuLTUwMH19JyAhaW1wb3J0YW50OyB9bWQtc2VsZWN0Lm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pOmZvY3VzIC5tZC1zZWxlY3QtbGFiZWwgeyAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgIGNvbG9yOiAne3sgZm9yZWdyb3VuZC0xIH19JzsgfSAgbWQtc2VsZWN0Lm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pOmZvY3VzIC5tZC1zZWxlY3QtbGFiZWwubWQtcGxhY2Vob2xkZXIgeyAgICBjb2xvcjogJ3t7IGZvcmVncm91bmQtMSB9fSc7IH1tZC1zZWxlY3QubWQtVEhFTUVfTkFNRS10aGVtZTpub3QoW2Rpc2FibGVkXSk6Zm9jdXMubWQtYWNjZW50IC5tZC1zZWxlY3QtbGFiZWwgeyAgYm9yZGVyLWJvdHRvbS1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9bWQtc2VsZWN0Lm1kLVRIRU1FX05BTUUtdGhlbWU6bm90KFtkaXNhYmxlZF0pOmZvY3VzLm1kLXdhcm4gLm1kLXNlbGVjdC1sYWJlbCB7ICBib3JkZXItYm90dG9tLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9bWQtc2VsZWN0Lm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdIC5tZC1zZWxlY3QtbGFiZWwgeyAgY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfSAgbWQtc2VsZWN0Lm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdIC5tZC1zZWxlY3QtbGFiZWwubWQtcGxhY2Vob2xkZXIgeyAgICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nOyB9bWQtc2VsZWN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXNlbGVjdC1sYWJlbCB7ICBib3JkZXItYm90dG9tLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTR9fSc7IH0gIG1kLXNlbGVjdC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1zZWxlY3QtbGFiZWwubWQtcGxhY2Vob2xkZXIgeyAgICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9bWQtc2VsZWN0LW1lbnUubWQtVEhFTUVfTkFNRS10aGVtZSBtZC1vcHRncm91cCB7ICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9ICBtZC1zZWxlY3QtbWVudS5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLW9wdGdyb3VwIG1kLW9wdGlvbiB7ICAgIGNvbG9yOiAne3tmb3JlZ3JvdW5kLTF9fSc7IH1tZC1zZWxlY3QtbWVudS5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLW9wdGlvbltzZWxlY3RlZF0geyAgY29sb3I6ICd7e3ByaW1hcnktNTAwfX0nOyB9ICBtZC1zZWxlY3QtbWVudS5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLW9wdGlvbltzZWxlY3RlZF06Zm9jdXMgeyAgICBjb2xvcjogJ3t7cHJpbWFyeS02MDB9fSc7IH0gIG1kLXNlbGVjdC1tZW51Lm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtb3B0aW9uW3NlbGVjdGVkXS5tZC1hY2NlbnQgeyAgICBjb2xvcjogJ3t7YWNjZW50LTUwMH19JzsgfSAgICBtZC1zZWxlY3QtbWVudS5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLW9wdGlvbltzZWxlY3RlZF0ubWQtYWNjZW50OmZvY3VzIHsgICAgICBjb2xvcjogJ3t7YWNjZW50LTYwMH19JzsgfW1kLXNlbGVjdC1tZW51Lm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtb3B0aW9uOmZvY3VzOm5vdChbc2VsZWN0ZWRdKSB7ICBiYWNrZ3JvdW5kOiAne3tiYWNrZ3JvdW5kLTIwMH19JzsgfW1kLXNpZGVuYXYubWQtVEhFTUVfTkFNRS10aGVtZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLWNvbG9yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXRyYWNrIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2ZvcmVncm91bmQtM319JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC10cmFjay10aWNrcyB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTR9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtZm9jdXMtdGh1bWIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWZvY3VzLXJpbmcgeyAgYm9yZGVyLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTR9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtZGlzYWJsZWQtdGh1bWIgeyAgYm9yZGVyLWNvbG9yOiAne3tiYWNrZ3JvdW5kLWNvbG9yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtbWluIC5tZC10aHVtYjphZnRlciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tiYWNrZ3JvdW5kLWNvbG9yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXRyYWNrLm1kLXRyYWNrLWZpbGwgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXRodW1iOmFmdGVyIHsgIGJvcmRlci1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXNpZ24geyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9ICBtZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtc2lnbjphZnRlciB7ICAgIGJvcmRlci10b3AtY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC10aHVtYi10ZXh0IHsgIGNvbG9yOiAne3thY2NlbnQtY29udHJhc3R9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC10cmFjay5tZC10cmFjay1maWxsIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC10aHVtYjphZnRlciB7ICBib3JkZXItY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtd2FybiAubWQtc2lnbiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9ICBtZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIC5tZC1zaWduOmFmdGVyIHsgICAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gLm1kLXRodW1iLXRleHQgeyAgY29sb3I6ICd7e3dhcm4tY29udHJhc3R9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IC5tZC10cmFjay5tZC10cmFjay1maWxsIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IC5tZC10aHVtYjphZnRlciB7ICBib3JkZXItY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtcHJpbWFyeSAubWQtc2lnbiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9ICBtZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IC5tZC1zaWduOmFmdGVyIHsgICAgYm9yZGVyLXRvcC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfW1kLXNsaWRlci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkgLm1kLXRodW1iLXRleHQgeyAgY29sb3I6ICd7e3ByaW1hcnktY29udHJhc3R9fSc7IH1tZC1zbGlkZXIubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0gLm1kLXRodW1iOmFmdGVyIHsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nOyB9bWQtc2xpZGVyLm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdOm5vdCgubWQtbWluKSAubWQtdGh1bWI6YWZ0ZXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nOyB9Lm1kLXN1YmhlYWRlci5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGNvbG9yOiAne3sgZm9yZWdyb3VuZC0yLTAuMjMgfX0nOyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC1jb2xvcn19JzsgfSAgLm1kLXN1YmhlYWRlci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkgeyAgICBjb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfSAgLm1kLXN1YmhlYWRlci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudCB7ICAgIGNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH0gIC5tZC1zdWJoZWFkZXIubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIHsgICAgY29sb3I6ICd7e3dhcm4tY29sb3J9fSc7IH1tZC1zd2l0Y2gubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtdGh1bWIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC01MH19JzsgfW1kLXN3aXRjaC5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1iYXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YmFja2dyb3VuZC01MDB9fSc7IH1tZC1zd2l0Y2gubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkIC5tZC10aHVtYiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7IH1tZC1zd2l0Y2gubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkIC5tZC1iYXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yLTAuNX19JzsgfW1kLXN3aXRjaC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWNoZWNrZWQubWQtZm9jdXNlZCAubWQtdGh1bWI6YmVmb3JlIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1jb2xvci0wLjI2fX0nOyB9bWQtc3dpdGNoLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtY2hlY2tlZC5tZC1wcmltYXJ5IC5tZC10aHVtYiB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9bWQtc3dpdGNoLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtY2hlY2tlZC5tZC1wcmltYXJ5IC5tZC1iYXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7cHJpbWFyeS1jb2xvci0wLjV9fSc7IH1tZC1zd2l0Y2gubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1jaGVja2VkLm1kLXByaW1hcnkubWQtZm9jdXNlZCAubWQtdGh1bWI6YmVmb3JlIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktY29sb3ItMC4yNn19JzsgfW1kLXN3aXRjaC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWNoZWNrZWQubWQtd2FybiAubWQtdGh1bWIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7d2Fybi1jb2xvcn19JzsgfW1kLXN3aXRjaC5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWNoZWNrZWQubWQtd2FybiAubWQtYmFyIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3dhcm4tY29sb3ItMC41fX0nOyB9bWQtc3dpdGNoLm1kLVRIRU1FX05BTUUtdGhlbWUubWQtY2hlY2tlZC5tZC13YXJuLm1kLWZvY3VzZWQgLm1kLXRodW1iOmJlZm9yZSB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yLTAuMjZ9fSc7IH1tZC1zd2l0Y2gubWQtVEhFTUVfTkFNRS10aGVtZVtkaXNhYmxlZF0gLm1kLXRodW1iIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e2JhY2tncm91bmQtNDAwfX0nOyB9bWQtc3dpdGNoLm1kLVRIRU1FX05BTUUtdGhlbWVbZGlzYWJsZWRdIC5tZC1iYXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7Zm9yZWdyb3VuZC00fX0nOyB9bWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLXRhYnMtd3JhcHBlciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsgIGJvcmRlci1jb2xvcjogJ3t7Zm9yZWdyb3VuZC00fX0nOyB9bWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1wYWdpbmF0b3IgbWQtaWNvbiB7ICBjb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfW1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSBtZC1pbmstYmFyIHsgIGNvbG9yOiAne3thY2NlbnQtY29sb3J9fSc7ICBiYWNrZ3JvdW5kOiAne3thY2NlbnQtY29sb3J9fSc7IH1tZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXRhYiB7ICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0yfX0nOyB9ICBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXRhYltkaXNhYmxlZF0geyAgICBjb2xvcjogJ3t7Zm9yZWdyb3VuZC0zfX0nOyB9ICBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXRhYi5tZC1hY3RpdmUsIG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtdGFiLm1kLWZvY3VzZWQgeyAgICBjb2xvcjogJ3t7cHJpbWFyeS1jb2xvcn19JzsgfSAgbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC10YWIubWQtZm9jdXNlZCB7ICAgIGJhY2tncm91bmQ6ICd7e3ByaW1hcnktY29sb3ItMC4xfX0nOyB9ICBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLXRhYiAubWQtcmlwcGxlLWNvbnRhaW5lciB7ICAgIGNvbG9yOiAne3thY2NlbnQtMTAwfX0nOyB9bWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudCBtZC10YWJzLXdyYXBwZXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9bWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudCBtZC10YWItaXRlbTpub3QoW2Rpc2FibGVkXSkgeyAgY29sb3I6ICd7e2FjY2VudC0xMDB9fSc7IH0gIG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQgbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pLm1kLWFjdGl2ZSwgbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudCBtZC10YWItaXRlbTpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCB7ICAgIGNvbG9yOiAne3thY2NlbnQtY29udHJhc3R9fSc7IH0gIG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1hY2NlbnQgbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgeyAgICBiYWNrZ3JvdW5kOiAne3thY2NlbnQtY29udHJhc3QtMC4xfX0nOyB9bWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudCBtZC1pbmstYmFyIHsgIGNvbG9yOiAne3twcmltYXJ5LTYwMC0xfX0nOyAgYmFja2dyb3VuZDogJ3t7cHJpbWFyeS02MDAtMX19JzsgfW1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZS5tZC1wcmltYXJ5IG1kLXRhYnMtd3JhcHBlciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3twcmltYXJ5LWNvbG9yfX0nOyB9bWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkgbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pIHsgIGNvbG9yOiAne3twcmltYXJ5LTEwMH19JzsgfSAgbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkgbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pLm1kLWFjdGl2ZSwgbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkgbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgeyAgICBjb2xvcjogJ3t7cHJpbWFyeS1jb250cmFzdH19JzsgfSAgbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXByaW1hcnkgbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgeyAgICBiYWNrZ3JvdW5kOiAne3twcmltYXJ5LWNvbnRyYXN0LTAuMX19JzsgfW1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZS5tZC13YXJuIG1kLXRhYnMtd3JhcHBlciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9bWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pIHsgIGNvbG9yOiAne3t3YXJuLTEwMH19JzsgfSAgbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pLm1kLWFjdGl2ZSwgbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgeyAgICBjb2xvcjogJ3t7d2Fybi1jb250cmFzdH19JzsgfSAgbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4gbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgeyAgICBiYWNrZ3JvdW5kOiAne3t3YXJuLWNvbnRyYXN0LTAuMX19JzsgfW1kLXRvb2xiYXIgPiBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtdGFicy13cmFwcGVyIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7IH1tZC10b29sYmFyID4gbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLXRhYi1pdGVtOm5vdChbZGlzYWJsZWRdKSB7ICBjb2xvcjogJ3t7cHJpbWFyeS0xMDB9fSc7IH0gIG1kLXRvb2xiYXIgPiBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pLm1kLWFjdGl2ZSwgbWQtdG9vbGJhciA+IG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSBtZC10YWItaXRlbTpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCB7ICAgIGNvbG9yOiAne3twcmltYXJ5LWNvbnRyYXN0fX0nOyB9ICBtZC10b29sYmFyID4gbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLXRhYi1pdGVtOm5vdChbZGlzYWJsZWRdKS5tZC1mb2N1c2VkIHsgICAgYmFja2dyb3VuZDogJ3t7cHJpbWFyeS1jb250cmFzdC0wLjF9fSc7IH1tZC10b29sYmFyLm1kLWFjY2VudCA+IG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSBtZC10YWJzLXdyYXBwZXIgeyAgYmFja2dyb3VuZC1jb2xvcjogJ3t7YWNjZW50LWNvbG9yfX0nOyB9bWQtdG9vbGJhci5tZC1hY2NlbnQgPiBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pIHsgIGNvbG9yOiAne3thY2NlbnQtMTAwfX0nOyB9ICBtZC10b29sYmFyLm1kLWFjY2VudCA+IG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSBtZC10YWItaXRlbTpub3QoW2Rpc2FibGVkXSkubWQtYWN0aXZlLCBtZC10b29sYmFyLm1kLWFjY2VudCA+IG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSBtZC10YWItaXRlbTpub3QoW2Rpc2FibGVkXSkubWQtZm9jdXNlZCB7ICAgIGNvbG9yOiAne3thY2NlbnQtY29udHJhc3R9fSc7IH0gIG1kLXRvb2xiYXIubWQtYWNjZW50ID4gbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLXRhYi1pdGVtOm5vdChbZGlzYWJsZWRdKS5tZC1mb2N1c2VkIHsgICAgYmFja2dyb3VuZDogJ3t7YWNjZW50LWNvbnRyYXN0LTAuMX19JzsgfW1kLXRvb2xiYXIubWQtYWNjZW50ID4gbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLWluay1iYXIgeyAgY29sb3I6ICd7e3ByaW1hcnktNjAwLTF9fSc7ICBiYWNrZ3JvdW5kOiAne3twcmltYXJ5LTYwMC0xfX0nOyB9bWQtdG9vbGJhci5tZC13YXJuID4gbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLXRhYnMtd3JhcHBlciB7ICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyB9bWQtdG9vbGJhci5tZC13YXJuID4gbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLXRhYi1pdGVtOm5vdChbZGlzYWJsZWRdKSB7ICBjb2xvcjogJ3t7d2Fybi0xMDB9fSc7IH0gIG1kLXRvb2xiYXIubWQtd2FybiA+IG1kLXRhYnMubWQtVEhFTUVfTkFNRS10aGVtZSBtZC10YWItaXRlbTpub3QoW2Rpc2FibGVkXSkubWQtYWN0aXZlLCBtZC10b29sYmFyLm1kLXdhcm4gPiBtZC10YWJzLm1kLVRIRU1FX05BTUUtdGhlbWUgbWQtdGFiLWl0ZW06bm90KFtkaXNhYmxlZF0pLm1kLWZvY3VzZWQgeyAgICBjb2xvcjogJ3t7d2Fybi1jb250cmFzdH19JzsgfSAgbWQtdG9vbGJhci5tZC13YXJuID4gbWQtdGFicy5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLXRhYi1pdGVtOm5vdChbZGlzYWJsZWRdKS5tZC1mb2N1c2VkIHsgICAgYmFja2dyb3VuZDogJ3t7d2Fybi1jb250cmFzdC0wLjF9fSc7IH1tZC10b2FzdC5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJhY2tncm91bmQtY29sb3I6ICMzMjMyMzI7ICBjb2xvcjogJ3t7YmFja2dyb3VuZC01MH19JzsgfSAgbWQtdG9hc3QubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtYnV0dG9uIHsgICAgY29sb3I6ICd7e2JhY2tncm91bmQtNTB9fSc7IH0gICAgbWQtdG9hc3QubWQtVEhFTUVfTkFNRS10aGVtZSAubWQtYnV0dG9uLm1kLWhpZ2hsaWdodCB7ICAgICAgY29sb3I6ICd7e3ByaW1hcnktQTIwMH19JzsgfSAgICAgIG1kLXRvYXN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWJ1dHRvbi5tZC1oaWdobGlnaHQubWQtYWNjZW50IHsgICAgICAgIGNvbG9yOiAne3thY2NlbnQtQTIwMH19JzsgfSAgICAgIG1kLXRvYXN0Lm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWJ1dHRvbi5tZC1oaWdobGlnaHQubWQtd2FybiB7ICAgICAgICBjb2xvcjogJ3t7d2Fybi1BMjAwfX0nOyB9bWQtdG9vbGJhci5tZC1USEVNRV9OQU1FLXRoZW1lIHsgIGJhY2tncm91bmQtY29sb3I6ICd7e3ByaW1hcnktY29sb3J9fSc7ICBjb2xvcjogJ3t7cHJpbWFyeS1jb250cmFzdH19JzsgfSAgbWQtdG9vbGJhci5tZC1USEVNRV9OQU1FLXRoZW1lIG1kLWljb24geyAgICBjb2xvcjogJ3t7cHJpbWFyeS1jb250cmFzdH19JzsgfSAgbWQtdG9vbGJhci5tZC1USEVNRV9OQU1FLXRoZW1lIC5tZC1idXR0b24geyAgICBjb2xvcjogJ3t7cHJpbWFyeS1jb250cmFzdH19JzsgfSAgbWQtdG9vbGJhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLWFjY2VudCB7ICAgIGJhY2tncm91bmQtY29sb3I6ICd7e2FjY2VudC1jb2xvcn19JzsgICAgY29sb3I6ICd7e2FjY2VudC1jb250cmFzdH19JzsgfSAgbWQtdG9vbGJhci5tZC1USEVNRV9OQU1FLXRoZW1lLm1kLXdhcm4geyAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3t3YXJuLWNvbG9yfX0nOyAgICBjb2xvcjogJ3t7d2Fybi1jb250cmFzdH19JzsgfW1kLXRvb2x0aXAubWQtVEhFTUVfTkFNRS10aGVtZSB7ICBjb2xvcjogJ3t7YmFja2dyb3VuZC1BMTAwfX0nOyB9ICBtZC10b29sdGlwLm1kLVRIRU1FX05BTUUtdGhlbWUgLm1kLWJhY2tncm91bmQgeyAgICBiYWNrZ3JvdW5kLWNvbG9yOiAne3tmb3JlZ3JvdW5kLTJ9fSc7IH1cIik7IFxufSkoKTtcblxuXG59KSh3aW5kb3csIHdpbmRvdy5hbmd1bGFyKTsiLCIvLyBTaG91bGQgYWxyZWFkeSBiZSByZXF1aXJlZCwgaGVyZSBmb3IgY2xhcml0eVxucmVxdWlyZSgnYW5ndWxhcicpO1xuXG4vLyBMb2FkIEFuZ3VsYXIgYW5kIGRlcGVuZGVudCBsaWJzXG5yZXF1aXJlKCdhbmd1bGFyLWFuaW1hdGUnKTtcbnJlcXVpcmUoJ2FuZ3VsYXItYXJpYScpO1xuXG4vLyBOb3cgbG9hZCBBbmd1bGFyIE1hdGVyaWFsXG5yZXF1aXJlKCcuL2FuZ3VsYXItbWF0ZXJpYWwnKTtcblxuLy8gRXhwb3J0IG5hbWVzcGFjZVxubW9kdWxlLmV4cG9ydHMgPSAnbmdNYXRlcmlhbCc7XG4iLCIvKipcbiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS40LjNcbiAqIChjKSAyMDEwLTIwMTUgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuKGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkgeyd1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBUaGlzIG9iamVjdCBwcm92aWRlcyBhIHV0aWxpdHkgZm9yIHByb2R1Y2luZyByaWNoIEVycm9yIG1lc3NhZ2VzIHdpdGhpblxuICogQW5ndWxhci4gSXQgY2FuIGJlIGNhbGxlZCBhcyBmb2xsb3dzOlxuICpcbiAqIHZhciBleGFtcGxlTWluRXJyID0gbWluRXJyKCdleGFtcGxlJyk7XG4gKiB0aHJvdyBleGFtcGxlTWluRXJyKCdvbmUnLCAnVGhpcyB7MH0gaXMgezF9JywgZm9vLCBiYXIpO1xuICpcbiAqIFRoZSBhYm92ZSBjcmVhdGVzIGFuIGluc3RhbmNlIG9mIG1pbkVyciBpbiB0aGUgZXhhbXBsZSBuYW1lc3BhY2UuIFRoZVxuICogcmVzdWx0aW5nIGVycm9yIHdpbGwgaGF2ZSBhIG5hbWVzcGFjZWQgZXJyb3IgY29kZSBvZiBleGFtcGxlLm9uZS4gIFRoZVxuICogcmVzdWx0aW5nIGVycm9yIHdpbGwgcmVwbGFjZSB7MH0gd2l0aCB0aGUgdmFsdWUgb2YgZm9vLCBhbmQgezF9IHdpdGggdGhlXG4gKiB2YWx1ZSBvZiBiYXIuIFRoZSBvYmplY3QgaXMgbm90IHJlc3RyaWN0ZWQgaW4gdGhlIG51bWJlciBvZiBhcmd1bWVudHMgaXQgY2FuXG4gKiB0YWtlLlxuICpcbiAqIElmIGZld2VyIGFyZ3VtZW50cyBhcmUgc3BlY2lmaWVkIHRoYW4gbmVjZXNzYXJ5IGZvciBpbnRlcnBvbGF0aW9uLCB0aGUgZXh0cmFcbiAqIGludGVycG9sYXRpb24gbWFya2VycyB3aWxsIGJlIHByZXNlcnZlZCBpbiB0aGUgZmluYWwgc3RyaW5nLlxuICpcbiAqIFNpbmNlIGRhdGEgd2lsbCBiZSBwYXJzZWQgc3RhdGljYWxseSBkdXJpbmcgYSBidWlsZCBzdGVwLCBzb21lIHJlc3RyaWN0aW9uc1xuICogYXJlIGFwcGxpZWQgd2l0aCByZXNwZWN0IHRvIGhvdyBtaW5FcnIgaW5zdGFuY2VzIGFyZSBjcmVhdGVkIGFuZCBjYWxsZWQuXG4gKiBJbnN0YW5jZXMgc2hvdWxkIGhhdmUgbmFtZXMgb2YgdGhlIGZvcm0gbmFtZXNwYWNlTWluRXJyIGZvciBhIG1pbkVyciBjcmVhdGVkXG4gKiB1c2luZyBtaW5FcnIoJ25hbWVzcGFjZScpIC4gRXJyb3IgY29kZXMsIG5hbWVzcGFjZXMgYW5kIHRlbXBsYXRlIHN0cmluZ3NcbiAqIHNob3VsZCBhbGwgYmUgc3RhdGljIHN0cmluZ3MsIG5vdCB2YXJpYWJsZXMgb3IgZ2VuZXJhbCBleHByZXNzaW9ucy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlIFRoZSBuYW1lc3BhY2UgdG8gdXNlIGZvciB0aGUgbmV3IG1pbkVyciBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IEVycm9yQ29uc3RydWN0b3IgQ3VzdG9tIGVycm9yIGNvbnN0cnVjdG9yIHRvIGJlIGluc3RhbnRpYXRlZCB3aGVuIHJldHVybmluZ1xuICogICBlcnJvciBmcm9tIHJldHVybmVkIGZ1bmN0aW9uLCBmb3IgY2FzZXMgd2hlbiBhIHBhcnRpY3VsYXIgdHlwZSBvZiBlcnJvciBpcyB1c2VmdWwuXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29kZTpzdHJpbmcsIHRlbXBsYXRlOnN0cmluZywgLi4udGVtcGxhdGVBcmdzKTogRXJyb3J9IG1pbkVyciBpbnN0YW5jZVxuICovXG5cbmZ1bmN0aW9uIG1pbkVycihtb2R1bGUsIEVycm9yQ29uc3RydWN0b3IpIHtcbiAgRXJyb3JDb25zdHJ1Y3RvciA9IEVycm9yQ29uc3RydWN0b3IgfHwgRXJyb3I7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgU0tJUF9JTkRFWEVTID0gMjtcblxuICAgIHZhciB0ZW1wbGF0ZUFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICBjb2RlID0gdGVtcGxhdGVBcmdzWzBdLFxuICAgICAgbWVzc2FnZSA9ICdbJyArIChtb2R1bGUgPyBtb2R1bGUgKyAnOicgOiAnJykgKyBjb2RlICsgJ10gJyxcbiAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGVBcmdzWzFdLFxuICAgICAgcGFyYW1QcmVmaXgsIGk7XG5cbiAgICBtZXNzYWdlICs9IHRlbXBsYXRlLnJlcGxhY2UoL1xce1xcZCtcXH0vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgIHZhciBpbmRleCA9ICttYXRjaC5zbGljZSgxLCAtMSksXG4gICAgICAgIHNoaWZ0ZWRJbmRleCA9IGluZGV4ICsgU0tJUF9JTkRFWEVTO1xuXG4gICAgICBpZiAoc2hpZnRlZEluZGV4IDwgdGVtcGxhdGVBcmdzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdG9EZWJ1Z1N0cmluZyh0ZW1wbGF0ZUFyZ3Nbc2hpZnRlZEluZGV4XSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcblxuICAgIG1lc3NhZ2UgKz0gJ1xcbmh0dHA6Ly9lcnJvcnMuYW5ndWxhcmpzLm9yZy8xLjQuMy8nICtcbiAgICAgIChtb2R1bGUgPyBtb2R1bGUgKyAnLycgOiAnJykgKyBjb2RlO1xuXG4gICAgZm9yIChpID0gU0tJUF9JTkRFWEVTLCBwYXJhbVByZWZpeCA9ICc/JzsgaSA8IHRlbXBsYXRlQXJncy5sZW5ndGg7IGkrKywgcGFyYW1QcmVmaXggPSAnJicpIHtcbiAgICAgIG1lc3NhZ2UgKz0gcGFyYW1QcmVmaXggKyAncCcgKyAoaSAtIFNLSVBfSU5ERVhFUykgKyAnPScgK1xuICAgICAgICBlbmNvZGVVUklDb21wb25lbnQodG9EZWJ1Z1N0cmluZyh0ZW1wbGF0ZUFyZ3NbaV0pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEVycm9yQ29uc3RydWN0b3IobWVzc2FnZSk7XG4gIH07XG59XG5cbi8qIFdlIG5lZWQgdG8gdGVsbCBqc2hpbnQgd2hhdCB2YXJpYWJsZXMgYXJlIGJlaW5nIGV4cG9ydGVkICovXG4vKiBnbG9iYWwgYW5ndWxhcjogdHJ1ZSxcbiAgbXNpZTogdHJ1ZSxcbiAganFMaXRlOiB0cnVlLFxuICBqUXVlcnk6IHRydWUsXG4gIHNsaWNlOiB0cnVlLFxuICBzcGxpY2U6IHRydWUsXG4gIHB1c2g6IHRydWUsXG4gIHRvU3RyaW5nOiB0cnVlLFxuICBuZ01pbkVycjogdHJ1ZSxcbiAgYW5ndWxhck1vZHVsZTogdHJ1ZSxcbiAgdWlkOiB0cnVlLFxuICBSRUdFWF9TVFJJTkdfUkVHRVhQOiB0cnVlLFxuICBWQUxJRElUWV9TVEFURV9QUk9QRVJUWTogdHJ1ZSxcblxuICBsb3dlcmNhc2U6IHRydWUsXG4gIHVwcGVyY2FzZTogdHJ1ZSxcbiAgbWFudWFsTG93ZXJjYXNlOiB0cnVlLFxuICBtYW51YWxVcHBlcmNhc2U6IHRydWUsXG4gIG5vZGVOYW1lXzogdHJ1ZSxcbiAgaXNBcnJheUxpa2U6IHRydWUsXG4gIGZvckVhY2g6IHRydWUsXG4gIGZvckVhY2hTb3J0ZWQ6IHRydWUsXG4gIHJldmVyc2VQYXJhbXM6IHRydWUsXG4gIG5leHRVaWQ6IHRydWUsXG4gIHNldEhhc2hLZXk6IHRydWUsXG4gIGV4dGVuZDogdHJ1ZSxcbiAgdG9JbnQ6IHRydWUsXG4gIGluaGVyaXQ6IHRydWUsXG4gIG1lcmdlOiB0cnVlLFxuICBub29wOiB0cnVlLFxuICBpZGVudGl0eTogdHJ1ZSxcbiAgdmFsdWVGbjogdHJ1ZSxcbiAgaXNVbmRlZmluZWQ6IHRydWUsXG4gIGlzRGVmaW5lZDogdHJ1ZSxcbiAgaXNPYmplY3Q6IHRydWUsXG4gIGlzQmxhbmtPYmplY3Q6IHRydWUsXG4gIGlzU3RyaW5nOiB0cnVlLFxuICBpc051bWJlcjogdHJ1ZSxcbiAgaXNEYXRlOiB0cnVlLFxuICBpc0FycmF5OiB0cnVlLFxuICBpc0Z1bmN0aW9uOiB0cnVlLFxuICBpc1JlZ0V4cDogdHJ1ZSxcbiAgaXNXaW5kb3c6IHRydWUsXG4gIGlzU2NvcGU6IHRydWUsXG4gIGlzRmlsZTogdHJ1ZSxcbiAgaXNGb3JtRGF0YTogdHJ1ZSxcbiAgaXNCbG9iOiB0cnVlLFxuICBpc0Jvb2xlYW46IHRydWUsXG4gIGlzUHJvbWlzZUxpa2U6IHRydWUsXG4gIHRyaW06IHRydWUsXG4gIGVzY2FwZUZvclJlZ2V4cDogdHJ1ZSxcbiAgaXNFbGVtZW50OiB0cnVlLFxuICBtYWtlTWFwOiB0cnVlLFxuICBpbmNsdWRlczogdHJ1ZSxcbiAgYXJyYXlSZW1vdmU6IHRydWUsXG4gIGNvcHk6IHRydWUsXG4gIHNoYWxsb3dDb3B5OiB0cnVlLFxuICBlcXVhbHM6IHRydWUsXG4gIGNzcDogdHJ1ZSxcbiAganE6IHRydWUsXG4gIGNvbmNhdDogdHJ1ZSxcbiAgc2xpY2VBcmdzOiB0cnVlLFxuICBiaW5kOiB0cnVlLFxuICB0b0pzb25SZXBsYWNlcjogdHJ1ZSxcbiAgdG9Kc29uOiB0cnVlLFxuICBmcm9tSnNvbjogdHJ1ZSxcbiAgY29udmVydFRpbWV6b25lVG9Mb2NhbDogdHJ1ZSxcbiAgdGltZXpvbmVUb09mZnNldDogdHJ1ZSxcbiAgc3RhcnRpbmdUYWc6IHRydWUsXG4gIHRyeURlY29kZVVSSUNvbXBvbmVudDogdHJ1ZSxcbiAgcGFyc2VLZXlWYWx1ZTogdHJ1ZSxcbiAgdG9LZXlWYWx1ZTogdHJ1ZSxcbiAgZW5jb2RlVXJpU2VnbWVudDogdHJ1ZSxcbiAgZW5jb2RlVXJpUXVlcnk6IHRydWUsXG4gIGFuZ3VsYXJJbml0OiB0cnVlLFxuICBib290c3RyYXA6IHRydWUsXG4gIGdldFRlc3RhYmlsaXR5OiB0cnVlLFxuICBzbmFrZV9jYXNlOiB0cnVlLFxuICBiaW5kSlF1ZXJ5OiB0cnVlLFxuICBhc3NlcnRBcmc6IHRydWUsXG4gIGFzc2VydEFyZ0ZuOiB0cnVlLFxuICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eTogdHJ1ZSxcbiAgZ2V0dGVyOiB0cnVlLFxuICBnZXRCbG9ja05vZGVzOiB0cnVlLFxuICBoYXNPd25Qcm9wZXJ0eTogdHJ1ZSxcbiAgY3JlYXRlTWFwOiB0cnVlLFxuXG4gIE5PREVfVFlQRV9FTEVNRU5UOiB0cnVlLFxuICBOT0RFX1RZUEVfQVRUUklCVVRFOiB0cnVlLFxuICBOT0RFX1RZUEVfVEVYVDogdHJ1ZSxcbiAgTk9ERV9UWVBFX0NPTU1FTlQ6IHRydWUsXG4gIE5PREVfVFlQRV9ET0NVTUVOVDogdHJ1ZSxcbiAgTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UOiB0cnVlLFxuKi9cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbmdcbiAqIEBtb2R1bGUgbmdcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqICMgbmcgKGNvcmUgbW9kdWxlKVxuICogVGhlIG5nIG1vZHVsZSBpcyBsb2FkZWQgYnkgZGVmYXVsdCB3aGVuIGFuIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbiBpcyBzdGFydGVkLiBUaGUgbW9kdWxlIGl0c2VsZlxuICogY29udGFpbnMgdGhlIGVzc2VudGlhbCBjb21wb25lbnRzIGZvciBhbiBBbmd1bGFySlMgYXBwbGljYXRpb24gdG8gZnVuY3Rpb24uIFRoZSB0YWJsZSBiZWxvd1xuICogbGlzdHMgYSBoaWdoIGxldmVsIGJyZWFrZG93biBvZiBlYWNoIG9mIHRoZSBzZXJ2aWNlcy9mYWN0b3JpZXMsIGZpbHRlcnMsIGRpcmVjdGl2ZXMgYW5kIHRlc3RpbmdcbiAqIGNvbXBvbmVudHMgYXZhaWxhYmxlIHdpdGhpbiB0aGlzIGNvcmUgbW9kdWxlLlxuICpcbiAqIDxkaXYgZG9jLW1vZHVsZS1jb21wb25lbnRzPVwibmdcIj48L2Rpdj5cbiAqL1xuXG52YXIgUkVHRVhfU1RSSU5HX1JFR0VYUCA9IC9eXFwvKC4rKVxcLyhbYS16XSopJC87XG5cbi8vIFRoZSBuYW1lIG9mIGEgZm9ybSBjb250cm9sJ3MgVmFsaWRpdHlTdGF0ZSBwcm9wZXJ0eS5cbi8vIFRoaXMgaXMgdXNlZCBzbyB0aGF0IGl0J3MgcG9zc2libGUgZm9yIGludGVybmFsIHRlc3RzIHRvIGNyZWF0ZSBtb2NrIFZhbGlkaXR5U3RhdGVzLlxudmFyIFZBTElESVRZX1NUQVRFX1BST1BFUlRZID0gJ3ZhbGlkaXR5JztcblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIubG93ZXJjYXNlXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvbiBDb252ZXJ0cyB0aGUgc3BlY2lmaWVkIHN0cmluZyB0byBsb3dlcmNhc2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFN0cmluZyB0byBiZSBjb252ZXJ0ZWQgdG8gbG93ZXJjYXNlLlxuICogQHJldHVybnMge3N0cmluZ30gTG93ZXJjYXNlZCBzdHJpbmcuXG4gKi9cbnZhciBsb3dlcmNhc2UgPSBmdW5jdGlvbihzdHJpbmcpIHtyZXR1cm4gaXNTdHJpbmcoc3RyaW5nKSA/IHN0cmluZy50b0xvd2VyQ2FzZSgpIDogc3RyaW5nO307XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci51cHBlcmNhc2VcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uIENvbnZlcnRzIHRoZSBzcGVjaWZpZWQgc3RyaW5nIHRvIHVwcGVyY2FzZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgU3RyaW5nIHRvIGJlIGNvbnZlcnRlZCB0byB1cHBlcmNhc2UuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBVcHBlcmNhc2VkIHN0cmluZy5cbiAqL1xudmFyIHVwcGVyY2FzZSA9IGZ1bmN0aW9uKHN0cmluZykge3JldHVybiBpc1N0cmluZyhzdHJpbmcpID8gc3RyaW5nLnRvVXBwZXJDYXNlKCkgOiBzdHJpbmc7fTtcblxuXG52YXIgbWFudWFsTG93ZXJjYXNlID0gZnVuY3Rpb24ocykge1xuICAvKiBqc2hpbnQgYml0d2lzZTogZmFsc2UgKi9cbiAgcmV0dXJuIGlzU3RyaW5nKHMpXG4gICAgICA/IHMucmVwbGFjZSgvW0EtWl0vZywgZnVuY3Rpb24oY2gpIHtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjaC5jaGFyQ29kZUF0KDApIHwgMzIpO30pXG4gICAgICA6IHM7XG59O1xudmFyIG1hbnVhbFVwcGVyY2FzZSA9IGZ1bmN0aW9uKHMpIHtcbiAgLyoganNoaW50IGJpdHdpc2U6IGZhbHNlICovXG4gIHJldHVybiBpc1N0cmluZyhzKVxuICAgICAgPyBzLnJlcGxhY2UoL1thLXpdL2csIGZ1bmN0aW9uKGNoKSB7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2guY2hhckNvZGVBdCgwKSAmIH4zMik7fSlcbiAgICAgIDogcztcbn07XG5cblxuLy8gU3RyaW5nI3RvTG93ZXJDYXNlIGFuZCBTdHJpbmcjdG9VcHBlckNhc2UgZG9uJ3QgcHJvZHVjZSBjb3JyZWN0IHJlc3VsdHMgaW4gYnJvd3NlcnMgd2l0aCBUdXJraXNoXG4vLyBsb2NhbGUsIGZvciB0aGlzIHJlYXNvbiB3ZSBuZWVkIHRvIGRldGVjdCB0aGlzIGNhc2UgYW5kIHJlZGVmaW5lIGxvd2VyY2FzZS91cHBlcmNhc2UgbWV0aG9kc1xuLy8gd2l0aCBjb3JyZWN0IGJ1dCBzbG93ZXIgYWx0ZXJuYXRpdmVzLlxuaWYgKCdpJyAhPT0gJ0knLnRvTG93ZXJDYXNlKCkpIHtcbiAgbG93ZXJjYXNlID0gbWFudWFsTG93ZXJjYXNlO1xuICB1cHBlcmNhc2UgPSBtYW51YWxVcHBlcmNhc2U7XG59XG5cblxudmFyXG4gICAgbXNpZSwgICAgICAgICAgICAgLy8gaG9sZHMgbWFqb3IgdmVyc2lvbiBudW1iZXIgZm9yIElFLCBvciBOYU4gaWYgVUEgaXMgbm90IElFLlxuICAgIGpxTGl0ZSwgICAgICAgICAgIC8vIGRlbGF5IGJpbmRpbmcgc2luY2UgalF1ZXJ5IGNvdWxkIGJlIGxvYWRlZCBhZnRlciB1cy5cbiAgICBqUXVlcnksICAgICAgICAgICAvLyBkZWxheSBiaW5kaW5nXG4gICAgc2xpY2UgICAgICAgICAgICAgPSBbXS5zbGljZSxcbiAgICBzcGxpY2UgICAgICAgICAgICA9IFtdLnNwbGljZSxcbiAgICBwdXNoICAgICAgICAgICAgICA9IFtdLnB1c2gsXG4gICAgdG9TdHJpbmcgICAgICAgICAgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLFxuICAgIGdldFByb3RvdHlwZU9mICAgID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLFxuICAgIG5nTWluRXJyICAgICAgICAgID0gbWluRXJyKCduZycpLFxuXG4gICAgLyoqIEBuYW1lIGFuZ3VsYXIgKi9cbiAgICBhbmd1bGFyICAgICAgICAgICA9IHdpbmRvdy5hbmd1bGFyIHx8ICh3aW5kb3cuYW5ndWxhciA9IHt9KSxcbiAgICBhbmd1bGFyTW9kdWxlLFxuICAgIHVpZCAgICAgICAgICAgICAgID0gMDtcblxuLyoqXG4gKiBkb2N1bWVudE1vZGUgaXMgYW4gSUUtb25seSBwcm9wZXJ0eVxuICogaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2NjMTk2OTg4KHY9dnMuODUpLmFzcHhcbiAqL1xubXNpZSA9IGRvY3VtZW50LmRvY3VtZW50TW9kZTtcblxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IG9ialxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIGBvYmpgIGlzIGFuIGFycmF5IG9yIGFycmF5LWxpa2Ugb2JqZWN0IChOb2RlTGlzdCwgQXJndW1lbnRzLFxuICogICAgICAgICAgICAgICAgICAgU3RyaW5nIC4uLilcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2Uob2JqKSB7XG4gIGlmIChvYmogPT0gbnVsbCB8fCBpc1dpbmRvdyhvYmopKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gU3VwcG9ydDogaU9TIDguMiAobm90IHJlcHJvZHVjaWJsZSBpbiBzaW11bGF0b3IpXG4gIC8vIFwibGVuZ3RoXCIgaW4gb2JqIHVzZWQgdG8gcHJldmVudCBKSVQgZXJyb3IgKGdoLTExNTA4KVxuICB2YXIgbGVuZ3RoID0gXCJsZW5ndGhcIiBpbiBPYmplY3Qob2JqKSAmJiBvYmoubGVuZ3RoO1xuXG4gIGlmIChvYmoubm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UICYmIGxlbmd0aCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGlzU3RyaW5nKG9iaikgfHwgaXNBcnJheShvYmopIHx8IGxlbmd0aCA9PT0gMCB8fFxuICAgICAgICAgdHlwZW9mIGxlbmd0aCA9PT0gJ251bWJlcicgJiYgbGVuZ3RoID4gMCAmJiAobGVuZ3RoIC0gMSkgaW4gb2JqO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5mb3JFYWNoXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSW52b2tlcyB0aGUgYGl0ZXJhdG9yYCBmdW5jdGlvbiBvbmNlIGZvciBlYWNoIGl0ZW0gaW4gYG9iamAgY29sbGVjdGlvbiwgd2hpY2ggY2FuIGJlIGVpdGhlciBhblxuICogb2JqZWN0IG9yIGFuIGFycmF5LiBUaGUgYGl0ZXJhdG9yYCBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggYGl0ZXJhdG9yKHZhbHVlLCBrZXksIG9iailgLCB3aGVyZSBgdmFsdWVgXG4gKiBpcyB0aGUgdmFsdWUgb2YgYW4gb2JqZWN0IHByb3BlcnR5IG9yIGFuIGFycmF5IGVsZW1lbnQsIGBrZXlgIGlzIHRoZSBvYmplY3QgcHJvcGVydHkga2V5IG9yXG4gKiBhcnJheSBlbGVtZW50IGluZGV4IGFuZCBvYmogaXMgdGhlIGBvYmpgIGl0c2VsZi4gU3BlY2lmeWluZyBhIGBjb250ZXh0YCBmb3IgdGhlIGZ1bmN0aW9uIGlzIG9wdGlvbmFsLlxuICpcbiAqIEl0IGlzIHdvcnRoIG5vdGluZyB0aGF0IGAuZm9yRWFjaGAgZG9lcyBub3QgaXRlcmF0ZSBvdmVyIGluaGVyaXRlZCBwcm9wZXJ0aWVzIGJlY2F1c2UgaXQgZmlsdGVyc1xuICogdXNpbmcgdGhlIGBoYXNPd25Qcm9wZXJ0eWAgbWV0aG9kLlxuICpcbiAqIFVubGlrZSBFUzI2MidzXG4gKiBbQXJyYXkucHJvdG90eXBlLmZvckVhY2hdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi81LjEvI3NlYy0xNS40LjQuMTgpLFxuICogUHJvdmlkaW5nICd1bmRlZmluZWQnIG9yICdudWxsJyB2YWx1ZXMgZm9yIGBvYmpgIHdpbGwgbm90IHRocm93IGEgVHlwZUVycm9yLCBidXQgcmF0aGVyIGp1c3RcbiAqIHJldHVybiB0aGUgdmFsdWUgcHJvdmlkZWQuXG4gKlxuICAgYGBganNcbiAgICAgdmFyIHZhbHVlcyA9IHtuYW1lOiAnbWlza28nLCBnZW5kZXI6ICdtYWxlJ307XG4gICAgIHZhciBsb2cgPSBbXTtcbiAgICAgYW5ndWxhci5mb3JFYWNoKHZhbHVlcywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgIHRoaXMucHVzaChrZXkgKyAnOiAnICsgdmFsdWUpO1xuICAgICB9LCBsb2cpO1xuICAgICBleHBlY3QobG9nKS50b0VxdWFsKFsnbmFtZTogbWlza28nLCAnZ2VuZGVyOiBtYWxlJ10pO1xuICAgYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBPYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0b3IgSXRlcmF0b3IgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge09iamVjdD19IGNvbnRleHQgT2JqZWN0IHRvIGJlY29tZSBjb250ZXh0IChgdGhpc2ApIGZvciB0aGUgaXRlcmF0b3IgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyB7T2JqZWN0fEFycmF5fSBSZWZlcmVuY2UgdG8gYG9iamAuXG4gKi9cblxuZnVuY3Rpb24gZm9yRWFjaChvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gIHZhciBrZXksIGxlbmd0aDtcbiAgaWYgKG9iaikge1xuICAgIGlmIChpc0Z1bmN0aW9uKG9iaikpIHtcbiAgICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgICAvLyBOZWVkIHRvIGNoZWNrIGlmIGhhc093blByb3BlcnR5IGV4aXN0cyxcbiAgICAgICAgLy8gYXMgb24gSUU4IHRoZSByZXN1bHQgb2YgcXVlcnlTZWxlY3RvckFsbCBpcyBhbiBvYmplY3Qgd2l0aG91dCBhIGhhc093blByb3BlcnR5IGZ1bmN0aW9uXG4gICAgICAgIGlmIChrZXkgIT0gJ3Byb3RvdHlwZScgJiYga2V5ICE9ICdsZW5ndGgnICYmIGtleSAhPSAnbmFtZScgJiYgKCFvYmouaGFzT3duUHJvcGVydHkgfHwgb2JqLmhhc093blByb3BlcnR5KGtleSkpKSB7XG4gICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KG9iaikgfHwgaXNBcnJheUxpa2Uob2JqKSkge1xuICAgICAgdmFyIGlzUHJpbWl0aXZlID0gdHlwZW9mIG9iaiAhPT0gJ29iamVjdCc7XG4gICAgICBmb3IgKGtleSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGtleSA8IGxlbmd0aDsga2V5KyspIHtcbiAgICAgICAgaWYgKGlzUHJpbWl0aXZlIHx8IGtleSBpbiBvYmopIHtcbiAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9iai5mb3JFYWNoICYmIG9iai5mb3JFYWNoICE9PSBmb3JFYWNoKSB7XG4gICAgICAgIG9iai5mb3JFYWNoKGl0ZXJhdG9yLCBjb250ZXh0LCBvYmopO1xuICAgIH0gZWxzZSBpZiAoaXNCbGFua09iamVjdChvYmopKSB7XG4gICAgICAvLyBjcmVhdGVNYXAoKSBmYXN0IHBhdGggLS0tIFNhZmUgdG8gYXZvaWQgaGFzT3duUHJvcGVydHkgY2hlY2sgYmVjYXVzZSBwcm90b3R5cGUgY2hhaW4gaXMgZW1wdHlcbiAgICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqLmhhc093blByb3BlcnR5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBTbG93IHBhdGggZm9yIG9iamVjdHMgaW5oZXJpdGluZyBPYmplY3QucHJvdG90eXBlLCBoYXNPd25Qcm9wZXJ0eSBjaGVjayBuZWVkZWRcbiAgICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2xvdyBwYXRoIGZvciBvYmplY3RzIHdoaWNoIGRvIG5vdCBoYXZlIGEgbWV0aG9kIGBoYXNPd25Qcm9wZXJ0eWBcbiAgICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gZm9yRWFjaFNvcnRlZChvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKS5zb3J0KCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2tleXNbaV1dLCBrZXlzW2ldKTtcbiAgfVxuICByZXR1cm4ga2V5cztcbn1cblxuXG4vKipcbiAqIHdoZW4gdXNpbmcgZm9yRWFjaCB0aGUgcGFyYW1zIGFyZSB2YWx1ZSwga2V5LCBidXQgaXQgaXMgb2Z0ZW4gdXNlZnVsIHRvIGhhdmUga2V5LCB2YWx1ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nLCAqKX0gaXRlcmF0b3JGblxuICogQHJldHVybnMge2Z1bmN0aW9uKCosIHN0cmluZyl9XG4gKi9cbmZ1bmN0aW9uIHJldmVyc2VQYXJhbXMoaXRlcmF0b3JGbikge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIGtleSkgeyBpdGVyYXRvckZuKGtleSwgdmFsdWUpOyB9O1xufVxuXG4vKipcbiAqIEEgY29uc2lzdGVudCB3YXkgb2YgY3JlYXRpbmcgdW5pcXVlIElEcyBpbiBhbmd1bGFyLlxuICpcbiAqIFVzaW5nIHNpbXBsZSBudW1iZXJzIGFsbG93cyB1cyB0byBnZW5lcmF0ZSAyOC42IG1pbGxpb24gdW5pcXVlIGlkcyBwZXIgc2Vjb25kIGZvciAxMCB5ZWFycyBiZWZvcmVcbiAqIHdlIGhpdCBudW1iZXIgcHJlY2lzaW9uIGlzc3VlcyBpbiBKYXZhU2NyaXB0LlxuICpcbiAqIE1hdGgucG93KDIsNTMpIC8gNjAgLyA2MCAvIDI0IC8gMzY1IC8gMTAgPSAyOC42TVxuICpcbiAqIEByZXR1cm5zIHtudW1iZXJ9IGFuIHVuaXF1ZSBhbHBoYS1udW1lcmljIHN0cmluZ1xuICovXG5mdW5jdGlvbiBuZXh0VWlkKCkge1xuICByZXR1cm4gKyt1aWQ7XG59XG5cblxuLyoqXG4gKiBTZXQgb3IgY2xlYXIgdGhlIGhhc2hrZXkgZm9yIGFuIG9iamVjdC5cbiAqIEBwYXJhbSBvYmogb2JqZWN0XG4gKiBAcGFyYW0gaCB0aGUgaGFzaGtleSAoIXRydXRoeSB0byBkZWxldGUgdGhlIGhhc2hrZXkpXG4gKi9cbmZ1bmN0aW9uIHNldEhhc2hLZXkob2JqLCBoKSB7XG4gIGlmIChoKSB7XG4gICAgb2JqLiQkaGFzaEtleSA9IGg7XG4gIH0gZWxzZSB7XG4gICAgZGVsZXRlIG9iai4kJGhhc2hLZXk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBiYXNlRXh0ZW5kKGRzdCwgb2JqcywgZGVlcCkge1xuICB2YXIgaCA9IGRzdC4kJGhhc2hLZXk7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGlpID0gb2Jqcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgdmFyIG9iaiA9IG9ianNbaV07XG4gICAgaWYgKCFpc09iamVjdChvYmopICYmICFpc0Z1bmN0aW9uKG9iaikpIGNvbnRpbnVlO1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICBmb3IgKHZhciBqID0gMCwgamogPSBrZXlzLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2pdO1xuICAgICAgdmFyIHNyYyA9IG9ialtrZXldO1xuXG4gICAgICBpZiAoZGVlcCAmJiBpc09iamVjdChzcmMpKSB7XG4gICAgICAgIGlmIChpc0RhdGUoc3JjKSkge1xuICAgICAgICAgIGRzdFtrZXldID0gbmV3IERhdGUoc3JjLnZhbHVlT2YoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFpc09iamVjdChkc3Rba2V5XSkpIGRzdFtrZXldID0gaXNBcnJheShzcmMpID8gW10gOiB7fTtcbiAgICAgICAgICBiYXNlRXh0ZW5kKGRzdFtrZXldLCBbc3JjXSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRzdFtrZXldID0gc3JjO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNldEhhc2hLZXkoZHN0LCBoKTtcbiAgcmV0dXJuIGRzdDtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuZXh0ZW5kXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRXh0ZW5kcyB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGBkc3RgIGJ5IGNvcHlpbmcgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBmcm9tIHRoZSBgc3JjYCBvYmplY3QocylcbiAqIHRvIGBkc3RgLiBZb3UgY2FuIHNwZWNpZnkgbXVsdGlwbGUgYHNyY2Agb2JqZWN0cy4gSWYgeW91IHdhbnQgdG8gcHJlc2VydmUgb3JpZ2luYWwgb2JqZWN0cywgeW91IGNhbiBkbyBzb1xuICogYnkgcGFzc2luZyBhbiBlbXB0eSBvYmplY3QgYXMgdGhlIHRhcmdldDogYHZhciBvYmplY3QgPSBhbmd1bGFyLmV4dGVuZCh7fSwgb2JqZWN0MSwgb2JqZWN0MilgLlxuICpcbiAqICoqTm90ZToqKiBLZWVwIGluIG1pbmQgdGhhdCBgYW5ndWxhci5leHRlbmRgIGRvZXMgbm90IHN1cHBvcnQgcmVjdXJzaXZlIG1lcmdlIChkZWVwIGNvcHkpLiBVc2VcbiAqIHtAbGluayBhbmd1bGFyLm1lcmdlfSBmb3IgdGhpcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZHN0IERlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzcmMgU291cmNlIG9iamVjdChzKS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlZmVyZW5jZSB0byBgZHN0YC5cbiAqL1xuZnVuY3Rpb24gZXh0ZW5kKGRzdCkge1xuICByZXR1cm4gYmFzZUV4dGVuZChkc3QsIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgZmFsc2UpO1xufVxuXG5cbi8qKlxuKiBAbmdkb2MgZnVuY3Rpb25cbiogQG5hbWUgYW5ndWxhci5tZXJnZVxuKiBAbW9kdWxlIG5nXG4qIEBraW5kIGZ1bmN0aW9uXG4qXG4qIEBkZXNjcmlwdGlvblxuKiBEZWVwbHkgZXh0ZW5kcyB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGBkc3RgIGJ5IGNvcHlpbmcgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBmcm9tIHRoZSBgc3JjYCBvYmplY3QocylcbiogdG8gYGRzdGAuIFlvdSBjYW4gc3BlY2lmeSBtdWx0aXBsZSBgc3JjYCBvYmplY3RzLiBJZiB5b3Ugd2FudCB0byBwcmVzZXJ2ZSBvcmlnaW5hbCBvYmplY3RzLCB5b3UgY2FuIGRvIHNvXG4qIGJ5IHBhc3NpbmcgYW4gZW1wdHkgb2JqZWN0IGFzIHRoZSB0YXJnZXQ6IGB2YXIgb2JqZWN0ID0gYW5ndWxhci5tZXJnZSh7fSwgb2JqZWN0MSwgb2JqZWN0MilgLlxuKlxuKiBVbmxpa2Uge0BsaW5rIGFuZ3VsYXIuZXh0ZW5kIGV4dGVuZCgpfSwgYG1lcmdlKClgIHJlY3Vyc2l2ZWx5IGRlc2NlbmRzIGludG8gb2JqZWN0IHByb3BlcnRpZXMgb2Ygc291cmNlXG4qIG9iamVjdHMsIHBlcmZvcm1pbmcgYSBkZWVwIGNvcHkuXG4qXG4qIEBwYXJhbSB7T2JqZWN0fSBkc3QgRGVzdGluYXRpb24gb2JqZWN0LlxuKiBAcGFyYW0gey4uLk9iamVjdH0gc3JjIFNvdXJjZSBvYmplY3QocykuXG4qIEByZXR1cm5zIHtPYmplY3R9IFJlZmVyZW5jZSB0byBgZHN0YC5cbiovXG5mdW5jdGlvbiBtZXJnZShkc3QpIHtcbiAgcmV0dXJuIGJhc2VFeHRlbmQoZHN0LCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSksIHRydWUpO1xufVxuXG5cblxuZnVuY3Rpb24gdG9JbnQoc3RyKSB7XG4gIHJldHVybiBwYXJzZUludChzdHIsIDEwKTtcbn1cblxuXG5mdW5jdGlvbiBpbmhlcml0KHBhcmVudCwgZXh0cmEpIHtcbiAgcmV0dXJuIGV4dGVuZChPYmplY3QuY3JlYXRlKHBhcmVudCksIGV4dHJhKTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIubm9vcFxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBubyBvcGVyYXRpb25zLiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VmdWwgd2hlbiB3cml0aW5nIGNvZGUgaW4gdGhlXG4gKiBmdW5jdGlvbmFsIHN0eWxlLlxuICAgYGBganNcbiAgICAgZnVuY3Rpb24gZm9vKGNhbGxiYWNrKSB7XG4gICAgICAgdmFyIHJlc3VsdCA9IGNhbGN1bGF0ZVJlc3VsdCgpO1xuICAgICAgIChjYWxsYmFjayB8fCBhbmd1bGFyLm5vb3ApKHJlc3VsdCk7XG4gICAgIH1cbiAgIGBgYFxuICovXG5mdW5jdGlvbiBub29wKCkge31cbm5vb3AuJGluamVjdCA9IFtdO1xuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlkZW50aXR5XG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgaXRzIGZpcnN0IGFyZ3VtZW50LiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWZ1bCB3aGVuIHdyaXRpbmcgY29kZSBpbiB0aGVcbiAqIGZ1bmN0aW9uYWwgc3R5bGUuXG4gKlxuICAgYGBganNcbiAgICAgZnVuY3Rpb24gdHJhbnNmb3JtZXIodHJhbnNmb3JtYXRpb25GbiwgdmFsdWUpIHtcbiAgICAgICByZXR1cm4gKHRyYW5zZm9ybWF0aW9uRm4gfHwgYW5ndWxhci5pZGVudGl0eSkodmFsdWUpO1xuICAgICB9O1xuICAgYGBgXG4gICogQHBhcmFtIHsqfSB2YWx1ZSB0byBiZSByZXR1cm5lZC5cbiAgKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHBhc3NlZCBpbi5cbiAqL1xuZnVuY3Rpb24gaWRlbnRpdHkoJCkge3JldHVybiAkO31cbmlkZW50aXR5LiRpbmplY3QgPSBbXTtcblxuXG5mdW5jdGlvbiB2YWx1ZUZuKHZhbHVlKSB7cmV0dXJuIGZ1bmN0aW9uKCkge3JldHVybiB2YWx1ZTt9O31cblxuZnVuY3Rpb24gaGFzQ3VzdG9tVG9TdHJpbmcob2JqKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKG9iai50b1N0cmluZykgJiYgb2JqLnRvU3RyaW5nICE9PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzVW5kZWZpbmVkXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyB1bmRlZmluZWQuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIHVuZGVmaW5lZC5cbiAqL1xuZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJzt9XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNEZWZpbmVkXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBkZWZpbmVkLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBkZWZpbmVkLlxuICovXG5mdW5jdGlvbiBpc0RlZmluZWQodmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJzt9XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNPYmplY3RcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGFuIGBPYmplY3RgLiBVbmxpa2UgYHR5cGVvZmAgaW4gSmF2YVNjcmlwdCwgYG51bGxgcyBhcmUgbm90XG4gKiBjb25zaWRlcmVkIHRvIGJlIG9iamVjdHMuIE5vdGUgdGhhdCBKYXZhU2NyaXB0IGFycmF5cyBhcmUgb2JqZWN0cy5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYW4gYE9iamVjdGAgYnV0IG5vdCBgbnVsbGAuXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2lzb2JqZWN0NFxuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jztcbn1cblxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIGEgbnVsbCBwcm90b3R5cGVcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGFuIGBPYmplY3RgIHdpdGggYSBudWxsIHByb3RvdHlwZVxuICovXG5mdW5jdGlvbiBpc0JsYW5rT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmICFnZXRQcm90b3R5cGVPZih2YWx1ZSk7XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNTdHJpbmdcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGEgYFN0cmluZ2AuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGEgYFN0cmluZ2AuXG4gKi9cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZyc7fVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzTnVtYmVyXG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhIGBOdW1iZXJgLlxuICpcbiAqIFRoaXMgaW5jbHVkZXMgdGhlIFwic3BlY2lhbFwiIG51bWJlcnMgYE5hTmAsIGArSW5maW5pdHlgIGFuZCBgLUluZmluaXR5YC5cbiAqXG4gKiBJZiB5b3Ugd2lzaCB0byBleGNsdWRlIHRoZXNlIHRoZW4geW91IGNhbiB1c2UgdGhlIG5hdGl2ZVxuICogW2Bpc0Zpbml0ZSddKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL2lzRmluaXRlKVxuICogbWV0aG9kLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBOdW1iZXJgLlxuICovXG5mdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge3JldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInO31cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5pc0RhdGVcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgdmFsdWUgaXMgYSBkYXRlLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBEYXRlYC5cbiAqL1xuZnVuY3Rpb24gaXNEYXRlKHZhbHVlKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmlzQXJyYXlcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGFuIGBBcnJheWAuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGFuIGBBcnJheWAuXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNGdW5jdGlvblxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYSBgRnVuY3Rpb25gLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBGdW5jdGlvbmAuXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO31cblxuXG4vKipcbiAqIERldGVybWluZXMgaWYgYSB2YWx1ZSBpcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBSZWdFeHBgLlxuICovXG5mdW5jdGlvbiBpc1JlZ0V4cCh2YWx1ZSkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuXG5cbi8qKlxuICogQ2hlY2tzIGlmIGBvYmpgIGlzIGEgd2luZG93IG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSBvYmogT2JqZWN0IHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqYCBpcyBhIHdpbmRvdyBvYmouXG4gKi9cbmZ1bmN0aW9uIGlzV2luZG93KG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai53aW5kb3cgPT09IG9iajtcbn1cblxuXG5mdW5jdGlvbiBpc1Njb3BlKG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai4kZXZhbEFzeW5jICYmIG9iai4kd2F0Y2g7XG59XG5cblxuZnVuY3Rpb24gaXNGaWxlKG9iaikge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBGaWxlXSc7XG59XG5cblxuZnVuY3Rpb24gaXNGb3JtRGF0YShvYmopIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgRm9ybURhdGFdJztcbn1cblxuXG5mdW5jdGlvbiBpc0Jsb2Iob2JqKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEJsb2JdJztcbn1cblxuXG5mdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nO1xufVxuXG5cbmZ1bmN0aW9uIGlzUHJvbWlzZUxpa2Uob2JqKSB7XG4gIHJldHVybiBvYmogJiYgaXNGdW5jdGlvbihvYmoudGhlbik7XG59XG5cblxudmFyIFRZUEVEX0FSUkFZX1JFR0VYUCA9IC9eXFxbb2JqZWN0IChVaW50OChDbGFtcGVkKT8pfChVaW50MTYpfChVaW50MzIpfChJbnQ4KXwoSW50MTYpfChJbnQzMil8KEZsb2F0KDMyKXwoNjQpKUFycmF5XFxdJC87XG5mdW5jdGlvbiBpc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIFRZUEVEX0FSUkFZX1JFR0VYUC50ZXN0KHRvU3RyaW5nLmNhbGwodmFsdWUpKTtcbn1cblxuXG52YXIgdHJpbSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc1N0cmluZyh2YWx1ZSkgPyB2YWx1ZS50cmltKCkgOiB2YWx1ZTtcbn07XG5cbi8vIENvcGllZCBmcm9tOlxuLy8gaHR0cDovL2RvY3MuY2xvc3VyZS1saWJyYXJ5Lmdvb2dsZWNvZGUuY29tL2dpdC9sb2NhbF9jbG9zdXJlX2dvb2dfc3RyaW5nX3N0cmluZy5qcy5zb3VyY2UuaHRtbCNsaW5lMTAyMVxuLy8gUHJlcmVxOiBzIGlzIGEgc3RyaW5nLlxudmFyIGVzY2FwZUZvclJlZ2V4cCA9IGZ1bmN0aW9uKHMpIHtcbiAgcmV0dXJuIHMucmVwbGFjZSgvKFstKClcXFtcXF17fSs/Ki4kXFxefCw6IzwhXFxcXF0pL2csICdcXFxcJDEnKS5cbiAgICAgICAgICAgcmVwbGFjZSgvXFx4MDgvZywgJ1xcXFx4MDgnKTtcbn07XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuaXNFbGVtZW50XG4gKiBAbW9kdWxlIG5nXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhIERPTSBlbGVtZW50IChvciB3cmFwcGVkIGpRdWVyeSBlbGVtZW50KS5cbiAqXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBET00gZWxlbWVudCAob3Igd3JhcHBlZCBqUXVlcnkgZWxlbWVudCkuXG4gKi9cbmZ1bmN0aW9uIGlzRWxlbWVudChub2RlKSB7XG4gIHJldHVybiAhIShub2RlICYmXG4gICAgKG5vZGUubm9kZU5hbWUgIC8vIHdlIGFyZSBhIGRpcmVjdCBlbGVtZW50XG4gICAgfHwgKG5vZGUucHJvcCAmJiBub2RlLmF0dHIgJiYgbm9kZS5maW5kKSkpOyAgLy8gd2UgaGF2ZSBhbiBvbiBhbmQgZmluZCBtZXRob2QgcGFydCBvZiBqUXVlcnkgQVBJXG59XG5cbi8qKlxuICogQHBhcmFtIHN0ciAna2V5MSxrZXkyLC4uLidcbiAqIEByZXR1cm5zIHtvYmplY3R9IGluIHRoZSBmb3JtIG9mIHtrZXkxOnRydWUsIGtleTI6dHJ1ZSwgLi4ufVxuICovXG5mdW5jdGlvbiBtYWtlTWFwKHN0cikge1xuICB2YXIgb2JqID0ge30sIGl0ZW1zID0gc3RyLnNwbGl0KFwiLFwiKSwgaTtcbiAgZm9yIChpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgb2JqW2l0ZW1zW2ldXSA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuXG5mdW5jdGlvbiBub2RlTmFtZV8oZWxlbWVudCkge1xuICByZXR1cm4gbG93ZXJjYXNlKGVsZW1lbnQubm9kZU5hbWUgfHwgKGVsZW1lbnRbMF0gJiYgZWxlbWVudFswXS5ub2RlTmFtZSkpO1xufVxuXG5mdW5jdGlvbiBpbmNsdWRlcyhhcnJheSwgb2JqKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGFycmF5LCBvYmopICE9IC0xO1xufVxuXG5mdW5jdGlvbiBhcnJheVJlbW92ZShhcnJheSwgdmFsdWUpIHtcbiAgdmFyIGluZGV4ID0gYXJyYXkuaW5kZXhPZih2YWx1ZSk7XG4gIGlmIChpbmRleCA+PSAwKSB7XG4gICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuICByZXR1cm4gaW5kZXg7XG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmNvcHlcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgZGVlcCBjb3B5IG9mIGBzb3VyY2VgLCB3aGljaCBzaG91bGQgYmUgYW4gb2JqZWN0IG9yIGFuIGFycmF5LlxuICpcbiAqICogSWYgbm8gZGVzdGluYXRpb24gaXMgc3VwcGxpZWQsIGEgY29weSBvZiB0aGUgb2JqZWN0IG9yIGFycmF5IGlzIGNyZWF0ZWQuXG4gKiAqIElmIGEgZGVzdGluYXRpb24gaXMgcHJvdmlkZWQsIGFsbCBvZiBpdHMgZWxlbWVudHMgKGZvciBhcnJheXMpIG9yIHByb3BlcnRpZXMgKGZvciBvYmplY3RzKVxuICogICBhcmUgZGVsZXRlZCBhbmQgdGhlbiBhbGwgZWxlbWVudHMvcHJvcGVydGllcyBmcm9tIHRoZSBzb3VyY2UgYXJlIGNvcGllZCB0byBpdC5cbiAqICogSWYgYHNvdXJjZWAgaXMgbm90IGFuIG9iamVjdCBvciBhcnJheSAoaW5jLiBgbnVsbGAgYW5kIGB1bmRlZmluZWRgKSwgYHNvdXJjZWAgaXMgcmV0dXJuZWQuXG4gKiAqIElmIGBzb3VyY2VgIGlzIGlkZW50aWNhbCB0byAnZGVzdGluYXRpb24nIGFuIGV4Y2VwdGlvbiB3aWxsIGJlIHRocm93bi5cbiAqXG4gKiBAcGFyYW0geyp9IHNvdXJjZSBUaGUgc291cmNlIHRoYXQgd2lsbCBiZSB1c2VkIHRvIG1ha2UgYSBjb3B5LlxuICogICAgICAgICAgICAgICAgICAgQ2FuIGJlIGFueSB0eXBlLCBpbmNsdWRpbmcgcHJpbWl0aXZlcywgYG51bGxgLCBhbmQgYHVuZGVmaW5lZGAuXG4gKiBAcGFyYW0geyhPYmplY3R8QXJyYXkpPX0gZGVzdGluYXRpb24gRGVzdGluYXRpb24gaW50byB3aGljaCB0aGUgc291cmNlIGlzIGNvcGllZC4gSWZcbiAqICAgICBwcm92aWRlZCwgbXVzdCBiZSBvZiB0aGUgc2FtZSB0eXBlIGFzIGBzb3VyY2VgLlxuICogQHJldHVybnMgeyp9IFRoZSBjb3B5IG9yIHVwZGF0ZWQgYGRlc3RpbmF0aW9uYCwgaWYgYGRlc3RpbmF0aW9uYCB3YXMgc3BlY2lmaWVkLlxuICpcbiAqIEBleGFtcGxlXG4gPGV4YW1wbGUgbW9kdWxlPVwiY29weUV4YW1wbGVcIj5cbiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gPGZvcm0gbm92YWxpZGF0ZSBjbGFzcz1cInNpbXBsZS1mb3JtXCI+XG4gTmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIiAvPjxiciAvPlxuIEUtbWFpbDogPGlucHV0IHR5cGU9XCJlbWFpbFwiIG5nLW1vZGVsPVwidXNlci5lbWFpbFwiIC8+PGJyIC8+XG4gR2VuZGVyOiA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJ1c2VyLmdlbmRlclwiIHZhbHVlPVwibWFsZVwiIC8+bWFsZVxuIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuZy1tb2RlbD1cInVzZXIuZ2VuZGVyXCIgdmFsdWU9XCJmZW1hbGVcIiAvPmZlbWFsZTxiciAvPlxuIDxidXR0b24gbmctY2xpY2s9XCJyZXNldCgpXCI+UkVTRVQ8L2J1dHRvbj5cbiA8YnV0dG9uIG5nLWNsaWNrPVwidXBkYXRlKHVzZXIpXCI+U0FWRTwvYnV0dG9uPlxuIDwvZm9ybT5cbiA8cHJlPmZvcm0gPSB7e3VzZXIgfCBqc29ufX08L3ByZT5cbiA8cHJlPm1hc3RlciA9IHt7bWFzdGVyIHwganNvbn19PC9wcmU+XG4gPC9kaXY+XG5cbiA8c2NyaXB0PlxuICBhbmd1bGFyLm1vZHVsZSgnY29weUV4YW1wbGUnLCBbXSlcbiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgJHNjb3BlLm1hc3Rlcj0ge307XG5cbiAgICAgICRzY29wZS51cGRhdGUgPSBmdW5jdGlvbih1c2VyKSB7XG4gICAgICAgIC8vIEV4YW1wbGUgd2l0aCAxIGFyZ3VtZW50XG4gICAgICAgICRzY29wZS5tYXN0ZXI9IGFuZ3VsYXIuY29weSh1c2VyKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBFeGFtcGxlIHdpdGggMiBhcmd1bWVudHNcbiAgICAgICAgYW5ndWxhci5jb3B5KCRzY29wZS5tYXN0ZXIsICRzY29wZS51c2VyKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5yZXNldCgpO1xuICAgIH1dKTtcbiA8L3NjcmlwdD5cbiA8L2ZpbGU+XG4gPC9leGFtcGxlPlxuICovXG5mdW5jdGlvbiBjb3B5KHNvdXJjZSwgZGVzdGluYXRpb24sIHN0YWNrU291cmNlLCBzdGFja0Rlc3QpIHtcbiAgaWYgKGlzV2luZG93KHNvdXJjZSkgfHwgaXNTY29wZShzb3VyY2UpKSB7XG4gICAgdGhyb3cgbmdNaW5FcnIoJ2Nwd3MnLFxuICAgICAgXCJDYW4ndCBjb3B5ISBNYWtpbmcgY29waWVzIG9mIFdpbmRvdyBvciBTY29wZSBpbnN0YW5jZXMgaXMgbm90IHN1cHBvcnRlZC5cIik7XG4gIH1cbiAgaWYgKGlzVHlwZWRBcnJheShkZXN0aW5hdGlvbikpIHtcbiAgICB0aHJvdyBuZ01pbkVycignY3B0YScsXG4gICAgICBcIkNhbid0IGNvcHkhIFR5cGVkQXJyYXkgZGVzdGluYXRpb24gY2Fubm90IGJlIG11dGF0ZWQuXCIpO1xuICB9XG5cbiAgaWYgKCFkZXN0aW5hdGlvbikge1xuICAgIGRlc3RpbmF0aW9uID0gc291cmNlO1xuICAgIGlmIChpc09iamVjdChzb3VyY2UpKSB7XG4gICAgICB2YXIgaW5kZXg7XG4gICAgICBpZiAoc3RhY2tTb3VyY2UgJiYgKGluZGV4ID0gc3RhY2tTb3VyY2UuaW5kZXhPZihzb3VyY2UpKSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrRGVzdFtpbmRleF07XG4gICAgICB9XG5cbiAgICAgIC8vIFR5cGVkQXJyYXksIERhdGUgYW5kIFJlZ0V4cCBoYXZlIHNwZWNpZmljIGNvcHkgZnVuY3Rpb25hbGl0eSBhbmQgbXVzdCBiZVxuICAgICAgLy8gcHVzaGVkIG9udG8gdGhlIHN0YWNrIGJlZm9yZSByZXR1cm5pbmcuXG4gICAgICAvLyBBcnJheSBhbmQgb3RoZXIgb2JqZWN0cyBjcmVhdGUgdGhlIGJhc2Ugb2JqZWN0IGFuZCByZWN1cnNlIHRvIGNvcHkgY2hpbGRcbiAgICAgIC8vIG9iamVjdHMuIFRoZSBhcnJheS9vYmplY3Qgd2lsbCBiZSBwdXNoZWQgb250byB0aGUgc3RhY2sgd2hlbiByZWN1cnNlZC5cbiAgICAgIGlmIChpc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgcmV0dXJuIGNvcHkoc291cmNlLCBbXSwgc3RhY2tTb3VyY2UsIHN0YWNrRGVzdCk7XG4gICAgICB9IGVsc2UgaWYgKGlzVHlwZWRBcnJheShzb3VyY2UpKSB7XG4gICAgICAgIGRlc3RpbmF0aW9uID0gbmV3IHNvdXJjZS5jb25zdHJ1Y3Rvcihzb3VyY2UpO1xuICAgICAgfSBlbHNlIGlmIChpc0RhdGUoc291cmNlKSkge1xuICAgICAgICBkZXN0aW5hdGlvbiA9IG5ldyBEYXRlKHNvdXJjZS5nZXRUaW1lKCkpO1xuICAgICAgfSBlbHNlIGlmIChpc1JlZ0V4cChzb3VyY2UpKSB7XG4gICAgICAgIGRlc3RpbmF0aW9uID0gbmV3IFJlZ0V4cChzb3VyY2Uuc291cmNlLCBzb3VyY2UudG9TdHJpbmcoKS5tYXRjaCgvW15cXC9dKiQvKVswXSk7XG4gICAgICAgIGRlc3RpbmF0aW9uLmxhc3RJbmRleCA9IHNvdXJjZS5sYXN0SW5kZXg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZW1wdHlPYmplY3QgPSBPYmplY3QuY3JlYXRlKGdldFByb3RvdHlwZU9mKHNvdXJjZSkpO1xuICAgICAgICByZXR1cm4gY29weShzb3VyY2UsIGVtcHR5T2JqZWN0LCBzdGFja1NvdXJjZSwgc3RhY2tEZXN0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YWNrRGVzdCkge1xuICAgICAgICBzdGFja1NvdXJjZS5wdXNoKHNvdXJjZSk7XG4gICAgICAgIHN0YWNrRGVzdC5wdXNoKGRlc3RpbmF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHNvdXJjZSA9PT0gZGVzdGluYXRpb24pIHRocm93IG5nTWluRXJyKCdjcGknLFxuICAgICAgXCJDYW4ndCBjb3B5ISBTb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGFyZSBpZGVudGljYWwuXCIpO1xuXG4gICAgc3RhY2tTb3VyY2UgPSBzdGFja1NvdXJjZSB8fCBbXTtcbiAgICBzdGFja0Rlc3QgPSBzdGFja0Rlc3QgfHwgW107XG5cbiAgICBpZiAoaXNPYmplY3Qoc291cmNlKSkge1xuICAgICAgc3RhY2tTb3VyY2UucHVzaChzb3VyY2UpO1xuICAgICAgc3RhY2tEZXN0LnB1c2goZGVzdGluYXRpb24pO1xuICAgIH1cblxuICAgIHZhciByZXN1bHQsIGtleTtcbiAgICBpZiAoaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICBkZXN0aW5hdGlvbi5sZW5ndGggPSAwO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZGVzdGluYXRpb24ucHVzaChjb3B5KHNvdXJjZVtpXSwgbnVsbCwgc3RhY2tTb3VyY2UsIHN0YWNrRGVzdCkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaCA9IGRlc3RpbmF0aW9uLiQkaGFzaEtleTtcbiAgICAgIGlmIChpc0FycmF5KGRlc3RpbmF0aW9uKSkge1xuICAgICAgICBkZXN0aW5hdGlvbi5sZW5ndGggPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yRWFjaChkZXN0aW5hdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgIGRlbGV0ZSBkZXN0aW5hdGlvbltrZXldO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0JsYW5rT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgICAgLy8gY3JlYXRlTWFwKCkgZmFzdCBwYXRoIC0tLSBTYWZlIHRvIGF2b2lkIGhhc093blByb3BlcnR5IGNoZWNrIGJlY2F1c2UgcHJvdG90eXBlIGNoYWluIGlzIGVtcHR5XG4gICAgICAgIGZvciAoa2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSBjb3B5KHNvdXJjZVtrZXldLCBudWxsLCBzdGFja1NvdXJjZSwgc3RhY2tEZXN0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzb3VyY2UgJiYgdHlwZW9mIHNvdXJjZS5oYXNPd25Qcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBTbG93IHBhdGgsIHdoaWNoIG11c3QgcmVseSBvbiBoYXNPd25Qcm9wZXJ0eVxuICAgICAgICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSBjb3B5KHNvdXJjZVtrZXldLCBudWxsLCBzdGFja1NvdXJjZSwgc3RhY2tEZXN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFNsb3dlc3QgcGF0aCAtLS0gaGFzT3duUHJvcGVydHkgY2FuJ3QgYmUgY2FsbGVkIGFzIGEgbWV0aG9kXG4gICAgICAgIGZvciAoa2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgZGVzdGluYXRpb25ba2V5XSA9IGNvcHkoc291cmNlW2tleV0sIG51bGwsIHN0YWNrU291cmNlLCBzdGFja0Rlc3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2V0SGFzaEtleShkZXN0aW5hdGlvbixoKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlc3RpbmF0aW9uO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBzaGFsbG93IGNvcHkgb2YgYW4gb2JqZWN0LCBhbiBhcnJheSBvciBhIHByaW1pdGl2ZS5cbiAqXG4gKiBBc3N1bWVzIHRoYXQgdGhlcmUgYXJlIG5vIHByb3RvIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXG4gKi9cbmZ1bmN0aW9uIHNoYWxsb3dDb3B5KHNyYywgZHN0KSB7XG4gIGlmIChpc0FycmF5KHNyYykpIHtcbiAgICBkc3QgPSBkc3QgfHwgW107XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBzcmMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgZHN0W2ldID0gc3JjW2ldO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChzcmMpKSB7XG4gICAgZHN0ID0gZHN0IHx8IHt9O1xuXG4gICAgZm9yICh2YXIga2V5IGluIHNyYykge1xuICAgICAgaWYgKCEoa2V5LmNoYXJBdCgwKSA9PT0gJyQnICYmIGtleS5jaGFyQXQoMSkgPT09ICckJykpIHtcbiAgICAgICAgZHN0W2tleV0gPSBzcmNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZHN0IHx8IHNyYztcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5lcXVhbHNcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXRlcm1pbmVzIGlmIHR3byBvYmplY3RzIG9yIHR3byB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQuIFN1cHBvcnRzIHZhbHVlIHR5cGVzLCByZWd1bGFyXG4gKiBleHByZXNzaW9ucywgYXJyYXlzIGFuZCBvYmplY3RzLlxuICpcbiAqIFR3byBvYmplY3RzIG9yIHZhbHVlcyBhcmUgY29uc2lkZXJlZCBlcXVpdmFsZW50IGlmIGF0IGxlYXN0IG9uZSBvZiB0aGUgZm9sbG93aW5nIGlzIHRydWU6XG4gKlxuICogKiBCb3RoIG9iamVjdHMgb3IgdmFsdWVzIHBhc3MgYD09PWAgY29tcGFyaXNvbi5cbiAqICogQm90aCBvYmplY3RzIG9yIHZhbHVlcyBhcmUgb2YgdGhlIHNhbWUgdHlwZSBhbmQgYWxsIG9mIHRoZWlyIHByb3BlcnRpZXMgYXJlIGVxdWFsIGJ5XG4gKiAgIGNvbXBhcmluZyB0aGVtIHdpdGggYGFuZ3VsYXIuZXF1YWxzYC5cbiAqICogQm90aCB2YWx1ZXMgYXJlIE5hTi4gKEluIEphdmFTY3JpcHQsIE5hTiA9PSBOYU4gPT4gZmFsc2UuIEJ1dCB3ZSBjb25zaWRlciB0d28gTmFOIGFzIGVxdWFsKVxuICogKiBCb3RoIHZhbHVlcyByZXByZXNlbnQgdGhlIHNhbWUgcmVndWxhciBleHByZXNzaW9uIChJbiBKYXZhU2NyaXB0LFxuICogICAvYWJjLyA9PSAvYWJjLyA9PiBmYWxzZS4gQnV0IHdlIGNvbnNpZGVyIHR3byByZWd1bGFyIGV4cHJlc3Npb25zIGFzIGVxdWFsIHdoZW4gdGhlaXIgdGV4dHVhbFxuICogICByZXByZXNlbnRhdGlvbiBtYXRjaGVzKS5cbiAqXG4gKiBEdXJpbmcgYSBwcm9wZXJ0eSBjb21wYXJpc29uLCBwcm9wZXJ0aWVzIG9mIGBmdW5jdGlvbmAgdHlwZSBhbmQgcHJvcGVydGllcyB3aXRoIG5hbWVzXG4gKiB0aGF0IGJlZ2luIHdpdGggYCRgIGFyZSBpZ25vcmVkLlxuICpcbiAqIFNjb3BlIGFuZCBET01XaW5kb3cgb2JqZWN0cyBhcmUgYmVpbmcgY29tcGFyZWQgb25seSBieSBpZGVudGlmeSAoYD09PWApLlxuICpcbiAqIEBwYXJhbSB7Kn0gbzEgT2JqZWN0IG9yIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG8yIE9iamVjdCBvciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYXJndW1lbnRzIGFyZSBlcXVhbC5cbiAqL1xuZnVuY3Rpb24gZXF1YWxzKG8xLCBvMikge1xuICBpZiAobzEgPT09IG8yKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKG8xID09PSBudWxsIHx8IG8yID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gIGlmIChvMSAhPT0gbzEgJiYgbzIgIT09IG8yKSByZXR1cm4gdHJ1ZTsgLy8gTmFOID09PSBOYU5cbiAgdmFyIHQxID0gdHlwZW9mIG8xLCB0MiA9IHR5cGVvZiBvMiwgbGVuZ3RoLCBrZXksIGtleVNldDtcbiAgaWYgKHQxID09IHQyKSB7XG4gICAgaWYgKHQxID09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoaXNBcnJheShvMSkpIHtcbiAgICAgICAgaWYgKCFpc0FycmF5KG8yKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoKGxlbmd0aCA9IG8xLmxlbmd0aCkgPT0gbzIubGVuZ3RoKSB7XG4gICAgICAgICAgZm9yIChrZXkgPSAwOyBrZXkgPCBsZW5ndGg7IGtleSsrKSB7XG4gICAgICAgICAgICBpZiAoIWVxdWFscyhvMVtrZXldLCBvMltrZXldKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc0RhdGUobzEpKSB7XG4gICAgICAgIGlmICghaXNEYXRlKG8yKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gZXF1YWxzKG8xLmdldFRpbWUoKSwgbzIuZ2V0VGltZSgpKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNSZWdFeHAobzEpKSB7XG4gICAgICAgIHJldHVybiBpc1JlZ0V4cChvMikgPyBvMS50b1N0cmluZygpID09IG8yLnRvU3RyaW5nKCkgOiBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc1Njb3BlKG8xKSB8fCBpc1Njb3BlKG8yKSB8fCBpc1dpbmRvdyhvMSkgfHwgaXNXaW5kb3cobzIpIHx8XG4gICAgICAgICAgaXNBcnJheShvMikgfHwgaXNEYXRlKG8yKSB8fCBpc1JlZ0V4cChvMikpIHJldHVybiBmYWxzZTtcbiAgICAgICAga2V5U2V0ID0gY3JlYXRlTWFwKCk7XG4gICAgICAgIGZvciAoa2V5IGluIG8xKSB7XG4gICAgICAgICAgaWYgKGtleS5jaGFyQXQoMCkgPT09ICckJyB8fCBpc0Z1bmN0aW9uKG8xW2tleV0pKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAoIWVxdWFscyhvMVtrZXldLCBvMltrZXldKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGtleVNldFtrZXldID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGtleSBpbiBvMikge1xuICAgICAgICAgIGlmICghKGtleSBpbiBrZXlTZXQpICYmXG4gICAgICAgICAgICAgIGtleS5jaGFyQXQoMCkgIT09ICckJyAmJlxuICAgICAgICAgICAgICBvMltrZXldICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgIWlzRnVuY3Rpb24obzJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG52YXIgY3NwID0gZnVuY3Rpb24oKSB7XG4gIGlmIChpc0RlZmluZWQoY3NwLmlzQWN0aXZlXykpIHJldHVybiBjc3AuaXNBY3RpdmVfO1xuXG4gIHZhciBhY3RpdmUgPSAhIShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbbmctY3NwXScpIHx8XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1uZy1jc3BdJykpO1xuXG4gIGlmICghYWN0aXZlKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8qIGpzaGludCAtVzAzMSwgLVcwNTQgKi9cbiAgICAgIG5ldyBGdW5jdGlvbignJyk7XG4gICAgICAvKiBqc2hpbnQgK1cwMzEsICtXMDU0ICovXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgYWN0aXZlID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKGNzcC5pc0FjdGl2ZV8gPSBhY3RpdmUpO1xufTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbW9kdWxlIG5nXG4gKiBAbmFtZSBuZ0pxXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nSnEgdGhlIG5hbWUgb2YgdGhlIGxpYnJhcnkgYXZhaWxhYmxlIHVuZGVyIGB3aW5kb3dgXG4gKiB0byBiZSB1c2VkIGZvciBhbmd1bGFyLmVsZW1lbnRcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIHRoaXMgZGlyZWN0aXZlIHRvIGZvcmNlIHRoZSBhbmd1bGFyLmVsZW1lbnQgbGlicmFyeS4gIFRoaXMgc2hvdWxkIGJlXG4gKiB1c2VkIHRvIGZvcmNlIGVpdGhlciBqcUxpdGUgYnkgbGVhdmluZyBuZy1qcSBibGFuayBvciBzZXR0aW5nIHRoZSBuYW1lIG9mXG4gKiB0aGUganF1ZXJ5IHZhcmlhYmxlIHVuZGVyIHdpbmRvdyAoZWcuIGpRdWVyeSkuXG4gKlxuICogU2luY2UgYW5ndWxhciBsb29rcyBmb3IgdGhpcyBkaXJlY3RpdmUgd2hlbiBpdCBpcyBsb2FkZWQgKGRvZXNuJ3Qgd2FpdCBmb3IgdGhlXG4gKiBET01Db250ZW50TG9hZGVkIGV2ZW50KSwgaXQgbXVzdCBiZSBwbGFjZWQgb24gYW4gZWxlbWVudCB0aGF0IGNvbWVzIGJlZm9yZSB0aGUgc2NyaXB0XG4gKiB3aGljaCBsb2FkcyBhbmd1bGFyLiBBbHNvLCBvbmx5IHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBgbmctanFgIHdpbGwgYmUgdXNlZCBhbmQgYWxsXG4gKiBvdGhlcnMgaWdub3JlZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB0byBmb3JjZSBqcUxpdGUgdXNpbmcgdGhlIGBuZ0pxYCBkaXJlY3RpdmUgdG8gdGhlIGBodG1sYCB0YWcuXG4gYGBgaHRtbFxuIDwhZG9jdHlwZSBodG1sPlxuIDxodG1sIG5nLWFwcCBuZy1qcT5cbiAuLi5cbiAuLi5cbiA8L2h0bWw+XG4gYGBgXG4gKiBAZXhhbXBsZVxuICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB0byB1c2UgYSBqUXVlcnkgYmFzZWQgbGlicmFyeSBvZiBhIGRpZmZlcmVudCBuYW1lLlxuICogVGhlIGxpYnJhcnkgbmFtZSBtdXN0IGJlIGF2YWlsYWJsZSBhdCB0aGUgdG9wIG1vc3QgJ3dpbmRvdycuXG4gYGBgaHRtbFxuIDwhZG9jdHlwZSBodG1sPlxuIDxodG1sIG5nLWFwcCBuZy1qcT1cImpRdWVyeUxpYlwiPlxuIC4uLlxuIC4uLlxuIDwvaHRtbD5cbiBgYGBcbiAqL1xudmFyIGpxID0gZnVuY3Rpb24oKSB7XG4gIGlmIChpc0RlZmluZWQoanEubmFtZV8pKSByZXR1cm4ganEubmFtZV87XG4gIHZhciBlbDtcbiAgdmFyIGksIGlpID0gbmdBdHRyUHJlZml4ZXMubGVuZ3RoLCBwcmVmaXgsIG5hbWU7XG4gIGZvciAoaSA9IDA7IGkgPCBpaTsgKytpKSB7XG4gICAgcHJlZml4ID0gbmdBdHRyUHJlZml4ZXNbaV07XG4gICAgaWYgKGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignWycgKyBwcmVmaXgucmVwbGFjZSgnOicsICdcXFxcOicpICsgJ2pxXScpKSB7XG4gICAgICBuYW1lID0gZWwuZ2V0QXR0cmlidXRlKHByZWZpeCArICdqcScpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChqcS5uYW1lXyA9IG5hbWUpO1xufTtcblxuZnVuY3Rpb24gY29uY2F0KGFycmF5MSwgYXJyYXkyLCBpbmRleCkge1xuICByZXR1cm4gYXJyYXkxLmNvbmNhdChzbGljZS5jYWxsKGFycmF5MiwgaW5kZXgpKTtcbn1cblxuZnVuY3Rpb24gc2xpY2VBcmdzKGFyZ3MsIHN0YXJ0SW5kZXgpIHtcbiAgcmV0dXJuIHNsaWNlLmNhbGwoYXJncywgc3RhcnRJbmRleCB8fCAwKTtcbn1cblxuXG4vKiBqc2hpbnQgLVcxMDEgKi9cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmJpbmRcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FsbHMgZnVuY3Rpb24gYGZuYCBib3VuZCB0byBgc2VsZmAgKGBzZWxmYCBiZWNvbWVzIHRoZSBgdGhpc2AgZm9yXG4gKiBgZm5gKS4gWW91IGNhbiBzdXBwbHkgb3B0aW9uYWwgYGFyZ3NgIHRoYXQgYXJlIHByZWJvdW5kIHRvIHRoZSBmdW5jdGlvbi4gVGhpcyBmZWF0dXJlIGlzIGFsc29cbiAqIGtub3duIGFzIFtwYXJ0aWFsIGFwcGxpY2F0aW9uXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1BhcnRpYWxfYXBwbGljYXRpb24pLCBhc1xuICogZGlzdGluZ3Vpc2hlZCBmcm9tIFtmdW5jdGlvbiBjdXJyeWluZ10oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DdXJyeWluZyNDb250cmFzdF93aXRoX3BhcnRpYWxfZnVuY3Rpb25fYXBwbGljYXRpb24pLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZWxmIENvbnRleHQgd2hpY2ggYGZuYCBzaG91bGQgYmUgZXZhbHVhdGVkIGluLlxuICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBGdW5jdGlvbiB0byBiZSBib3VuZC5cbiAqIEBwYXJhbSB7Li4uKn0gYXJncyBPcHRpb25hbCBhcmd1bWVudHMgdG8gYmUgcHJlYm91bmQgdG8gdGhlIGBmbmAgZnVuY3Rpb24gY2FsbC5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBGdW5jdGlvbiB0aGF0IHdyYXBzIHRoZSBgZm5gIHdpdGggYWxsIHRoZSBzcGVjaWZpZWQgYmluZGluZ3MuXG4gKi9cbi8qIGpzaGludCArVzEwMSAqL1xuZnVuY3Rpb24gYmluZChzZWxmLCBmbikge1xuICB2YXIgY3VycnlBcmdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBzbGljZUFyZ3MoYXJndW1lbnRzLCAyKSA6IFtdO1xuICBpZiAoaXNGdW5jdGlvbihmbikgJiYgIShmbiBpbnN0YW5jZW9mIFJlZ0V4cCkpIHtcbiAgICByZXR1cm4gY3VycnlBcmdzLmxlbmd0aFxuICAgICAgPyBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgICAgICAgPyBmbi5hcHBseShzZWxmLCBjb25jYXQoY3VycnlBcmdzLCBhcmd1bWVudHMsIDApKVxuICAgICAgICAgICAgOiBmbi5hcHBseShzZWxmLCBjdXJyeUFyZ3MpO1xuICAgICAgICB9XG4gICAgICA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICAgICAgICA/IGZuLmFwcGx5KHNlbGYsIGFyZ3VtZW50cylcbiAgICAgICAgICAgIDogZm4uY2FsbChzZWxmKTtcbiAgICAgICAgfTtcbiAgfSBlbHNlIHtcbiAgICAvLyBpbiBJRSwgbmF0aXZlIG1ldGhvZHMgYXJlIG5vdCBmdW5jdGlvbnMgc28gdGhleSBjYW5ub3QgYmUgYm91bmQgKG5vdGU6IHRoZXkgZG9uJ3QgbmVlZCB0byBiZSlcbiAgICByZXR1cm4gZm47XG4gIH1cbn1cblxuXG5mdW5jdGlvbiB0b0pzb25SZXBsYWNlcihrZXksIHZhbHVlKSB7XG4gIHZhciB2YWwgPSB2YWx1ZTtcblxuICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYga2V5LmNoYXJBdCgwKSA9PT0gJyQnICYmIGtleS5jaGFyQXQoMSkgPT09ICckJykge1xuICAgIHZhbCA9IHVuZGVmaW5lZDtcbiAgfSBlbHNlIGlmIChpc1dpbmRvdyh2YWx1ZSkpIHtcbiAgICB2YWwgPSAnJFdJTkRPVyc7XG4gIH0gZWxzZSBpZiAodmFsdWUgJiYgIGRvY3VtZW50ID09PSB2YWx1ZSkge1xuICAgIHZhbCA9ICckRE9DVU1FTlQnO1xuICB9IGVsc2UgaWYgKGlzU2NvcGUodmFsdWUpKSB7XG4gICAgdmFsID0gJyRTQ09QRSc7XG4gIH1cblxuICByZXR1cm4gdmFsO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLnRvSnNvblxuICogQG1vZHVsZSBuZ1xuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNlcmlhbGl6ZXMgaW5wdXQgaW50byBhIEpTT04tZm9ybWF0dGVkIHN0cmluZy4gUHJvcGVydGllcyB3aXRoIGxlYWRpbmcgJCQgY2hhcmFjdGVycyB3aWxsIGJlXG4gKiBzdHJpcHBlZCBzaW5jZSBhbmd1bGFyIHVzZXMgdGhpcyBub3RhdGlvbiBpbnRlcm5hbGx5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fERhdGV8c3RyaW5nfG51bWJlcn0gb2JqIElucHV0IHRvIGJlIHNlcmlhbGl6ZWQgaW50byBKU09OLlxuICogQHBhcmFtIHtib29sZWFufG51bWJlcn0gW3ByZXR0eT0yXSBJZiBzZXQgdG8gdHJ1ZSwgdGhlIEpTT04gb3V0cHV0IHdpbGwgY29udGFpbiBuZXdsaW5lcyBhbmQgd2hpdGVzcGFjZS5cbiAqICAgIElmIHNldCB0byBhbiBpbnRlZ2VyLCB0aGUgSlNPTiBvdXRwdXQgd2lsbCBjb250YWluIHRoYXQgbWFueSBzcGFjZXMgcGVyIGluZGVudGF0aW9uLlxuICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IEpTT04taWZpZWQgc3RyaW5nIHJlcHJlc2VudGluZyBgb2JqYC5cbiAqL1xuZnVuY3Rpb24gdG9Kc29uKG9iaiwgcHJldHR5KSB7XG4gIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykgcmV0dXJuIHVuZGVmaW5lZDtcbiAgaWYgKCFpc051bWJlcihwcmV0dHkpKSB7XG4gICAgcHJldHR5ID0gcHJldHR5ID8gMiA6IG51bGw7XG4gIH1cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgdG9Kc29uUmVwbGFjZXIsIHByZXR0eSk7XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgZnVuY3Rpb25cbiAqIEBuYW1lIGFuZ3VsYXIuZnJvbUpzb25cbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZXNlcmlhbGl6ZXMgYSBKU09OIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ganNvbiBKU09OIHN0cmluZyB0byBkZXNlcmlhbGl6ZS5cbiAqIEByZXR1cm5zIHtPYmplY3R8QXJyYXl8c3RyaW5nfG51bWJlcn0gRGVzZXJpYWxpemVkIEpTT04gc3RyaW5nLlxuICovXG5mdW5jdGlvbiBmcm9tSnNvbihqc29uKSB7XG4gIHJldHVybiBpc1N0cmluZyhqc29uKVxuICAgICAgPyBKU09OLnBhcnNlKGpzb24pXG4gICAgICA6IGpzb247XG59XG5cblxuZnVuY3Rpb24gdGltZXpvbmVUb09mZnNldCh0aW1lem9uZSwgZmFsbGJhY2spIHtcbiAgdmFyIHJlcXVlc3RlZFRpbWV6b25lT2Zmc2V0ID0gRGF0ZS5wYXJzZSgnSmFuIDAxLCAxOTcwIDAwOjAwOjAwICcgKyB0aW1lem9uZSkgLyA2MDAwMDtcbiAgcmV0dXJuIGlzTmFOKHJlcXVlc3RlZFRpbWV6b25lT2Zmc2V0KSA/IGZhbGxiYWNrIDogcmVxdWVzdGVkVGltZXpvbmVPZmZzZXQ7XG59XG5cblxuZnVuY3Rpb24gYWRkRGF0ZU1pbnV0ZXMoZGF0ZSwgbWludXRlcykge1xuICBkYXRlID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xuICBkYXRlLnNldE1pbnV0ZXMoZGF0ZS5nZXRNaW51dGVzKCkgKyBtaW51dGVzKTtcbiAgcmV0dXJuIGRhdGU7XG59XG5cblxuZnVuY3Rpb24gY29udmVydFRpbWV6b25lVG9Mb2NhbChkYXRlLCB0aW1lem9uZSwgcmV2ZXJzZSkge1xuICByZXZlcnNlID0gcmV2ZXJzZSA/IC0xIDogMTtcbiAgdmFyIHRpbWV6b25lT2Zmc2V0ID0gdGltZXpvbmVUb09mZnNldCh0aW1lem9uZSwgZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpKTtcbiAgcmV0dXJuIGFkZERhdGVNaW51dGVzKGRhdGUsIHJldmVyc2UgKiAodGltZXpvbmVPZmZzZXQgLSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkpKTtcbn1cblxuXG4vKipcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gc3RhcnRpbmdUYWcoZWxlbWVudCkge1xuICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpLmNsb25lKCk7XG4gIHRyeSB7XG4gICAgLy8gdHVybnMgb3V0IElFIGRvZXMgbm90IGxldCB5b3Ugc2V0IC5odG1sKCkgb24gZWxlbWVudHMgd2hpY2hcbiAgICAvLyBhcmUgbm90IGFsbG93ZWQgdG8gaGF2ZSBjaGlsZHJlbi4gU28gd2UganVzdCBpZ25vcmUgaXQuXG4gICAgZWxlbWVudC5lbXB0eSgpO1xuICB9IGNhdGNoIChlKSB7fVxuICB2YXIgZWxlbUh0bWwgPSBqcUxpdGUoJzxkaXY+JykuYXBwZW5kKGVsZW1lbnQpLmh0bWwoKTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZWxlbWVudFswXS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX1RFWFQgPyBsb3dlcmNhc2UoZWxlbUh0bWwpIDpcbiAgICAgICAgZWxlbUh0bWwuXG4gICAgICAgICAgbWF0Y2goL14oPFtePl0rPikvKVsxXS5cbiAgICAgICAgICByZXBsYWNlKC9ePChbXFx3XFwtXSspLywgZnVuY3Rpb24obWF0Y2gsIG5vZGVOYW1lKSB7IHJldHVybiAnPCcgKyBsb3dlcmNhc2Uobm9kZU5hbWUpOyB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBsb3dlcmNhc2UoZWxlbUh0bWwpO1xuICB9XG5cbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogVHJpZXMgdG8gZGVjb2RlIHRoZSBVUkkgY29tcG9uZW50IHdpdGhvdXQgdGhyb3dpbmcgYW4gZXhjZXB0aW9uLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gc3RyIHZhbHVlIHBvdGVudGlhbCBVUkkgY29tcG9uZW50IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBjYW4gYmUgZGVjb2RlZFxuICogd2l0aCB0aGUgZGVjb2RlVVJJQ29tcG9uZW50IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiB0cnlEZWNvZGVVUklDb21wb25lbnQodmFsdWUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIElnbm9yZSBhbnkgaW52YWxpZCB1cmkgY29tcG9uZW50XG4gIH1cbn1cblxuXG4vKipcbiAqIFBhcnNlcyBhbiBlc2NhcGVkIHVybCBxdWVyeSBzdHJpbmcgaW50byBrZXktdmFsdWUgcGFpcnMuXG4gKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsYm9vbGVhbnxBcnJheT59XG4gKi9cbmZ1bmN0aW9uIHBhcnNlS2V5VmFsdWUoLyoqc3RyaW5nKi9rZXlWYWx1ZSkge1xuICB2YXIgb2JqID0ge30sIGtleV92YWx1ZSwga2V5O1xuICBmb3JFYWNoKChrZXlWYWx1ZSB8fCBcIlwiKS5zcGxpdCgnJicpLCBmdW5jdGlvbihrZXlWYWx1ZSkge1xuICAgIGlmIChrZXlWYWx1ZSkge1xuICAgICAga2V5X3ZhbHVlID0ga2V5VmFsdWUucmVwbGFjZSgvXFwrL2csJyUyMCcpLnNwbGl0KCc9Jyk7XG4gICAgICBrZXkgPSB0cnlEZWNvZGVVUklDb21wb25lbnQoa2V5X3ZhbHVlWzBdKTtcbiAgICAgIGlmIChpc0RlZmluZWQoa2V5KSkge1xuICAgICAgICB2YXIgdmFsID0gaXNEZWZpbmVkKGtleV92YWx1ZVsxXSkgPyB0cnlEZWNvZGVVUklDb21wb25lbnQoa2V5X3ZhbHVlWzFdKSA6IHRydWU7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICBvYmpba2V5XSA9IHZhbDtcbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KG9ialtrZXldKSkge1xuICAgICAgICAgIG9ialtrZXldLnB1c2godmFsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvYmpba2V5XSA9IFtvYmpba2V5XSx2YWxdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gdG9LZXlWYWx1ZShvYmopIHtcbiAgdmFyIHBhcnRzID0gW107XG4gIGZvckVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICBmb3JFYWNoKHZhbHVlLCBmdW5jdGlvbihhcnJheVZhbHVlKSB7XG4gICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5LCB0cnVlKSArXG4gICAgICAgICAgICAgICAgICAgKGFycmF5VmFsdWUgPT09IHRydWUgPyAnJyA6ICc9JyArIGVuY29kZVVyaVF1ZXJ5KGFycmF5VmFsdWUsIHRydWUpKSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5LCB0cnVlKSArXG4gICAgICAgICAgICAgICAodmFsdWUgPT09IHRydWUgPyAnJyA6ICc9JyArIGVuY29kZVVyaVF1ZXJ5KHZhbHVlLCB0cnVlKSkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBwYXJ0cy5sZW5ndGggPyBwYXJ0cy5qb2luKCcmJykgOiAnJztcbn1cblxuXG4vKipcbiAqIFdlIG5lZWQgb3VyIGN1c3RvbSBtZXRob2QgYmVjYXVzZSBlbmNvZGVVUklDb21wb25lbnQgaXMgdG9vIGFnZ3Jlc3NpdmUgYW5kIGRvZXNuJ3QgZm9sbG93XG4gKiBodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmMzOTg2LnR4dCB3aXRoIHJlZ2FyZHMgdG8gdGhlIGNoYXJhY3RlciBzZXQgKHBjaGFyKSBhbGxvd2VkIGluIHBhdGhcbiAqIHNlZ21lbnRzOlxuICogICAgc2VnbWVudCAgICAgICA9ICpwY2hhclxuICogICAgcGNoYXIgICAgICAgICA9IHVucmVzZXJ2ZWQgLyBwY3QtZW5jb2RlZCAvIHN1Yi1kZWxpbXMgLyBcIjpcIiAvIFwiQFwiXG4gKiAgICBwY3QtZW5jb2RlZCAgID0gXCIlXCIgSEVYRElHIEhFWERJR1xuICogICAgdW5yZXNlcnZlZCAgICA9IEFMUEhBIC8gRElHSVQgLyBcIi1cIiAvIFwiLlwiIC8gXCJfXCIgLyBcIn5cIlxuICogICAgc3ViLWRlbGltcyAgICA9IFwiIVwiIC8gXCIkXCIgLyBcIiZcIiAvIFwiJ1wiIC8gXCIoXCIgLyBcIilcIlxuICogICAgICAgICAgICAgICAgICAgICAvIFwiKlwiIC8gXCIrXCIgLyBcIixcIiAvIFwiO1wiIC8gXCI9XCJcbiAqL1xuZnVuY3Rpb24gZW5jb2RlVXJpU2VnbWVudCh2YWwpIHtcbiAgcmV0dXJuIGVuY29kZVVyaVF1ZXJ5KHZhbCwgdHJ1ZSkuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTI2L2dpLCAnJicpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUzRC9naSwgJz0nKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lMkIvZ2ksICcrJyk7XG59XG5cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZW5jb2RpbmcgKmtleSogb3IgKnZhbHVlKiBwYXJ0cyBvZiBxdWVyeSBjb21wb25lbnQuIFdlIG5lZWQgYSBjdXN0b21cbiAqIG1ldGhvZCBiZWNhdXNlIGVuY29kZVVSSUNvbXBvbmVudCBpcyB0b28gYWdncmVzc2l2ZSBhbmQgZW5jb2RlcyBzdHVmZiB0aGF0IGRvZXNuJ3QgaGF2ZSB0byBiZVxuICogZW5jb2RlZCBwZXIgaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NjpcbiAqICAgIHF1ZXJ5ICAgICAgID0gKiggcGNoYXIgLyBcIi9cIiAvIFwiP1wiIClcbiAqICAgIHBjaGFyICAgICAgICAgPSB1bnJlc2VydmVkIC8gcGN0LWVuY29kZWQgLyBzdWItZGVsaW1zIC8gXCI6XCIgLyBcIkBcIlxuICogICAgdW5yZXNlcnZlZCAgICA9IEFMUEhBIC8gRElHSVQgLyBcIi1cIiAvIFwiLlwiIC8gXCJfXCIgLyBcIn5cIlxuICogICAgcGN0LWVuY29kZWQgICA9IFwiJVwiIEhFWERJRyBIRVhESUdcbiAqICAgIHN1Yi1kZWxpbXMgICAgPSBcIiFcIiAvIFwiJFwiIC8gXCImXCIgLyBcIidcIiAvIFwiKFwiIC8gXCIpXCJcbiAqICAgICAgICAgICAgICAgICAgICAgLyBcIipcIiAvIFwiK1wiIC8gXCIsXCIgLyBcIjtcIiAvIFwiPVwiXG4gKi9cbmZ1bmN0aW9uIGVuY29kZVVyaVF1ZXJ5KHZhbCwgcGN0RW5jb2RlU3BhY2VzKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lNDAvZ2ksICdAJykuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTNBL2dpLCAnOicpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyNC9nLCAnJCcpLlxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyQy9naSwgJywnKS5cbiAgICAgICAgICAgICByZXBsYWNlKC8lM0IvZ2ksICc7JykuXG4gICAgICAgICAgICAgcmVwbGFjZSgvJTIwL2csIChwY3RFbmNvZGVTcGFjZXMgPyAnJTIwJyA6ICcrJykpO1xufVxuXG52YXIgbmdBdHRyUHJlZml4ZXMgPSBbJ25nLScsICdkYXRhLW5nLScsICduZzonLCAneC1uZy0nXTtcblxuZnVuY3Rpb24gZ2V0TmdBdHRyaWJ1dGUoZWxlbWVudCwgbmdBdHRyKSB7XG4gIHZhciBhdHRyLCBpLCBpaSA9IG5nQXR0clByZWZpeGVzLmxlbmd0aDtcbiAgZm9yIChpID0gMDsgaSA8IGlpOyArK2kpIHtcbiAgICBhdHRyID0gbmdBdHRyUHJlZml4ZXNbaV0gKyBuZ0F0dHI7XG4gICAgaWYgKGlzU3RyaW5nKGF0dHIgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyKSkpIHtcbiAgICAgIHJldHVybiBhdHRyO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0FwcFxuICogQG1vZHVsZSBuZ1xuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHthbmd1bGFyLk1vZHVsZX0gbmdBcHAgYW4gb3B0aW9uYWwgYXBwbGljYXRpb25cbiAqICAge0BsaW5rIGFuZ3VsYXIubW9kdWxlIG1vZHVsZX0gbmFtZSB0byBsb2FkLlxuICogQHBhcmFtIHtib29sZWFuPX0gbmdTdHJpY3REaSBpZiB0aGlzIGF0dHJpYnV0ZSBpcyBwcmVzZW50IG9uIHRoZSBhcHAgZWxlbWVudCwgdGhlIGluamVjdG9yIHdpbGwgYmVcbiAqICAgY3JlYXRlZCBpbiBcInN0cmljdC1kaVwiIG1vZGUuIFRoaXMgbWVhbnMgdGhhdCB0aGUgYXBwbGljYXRpb24gd2lsbCBmYWlsIHRvIGludm9rZSBmdW5jdGlvbnMgd2hpY2hcbiAqICAgZG8gbm90IHVzZSBleHBsaWNpdCBmdW5jdGlvbiBhbm5vdGF0aW9uIChhbmQgYXJlIHRodXMgdW5zdWl0YWJsZSBmb3IgbWluaWZpY2F0aW9uKSwgYXMgZGVzY3JpYmVkXG4gKiAgIGluIHtAbGluayBndWlkZS9kaSB0aGUgRGVwZW5kZW5jeSBJbmplY3Rpb24gZ3VpZGV9LCBhbmQgdXNlZnVsIGRlYnVnZ2luZyBpbmZvIHdpbGwgYXNzaXN0IGluXG4gKiAgIHRyYWNraW5nIGRvd24gdGhlIHJvb3Qgb2YgdGhlc2UgYnVncy5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBVc2UgdGhpcyBkaXJlY3RpdmUgdG8gKiphdXRvLWJvb3RzdHJhcCoqIGFuIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbi4gVGhlIGBuZ0FwcGAgZGlyZWN0aXZlXG4gKiBkZXNpZ25hdGVzIHRoZSAqKnJvb3QgZWxlbWVudCoqIG9mIHRoZSBhcHBsaWNhdGlvbiBhbmQgaXMgdHlwaWNhbGx5IHBsYWNlZCBuZWFyIHRoZSByb290IGVsZW1lbnRcbiAqIG9mIHRoZSBwYWdlIC0gZS5nLiBvbiB0aGUgYDxib2R5PmAgb3IgYDxodG1sPmAgdGFncy5cbiAqXG4gKiBPbmx5IG9uZSBBbmd1bGFySlMgYXBwbGljYXRpb24gY2FuIGJlIGF1dG8tYm9vdHN0cmFwcGVkIHBlciBIVE1MIGRvY3VtZW50LiBUaGUgZmlyc3QgYG5nQXBwYFxuICogZm91bmQgaW4gdGhlIGRvY3VtZW50IHdpbGwgYmUgdXNlZCB0byBkZWZpbmUgdGhlIHJvb3QgZWxlbWVudCB0byBhdXRvLWJvb3RzdHJhcCBhcyBhblxuICogYXBwbGljYXRpb24uIFRvIHJ1biBtdWx0aXBsZSBhcHBsaWNhdGlvbnMgaW4gYW4gSFRNTCBkb2N1bWVudCB5b3UgbXVzdCBtYW51YWxseSBib290c3RyYXAgdGhlbSB1c2luZ1xuICoge0BsaW5rIGFuZ3VsYXIuYm9vdHN0cmFwfSBpbnN0ZWFkLiBBbmd1bGFySlMgYXBwbGljYXRpb25zIGNhbm5vdCBiZSBuZXN0ZWQgd2l0aGluIGVhY2ggb3RoZXIuXG4gKlxuICogWW91IGNhbiBzcGVjaWZ5IGFuICoqQW5ndWxhckpTIG1vZHVsZSoqIHRvIGJlIHVzZWQgYXMgdGhlIHJvb3QgbW9kdWxlIGZvciB0aGUgYXBwbGljYXRpb24uICBUaGlzXG4gKiBtb2R1bGUgd2lsbCBiZSBsb2FkZWQgaW50byB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yfSB3aGVuIHRoZSBhcHBsaWNhdGlvbiBpcyBib290c3RyYXBwZWQuIEl0XG4gKiBzaG91bGQgY29udGFpbiB0aGUgYXBwbGljYXRpb24gY29kZSBuZWVkZWQgb3IgaGF2ZSBkZXBlbmRlbmNpZXMgb24gb3RoZXIgbW9kdWxlcyB0aGF0IHdpbGxcbiAqIGNvbnRhaW4gdGhlIGNvZGUuIFNlZSB7QGxpbmsgYW5ndWxhci5tb2R1bGV9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICpcbiAqIEluIHRoZSBleGFtcGxlIGJlbG93IGlmIHRoZSBgbmdBcHBgIGRpcmVjdGl2ZSB3ZXJlIG5vdCBwbGFjZWQgb24gdGhlIGBodG1sYCBlbGVtZW50IHRoZW4gdGhlXG4gKiBkb2N1bWVudCB3b3VsZCBub3QgYmUgY29tcGlsZWQsIHRoZSBgQXBwQ29udHJvbGxlcmAgd291bGQgbm90IGJlIGluc3RhbnRpYXRlZCBhbmQgdGhlIGB7eyBhK2IgfX1gXG4gKiB3b3VsZCBub3QgYmUgcmVzb2x2ZWQgdG8gYDNgLlxuICpcbiAqIGBuZ0FwcGAgaXMgdGhlIGVhc2llc3QsIGFuZCBtb3N0IGNvbW1vbiB3YXkgdG8gYm9vdHN0cmFwIGFuIGFwcGxpY2F0aW9uLlxuICpcbiA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FwcERlbW9cIj5cbiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJuZ0FwcERlbW9Db250cm9sbGVyXCI+XG4gICAgIEkgY2FuIGFkZDoge3thfX0gKyB7e2J9fSA9ICB7eyBhK2IgfX1cbiAgIDwvZGl2PlxuICAgPC9maWxlPlxuICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgYW5ndWxhci5tb2R1bGUoJ25nQXBwRGVtbycsIFtdKS5jb250cm9sbGVyKCduZ0FwcERlbW9Db250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICRzY29wZS5hID0gMTtcbiAgICAgJHNjb3BlLmIgPSAyO1xuICAgfSk7XG4gICA8L2ZpbGU+XG4gPC9leGFtcGxlPlxuICpcbiAqIFVzaW5nIGBuZ1N0cmljdERpYCwgeW91IHdvdWxkIHNlZSBzb21ldGhpbmcgbGlrZSB0aGlzOlxuICpcbiA8ZXhhbXBsZSBuZy1hcHAtaW5jbHVkZWQ9XCJ0cnVlXCI+XG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgPGRpdiBuZy1hcHA9XCJuZ0FwcFN0cmljdERlbW9cIiBuZy1zdHJpY3QtZGk+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiR29vZENvbnRyb2xsZXIxXCI+XG4gICAgICAgICAgIEkgY2FuIGFkZDoge3thfX0gKyB7e2J9fSA9ICB7eyBhK2IgfX1cblxuICAgICAgICAgICA8cD5UaGlzIHJlbmRlcnMgYmVjYXVzZSB0aGUgY29udHJvbGxlciBkb2VzIG5vdCBmYWlsIHRvXG4gICAgICAgICAgICAgIGluc3RhbnRpYXRlLCBieSB1c2luZyBleHBsaWNpdCBhbm5vdGF0aW9uIHN0eWxlIChzZWVcbiAgICAgICAgICAgICAgc2NyaXB0LmpzIGZvciBkZXRhaWxzKVxuICAgICAgICAgICA8L3A+XG4gICAgICAgPC9kaXY+XG5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJHb29kQ29udHJvbGxlcjJcIj5cbiAgICAgICAgICAgTmFtZTogPGlucHV0IG5nLW1vZGVsPVwibmFtZVwiPjxiciAvPlxuICAgICAgICAgICBIZWxsbywge3tuYW1lfX0hXG5cbiAgICAgICAgICAgPHA+VGhpcyByZW5kZXJzIGJlY2F1c2UgdGhlIGNvbnRyb2xsZXIgZG9lcyBub3QgZmFpbCB0b1xuICAgICAgICAgICAgICBpbnN0YW50aWF0ZSwgYnkgdXNpbmcgZXhwbGljaXQgYW5ub3RhdGlvbiBzdHlsZVxuICAgICAgICAgICAgICAoc2VlIHNjcmlwdC5qcyBmb3IgZGV0YWlscylcbiAgICAgICAgICAgPC9wPlxuICAgICAgIDwvZGl2PlxuXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiQmFkQ29udHJvbGxlclwiPlxuICAgICAgICAgICBJIGNhbiBhZGQ6IHt7YX19ICsge3tifX0gPSAge3sgYStiIH19XG5cbiAgICAgICAgICAgPHA+VGhlIGNvbnRyb2xsZXIgY291bGQgbm90IGJlIGluc3RhbnRpYXRlZCwgZHVlIHRvIHJlbHlpbmdcbiAgICAgICAgICAgICAgb24gYXV0b21hdGljIGZ1bmN0aW9uIGFubm90YXRpb25zICh3aGljaCBhcmUgZGlzYWJsZWQgaW5cbiAgICAgICAgICAgICAgc3RyaWN0IG1vZGUpLiBBcyBzdWNoLCB0aGUgY29udGVudCBvZiB0aGlzIHNlY3Rpb24gaXMgbm90XG4gICAgICAgICAgICAgIGludGVycG9sYXRlZCwgYW5kIHRoZXJlIHNob3VsZCBiZSBhbiBlcnJvciBpbiB5b3VyIHdlYiBjb25zb2xlLlxuICAgICAgICAgICA8L3A+XG4gICAgICAgPC9kaXY+XG4gICA8L2Rpdj5cbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgIGFuZ3VsYXIubW9kdWxlKCduZ0FwcFN0cmljdERlbW8nLCBbXSlcbiAgICAgLy8gQmFkQ29udHJvbGxlciB3aWxsIGZhaWwgdG8gaW5zdGFudGlhdGUsIGR1ZSB0byByZWx5aW5nIG9uIGF1dG9tYXRpYyBmdW5jdGlvbiBhbm5vdGF0aW9uLFxuICAgICAvLyByYXRoZXIgdGhhbiBhbiBleHBsaWNpdCBhbm5vdGF0aW9uXG4gICAgIC5jb250cm9sbGVyKCdCYWRDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgJHNjb3BlLmEgPSAxO1xuICAgICAgICRzY29wZS5iID0gMjtcbiAgICAgfSlcbiAgICAgLy8gVW5saWtlIEJhZENvbnRyb2xsZXIsIEdvb2RDb250cm9sbGVyMSBhbmQgR29vZENvbnRyb2xsZXIyIHdpbGwgbm90IGZhaWwgdG8gYmUgaW5zdGFudGlhdGVkLFxuICAgICAvLyBkdWUgdG8gdXNpbmcgZXhwbGljaXQgYW5ub3RhdGlvbnMgdXNpbmcgdGhlIGFycmF5IHN0eWxlIGFuZCAkaW5qZWN0IHByb3BlcnR5LCByZXNwZWN0aXZlbHkuXG4gICAgIC5jb250cm9sbGVyKCdHb29kQ29udHJvbGxlcjEnLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICRzY29wZS5hID0gMTtcbiAgICAgICAkc2NvcGUuYiA9IDI7XG4gICAgIH1dKVxuICAgICAuY29udHJvbGxlcignR29vZENvbnRyb2xsZXIyJywgR29vZENvbnRyb2xsZXIyKTtcbiAgICAgZnVuY3Rpb24gR29vZENvbnRyb2xsZXIyKCRzY29wZSkge1xuICAgICAgICRzY29wZS5uYW1lID0gXCJXb3JsZFwiO1xuICAgICB9XG4gICAgIEdvb2RDb250cm9sbGVyMi4kaW5qZWN0ID0gWyckc2NvcGUnXTtcbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgIGRpdltuZy1jb250cm9sbGVyXSB7XG4gICAgICAgbWFyZ2luLWJvdHRvbTogMWVtO1xuICAgICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICBib3JkZXI6IDFweCBzb2xpZDtcbiAgICAgICBwYWRkaW5nOiAuNWVtO1xuICAgfVxuICAgZGl2W25nLWNvbnRyb2xsZXJePUdvb2RdIHtcbiAgICAgICBib3JkZXItY29sb3I6ICNkNmU5YzY7XG4gICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2RmZjBkODtcbiAgICAgICBjb2xvcjogIzNjNzYzZDtcbiAgIH1cbiAgIGRpdltuZy1jb250cm9sbGVyXj1CYWRdIHtcbiAgICAgICBib3JkZXItY29sb3I6ICNlYmNjZDE7XG4gICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YyZGVkZTtcbiAgICAgICBjb2xvcjogI2E5NDQ0MjtcbiAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgfVxuICAgPC9maWxlPlxuIDwvZXhhbXBsZT5cbiAqL1xuZnVuY3Rpb24gYW5ndWxhckluaXQoZWxlbWVudCwgYm9vdHN0cmFwKSB7XG4gIHZhciBhcHBFbGVtZW50LFxuICAgICAgbW9kdWxlLFxuICAgICAgY29uZmlnID0ge307XG5cbiAgLy8gVGhlIGVsZW1lbnQgYGVsZW1lbnRgIGhhcyBwcmlvcml0eSBvdmVyIGFueSBvdGhlciBlbGVtZW50XG4gIGZvckVhY2gobmdBdHRyUHJlZml4ZXMsIGZ1bmN0aW9uKHByZWZpeCkge1xuICAgIHZhciBuYW1lID0gcHJlZml4ICsgJ2FwcCc7XG5cbiAgICBpZiAoIWFwcEVsZW1lbnQgJiYgZWxlbWVudC5oYXNBdHRyaWJ1dGUgJiYgZWxlbWVudC5oYXNBdHRyaWJ1dGUobmFtZSkpIHtcbiAgICAgIGFwcEVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgbW9kdWxlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgfVxuICB9KTtcbiAgZm9yRWFjaChuZ0F0dHJQcmVmaXhlcywgZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgdmFyIG5hbWUgPSBwcmVmaXggKyAnYXBwJztcbiAgICB2YXIgY2FuZGlkYXRlO1xuXG4gICAgaWYgKCFhcHBFbGVtZW50ICYmIChjYW5kaWRhdGUgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1snICsgbmFtZS5yZXBsYWNlKCc6JywgJ1xcXFw6JykgKyAnXScpKSkge1xuICAgICAgYXBwRWxlbWVudCA9IGNhbmRpZGF0ZTtcbiAgICAgIG1vZHVsZSA9IGNhbmRpZGF0ZS5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgfVxuICB9KTtcbiAgaWYgKGFwcEVsZW1lbnQpIHtcbiAgICBjb25maWcuc3RyaWN0RGkgPSBnZXROZ0F0dHJpYnV0ZShhcHBFbGVtZW50LCBcInN0cmljdC1kaVwiKSAhPT0gbnVsbDtcbiAgICBib290c3RyYXAoYXBwRWxlbWVudCwgbW9kdWxlID8gW21vZHVsZV0gOiBbXSwgY29uZmlnKTtcbiAgfVxufVxuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG5hbWUgYW5ndWxhci5ib290c3RyYXBcbiAqIEBtb2R1bGUgbmdcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIHRoaXMgZnVuY3Rpb24gdG8gbWFudWFsbHkgc3RhcnQgdXAgYW5ndWxhciBhcHBsaWNhdGlvbi5cbiAqXG4gKiBTZWU6IHtAbGluayBndWlkZS9ib290c3RyYXAgQm9vdHN0cmFwfVxuICpcbiAqIE5vdGUgdGhhdCBQcm90cmFjdG9yIGJhc2VkIGVuZC10by1lbmQgdGVzdHMgY2Fubm90IHVzZSB0aGlzIGZ1bmN0aW9uIHRvIGJvb3RzdHJhcCBtYW51YWxseS5cbiAqIFRoZXkgbXVzdCB1c2Uge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0FwcCBuZ0FwcH0uXG4gKlxuICogQW5ndWxhciB3aWxsIGRldGVjdCBpZiBpdCBoYXMgYmVlbiBsb2FkZWQgaW50byB0aGUgYnJvd3NlciBtb3JlIHRoYW4gb25jZSBhbmQgb25seSBhbGxvdyB0aGVcbiAqIGZpcnN0IGxvYWRlZCBzY3JpcHQgdG8gYmUgYm9vdHN0cmFwcGVkIGFuZCB3aWxsIHJlcG9ydCBhIHdhcm5pbmcgdG8gdGhlIGJyb3dzZXIgY29uc29sZSBmb3JcbiAqIGVhY2ggb2YgdGhlIHN1YnNlcXVlbnQgc2NyaXB0cy4gVGhpcyBwcmV2ZW50cyBzdHJhbmdlIHJlc3VsdHMgaW4gYXBwbGljYXRpb25zLCB3aGVyZSBvdGhlcndpc2VcbiAqIG11bHRpcGxlIGluc3RhbmNlcyBvZiBBbmd1bGFyIHRyeSB0byB3b3JrIG9uIHRoZSBET00uXG4gKlxuICogYGBgaHRtbFxuICogPCFkb2N0eXBlIGh0bWw+XG4gKiA8aHRtbD5cbiAqIDxib2R5PlxuICogPGRpdiBuZy1jb250cm9sbGVyPVwiV2VsY29tZUNvbnRyb2xsZXJcIj5cbiAqICAge3tncmVldGluZ319XG4gKiA8L2Rpdj5cbiAqXG4gKiA8c2NyaXB0IHNyYz1cImFuZ3VsYXIuanNcIj48L3NjcmlwdD5cbiAqIDxzY3JpcHQ+XG4gKiAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnZGVtbycsIFtdKVxuICogICAuY29udHJvbGxlcignV2VsY29tZUNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAqICAgICAgICRzY29wZS5ncmVldGluZyA9ICdXZWxjb21lISc7XG4gKiAgIH0pO1xuICogICBhbmd1bGFyLmJvb3RzdHJhcChkb2N1bWVudCwgWydkZW1vJ10pO1xuICogPC9zY3JpcHQ+XG4gKiA8L2JvZHk+XG4gKiA8L2h0bWw+XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgRE9NIGVsZW1lbnQgd2hpY2ggaXMgdGhlIHJvb3Qgb2YgYW5ndWxhciBhcHBsaWNhdGlvbi5cbiAqIEBwYXJhbSB7QXJyYXk8U3RyaW5nfEZ1bmN0aW9ufEFycmF5Pj19IG1vZHVsZXMgYW4gYXJyYXkgb2YgbW9kdWxlcyB0byBsb2FkIGludG8gdGhlIGFwcGxpY2F0aW9uLlxuICogICAgIEVhY2ggaXRlbSBpbiB0aGUgYXJyYXkgc2hvdWxkIGJlIHRoZSBuYW1lIG9mIGEgcHJlZGVmaW5lZCBtb2R1bGUgb3IgYSAoREkgYW5ub3RhdGVkKVxuICogICAgIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBpbnZva2VkIGJ5IHRoZSBpbmplY3RvciBhcyBhIGBjb25maWdgIGJsb2NrLlxuICogICAgIFNlZToge0BsaW5rIGFuZ3VsYXIubW9kdWxlIG1vZHVsZXN9XG4gKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBhbiBvYmplY3QgZm9yIGRlZmluaW5nIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIGFwcGxpY2F0aW9uLiBUaGVcbiAqICAgICBmb2xsb3dpbmcga2V5cyBhcmUgc3VwcG9ydGVkOlxuICpcbiAqICogYHN0cmljdERpYCAtIGRpc2FibGUgYXV0b21hdGljIGZ1bmN0aW9uIGFubm90YXRpb24gZm9yIHRoZSBhcHBsaWNhdGlvbi4gVGhpcyBpcyBtZWFudCB0b1xuICogICBhc3Npc3QgaW4gZmluZGluZyBidWdzIHdoaWNoIGJyZWFrIG1pbmlmaWVkIGNvZGUuIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gKlxuICogQHJldHVybnMge2F1dG8uJGluamVjdG9yfSBSZXR1cm5zIHRoZSBuZXdseSBjcmVhdGVkIGluamVjdG9yIGZvciB0aGlzIGFwcC5cbiAqL1xuZnVuY3Rpb24gYm9vdHN0cmFwKGVsZW1lbnQsIG1vZHVsZXMsIGNvbmZpZykge1xuICBpZiAoIWlzT2JqZWN0KGNvbmZpZykpIGNvbmZpZyA9IHt9O1xuICB2YXIgZGVmYXVsdENvbmZpZyA9IHtcbiAgICBzdHJpY3REaTogZmFsc2VcbiAgfTtcbiAgY29uZmlnID0gZXh0ZW5kKGRlZmF1bHRDb25maWcsIGNvbmZpZyk7XG4gIHZhciBkb0Jvb3RzdHJhcCA9IGZ1bmN0aW9uKCkge1xuICAgIGVsZW1lbnQgPSBqcUxpdGUoZWxlbWVudCk7XG5cbiAgICBpZiAoZWxlbWVudC5pbmplY3RvcigpKSB7XG4gICAgICB2YXIgdGFnID0gKGVsZW1lbnRbMF0gPT09IGRvY3VtZW50KSA/ICdkb2N1bWVudCcgOiBzdGFydGluZ1RhZyhlbGVtZW50KTtcbiAgICAgIC8vRW5jb2RlIGFuZ2xlIGJyYWNrZXRzIHRvIHByZXZlbnQgaW5wdXQgZnJvbSBiZWluZyBzYW5pdGl6ZWQgdG8gZW1wdHkgc3RyaW5nICM4NjgzXG4gICAgICB0aHJvdyBuZ01pbkVycihcbiAgICAgICAgICAnYnRzdHJwZCcsXG4gICAgICAgICAgXCJBcHAgQWxyZWFkeSBCb290c3RyYXBwZWQgd2l0aCB0aGlzIEVsZW1lbnQgJ3swfSdcIixcbiAgICAgICAgICB0YWcucmVwbGFjZSgvPC8sJyZsdDsnKS5yZXBsYWNlKC8+LywnJmd0OycpKTtcbiAgICB9XG5cbiAgICBtb2R1bGVzID0gbW9kdWxlcyB8fCBbXTtcbiAgICBtb2R1bGVzLnVuc2hpZnQoWyckcHJvdmlkZScsIGZ1bmN0aW9uKCRwcm92aWRlKSB7XG4gICAgICAkcHJvdmlkZS52YWx1ZSgnJHJvb3RFbGVtZW50JywgZWxlbWVudCk7XG4gICAgfV0pO1xuXG4gICAgaWYgKGNvbmZpZy5kZWJ1Z0luZm9FbmFibGVkKSB7XG4gICAgICAvLyBQdXNoaW5nIHNvIHRoYXQgdGhpcyBvdmVycmlkZXMgYGRlYnVnSW5mb0VuYWJsZWRgIHNldHRpbmcgZGVmaW5lZCBpbiB1c2VyJ3MgYG1vZHVsZXNgLlxuICAgICAgbW9kdWxlcy5wdXNoKFsnJGNvbXBpbGVQcm92aWRlcicsIGZ1bmN0aW9uKCRjb21waWxlUHJvdmlkZXIpIHtcbiAgICAgICAgJGNvbXBpbGVQcm92aWRlci5kZWJ1Z0luZm9FbmFibGVkKHRydWUpO1xuICAgICAgfV0pO1xuICAgIH1cblxuICAgIG1vZHVsZXMudW5zaGlmdCgnbmcnKTtcbiAgICB2YXIgaW5qZWN0b3IgPSBjcmVhdGVJbmplY3Rvcihtb2R1bGVzLCBjb25maWcuc3RyaWN0RGkpO1xuICAgIGluamVjdG9yLmludm9rZShbJyRyb290U2NvcGUnLCAnJHJvb3RFbGVtZW50JywgJyRjb21waWxlJywgJyRpbmplY3RvcicsXG4gICAgICAgZnVuY3Rpb24gYm9vdHN0cmFwQXBwbHkoc2NvcGUsIGVsZW1lbnQsIGNvbXBpbGUsIGluamVjdG9yKSB7XG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50LmRhdGEoJyRpbmplY3RvcicsIGluamVjdG9yKTtcbiAgICAgICAgICBjb21waWxlKGVsZW1lbnQpKHNjb3BlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XVxuICAgICk7XG4gICAgcmV0dXJuIGluamVjdG9yO1xuICB9O1xuXG4gIHZhciBOR19FTkFCTEVfREVCVUdfSU5GTyA9IC9eTkdfRU5BQkxFX0RFQlVHX0lORk8hLztcbiAgdmFyIE5HX0RFRkVSX0JPT1RTVFJBUCA9IC9eTkdfREVGRVJfQk9PVFNUUkFQIS87XG5cbiAgaWYgKHdpbmRvdyAmJiBOR19FTkFCTEVfREVCVUdfSU5GTy50ZXN0KHdpbmRvdy5uYW1lKSkge1xuICAgIGNvbmZpZy5kZWJ1Z0luZm9FbmFibGVkID0gdHJ1ZTtcbiAgICB3aW5kb3cubmFtZSA9IHdpbmRvdy5uYW1lLnJlcGxhY2UoTkdfRU5BQkxFX0RFQlVHX0lORk8sICcnKTtcbiAgfVxuXG4gIGlmICh3aW5kb3cgJiYgIU5HX0RFRkVSX0JPT1RTVFJBUC50ZXN0KHdpbmRvdy5uYW1lKSkge1xuICAgIHJldHVybiBkb0Jvb3RzdHJhcCgpO1xuICB9XG5cbiAgd2luZG93Lm5hbWUgPSB3aW5kb3cubmFtZS5yZXBsYWNlKE5HX0RFRkVSX0JPT1RTVFJBUCwgJycpO1xuICBhbmd1bGFyLnJlc3VtZUJvb3RzdHJhcCA9IGZ1bmN0aW9uKGV4dHJhTW9kdWxlcykge1xuICAgIGZvckVhY2goZXh0cmFNb2R1bGVzLCBmdW5jdGlvbihtb2R1bGUpIHtcbiAgICAgIG1vZHVsZXMucHVzaChtb2R1bGUpO1xuICAgIH0pO1xuICAgIHJldHVybiBkb0Jvb3RzdHJhcCgpO1xuICB9O1xuXG4gIGlmIChpc0Z1bmN0aW9uKGFuZ3VsYXIucmVzdW1lRGVmZXJyZWRCb290c3RyYXApKSB7XG4gICAgYW5ndWxhci5yZXN1bWVEZWZlcnJlZEJvb3RzdHJhcCgpO1xuICB9XG59XG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLnJlbG9hZFdpdGhEZWJ1Z0luZm9cbiAqIEBtb2R1bGUgbmdcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIHRoaXMgZnVuY3Rpb24gdG8gcmVsb2FkIHRoZSBjdXJyZW50IGFwcGxpY2F0aW9uIHdpdGggZGVidWcgaW5mb3JtYXRpb24gdHVybmVkIG9uLlxuICogVGhpcyB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYSBjYWxsIHRvIGAkY29tcGlsZVByb3ZpZGVyLmRlYnVnSW5mb0VuYWJsZWQoZmFsc2UpYC5cbiAqXG4gKiBTZWUge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjZGVidWdJbmZvRW5hYmxlZH0gZm9yIG1vcmUuXG4gKi9cbmZ1bmN0aW9uIHJlbG9hZFdpdGhEZWJ1Z0luZm8oKSB7XG4gIHdpbmRvdy5uYW1lID0gJ05HX0VOQUJMRV9ERUJVR19JTkZPIScgKyB3aW5kb3cubmFtZTtcbiAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xufVxuXG4vKipcbiAqIEBuYW1lIGFuZ3VsYXIuZ2V0VGVzdGFiaWxpdHlcbiAqIEBtb2R1bGUgbmdcbiAqIEBkZXNjcmlwdGlvblxuICogR2V0IHRoZSB0ZXN0YWJpbGl0eSBzZXJ2aWNlIGZvciB0aGUgaW5zdGFuY2Ugb2YgQW5ndWxhciBvbiB0aGUgZ2l2ZW5cbiAqIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgRE9NIGVsZW1lbnQgd2hpY2ggaXMgdGhlIHJvb3Qgb2YgYW5ndWxhciBhcHBsaWNhdGlvbi5cbiAqL1xuZnVuY3Rpb24gZ2V0VGVzdGFiaWxpdHkocm9vdEVsZW1lbnQpIHtcbiAgdmFyIGluamVjdG9yID0gYW5ndWxhci5lbGVtZW50KHJvb3RFbGVtZW50KS5pbmplY3RvcigpO1xuICBpZiAoIWluamVjdG9yKSB7XG4gICAgdGhyb3cgbmdNaW5FcnIoJ3Rlc3QnLFxuICAgICAgJ25vIGluamVjdG9yIGZvdW5kIGZvciBlbGVtZW50IGFyZ3VtZW50IHRvIGdldFRlc3RhYmlsaXR5Jyk7XG4gIH1cbiAgcmV0dXJuIGluamVjdG9yLmdldCgnJCR0ZXN0YWJpbGl0eScpO1xufVxuXG52YXIgU05BS0VfQ0FTRV9SRUdFWFAgPSAvW0EtWl0vZztcbmZ1bmN0aW9uIHNuYWtlX2Nhc2UobmFtZSwgc2VwYXJhdG9yKSB7XG4gIHNlcGFyYXRvciA9IHNlcGFyYXRvciB8fCAnXyc7XG4gIHJldHVybiBuYW1lLnJlcGxhY2UoU05BS0VfQ0FTRV9SRUdFWFAsIGZ1bmN0aW9uKGxldHRlciwgcG9zKSB7XG4gICAgcmV0dXJuIChwb3MgPyBzZXBhcmF0b3IgOiAnJykgKyBsZXR0ZXIudG9Mb3dlckNhc2UoKTtcbiAgfSk7XG59XG5cbnZhciBiaW5kSlF1ZXJ5RmlyZWQgPSBmYWxzZTtcbnZhciBza2lwRGVzdHJveU9uTmV4dEpRdWVyeUNsZWFuRGF0YTtcbmZ1bmN0aW9uIGJpbmRKUXVlcnkoKSB7XG4gIHZhciBvcmlnaW5hbENsZWFuRGF0YTtcblxuICBpZiAoYmluZEpRdWVyeUZpcmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gYmluZCB0byBqUXVlcnkgaWYgcHJlc2VudDtcbiAgdmFyIGpxTmFtZSA9IGpxKCk7XG4gIGpRdWVyeSA9IHdpbmRvdy5qUXVlcnk7IC8vIHVzZSBkZWZhdWx0IGpRdWVyeS5cbiAgaWYgKGlzRGVmaW5lZChqcU5hbWUpKSB7IC8vIGBuZ0pxYCBwcmVzZW50XG4gICAgalF1ZXJ5ID0ganFOYW1lID09PSBudWxsID8gdW5kZWZpbmVkIDogd2luZG93W2pxTmFtZV07IC8vIGlmIGVtcHR5OyB1c2UganFMaXRlLiBpZiBub3QgZW1wdHksIHVzZSBqUXVlcnkgc3BlY2lmaWVkIGJ5IGBuZ0pxYC5cbiAgfVxuXG4gIC8vIFVzZSBqUXVlcnkgaWYgaXQgZXhpc3RzIHdpdGggcHJvcGVyIGZ1bmN0aW9uYWxpdHksIG90aGVyd2lzZSBkZWZhdWx0IHRvIHVzLlxuICAvLyBBbmd1bGFyIDEuMisgcmVxdWlyZXMgalF1ZXJ5IDEuNysgZm9yIG9uKCkvb2ZmKCkgc3VwcG9ydC5cbiAgLy8gQW5ndWxhciAxLjMrIHRlY2huaWNhbGx5IHJlcXVpcmVzIGF0IGxlYXN0IGpRdWVyeSAyLjErIGJ1dCBpdCBtYXkgd29yayB3aXRoIG9sZGVyXG4gIC8vIHZlcnNpb25zLiBJdCB3aWxsIG5vdCB3b3JrIGZvciBzdXJlIHdpdGggalF1ZXJ5IDwxLjcsIHRob3VnaC5cbiAgaWYgKGpRdWVyeSAmJiBqUXVlcnkuZm4ub24pIHtcbiAgICBqcUxpdGUgPSBqUXVlcnk7XG4gICAgZXh0ZW5kKGpRdWVyeS5mbiwge1xuICAgICAgc2NvcGU6IEpRTGl0ZVByb3RvdHlwZS5zY29wZSxcbiAgICAgIGlzb2xhdGVTY29wZTogSlFMaXRlUHJvdG90eXBlLmlzb2xhdGVTY29wZSxcbiAgICAgIGNvbnRyb2xsZXI6IEpRTGl0ZVByb3RvdHlwZS5jb250cm9sbGVyLFxuICAgICAgaW5qZWN0b3I6IEpRTGl0ZVByb3RvdHlwZS5pbmplY3RvcixcbiAgICAgIGluaGVyaXRlZERhdGE6IEpRTGl0ZVByb3RvdHlwZS5pbmhlcml0ZWREYXRhXG4gICAgfSk7XG5cbiAgICAvLyBBbGwgbm9kZXMgcmVtb3ZlZCBmcm9tIHRoZSBET00gdmlhIHZhcmlvdXMgalF1ZXJ5IEFQSXMgbGlrZSAucmVtb3ZlKClcbiAgICAvLyBhcmUgcGFzc2VkIHRocm91Z2ggalF1ZXJ5LmNsZWFuRGF0YS4gTW9ua2V5LXBhdGNoIHRoaXMgbWV0aG9kIHRvIGZpcmVcbiAgICAvLyB0aGUgJGRlc3Ryb3kgZXZlbnQgb24gYWxsIHJlbW92ZWQgbm9kZXMuXG4gICAgb3JpZ2luYWxDbGVhbkRhdGEgPSBqUXVlcnkuY2xlYW5EYXRhO1xuICAgIGpRdWVyeS5jbGVhbkRhdGEgPSBmdW5jdGlvbihlbGVtcykge1xuICAgICAgdmFyIGV2ZW50cztcbiAgICAgIGlmICghc2tpcERlc3Ryb3lPbk5leHRKUXVlcnlDbGVhbkRhdGEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGVsZW07IChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKykge1xuICAgICAgICAgIGV2ZW50cyA9IGpRdWVyeS5fZGF0YShlbGVtLCBcImV2ZW50c1wiKTtcbiAgICAgICAgICBpZiAoZXZlbnRzICYmIGV2ZW50cy4kZGVzdHJveSkge1xuICAgICAgICAgICAgalF1ZXJ5KGVsZW0pLnRyaWdnZXJIYW5kbGVyKCckZGVzdHJveScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2tpcERlc3Ryb3lPbk5leHRKUXVlcnlDbGVhbkRhdGEgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIG9yaWdpbmFsQ2xlYW5EYXRhKGVsZW1zKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGpxTGl0ZSA9IEpRTGl0ZTtcbiAgfVxuXG4gIGFuZ3VsYXIuZWxlbWVudCA9IGpxTGl0ZTtcblxuICAvLyBQcmV2ZW50IGRvdWJsZS1wcm94eWluZy5cbiAgYmluZEpRdWVyeUZpcmVkID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiB0aHJvdyBlcnJvciBpZiB0aGUgYXJndW1lbnQgaXMgZmFsc3kuXG4gKi9cbmZ1bmN0aW9uIGFzc2VydEFyZyhhcmcsIG5hbWUsIHJlYXNvbikge1xuICBpZiAoIWFyZykge1xuICAgIHRocm93IG5nTWluRXJyKCdhcmVxJywgXCJBcmd1bWVudCAnezB9JyBpcyB7MX1cIiwgKG5hbWUgfHwgJz8nKSwgKHJlYXNvbiB8fCBcInJlcXVpcmVkXCIpKTtcbiAgfVxuICByZXR1cm4gYXJnO1xufVxuXG5mdW5jdGlvbiBhc3NlcnRBcmdGbihhcmcsIG5hbWUsIGFjY2VwdEFycmF5QW5ub3RhdGlvbikge1xuICBpZiAoYWNjZXB0QXJyYXlBbm5vdGF0aW9uICYmIGlzQXJyYXkoYXJnKSkge1xuICAgICAgYXJnID0gYXJnW2FyZy5sZW5ndGggLSAxXTtcbiAgfVxuXG4gIGFzc2VydEFyZyhpc0Z1bmN0aW9uKGFyZyksIG5hbWUsICdub3QgYSBmdW5jdGlvbiwgZ290ICcgK1xuICAgICAgKGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyA/IGFyZy5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdPYmplY3QnIDogdHlwZW9mIGFyZykpO1xuICByZXR1cm4gYXJnO1xufVxuXG4vKipcbiAqIHRocm93IGVycm9yIGlmIHRoZSBuYW1lIGdpdmVuIGlzIGhhc093blByb3BlcnR5XG4gKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWUgICAgdGhlIG5hbWUgdG8gdGVzdFxuICogQHBhcmFtICB7U3RyaW5nfSBjb250ZXh0IHRoZSBjb250ZXh0IGluIHdoaWNoIHRoZSBuYW1lIGlzIHVzZWQsIHN1Y2ggYXMgbW9kdWxlIG9yIGRpcmVjdGl2ZVxuICovXG5mdW5jdGlvbiBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCBjb250ZXh0KSB7XG4gIGlmIChuYW1lID09PSAnaGFzT3duUHJvcGVydHknKSB7XG4gICAgdGhyb3cgbmdNaW5FcnIoJ2JhZG5hbWUnLCBcImhhc093blByb3BlcnR5IGlzIG5vdCBhIHZhbGlkIHswfSBuYW1lXCIsIGNvbnRleHQpO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSB2YWx1ZSBhY2Nlc3NpYmxlIGZyb20gdGhlIG9iamVjdCBieSBwYXRoLiBBbnkgdW5kZWZpbmVkIHRyYXZlcnNhbHMgYXJlIGlnbm9yZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogc3RhcnRpbmcgb2JqZWN0XG4gKiBAcGFyYW0ge1N0cmluZ30gcGF0aCBwYXRoIHRvIHRyYXZlcnNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtiaW5kRm5Ub1Njb3BlPXRydWVdXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB2YWx1ZSBhcyBhY2Nlc3NpYmxlIGJ5IHBhdGhcbiAqL1xuLy9UT0RPKG1pc2tvKTogdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZW1vdmVkXG5mdW5jdGlvbiBnZXR0ZXIob2JqLCBwYXRoLCBiaW5kRm5Ub1Njb3BlKSB7XG4gIGlmICghcGF0aCkgcmV0dXJuIG9iajtcbiAgdmFyIGtleXMgPSBwYXRoLnNwbGl0KCcuJyk7XG4gIHZhciBrZXk7XG4gIHZhciBsYXN0SW5zdGFuY2UgPSBvYmo7XG4gIHZhciBsZW4gPSBrZXlzLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAga2V5ID0ga2V5c1tpXTtcbiAgICBpZiAob2JqKSB7XG4gICAgICBvYmogPSAobGFzdEluc3RhbmNlID0gb2JqKVtrZXldO1xuICAgIH1cbiAgfVxuICBpZiAoIWJpbmRGblRvU2NvcGUgJiYgaXNGdW5jdGlvbihvYmopKSB7XG4gICAgcmV0dXJuIGJpbmQobGFzdEluc3RhbmNlLCBvYmopO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBET00gc2libGluZ3MgYmV0d2VlbiB0aGUgZmlyc3QgYW5kIGxhc3Qgbm9kZSBpbiB0aGUgZ2l2ZW4gYXJyYXkuXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBsaWtlIG9iamVjdFxuICogQHJldHVybnMge2pxTGl0ZX0ganFMaXRlIGNvbGxlY3Rpb24gY29udGFpbmluZyB0aGUgbm9kZXNcbiAqL1xuZnVuY3Rpb24gZ2V0QmxvY2tOb2Rlcyhub2Rlcykge1xuICAvLyBUT0RPKHBlcmYpOiBqdXN0IGNoZWNrIGlmIGFsbCBpdGVtcyBpbiBgbm9kZXNgIGFyZSBzaWJsaW5ncyBhbmQgaWYgdGhleSBhcmUgcmV0dXJuIHRoZSBvcmlnaW5hbFxuICAvLyAgICAgICAgICAgICBjb2xsZWN0aW9uLCBvdGhlcndpc2UgdXBkYXRlIHRoZSBvcmlnaW5hbCBjb2xsZWN0aW9uLlxuICB2YXIgbm9kZSA9IG5vZGVzWzBdO1xuICB2YXIgZW5kTm9kZSA9IG5vZGVzW25vZGVzLmxlbmd0aCAtIDFdO1xuICB2YXIgYmxvY2tOb2RlcyA9IFtub2RlXTtcblxuICBkbyB7XG4gICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgaWYgKCFub2RlKSBicmVhaztcbiAgICBibG9ja05vZGVzLnB1c2gobm9kZSk7XG4gIH0gd2hpbGUgKG5vZGUgIT09IGVuZE5vZGUpO1xuXG4gIHJldHVybiBqcUxpdGUoYmxvY2tOb2Rlcyk7XG59XG5cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IG9iamVjdCB3aXRob3V0IGEgcHJvdG90eXBlLiBUaGlzIG9iamVjdCBpcyB1c2VmdWwgZm9yIGxvb2t1cCB3aXRob3V0IGhhdmluZyB0b1xuICogZ3VhcmQgYWdhaW5zdCBwcm90b3R5cGljYWxseSBpbmhlcml0ZWQgcHJvcGVydGllcyB2aWEgaGFzT3duUHJvcGVydHkuXG4gKlxuICogUmVsYXRlZCBtaWNyby1iZW5jaG1hcmtzOlxuICogLSBodHRwOi8vanNwZXJmLmNvbS9vYmplY3QtY3JlYXRlMlxuICogLSBodHRwOi8vanNwZXJmLmNvbS9wcm90by1tYXAtbG9va3VwLzJcbiAqIC0gaHR0cDovL2pzcGVyZi5jb20vZm9yLWluLXZzLW9iamVjdC1rZXlzMlxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZU1hcCgpIHtcbiAgcmV0dXJuIE9iamVjdC5jcmVhdGUobnVsbCk7XG59XG5cbnZhciBOT0RFX1RZUEVfRUxFTUVOVCA9IDE7XG52YXIgTk9ERV9UWVBFX0FUVFJJQlVURSA9IDI7XG52YXIgTk9ERV9UWVBFX1RFWFQgPSAzO1xudmFyIE5PREVfVFlQRV9DT01NRU5UID0gODtcbnZhciBOT0RFX1RZUEVfRE9DVU1FTlQgPSA5O1xudmFyIE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCA9IDExO1xuXG4vKipcbiAqIEBuZ2RvYyB0eXBlXG4gKiBAbmFtZSBhbmd1bGFyLk1vZHVsZVxuICogQG1vZHVsZSBuZ1xuICogQGRlc2NyaXB0aW9uXG4gKlxuICogSW50ZXJmYWNlIGZvciBjb25maWd1cmluZyBhbmd1bGFyIHtAbGluayBhbmd1bGFyLm1vZHVsZSBtb2R1bGVzfS5cbiAqL1xuXG5mdW5jdGlvbiBzZXR1cE1vZHVsZUxvYWRlcih3aW5kb3cpIHtcblxuICB2YXIgJGluamVjdG9yTWluRXJyID0gbWluRXJyKCckaW5qZWN0b3InKTtcbiAgdmFyIG5nTWluRXJyID0gbWluRXJyKCduZycpO1xuXG4gIGZ1bmN0aW9uIGVuc3VyZShvYmosIG5hbWUsIGZhY3RvcnkpIHtcbiAgICByZXR1cm4gb2JqW25hbWVdIHx8IChvYmpbbmFtZV0gPSBmYWN0b3J5KCkpO1xuICB9XG5cbiAgdmFyIGFuZ3VsYXIgPSBlbnN1cmUod2luZG93LCAnYW5ndWxhcicsIE9iamVjdCk7XG5cbiAgLy8gV2UgbmVlZCB0byBleHBvc2UgYGFuZ3VsYXIuJCRtaW5FcnJgIHRvIG1vZHVsZXMgc3VjaCBhcyBgbmdSZXNvdXJjZWAgdGhhdCByZWZlcmVuY2UgaXQgZHVyaW5nIGJvb3RzdHJhcFxuICBhbmd1bGFyLiQkbWluRXJyID0gYW5ndWxhci4kJG1pbkVyciB8fCBtaW5FcnI7XG5cbiAgcmV0dXJuIGVuc3VyZShhbmd1bGFyLCAnbW9kdWxlJywgZnVuY3Rpb24oKSB7XG4gICAgLyoqIEB0eXBlIHtPYmplY3QuPHN0cmluZywgYW5ndWxhci5Nb2R1bGU+fSAqL1xuICAgIHZhciBtb2R1bGVzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSBhbmd1bGFyLm1vZHVsZVxuICAgICAqIEBtb2R1bGUgbmdcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKlxuICAgICAqIFRoZSBgYW5ndWxhci5tb2R1bGVgIGlzIGEgZ2xvYmFsIHBsYWNlIGZvciBjcmVhdGluZywgcmVnaXN0ZXJpbmcgYW5kIHJldHJpZXZpbmcgQW5ndWxhclxuICAgICAqIG1vZHVsZXMuXG4gICAgICogQWxsIG1vZHVsZXMgKGFuZ3VsYXIgY29yZSBvciAzcmQgcGFydHkpIHRoYXQgc2hvdWxkIGJlIGF2YWlsYWJsZSB0byBhbiBhcHBsaWNhdGlvbiBtdXN0IGJlXG4gICAgICogcmVnaXN0ZXJlZCB1c2luZyB0aGlzIG1lY2hhbmlzbS5cbiAgICAgKlxuICAgICAqIFdoZW4gcGFzc2VkIHR3byBvciBtb3JlIGFyZ3VtZW50cywgYSBuZXcgbW9kdWxlIGlzIGNyZWF0ZWQuICBJZiBwYXNzZWQgb25seSBvbmUgYXJndW1lbnQsIGFuXG4gICAgICogZXhpc3RpbmcgbW9kdWxlICh0aGUgbmFtZSBwYXNzZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIGBtb2R1bGVgKSBpcyByZXRyaWV2ZWQuXG4gICAgICpcbiAgICAgKlxuICAgICAqICMgTW9kdWxlXG4gICAgICpcbiAgICAgKiBBIG1vZHVsZSBpcyBhIGNvbGxlY3Rpb24gb2Ygc2VydmljZXMsIGRpcmVjdGl2ZXMsIGNvbnRyb2xsZXJzLCBmaWx0ZXJzLCBhbmQgY29uZmlndXJhdGlvbiBpbmZvcm1hdGlvbi5cbiAgICAgKiBgYW5ndWxhci5tb2R1bGVgIGlzIHVzZWQgdG8gY29uZmlndXJlIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IG1vZHVsZVxuICAgICAqIHZhciBteU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdteU1vZHVsZScsIFtdKTtcbiAgICAgKlxuICAgICAqIC8vIHJlZ2lzdGVyIGEgbmV3IHNlcnZpY2VcbiAgICAgKiBteU1vZHVsZS52YWx1ZSgnYXBwTmFtZScsICdNeUNvb2xBcHAnKTtcbiAgICAgKlxuICAgICAqIC8vIGNvbmZpZ3VyZSBleGlzdGluZyBzZXJ2aWNlcyBpbnNpZGUgaW5pdGlhbGl6YXRpb24gYmxvY2tzLlxuICAgICAqIG15TW9kdWxlLmNvbmZpZyhbJyRsb2NhdGlvblByb3ZpZGVyJywgZnVuY3Rpb24oJGxvY2F0aW9uUHJvdmlkZXIpIHtcbiAgICAgKiAgIC8vIENvbmZpZ3VyZSBleGlzdGluZyBwcm92aWRlcnNcbiAgICAgKiAgICRsb2NhdGlvblByb3ZpZGVyLmhhc2hQcmVmaXgoJyEnKTtcbiAgICAgKiB9XSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGVuIHlvdSBjYW4gY3JlYXRlIGFuIGluamVjdG9yIGFuZCBsb2FkIHlvdXIgbW9kdWxlcyBsaWtlIHRoaXM6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIHZhciBpbmplY3RvciA9IGFuZ3VsYXIuaW5qZWN0b3IoWyduZycsICdteU1vZHVsZSddKVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogSG93ZXZlciBpdCdzIG1vcmUgbGlrZWx5IHRoYXQgeW91J2xsIGp1c3QgdXNlXG4gICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0FwcCBuZ0FwcH0gb3JcbiAgICAgKiB7QGxpbmsgYW5ndWxhci5ib290c3RyYXB9IHRvIHNpbXBsaWZ5IHRoaXMgcHJvY2VzcyBmb3IgeW91LlxuICAgICAqXG4gICAgICogQHBhcmFtIHshc3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBtb2R1bGUgdG8gY3JlYXRlIG9yIHJldHJpZXZlLlxuICAgICAqIEBwYXJhbSB7IUFycmF5LjxzdHJpbmc+PX0gcmVxdWlyZXMgSWYgc3BlY2lmaWVkIHRoZW4gbmV3IG1vZHVsZSBpcyBiZWluZyBjcmVhdGVkLiBJZlxuICAgICAqICAgICAgICB1bnNwZWNpZmllZCB0aGVuIHRoZSBtb2R1bGUgaXMgYmVpbmcgcmV0cmlldmVkIGZvciBmdXJ0aGVyIGNvbmZpZ3VyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbj19IGNvbmZpZ0ZuIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb24gZm9yIHRoZSBtb2R1bGUuIFNhbWUgYXNcbiAgICAgKiAgICAgICAge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2NvbmZpZyBNb2R1bGUjY29uZmlnKCl9LlxuICAgICAqIEByZXR1cm5zIHttb2R1bGV9IG5ldyBtb2R1bGUgd2l0aCB0aGUge0BsaW5rIGFuZ3VsYXIuTW9kdWxlfSBhcGkuXG4gICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1vZHVsZShuYW1lLCByZXF1aXJlcywgY29uZmlnRm4pIHtcbiAgICAgIHZhciBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eSA9IGZ1bmN0aW9uKG5hbWUsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09ICdoYXNPd25Qcm9wZXJ0eScpIHtcbiAgICAgICAgICB0aHJvdyBuZ01pbkVycignYmFkbmFtZScsICdoYXNPd25Qcm9wZXJ0eSBpcyBub3QgYSB2YWxpZCB7MH0gbmFtZScsIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnbW9kdWxlJyk7XG4gICAgICBpZiAocmVxdWlyZXMgJiYgbW9kdWxlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBtb2R1bGVzW25hbWVdID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbnN1cmUobW9kdWxlcywgbmFtZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghcmVxdWlyZXMpIHtcbiAgICAgICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ25vbW9kJywgXCJNb2R1bGUgJ3swfScgaXMgbm90IGF2YWlsYWJsZSEgWW91IGVpdGhlciBtaXNzcGVsbGVkIFwiICtcbiAgICAgICAgICAgICBcInRoZSBtb2R1bGUgbmFtZSBvciBmb3Jnb3QgdG8gbG9hZCBpdC4gSWYgcmVnaXN0ZXJpbmcgYSBtb2R1bGUgZW5zdXJlIHRoYXQgeW91IFwiICtcbiAgICAgICAgICAgICBcInNwZWNpZnkgdGhlIGRlcGVuZGVuY2llcyBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LlwiLCBuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBAdHlwZSB7IUFycmF5LjxBcnJheS48Kj4+fSAqL1xuICAgICAgICB2YXIgaW52b2tlUXVldWUgPSBbXTtcblxuICAgICAgICAvKiogQHR5cGUgeyFBcnJheS48RnVuY3Rpb24+fSAqL1xuICAgICAgICB2YXIgY29uZmlnQmxvY2tzID0gW107XG5cbiAgICAgICAgLyoqIEB0eXBlIHshQXJyYXkuPEZ1bmN0aW9uPn0gKi9cbiAgICAgICAgdmFyIHJ1bkJsb2NrcyA9IFtdO1xuXG4gICAgICAgIHZhciBjb25maWcgPSBpbnZva2VMYXRlcignJGluamVjdG9yJywgJ2ludm9rZScsICdwdXNoJywgY29uZmlnQmxvY2tzKTtcblxuICAgICAgICAvKiogQHR5cGUge2FuZ3VsYXIuTW9kdWxlfSAqL1xuICAgICAgICB2YXIgbW9kdWxlSW5zdGFuY2UgPSB7XG4gICAgICAgICAgLy8gUHJpdmF0ZSBzdGF0ZVxuICAgICAgICAgIF9pbnZva2VRdWV1ZTogaW52b2tlUXVldWUsXG4gICAgICAgICAgX2NvbmZpZ0Jsb2NrczogY29uZmlnQmxvY2tzLFxuICAgICAgICAgIF9ydW5CbG9ja3M6IHJ1bkJsb2NrcyxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3JlcXVpcmVzXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogSG9sZHMgdGhlIGxpc3Qgb2YgbW9kdWxlcyB3aGljaCB0aGUgaW5qZWN0b3Igd2lsbCBsb2FkIGJlZm9yZSB0aGUgY3VycmVudCBtb2R1bGUgaXNcbiAgICAgICAgICAgKiBsb2FkZWQuXG4gICAgICAgICAgICovXG4gICAgICAgICAgcmVxdWlyZXM6IHJlcXVpcmVzLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjbmFtZVxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIE5hbWUgb2YgdGhlIG1vZHVsZS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBuYW1lOiBuYW1lLFxuXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjcHJvdmlkZXJcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgc2VydmljZSBuYW1lXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvdmlkZXJUeXBlIENvbnN0cnVjdGlvbiBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIHRoZVxuICAgICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSNwcm92aWRlciAkcHJvdmlkZS5wcm92aWRlcigpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBwcm92aWRlcjogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckcHJvdmlkZScsICdwcm92aWRlcicpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2ZhY3RvcnlcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgc2VydmljZSBuYW1lXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvdmlkZXJGdW5jdGlvbiBGdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIHRoZSBzZXJ2aWNlLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSNmYWN0b3J5ICRwcm92aWRlLmZhY3RvcnkoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgZmFjdG9yeTogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckcHJvdmlkZScsICdmYWN0b3J5JyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjc2VydmljZVxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBzZXJ2aWNlIG5hbWVcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciBBIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBpbnN0YW50aWF0ZWQuXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI3NlcnZpY2UgJHByb3ZpZGUuc2VydmljZSgpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBzZXJ2aWNlOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRwcm92aWRlJywgJ3NlcnZpY2UnKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSN2YWx1ZVxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBzZXJ2aWNlIG5hbWVcbiAgICAgICAgICAgKiBAcGFyYW0geyp9IG9iamVjdCBTZXJ2aWNlIGluc3RhbmNlIG9iamVjdC5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgJHByb3ZpZGUudmFsdWUoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgdmFsdWU6IGludm9rZUxhdGVyKCckcHJvdmlkZScsICd2YWx1ZScpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2NvbnN0YW50XG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIGNvbnN0YW50IG5hbWVcbiAgICAgICAgICAgKiBAcGFyYW0geyp9IG9iamVjdCBDb25zdGFudCB2YWx1ZS5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBCZWNhdXNlIHRoZSBjb25zdGFudCBhcmUgZml4ZWQsIHRoZXkgZ2V0IGFwcGxpZWQgYmVmb3JlIG90aGVyIHByb3ZpZGUgbWV0aG9kcy5cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjY29uc3RhbnQgJHByb3ZpZGUuY29uc3RhbnQoKX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgY29uc3RhbnQ6IGludm9rZUxhdGVyKCckcHJvdmlkZScsICdjb25zdGFudCcsICd1bnNoaWZ0JyksXG5cbiAgICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2RlY29yYXRvclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIG5hbWUgb2YgdGhlIHNlcnZpY2UgdG8gZGVjb3JhdGUuXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGludm9rZWQgd2hlbiB0aGUgc2VydmljZSBuZWVkcyB0byBiZVxuICAgICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFudGlhdGVkIGFuZCBzaG91bGQgcmV0dXJuIHRoZSBkZWNvcmF0ZWQgc2VydmljZSBpbnN0YW5jZS5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjZGVjb3JhdG9yICRwcm92aWRlLmRlY29yYXRvcigpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBkZWNvcmF0b3I6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJHByb3ZpZGUnLCAnZGVjb3JhdG9yJyksXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjYW5pbWF0aW9uXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIGFuaW1hdGlvbiBuYW1lXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYW5pbWF0aW9uRmFjdG9yeSBGYWN0b3J5IGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgYW5cbiAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqICoqTk9URSoqOiBhbmltYXRpb25zIHRha2UgZWZmZWN0IG9ubHkgaWYgdGhlICoqbmdBbmltYXRlKiogbW9kdWxlIGlzIGxvYWRlZC5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogRGVmaW5lcyBhbiBhbmltYXRpb24gaG9vayB0aGF0IGNhbiBiZSBsYXRlciB1c2VkIHdpdGhcbiAgICAgICAgICAgKiB7QGxpbmsgJGFuaW1hdGUgJGFuaW1hdGV9IHNlcnZpY2UgYW5kIGRpcmVjdGl2ZXMgdGhhdCB1c2UgdGhpcyBzZXJ2aWNlLlxuICAgICAgICAgICAqXG4gICAgICAgICAgICogYGBganNcbiAgICAgICAgICAgKiBtb2R1bGUuYW5pbWF0aW9uKCcuYW5pbWF0aW9uLW5hbWUnLCBmdW5jdGlvbigkaW5qZWN0MSwgJGluamVjdDIpIHtcbiAgICAgICAgICAgKiAgIHJldHVybiB7XG4gICAgICAgICAgICogICAgIGV2ZW50TmFtZSA6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmUpIHtcbiAgICAgICAgICAgKiAgICAgICAvL2NvZGUgdG8gcnVuIHRoZSBhbmltYXRpb25cbiAgICAgICAgICAgKiAgICAgICAvL29uY2UgY29tcGxldGUsIHRoZW4gcnVuIGRvbmUoKVxuICAgICAgICAgICAqICAgICAgIHJldHVybiBmdW5jdGlvbiBjYW5jZWxsYXRpb25GdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICogICAgICAgICAvL2NvZGUgdG8gY2FuY2VsIHRoZSBhbmltYXRpb25cbiAgICAgICAgICAgKiAgICAgICB9XG4gICAgICAgICAgICogICAgIH1cbiAgICAgICAgICAgKiAgIH1cbiAgICAgICAgICAgKiB9KVxuICAgICAgICAgICAqIGBgYFxuICAgICAgICAgICAqXG4gICAgICAgICAgICogU2VlIHtAbGluayBuZy4kYW5pbWF0ZVByb3ZpZGVyI3JlZ2lzdGVyICRhbmltYXRlUHJvdmlkZXIucmVnaXN0ZXIoKX0gYW5kXG4gICAgICAgICAgICoge0BsaW5rIG5nQW5pbWF0ZSBuZ0FuaW1hdGUgbW9kdWxlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBhbmltYXRpb246IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJGFuaW1hdGVQcm92aWRlcicsICdyZWdpc3RlcicpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2ZpbHRlclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBGaWx0ZXIgbmFtZSAtIHRoaXMgbXVzdCBiZSBhIHZhbGlkIGFuZ3VsYXIgZXhwcmVzc2lvbiBpZGVudGlmaWVyXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmlsdGVyRmFjdG9yeSBGYWN0b3J5IGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgZmlsdGVyLlxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgbmcuJGZpbHRlclByb3ZpZGVyI3JlZ2lzdGVyICRmaWx0ZXJQcm92aWRlci5yZWdpc3RlcigpfS5cbiAgICAgICAgICAgKlxuICAgICAgICAgICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gICAgICAgICAgICogKipOb3RlOioqIEZpbHRlciBuYW1lcyBtdXN0IGJlIHZhbGlkIGFuZ3VsYXIge0BsaW5rIGV4cHJlc3Npb259IGlkZW50aWZpZXJzLCBzdWNoIGFzIGB1cHBlcmNhc2VgIG9yIGBvcmRlckJ5YC5cbiAgICAgICAgICAgKiBOYW1lcyB3aXRoIHNwZWNpYWwgY2hhcmFjdGVycywgc3VjaCBhcyBoeXBoZW5zIGFuZCBkb3RzLCBhcmUgbm90IGFsbG93ZWQuIElmIHlvdSB3aXNoIHRvIG5hbWVzcGFjZVxuICAgICAgICAgICAqIHlvdXIgZmlsdGVycywgdGhlbiB5b3UgY2FuIHVzZSBjYXBpdGFsaXphdGlvbiAoYG15YXBwU3Vic2VjdGlvbkZpbHRlcnhgKSBvciB1bmRlcnNjb3Jlc1xuICAgICAgICAgICAqIChgbXlhcHBfc3Vic2VjdGlvbl9maWx0ZXJ4YCkuXG4gICAgICAgICAgICogPC9kaXY+XG4gICAgICAgICAgICovXG4gICAgICAgICAgZmlsdGVyOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRmaWx0ZXJQcm92aWRlcicsICdyZWdpc3RlcicpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2NvbnRyb2xsZXJcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIENvbnRyb2xsZXIgbmFtZSwgb3IgYW4gb2JqZWN0IG1hcCBvZiBjb250cm9sbGVycyB3aGVyZSB0aGVcbiAgICAgICAgICAgKiAgICBrZXlzIGFyZSB0aGUgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBjb25zdHJ1Y3RvcnMuXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29uc3RydWN0b3IgQ29udHJvbGxlciBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRjb250cm9sbGVyUHJvdmlkZXIjcmVnaXN0ZXIgJGNvbnRyb2xsZXJQcm92aWRlci5yZWdpc3RlcigpfS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBjb250cm9sbGVyOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRjb250cm9sbGVyUHJvdmlkZXInLCAncmVnaXN0ZXInKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNkaXJlY3RpdmVcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIERpcmVjdGl2ZSBuYW1lLCBvciBhbiBvYmplY3QgbWFwIG9mIGRpcmVjdGl2ZXMgd2hlcmUgdGhlXG4gICAgICAgICAgICogICAga2V5cyBhcmUgdGhlIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgZmFjdG9yaWVzLlxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGRpcmVjdGl2ZUZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mXG4gICAgICAgICAgICogZGlyZWN0aXZlcy5cbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjZGlyZWN0aXZlICRjb21waWxlUHJvdmlkZXIuZGlyZWN0aXZlKCl9LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGRpcmVjdGl2ZTogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckY29tcGlsZVByb3ZpZGVyJywgJ2RpcmVjdGl2ZScpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2NvbmZpZ1xuICAgICAgICAgICAqIEBtb2R1bGUgbmdcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25maWdGbiBFeGVjdXRlIHRoaXMgZnVuY3Rpb24gb24gbW9kdWxlIGxvYWQuIFVzZWZ1bCBmb3Igc2VydmljZVxuICAgICAgICAgICAqICAgIGNvbmZpZ3VyYXRpb24uXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogVXNlIHRoaXMgbWV0aG9kIHRvIHJlZ2lzdGVyIHdvcmsgd2hpY2ggbmVlZHMgdG8gYmUgcGVyZm9ybWVkIG9uIG1vZHVsZSBsb2FkaW5nLlxuICAgICAgICAgICAqIEZvciBtb3JlIGFib3V0IGhvdyB0byBjb25maWd1cmUgc2VydmljZXMsIHNlZVxuICAgICAgICAgICAqIHtAbGluayBwcm92aWRlcnMjcHJvdmlkZXItcmVjaXBlIFByb3ZpZGVyIFJlY2lwZX0uXG4gICAgICAgICAgICovXG4gICAgICAgICAgY29uZmlnOiBjb25maWcsXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjcnVuXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGluaXRpYWxpemF0aW9uRm4gRXhlY3V0ZSB0aGlzIGZ1bmN0aW9uIGFmdGVyIGluamVjdG9yIGNyZWF0aW9uLlxuICAgICAgICAgICAqICAgIFVzZWZ1bCBmb3IgYXBwbGljYXRpb24gaW5pdGlhbGl6YXRpb24uXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICogVXNlIHRoaXMgbWV0aG9kIHRvIHJlZ2lzdGVyIHdvcmsgd2hpY2ggc2hvdWxkIGJlIHBlcmZvcm1lZCB3aGVuIHRoZSBpbmplY3RvciBpcyBkb25lXG4gICAgICAgICAgICogbG9hZGluZyBhbGwgbW9kdWxlcy5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBydW46IGZ1bmN0aW9uKGJsb2NrKSB7XG4gICAgICAgICAgICBydW5CbG9ja3MucHVzaChibG9jayk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGNvbmZpZ0ZuKSB7XG4gICAgICAgICAgY29uZmlnKGNvbmZpZ0ZuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtb2R1bGVJbnN0YW5jZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3ZpZGVyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2RcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmc9fSBpbnNlcnRNZXRob2RcbiAgICAgICAgICogQHJldHVybnMge2FuZ3VsYXIuTW9kdWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaW52b2tlTGF0ZXIocHJvdmlkZXIsIG1ldGhvZCwgaW5zZXJ0TWV0aG9kLCBxdWV1ZSkge1xuICAgICAgICAgIGlmICghcXVldWUpIHF1ZXVlID0gaW52b2tlUXVldWU7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcXVldWVbaW5zZXJ0TWV0aG9kIHx8ICdwdXNoJ10oW3Byb3ZpZGVyLCBtZXRob2QsIGFyZ3VtZW50c10pO1xuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZUluc3RhbmNlO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3ZpZGVyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2RcbiAgICAgICAgICogQHJldHVybnMge2FuZ3VsYXIuTW9kdWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKHByb3ZpZGVyLCBtZXRob2QpIHtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24ocmVjaXBlTmFtZSwgZmFjdG9yeUZ1bmN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZmFjdG9yeUZ1bmN0aW9uICYmIGlzRnVuY3Rpb24oZmFjdG9yeUZ1bmN0aW9uKSkgZmFjdG9yeUZ1bmN0aW9uLiQkbW9kdWxlTmFtZSA9IG5hbWU7XG4gICAgICAgICAgICBpbnZva2VRdWV1ZS5wdXNoKFtwcm92aWRlciwgbWV0aG9kLCBhcmd1bWVudHNdKTtcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVJbnN0YW5jZTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICB9KTtcblxufVxuXG4vKiBnbG9iYWw6IHRvRGVidWdTdHJpbmc6IHRydWUgKi9cblxuZnVuY3Rpb24gc2VyaWFsaXplT2JqZWN0KG9iaikge1xuICB2YXIgc2VlbiA9IFtdO1xuXG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmosIGZ1bmN0aW9uKGtleSwgdmFsKSB7XG4gICAgdmFsID0gdG9Kc29uUmVwbGFjZXIoa2V5LCB2YWwpO1xuICAgIGlmIChpc09iamVjdCh2YWwpKSB7XG5cbiAgICAgIGlmIChzZWVuLmluZGV4T2YodmFsKSA+PSAwKSByZXR1cm4gJzw8YWxyZWFkeSBzZWVuPj4nO1xuXG4gICAgICBzZWVuLnB1c2godmFsKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRvRGVidWdTdHJpbmcob2JqKSB7XG4gIGlmICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG9iai50b1N0cmluZygpLnJlcGxhY2UoLyBcXHtbXFxzXFxTXSokLywgJycpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuICd1bmRlZmluZWQnO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHNlcmlhbGl6ZU9iamVjdChvYmopO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbi8qIGdsb2JhbCBhbmd1bGFyTW9kdWxlOiB0cnVlLFxuICB2ZXJzaW9uOiB0cnVlLFxuXG4gICRMb2NhbGVQcm92aWRlcixcbiAgJENvbXBpbGVQcm92aWRlcixcblxuICBodG1sQW5jaG9yRGlyZWN0aXZlLFxuICBpbnB1dERpcmVjdGl2ZSxcbiAgaW5wdXREaXJlY3RpdmUsXG4gIGZvcm1EaXJlY3RpdmUsXG4gIHNjcmlwdERpcmVjdGl2ZSxcbiAgc2VsZWN0RGlyZWN0aXZlLFxuICBzdHlsZURpcmVjdGl2ZSxcbiAgb3B0aW9uRGlyZWN0aXZlLFxuICBuZ0JpbmREaXJlY3RpdmUsXG4gIG5nQmluZEh0bWxEaXJlY3RpdmUsXG4gIG5nQmluZFRlbXBsYXRlRGlyZWN0aXZlLFxuICBuZ0NsYXNzRGlyZWN0aXZlLFxuICBuZ0NsYXNzRXZlbkRpcmVjdGl2ZSxcbiAgbmdDbGFzc09kZERpcmVjdGl2ZSxcbiAgbmdDc3BEaXJlY3RpdmUsXG4gIG5nQ2xvYWtEaXJlY3RpdmUsXG4gIG5nQ29udHJvbGxlckRpcmVjdGl2ZSxcbiAgbmdGb3JtRGlyZWN0aXZlLFxuICBuZ0hpZGVEaXJlY3RpdmUsXG4gIG5nSWZEaXJlY3RpdmUsXG4gIG5nSW5jbHVkZURpcmVjdGl2ZSxcbiAgbmdJbmNsdWRlRmlsbENvbnRlbnREaXJlY3RpdmUsXG4gIG5nSW5pdERpcmVjdGl2ZSxcbiAgbmdOb25CaW5kYWJsZURpcmVjdGl2ZSxcbiAgbmdQbHVyYWxpemVEaXJlY3RpdmUsXG4gIG5nUmVwZWF0RGlyZWN0aXZlLFxuICBuZ1Nob3dEaXJlY3RpdmUsXG4gIG5nU3R5bGVEaXJlY3RpdmUsXG4gIG5nU3dpdGNoRGlyZWN0aXZlLFxuICBuZ1N3aXRjaFdoZW5EaXJlY3RpdmUsXG4gIG5nU3dpdGNoRGVmYXVsdERpcmVjdGl2ZSxcbiAgbmdPcHRpb25zRGlyZWN0aXZlLFxuICBuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUsXG4gIG5nTW9kZWxEaXJlY3RpdmUsXG4gIG5nTGlzdERpcmVjdGl2ZSxcbiAgbmdDaGFuZ2VEaXJlY3RpdmUsXG4gIHBhdHRlcm5EaXJlY3RpdmUsXG4gIHBhdHRlcm5EaXJlY3RpdmUsXG4gIHJlcXVpcmVkRGlyZWN0aXZlLFxuICByZXF1aXJlZERpcmVjdGl2ZSxcbiAgbWlubGVuZ3RoRGlyZWN0aXZlLFxuICBtaW5sZW5ndGhEaXJlY3RpdmUsXG4gIG1heGxlbmd0aERpcmVjdGl2ZSxcbiAgbWF4bGVuZ3RoRGlyZWN0aXZlLFxuICBuZ1ZhbHVlRGlyZWN0aXZlLFxuICBuZ01vZGVsT3B0aW9uc0RpcmVjdGl2ZSxcbiAgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXMsXG4gIG5nRXZlbnREaXJlY3RpdmVzLFxuXG4gICRBbmNob3JTY3JvbGxQcm92aWRlcixcbiAgJEFuaW1hdGVQcm92aWRlcixcbiAgJCRDb3JlQW5pbWF0ZVF1ZXVlUHJvdmlkZXIsXG4gICQkQ29yZUFuaW1hdGVSdW5uZXJQcm92aWRlcixcbiAgJEJyb3dzZXJQcm92aWRlcixcbiAgJENhY2hlRmFjdG9yeVByb3ZpZGVyLFxuICAkQ29udHJvbGxlclByb3ZpZGVyLFxuICAkRG9jdW1lbnRQcm92aWRlcixcbiAgJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcixcbiAgJEZpbHRlclByb3ZpZGVyLFxuICAkSW50ZXJwb2xhdGVQcm92aWRlcixcbiAgJEludGVydmFsUHJvdmlkZXIsXG4gICQkSGFzaE1hcFByb3ZpZGVyLFxuICAkSHR0cFByb3ZpZGVyLFxuICAkSHR0cFBhcmFtU2VyaWFsaXplclByb3ZpZGVyLFxuICAkSHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZVByb3ZpZGVyLFxuICAkSHR0cEJhY2tlbmRQcm92aWRlcixcbiAgJExvY2F0aW9uUHJvdmlkZXIsXG4gICRMb2dQcm92aWRlcixcbiAgJFBhcnNlUHJvdmlkZXIsXG4gICRSb290U2NvcGVQcm92aWRlcixcbiAgJFFQcm92aWRlcixcbiAgJCRRUHJvdmlkZXIsXG4gICQkU2FuaXRpemVVcmlQcm92aWRlcixcbiAgJFNjZVByb3ZpZGVyLFxuICAkU2NlRGVsZWdhdGVQcm92aWRlcixcbiAgJFNuaWZmZXJQcm92aWRlcixcbiAgJFRlbXBsYXRlQ2FjaGVQcm92aWRlcixcbiAgJFRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyLFxuICAkJFRlc3RhYmlsaXR5UHJvdmlkZXIsXG4gICRUaW1lb3V0UHJvdmlkZXIsXG4gICQkUkFGUHJvdmlkZXIsXG4gICRXaW5kb3dQcm92aWRlcixcbiAgJCRqcUxpdGVQcm92aWRlcixcbiAgJCRDb29raWVSZWFkZXJQcm92aWRlclxuKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIGFuZ3VsYXIudmVyc2lvblxuICogQG1vZHVsZSBuZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBBbiBvYmplY3QgdGhhdCBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY3VycmVudCBBbmd1bGFySlMgdmVyc2lvbi4gVGhpcyBvYmplY3QgaGFzIHRoZVxuICogZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gKlxuICogLSBgZnVsbGAg4oCTIGB7c3RyaW5nfWAg4oCTIEZ1bGwgdmVyc2lvbiBzdHJpbmcsIHN1Y2ggYXMgXCIwLjkuMThcIi5cbiAqIC0gYG1ham9yYCDigJMgYHtudW1iZXJ9YCDigJMgTWFqb3IgdmVyc2lvbiBudW1iZXIsIHN1Y2ggYXMgXCIwXCIuXG4gKiAtIGBtaW5vcmAg4oCTIGB7bnVtYmVyfWAg4oCTIE1pbm9yIHZlcnNpb24gbnVtYmVyLCBzdWNoIGFzIFwiOVwiLlxuICogLSBgZG90YCDigJMgYHtudW1iZXJ9YCDigJMgRG90IHZlcnNpb24gbnVtYmVyLCBzdWNoIGFzIFwiMThcIi5cbiAqIC0gYGNvZGVOYW1lYCDigJMgYHtzdHJpbmd9YCDigJMgQ29kZSBuYW1lIG9mIHRoZSByZWxlYXNlLCBzdWNoIGFzIFwiamlnZ2xpbmctYXJtZmF0XCIuXG4gKi9cbnZhciB2ZXJzaW9uID0ge1xuICBmdWxsOiAnMS40LjMnLCAgICAvLyBhbGwgb2YgdGhlc2UgcGxhY2Vob2xkZXIgc3RyaW5ncyB3aWxsIGJlIHJlcGxhY2VkIGJ5IGdydW50J3NcbiAgbWFqb3I6IDEsICAgIC8vIHBhY2thZ2UgdGFza1xuICBtaW5vcjogNCxcbiAgZG90OiAzLFxuICBjb2RlTmFtZTogJ2ZvYW0tYWNjZWxlcmF0aW9uJ1xufTtcblxuXG5mdW5jdGlvbiBwdWJsaXNoRXh0ZXJuYWxBUEkoYW5ndWxhcikge1xuICBleHRlbmQoYW5ndWxhciwge1xuICAgICdib290c3RyYXAnOiBib290c3RyYXAsXG4gICAgJ2NvcHknOiBjb3B5LFxuICAgICdleHRlbmQnOiBleHRlbmQsXG4gICAgJ21lcmdlJzogbWVyZ2UsXG4gICAgJ2VxdWFscyc6IGVxdWFscyxcbiAgICAnZWxlbWVudCc6IGpxTGl0ZSxcbiAgICAnZm9yRWFjaCc6IGZvckVhY2gsXG4gICAgJ2luamVjdG9yJzogY3JlYXRlSW5qZWN0b3IsXG4gICAgJ25vb3AnOiBub29wLFxuICAgICdiaW5kJzogYmluZCxcbiAgICAndG9Kc29uJzogdG9Kc29uLFxuICAgICdmcm9tSnNvbic6IGZyb21Kc29uLFxuICAgICdpZGVudGl0eSc6IGlkZW50aXR5LFxuICAgICdpc1VuZGVmaW5lZCc6IGlzVW5kZWZpbmVkLFxuICAgICdpc0RlZmluZWQnOiBpc0RlZmluZWQsXG4gICAgJ2lzU3RyaW5nJzogaXNTdHJpbmcsXG4gICAgJ2lzRnVuY3Rpb24nOiBpc0Z1bmN0aW9uLFxuICAgICdpc09iamVjdCc6IGlzT2JqZWN0LFxuICAgICdpc051bWJlcic6IGlzTnVtYmVyLFxuICAgICdpc0VsZW1lbnQnOiBpc0VsZW1lbnQsXG4gICAgJ2lzQXJyYXknOiBpc0FycmF5LFxuICAgICd2ZXJzaW9uJzogdmVyc2lvbixcbiAgICAnaXNEYXRlJzogaXNEYXRlLFxuICAgICdsb3dlcmNhc2UnOiBsb3dlcmNhc2UsXG4gICAgJ3VwcGVyY2FzZSc6IHVwcGVyY2FzZSxcbiAgICAnY2FsbGJhY2tzJzoge2NvdW50ZXI6IDB9LFxuICAgICdnZXRUZXN0YWJpbGl0eSc6IGdldFRlc3RhYmlsaXR5LFxuICAgICckJG1pbkVycic6IG1pbkVycixcbiAgICAnJCRjc3AnOiBjc3AsXG4gICAgJ3JlbG9hZFdpdGhEZWJ1Z0luZm8nOiByZWxvYWRXaXRoRGVidWdJbmZvXG4gIH0pO1xuXG4gIGFuZ3VsYXJNb2R1bGUgPSBzZXR1cE1vZHVsZUxvYWRlcih3aW5kb3cpO1xuICB0cnkge1xuICAgIGFuZ3VsYXJNb2R1bGUoJ25nTG9jYWxlJyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBhbmd1bGFyTW9kdWxlKCduZ0xvY2FsZScsIFtdKS5wcm92aWRlcignJGxvY2FsZScsICRMb2NhbGVQcm92aWRlcik7XG4gIH1cblxuICBhbmd1bGFyTW9kdWxlKCduZycsIFsnbmdMb2NhbGUnXSwgWyckcHJvdmlkZScsXG4gICAgZnVuY3Rpb24gbmdNb2R1bGUoJHByb3ZpZGUpIHtcbiAgICAgIC8vICQkc2FuaXRpemVVcmlQcm92aWRlciBuZWVkcyB0byBiZSBiZWZvcmUgJGNvbXBpbGVQcm92aWRlciBhcyBpdCBpcyB1c2VkIGJ5IGl0LlxuICAgICAgJHByb3ZpZGUucHJvdmlkZXIoe1xuICAgICAgICAkJHNhbml0aXplVXJpOiAkJFNhbml0aXplVXJpUHJvdmlkZXJcbiAgICAgIH0pO1xuICAgICAgJHByb3ZpZGUucHJvdmlkZXIoJyRjb21waWxlJywgJENvbXBpbGVQcm92aWRlcikuXG4gICAgICAgIGRpcmVjdGl2ZSh7XG4gICAgICAgICAgICBhOiBodG1sQW5jaG9yRGlyZWN0aXZlLFxuICAgICAgICAgICAgaW5wdXQ6IGlucHV0RGlyZWN0aXZlLFxuICAgICAgICAgICAgdGV4dGFyZWE6IGlucHV0RGlyZWN0aXZlLFxuICAgICAgICAgICAgZm9ybTogZm9ybURpcmVjdGl2ZSxcbiAgICAgICAgICAgIHNjcmlwdDogc2NyaXB0RGlyZWN0aXZlLFxuICAgICAgICAgICAgc2VsZWN0OiBzZWxlY3REaXJlY3RpdmUsXG4gICAgICAgICAgICBzdHlsZTogc3R5bGVEaXJlY3RpdmUsXG4gICAgICAgICAgICBvcHRpb246IG9wdGlvbkRpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQmluZDogbmdCaW5kRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdCaW5kSHRtbDogbmdCaW5kSHRtbERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQmluZFRlbXBsYXRlOiBuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQ2xhc3M6IG5nQ2xhc3NEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0NsYXNzRXZlbjogbmdDbGFzc0V2ZW5EaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0NsYXNzT2RkOiBuZ0NsYXNzT2RkRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdDbG9hazogbmdDbG9ha0RpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nQ29udHJvbGxlcjogbmdDb250cm9sbGVyRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdGb3JtOiBuZ0Zvcm1EaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0hpZGU6IG5nSGlkZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nSWY6IG5nSWZEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ0luY2x1ZGU6IG5nSW5jbHVkZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nSW5pdDogbmdJbml0RGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdOb25CaW5kYWJsZTogbmdOb25CaW5kYWJsZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nUGx1cmFsaXplOiBuZ1BsdXJhbGl6ZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nUmVwZWF0OiBuZ1JlcGVhdERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nU2hvdzogbmdTaG93RGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdTdHlsZTogbmdTdHlsZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nU3dpdGNoOiBuZ1N3aXRjaERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nU3dpdGNoV2hlbjogbmdTd2l0Y2hXaGVuRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdTd2l0Y2hEZWZhdWx0OiBuZ1N3aXRjaERlZmF1bHREaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ09wdGlvbnM6IG5nT3B0aW9uc0RpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nVHJhbnNjbHVkZTogbmdUcmFuc2NsdWRlRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdNb2RlbDogbmdNb2RlbERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nTGlzdDogbmdMaXN0RGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdDaGFuZ2U6IG5nQ2hhbmdlRGlyZWN0aXZlLFxuICAgICAgICAgICAgcGF0dGVybjogcGF0dGVybkRpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nUGF0dGVybjogcGF0dGVybkRpcmVjdGl2ZSxcbiAgICAgICAgICAgIHJlcXVpcmVkOiByZXF1aXJlZERpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nUmVxdWlyZWQ6IHJlcXVpcmVkRGlyZWN0aXZlLFxuICAgICAgICAgICAgbWlubGVuZ3RoOiBtaW5sZW5ndGhEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ01pbmxlbmd0aDogbWlubGVuZ3RoRGlyZWN0aXZlLFxuICAgICAgICAgICAgbWF4bGVuZ3RoOiBtYXhsZW5ndGhEaXJlY3RpdmUsXG4gICAgICAgICAgICBuZ01heGxlbmd0aDogbWF4bGVuZ3RoRGlyZWN0aXZlLFxuICAgICAgICAgICAgbmdWYWx1ZTogbmdWYWx1ZURpcmVjdGl2ZSxcbiAgICAgICAgICAgIG5nTW9kZWxPcHRpb25zOiBuZ01vZGVsT3B0aW9uc0RpcmVjdGl2ZVxuICAgICAgICB9KS5cbiAgICAgICAgZGlyZWN0aXZlKHtcbiAgICAgICAgICBuZ0luY2x1ZGU6IG5nSW5jbHVkZUZpbGxDb250ZW50RGlyZWN0aXZlXG4gICAgICAgIH0pLlxuICAgICAgICBkaXJlY3RpdmUobmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXMpLlxuICAgICAgICBkaXJlY3RpdmUobmdFdmVudERpcmVjdGl2ZXMpO1xuICAgICAgJHByb3ZpZGUucHJvdmlkZXIoe1xuICAgICAgICAkYW5jaG9yU2Nyb2xsOiAkQW5jaG9yU2Nyb2xsUHJvdmlkZXIsXG4gICAgICAgICRhbmltYXRlOiAkQW5pbWF0ZVByb3ZpZGVyLFxuICAgICAgICAkJGFuaW1hdGVRdWV1ZTogJCRDb3JlQW5pbWF0ZVF1ZXVlUHJvdmlkZXIsXG4gICAgICAgICQkQW5pbWF0ZVJ1bm5lcjogJCRDb3JlQW5pbWF0ZVJ1bm5lclByb3ZpZGVyLFxuICAgICAgICAkYnJvd3NlcjogJEJyb3dzZXJQcm92aWRlcixcbiAgICAgICAgJGNhY2hlRmFjdG9yeTogJENhY2hlRmFjdG9yeVByb3ZpZGVyLFxuICAgICAgICAkY29udHJvbGxlcjogJENvbnRyb2xsZXJQcm92aWRlcixcbiAgICAgICAgJGRvY3VtZW50OiAkRG9jdW1lbnRQcm92aWRlcixcbiAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXI6ICRFeGNlcHRpb25IYW5kbGVyUHJvdmlkZXIsXG4gICAgICAgICRmaWx0ZXI6ICRGaWx0ZXJQcm92aWRlcixcbiAgICAgICAgJGludGVycG9sYXRlOiAkSW50ZXJwb2xhdGVQcm92aWRlcixcbiAgICAgICAgJGludGVydmFsOiAkSW50ZXJ2YWxQcm92aWRlcixcbiAgICAgICAgJGh0dHA6ICRIdHRwUHJvdmlkZXIsXG4gICAgICAgICRodHRwUGFyYW1TZXJpYWxpemVyOiAkSHR0cFBhcmFtU2VyaWFsaXplclByb3ZpZGVyLFxuICAgICAgICAkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZTogJEh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2VQcm92aWRlcixcbiAgICAgICAgJGh0dHBCYWNrZW5kOiAkSHR0cEJhY2tlbmRQcm92aWRlcixcbiAgICAgICAgJGxvY2F0aW9uOiAkTG9jYXRpb25Qcm92aWRlcixcbiAgICAgICAgJGxvZzogJExvZ1Byb3ZpZGVyLFxuICAgICAgICAkcGFyc2U6ICRQYXJzZVByb3ZpZGVyLFxuICAgICAgICAkcm9vdFNjb3BlOiAkUm9vdFNjb3BlUHJvdmlkZXIsXG4gICAgICAgICRxOiAkUVByb3ZpZGVyLFxuICAgICAgICAkJHE6ICQkUVByb3ZpZGVyLFxuICAgICAgICAkc2NlOiAkU2NlUHJvdmlkZXIsXG4gICAgICAgICRzY2VEZWxlZ2F0ZTogJFNjZURlbGVnYXRlUHJvdmlkZXIsXG4gICAgICAgICRzbmlmZmVyOiAkU25pZmZlclByb3ZpZGVyLFxuICAgICAgICAkdGVtcGxhdGVDYWNoZTogJFRlbXBsYXRlQ2FjaGVQcm92aWRlcixcbiAgICAgICAgJHRlbXBsYXRlUmVxdWVzdDogJFRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyLFxuICAgICAgICAkJHRlc3RhYmlsaXR5OiAkJFRlc3RhYmlsaXR5UHJvdmlkZXIsXG4gICAgICAgICR0aW1lb3V0OiAkVGltZW91dFByb3ZpZGVyLFxuICAgICAgICAkd2luZG93OiAkV2luZG93UHJvdmlkZXIsXG4gICAgICAgICQkckFGOiAkJFJBRlByb3ZpZGVyLFxuICAgICAgICAkJGpxTGl0ZTogJCRqcUxpdGVQcm92aWRlcixcbiAgICAgICAgJCRIYXNoTWFwOiAkJEhhc2hNYXBQcm92aWRlcixcbiAgICAgICAgJCRjb29raWVSZWFkZXI6ICQkQ29va2llUmVhZGVyUHJvdmlkZXJcbiAgICAgIH0pO1xuICAgIH1cbiAgXSk7XG59XG5cbi8qICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICpcbiAqICAgICBBbnkgY29tbWl0cyB0byB0aGlzIGZpbGUgc2hvdWxkIGJlIHJldmlld2VkIHdpdGggc2VjdXJpdHkgaW4gbWluZC4gICpcbiAqICAgQ2hhbmdlcyB0byB0aGlzIGZpbGUgY2FuIHBvdGVudGlhbGx5IGNyZWF0ZSBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuICpcbiAqICAgICAgICAgIEFuIGFwcHJvdmFsIGZyb20gMiBDb3JlIG1lbWJlcnMgd2l0aCBoaXN0b3J5IG9mIG1vZGlmeWluZyAgICAgICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgZmlsZSBpcyByZXF1aXJlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAqICBEb2VzIHRoZSBjaGFuZ2Ugc29tZWhvdyBhbGxvdyBmb3IgYXJiaXRyYXJ5IGphdmFzY3JpcHQgdG8gYmUgZXhlY3V0ZWQ/ICpcbiAqICAgIE9yIGFsbG93cyBmb3Igc29tZW9uZSB0byBjaGFuZ2UgdGhlIHByb3RvdHlwZSBvZiBidWlsdC1pbiBvYmplY3RzPyAgICpcbiAqICAgICBPciBnaXZlcyB1bmRlc2lyZWQgYWNjZXNzIHRvIHZhcmlhYmxlcyBsaWtlcyBkb2N1bWVudCBvciB3aW5kb3c/ICAgICpcbiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICovXG5cbi8qIGdsb2JhbCBKUUxpdGVQcm90b3R5cGU6IHRydWUsXG4gIGFkZEV2ZW50TGlzdGVuZXJGbjogdHJ1ZSxcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuOiB0cnVlLFxuICBCT09MRUFOX0FUVFI6IHRydWUsXG4gIEFMSUFTRURfQVRUUjogdHJ1ZSxcbiovXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vSlFMaXRlXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKlxuICogQG5nZG9jIGZ1bmN0aW9uXG4gKiBAbmFtZSBhbmd1bGFyLmVsZW1lbnRcbiAqIEBtb2R1bGUgbmdcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBXcmFwcyBhIHJhdyBET00gZWxlbWVudCBvciBIVE1MIHN0cmluZyBhcyBhIFtqUXVlcnldKGh0dHA6Ly9qcXVlcnkuY29tKSBlbGVtZW50LlxuICpcbiAqIElmIGpRdWVyeSBpcyBhdmFpbGFibGUsIGBhbmd1bGFyLmVsZW1lbnRgIGlzIGFuIGFsaWFzIGZvciB0aGVcbiAqIFtqUXVlcnldKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9qUXVlcnkvKSBmdW5jdGlvbi4gSWYgalF1ZXJ5IGlzIG5vdCBhdmFpbGFibGUsIGBhbmd1bGFyLmVsZW1lbnRgXG4gKiBkZWxlZ2F0ZXMgdG8gQW5ndWxhcidzIGJ1aWx0LWluIHN1YnNldCBvZiBqUXVlcnksIGNhbGxlZCBcImpRdWVyeSBsaXRlXCIgb3IgXCJqcUxpdGUuXCJcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPmpxTGl0ZSBpcyBhIHRpbnksIEFQSS1jb21wYXRpYmxlIHN1YnNldCBvZiBqUXVlcnkgdGhhdCBhbGxvd3NcbiAqIEFuZ3VsYXIgdG8gbWFuaXB1bGF0ZSB0aGUgRE9NIGluIGEgY3Jvc3MtYnJvd3NlciBjb21wYXRpYmxlIHdheS4gKipqcUxpdGUqKiBpbXBsZW1lbnRzIG9ubHkgdGhlIG1vc3RcbiAqIGNvbW1vbmx5IG5lZWRlZCBmdW5jdGlvbmFsaXR5IHdpdGggdGhlIGdvYWwgb2YgaGF2aW5nIGEgdmVyeSBzbWFsbCBmb290cHJpbnQuPC9kaXY+XG4gKlxuICogVG8gdXNlIGBqUXVlcnlgLCBzaW1wbHkgZW5zdXJlIGl0IGlzIGxvYWRlZCBiZWZvcmUgdGhlIGBhbmd1bGFyLmpzYCBmaWxlLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydFwiPioqTm90ZToqKiBhbGwgZWxlbWVudCByZWZlcmVuY2VzIGluIEFuZ3VsYXIgYXJlIGFsd2F5cyB3cmFwcGVkIHdpdGggalF1ZXJ5IG9yXG4gKiBqcUxpdGU7IHRoZXkgYXJlIG5ldmVyIHJhdyBET00gcmVmZXJlbmNlcy48L2Rpdj5cbiAqXG4gKiAjIyBBbmd1bGFyJ3MganFMaXRlXG4gKiBqcUxpdGUgcHJvdmlkZXMgb25seSB0aGUgZm9sbG93aW5nIGpRdWVyeSBtZXRob2RzOlxuICpcbiAqIC0gW2BhZGRDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2FkZENsYXNzLylcbiAqIC0gW2BhZnRlcigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2FmdGVyLylcbiAqIC0gW2BhcHBlbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hcHBlbmQvKVxuICogLSBbYGF0dHIoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hdHRyLykgLSBEb2VzIG5vdCBzdXBwb3J0IGZ1bmN0aW9ucyBhcyBwYXJhbWV0ZXJzXG4gKiAtIFtgYmluZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2JpbmQvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcywgc2VsZWN0b3JzIG9yIGV2ZW50RGF0YVxuICogLSBbYGNoaWxkcmVuKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vY2hpbGRyZW4vKSAtIERvZXMgbm90IHN1cHBvcnQgc2VsZWN0b3JzXG4gKiAtIFtgY2xvbmUoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jbG9uZS8pXG4gKiAtIFtgY29udGVudHMoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jb250ZW50cy8pXG4gKiAtIFtgY3NzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vY3NzLykgLSBPbmx5IHJldHJpZXZlcyBpbmxpbmUtc3R5bGVzLCBkb2VzIG5vdCBjYWxsIGBnZXRDb21wdXRlZFN0eWxlKClgLiBBcyBhIHNldHRlciwgZG9lcyBub3QgY29udmVydCBudW1iZXJzIHRvIHN0cmluZ3Mgb3IgYXBwZW5kICdweCcuXG4gKiAtIFtgZGF0YSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2RhdGEvKVxuICogLSBbYGRldGFjaCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2RldGFjaC8pXG4gKiAtIFtgZW1wdHkoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9lbXB0eS8pXG4gKiAtIFtgZXEoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9lcS8pXG4gKiAtIFtgZmluZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2ZpbmQvKSAtIExpbWl0ZWQgdG8gbG9va3VwcyBieSB0YWcgbmFtZVxuICogLSBbYGhhc0NsYXNzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vaGFzQ2xhc3MvKVxuICogLSBbYGh0bWwoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9odG1sLylcbiAqIC0gW2BuZXh0KClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vbmV4dC8pIC0gRG9lcyBub3Qgc3VwcG9ydCBzZWxlY3RvcnNcbiAqIC0gW2BvbigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL29uLykgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXMsIHNlbGVjdG9ycyBvciBldmVudERhdGFcbiAqIC0gW2BvZmYoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9vZmYvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcyBvciBzZWxlY3RvcnNcbiAqIC0gW2BvbmUoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9vbmUvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcyBvciBzZWxlY3RvcnNcbiAqIC0gW2BwYXJlbnQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wYXJlbnQvKSAtIERvZXMgbm90IHN1cHBvcnQgc2VsZWN0b3JzXG4gKiAtIFtgcHJlcGVuZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3ByZXBlbmQvKVxuICogLSBbYHByb3AoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wcm9wLylcbiAqIC0gW2ByZWFkeSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlYWR5LylcbiAqIC0gW2ByZW1vdmUoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZW1vdmUvKVxuICogLSBbYHJlbW92ZUF0dHIoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZW1vdmVBdHRyLylcbiAqIC0gW2ByZW1vdmVDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZUNsYXNzLylcbiAqIC0gW2ByZW1vdmVEYXRhKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVtb3ZlRGF0YS8pXG4gKiAtIFtgcmVwbGFjZVdpdGgoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZXBsYWNlV2l0aC8pXG4gKiAtIFtgdGV4dCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3RleHQvKVxuICogLSBbYHRvZ2dsZUNsYXNzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vdG9nZ2xlQ2xhc3MvKVxuICogLSBbYHRyaWdnZXJIYW5kbGVyKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vdHJpZ2dlckhhbmRsZXIvKSAtIFBhc3NlcyBhIGR1bW15IGV2ZW50IG9iamVjdCB0byBoYW5kbGVycy5cbiAqIC0gW2B1bmJpbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS91bmJpbmQvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlc1xuICogLSBbYHZhbCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3ZhbC8pXG4gKiAtIFtgd3JhcCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3dyYXAvKVxuICpcbiAqICMjIGpRdWVyeS9qcUxpdGUgRXh0cmFzXG4gKiBBbmd1bGFyIGFsc28gcHJvdmlkZXMgdGhlIGZvbGxvd2luZyBhZGRpdGlvbmFsIG1ldGhvZHMgYW5kIGV2ZW50cyB0byBib3RoIGpRdWVyeSBhbmQganFMaXRlOlxuICpcbiAqICMjIyBFdmVudHNcbiAqIC0gYCRkZXN0cm95YCAtIEFuZ3VsYXJKUyBpbnRlcmNlcHRzIGFsbCBqcUxpdGUvalF1ZXJ5J3MgRE9NIGRlc3RydWN0aW9uIGFwaXMgYW5kIGZpcmVzIHRoaXMgZXZlbnRcbiAqICAgIG9uIGFsbCBET00gbm9kZXMgYmVpbmcgcmVtb3ZlZC4gIFRoaXMgY2FuIGJlIHVzZWQgdG8gY2xlYW4gdXAgYW55IDNyZCBwYXJ0eSBiaW5kaW5ncyB0byB0aGUgRE9NXG4gKiAgICBlbGVtZW50IGJlZm9yZSBpdCBpcyByZW1vdmVkLlxuICpcbiAqICMjIyBNZXRob2RzXG4gKiAtIGBjb250cm9sbGVyKG5hbWUpYCAtIHJldHJpZXZlcyB0aGUgY29udHJvbGxlciBvZiB0aGUgY3VycmVudCBlbGVtZW50IG9yIGl0cyBwYXJlbnQuIEJ5IGRlZmF1bHRcbiAqICAgcmV0cmlldmVzIGNvbnRyb2xsZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUuIElmIGBuYW1lYCBpcyBwcm92aWRlZCBhc1xuICogICBjYW1lbENhc2UgZGlyZWN0aXZlIG5hbWUsIHRoZW4gdGhlIGNvbnRyb2xsZXIgZm9yIHRoaXMgZGlyZWN0aXZlIHdpbGwgYmUgcmV0cmlldmVkIChlLmcuXG4gKiAgIGAnbmdNb2RlbCdgKS5cbiAqIC0gYGluamVjdG9yKClgIC0gcmV0cmlldmVzIHRoZSBpbmplY3RvciBvZiB0aGUgY3VycmVudCBlbGVtZW50IG9yIGl0cyBwYXJlbnQuXG4gKiAtIGBzY29wZSgpYCAtIHJldHJpZXZlcyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9IG9mIHRoZSBjdXJyZW50XG4gKiAgIGVsZW1lbnQgb3IgaXRzIHBhcmVudC4gUmVxdWlyZXMge0BsaW5rIGd1aWRlL3Byb2R1Y3Rpb24jZGlzYWJsaW5nLWRlYnVnLWRhdGEgRGVidWcgRGF0YX0gdG9cbiAqICAgYmUgZW5hYmxlZC5cbiAqIC0gYGlzb2xhdGVTY29wZSgpYCAtIHJldHJpZXZlcyBhbiBpc29sYXRlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIHNjb3BlfSBpZiBvbmUgaXMgYXR0YWNoZWQgZGlyZWN0bHkgdG8gdGhlXG4gKiAgIGN1cnJlbnQgZWxlbWVudC4gVGhpcyBnZXR0ZXIgc2hvdWxkIGJlIHVzZWQgb25seSBvbiBlbGVtZW50cyB0aGF0IGNvbnRhaW4gYSBkaXJlY3RpdmUgd2hpY2ggc3RhcnRzIGEgbmV3IGlzb2xhdGVcbiAqICAgc2NvcGUuIENhbGxpbmcgYHNjb3BlKClgIG9uIHRoaXMgZWxlbWVudCBhbHdheXMgcmV0dXJucyB0aGUgb3JpZ2luYWwgbm9uLWlzb2xhdGUgc2NvcGUuXG4gKiAgIFJlcXVpcmVzIHtAbGluayBndWlkZS9wcm9kdWN0aW9uI2Rpc2FibGluZy1kZWJ1Zy1kYXRhIERlYnVnIERhdGF9IHRvIGJlIGVuYWJsZWQuXG4gKiAtIGBpbmhlcml0ZWREYXRhKClgIC0gc2FtZSBhcyBgZGF0YSgpYCwgYnV0IHdhbGtzIHVwIHRoZSBET00gdW50aWwgYSB2YWx1ZSBpcyBmb3VuZCBvciB0aGUgdG9wXG4gKiAgIHBhcmVudCBlbGVtZW50IGlzIHJlYWNoZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8RE9NRWxlbWVudH0gZWxlbWVudCBIVE1MIHN0cmluZyBvciBET01FbGVtZW50IHRvIGJlIHdyYXBwZWQgaW50byBqUXVlcnkuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBqUXVlcnkgb2JqZWN0LlxuICovXG5cbkpRTGl0ZS5leHBhbmRvID0gJ25nMzM5JztcblxudmFyIGpxQ2FjaGUgPSBKUUxpdGUuY2FjaGUgPSB7fSxcbiAgICBqcUlkID0gMSxcbiAgICBhZGRFdmVudExpc3RlbmVyRm4gPSBmdW5jdGlvbihlbGVtZW50LCB0eXBlLCBmbikge1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGZuLCBmYWxzZSk7XG4gICAgfSxcbiAgICByZW1vdmVFdmVudExpc3RlbmVyRm4gPSBmdW5jdGlvbihlbGVtZW50LCB0eXBlLCBmbikge1xuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGZuLCBmYWxzZSk7XG4gICAgfTtcblxuLypcbiAqICEhISBUaGlzIGlzIGFuIHVuZG9jdW1lbnRlZCBcInByaXZhdGVcIiBmdW5jdGlvbiAhISFcbiAqL1xuSlFMaXRlLl9kYXRhID0gZnVuY3Rpb24obm9kZSkge1xuICAvL2pRdWVyeSBhbHdheXMgcmV0dXJucyBhbiBvYmplY3Qgb24gY2FjaGUgbWlzc1xuICByZXR1cm4gdGhpcy5jYWNoZVtub2RlW3RoaXMuZXhwYW5kb11dIHx8IHt9O1xufTtcblxuZnVuY3Rpb24ganFOZXh0SWQoKSB7IHJldHVybiArK2pxSWQ7IH1cblxuXG52YXIgU1BFQ0lBTF9DSEFSU19SRUdFWFAgPSAvKFtcXDpcXC1cXF9dKyguKSkvZztcbnZhciBNT1pfSEFDS19SRUdFWFAgPSAvXm1veihbQS1aXSkvO1xudmFyIE1PVVNFX0VWRU5UX01BUD0geyBtb3VzZWxlYXZlOiBcIm1vdXNlb3V0XCIsIG1vdXNlZW50ZXI6IFwibW91c2VvdmVyXCJ9O1xudmFyIGpxTGl0ZU1pbkVyciA9IG1pbkVycignanFMaXRlJyk7XG5cbi8qKlxuICogQ29udmVydHMgc25ha2VfY2FzZSB0byBjYW1lbENhc2UuXG4gKiBBbHNvIHRoZXJlIGlzIHNwZWNpYWwgY2FzZSBmb3IgTW96IHByZWZpeCBzdGFydGluZyB3aXRoIHVwcGVyIGNhc2UgbGV0dGVyLlxuICogQHBhcmFtIG5hbWUgTmFtZSB0byBub3JtYWxpemVcbiAqL1xuZnVuY3Rpb24gY2FtZWxDYXNlKG5hbWUpIHtcbiAgcmV0dXJuIG5hbWUuXG4gICAgcmVwbGFjZShTUEVDSUFMX0NIQVJTX1JFR0VYUCwgZnVuY3Rpb24oXywgc2VwYXJhdG9yLCBsZXR0ZXIsIG9mZnNldCkge1xuICAgICAgcmV0dXJuIG9mZnNldCA/IGxldHRlci50b1VwcGVyQ2FzZSgpIDogbGV0dGVyO1xuICAgIH0pLlxuICAgIHJlcGxhY2UoTU9aX0hBQ0tfUkVHRVhQLCAnTW96JDEnKTtcbn1cblxudmFyIFNJTkdMRV9UQUdfUkVHRVhQID0gL148KFxcdyspXFxzKlxcLz8+KD86PFxcL1xcMT58KSQvO1xudmFyIEhUTUxfUkVHRVhQID0gLzx8JiM/XFx3KzsvO1xudmFyIFRBR19OQU1FX1JFR0VYUCA9IC88KFtcXHc6XSspLztcbnZhciBYSFRNTF9UQUdfUkVHRVhQID0gLzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1xcdzpdKylbXj5dKilcXC8+L2dpO1xuXG52YXIgd3JhcE1hcCA9IHtcbiAgJ29wdGlvbic6IFsxLCAnPHNlbGVjdCBtdWx0aXBsZT1cIm11bHRpcGxlXCI+JywgJzwvc2VsZWN0PiddLFxuXG4gICd0aGVhZCc6IFsxLCAnPHRhYmxlPicsICc8L3RhYmxlPiddLFxuICAnY29sJzogWzIsICc8dGFibGU+PGNvbGdyb3VwPicsICc8L2NvbGdyb3VwPjwvdGFibGU+J10sXG4gICd0cic6IFsyLCAnPHRhYmxlPjx0Ym9keT4nLCAnPC90Ym9keT48L3RhYmxlPiddLFxuICAndGQnOiBbMywgJzx0YWJsZT48dGJvZHk+PHRyPicsICc8L3RyPjwvdGJvZHk+PC90YWJsZT4nXSxcbiAgJ19kZWZhdWx0JzogWzAsIFwiXCIsIFwiXCJdXG59O1xuXG53cmFwTWFwLm9wdGdyb3VwID0gd3JhcE1hcC5vcHRpb247XG53cmFwTWFwLnRib2R5ID0gd3JhcE1hcC50Zm9vdCA9IHdyYXBNYXAuY29sZ3JvdXAgPSB3cmFwTWFwLmNhcHRpb24gPSB3cmFwTWFwLnRoZWFkO1xud3JhcE1hcC50aCA9IHdyYXBNYXAudGQ7XG5cblxuZnVuY3Rpb24ganFMaXRlSXNUZXh0Tm9kZShodG1sKSB7XG4gIHJldHVybiAhSFRNTF9SRUdFWFAudGVzdChodG1sKTtcbn1cblxuZnVuY3Rpb24ganFMaXRlQWNjZXB0c0RhdGEobm9kZSkge1xuICAvLyBUaGUgd2luZG93IG9iamVjdCBjYW4gYWNjZXB0IGRhdGEgYnV0IGhhcyBubyBub2RlVHlwZVxuICAvLyBPdGhlcndpc2Ugd2UgYXJlIG9ubHkgaW50ZXJlc3RlZCBpbiBlbGVtZW50cyAoMSkgYW5kIGRvY3VtZW50cyAoOSlcbiAgdmFyIG5vZGVUeXBlID0gbm9kZS5ub2RlVHlwZTtcbiAgcmV0dXJuIG5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCB8fCAhbm9kZVR5cGUgfHwgbm9kZVR5cGUgPT09IE5PREVfVFlQRV9ET0NVTUVOVDtcbn1cblxuZnVuY3Rpb24ganFMaXRlSGFzRGF0YShub2RlKSB7XG4gIGZvciAodmFyIGtleSBpbiBqcUNhY2hlW25vZGUubmczMzldKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBqcUxpdGVCdWlsZEZyYWdtZW50KGh0bWwsIGNvbnRleHQpIHtcbiAgdmFyIHRtcCwgdGFnLCB3cmFwLFxuICAgICAgZnJhZ21lbnQgPSBjb250ZXh0LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcbiAgICAgIG5vZGVzID0gW10sIGk7XG5cbiAgaWYgKGpxTGl0ZUlzVGV4dE5vZGUoaHRtbCkpIHtcbiAgICAvLyBDb252ZXJ0IG5vbi1odG1sIGludG8gYSB0ZXh0IG5vZGVcbiAgICBub2Rlcy5wdXNoKGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoaHRtbCkpO1xuICB9IGVsc2Uge1xuICAgIC8vIENvbnZlcnQgaHRtbCBpbnRvIERPTSBub2Rlc1xuICAgIHRtcCA9IHRtcCB8fCBmcmFnbWVudC5hcHBlbmRDaGlsZChjb250ZXh0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xuICAgIHRhZyA9IChUQUdfTkFNRV9SRUdFWFAuZXhlYyhodG1sKSB8fCBbXCJcIiwgXCJcIl0pWzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgd3JhcCA9IHdyYXBNYXBbdGFnXSB8fCB3cmFwTWFwLl9kZWZhdWx0O1xuICAgIHRtcC5pbm5lckhUTUwgPSB3cmFwWzFdICsgaHRtbC5yZXBsYWNlKFhIVE1MX1RBR19SRUdFWFAsIFwiPCQxPjwvJDI+XCIpICsgd3JhcFsyXTtcblxuICAgIC8vIERlc2NlbmQgdGhyb3VnaCB3cmFwcGVycyB0byB0aGUgcmlnaHQgY29udGVudFxuICAgIGkgPSB3cmFwWzBdO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHRtcCA9IHRtcC5sYXN0Q2hpbGQ7XG4gICAgfVxuXG4gICAgbm9kZXMgPSBjb25jYXQobm9kZXMsIHRtcC5jaGlsZE5vZGVzKTtcblxuICAgIHRtcCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG4gICAgdG1wLnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuXG4gIC8vIFJlbW92ZSB3cmFwcGVyIGZyb20gZnJhZ21lbnRcbiAgZnJhZ21lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICBmcmFnbWVudC5pbm5lckhUTUwgPSBcIlwiOyAvLyBDbGVhciBpbm5lciBIVE1MXG4gIGZvckVhY2gobm9kZXMsIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChub2RlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGZyYWdtZW50O1xufVxuXG5mdW5jdGlvbiBqcUxpdGVQYXJzZUhUTUwoaHRtbCwgY29udGV4dCkge1xuICBjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcbiAgdmFyIHBhcnNlZDtcblxuICBpZiAoKHBhcnNlZCA9IFNJTkdMRV9UQUdfUkVHRVhQLmV4ZWMoaHRtbCkpKSB7XG4gICAgcmV0dXJuIFtjb250ZXh0LmNyZWF0ZUVsZW1lbnQocGFyc2VkWzFdKV07XG4gIH1cblxuICBpZiAoKHBhcnNlZCA9IGpxTGl0ZUJ1aWxkRnJhZ21lbnQoaHRtbCwgY29udGV4dCkpKSB7XG4gICAgcmV0dXJuIHBhcnNlZC5jaGlsZE5vZGVzO1xuICB9XG5cbiAgcmV0dXJuIFtdO1xufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmZ1bmN0aW9uIEpRTGl0ZShlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSlFMaXRlKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICB2YXIgYXJnSXNTdHJpbmc7XG5cbiAgaWYgKGlzU3RyaW5nKGVsZW1lbnQpKSB7XG4gICAgZWxlbWVudCA9IHRyaW0oZWxlbWVudCk7XG4gICAgYXJnSXNTdHJpbmcgPSB0cnVlO1xuICB9XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBKUUxpdGUpKSB7XG4gICAgaWYgKGFyZ0lzU3RyaW5nICYmIGVsZW1lbnQuY2hhckF0KDApICE9ICc8Jykge1xuICAgICAgdGhyb3cganFMaXRlTWluRXJyKCdub3NlbCcsICdMb29raW5nIHVwIGVsZW1lbnRzIHZpYSBzZWxlY3RvcnMgaXMgbm90IHN1cHBvcnRlZCBieSBqcUxpdGUhIFNlZTogaHR0cDovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvYW5ndWxhci5lbGVtZW50Jyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgSlFMaXRlKGVsZW1lbnQpO1xuICB9XG5cbiAgaWYgKGFyZ0lzU3RyaW5nKSB7XG4gICAganFMaXRlQWRkTm9kZXModGhpcywganFMaXRlUGFyc2VIVE1MKGVsZW1lbnQpKTtcbiAgfSBlbHNlIHtcbiAgICBqcUxpdGVBZGROb2Rlcyh0aGlzLCBlbGVtZW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBqcUxpdGVDbG9uZShlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcbn1cblxuZnVuY3Rpb24ganFMaXRlRGVhbG9jKGVsZW1lbnQsIG9ubHlEZXNjZW5kYW50cykge1xuICBpZiAoIW9ubHlEZXNjZW5kYW50cykganFMaXRlUmVtb3ZlRGF0YShlbGVtZW50KTtcblxuICBpZiAoZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKSB7XG4gICAgdmFyIGRlc2NlbmRhbnRzID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcqJyk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBkZXNjZW5kYW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGpxTGl0ZVJlbW92ZURhdGEoZGVzY2VuZGFudHNbaV0pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBqcUxpdGVPZmYoZWxlbWVudCwgdHlwZSwgZm4sIHVuc3VwcG9ydGVkKSB7XG4gIGlmIChpc0RlZmluZWQodW5zdXBwb3J0ZWQpKSB0aHJvdyBqcUxpdGVNaW5FcnIoJ29mZmFyZ3MnLCAnanFMaXRlI29mZigpIGRvZXMgbm90IHN1cHBvcnQgdGhlIGBzZWxlY3RvcmAgYXJndW1lbnQnKTtcblxuICB2YXIgZXhwYW5kb1N0b3JlID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQpO1xuICB2YXIgZXZlbnRzID0gZXhwYW5kb1N0b3JlICYmIGV4cGFuZG9TdG9yZS5ldmVudHM7XG4gIHZhciBoYW5kbGUgPSBleHBhbmRvU3RvcmUgJiYgZXhwYW5kb1N0b3JlLmhhbmRsZTtcblxuICBpZiAoIWhhbmRsZSkgcmV0dXJuOyAvL25vIGxpc3RlbmVycyByZWdpc3RlcmVkXG5cbiAgaWYgKCF0eXBlKSB7XG4gICAgZm9yICh0eXBlIGluIGV2ZW50cykge1xuICAgICAgaWYgKHR5cGUgIT09ICckZGVzdHJveScpIHtcbiAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuKGVsZW1lbnQsIHR5cGUsIGhhbmRsZSk7XG4gICAgICB9XG4gICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3JFYWNoKHR5cGUuc3BsaXQoJyAnKSwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgaWYgKGlzRGVmaW5lZChmbikpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVyRm5zID0gZXZlbnRzW3R5cGVdO1xuICAgICAgICBhcnJheVJlbW92ZShsaXN0ZW5lckZucyB8fCBbXSwgZm4pO1xuICAgICAgICBpZiAobGlzdGVuZXJGbnMgJiYgbGlzdGVuZXJGbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyRm4oZWxlbWVudCwgdHlwZSwgaGFuZGxlKTtcbiAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlUmVtb3ZlRGF0YShlbGVtZW50LCBuYW1lKSB7XG4gIHZhciBleHBhbmRvSWQgPSBlbGVtZW50Lm5nMzM5O1xuICB2YXIgZXhwYW5kb1N0b3JlID0gZXhwYW5kb0lkICYmIGpxQ2FjaGVbZXhwYW5kb0lkXTtcblxuICBpZiAoZXhwYW5kb1N0b3JlKSB7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIGRlbGV0ZSBleHBhbmRvU3RvcmUuZGF0YVtuYW1lXTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZXhwYW5kb1N0b3JlLmhhbmRsZSkge1xuICAgICAgaWYgKGV4cGFuZG9TdG9yZS5ldmVudHMuJGRlc3Ryb3kpIHtcbiAgICAgICAgZXhwYW5kb1N0b3JlLmhhbmRsZSh7fSwgJyRkZXN0cm95Jyk7XG4gICAgICB9XG4gICAgICBqcUxpdGVPZmYoZWxlbWVudCk7XG4gICAgfVxuICAgIGRlbGV0ZSBqcUNhY2hlW2V4cGFuZG9JZF07XG4gICAgZWxlbWVudC5uZzMzOSA9IHVuZGVmaW5lZDsgLy8gZG9uJ3QgZGVsZXRlIERPTSBleHBhbmRvcy4gSUUgYW5kIENocm9tZSBkb24ndCBsaWtlIGl0XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwgY3JlYXRlSWZOZWNlc3NhcnkpIHtcbiAgdmFyIGV4cGFuZG9JZCA9IGVsZW1lbnQubmczMzksXG4gICAgICBleHBhbmRvU3RvcmUgPSBleHBhbmRvSWQgJiYganFDYWNoZVtleHBhbmRvSWRdO1xuXG4gIGlmIChjcmVhdGVJZk5lY2Vzc2FyeSAmJiAhZXhwYW5kb1N0b3JlKSB7XG4gICAgZWxlbWVudC5uZzMzOSA9IGV4cGFuZG9JZCA9IGpxTmV4dElkKCk7XG4gICAgZXhwYW5kb1N0b3JlID0ganFDYWNoZVtleHBhbmRvSWRdID0ge2V2ZW50czoge30sIGRhdGE6IHt9LCBoYW5kbGU6IHVuZGVmaW5lZH07XG4gIH1cblxuICByZXR1cm4gZXhwYW5kb1N0b3JlO1xufVxuXG5cbmZ1bmN0aW9uIGpxTGl0ZURhdGEoZWxlbWVudCwga2V5LCB2YWx1ZSkge1xuICBpZiAoanFMaXRlQWNjZXB0c0RhdGEoZWxlbWVudCkpIHtcblxuICAgIHZhciBpc1NpbXBsZVNldHRlciA9IGlzRGVmaW5lZCh2YWx1ZSk7XG4gICAgdmFyIGlzU2ltcGxlR2V0dGVyID0gIWlzU2ltcGxlU2V0dGVyICYmIGtleSAmJiAhaXNPYmplY3Qoa2V5KTtcbiAgICB2YXIgbWFzc0dldHRlciA9ICFrZXk7XG4gICAgdmFyIGV4cGFuZG9TdG9yZSA9IGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50LCAhaXNTaW1wbGVHZXR0ZXIpO1xuICAgIHZhciBkYXRhID0gZXhwYW5kb1N0b3JlICYmIGV4cGFuZG9TdG9yZS5kYXRhO1xuXG4gICAgaWYgKGlzU2ltcGxlU2V0dGVyKSB7IC8vIGRhdGEoJ2tleScsIHZhbHVlKVxuICAgICAgZGF0YVtrZXldID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChtYXNzR2V0dGVyKSB7ICAvLyBkYXRhKClcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNTaW1wbGVHZXR0ZXIpIHsgLy8gZGF0YSgna2V5JylcbiAgICAgICAgICAvLyBkb24ndCBmb3JjZSBjcmVhdGlvbiBvZiBleHBhbmRvU3RvcmUgaWYgaXQgZG9lc24ndCBleGlzdCB5ZXRcbiAgICAgICAgICByZXR1cm4gZGF0YSAmJiBkYXRhW2tleV07XG4gICAgICAgIH0gZWxzZSB7IC8vIG1hc3Mtc2V0dGVyOiBkYXRhKHtrZXkxOiB2YWwxLCBrZXkyOiB2YWwyfSlcbiAgICAgICAgICBleHRlbmQoZGF0YSwga2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBqcUxpdGVIYXNDbGFzcyhlbGVtZW50LCBzZWxlY3Rvcikge1xuICBpZiAoIWVsZW1lbnQuZ2V0QXR0cmlidXRlKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiAoKFwiIFwiICsgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpIHx8ICcnKSArIFwiIFwiKS5yZXBsYWNlKC9bXFxuXFx0XS9nLCBcIiBcIikuXG4gICAgICBpbmRleE9mKFwiIFwiICsgc2VsZWN0b3IgKyBcIiBcIikgPiAtMSk7XG59XG5cbmZ1bmN0aW9uIGpxTGl0ZVJlbW92ZUNsYXNzKGVsZW1lbnQsIGNzc0NsYXNzZXMpIHtcbiAgaWYgKGNzc0NsYXNzZXMgJiYgZWxlbWVudC5zZXRBdHRyaWJ1dGUpIHtcbiAgICBmb3JFYWNoKGNzc0NsYXNzZXMuc3BsaXQoJyAnKSwgZnVuY3Rpb24oY3NzQ2xhc3MpIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIHRyaW0oXG4gICAgICAgICAgKFwiIFwiICsgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpIHx8ICcnKSArIFwiIFwiKVxuICAgICAgICAgIC5yZXBsYWNlKC9bXFxuXFx0XS9nLCBcIiBcIilcbiAgICAgICAgICAucmVwbGFjZShcIiBcIiArIHRyaW0oY3NzQ2xhc3MpICsgXCIgXCIsIFwiIFwiKSlcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlQWRkQ2xhc3MoZWxlbWVudCwgY3NzQ2xhc3Nlcykge1xuICBpZiAoY3NzQ2xhc3NlcyAmJiBlbGVtZW50LnNldEF0dHJpYnV0ZSkge1xuICAgIHZhciBleGlzdGluZ0NsYXNzZXMgPSAoJyAnICsgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpIHx8ICcnKSArICcgJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvW1xcblxcdF0vZywgXCIgXCIpO1xuXG4gICAgZm9yRWFjaChjc3NDbGFzc2VzLnNwbGl0KCcgJyksIGZ1bmN0aW9uKGNzc0NsYXNzKSB7XG4gICAgICBjc3NDbGFzcyA9IHRyaW0oY3NzQ2xhc3MpO1xuICAgICAgaWYgKGV4aXN0aW5nQ2xhc3Nlcy5pbmRleE9mKCcgJyArIGNzc0NsYXNzICsgJyAnKSA9PT0gLTEpIHtcbiAgICAgICAgZXhpc3RpbmdDbGFzc2VzICs9IGNzc0NsYXNzICsgJyAnO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgdHJpbShleGlzdGluZ0NsYXNzZXMpKTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGpxTGl0ZUFkZE5vZGVzKHJvb3QsIGVsZW1lbnRzKSB7XG4gIC8vIFRISVMgQ09ERSBJUyBWRVJZIEhPVC4gRG9uJ3QgbWFrZSBjaGFuZ2VzIHdpdGhvdXQgYmVuY2htYXJraW5nLlxuXG4gIGlmIChlbGVtZW50cykge1xuXG4gICAgLy8gaWYgYSBOb2RlICh0aGUgbW9zdCBjb21tb24gY2FzZSlcbiAgICBpZiAoZWxlbWVudHMubm9kZVR5cGUpIHtcbiAgICAgIHJvb3Rbcm9vdC5sZW5ndGgrK10gPSBlbGVtZW50cztcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDtcblxuICAgICAgLy8gaWYgYW4gQXJyYXkgb3IgTm9kZUxpc3QgYW5kIG5vdCBhIFdpbmRvd1xuICAgICAgaWYgKHR5cGVvZiBsZW5ndGggPT09ICdudW1iZXInICYmIGVsZW1lbnRzLndpbmRvdyAhPT0gZWxlbWVudHMpIHtcbiAgICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJvb3Rbcm9vdC5sZW5ndGgrK10gPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3Rbcm9vdC5sZW5ndGgrK10gPSBlbGVtZW50cztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBqcUxpdGVDb250cm9sbGVyKGVsZW1lbnQsIG5hbWUpIHtcbiAgcmV0dXJuIGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudCwgJyQnICsgKG5hbWUgfHwgJ25nQ29udHJvbGxlcicpICsgJ0NvbnRyb2xsZXInKTtcbn1cblxuZnVuY3Rpb24ganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LCBuYW1lLCB2YWx1ZSkge1xuICAvLyBpZiBlbGVtZW50IGlzIHRoZSBkb2N1bWVudCBvYmplY3Qgd29yayB3aXRoIHRoZSBodG1sIGVsZW1lbnQgaW5zdGVhZFxuICAvLyB0aGlzIG1ha2VzICQoZG9jdW1lbnQpLnNjb3BlKCkgcG9zc2libGVcbiAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT0gTk9ERV9UWVBFX0RPQ1VNRU5UKSB7XG4gICAgZWxlbWVudCA9IGVsZW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB9XG4gIHZhciBuYW1lcyA9IGlzQXJyYXkobmFtZSkgPyBuYW1lIDogW25hbWVdO1xuXG4gIHdoaWxlIChlbGVtZW50KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbmFtZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgaWYgKCh2YWx1ZSA9IGpxTGl0ZS5kYXRhKGVsZW1lbnQsIG5hbWVzW2ldKSkgIT09IHVuZGVmaW5lZCkgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8vIElmIGRlYWxpbmcgd2l0aCBhIGRvY3VtZW50IGZyYWdtZW50IG5vZGUgd2l0aCBhIGhvc3QgZWxlbWVudCwgYW5kIG5vIHBhcmVudCwgdXNlIHRoZSBob3N0XG4gICAgLy8gZWxlbWVudCBhcyB0aGUgcGFyZW50LiBUaGlzIGVuYWJsZXMgZGlyZWN0aXZlcyB3aXRoaW4gYSBTaGFkb3cgRE9NIG9yIHBvbHlmaWxsZWQgU2hhZG93IERPTVxuICAgIC8vIHRvIGxvb2t1cCBwYXJlbnQgY29udHJvbGxlcnMuXG4gICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSB8fCAoZWxlbWVudC5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UICYmIGVsZW1lbnQuaG9zdCk7XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlRW1wdHkoZWxlbWVudCkge1xuICBqcUxpdGVEZWFsb2MoZWxlbWVudCwgdHJ1ZSk7XG4gIHdoaWxlIChlbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gIH1cbn1cblxuZnVuY3Rpb24ganFMaXRlUmVtb3ZlKGVsZW1lbnQsIGtlZXBEYXRhKSB7XG4gIGlmICgha2VlcERhdGEpIGpxTGl0ZURlYWxvYyhlbGVtZW50KTtcbiAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgaWYgKHBhcmVudCkgcGFyZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xufVxuXG5cbmZ1bmN0aW9uIGpxTGl0ZURvY3VtZW50TG9hZGVkKGFjdGlvbiwgd2luKSB7XG4gIHdpbiA9IHdpbiB8fCB3aW5kb3c7XG4gIGlmICh3aW4uZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgIC8vIEZvcmNlIHRoZSBhY3Rpb24gdG8gYmUgcnVuIGFzeW5jIGZvciBjb25zaXN0ZW50IGJlaGF2aW91clxuICAgIC8vIGZyb20gdGhlIGFjdGlvbidzIHBvaW50IG9mIHZpZXdcbiAgICAvLyBpLmUuIGl0IHdpbGwgZGVmaW5pdGVseSBub3QgYmUgaW4gYSAkYXBwbHlcbiAgICB3aW4uc2V0VGltZW91dChhY3Rpb24pO1xuICB9IGVsc2Uge1xuICAgIC8vIE5vIG5lZWQgdG8gdW5iaW5kIHRoaXMgaGFuZGxlciBhcyBsb2FkIGlzIG9ubHkgZXZlciBjYWxsZWQgb25jZVxuICAgIGpxTGl0ZSh3aW4pLm9uKCdsb2FkJywgYWN0aW9uKTtcbiAgfVxufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIEZ1bmN0aW9ucyB3aGljaCBhcmUgZGVjbGFyZWQgZGlyZWN0bHkuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbnZhciBKUUxpdGVQcm90b3R5cGUgPSBKUUxpdGUucHJvdG90eXBlID0ge1xuICByZWFkeTogZnVuY3Rpb24oZm4pIHtcbiAgICB2YXIgZmlyZWQgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIHRyaWdnZXIoKSB7XG4gICAgICBpZiAoZmlyZWQpIHJldHVybjtcbiAgICAgIGZpcmVkID0gdHJ1ZTtcbiAgICAgIGZuKCk7XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgaWYgZG9jdW1lbnQgaXMgYWxyZWFkeSBsb2FkZWRcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgc2V0VGltZW91dCh0cmlnZ2VyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vbignRE9NQ29udGVudExvYWRlZCcsIHRyaWdnZXIpOyAvLyB3b3JrcyBmb3IgbW9kZXJuIGJyb3dzZXJzIGFuZCBJRTlcbiAgICAgIC8vIHdlIGNhbiBub3QgdXNlIGpxTGl0ZSBzaW5jZSB3ZSBhcmUgbm90IGRvbmUgbG9hZGluZyBhbmQgalF1ZXJ5IGNvdWxkIGJlIGxvYWRlZCBsYXRlci5cbiAgICAgIC8vIGpzaGludCAtVzA2NFxuICAgICAgSlFMaXRlKHdpbmRvdykub24oJ2xvYWQnLCB0cmlnZ2VyKTsgLy8gZmFsbGJhY2sgdG8gd2luZG93Lm9ubG9hZCBmb3Igb3RoZXJzXG4gICAgICAvLyBqc2hpbnQgK1cwNjRcbiAgICB9XG4gIH0sXG4gIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmFsdWUgPSBbXTtcbiAgICBmb3JFYWNoKHRoaXMsIGZ1bmN0aW9uKGUpIHsgdmFsdWUucHVzaCgnJyArIGUpO30pO1xuICAgIHJldHVybiAnWycgKyB2YWx1ZS5qb2luKCcsICcpICsgJ10nO1xuICB9LFxuXG4gIGVxOiBmdW5jdGlvbihpbmRleCkge1xuICAgICAgcmV0dXJuIChpbmRleCA+PSAwKSA/IGpxTGl0ZSh0aGlzW2luZGV4XSkgOiBqcUxpdGUodGhpc1t0aGlzLmxlbmd0aCArIGluZGV4XSk7XG4gIH0sXG5cbiAgbGVuZ3RoOiAwLFxuICBwdXNoOiBwdXNoLFxuICBzb3J0OiBbXS5zb3J0LFxuICBzcGxpY2U6IFtdLnNwbGljZVxufTtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBGdW5jdGlvbnMgaXRlcmF0aW5nIGdldHRlci9zZXR0ZXJzLlxuLy8gdGhlc2UgZnVuY3Rpb25zIHJldHVybiBzZWxmIG9uIHNldHRlciBhbmRcbi8vIHZhbHVlIG9uIGdldC5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xudmFyIEJPT0xFQU5fQVRUUiA9IHt9O1xuZm9yRWFjaCgnbXVsdGlwbGUsc2VsZWN0ZWQsY2hlY2tlZCxkaXNhYmxlZCxyZWFkT25seSxyZXF1aXJlZCxvcGVuJy5zcGxpdCgnLCcpLCBmdW5jdGlvbih2YWx1ZSkge1xuICBCT09MRUFOX0FUVFJbbG93ZXJjYXNlKHZhbHVlKV0gPSB2YWx1ZTtcbn0pO1xudmFyIEJPT0xFQU5fRUxFTUVOVFMgPSB7fTtcbmZvckVhY2goJ2lucHV0LHNlbGVjdCxvcHRpb24sdGV4dGFyZWEsYnV0dG9uLGZvcm0sZGV0YWlscycuc3BsaXQoJywnKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgQk9PTEVBTl9FTEVNRU5UU1t2YWx1ZV0gPSB0cnVlO1xufSk7XG52YXIgQUxJQVNFRF9BVFRSID0ge1xuICAnbmdNaW5sZW5ndGgnOiAnbWlubGVuZ3RoJyxcbiAgJ25nTWF4bGVuZ3RoJzogJ21heGxlbmd0aCcsXG4gICduZ01pbic6ICdtaW4nLFxuICAnbmdNYXgnOiAnbWF4JyxcbiAgJ25nUGF0dGVybic6ICdwYXR0ZXJuJ1xufTtcblxuZnVuY3Rpb24gZ2V0Qm9vbGVhbkF0dHJOYW1lKGVsZW1lbnQsIG5hbWUpIHtcbiAgLy8gY2hlY2sgZG9tIGxhc3Qgc2luY2Ugd2Ugd2lsbCBtb3N0IGxpa2VseSBmYWlsIG9uIG5hbWVcbiAgdmFyIGJvb2xlYW5BdHRyID0gQk9PTEVBTl9BVFRSW25hbWUudG9Mb3dlckNhc2UoKV07XG5cbiAgLy8gYm9vbGVhbkF0dHIgaXMgaGVyZSB0d2ljZSB0byBtaW5pbWl6ZSBET00gYWNjZXNzXG4gIHJldHVybiBib29sZWFuQXR0ciAmJiBCT09MRUFOX0VMRU1FTlRTW25vZGVOYW1lXyhlbGVtZW50KV0gJiYgYm9vbGVhbkF0dHI7XG59XG5cbmZ1bmN0aW9uIGdldEFsaWFzZWRBdHRyTmFtZShlbGVtZW50LCBuYW1lKSB7XG4gIHZhciBub2RlTmFtZSA9IGVsZW1lbnQubm9kZU5hbWU7XG4gIHJldHVybiAobm9kZU5hbWUgPT09ICdJTlBVVCcgfHwgbm9kZU5hbWUgPT09ICdURVhUQVJFQScpICYmIEFMSUFTRURfQVRUUltuYW1lXTtcbn1cblxuZm9yRWFjaCh7XG4gIGRhdGE6IGpxTGl0ZURhdGEsXG4gIHJlbW92ZURhdGE6IGpxTGl0ZVJlbW92ZURhdGEsXG4gIGhhc0RhdGE6IGpxTGl0ZUhhc0RhdGFcbn0sIGZ1bmN0aW9uKGZuLCBuYW1lKSB7XG4gIEpRTGl0ZVtuYW1lXSA9IGZuO1xufSk7XG5cbmZvckVhY2goe1xuICBkYXRhOiBqcUxpdGVEYXRhLFxuICBpbmhlcml0ZWREYXRhOiBqcUxpdGVJbmhlcml0ZWREYXRhLFxuXG4gIHNjb3BlOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgLy8gQ2FuJ3QgdXNlIGpxTGl0ZURhdGEgaGVyZSBkaXJlY3RseSBzbyB3ZSBzdGF5IGNvbXBhdGlibGUgd2l0aCBqUXVlcnkhXG4gICAgcmV0dXJuIGpxTGl0ZS5kYXRhKGVsZW1lbnQsICckc2NvcGUnKSB8fCBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQucGFyZW50Tm9kZSB8fCBlbGVtZW50LCBbJyRpc29sYXRlU2NvcGUnLCAnJHNjb3BlJ10pO1xuICB9LFxuXG4gIGlzb2xhdGVTY29wZTogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIC8vIENhbid0IHVzZSBqcUxpdGVEYXRhIGhlcmUgZGlyZWN0bHkgc28gd2Ugc3RheSBjb21wYXRpYmxlIHdpdGggalF1ZXJ5IVxuICAgIHJldHVybiBqcUxpdGUuZGF0YShlbGVtZW50LCAnJGlzb2xhdGVTY29wZScpIHx8IGpxTGl0ZS5kYXRhKGVsZW1lbnQsICckaXNvbGF0ZVNjb3BlTm9UZW1wbGF0ZScpO1xuICB9LFxuXG4gIGNvbnRyb2xsZXI6IGpxTGl0ZUNvbnRyb2xsZXIsXG5cbiAgaW5qZWN0b3I6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4ganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LCAnJGluamVjdG9yJyk7XG4gIH0sXG5cbiAgcmVtb3ZlQXR0cjogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSkge1xuICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICB9LFxuXG4gIGhhc0NsYXNzOiBqcUxpdGVIYXNDbGFzcyxcblxuICBjc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9IGNhbWVsQ2FzZShuYW1lKTtcblxuICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICBlbGVtZW50LnN0eWxlW25hbWVdID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBlbGVtZW50LnN0eWxlW25hbWVdO1xuICAgIH1cbiAgfSxcblxuICBhdHRyOiBmdW5jdGlvbihlbGVtZW50LCBuYW1lLCB2YWx1ZSkge1xuICAgIHZhciBub2RlVHlwZSA9IGVsZW1lbnQubm9kZVR5cGU7XG4gICAgaWYgKG5vZGVUeXBlID09PSBOT0RFX1RZUEVfVEVYVCB8fCBub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0FUVFJJQlVURSB8fCBub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0NPTU1FTlQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGxvd2VyY2FzZWROYW1lID0gbG93ZXJjYXNlKG5hbWUpO1xuICAgIGlmIChCT09MRUFOX0FUVFJbbG93ZXJjYXNlZE5hbWVdKSB7XG4gICAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICBpZiAoISF2YWx1ZSkge1xuICAgICAgICAgIGVsZW1lbnRbbmFtZV0gPSB0cnVlO1xuICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIGxvd2VyY2FzZWROYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50W25hbWVdID0gZmFsc2U7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobG93ZXJjYXNlZE5hbWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKGVsZW1lbnRbbmFtZV0gfHxcbiAgICAgICAgICAgICAgICAgKGVsZW1lbnQuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0obmFtZSkgfHwgbm9vcCkuc3BlY2lmaWVkKVxuICAgICAgICAgICAgICAgPyBsb3dlcmNhc2VkTmFtZVxuICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSkge1xuICAgICAgLy8gdGhlIGV4dHJhIGFyZ3VtZW50IFwiMlwiIGlzIHRvIGdldCB0aGUgcmlnaHQgdGhpbmcgZm9yIGEuaHJlZiBpbiBJRSwgc2VlIGpRdWVyeSBjb2RlXG4gICAgICAvLyBzb21lIGVsZW1lbnRzIChlLmcuIERvY3VtZW50KSBkb24ndCBoYXZlIGdldCBhdHRyaWJ1dGUsIHNvIHJldHVybiB1bmRlZmluZWRcbiAgICAgIHZhciByZXQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lLCAyKTtcbiAgICAgIC8vIG5vcm1hbGl6ZSBub24tZXhpc3RpbmcgYXR0cmlidXRlcyB0byB1bmRlZmluZWQgKGFzIGpRdWVyeSlcbiAgICAgIHJldHVybiByZXQgPT09IG51bGwgPyB1bmRlZmluZWQgOiByZXQ7XG4gICAgfVxuICB9LFxuXG4gIHByb3A6IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgIGVsZW1lbnRbbmFtZV0gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVsZW1lbnRbbmFtZV07XG4gICAgfVxuICB9LFxuXG4gIHRleHQ6IChmdW5jdGlvbigpIHtcbiAgICBnZXRUZXh0LiRkdiA9ICcnO1xuICAgIHJldHVybiBnZXRUZXh0O1xuXG4gICAgZnVuY3Rpb24gZ2V0VGV4dChlbGVtZW50LCB2YWx1ZSkge1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICB2YXIgbm9kZVR5cGUgPSBlbGVtZW50Lm5vZGVUeXBlO1xuICAgICAgICByZXR1cm4gKG5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCB8fCBub2RlVHlwZSA9PT0gTk9ERV9UWVBFX1RFWFQpID8gZWxlbWVudC50ZXh0Q29udGVudCA6ICcnO1xuICAgICAgfVxuICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHZhbHVlO1xuICAgIH1cbiAgfSkoKSxcblxuICB2YWw6IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgaWYgKGVsZW1lbnQubXVsdGlwbGUgJiYgbm9kZU5hbWVfKGVsZW1lbnQpID09PSAnc2VsZWN0Jykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIGZvckVhY2goZWxlbWVudC5vcHRpb25zLCBmdW5jdGlvbihvcHRpb24pIHtcbiAgICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChvcHRpb24udmFsdWUgfHwgb3B0aW9uLnRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQubGVuZ3RoID09PSAwID8gbnVsbCA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtZW50LnZhbHVlO1xuICAgIH1cbiAgICBlbGVtZW50LnZhbHVlID0gdmFsdWU7XG4gIH0sXG5cbiAgaHRtbDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5pbm5lckhUTUw7XG4gICAgfVxuICAgIGpxTGl0ZURlYWxvYyhlbGVtZW50LCB0cnVlKTtcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IHZhbHVlO1xuICB9LFxuXG4gIGVtcHR5OiBqcUxpdGVFbXB0eVxufSwgZnVuY3Rpb24oZm4sIG5hbWUpIHtcbiAgLyoqXG4gICAqIFByb3BlcnRpZXM6IHdyaXRlcyByZXR1cm4gc2VsZWN0aW9uLCByZWFkcyByZXR1cm4gZmlyc3QgdmFsdWVcbiAgICovXG4gIEpRTGl0ZS5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbihhcmcxLCBhcmcyKSB7XG4gICAgdmFyIGksIGtleTtcbiAgICB2YXIgbm9kZUNvdW50ID0gdGhpcy5sZW5ndGg7XG5cbiAgICAvLyBqcUxpdGVIYXNDbGFzcyBoYXMgb25seSB0d28gYXJndW1lbnRzLCBidXQgaXMgYSBnZXR0ZXItb25seSBmbiwgc28gd2UgbmVlZCB0byBzcGVjaWFsLWNhc2UgaXRcbiAgICAvLyBpbiBhIHdheSB0aGF0IHN1cnZpdmVzIG1pbmlmaWNhdGlvbi5cbiAgICAvLyBqcUxpdGVFbXB0eSB0YWtlcyBubyBhcmd1bWVudHMgYnV0IGlzIGEgc2V0dGVyLlxuICAgIGlmIChmbiAhPT0ganFMaXRlRW1wdHkgJiZcbiAgICAgICAgKCgoZm4ubGVuZ3RoID09IDIgJiYgKGZuICE9PSBqcUxpdGVIYXNDbGFzcyAmJiBmbiAhPT0ganFMaXRlQ29udHJvbGxlcikpID8gYXJnMSA6IGFyZzIpID09PSB1bmRlZmluZWQpKSB7XG4gICAgICBpZiAoaXNPYmplY3QoYXJnMSkpIHtcblxuICAgICAgICAvLyB3ZSBhcmUgYSB3cml0ZSwgYnV0IHRoZSBvYmplY3QgcHJvcGVydGllcyBhcmUgdGhlIGtleS92YWx1ZXNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG5vZGVDb3VudDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGZuID09PSBqcUxpdGVEYXRhKSB7XG4gICAgICAgICAgICAvLyBkYXRhKCkgdGFrZXMgdGhlIHdob2xlIG9iamVjdCBpbiBqUXVlcnlcbiAgICAgICAgICAgIGZuKHRoaXNbaV0sIGFyZzEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGtleSBpbiBhcmcxKSB7XG4gICAgICAgICAgICAgIGZuKHRoaXNbaV0sIGtleSwgYXJnMVtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0dXJuIHNlbGYgZm9yIGNoYWluaW5nXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gd2UgYXJlIGEgcmVhZCwgc28gcmVhZCB0aGUgZmlyc3QgY2hpbGQuXG4gICAgICAgIC8vIFRPRE86IGRvIHdlIHN0aWxsIG5lZWQgdGhpcz9cbiAgICAgICAgdmFyIHZhbHVlID0gZm4uJGR2O1xuICAgICAgICAvLyBPbmx5IGlmIHdlIGhhdmUgJGR2IGRvIHdlIGl0ZXJhdGUgb3ZlciBhbGwsIG90aGVyd2lzZSBpdCBpcyBqdXN0IHRoZSBmaXJzdCBlbGVtZW50LlxuICAgICAgICB2YXIgamogPSAodmFsdWUgPT09IHVuZGVmaW5lZCkgPyBNYXRoLm1pbihub2RlQ291bnQsIDEpIDogbm9kZUNvdW50O1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgICB2YXIgbm9kZVZhbHVlID0gZm4odGhpc1tqXSwgYXJnMSwgYXJnMik7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZSA/IHZhbHVlICsgbm9kZVZhbHVlIDogbm9kZVZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gd2UgYXJlIGEgd3JpdGUsIHNvIGFwcGx5IHRvIGFsbCBjaGlsZHJlblxuICAgICAgZm9yIChpID0gMDsgaSA8IG5vZGVDb3VudDsgaSsrKSB7XG4gICAgICAgIGZuKHRoaXNbaV0sIGFyZzEsIGFyZzIpO1xuICAgICAgfVxuICAgICAgLy8gcmV0dXJuIHNlbGYgZm9yIGNoYWluaW5nXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH07XG59KTtcblxuZnVuY3Rpb24gY3JlYXRlRXZlbnRIYW5kbGVyKGVsZW1lbnQsIGV2ZW50cykge1xuICB2YXIgZXZlbnRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQsIHR5cGUpIHtcbiAgICAvLyBqUXVlcnkgc3BlY2lmaWMgYXBpXG4gICAgZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcbiAgICB9O1xuXG4gICAgdmFyIGV2ZW50Rm5zID0gZXZlbnRzW3R5cGUgfHwgZXZlbnQudHlwZV07XG4gICAgdmFyIGV2ZW50Rm5zTGVuZ3RoID0gZXZlbnRGbnMgPyBldmVudEZucy5sZW5ndGggOiAwO1xuXG4gICAgaWYgKCFldmVudEZuc0xlbmd0aCkgcmV0dXJuO1xuXG4gICAgaWYgKGlzVW5kZWZpbmVkKGV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCkpIHtcbiAgICAgIHZhciBvcmlnaW5hbFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9IGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjtcbiAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBldmVudC5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmIChldmVudC5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcmlnaW5hbFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbikge1xuICAgICAgICAgIG9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uLmNhbGwoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIGV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID09PSB0cnVlO1xuICAgIH07XG5cbiAgICAvLyBDb3B5IGV2ZW50IGhhbmRsZXJzIGluIGNhc2UgZXZlbnQgaGFuZGxlcnMgYXJyYXkgaXMgbW9kaWZpZWQgZHVyaW5nIGV4ZWN1dGlvbi5cbiAgICBpZiAoKGV2ZW50Rm5zTGVuZ3RoID4gMSkpIHtcbiAgICAgIGV2ZW50Rm5zID0gc2hhbGxvd0NvcHkoZXZlbnRGbnMpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRGbnNMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XG4gICAgICAgIGV2ZW50Rm5zW2ldLmNhbGwoZWxlbWVudCwgZXZlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjayBmb3IgYW5ndWxhck1vY2tzL2NsZWFyRGF0YUNhY2hlIHRoYXQgbWFrZXMgaXQgcG9zc2libGUgdG8gZGVyZWdpc3RlciBhbGxcbiAgLy8gICAgICAgZXZlbnRzIG9uIGBlbGVtZW50YFxuICBldmVudEhhbmRsZXIuZWxlbSA9IGVsZW1lbnQ7XG4gIHJldHVybiBldmVudEhhbmRsZXI7XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gRnVuY3Rpb25zIGl0ZXJhdGluZyB0cmF2ZXJzYWwuXG4vLyBUaGVzZSBmdW5jdGlvbnMgY2hhaW4gcmVzdWx0cyBpbnRvIGEgc2luZ2xlXG4vLyBzZWxlY3Rvci5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZm9yRWFjaCh7XG4gIHJlbW92ZURhdGE6IGpxTGl0ZVJlbW92ZURhdGEsXG5cbiAgb246IGZ1bmN0aW9uIGpxTGl0ZU9uKGVsZW1lbnQsIHR5cGUsIGZuLCB1bnN1cHBvcnRlZCkge1xuICAgIGlmIChpc0RlZmluZWQodW5zdXBwb3J0ZWQpKSB0aHJvdyBqcUxpdGVNaW5FcnIoJ29uYXJncycsICdqcUxpdGUjb24oKSBkb2VzIG5vdCBzdXBwb3J0IHRoZSBgc2VsZWN0b3JgIG9yIGBldmVudERhdGFgIHBhcmFtZXRlcnMnKTtcblxuICAgIC8vIERvIG5vdCBhZGQgZXZlbnQgaGFuZGxlcnMgdG8gbm9uLWVsZW1lbnRzIGJlY2F1c2UgdGhleSB3aWxsIG5vdCBiZSBjbGVhbmVkIHVwLlxuICAgIGlmICghanFMaXRlQWNjZXB0c0RhdGEoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZXhwYW5kb1N0b3JlID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsIHRydWUpO1xuICAgIHZhciBldmVudHMgPSBleHBhbmRvU3RvcmUuZXZlbnRzO1xuICAgIHZhciBoYW5kbGUgPSBleHBhbmRvU3RvcmUuaGFuZGxlO1xuXG4gICAgaWYgKCFoYW5kbGUpIHtcbiAgICAgIGhhbmRsZSA9IGV4cGFuZG9TdG9yZS5oYW5kbGUgPSBjcmVhdGVFdmVudEhhbmRsZXIoZWxlbWVudCwgZXZlbnRzKTtcbiAgICB9XG5cbiAgICAvLyBodHRwOi8vanNwZXJmLmNvbS9zdHJpbmctaW5kZXhvZi12cy1zcGxpdFxuICAgIHZhciB0eXBlcyA9IHR5cGUuaW5kZXhPZignICcpID49IDAgPyB0eXBlLnNwbGl0KCcgJykgOiBbdHlwZV07XG4gICAgdmFyIGkgPSB0eXBlcy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICB0eXBlID0gdHlwZXNbaV07XG4gICAgICB2YXIgZXZlbnRGbnMgPSBldmVudHNbdHlwZV07XG5cbiAgICAgIGlmICghZXZlbnRGbnMpIHtcbiAgICAgICAgZXZlbnRzW3R5cGVdID0gW107XG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICdtb3VzZWVudGVyJyB8fCB0eXBlID09PSAnbW91c2VsZWF2ZScpIHtcbiAgICAgICAgICAvLyBSZWZlciB0byBqUXVlcnkncyBpbXBsZW1lbnRhdGlvbiBvZiBtb3VzZWVudGVyICYgbW91c2VsZWF2ZVxuICAgICAgICAgIC8vIFJlYWQgYWJvdXQgbW91c2VlbnRlciBhbmQgbW91c2VsZWF2ZTpcbiAgICAgICAgICAvLyBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2pzL2V2ZW50c19tb3VzZS5odG1sI2xpbms4XG5cbiAgICAgICAgICBqcUxpdGVPbihlbGVtZW50LCBNT1VTRV9FVkVOVF9NQVBbdHlwZV0sIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcywgcmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7XG4gICAgICAgICAgICAvLyBGb3IgbW91c2VudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXG4gICAgICAgICAgICAvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvd1xuICAgICAgICAgICAgaWYgKCFyZWxhdGVkIHx8IChyZWxhdGVkICE9PSB0YXJnZXQgJiYgIXRhcmdldC5jb250YWlucyhyZWxhdGVkKSkpIHtcbiAgICAgICAgICAgICAgaGFuZGxlKGV2ZW50LCB0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0eXBlICE9PSAnJGRlc3Ryb3knKSB7XG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyRm4oZWxlbWVudCwgdHlwZSwgaGFuZGxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnRGbnMgPSBldmVudHNbdHlwZV07XG4gICAgICB9XG4gICAgICBldmVudEZucy5wdXNoKGZuKTtcbiAgICB9XG4gIH0sXG5cbiAgb2ZmOiBqcUxpdGVPZmYsXG5cbiAgb25lOiBmdW5jdGlvbihlbGVtZW50LCB0eXBlLCBmbikge1xuICAgIGVsZW1lbnQgPSBqcUxpdGUoZWxlbWVudCk7XG5cbiAgICAvL2FkZCB0aGUgbGlzdGVuZXIgdHdpY2Ugc28gdGhhdCB3aGVuIGl0IGlzIGNhbGxlZFxuICAgIC8veW91IGNhbiByZW1vdmUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIGFuZCBzdGlsbCBiZVxuICAgIC8vYWJsZSB0byBjYWxsIGVsZW1lbnQub2ZmKGV2LCBmbikgbm9ybWFsbHlcbiAgICBlbGVtZW50Lm9uKHR5cGUsIGZ1bmN0aW9uIG9uRm4oKSB7XG4gICAgICBlbGVtZW50Lm9mZih0eXBlLCBmbik7XG4gICAgICBlbGVtZW50Lm9mZih0eXBlLCBvbkZuKTtcbiAgICB9KTtcbiAgICBlbGVtZW50Lm9uKHR5cGUsIGZuKTtcbiAgfSxcblxuICByZXBsYWNlV2l0aDogZnVuY3Rpb24oZWxlbWVudCwgcmVwbGFjZU5vZGUpIHtcbiAgICB2YXIgaW5kZXgsIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICBqcUxpdGVEZWFsb2MoZWxlbWVudCk7XG4gICAgZm9yRWFjaChuZXcgSlFMaXRlKHJlcGxhY2VOb2RlKSwgZnVuY3Rpb24obm9kZSkge1xuICAgICAgaWYgKGluZGV4KSB7XG4gICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgaW5kZXgubmV4dFNpYmxpbmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChub2RlLCBlbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGluZGV4ID0gbm9kZTtcbiAgICB9KTtcbiAgfSxcblxuICBjaGlsZHJlbjogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuICAgIGZvckVhY2goZWxlbWVudC5jaGlsZE5vZGVzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0VMRU1FTlQpIHtcbiAgICAgICAgY2hpbGRyZW4ucHVzaChlbGVtZW50KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH0sXG5cbiAgY29udGVudHM6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5jb250ZW50RG9jdW1lbnQgfHwgZWxlbWVudC5jaGlsZE5vZGVzIHx8IFtdO1xuICB9LFxuXG4gIGFwcGVuZDogZnVuY3Rpb24oZWxlbWVudCwgbm9kZSkge1xuICAgIHZhciBub2RlVHlwZSA9IGVsZW1lbnQubm9kZVR5cGU7XG4gICAgaWYgKG5vZGVUeXBlICE9PSBOT0RFX1RZUEVfRUxFTUVOVCAmJiBub2RlVHlwZSAhPT0gTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UKSByZXR1cm47XG5cbiAgICBub2RlID0gbmV3IEpRTGl0ZShub2RlKTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5vZGUubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgdmFyIGNoaWxkID0gbm9kZVtpXTtcbiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgIH1cbiAgfSxcblxuICBwcmVwZW5kOiBmdW5jdGlvbihlbGVtZW50LCBub2RlKSB7XG4gICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XG4gICAgICB2YXIgaW5kZXggPSBlbGVtZW50LmZpcnN0Q2hpbGQ7XG4gICAgICBmb3JFYWNoKG5ldyBKUUxpdGUobm9kZSksIGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgIGVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBpbmRleCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgd3JhcDogZnVuY3Rpb24oZWxlbWVudCwgd3JhcE5vZGUpIHtcbiAgICB3cmFwTm9kZSA9IGpxTGl0ZSh3cmFwTm9kZSkuZXEoMCkuY2xvbmUoKVswXTtcbiAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQod3JhcE5vZGUsIGVsZW1lbnQpO1xuICAgIH1cbiAgICB3cmFwTm9kZS5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgfSxcblxuICByZW1vdmU6IGpxTGl0ZVJlbW92ZSxcblxuICBkZXRhY2g6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBqcUxpdGVSZW1vdmUoZWxlbWVudCwgdHJ1ZSk7XG4gIH0sXG5cbiAgYWZ0ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIG5ld0VsZW1lbnQpIHtcbiAgICB2YXIgaW5kZXggPSBlbGVtZW50LCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgbmV3RWxlbWVudCA9IG5ldyBKUUxpdGUobmV3RWxlbWVudCk7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBuZXdFbGVtZW50Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgIHZhciBub2RlID0gbmV3RWxlbWVudFtpXTtcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgaW5kZXgubmV4dFNpYmxpbmcpO1xuICAgICAgaW5kZXggPSBub2RlO1xuICAgIH1cbiAgfSxcblxuICBhZGRDbGFzczoganFMaXRlQWRkQ2xhc3MsXG4gIHJlbW92ZUNsYXNzOiBqcUxpdGVSZW1vdmVDbGFzcyxcblxuICB0b2dnbGVDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgc2VsZWN0b3IsIGNvbmRpdGlvbikge1xuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgZm9yRWFjaChzZWxlY3Rvci5zcGxpdCgnICcpLCBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgICAgdmFyIGNsYXNzQ29uZGl0aW9uID0gY29uZGl0aW9uO1xuICAgICAgICBpZiAoaXNVbmRlZmluZWQoY2xhc3NDb25kaXRpb24pKSB7XG4gICAgICAgICAgY2xhc3NDb25kaXRpb24gPSAhanFMaXRlSGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAoY2xhc3NDb25kaXRpb24gPyBqcUxpdGVBZGRDbGFzcyA6IGpxTGl0ZVJlbW92ZUNsYXNzKShlbGVtZW50LCBjbGFzc05hbWUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIHBhcmVudDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHZhciBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgcmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCA/IHBhcmVudCA6IG51bGw7XG4gIH0sXG5cbiAgbmV4dDogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcbiAgfSxcblxuICBmaW5kOiBmdW5jdGlvbihlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIGlmIChlbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShzZWxlY3Rvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH0sXG5cbiAgY2xvbmU6IGpxTGl0ZUNsb25lLFxuXG4gIHRyaWdnZXJIYW5kbGVyOiBmdW5jdGlvbihlbGVtZW50LCBldmVudCwgZXh0cmFQYXJhbWV0ZXJzKSB7XG5cbiAgICB2YXIgZHVtbXlFdmVudCwgZXZlbnRGbnNDb3B5LCBoYW5kbGVyQXJncztcbiAgICB2YXIgZXZlbnROYW1lID0gZXZlbnQudHlwZSB8fCBldmVudDtcbiAgICB2YXIgZXhwYW5kb1N0b3JlID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQpO1xuICAgIHZhciBldmVudHMgPSBleHBhbmRvU3RvcmUgJiYgZXhwYW5kb1N0b3JlLmV2ZW50cztcbiAgICB2YXIgZXZlbnRGbnMgPSBldmVudHMgJiYgZXZlbnRzW2V2ZW50TmFtZV07XG5cbiAgICBpZiAoZXZlbnRGbnMpIHtcbiAgICAgIC8vIENyZWF0ZSBhIGR1bW15IGV2ZW50IHRvIHBhc3MgdG8gdGhlIGhhbmRsZXJzXG4gICAgICBkdW1teUV2ZW50ID0ge1xuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7IHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7IH0sXG4gICAgICAgIGlzRGVmYXVsdFByZXZlbnRlZDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPT09IHRydWU7IH0sXG4gICAgICAgIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7IHRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTsgfSxcbiAgICAgICAgaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPT09IHRydWU7IH0sXG4gICAgICAgIHN0b3BQcm9wYWdhdGlvbjogbm9vcCxcbiAgICAgICAgdHlwZTogZXZlbnROYW1lLFxuICAgICAgICB0YXJnZXQ6IGVsZW1lbnRcbiAgICAgIH07XG5cbiAgICAgIC8vIElmIGEgY3VzdG9tIGV2ZW50IHdhcyBwcm92aWRlZCB0aGVuIGV4dGVuZCBvdXIgZHVtbXkgZXZlbnQgd2l0aCBpdFxuICAgICAgaWYgKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgZHVtbXlFdmVudCA9IGV4dGVuZChkdW1teUV2ZW50LCBldmVudCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvcHkgZXZlbnQgaGFuZGxlcnMgaW4gY2FzZSBldmVudCBoYW5kbGVycyBhcnJheSBpcyBtb2RpZmllZCBkdXJpbmcgZXhlY3V0aW9uLlxuICAgICAgZXZlbnRGbnNDb3B5ID0gc2hhbGxvd0NvcHkoZXZlbnRGbnMpO1xuICAgICAgaGFuZGxlckFyZ3MgPSBleHRyYVBhcmFtZXRlcnMgPyBbZHVtbXlFdmVudF0uY29uY2F0KGV4dHJhUGFyYW1ldGVycykgOiBbZHVtbXlFdmVudF07XG5cbiAgICAgIGZvckVhY2goZXZlbnRGbnNDb3B5LCBmdW5jdGlvbihmbikge1xuICAgICAgICBpZiAoIWR1bW15RXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xuICAgICAgICAgIGZuLmFwcGx5KGVsZW1lbnQsIGhhbmRsZXJBcmdzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59LCBmdW5jdGlvbihmbiwgbmFtZSkge1xuICAvKipcbiAgICogY2hhaW5pbmcgZnVuY3Rpb25zXG4gICAqL1xuICBKUUxpdGUucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oYXJnMSwgYXJnMiwgYXJnMykge1xuICAgIHZhciB2YWx1ZTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IGZuKHRoaXNbaV0sIGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgIC8vIGFueSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGEgdmFsdWUgbmVlZHMgdG8gYmUgd3JhcHBlZFxuICAgICAgICAgIHZhbHVlID0ganFMaXRlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAganFMaXRlQWRkTm9kZXModmFsdWUsIGZuKHRoaXNbaV0sIGFyZzEsIGFyZzIsIGFyZzMpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGlzRGVmaW5lZCh2YWx1ZSkgPyB2YWx1ZSA6IHRoaXM7XG4gIH07XG5cbiAgLy8gYmluZCBsZWdhY3kgYmluZC91bmJpbmQgdG8gb24vb2ZmXG4gIEpRTGl0ZS5wcm90b3R5cGUuYmluZCA9IEpRTGl0ZS5wcm90b3R5cGUub247XG4gIEpRTGl0ZS5wcm90b3R5cGUudW5iaW5kID0gSlFMaXRlLnByb3RvdHlwZS5vZmY7XG59KTtcblxuXG4vLyBQcm92aWRlciBmb3IgcHJpdmF0ZSAkJGpxTGl0ZSBzZXJ2aWNlXG5mdW5jdGlvbiAkJGpxTGl0ZVByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBmdW5jdGlvbiAkJGpxTGl0ZSgpIHtcbiAgICByZXR1cm4gZXh0ZW5kKEpRTGl0ZSwge1xuICAgICAgaGFzQ2xhc3M6IGZ1bmN0aW9uKG5vZGUsIGNsYXNzZXMpIHtcbiAgICAgICAgaWYgKG5vZGUuYXR0cikgbm9kZSA9IG5vZGVbMF07XG4gICAgICAgIHJldHVybiBqcUxpdGVIYXNDbGFzcyhub2RlLCBjbGFzc2VzKTtcbiAgICAgIH0sXG4gICAgICBhZGRDbGFzczogZnVuY3Rpb24obm9kZSwgY2xhc3Nlcykge1xuICAgICAgICBpZiAobm9kZS5hdHRyKSBub2RlID0gbm9kZVswXTtcbiAgICAgICAgcmV0dXJuIGpxTGl0ZUFkZENsYXNzKG5vZGUsIGNsYXNzZXMpO1xuICAgICAgfSxcbiAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihub2RlLCBjbGFzc2VzKSB7XG4gICAgICAgIGlmIChub2RlLmF0dHIpIG5vZGUgPSBub2RlWzBdO1xuICAgICAgICByZXR1cm4ganFMaXRlUmVtb3ZlQ2xhc3Mobm9kZSwgY2xhc3Nlcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgYSBoYXNoIG9mIGFuICdvYmonLlxuICogSGFzaCBvZiBhOlxuICogIHN0cmluZyBpcyBzdHJpbmdcbiAqICBudW1iZXIgaXMgbnVtYmVyIGFzIHN0cmluZ1xuICogIG9iamVjdCBpcyBlaXRoZXIgcmVzdWx0IG9mIGNhbGxpbmcgJCRoYXNoS2V5IGZ1bmN0aW9uIG9uIHRoZSBvYmplY3Qgb3IgdW5pcXVlbHkgZ2VuZXJhdGVkIGlkLFxuICogICAgICAgICB0aGF0IGlzIGFsc28gYXNzaWduZWQgdG8gdGhlICQkaGFzaEtleSBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSBvYmpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGhhc2ggc3RyaW5nIHN1Y2ggdGhhdCB0aGUgc2FtZSBpbnB1dCB3aWxsIGhhdmUgdGhlIHNhbWUgaGFzaCBzdHJpbmcuXG4gKiAgICAgICAgIFRoZSByZXN1bHRpbmcgc3RyaW5nIGtleSBpcyBpbiAndHlwZTpoYXNoS2V5JyBmb3JtYXQuXG4gKi9cbmZ1bmN0aW9uIGhhc2hLZXkob2JqLCBuZXh0VWlkRm4pIHtcbiAgdmFyIGtleSA9IG9iaiAmJiBvYmouJCRoYXNoS2V5O1xuXG4gIGlmIChrZXkpIHtcbiAgICBpZiAodHlwZW9mIGtleSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAga2V5ID0gb2JqLiQkaGFzaEtleSgpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xuICB9XG5cbiAgdmFyIG9ialR5cGUgPSB0eXBlb2Ygb2JqO1xuICBpZiAob2JqVHlwZSA9PSAnZnVuY3Rpb24nIHx8IChvYmpUeXBlID09ICdvYmplY3QnICYmIG9iaiAhPT0gbnVsbCkpIHtcbiAgICBrZXkgPSBvYmouJCRoYXNoS2V5ID0gb2JqVHlwZSArICc6JyArIChuZXh0VWlkRm4gfHwgbmV4dFVpZCkoKTtcbiAgfSBlbHNlIHtcbiAgICBrZXkgPSBvYmpUeXBlICsgJzonICsgb2JqO1xuICB9XG5cbiAgcmV0dXJuIGtleTtcbn1cblxuLyoqXG4gKiBIYXNoTWFwIHdoaWNoIGNhbiB1c2Ugb2JqZWN0cyBhcyBrZXlzXG4gKi9cbmZ1bmN0aW9uIEhhc2hNYXAoYXJyYXksIGlzb2xhdGVkVWlkKSB7XG4gIGlmIChpc29sYXRlZFVpZCkge1xuICAgIHZhciB1aWQgPSAwO1xuICAgIHRoaXMubmV4dFVpZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICsrdWlkO1xuICAgIH07XG4gIH1cbiAgZm9yRWFjaChhcnJheSwgdGhpcy5wdXQsIHRoaXMpO1xufVxuSGFzaE1hcC5wcm90b3R5cGUgPSB7XG4gIC8qKlxuICAgKiBTdG9yZSBrZXkgdmFsdWUgcGFpclxuICAgKiBAcGFyYW0ga2V5IGtleSB0byBzdG9yZSBjYW4gYmUgYW55IHR5cGVcbiAgICogQHBhcmFtIHZhbHVlIHZhbHVlIHRvIHN0b3JlIGNhbiBiZSBhbnkgdHlwZVxuICAgKi9cbiAgcHV0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgdGhpc1toYXNoS2V5KGtleSwgdGhpcy5uZXh0VWlkKV0gPSB2YWx1ZTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIGtleVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSB0aGUgdmFsdWUgZm9yIHRoZSBrZXlcbiAgICovXG4gIGdldDogZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIHRoaXNbaGFzaEtleShrZXksIHRoaXMubmV4dFVpZCldO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGtleS92YWx1ZSBwYWlyXG4gICAqIEBwYXJhbSBrZXlcbiAgICovXG4gIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIHZhbHVlID0gdGhpc1trZXkgPSBoYXNoS2V5KGtleSwgdGhpcy5uZXh0VWlkKV07XG4gICAgZGVsZXRlIHRoaXNba2V5XTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn07XG5cbnZhciAkJEhhc2hNYXBQcm92aWRlciA9IFtmdW5jdGlvbigpIHtcbiAgdGhpcy4kZ2V0ID0gW2Z1bmN0aW9uKCkge1xuICAgIHJldHVybiBIYXNoTWFwO1xuICB9XTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBmdW5jdGlvblxuICogQG1vZHVsZSBuZ1xuICogQG5hbWUgYW5ndWxhci5pbmplY3RvclxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYW4gaW5qZWN0b3Igb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgZm9yIHJldHJpZXZpbmcgc2VydmljZXMgYXMgd2VsbCBhcyBmb3JcbiAqIGRlcGVuZGVuY3kgaW5qZWN0aW9uIChzZWUge0BsaW5rIGd1aWRlL2RpIGRlcGVuZGVuY3kgaW5qZWN0aW9ufSkuXG4gKlxuICogQHBhcmFtIHtBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gbW9kdWxlcyBBIGxpc3Qgb2YgbW9kdWxlIGZ1bmN0aW9ucyBvciB0aGVpciBhbGlhc2VzLiBTZWVcbiAqICAgICB7QGxpbmsgYW5ndWxhci5tb2R1bGV9LiBUaGUgYG5nYCBtb2R1bGUgbXVzdCBiZSBleHBsaWNpdGx5IGFkZGVkLlxuICogQHBhcmFtIHtib29sZWFuPX0gW3N0cmljdERpPWZhbHNlXSBXaGV0aGVyIHRoZSBpbmplY3RvciBzaG91bGQgYmUgaW4gc3RyaWN0IG1vZGUsIHdoaWNoXG4gKiAgICAgZGlzYWxsb3dzIGFyZ3VtZW50IG5hbWUgYW5ub3RhdGlvbiBpbmZlcmVuY2UuXG4gKiBAcmV0dXJucyB7aW5qZWN0b3J9IEluamVjdG9yIG9iamVjdC4gU2VlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBUeXBpY2FsIHVzYWdlXG4gKiBgYGBqc1xuICogICAvLyBjcmVhdGUgYW4gaW5qZWN0b3JcbiAqICAgdmFyICRpbmplY3RvciA9IGFuZ3VsYXIuaW5qZWN0b3IoWyduZyddKTtcbiAqXG4gKiAgIC8vIHVzZSB0aGUgaW5qZWN0b3IgdG8ga2ljayBvZmYgeW91ciBhcHBsaWNhdGlvblxuICogICAvLyB1c2UgdGhlIHR5cGUgaW5mZXJlbmNlIHRvIGF1dG8gaW5qZWN0IGFyZ3VtZW50cywgb3IgdXNlIGltcGxpY2l0IGluamVjdGlvblxuICogICAkaW5qZWN0b3IuaW52b2tlKGZ1bmN0aW9uKCRyb290U2NvcGUsICRjb21waWxlLCAkZG9jdW1lbnQpIHtcbiAqICAgICAkY29tcGlsZSgkZG9jdW1lbnQpKCRyb290U2NvcGUpO1xuICogICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIFNvbWV0aW1lcyB5b3Ugd2FudCB0byBnZXQgYWNjZXNzIHRvIHRoZSBpbmplY3RvciBvZiBhIGN1cnJlbnRseSBydW5uaW5nIEFuZ3VsYXIgYXBwXG4gKiBmcm9tIG91dHNpZGUgQW5ndWxhci4gUGVyaGFwcywgeW91IHdhbnQgdG8gaW5qZWN0IGFuZCBjb21waWxlIHNvbWUgbWFya3VwIGFmdGVyIHRoZVxuICogYXBwbGljYXRpb24gaGFzIGJlZW4gYm9vdHN0cmFwcGVkLiBZb3UgY2FuIGRvIHRoaXMgdXNpbmcgdGhlIGV4dHJhIGBpbmplY3RvcigpYCBhZGRlZFxuICogdG8gSlF1ZXJ5L2pxTGl0ZSBlbGVtZW50cy4gU2VlIHtAbGluayBhbmd1bGFyLmVsZW1lbnR9LlxuICpcbiAqICpUaGlzIGlzIGZhaXJseSByYXJlIGJ1dCBjb3VsZCBiZSB0aGUgY2FzZSBpZiBhIHRoaXJkIHBhcnR5IGxpYnJhcnkgaXMgaW5qZWN0aW5nIHRoZVxuICogbWFya3VwLipcbiAqXG4gKiBJbiB0aGUgZm9sbG93aW5nIGV4YW1wbGUgYSBuZXcgYmxvY2sgb2YgSFRNTCBjb250YWluaW5nIGEgYG5nLWNvbnRyb2xsZXJgXG4gKiBkaXJlY3RpdmUgaXMgYWRkZWQgdG8gdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnQgYm9keSBieSBKUXVlcnkuIFdlIHRoZW4gY29tcGlsZSBhbmQgbGlua1xuICogaXQgaW50byB0aGUgY3VycmVudCBBbmd1bGFySlMgc2NvcGUuXG4gKlxuICogYGBganNcbiAqIHZhciAkZGl2ID0gJCgnPGRpdiBuZy1jb250cm9sbGVyPVwiTXlDdHJsXCI+e3tjb250ZW50LmxhYmVsfX08L2Rpdj4nKTtcbiAqICQoZG9jdW1lbnQuYm9keSkuYXBwZW5kKCRkaXYpO1xuICpcbiAqIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkuaW5qZWN0b3IoKS5pbnZva2UoZnVuY3Rpb24oJGNvbXBpbGUpIHtcbiAqICAgdmFyIHNjb3BlID0gYW5ndWxhci5lbGVtZW50KCRkaXYpLnNjb3BlKCk7XG4gKiAgICRjb21waWxlKCRkaXYpKHNjb3BlKTtcbiAqIH0pO1xuICogYGBgXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIGF1dG9cbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIEltcGxpY2l0IG1vZHVsZSB3aGljaCBnZXRzIGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gZWFjaCB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS5cbiAqL1xuXG52YXIgRk5fQVJHUyA9IC9eZnVuY3Rpb25cXHMqW15cXChdKlxcKFxccyooW15cXCldKilcXCkvbTtcbnZhciBGTl9BUkdfU1BMSVQgPSAvLC87XG52YXIgRk5fQVJHID0gL15cXHMqKF8/KShcXFMrPylcXDFcXHMqJC87XG52YXIgU1RSSVBfQ09NTUVOVFMgPSAvKChcXC9cXC8uKiQpfChcXC9cXCpbXFxzXFxTXSo/XFwqXFwvKSkvbWc7XG52YXIgJGluamVjdG9yTWluRXJyID0gbWluRXJyKCckaW5qZWN0b3InKTtcblxuZnVuY3Rpb24gYW5vbkZuKGZuKSB7XG4gIC8vIEZvciBhbm9ueW1vdXMgZnVuY3Rpb25zLCBzaG93aW5nIGF0IHRoZSB2ZXJ5IGxlYXN0IHRoZSBmdW5jdGlvbiBzaWduYXR1cmUgY2FuIGhlbHAgaW5cbiAgLy8gZGVidWdnaW5nLlxuICB2YXIgZm5UZXh0ID0gZm4udG9TdHJpbmcoKS5yZXBsYWNlKFNUUklQX0NPTU1FTlRTLCAnJyksXG4gICAgICBhcmdzID0gZm5UZXh0Lm1hdGNoKEZOX0FSR1MpO1xuICBpZiAoYXJncykge1xuICAgIHJldHVybiAnZnVuY3Rpb24oJyArIChhcmdzWzFdIHx8ICcnKS5yZXBsYWNlKC9bXFxzXFxyXFxuXSsvLCAnICcpICsgJyknO1xuICB9XG4gIHJldHVybiAnZm4nO1xufVxuXG5mdW5jdGlvbiBhbm5vdGF0ZShmbiwgc3RyaWN0RGksIG5hbWUpIHtcbiAgdmFyICRpbmplY3QsXG4gICAgICBmblRleHQsXG4gICAgICBhcmdEZWNsLFxuICAgICAgbGFzdDtcblxuICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKCEoJGluamVjdCA9IGZuLiRpbmplY3QpKSB7XG4gICAgICAkaW5qZWN0ID0gW107XG4gICAgICBpZiAoZm4ubGVuZ3RoKSB7XG4gICAgICAgIGlmIChzdHJpY3REaSkge1xuICAgICAgICAgIGlmICghaXNTdHJpbmcobmFtZSkgfHwgIW5hbWUpIHtcbiAgICAgICAgICAgIG5hbWUgPSBmbi5uYW1lIHx8IGFub25Gbihmbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignc3RyaWN0ZGknLFxuICAgICAgICAgICAgJ3swfSBpcyBub3QgdXNpbmcgZXhwbGljaXQgYW5ub3RhdGlvbiBhbmQgY2Fubm90IGJlIGludm9rZWQgaW4gc3RyaWN0IG1vZGUnLCBuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBmblRleHQgPSBmbi50b1N0cmluZygpLnJlcGxhY2UoU1RSSVBfQ09NTUVOVFMsICcnKTtcbiAgICAgICAgYXJnRGVjbCA9IGZuVGV4dC5tYXRjaChGTl9BUkdTKTtcbiAgICAgICAgZm9yRWFjaChhcmdEZWNsWzFdLnNwbGl0KEZOX0FSR19TUExJVCksIGZ1bmN0aW9uKGFyZykge1xuICAgICAgICAgIGFyZy5yZXBsYWNlKEZOX0FSRywgZnVuY3Rpb24oYWxsLCB1bmRlcnNjb3JlLCBuYW1lKSB7XG4gICAgICAgICAgICAkaW5qZWN0LnB1c2gobmFtZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZm4uJGluamVjdCA9ICRpbmplY3Q7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzQXJyYXkoZm4pKSB7XG4gICAgbGFzdCA9IGZuLmxlbmd0aCAtIDE7XG4gICAgYXNzZXJ0QXJnRm4oZm5bbGFzdF0sICdmbicpO1xuICAgICRpbmplY3QgPSBmbi5zbGljZSgwLCBsYXN0KTtcbiAgfSBlbHNlIHtcbiAgICBhc3NlcnRBcmdGbihmbiwgJ2ZuJywgdHJ1ZSk7XG4gIH1cbiAgcmV0dXJuICRpbmplY3Q7XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkaW5qZWN0b3JcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBgJGluamVjdG9yYCBpcyB1c2VkIHRvIHJldHJpZXZlIG9iamVjdCBpbnN0YW5jZXMgYXMgZGVmaW5lZCBieVxuICoge0BsaW5rIGF1dG8uJHByb3ZpZGUgcHJvdmlkZXJ9LCBpbnN0YW50aWF0ZSB0eXBlcywgaW52b2tlIG1ldGhvZHMsXG4gKiBhbmQgbG9hZCBtb2R1bGVzLlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgYWx3YXlzIGhvbGRzIHRydWU6XG4gKlxuICogYGBganNcbiAqICAgdmFyICRpbmplY3RvciA9IGFuZ3VsYXIuaW5qZWN0b3IoKTtcbiAqICAgZXhwZWN0KCRpbmplY3Rvci5nZXQoJyRpbmplY3RvcicpKS50b0JlKCRpbmplY3Rvcik7XG4gKiAgIGV4cGVjdCgkaW5qZWN0b3IuaW52b2tlKGZ1bmN0aW9uKCRpbmplY3Rvcikge1xuICogICAgIHJldHVybiAkaW5qZWN0b3I7XG4gKiAgIH0pKS50b0JlKCRpbmplY3Rvcik7XG4gKiBgYGBcbiAqXG4gKiAjIEluamVjdGlvbiBGdW5jdGlvbiBBbm5vdGF0aW9uXG4gKlxuICogSmF2YVNjcmlwdCBkb2VzIG5vdCBoYXZlIGFubm90YXRpb25zLCBhbmQgYW5ub3RhdGlvbnMgYXJlIG5lZWRlZCBmb3IgZGVwZW5kZW5jeSBpbmplY3Rpb24uIFRoZVxuICogZm9sbG93aW5nIGFyZSBhbGwgdmFsaWQgd2F5cyBvZiBhbm5vdGF0aW5nIGZ1bmN0aW9uIHdpdGggaW5qZWN0aW9uIGFyZ3VtZW50cyBhbmQgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogYGBganNcbiAqICAgLy8gaW5mZXJyZWQgKG9ubHkgd29ya3MgaWYgY29kZSBub3QgbWluaWZpZWQvb2JmdXNjYXRlZClcbiAqICAgJGluamVjdG9yLmludm9rZShmdW5jdGlvbihzZXJ2aWNlQSl7fSk7XG4gKlxuICogICAvLyBhbm5vdGF0ZWRcbiAqICAgZnVuY3Rpb24gZXhwbGljaXQoc2VydmljZUEpIHt9O1xuICogICBleHBsaWNpdC4kaW5qZWN0ID0gWydzZXJ2aWNlQSddO1xuICogICAkaW5qZWN0b3IuaW52b2tlKGV4cGxpY2l0KTtcbiAqXG4gKiAgIC8vIGlubGluZVxuICogICAkaW5qZWN0b3IuaW52b2tlKFsnc2VydmljZUEnLCBmdW5jdGlvbihzZXJ2aWNlQSl7fV0pO1xuICogYGBgXG4gKlxuICogIyMgSW5mZXJlbmNlXG4gKlxuICogSW4gSmF2YVNjcmlwdCBjYWxsaW5nIGB0b1N0cmluZygpYCBvbiBhIGZ1bmN0aW9uIHJldHVybnMgdGhlIGZ1bmN0aW9uIGRlZmluaXRpb24uIFRoZSBkZWZpbml0aW9uXG4gKiBjYW4gdGhlbiBiZSBwYXJzZWQgYW5kIHRoZSBmdW5jdGlvbiBhcmd1bWVudHMgY2FuIGJlIGV4dHJhY3RlZC4gVGhpcyBtZXRob2Qgb2YgZGlzY292ZXJpbmdcbiAqIGFubm90YXRpb25zIGlzIGRpc2FsbG93ZWQgd2hlbiB0aGUgaW5qZWN0b3IgaXMgaW4gc3RyaWN0IG1vZGUuXG4gKiAqTk9URToqIFRoaXMgZG9lcyBub3Qgd29yayB3aXRoIG1pbmlmaWNhdGlvbiwgYW5kIG9iZnVzY2F0aW9uIHRvb2xzIHNpbmNlIHRoZXNlIHRvb2xzIGNoYW5nZSB0aGVcbiAqIGFyZ3VtZW50IG5hbWVzLlxuICpcbiAqICMjIGAkaW5qZWN0YCBBbm5vdGF0aW9uXG4gKiBCeSBhZGRpbmcgYW4gYCRpbmplY3RgIHByb3BlcnR5IG9udG8gYSBmdW5jdGlvbiB0aGUgaW5qZWN0aW9uIHBhcmFtZXRlcnMgY2FuIGJlIHNwZWNpZmllZC5cbiAqXG4gKiAjIyBJbmxpbmVcbiAqIEFzIGFuIGFycmF5IG9mIGluamVjdGlvbiBuYW1lcywgd2hlcmUgdGhlIGxhc3QgaXRlbSBpbiB0aGUgYXJyYXkgaXMgdGhlIGZ1bmN0aW9uIHRvIGNhbGwuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkaW5qZWN0b3IjZ2V0XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBSZXR1cm4gYW4gaW5zdGFuY2Ugb2YgdGhlIHNlcnZpY2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGluc3RhbmNlIHRvIHJldHJpZXZlLlxuICogQHBhcmFtIHtzdHJpbmc9fSBjYWxsZXIgQW4gb3B0aW9uYWwgc3RyaW5nIHRvIHByb3ZpZGUgdGhlIG9yaWdpbiBvZiB0aGUgZnVuY3Rpb24gY2FsbCBmb3IgZXJyb3IgbWVzc2FnZXMuXG4gKiBAcmV0dXJuIHsqfSBUaGUgaW5zdGFuY2UuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkaW5qZWN0b3IjaW52b2tlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBJbnZva2UgdGhlIG1ldGhvZCBhbmQgc3VwcGx5IHRoZSBtZXRob2QgYXJndW1lbnRzIGZyb20gdGhlIGAkaW5qZWN0b3JgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXkuPHN0cmluZ3xGdW5jdGlvbj59IGZuIFRoZSBpbmplY3RhYmxlIGZ1bmN0aW9uIHRvIGludm9rZS4gRnVuY3Rpb24gcGFyYW1ldGVycyBhcmVcbiAqICAgaW5qZWN0ZWQgYWNjb3JkaW5nIHRvIHRoZSB7QGxpbmsgZ3VpZGUvZGkgJGluamVjdCBBbm5vdGF0aW9ufSBydWxlcy5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gc2VsZiBUaGUgYHRoaXNgIGZvciB0aGUgaW52b2tlZCBtZXRob2QuXG4gKiBAcGFyYW0ge09iamVjdD19IGxvY2FscyBPcHRpb25hbCBvYmplY3QuIElmIHByZXNldCB0aGVuIGFueSBhcmd1bWVudCBuYW1lcyBhcmUgcmVhZCBmcm9tIHRoaXNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdCBmaXJzdCwgYmVmb3JlIHRoZSBgJGluamVjdG9yYCBpcyBjb25zdWx0ZWQuXG4gKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHJldHVybmVkIGJ5IHRoZSBpbnZva2VkIGBmbmAgZnVuY3Rpb24uXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkaW5qZWN0b3IjaGFzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBbGxvd3MgdGhlIHVzZXIgdG8gcXVlcnkgaWYgdGhlIHBhcnRpY3VsYXIgc2VydmljZSBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgc2VydmljZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgaW5qZWN0b3IgaGFzIGdpdmVuIHNlcnZpY2UuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkaW5qZWN0b3IjaW5zdGFudGlhdGVcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEpTIHR5cGUuIFRoZSBtZXRob2QgdGFrZXMgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiwgaW52b2tlcyB0aGUgbmV3XG4gKiBvcGVyYXRvciwgYW5kIHN1cHBsaWVzIGFsbCBvZiB0aGUgYXJndW1lbnRzIHRvIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBhcyBzcGVjaWZpZWQgYnkgdGhlXG4gKiBjb25zdHJ1Y3RvciBhbm5vdGF0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFR5cGUgQW5ub3RhdGVkIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtPYmplY3Q9fSBsb2NhbHMgT3B0aW9uYWwgb2JqZWN0LiBJZiBwcmVzZXQgdGhlbiBhbnkgYXJndW1lbnQgbmFtZXMgYXJlIHJlYWQgZnJvbSB0aGlzXG4gKiBvYmplY3QgZmlyc3QsIGJlZm9yZSB0aGUgYCRpbmplY3RvcmAgaXMgY29uc3VsdGVkLlxuICogQHJldHVybnMge09iamVjdH0gbmV3IGluc3RhbmNlIG9mIGBUeXBlYC5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRpbmplY3RvciNhbm5vdGF0ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJucyBhbiBhcnJheSBvZiBzZXJ2aWNlIG5hbWVzIHdoaWNoIHRoZSBmdW5jdGlvbiBpcyByZXF1ZXN0aW5nIGZvciBpbmplY3Rpb24uIFRoaXMgQVBJIGlzXG4gKiB1c2VkIGJ5IHRoZSBpbmplY3RvciB0byBkZXRlcm1pbmUgd2hpY2ggc2VydmljZXMgbmVlZCB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBmdW5jdGlvbiB3aGVuIHRoZVxuICogZnVuY3Rpb24gaXMgaW52b2tlZC4gVGhlcmUgYXJlIHRocmVlIHdheXMgaW4gd2hpY2ggdGhlIGZ1bmN0aW9uIGNhbiBiZSBhbm5vdGF0ZWQgd2l0aCB0aGUgbmVlZGVkXG4gKiBkZXBlbmRlbmNpZXMuXG4gKlxuICogIyBBcmd1bWVudCBuYW1lc1xuICpcbiAqIFRoZSBzaW1wbGVzdCBmb3JtIGlzIHRvIGV4dHJhY3QgdGhlIGRlcGVuZGVuY2llcyBmcm9tIHRoZSBhcmd1bWVudHMgb2YgdGhlIGZ1bmN0aW9uLiBUaGlzIGlzIGRvbmVcbiAqIGJ5IGNvbnZlcnRpbmcgdGhlIGZ1bmN0aW9uIGludG8gYSBzdHJpbmcgdXNpbmcgYHRvU3RyaW5nKClgIG1ldGhvZCBhbmQgZXh0cmFjdGluZyB0aGUgYXJndW1lbnRcbiAqIG5hbWVzLlxuICogYGBganNcbiAqICAgLy8gR2l2ZW5cbiAqICAgZnVuY3Rpb24gTXlDb250cm9sbGVyKCRzY29wZSwgJHJvdXRlKSB7XG4gKiAgICAgLy8gLi4uXG4gKiAgIH1cbiAqXG4gKiAgIC8vIFRoZW5cbiAqICAgZXhwZWN0KGluamVjdG9yLmFubm90YXRlKE15Q29udHJvbGxlcikpLnRvRXF1YWwoWyckc2NvcGUnLCAnJHJvdXRlJ10pO1xuICogYGBgXG4gKlxuICogWW91IGNhbiBkaXNhbGxvdyB0aGlzIG1ldGhvZCBieSB1c2luZyBzdHJpY3QgaW5qZWN0aW9uIG1vZGUuXG4gKlxuICogVGhpcyBtZXRob2QgZG9lcyBub3Qgd29yayB3aXRoIGNvZGUgbWluaWZpY2F0aW9uIC8gb2JmdXNjYXRpb24uIEZvciB0aGlzIHJlYXNvbiB0aGUgZm9sbG93aW5nXG4gKiBhbm5vdGF0aW9uIHN0cmF0ZWdpZXMgYXJlIHN1cHBvcnRlZC5cbiAqXG4gKiAjIFRoZSBgJGluamVjdGAgcHJvcGVydHlcbiAqXG4gKiBJZiBhIGZ1bmN0aW9uIGhhcyBhbiBgJGluamVjdGAgcHJvcGVydHkgYW5kIGl0cyB2YWx1ZSBpcyBhbiBhcnJheSBvZiBzdHJpbmdzLCB0aGVuIHRoZSBzdHJpbmdzXG4gKiByZXByZXNlbnQgbmFtZXMgb2Ygc2VydmljZXMgdG8gYmUgaW5qZWN0ZWQgaW50byB0aGUgZnVuY3Rpb24uXG4gKiBgYGBqc1xuICogICAvLyBHaXZlblxuICogICB2YXIgTXlDb250cm9sbGVyID0gZnVuY3Rpb24ob2JmdXNjYXRlZFNjb3BlLCBvYmZ1c2NhdGVkUm91dGUpIHtcbiAqICAgICAvLyAuLi5cbiAqICAgfVxuICogICAvLyBEZWZpbmUgZnVuY3Rpb24gZGVwZW5kZW5jaWVzXG4gKiAgIE15Q29udHJvbGxlclsnJGluamVjdCddID0gWyckc2NvcGUnLCAnJHJvdXRlJ107XG4gKlxuICogICAvLyBUaGVuXG4gKiAgIGV4cGVjdChpbmplY3Rvci5hbm5vdGF0ZShNeUNvbnRyb2xsZXIpKS50b0VxdWFsKFsnJHNjb3BlJywgJyRyb3V0ZSddKTtcbiAqIGBgYFxuICpcbiAqICMgVGhlIGFycmF5IG5vdGF0aW9uXG4gKlxuICogSXQgaXMgb2Z0ZW4gZGVzaXJhYmxlIHRvIGlubGluZSBJbmplY3RlZCBmdW5jdGlvbnMgYW5kIHRoYXQncyB3aGVuIHNldHRpbmcgdGhlIGAkaW5qZWN0YCBwcm9wZXJ0eVxuICogaXMgdmVyeSBpbmNvbnZlbmllbnQuIEluIHRoZXNlIHNpdHVhdGlvbnMgdXNpbmcgdGhlIGFycmF5IG5vdGF0aW9uIHRvIHNwZWNpZnkgdGhlIGRlcGVuZGVuY2llcyBpblxuICogYSB3YXkgdGhhdCBzdXJ2aXZlcyBtaW5pZmljYXRpb24gaXMgYSBiZXR0ZXIgY2hvaWNlOlxuICpcbiAqIGBgYGpzXG4gKiAgIC8vIFdlIHdpc2ggdG8gd3JpdGUgdGhpcyAobm90IG1pbmlmaWNhdGlvbiAvIG9iZnVzY2F0aW9uIHNhZmUpXG4gKiAgIGluamVjdG9yLmludm9rZShmdW5jdGlvbigkY29tcGlsZSwgJHJvb3RTY29wZSkge1xuICogICAgIC8vIC4uLlxuICogICB9KTtcbiAqXG4gKiAgIC8vIFdlIGFyZSBmb3JjZWQgdG8gd3JpdGUgYnJlYWsgaW5saW5pbmdcbiAqICAgdmFyIHRtcEZuID0gZnVuY3Rpb24ob2JmdXNjYXRlZENvbXBpbGUsIG9iZnVzY2F0ZWRSb290U2NvcGUpIHtcbiAqICAgICAvLyAuLi5cbiAqICAgfTtcbiAqICAgdG1wRm4uJGluamVjdCA9IFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZSddO1xuICogICBpbmplY3Rvci5pbnZva2UodG1wRm4pO1xuICpcbiAqICAgLy8gVG8gYmV0dGVyIHN1cHBvcnQgaW5saW5lIGZ1bmN0aW9uIHRoZSBpbmxpbmUgYW5ub3RhdGlvbiBpcyBzdXBwb3J0ZWRcbiAqICAgaW5qZWN0b3IuaW52b2tlKFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKG9iZkNvbXBpbGUsIG9iZlJvb3RTY29wZSkge1xuICogICAgIC8vIC4uLlxuICogICB9XSk7XG4gKlxuICogICAvLyBUaGVyZWZvcmVcbiAqICAgZXhwZWN0KGluamVjdG9yLmFubm90YXRlKFxuICogICAgICBbJyRjb21waWxlJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbihvYmZ1c18kY29tcGlsZSwgb2JmdXNfJHJvb3RTY29wZSkge31dKVxuICogICAgKS50b0VxdWFsKFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZSddKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXkuPHN0cmluZ3xGdW5jdGlvbj59IGZuIEZ1bmN0aW9uIGZvciB3aGljaCBkZXBlbmRlbnQgc2VydmljZSBuYW1lcyBuZWVkIHRvXG4gKiBiZSByZXRyaWV2ZWQgYXMgZGVzY3JpYmVkIGFib3ZlLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IFtzdHJpY3REaT1mYWxzZV0gRGlzYWxsb3cgYXJndW1lbnQgbmFtZSBhbm5vdGF0aW9uIGluZmVyZW5jZS5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXkuPHN0cmluZz59IFRoZSBuYW1lcyBvZiB0aGUgc2VydmljZXMgd2hpY2ggdGhlIGZ1bmN0aW9uIHJlcXVpcmVzLlxuICovXG5cblxuXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRwcm92aWRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhlIHtAbGluayBhdXRvLiRwcm92aWRlICRwcm92aWRlfSBzZXJ2aWNlIGhhcyBhIG51bWJlciBvZiBtZXRob2RzIGZvciByZWdpc3RlcmluZyBjb21wb25lbnRzXG4gKiB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS4gTWFueSBvZiB0aGVzZSBmdW5jdGlvbnMgYXJlIGFsc28gZXhwb3NlZCBvblxuICoge0BsaW5rIGFuZ3VsYXIuTW9kdWxlfS5cbiAqXG4gKiBBbiBBbmd1bGFyICoqc2VydmljZSoqIGlzIGEgc2luZ2xldG9uIG9iamVjdCBjcmVhdGVkIGJ5IGEgKipzZXJ2aWNlIGZhY3RvcnkqKi4gIFRoZXNlICoqc2VydmljZVxuICogZmFjdG9yaWVzKiogYXJlIGZ1bmN0aW9ucyB3aGljaCwgaW4gdHVybiwgYXJlIGNyZWF0ZWQgYnkgYSAqKnNlcnZpY2UgcHJvdmlkZXIqKi5cbiAqIFRoZSAqKnNlcnZpY2UgcHJvdmlkZXJzKiogYXJlIGNvbnN0cnVjdG9yIGZ1bmN0aW9ucy4gV2hlbiBpbnN0YW50aWF0ZWQgdGhleSBtdXN0IGNvbnRhaW4gYVxuICogcHJvcGVydHkgY2FsbGVkIGAkZ2V0YCwgd2hpY2ggaG9sZHMgdGhlICoqc2VydmljZSBmYWN0b3J5KiogZnVuY3Rpb24uXG4gKlxuICogV2hlbiB5b3UgcmVxdWVzdCBhIHNlcnZpY2UsIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfSBpcyByZXNwb25zaWJsZSBmb3IgZmluZGluZyB0aGVcbiAqIGNvcnJlY3QgKipzZXJ2aWNlIHByb3ZpZGVyKiosIGluc3RhbnRpYXRpbmcgaXQgYW5kIHRoZW4gY2FsbGluZyBpdHMgYCRnZXRgICoqc2VydmljZSBmYWN0b3J5KipcbiAqIGZ1bmN0aW9uIHRvIGdldCB0aGUgaW5zdGFuY2Ugb2YgdGhlICoqc2VydmljZSoqLlxuICpcbiAqIE9mdGVuIHNlcnZpY2VzIGhhdmUgbm8gY29uZmlndXJhdGlvbiBvcHRpb25zIGFuZCB0aGVyZSBpcyBubyBuZWVkIHRvIGFkZCBtZXRob2RzIHRvIHRoZSBzZXJ2aWNlXG4gKiBwcm92aWRlci4gIFRoZSBwcm92aWRlciB3aWxsIGJlIG5vIG1vcmUgdGhhbiBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHdpdGggYSBgJGdldGAgcHJvcGVydHkuIEZvclxuICogdGhlc2UgY2FzZXMgdGhlIHtAbGluayBhdXRvLiRwcm92aWRlICRwcm92aWRlfSBzZXJ2aWNlIGhhcyBhZGRpdGlvbmFsIGhlbHBlciBtZXRob2RzIHRvIHJlZ2lzdGVyXG4gKiBzZXJ2aWNlcyB3aXRob3V0IHNwZWNpZnlpbmcgYSBwcm92aWRlci5cbiAqXG4gKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyIHByb3ZpZGVyKHByb3ZpZGVyKX0gLSByZWdpc3RlcnMgYSAqKnNlcnZpY2UgcHJvdmlkZXIqKiB3aXRoIHRoZVxuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9XG4gKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI2NvbnN0YW50IGNvbnN0YW50KG9iail9IC0gcmVnaXN0ZXJzIGEgdmFsdWUvb2JqZWN0IHRoYXQgY2FuIGJlIGFjY2Vzc2VkIGJ5XG4gKiAgICAgcHJvdmlkZXJzIGFuZCBzZXJ2aWNlcy5cbiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgdmFsdWUob2JqKX0gLSByZWdpc3RlcnMgYSB2YWx1ZS9vYmplY3QgdGhhdCBjYW4gb25seSBiZSBhY2Nlc3NlZCBieVxuICogICAgIHNlcnZpY2VzLCBub3QgcHJvdmlkZXJzLlxuICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNmYWN0b3J5IGZhY3RvcnkoZm4pfSAtIHJlZ2lzdGVycyBhIHNlcnZpY2UgKipmYWN0b3J5IGZ1bmN0aW9uKiosIGBmbmAsXG4gKiAgICAgdGhhdCB3aWxsIGJlIHdyYXBwZWQgaW4gYSAqKnNlcnZpY2UgcHJvdmlkZXIqKiBvYmplY3QsIHdob3NlIGAkZ2V0YCBwcm9wZXJ0eSB3aWxsIGNvbnRhaW4gdGhlXG4gKiAgICAgZ2l2ZW4gZmFjdG9yeSBmdW5jdGlvbi5cbiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSBzZXJ2aWNlKGNsYXNzKX0gLSByZWdpc3RlcnMgYSAqKmNvbnN0cnVjdG9yIGZ1bmN0aW9uKiosIGBjbGFzc2BcbiAqICAgICB0aGF0IHdpbGwgYmUgd3JhcHBlZCBpbiBhICoqc2VydmljZSBwcm92aWRlcioqIG9iamVjdCwgd2hvc2UgYCRnZXRgIHByb3BlcnR5IHdpbGwgaW5zdGFudGlhdGVcbiAqICAgICAgYSBuZXcgb2JqZWN0IHVzaW5nIHRoZSBnaXZlbiBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAqXG4gKiBTZWUgdGhlIGluZGl2aWR1YWwgbWV0aG9kcyBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgZXhhbXBsZXMuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcHJvdmlkZSNwcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKnByb3ZpZGVyIGZ1bmN0aW9uKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIFByb3ZpZGVyIGZ1bmN0aW9uc1xuICogYXJlIGNvbnN0cnVjdG9yIGZ1bmN0aW9ucywgd2hvc2UgaW5zdGFuY2VzIGFyZSByZXNwb25zaWJsZSBmb3IgXCJwcm92aWRpbmdcIiBhIGZhY3RvcnkgZm9yIGFcbiAqIHNlcnZpY2UuXG4gKlxuICogU2VydmljZSBwcm92aWRlciBuYW1lcyBzdGFydCB3aXRoIHRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIHRoZXkgcHJvdmlkZSBmb2xsb3dlZCBieSBgUHJvdmlkZXJgLlxuICogRm9yIGV4YW1wbGUsIHRoZSB7QGxpbmsgbmcuJGxvZyAkbG9nfSBzZXJ2aWNlIGhhcyBhIHByb3ZpZGVyIGNhbGxlZFxuICoge0BsaW5rIG5nLiRsb2dQcm92aWRlciAkbG9nUHJvdmlkZXJ9LlxuICpcbiAqIFNlcnZpY2UgcHJvdmlkZXIgb2JqZWN0cyBjYW4gaGF2ZSBhZGRpdGlvbmFsIG1ldGhvZHMgd2hpY2ggYWxsb3cgY29uZmlndXJhdGlvbiBvZiB0aGUgcHJvdmlkZXJcbiAqIGFuZCBpdHMgc2VydmljZS4gSW1wb3J0YW50bHksIHlvdSBjYW4gY29uZmlndXJlIHdoYXQga2luZCBvZiBzZXJ2aWNlIGlzIGNyZWF0ZWQgYnkgdGhlIGAkZ2V0YFxuICogbWV0aG9kLCBvciBob3cgdGhhdCBzZXJ2aWNlIHdpbGwgYWN0LiBGb3IgZXhhbXBsZSwgdGhlIHtAbGluayBuZy4kbG9nUHJvdmlkZXIgJGxvZ1Byb3ZpZGVyfSBoYXMgYVxuICogbWV0aG9kIHtAbGluayBuZy4kbG9nUHJvdmlkZXIjZGVidWdFbmFibGVkIGRlYnVnRW5hYmxlZH1cbiAqIHdoaWNoIGxldHMgeW91IHNwZWNpZnkgd2hldGhlciB0aGUge0BsaW5rIG5nLiRsb2cgJGxvZ30gc2VydmljZSB3aWxsIGxvZyBkZWJ1ZyBtZXNzYWdlcyB0byB0aGVcbiAqIGNvbnNvbGUgb3Igbm90LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS4gTk9URTogdGhlIHByb3ZpZGVyIHdpbGwgYmUgYXZhaWxhYmxlIHVuZGVyIGBuYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdQcm92aWRlcidgIGtleS5cbiAqIEBwYXJhbSB7KE9iamVjdHxmdW5jdGlvbigpKX0gcHJvdmlkZXIgSWYgdGhlIHByb3ZpZGVyIGlzOlxuICpcbiAqICAgLSBgT2JqZWN0YDogdGhlbiBpdCBzaG91bGQgaGF2ZSBhIGAkZ2V0YCBtZXRob2QuIFRoZSBgJGdldGAgbWV0aG9kIHdpbGwgYmUgaW52b2tlZCB1c2luZ1xuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciNpbnZva2UgJGluamVjdG9yLmludm9rZSgpfSB3aGVuIGFuIGluc3RhbmNlIG5lZWRzIHRvIGJlIGNyZWF0ZWQuXG4gKiAgIC0gYENvbnN0cnVjdG9yYDogYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIHByb3ZpZGVyIHdpbGwgYmUgY3JlYXRlZCB1c2luZ1xuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciNpbnN0YW50aWF0ZSAkaW5qZWN0b3IuaW5zdGFudGlhdGUoKX0sIHRoZW4gdHJlYXRlZCBhcyBgb2JqZWN0YC5cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIHByb3ZpZGVyIGluc3RhbmNlXG5cbiAqIEBleGFtcGxlXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBjcmVhdGUgYSBzaW1wbGUgZXZlbnQgdHJhY2tpbmcgc2VydmljZSBhbmQgcmVnaXN0ZXIgaXQgdXNpbmdcbiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyICRwcm92aWRlLnByb3ZpZGVyKCl9LlxuICpcbiAqIGBgYGpzXG4gKiAgLy8gRGVmaW5lIHRoZSBldmVudFRyYWNrZXIgcHJvdmlkZXJcbiAqICBmdW5jdGlvbiBFdmVudFRyYWNrZXJQcm92aWRlcigpIHtcbiAqICAgIHZhciB0cmFja2luZ1VybCA9ICcvdHJhY2snO1xuICpcbiAqICAgIC8vIEEgcHJvdmlkZXIgbWV0aG9kIGZvciBjb25maWd1cmluZyB3aGVyZSB0aGUgdHJhY2tlZCBldmVudHMgc2hvdWxkIGJlZW4gc2F2ZWRcbiAqICAgIHRoaXMuc2V0VHJhY2tpbmdVcmwgPSBmdW5jdGlvbih1cmwpIHtcbiAqICAgICAgdHJhY2tpbmdVcmwgPSB1cmw7XG4gKiAgICB9O1xuICpcbiAqICAgIC8vIFRoZSBzZXJ2aWNlIGZhY3RvcnkgZnVuY3Rpb25cbiAqICAgIHRoaXMuJGdldCA9IFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuICogICAgICB2YXIgdHJhY2tlZEV2ZW50cyA9IHt9O1xuICogICAgICByZXR1cm4ge1xuICogICAgICAgIC8vIENhbGwgdGhpcyB0byB0cmFjayBhbiBldmVudFxuICogICAgICAgIGV2ZW50OiBmdW5jdGlvbihldmVudCkge1xuICogICAgICAgICAgdmFyIGNvdW50ID0gdHJhY2tlZEV2ZW50c1tldmVudF0gfHwgMDtcbiAqICAgICAgICAgIGNvdW50ICs9IDE7XG4gKiAgICAgICAgICB0cmFja2VkRXZlbnRzW2V2ZW50XSA9IGNvdW50O1xuICogICAgICAgICAgcmV0dXJuIGNvdW50O1xuICogICAgICAgIH0sXG4gKiAgICAgICAgLy8gQ2FsbCB0aGlzIHRvIHNhdmUgdGhlIHRyYWNrZWQgZXZlbnRzIHRvIHRoZSB0cmFja2luZ1VybFxuICogICAgICAgIHNhdmU6IGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgJGh0dHAucG9zdCh0cmFja2luZ1VybCwgdHJhY2tlZEV2ZW50cyk7XG4gKiAgICAgICAgfVxuICogICAgICB9O1xuICogICAgfV07XG4gKiAgfVxuICpcbiAqICBkZXNjcmliZSgnZXZlbnRUcmFja2VyJywgZnVuY3Rpb24oKSB7XG4gKiAgICB2YXIgcG9zdFNweTtcbiAqXG4gKiAgICBiZWZvcmVFYWNoKG1vZHVsZShmdW5jdGlvbigkcHJvdmlkZSkge1xuICogICAgICAvLyBSZWdpc3RlciB0aGUgZXZlbnRUcmFja2VyIHByb3ZpZGVyXG4gKiAgICAgICRwcm92aWRlLnByb3ZpZGVyKCdldmVudFRyYWNrZXInLCBFdmVudFRyYWNrZXJQcm92aWRlcik7XG4gKiAgICB9KSk7XG4gKlxuICogICAgYmVmb3JlRWFjaChtb2R1bGUoZnVuY3Rpb24oZXZlbnRUcmFja2VyUHJvdmlkZXIpIHtcbiAqICAgICAgLy8gQ29uZmlndXJlIGV2ZW50VHJhY2tlciBwcm92aWRlclxuICogICAgICBldmVudFRyYWNrZXJQcm92aWRlci5zZXRUcmFja2luZ1VybCgnL2N1c3RvbS10cmFjaycpO1xuICogICAgfSkpO1xuICpcbiAqICAgIGl0KCd0cmFja3MgZXZlbnRzJywgaW5qZWN0KGZ1bmN0aW9uKGV2ZW50VHJhY2tlcikge1xuICogICAgICBleHBlY3QoZXZlbnRUcmFja2VyLmV2ZW50KCdsb2dpbicpKS50b0VxdWFsKDEpO1xuICogICAgICBleHBlY3QoZXZlbnRUcmFja2VyLmV2ZW50KCdsb2dpbicpKS50b0VxdWFsKDIpO1xuICogICAgfSkpO1xuICpcbiAqICAgIGl0KCdzYXZlcyB0byB0aGUgdHJhY2tpbmcgdXJsJywgaW5qZWN0KGZ1bmN0aW9uKGV2ZW50VHJhY2tlciwgJGh0dHApIHtcbiAqICAgICAgcG9zdFNweSA9IHNweU9uKCRodHRwLCAncG9zdCcpO1xuICogICAgICBldmVudFRyYWNrZXIuZXZlbnQoJ2xvZ2luJyk7XG4gKiAgICAgIGV2ZW50VHJhY2tlci5zYXZlKCk7XG4gKiAgICAgIGV4cGVjdChwb3N0U3B5KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gKiAgICAgIGV4cGVjdChwb3N0U3B5Lm1vc3RSZWNlbnRDYWxsLmFyZ3NbMF0pLm5vdC50b0VxdWFsKCcvdHJhY2snKTtcbiAqICAgICAgZXhwZWN0KHBvc3RTcHkubW9zdFJlY2VudENhbGwuYXJnc1swXSkudG9FcXVhbCgnL2N1c3RvbS10cmFjaycpO1xuICogICAgICBleHBlY3QocG9zdFNweS5tb3N0UmVjZW50Q2FsbC5hcmdzWzFdKS50b0VxdWFsKHsgJ2xvZ2luJzogMSB9KTtcbiAqICAgIH0pKTtcbiAqICB9KTtcbiAqIGBgYFxuICovXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHByb3ZpZGUjZmFjdG9yeVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKnNlcnZpY2UgZmFjdG9yeSoqLCB3aGljaCB3aWxsIGJlIGNhbGxlZCB0byByZXR1cm4gdGhlIHNlcnZpY2UgaW5zdGFuY2UuXG4gKiBUaGlzIGlzIHNob3J0IGZvciByZWdpc3RlcmluZyBhIHNlcnZpY2Ugd2hlcmUgaXRzIHByb3ZpZGVyIGNvbnNpc3RzIG9mIG9ubHkgYSBgJGdldGAgcHJvcGVydHksXG4gKiB3aGljaCBpcyB0aGUgZ2l2ZW4gc2VydmljZSBmYWN0b3J5IGZ1bmN0aW9uLlxuICogWW91IHNob3VsZCB1c2Uge0BsaW5rIGF1dG8uJHByb3ZpZGUjZmFjdG9yeSAkcHJvdmlkZS5mYWN0b3J5KGdldEZuKX0gaWYgeW91IGRvIG5vdCBuZWVkIHRvXG4gKiBjb25maWd1cmUgeW91ciBzZXJ2aWNlIGluIGEgcHJvdmlkZXIuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGluc3RhbmNlLlxuICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gJGdldEZuIFRoZSBpbmplY3RhYmxlICRnZXRGbiBmb3IgdGhlIGluc3RhbmNlIGNyZWF0aW9uLlxuICogICAgICAgICAgICAgICAgICAgICAgSW50ZXJuYWxseSB0aGlzIGlzIGEgc2hvcnQgaGFuZCBmb3IgYCRwcm92aWRlLnByb3ZpZGVyKG5hbWUsIHskZ2V0OiAkZ2V0Rm59KWAuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIHByb3ZpZGVyIGluc3RhbmNlXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgaXMgYW4gZXhhbXBsZSBvZiByZWdpc3RlcmluZyBhIHNlcnZpY2VcbiAqIGBgYGpzXG4gKiAgICRwcm92aWRlLmZhY3RvcnkoJ3BpbmcnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcbiAqICAgICByZXR1cm4gZnVuY3Rpb24gcGluZygpIHtcbiAqICAgICAgIHJldHVybiAkaHR0cC5zZW5kKCcvcGluZycpO1xuICogICAgIH07XG4gKiAgIH1dKTtcbiAqIGBgYFxuICogWW91IHdvdWxkIHRoZW4gaW5qZWN0IGFuZCB1c2UgdGhpcyBzZXJ2aWNlIGxpa2UgdGhpczpcbiAqIGBgYGpzXG4gKiAgIHNvbWVNb2R1bGUuY29udHJvbGxlcignQ3RybCcsIFsncGluZycsIGZ1bmN0aW9uKHBpbmcpIHtcbiAqICAgICBwaW5nKCk7XG4gKiAgIH1dKTtcbiAqIGBgYFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcHJvdmlkZSNzZXJ2aWNlXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBSZWdpc3RlciBhICoqc2VydmljZSBjb25zdHJ1Y3RvcioqLCB3aGljaCB3aWxsIGJlIGludm9rZWQgd2l0aCBgbmV3YCB0byBjcmVhdGUgdGhlIHNlcnZpY2VcbiAqIGluc3RhbmNlLlxuICogVGhpcyBpcyBzaG9ydCBmb3IgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlIHdoZXJlIGl0cyBwcm92aWRlcidzIGAkZ2V0YCBwcm9wZXJ0eSBpcyB0aGUgc2VydmljZVxuICogY29uc3RydWN0b3IgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIHVzZWQgdG8gaW5zdGFudGlhdGUgdGhlIHNlcnZpY2UgaW5zdGFuY2UuXG4gKlxuICogWW91IHNob3VsZCB1c2Uge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKGNsYXNzKX0gaWYgeW91IGRlZmluZSB5b3VyIHNlcnZpY2VcbiAqIGFzIGEgdHlwZS9jbGFzcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5LjxzdHJpbmd8RnVuY3Rpb24+fSBjb25zdHJ1Y3RvciBBbiBpbmplY3RhYmxlIGNsYXNzIChjb25zdHJ1Y3RvciBmdW5jdGlvbilcbiAqICAgICB0aGF0IHdpbGwgYmUgaW5zdGFudGlhdGVkLlxuICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBwcm92aWRlciBpbnN0YW5jZVxuICpcbiAqIEBleGFtcGxlXG4gKiBIZXJlIGlzIGFuIGV4YW1wbGUgb2YgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlIHVzaW5nXG4gKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNzZXJ2aWNlICRwcm92aWRlLnNlcnZpY2UoY2xhc3MpfS5cbiAqIGBgYGpzXG4gKiAgIHZhciBQaW5nID0gZnVuY3Rpb24oJGh0dHApIHtcbiAqICAgICB0aGlzLiRodHRwID0gJGh0dHA7XG4gKiAgIH07XG4gKlxuICogICBQaW5nLiRpbmplY3QgPSBbJyRodHRwJ107XG4gKlxuICogICBQaW5nLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgcmV0dXJuIHRoaXMuJGh0dHAuZ2V0KCcvcGluZycpO1xuICogICB9O1xuICogICAkcHJvdmlkZS5zZXJ2aWNlKCdwaW5nJywgUGluZyk7XG4gKiBgYGBcbiAqIFlvdSB3b3VsZCB0aGVuIGluamVjdCBhbmQgdXNlIHRoaXMgc2VydmljZSBsaWtlIHRoaXM6XG4gKiBgYGBqc1xuICogICBzb21lTW9kdWxlLmNvbnRyb2xsZXIoJ0N0cmwnLCBbJ3BpbmcnLCBmdW5jdGlvbihwaW5nKSB7XG4gKiAgICAgcGluZy5zZW5kKCk7XG4gKiAgIH1dKTtcbiAqIGBgYFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcHJvdmlkZSN2YWx1ZVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUmVnaXN0ZXIgYSAqKnZhbHVlIHNlcnZpY2UqKiB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfSwgc3VjaCBhcyBhIHN0cmluZywgYVxuICogbnVtYmVyLCBhbiBhcnJheSwgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24uICBUaGlzIGlzIHNob3J0IGZvciByZWdpc3RlcmluZyBhIHNlcnZpY2Ugd2hlcmUgaXRzXG4gKiBwcm92aWRlcidzIGAkZ2V0YCBwcm9wZXJ0eSBpcyBhIGZhY3RvcnkgZnVuY3Rpb24gdGhhdCB0YWtlcyBubyBhcmd1bWVudHMgYW5kIHJldHVybnMgdGhlICoqdmFsdWVcbiAqIHNlcnZpY2UqKi5cbiAqXG4gKiBWYWx1ZSBzZXJ2aWNlcyBhcmUgc2ltaWxhciB0byBjb25zdGFudCBzZXJ2aWNlcywgZXhjZXB0IHRoYXQgdGhleSBjYW5ub3QgYmUgaW5qZWN0ZWQgaW50byBhXG4gKiBtb2R1bGUgY29uZmlndXJhdGlvbiBmdW5jdGlvbiAoc2VlIHtAbGluayBhbmd1bGFyLk1vZHVsZSNjb25maWd9KSBidXQgdGhleSBjYW4gYmUgb3ZlcnJpZGRlbiBieVxuICogYW4gQW5ndWxhclxuICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjZGVjb3JhdG9yIGRlY29yYXRvcn0uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGluc3RhbmNlLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIHByb3ZpZGVyIGluc3RhbmNlXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgYXJlIHNvbWUgZXhhbXBsZXMgb2YgY3JlYXRpbmcgdmFsdWUgc2VydmljZXMuXG4gKiBgYGBqc1xuICogICAkcHJvdmlkZS52YWx1ZSgnQURNSU5fVVNFUicsICdhZG1pbicpO1xuICpcbiAqICAgJHByb3ZpZGUudmFsdWUoJ1JvbGVMb29rdXAnLCB7IGFkbWluOiAwLCB3cml0ZXI6IDEsIHJlYWRlcjogMiB9KTtcbiAqXG4gKiAgICRwcm92aWRlLnZhbHVlKCdoYWxmT2YnLCBmdW5jdGlvbih2YWx1ZSkge1xuICogICAgIHJldHVybiB2YWx1ZSAvIDI7XG4gKiAgIH0pO1xuICogYGBgXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRwcm92aWRlI2NvbnN0YW50XG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBSZWdpc3RlciBhICoqY29uc3RhbnQgc2VydmljZSoqLCBzdWNoIGFzIGEgc3RyaW5nLCBhIG51bWJlciwgYW4gYXJyYXksIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLFxuICogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIFVubGlrZSB7QGxpbmsgYXV0by4kcHJvdmlkZSN2YWx1ZSB2YWx1ZX0gaXQgY2FuIGJlXG4gKiBpbmplY3RlZCBpbnRvIGEgbW9kdWxlIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb24gKHNlZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjY29uZmlnfSkgYW5kIGl0IGNhbm5vdFxuICogYmUgb3ZlcnJpZGRlbiBieSBhbiBBbmd1bGFyIHtAbGluayBhdXRvLiRwcm92aWRlI2RlY29yYXRvciBkZWNvcmF0b3J9LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBjb25zdGFudC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIGNvbnN0YW50IHZhbHVlLlxuICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBpbnN0YW5jZVxuICpcbiAqIEBleGFtcGxlXG4gKiBIZXJlIGEgc29tZSBleGFtcGxlcyBvZiBjcmVhdGluZyBjb25zdGFudHM6XG4gKiBgYGBqc1xuICogICAkcHJvdmlkZS5jb25zdGFudCgnU0hBUkRfSEVJR0hUJywgMzA2KTtcbiAqXG4gKiAgICRwcm92aWRlLmNvbnN0YW50KCdNWV9DT0xPVVJTJywgWydyZWQnLCAnYmx1ZScsICdncmV5J10pO1xuICpcbiAqICAgJHByb3ZpZGUuY29uc3RhbnQoJ2RvdWJsZScsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gKiAgICAgcmV0dXJuIHZhbHVlICogMjtcbiAqICAgfSk7XG4gKiBgYGBcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIG1ldGhvZFxuICogQG5hbWUgJHByb3ZpZGUjZGVjb3JhdG9yXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBSZWdpc3RlciBhICoqc2VydmljZSBkZWNvcmF0b3IqKiB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS4gQSBzZXJ2aWNlIGRlY29yYXRvclxuICogaW50ZXJjZXB0cyB0aGUgY3JlYXRpb24gb2YgYSBzZXJ2aWNlLCBhbGxvd2luZyBpdCB0byBvdmVycmlkZSBvciBtb2RpZnkgdGhlIGJlaGF2aW91ciBvZiB0aGVcbiAqIHNlcnZpY2UuIFRoZSBvYmplY3QgcmV0dXJuZWQgYnkgdGhlIGRlY29yYXRvciBtYXkgYmUgdGhlIG9yaWdpbmFsIHNlcnZpY2UsIG9yIGEgbmV3IHNlcnZpY2VcbiAqIG9iamVjdCB3aGljaCByZXBsYWNlcyBvciB3cmFwcyBhbmQgZGVsZWdhdGVzIHRvIHRoZSBvcmlnaW5hbCBzZXJ2aWNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIHRvIGRlY29yYXRlLlxuICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gZGVjb3JhdG9yIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBpbnZva2VkIHdoZW4gdGhlIHNlcnZpY2UgbmVlZHMgdG8gYmVcbiAqICAgIGluc3RhbnRpYXRlZCBhbmQgc2hvdWxkIHJldHVybiB0aGUgZGVjb3JhdGVkIHNlcnZpY2UgaW5zdGFuY2UuIFRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgdXNpbmdcbiAqICAgIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW52b2tlIGluamVjdG9yLmludm9rZX0gbWV0aG9kIGFuZCBpcyB0aGVyZWZvcmUgZnVsbHkgaW5qZWN0YWJsZS5cbiAqICAgIExvY2FsIGluamVjdGlvbiBhcmd1bWVudHM6XG4gKlxuICogICAgKiBgJGRlbGVnYXRlYCAtIFRoZSBvcmlnaW5hbCBzZXJ2aWNlIGluc3RhbmNlLCB3aGljaCBjYW4gYmUgbW9ua2V5IHBhdGNoZWQsIGNvbmZpZ3VyZWQsXG4gKiAgICAgIGRlY29yYXRlZCBvciBkZWxlZ2F0ZWQgdG8uXG4gKlxuICogQGV4YW1wbGVcbiAqIEhlcmUgd2UgZGVjb3JhdGUgdGhlIHtAbGluayBuZy4kbG9nICRsb2d9IHNlcnZpY2UgdG8gY29udmVydCB3YXJuaW5ncyB0byBlcnJvcnMgYnkgaW50ZXJjZXB0aW5nXG4gKiBjYWxscyB0byB7QGxpbmsgbmcuJGxvZyNlcnJvciAkbG9nLndhcm4oKX0uXG4gKiBgYGBqc1xuICogICAkcHJvdmlkZS5kZWNvcmF0b3IoJyRsb2cnLCBbJyRkZWxlZ2F0ZScsIGZ1bmN0aW9uKCRkZWxlZ2F0ZSkge1xuICogICAgICRkZWxlZ2F0ZS53YXJuID0gJGRlbGVnYXRlLmVycm9yO1xuICogICAgIHJldHVybiAkZGVsZWdhdGU7XG4gKiAgIH1dKTtcbiAqIGBgYFxuICovXG5cblxuZnVuY3Rpb24gY3JlYXRlSW5qZWN0b3IobW9kdWxlc1RvTG9hZCwgc3RyaWN0RGkpIHtcbiAgc3RyaWN0RGkgPSAoc3RyaWN0RGkgPT09IHRydWUpO1xuICB2YXIgSU5TVEFOVElBVElORyA9IHt9LFxuICAgICAgcHJvdmlkZXJTdWZmaXggPSAnUHJvdmlkZXInLFxuICAgICAgcGF0aCA9IFtdLFxuICAgICAgbG9hZGVkTW9kdWxlcyA9IG5ldyBIYXNoTWFwKFtdLCB0cnVlKSxcbiAgICAgIHByb3ZpZGVyQ2FjaGUgPSB7XG4gICAgICAgICRwcm92aWRlOiB7XG4gICAgICAgICAgICBwcm92aWRlcjogc3VwcG9ydE9iamVjdChwcm92aWRlciksXG4gICAgICAgICAgICBmYWN0b3J5OiBzdXBwb3J0T2JqZWN0KGZhY3RvcnkpLFxuICAgICAgICAgICAgc2VydmljZTogc3VwcG9ydE9iamVjdChzZXJ2aWNlKSxcbiAgICAgICAgICAgIHZhbHVlOiBzdXBwb3J0T2JqZWN0KHZhbHVlKSxcbiAgICAgICAgICAgIGNvbnN0YW50OiBzdXBwb3J0T2JqZWN0KGNvbnN0YW50KSxcbiAgICAgICAgICAgIGRlY29yYXRvcjogZGVjb3JhdG9yXG4gICAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByb3ZpZGVySW5qZWN0b3IgPSAocHJvdmlkZXJDYWNoZS4kaW5qZWN0b3IgPVxuICAgICAgICAgIGNyZWF0ZUludGVybmFsSW5qZWN0b3IocHJvdmlkZXJDYWNoZSwgZnVuY3Rpb24oc2VydmljZU5hbWUsIGNhbGxlcikge1xuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoY2FsbGVyKSkge1xuICAgICAgICAgICAgICBwYXRoLnB1c2goY2FsbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycigndW5wcicsIFwiVW5rbm93biBwcm92aWRlcjogezB9XCIsIHBhdGguam9pbignIDwtICcpKTtcbiAgICAgICAgICB9KSksXG4gICAgICBpbnN0YW5jZUNhY2hlID0ge30sXG4gICAgICBpbnN0YW5jZUluamVjdG9yID0gKGluc3RhbmNlQ2FjaGUuJGluamVjdG9yID1cbiAgICAgICAgICBjcmVhdGVJbnRlcm5hbEluamVjdG9yKGluc3RhbmNlQ2FjaGUsIGZ1bmN0aW9uKHNlcnZpY2VOYW1lLCBjYWxsZXIpIHtcbiAgICAgICAgICAgIHZhciBwcm92aWRlciA9IHByb3ZpZGVySW5qZWN0b3IuZ2V0KHNlcnZpY2VOYW1lICsgcHJvdmlkZXJTdWZmaXgsIGNhbGxlcik7XG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VJbmplY3Rvci5pbnZva2UocHJvdmlkZXIuJGdldCwgcHJvdmlkZXIsIHVuZGVmaW5lZCwgc2VydmljZU5hbWUpO1xuICAgICAgICAgIH0pKTtcblxuXG4gIGZvckVhY2gobG9hZE1vZHVsZXMobW9kdWxlc1RvTG9hZCksIGZ1bmN0aW9uKGZuKSB7IGlmIChmbikgaW5zdGFuY2VJbmplY3Rvci5pbnZva2UoZm4pOyB9KTtcblxuICByZXR1cm4gaW5zdGFuY2VJbmplY3RvcjtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gJHByb3ZpZGVyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIGZ1bmN0aW9uIHN1cHBvcnRPYmplY3QoZGVsZWdhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGlzT2JqZWN0KGtleSkpIHtcbiAgICAgICAgZm9yRWFjaChrZXksIHJldmVyc2VQYXJhbXMoZGVsZWdhdGUpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkZWxlZ2F0ZShrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvdmlkZXIobmFtZSwgcHJvdmlkZXJfKSB7XG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ3NlcnZpY2UnKTtcbiAgICBpZiAoaXNGdW5jdGlvbihwcm92aWRlcl8pIHx8IGlzQXJyYXkocHJvdmlkZXJfKSkge1xuICAgICAgcHJvdmlkZXJfID0gcHJvdmlkZXJJbmplY3Rvci5pbnN0YW50aWF0ZShwcm92aWRlcl8pO1xuICAgIH1cbiAgICBpZiAoIXByb3ZpZGVyXy4kZ2V0KSB7XG4gICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ3BnZXQnLCBcIlByb3ZpZGVyICd7MH0nIG11c3QgZGVmaW5lICRnZXQgZmFjdG9yeSBtZXRob2QuXCIsIG5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvdmlkZXJDYWNoZVtuYW1lICsgcHJvdmlkZXJTdWZmaXhdID0gcHJvdmlkZXJfO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5mb3JjZVJldHVyblZhbHVlKG5hbWUsIGZhY3RvcnkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZW5mb3JjZWRSZXR1cm5WYWx1ZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBpbnN0YW5jZUluamVjdG9yLmludm9rZShmYWN0b3J5LCB0aGlzKTtcbiAgICAgIGlmIChpc1VuZGVmaW5lZChyZXN1bHQpKSB7XG4gICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycigndW5kZWYnLCBcIlByb3ZpZGVyICd7MH0nIG11c3QgcmV0dXJuIGEgdmFsdWUgZnJvbSAkZ2V0IGZhY3RvcnkgbWV0aG9kLlwiLCBuYW1lKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZhY3RvcnkobmFtZSwgZmFjdG9yeUZuLCBlbmZvcmNlKSB7XG4gICAgcmV0dXJuIHByb3ZpZGVyKG5hbWUsIHtcbiAgICAgICRnZXQ6IGVuZm9yY2UgIT09IGZhbHNlID8gZW5mb3JjZVJldHVyblZhbHVlKG5hbWUsIGZhY3RvcnlGbikgOiBmYWN0b3J5Rm5cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlcnZpY2UobmFtZSwgY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gZmFjdG9yeShuYW1lLCBbJyRpbmplY3RvcicsIGZ1bmN0aW9uKCRpbmplY3Rvcikge1xuICAgICAgcmV0dXJuICRpbmplY3Rvci5pbnN0YW50aWF0ZShjb25zdHJ1Y3Rvcik7XG4gICAgfV0pO1xuICB9XG5cbiAgZnVuY3Rpb24gdmFsdWUobmFtZSwgdmFsKSB7IHJldHVybiBmYWN0b3J5KG5hbWUsIHZhbHVlRm4odmFsKSwgZmFsc2UpOyB9XG5cbiAgZnVuY3Rpb24gY29uc3RhbnQobmFtZSwgdmFsdWUpIHtcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnY29uc3RhbnQnKTtcbiAgICBwcm92aWRlckNhY2hlW25hbWVdID0gdmFsdWU7XG4gICAgaW5zdGFuY2VDYWNoZVtuYW1lXSA9IHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVjb3JhdG9yKHNlcnZpY2VOYW1lLCBkZWNvckZuKSB7XG4gICAgdmFyIG9yaWdQcm92aWRlciA9IHByb3ZpZGVySW5qZWN0b3IuZ2V0KHNlcnZpY2VOYW1lICsgcHJvdmlkZXJTdWZmaXgpLFxuICAgICAgICBvcmlnJGdldCA9IG9yaWdQcm92aWRlci4kZ2V0O1xuXG4gICAgb3JpZ1Byb3ZpZGVyLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvcmlnSW5zdGFuY2UgPSBpbnN0YW5jZUluamVjdG9yLmludm9rZShvcmlnJGdldCwgb3JpZ1Byb3ZpZGVyKTtcbiAgICAgIHJldHVybiBpbnN0YW5jZUluamVjdG9yLmludm9rZShkZWNvckZuLCBudWxsLCB7JGRlbGVnYXRlOiBvcmlnSW5zdGFuY2V9KTtcbiAgICB9O1xuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIE1vZHVsZSBMb2FkaW5nXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBmdW5jdGlvbiBsb2FkTW9kdWxlcyhtb2R1bGVzVG9Mb2FkKSB7XG4gICAgdmFyIHJ1bkJsb2NrcyA9IFtdLCBtb2R1bGVGbjtcbiAgICBmb3JFYWNoKG1vZHVsZXNUb0xvYWQsIGZ1bmN0aW9uKG1vZHVsZSkge1xuICAgICAgaWYgKGxvYWRlZE1vZHVsZXMuZ2V0KG1vZHVsZSkpIHJldHVybjtcbiAgICAgIGxvYWRlZE1vZHVsZXMucHV0KG1vZHVsZSwgdHJ1ZSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJ1bkludm9rZVF1ZXVlKHF1ZXVlKSB7XG4gICAgICAgIHZhciBpLCBpaTtcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBxdWV1ZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgdmFyIGludm9rZUFyZ3MgPSBxdWV1ZVtpXSxcbiAgICAgICAgICAgICAgcHJvdmlkZXIgPSBwcm92aWRlckluamVjdG9yLmdldChpbnZva2VBcmdzWzBdKTtcblxuICAgICAgICAgIHByb3ZpZGVyW2ludm9rZUFyZ3NbMV1dLmFwcGx5KHByb3ZpZGVyLCBpbnZva2VBcmdzWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBpZiAoaXNTdHJpbmcobW9kdWxlKSkge1xuICAgICAgICAgIG1vZHVsZUZuID0gYW5ndWxhck1vZHVsZShtb2R1bGUpO1xuICAgICAgICAgIHJ1bkJsb2NrcyA9IHJ1bkJsb2Nrcy5jb25jYXQobG9hZE1vZHVsZXMobW9kdWxlRm4ucmVxdWlyZXMpKS5jb25jYXQobW9kdWxlRm4uX3J1bkJsb2Nrcyk7XG4gICAgICAgICAgcnVuSW52b2tlUXVldWUobW9kdWxlRm4uX2ludm9rZVF1ZXVlKTtcbiAgICAgICAgICBydW5JbnZva2VRdWV1ZShtb2R1bGVGbi5fY29uZmlnQmxvY2tzKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKG1vZHVsZSkpIHtcbiAgICAgICAgICAgIHJ1bkJsb2Nrcy5wdXNoKHByb3ZpZGVySW5qZWN0b3IuaW52b2tlKG1vZHVsZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkobW9kdWxlKSkge1xuICAgICAgICAgICAgcnVuQmxvY2tzLnB1c2gocHJvdmlkZXJJbmplY3Rvci5pbnZva2UobW9kdWxlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXNzZXJ0QXJnRm4obW9kdWxlLCAnbW9kdWxlJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkobW9kdWxlKSkge1xuICAgICAgICAgIG1vZHVsZSA9IG1vZHVsZVttb2R1bGUubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUubWVzc2FnZSAmJiBlLnN0YWNrICYmIGUuc3RhY2suaW5kZXhPZihlLm1lc3NhZ2UpID09IC0xKSB7XG4gICAgICAgICAgLy8gU2FmYXJpICYgRkYncyBzdGFjayB0cmFjZXMgZG9uJ3QgY29udGFpbiBlcnJvci5tZXNzYWdlIGNvbnRlbnRcbiAgICAgICAgICAvLyB1bmxpa2UgdGhvc2Ugb2YgQ2hyb21lIGFuZCBJRVxuICAgICAgICAgIC8vIFNvIGlmIHN0YWNrIGRvZXNuJ3QgY29udGFpbiBtZXNzYWdlLCB3ZSBjcmVhdGUgYSBuZXcgc3RyaW5nIHRoYXQgY29udGFpbnMgYm90aC5cbiAgICAgICAgICAvLyBTaW5jZSBlcnJvci5zdGFjayBpcyByZWFkLW9ubHkgaW4gU2FmYXJpLCBJJ20gb3ZlcnJpZGluZyBlIGFuZCBub3QgZS5zdGFjayBoZXJlLlxuICAgICAgICAgIC8qIGpzaGludCAtVzAyMiAqL1xuICAgICAgICAgIGUgPSBlLm1lc3NhZ2UgKyAnXFxuJyArIGUuc3RhY2s7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdtb2R1bGVycicsIFwiRmFpbGVkIHRvIGluc3RhbnRpYXRlIG1vZHVsZSB7MH0gZHVlIHRvOlxcbnsxfVwiLFxuICAgICAgICAgICAgICAgICAgbW9kdWxlLCBlLnN0YWNrIHx8IGUubWVzc2FnZSB8fCBlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcnVuQmxvY2tzO1xuICB9XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIC8vIGludGVybmFsIEluamVjdG9yXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUludGVybmFsSW5qZWN0b3IoY2FjaGUsIGZhY3RvcnkpIHtcblxuICAgIGZ1bmN0aW9uIGdldFNlcnZpY2Uoc2VydmljZU5hbWUsIGNhbGxlcikge1xuICAgICAgaWYgKGNhY2hlLmhhc093blByb3BlcnR5KHNlcnZpY2VOYW1lKSkge1xuICAgICAgICBpZiAoY2FjaGVbc2VydmljZU5hbWVdID09PSBJTlNUQU5USUFUSU5HKSB7XG4gICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdjZGVwJywgJ0NpcmN1bGFyIGRlcGVuZGVuY3kgZm91bmQ6IHswfScsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lICsgJyA8LSAnICsgcGF0aC5qb2luKCcgPC0gJykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWNoZVtzZXJ2aWNlTmFtZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHBhdGgudW5zaGlmdChzZXJ2aWNlTmFtZSk7XG4gICAgICAgICAgY2FjaGVbc2VydmljZU5hbWVdID0gSU5TVEFOVElBVElORztcbiAgICAgICAgICByZXR1cm4gY2FjaGVbc2VydmljZU5hbWVdID0gZmFjdG9yeShzZXJ2aWNlTmFtZSwgY2FsbGVyKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaWYgKGNhY2hlW3NlcnZpY2VOYW1lXSA9PT0gSU5TVEFOVElBVElORykge1xuICAgICAgICAgICAgZGVsZXRlIGNhY2hlW3NlcnZpY2VOYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHBhdGguc2hpZnQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGludm9rZShmbiwgc2VsZiwgbG9jYWxzLCBzZXJ2aWNlTmFtZSkge1xuICAgICAgaWYgKHR5cGVvZiBsb2NhbHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHNlcnZpY2VOYW1lID0gbG9jYWxzO1xuICAgICAgICBsb2NhbHMgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgYXJncyA9IFtdLFxuICAgICAgICAgICRpbmplY3QgPSBjcmVhdGVJbmplY3Rvci4kJGFubm90YXRlKGZuLCBzdHJpY3REaSwgc2VydmljZU5hbWUpLFxuICAgICAgICAgIGxlbmd0aCwgaSxcbiAgICAgICAgICBrZXk7XG5cbiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9ICRpbmplY3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAga2V5ID0gJGluamVjdFtpXTtcbiAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdpdGtuJyxcbiAgICAgICAgICAgICAgICAgICdJbmNvcnJlY3QgaW5qZWN0aW9uIHRva2VuISBFeHBlY3RlZCBzZXJ2aWNlIG5hbWUgYXMgc3RyaW5nLCBnb3QgezB9Jywga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBhcmdzLnB1c2goXG4gICAgICAgICAgbG9jYWxzICYmIGxvY2Fscy5oYXNPd25Qcm9wZXJ0eShrZXkpXG4gICAgICAgICAgPyBsb2NhbHNba2V5XVxuICAgICAgICAgIDogZ2V0U2VydmljZShrZXksIHNlcnZpY2VOYW1lKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXkoZm4pKSB7XG4gICAgICAgIGZuID0gZm5bbGVuZ3RoXTtcbiAgICAgIH1cblxuICAgICAgLy8gaHR0cDovL2pzcGVyZi5jb20vYW5ndWxhcmpzLWludm9rZS1hcHBseS12cy1zd2l0Y2hcbiAgICAgIC8vICM1Mzg4XG4gICAgICByZXR1cm4gZm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFudGlhdGUoVHlwZSwgbG9jYWxzLCBzZXJ2aWNlTmFtZSkge1xuICAgICAgLy8gQ2hlY2sgaWYgVHlwZSBpcyBhbm5vdGF0ZWQgYW5kIHVzZSBqdXN0IHRoZSBnaXZlbiBmdW5jdGlvbiBhdCBuLTEgYXMgcGFyYW1ldGVyXG4gICAgICAvLyBlLmcuIHNvbWVNb2R1bGUuZmFjdG9yeSgnZ3JlZXRlcicsIFsnJHdpbmRvdycsIGZ1bmN0aW9uKHJlbmFtZWQkd2luZG93KSB7fV0pO1xuICAgICAgLy8gT2JqZWN0IGNyZWF0aW9uOiBodHRwOi8vanNwZXJmLmNvbS9jcmVhdGUtY29uc3RydWN0b3IvMlxuICAgICAgdmFyIGluc3RhbmNlID0gT2JqZWN0LmNyZWF0ZSgoaXNBcnJheShUeXBlKSA/IFR5cGVbVHlwZS5sZW5ndGggLSAxXSA6IFR5cGUpLnByb3RvdHlwZSB8fCBudWxsKTtcbiAgICAgIHZhciByZXR1cm5lZFZhbHVlID0gaW52b2tlKFR5cGUsIGluc3RhbmNlLCBsb2NhbHMsIHNlcnZpY2VOYW1lKTtcblxuICAgICAgcmV0dXJuIGlzT2JqZWN0KHJldHVybmVkVmFsdWUpIHx8IGlzRnVuY3Rpb24ocmV0dXJuZWRWYWx1ZSkgPyByZXR1cm5lZFZhbHVlIDogaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGludm9rZTogaW52b2tlLFxuICAgICAgaW5zdGFudGlhdGU6IGluc3RhbnRpYXRlLFxuICAgICAgZ2V0OiBnZXRTZXJ2aWNlLFxuICAgICAgYW5ub3RhdGU6IGNyZWF0ZUluamVjdG9yLiQkYW5ub3RhdGUsXG4gICAgICBoYXM6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHByb3ZpZGVyQ2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSArIHByb3ZpZGVyU3VmZml4KSB8fCBjYWNoZS5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59XG5cbmNyZWF0ZUluamVjdG9yLiQkYW5ub3RhdGUgPSBhbm5vdGF0ZTtcblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRhbmNob3JTY3JvbGxQcm92aWRlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNlIGAkYW5jaG9yU2Nyb2xsUHJvdmlkZXJgIHRvIGRpc2FibGUgYXV0b21hdGljIHNjcm9sbGluZyB3aGVuZXZlclxuICoge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9IGNoYW5nZXMuXG4gKi9cbmZ1bmN0aW9uICRBbmNob3JTY3JvbGxQcm92aWRlcigpIHtcblxuICB2YXIgYXV0b1Njcm9sbGluZ0VuYWJsZWQgPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRhbmNob3JTY3JvbGxQcm92aWRlciNkaXNhYmxlQXV0b1Njcm9sbGluZ1xuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQnkgZGVmYXVsdCwge0BsaW5rIG5nLiRhbmNob3JTY3JvbGwgJGFuY2hvclNjcm9sbCgpfSB3aWxsIGF1dG9tYXRpY2FsbHkgZGV0ZWN0IGNoYW5nZXMgdG9cbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9IGFuZCBzY3JvbGwgdG8gdGhlIGVsZW1lbnQgbWF0Y2hpbmcgdGhlIG5ldyBoYXNoLjxiciAvPlxuICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gZGlzYWJsZSBhdXRvbWF0aWMgc2Nyb2xsaW5nLlxuICAgKlxuICAgKiBJZiBhdXRvbWF0aWMgc2Nyb2xsaW5nIGlzIGRpc2FibGVkLCBvbmUgbXVzdCBleHBsaWNpdGx5IGNhbGxcbiAgICoge0BsaW5rIG5nLiRhbmNob3JTY3JvbGwgJGFuY2hvclNjcm9sbCgpfSBpbiBvcmRlciB0byBzY3JvbGwgdG8gdGhlIGVsZW1lbnQgcmVsYXRlZCB0byB0aGVcbiAgICogY3VycmVudCBoYXNoLlxuICAgKi9cbiAgdGhpcy5kaXNhYmxlQXV0b1Njcm9sbGluZyA9IGZ1bmN0aW9uKCkge1xuICAgIGF1dG9TY3JvbGxpbmdFbmFibGVkID0gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAqIEBuYW1lICRhbmNob3JTY3JvbGxcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICogQHJlcXVpcmVzICR3aW5kb3dcbiAgICogQHJlcXVpcmVzICRsb2NhdGlvblxuICAgKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogV2hlbiBjYWxsZWQsIGl0IHNjcm9sbHMgdG8gdGhlIGVsZW1lbnQgcmVsYXRlZCB0byB0aGUgc3BlY2lmaWVkIGBoYXNoYCBvciAoaWYgb21pdHRlZCkgdG8gdGhlXG4gICAqIGN1cnJlbnQgdmFsdWUgb2Yge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9LCBhY2NvcmRpbmcgdG8gdGhlIHJ1bGVzIHNwZWNpZmllZFxuICAgKiBpbiB0aGVcbiAgICogW0hUTUw1IHNwZWNdKGh0dHA6Ly9kZXYudzMub3JnL2h0bWw1L3NwZWMvT3ZlcnZpZXcuaHRtbCN0aGUtaW5kaWNhdGVkLXBhcnQtb2YtdGhlLWRvY3VtZW50KS5cbiAgICpcbiAgICogSXQgYWxzbyB3YXRjaGVzIHRoZSB7QGxpbmsgbmcuJGxvY2F0aW9uI2hhc2ggJGxvY2F0aW9uLmhhc2goKX0gYW5kIGF1dG9tYXRpY2FsbHkgc2Nyb2xscyB0b1xuICAgKiBtYXRjaCBhbnkgYW5jaG9yIHdoZW5ldmVyIGl0IGNoYW5nZXMuIFRoaXMgY2FuIGJlIGRpc2FibGVkIGJ5IGNhbGxpbmdcbiAgICoge0BsaW5rIG5nLiRhbmNob3JTY3JvbGxQcm92aWRlciNkaXNhYmxlQXV0b1Njcm9sbGluZyAkYW5jaG9yU2Nyb2xsUHJvdmlkZXIuZGlzYWJsZUF1dG9TY3JvbGxpbmcoKX0uXG4gICAqXG4gICAqIEFkZGl0aW9uYWxseSwgeW91IGNhbiB1c2UgaXRzIHtAbGluayBuZy4kYW5jaG9yU2Nyb2xsI3lPZmZzZXQgeU9mZnNldH0gcHJvcGVydHkgdG8gc3BlY2lmeSBhXG4gICAqIHZlcnRpY2FsIHNjcm9sbC1vZmZzZXQgKGVpdGhlciBmaXhlZCBvciBkeW5hbWljKS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBoYXNoIFRoZSBoYXNoIHNwZWNpZnlpbmcgdGhlIGVsZW1lbnQgdG8gc2Nyb2xsIHRvLiBJZiBvbWl0dGVkLCB0aGUgdmFsdWUgb2ZcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHtAbGluayBuZy4kbG9jYXRpb24jaGFzaCAkbG9jYXRpb24uaGFzaCgpfSB3aWxsIGJlIHVzZWQuXG4gICAqXG4gICAqIEBwcm9wZXJ0eSB7KG51bWJlcnxmdW5jdGlvbnxqcUxpdGUpfSB5T2Zmc2V0XG4gICAqIElmIHNldCwgc3BlY2lmaWVzIGEgdmVydGljYWwgc2Nyb2xsLW9mZnNldC4gVGhpcyBpcyBvZnRlbiB1c2VmdWwgd2hlbiB0aGVyZSBhcmUgZml4ZWRcbiAgICogcG9zaXRpb25lZCBlbGVtZW50cyBhdCB0aGUgdG9wIG9mIHRoZSBwYWdlLCBzdWNoIGFzIG5hdmJhcnMsIGhlYWRlcnMgZXRjLlxuICAgKlxuICAgKiBgeU9mZnNldGAgY2FuIGJlIHNwZWNpZmllZCBpbiB2YXJpb3VzIHdheXM6XG4gICAqIC0gKipudW1iZXIqKjogQSBmaXhlZCBudW1iZXIgb2YgcGl4ZWxzIHRvIGJlIHVzZWQgYXMgb2Zmc2V0LjxiciAvPjxiciAvPlxuICAgKiAtICoqZnVuY3Rpb24qKjogQSBnZXR0ZXIgZnVuY3Rpb24gY2FsbGVkIGV2ZXJ5dGltZSBgJGFuY2hvclNjcm9sbCgpYCBpcyBleGVjdXRlZC4gTXVzdCByZXR1cm5cbiAgICogICBhIG51bWJlciByZXByZXNlbnRpbmcgdGhlIG9mZnNldCAoaW4gcGl4ZWxzKS48YnIgLz48YnIgLz5cbiAgICogLSAqKmpxTGl0ZSoqOiBBIGpxTGl0ZS9qUXVlcnkgZWxlbWVudCB0byBiZSB1c2VkIGZvciBzcGVjaWZ5aW5nIHRoZSBvZmZzZXQuIFRoZSBkaXN0YW5jZSBmcm9tXG4gICAqICAgdGhlIHRvcCBvZiB0aGUgcGFnZSB0byB0aGUgZWxlbWVudCdzIGJvdHRvbSB3aWxsIGJlIHVzZWQgYXMgb2Zmc2V0LjxiciAvPlxuICAgKiAgICoqTm90ZSoqOiBUaGUgZWxlbWVudCB3aWxsIGJlIHRha2VuIGludG8gYWNjb3VudCBvbmx5IGFzIGxvbmcgYXMgaXRzIGBwb3NpdGlvbmAgaXMgc2V0IHRvXG4gICAqICAgYGZpeGVkYC4gVGhpcyBvcHRpb24gaXMgdXNlZnVsLCB3aGVuIGRlYWxpbmcgd2l0aCByZXNwb25zaXZlIG5hdmJhcnMvaGVhZGVycyB0aGF0IGFkanVzdFxuICAgKiAgIHRoZWlyIGhlaWdodCBhbmQvb3IgcG9zaXRpb25pbmcgYWNjb3JkaW5nIHRvIHRoZSB2aWV3cG9ydCdzIHNpemUuXG4gICAqXG4gICAqIDxiciAvPlxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICAgKiBJbiBvcmRlciBmb3IgYHlPZmZzZXRgIHRvIHdvcmsgcHJvcGVybHksIHNjcm9sbGluZyBzaG91bGQgdGFrZSBwbGFjZSBvbiB0aGUgZG9jdW1lbnQncyByb290IGFuZFxuICAgKiBub3Qgc29tZSBjaGlsZCBlbGVtZW50LlxuICAgKiA8L2Rpdj5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiYW5jaG9yU2Nyb2xsRXhhbXBsZVwiPlxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8ZGl2IGlkPVwic2Nyb2xsQXJlYVwiIG5nLWNvbnRyb2xsZXI9XCJTY3JvbGxDb250cm9sbGVyXCI+XG4gICAgICAgICAgIDxhIG5nLWNsaWNrPVwiZ290b0JvdHRvbSgpXCI+R28gdG8gYm90dG9tPC9hPlxuICAgICAgICAgICA8YSBpZD1cImJvdHRvbVwiPjwvYT4gWW91J3JlIGF0IHRoZSBib3R0b20hXG4gICAgICAgICA8L2Rpdj5cbiAgICAgICA8L2ZpbGU+XG4gICAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2FuY2hvclNjcm9sbEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ1Njcm9sbENvbnRyb2xsZXInLCBbJyRzY29wZScsICckbG9jYXRpb24nLCAnJGFuY2hvclNjcm9sbCcsXG4gICAgICAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCAkYW5jaG9yU2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZ290b0JvdHRvbSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIGxvY2F0aW9uLmhhc2ggdG8gdGhlIGlkIG9mXG4gICAgICAgICAgICAgICAgIC8vIHRoZSBlbGVtZW50IHlvdSB3aXNoIHRvIHNjcm9sbCB0by5cbiAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2JvdHRvbScpO1xuXG4gICAgICAgICAgICAgICAgIC8vIGNhbGwgJGFuY2hvclNjcm9sbCgpXG4gICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgIDwvZmlsZT5cbiAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XG4gICAgICAgICAjc2Nyb2xsQXJlYSB7XG4gICAgICAgICAgIGhlaWdodDogMjgwcHg7XG4gICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgICAgfVxuXG4gICAgICAgICAjYm90dG9tIHtcbiAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgIG1hcmdpbi10b3A6IDIwMDBweDtcbiAgICAgICAgIH1cbiAgICAgICA8L2ZpbGU+XG4gICAgIDwvZXhhbXBsZT5cbiAgICpcbiAgICogPGhyIC8+XG4gICAqIFRoZSBleGFtcGxlIGJlbG93IGlsbHVzdHJhdGVzIHRoZSB1c2Ugb2YgYSB2ZXJ0aWNhbCBzY3JvbGwtb2Zmc2V0IChzcGVjaWZpZWQgYXMgYSBmaXhlZCB2YWx1ZSkuXG4gICAqIFNlZSB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCN5T2Zmc2V0ICRhbmNob3JTY3JvbGwueU9mZnNldH0gZm9yIG1vcmUgZGV0YWlscy5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiYW5jaG9yU2Nyb2xsT2Zmc2V0RXhhbXBsZVwiPlxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8ZGl2IGNsYXNzPVwiZml4ZWQtaGVhZGVyXCIgbmctY29udHJvbGxlcj1cImhlYWRlckN0cmxcIj5cbiAgICAgICAgICAgPGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwiZ290b0FuY2hvcih4KVwiIG5nLXJlcGVhdD1cInggaW4gWzEsMiwzLDQsNV1cIj5cbiAgICAgICAgICAgICBHbyB0byBhbmNob3Ige3t4fX1cbiAgICAgICAgICAgPC9hPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8ZGl2IGlkPVwiYW5jaG9ye3t4fX1cIiBjbGFzcz1cImFuY2hvclwiIG5nLXJlcGVhdD1cInggaW4gWzEsMiwzLDQsNV1cIj5cbiAgICAgICAgICAgQW5jaG9yIHt7eH19IG9mIDVcbiAgICAgICAgIDwvZGl2PlxuICAgICAgIDwvZmlsZT5cbiAgICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnYW5jaG9yU2Nyb2xsT2Zmc2V0RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAucnVuKFsnJGFuY2hvclNjcm9sbCcsIGZ1bmN0aW9uKCRhbmNob3JTY3JvbGwpIHtcbiAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsLnlPZmZzZXQgPSA1MDsgICAvLyBhbHdheXMgc2Nyb2xsIGJ5IDUwIGV4dHJhIHBpeGVsc1xuICAgICAgICAgICB9XSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ2hlYWRlckN0cmwnLCBbJyRhbmNob3JTY3JvbGwnLCAnJGxvY2F0aW9uJywgJyRzY29wZScsXG4gICAgICAgICAgICAgZnVuY3Rpb24gKCRhbmNob3JTY3JvbGwsICRsb2NhdGlvbiwgJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuZ290b0FuY2hvciA9IGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgICAgICAgICAgdmFyIG5ld0hhc2ggPSAnYW5jaG9yJyArIHg7XG4gICAgICAgICAgICAgICAgIGlmICgkbG9jYXRpb24uaGFzaCgpICE9PSBuZXdIYXNoKSB7XG4gICAgICAgICAgICAgICAgICAgLy8gc2V0IHRoZSAkbG9jYXRpb24uaGFzaCB0byBgbmV3SGFzaGAgYW5kXG4gICAgICAgICAgICAgICAgICAgLy8gJGFuY2hvclNjcm9sbCB3aWxsIGF1dG9tYXRpY2FsbHkgc2Nyb2xsIHRvIGl0XG4gICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2FuY2hvcicgKyB4KTtcbiAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAvLyBjYWxsICRhbmNob3JTY3JvbGwoKSBleHBsaWNpdGx5LFxuICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlICRsb2NhdGlvbi5oYXNoIGhhc24ndCBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbCgpO1xuICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgXSk7XG4gICAgICAgPC9maWxlPlxuICAgICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAgIGJvZHkge1xuICAgICAgICAgICBwYWRkaW5nLXRvcDogNTBweDtcbiAgICAgICAgIH1cblxuICAgICAgICAgLmFuY2hvciB7XG4gICAgICAgICAgIGJvcmRlcjogMnB4IGRhc2hlZCBEYXJrT3JjaGlkO1xuICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDEwcHggMjAwcHggMTBweDtcbiAgICAgICAgIH1cblxuICAgICAgICAgLmZpeGVkLWhlYWRlciB7XG4gICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICAgICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgIHRvcDogMDsgbGVmdDogMDsgcmlnaHQ6IDA7XG4gICAgICAgICB9XG5cbiAgICAgICAgIC5maXhlZC1oZWFkZXIgPiBhIHtcbiAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgICBtYXJnaW46IDVweCAxNXB4O1xuICAgICAgICAgfVxuICAgICAgIDwvZmlsZT5cbiAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyRsb2NhdGlvbicsICckcm9vdFNjb3BlJywgZnVuY3Rpb24oJHdpbmRvdywgJGxvY2F0aW9uLCAkcm9vdFNjb3BlKSB7XG4gICAgdmFyIGRvY3VtZW50ID0gJHdpbmRvdy5kb2N1bWVudDtcblxuICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgZmlyc3QgYW5jaG9yIGZyb20gYSBOb2RlTGlzdFxuICAgIC8vICh1c2luZyBgQXJyYXkjc29tZSgpYCBpbnN0ZWFkIG9mIGBhbmd1bGFyI2ZvckVhY2goKWAgc2luY2UgaXQncyBtb3JlIHBlcmZvcm1hbnRcbiAgICAvLyAgYW5kIHdvcmtpbmcgaW4gYWxsIHN1cHBvcnRlZCBicm93c2Vycy4pXG4gICAgZnVuY3Rpb24gZ2V0Rmlyc3RBbmNob3IobGlzdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XG4gICAgICBBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKGxpc3QsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKG5vZGVOYW1lXyhlbGVtZW50KSA9PT0gJ2EnKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZWxlbWVudDtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFlPZmZzZXQoKSB7XG5cbiAgICAgIHZhciBvZmZzZXQgPSBzY3JvbGwueU9mZnNldDtcblxuICAgICAgaWYgKGlzRnVuY3Rpb24ob2Zmc2V0KSkge1xuICAgICAgICBvZmZzZXQgPSBvZmZzZXQoKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50KG9mZnNldCkpIHtcbiAgICAgICAgdmFyIGVsZW0gPSBvZmZzZXRbMF07XG4gICAgICAgIHZhciBzdHlsZSA9ICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtKTtcbiAgICAgICAgaWYgKHN0eWxlLnBvc2l0aW9uICE9PSAnZml4ZWQnKSB7XG4gICAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghaXNOdW1iZXIob2Zmc2V0KSkge1xuICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNjcm9sbFRvKGVsZW0pIHtcbiAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgIGVsZW0uc2Nyb2xsSW50b1ZpZXcoKTtcblxuICAgICAgICB2YXIgb2Zmc2V0ID0gZ2V0WU9mZnNldCgpO1xuXG4gICAgICAgIGlmIChvZmZzZXQpIHtcbiAgICAgICAgICAvLyBgb2Zmc2V0YCBpcyB0aGUgbnVtYmVyIG9mIHBpeGVscyB3ZSBzaG91bGQgc2Nyb2xsIFVQIGluIG9yZGVyIHRvIGFsaWduIGBlbGVtYCBwcm9wZXJseS5cbiAgICAgICAgICAvLyBUaGlzIGlzIHRydWUgT05MWSBpZiB0aGUgY2FsbCB0byBgZWxlbS5zY3JvbGxJbnRvVmlldygpYCBpbml0aWFsbHkgYWxpZ25zIGBlbGVtYCBhdCB0aGVcbiAgICAgICAgICAvLyB0b3Agb2YgdGhlIHZpZXdwb3J0LlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gSUYgdGhlIG51bWJlciBvZiBwaXhlbHMgZnJvbSB0aGUgdG9wIG9mIGBlbGVtYCB0byB0aGUgZW5kIG9mIHRoZSBwYWdlJ3MgY29udGVudCBpcyBsZXNzXG4gICAgICAgICAgLy8gdGhhbiB0aGUgaGVpZ2h0IG9mIHRoZSB2aWV3cG9ydCwgdGhlbiBgZWxlbS5zY3JvbGxJbnRvVmlldygpYCB3aWxsIGFsaWduIHRoZSBgZWxlbWAgc29tZVxuICAgICAgICAgIC8vIHdheSBkb3duIHRoZSBwYWdlLlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gVGhpcyBpcyBvZnRlbiB0aGUgY2FzZSBmb3IgZWxlbWVudHMgbmVhciB0aGUgYm90dG9tIG9mIHRoZSBwYWdlLlxuICAgICAgICAgIC8vXG4gICAgICAgICAgLy8gSW4gc3VjaCBjYXNlcyB3ZSBkbyBub3QgbmVlZCB0byBzY3JvbGwgdGhlIHdob2xlIGBvZmZzZXRgIHVwLCBqdXN0IHRoZSBkaWZmZXJlbmNlIGJldHdlZW5cbiAgICAgICAgICAvLyB0aGUgdG9wIG9mIHRoZSBlbGVtZW50IGFuZCB0aGUgb2Zmc2V0LCB3aGljaCBpcyBlbm91Z2ggdG8gYWxpZ24gdGhlIHRvcCBvZiBgZWxlbWAgYXQgdGhlXG4gICAgICAgICAgLy8gZGVzaXJlZCBwb3NpdGlvbi5cbiAgICAgICAgICB2YXIgZWxlbVRvcCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgICAgICR3aW5kb3cuc2Nyb2xsQnkoMCwgZWxlbVRvcCAtIG9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICR3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2Nyb2xsKGhhc2gpIHtcbiAgICAgIGhhc2ggPSBpc1N0cmluZyhoYXNoKSA/IGhhc2ggOiAkbG9jYXRpb24uaGFzaCgpO1xuICAgICAgdmFyIGVsbTtcblxuICAgICAgLy8gZW1wdHkgaGFzaCwgc2Nyb2xsIHRvIHRoZSB0b3Agb2YgdGhlIHBhZ2VcbiAgICAgIGlmICghaGFzaCkgc2Nyb2xsVG8obnVsbCk7XG5cbiAgICAgIC8vIGVsZW1lbnQgd2l0aCBnaXZlbiBpZFxuICAgICAgZWxzZSBpZiAoKGVsbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhhc2gpKSkgc2Nyb2xsVG8oZWxtKTtcblxuICAgICAgLy8gZmlyc3QgYW5jaG9yIHdpdGggZ2l2ZW4gbmFtZSA6LURcbiAgICAgIGVsc2UgaWYgKChlbG0gPSBnZXRGaXJzdEFuY2hvcihkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShoYXNoKSkpKSBzY3JvbGxUbyhlbG0pO1xuXG4gICAgICAvLyBubyBlbGVtZW50IGFuZCBoYXNoID09ICd0b3AnLCBzY3JvbGwgdG8gdGhlIHRvcCBvZiB0aGUgcGFnZVxuICAgICAgZWxzZSBpZiAoaGFzaCA9PT0gJ3RvcCcpIHNjcm9sbFRvKG51bGwpO1xuICAgIH1cblxuICAgIC8vIGRvZXMgbm90IHNjcm9sbCB3aGVuIHVzZXIgY2xpY2tzIG9uIGFuY2hvciBsaW5rIHRoYXQgaXMgY3VycmVudGx5IG9uXG4gICAgLy8gKG5vIHVybCBjaGFuZ2UsIG5vICRsb2NhdGlvbi5oYXNoKCkgY2hhbmdlKSwgYnJvd3NlciBuYXRpdmUgZG9lcyBzY3JvbGxcbiAgICBpZiAoYXV0b1Njcm9sbGluZ0VuYWJsZWQpIHtcbiAgICAgICRyb290U2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGF1dG9TY3JvbGxXYXRjaCgpIHtyZXR1cm4gJGxvY2F0aW9uLmhhc2goKTt9LFxuICAgICAgICBmdW5jdGlvbiBhdXRvU2Nyb2xsV2F0Y2hBY3Rpb24obmV3VmFsLCBvbGRWYWwpIHtcbiAgICAgICAgICAvLyBza2lwIHRoZSBpbml0aWFsIHNjcm9sbCBpZiAkbG9jYXRpb24uaGFzaCBpcyBlbXB0eVxuICAgICAgICAgIGlmIChuZXdWYWwgPT09IG9sZFZhbCAmJiBuZXdWYWwgPT09ICcnKSByZXR1cm47XG5cbiAgICAgICAgICBqcUxpdGVEb2N1bWVudExvYWRlZChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhzY3JvbGwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2Nyb2xsO1xuICB9XTtcbn1cblxudmFyICRhbmltYXRlTWluRXJyID0gbWluRXJyKCckYW5pbWF0ZScpO1xudmFyIEVMRU1FTlRfTk9ERSA9IDE7XG52YXIgTkdfQU5JTUFURV9DTEFTU05BTUUgPSAnbmctYW5pbWF0ZSc7XG5cbmZ1bmN0aW9uIG1lcmdlQ2xhc3NlcyhhLGIpIHtcbiAgaWYgKCFhICYmICFiKSByZXR1cm4gJyc7XG4gIGlmICghYSkgcmV0dXJuIGI7XG4gIGlmICghYikgcmV0dXJuIGE7XG4gIGlmIChpc0FycmF5KGEpKSBhID0gYS5qb2luKCcgJyk7XG4gIGlmIChpc0FycmF5KGIpKSBiID0gYi5qb2luKCcgJyk7XG4gIHJldHVybiBhICsgJyAnICsgYjtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdEVsZW1lbnROb2RlKGVsZW1lbnQpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGVsbSA9IGVsZW1lbnRbaV07XG4gICAgaWYgKGVsbS5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFKSB7XG4gICAgICByZXR1cm4gZWxtO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzcGxpdENsYXNzZXMoY2xhc3Nlcykge1xuICBpZiAoaXNTdHJpbmcoY2xhc3NlcykpIHtcbiAgICBjbGFzc2VzID0gY2xhc3Nlcy5zcGxpdCgnICcpO1xuICB9XG5cbiAgLy8gVXNlIGNyZWF0ZU1hcCgpIHRvIHByZXZlbnQgY2xhc3MgYXNzdW1wdGlvbnMgaW52b2x2aW5nIHByb3BlcnR5IG5hbWVzIGluXG4gIC8vIE9iamVjdC5wcm90b3R5cGVcbiAgdmFyIG9iaiA9IGNyZWF0ZU1hcCgpO1xuICBmb3JFYWNoKGNsYXNzZXMsIGZ1bmN0aW9uKGtsYXNzKSB7XG4gICAgLy8gc29tZXRpbWVzIHRoZSBzcGxpdCBsZWF2ZXMgZW1wdHkgc3RyaW5nIHZhbHVlc1xuICAgIC8vIGluY2FzZSBleHRyYSBzcGFjZXMgd2VyZSBhcHBsaWVkIHRvIHRoZSBvcHRpb25zXG4gICAgaWYgKGtsYXNzLmxlbmd0aCkge1xuICAgICAgb2JqW2tsYXNzXSA9IHRydWU7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG9iajtcbn1cblxuLy8gaWYgYW55IG90aGVyIHR5cGUgb2Ygb3B0aW9ucyB2YWx1ZSBiZXNpZGVzIGFuIE9iamVjdCB2YWx1ZSBpc1xuLy8gcGFzc2VkIGludG8gdGhlICRhbmltYXRlLm1ldGhvZCgpIGFuaW1hdGlvbiB0aGVuIHRoaXMgaGVscGVyIGNvZGVcbi8vIHdpbGwgYmUgcnVuIHdoaWNoIHdpbGwgaWdub3JlIGl0LiBXaGlsZSB0aGlzIHBhdGNoIGlzIG5vdCB0aGVcbi8vIGdyZWF0ZXN0IHNvbHV0aW9uIHRvIHRoaXMsIGEgbG90IG9mIGV4aXN0aW5nIHBsdWdpbnMgZGVwZW5kIG9uXG4vLyAkYW5pbWF0ZSB0byBlaXRoZXIgY2FsbCB0aGUgY2FsbGJhY2sgKDwgMS4yKSBvciByZXR1cm4gYSBwcm9taXNlXG4vLyB0aGF0IGNhbiBiZSBjaGFuZ2VkLiBUaGlzIGhlbHBlciBmdW5jdGlvbiBlbnN1cmVzIHRoYXQgdGhlIG9wdGlvbnNcbi8vIGFyZSB3aXBlZCBjbGVhbiBpbmNhc2UgYSBjYWxsYmFjayBmdW5jdGlvbiBpcyBwcm92aWRlZC5cbmZ1bmN0aW9uIHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKSB7XG4gIHJldHVybiBpc09iamVjdChvcHRpb25zKVxuICAgICAgPyBvcHRpb25zXG4gICAgICA6IHt9O1xufVxuXG52YXIgJCRDb3JlQW5pbWF0ZVJ1bm5lclByb3ZpZGVyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuJGdldCA9IFsnJHEnLCAnJCRyQUYnLCBmdW5jdGlvbigkcSwgJCRyQUYpIHtcbiAgICBmdW5jdGlvbiBBbmltYXRlUnVubmVyKCkge31cbiAgICBBbmltYXRlUnVubmVyLmFsbCA9IG5vb3A7XG4gICAgQW5pbWF0ZVJ1bm5lci5jaGFpbiA9IG5vb3A7XG4gICAgQW5pbWF0ZVJ1bm5lci5wcm90b3R5cGUgPSB7XG4gICAgICBlbmQ6IG5vb3AsXG4gICAgICBjYW5jZWw6IG5vb3AsXG4gICAgICByZXN1bWU6IG5vb3AsXG4gICAgICBwYXVzZTogbm9vcCxcbiAgICAgIGNvbXBsZXRlOiBub29wLFxuICAgICAgdGhlbjogZnVuY3Rpb24ocGFzcywgZmFpbCkge1xuICAgICAgICByZXR1cm4gJHEoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgICAgICQkckFGKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KS50aGVuKHBhc3MsIGZhaWwpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFuaW1hdGVSdW5uZXI7XG4gIH1dO1xufTtcblxuLy8gdGhpcyBpcyBwcmVmaXhlZCB3aXRoIENvcmUgc2luY2UgaXQgY29uZmxpY3RzIHdpdGhcbi8vIHRoZSBhbmltYXRlUXVldWVQcm92aWRlciBkZWZpbmVkIGluIG5nQW5pbWF0ZS9hbmltYXRlUXVldWUuanNcbnZhciAkJENvcmVBbmltYXRlUXVldWVQcm92aWRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcG9zdERpZ2VzdFF1ZXVlID0gbmV3IEhhc2hNYXAoKTtcbiAgdmFyIHBvc3REaWdlc3RFbGVtZW50cyA9IFtdO1xuXG4gIHRoaXMuJGdldCA9IFsnJCRBbmltYXRlUnVubmVyJywgJyRyb290U2NvcGUnLFxuICAgICAgIGZ1bmN0aW9uKCQkQW5pbWF0ZVJ1bm5lciwgICAkcm9vdFNjb3BlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVuYWJsZWQ6IG5vb3AsXG4gICAgICBvbjogbm9vcCxcbiAgICAgIG9mZjogbm9vcCxcbiAgICAgIHBpbjogbm9vcCxcblxuICAgICAgcHVzaDogZnVuY3Rpb24oZWxlbWVudCwgZXZlbnQsIG9wdGlvbnMsIGRvbU9wZXJhdGlvbikge1xuICAgICAgICBkb21PcGVyYXRpb24gICAgICAgICYmIGRvbU9wZXJhdGlvbigpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBvcHRpb25zLmZyb20gICAgICAgICYmIGVsZW1lbnQuY3NzKG9wdGlvbnMuZnJvbSk7XG4gICAgICAgIG9wdGlvbnMudG8gICAgICAgICAgJiYgZWxlbWVudC5jc3Mob3B0aW9ucy50byk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYWRkQ2xhc3MgfHwgb3B0aW9ucy5yZW1vdmVDbGFzcykge1xuICAgICAgICAgIGFkZFJlbW92ZUNsYXNzZXNQb3N0RGlnZXN0KGVsZW1lbnQsIG9wdGlvbnMuYWRkQ2xhc3MsIG9wdGlvbnMucmVtb3ZlQ2xhc3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyAkJEFuaW1hdGVSdW5uZXIoKTsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGFkZFJlbW92ZUNsYXNzZXNQb3N0RGlnZXN0KGVsZW1lbnQsIGFkZCwgcmVtb3ZlKSB7XG4gICAgICB2YXIgZGF0YSA9IHBvc3REaWdlc3RRdWV1ZS5nZXQoZWxlbWVudCk7XG4gICAgICB2YXIgY2xhc3NWYWw7XG5cbiAgICAgIGlmICghZGF0YSkge1xuICAgICAgICBwb3N0RGlnZXN0UXVldWUucHV0KGVsZW1lbnQsIGRhdGEgPSB7fSk7XG4gICAgICAgIHBvc3REaWdlc3RFbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYWRkKSB7XG4gICAgICAgIGZvckVhY2goYWRkLnNwbGl0KCcgJyksIGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIGRhdGFbY2xhc3NOYW1lXSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlbW92ZSkge1xuICAgICAgICBmb3JFYWNoKHJlbW92ZS5zcGxpdCgnICcpLCBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgICAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICBkYXRhW2NsYXNzTmFtZV0gPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAocG9zdERpZ2VzdEVsZW1lbnRzLmxlbmd0aCA+IDEpIHJldHVybjtcblxuICAgICAgJHJvb3RTY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgIGZvckVhY2gocG9zdERpZ2VzdEVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBwb3N0RGlnZXN0UXVldWUuZ2V0KGVsZW1lbnQpO1xuICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICB2YXIgZXhpc3RpbmcgPSBzcGxpdENsYXNzZXMoZWxlbWVudC5hdHRyKCdjbGFzcycpKTtcbiAgICAgICAgICAgIHZhciB0b0FkZCA9ICcnO1xuICAgICAgICAgICAgdmFyIHRvUmVtb3ZlID0gJyc7XG4gICAgICAgICAgICBmb3JFYWNoKGRhdGEsIGZ1bmN0aW9uKHN0YXR1cywgY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgIHZhciBoYXNDbGFzcyA9ICEhZXhpc3RpbmdbY2xhc3NOYW1lXTtcbiAgICAgICAgICAgICAgaWYgKHN0YXR1cyAhPT0gaGFzQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICB0b0FkZCArPSAodG9BZGQubGVuZ3RoID8gJyAnIDogJycpICsgY2xhc3NOYW1lO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0b1JlbW92ZSArPSAodG9SZW1vdmUubGVuZ3RoID8gJyAnIDogJycpICsgY2xhc3NOYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZvckVhY2goZWxlbWVudCwgZnVuY3Rpb24oZWxtKSB7XG4gICAgICAgICAgICAgIHRvQWRkICAgICYmIGpxTGl0ZUFkZENsYXNzKGVsbSwgdG9BZGQpO1xuICAgICAgICAgICAgICB0b1JlbW92ZSAmJiBqcUxpdGVSZW1vdmVDbGFzcyhlbG0sIHRvUmVtb3ZlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcG9zdERpZ2VzdFF1ZXVlLnJlbW92ZShlbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBvc3REaWdlc3RFbGVtZW50cy5sZW5ndGggPSAwO1xuICAgICAgfSk7XG4gICAgfVxuICB9XTtcbn07XG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkYW5pbWF0ZVByb3ZpZGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mICRhbmltYXRlIHRoYXQgZG9lc24ndCBwZXJmb3JtIGFueSBhbmltYXRpb25zLCBpbnN0ZWFkIGp1c3RcbiAqIHN5bmNocm9ub3VzbHkgcGVyZm9ybXMgRE9NIHVwZGF0ZXMgYW5kIHJlc29sdmVzIHRoZSByZXR1cm5lZCBydW5uZXIgcHJvbWlzZS5cbiAqXG4gKiBJbiBvcmRlciB0byBlbmFibGUgYW5pbWF0aW9ucyB0aGUgYG5nQW5pbWF0ZWAgbW9kdWxlIGhhcyB0byBiZSBsb2FkZWQuXG4gKlxuICogVG8gc2VlIHRoZSBmdW5jdGlvbmFsIGltcGxlbWVudGF0aW9uIGNoZWNrIG91dCBgc3JjL25nQW5pbWF0ZS9hbmltYXRlLmpzYC5cbiAqL1xudmFyICRBbmltYXRlUHJvdmlkZXIgPSBbJyRwcm92aWRlJywgZnVuY3Rpb24oJHByb3ZpZGUpIHtcbiAgdmFyIHByb3ZpZGVyID0gdGhpcztcblxuICB0aGlzLiQkcmVnaXN0ZXJlZEFuaW1hdGlvbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkYW5pbWF0ZVByb3ZpZGVyI3JlZ2lzdGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlcnMgYSBuZXcgaW5qZWN0YWJsZSBhbmltYXRpb24gZmFjdG9yeSBmdW5jdGlvbi4gVGhlIGZhY3RvcnkgZnVuY3Rpb24gcHJvZHVjZXMgdGhlXG4gICAqIGFuaW1hdGlvbiBvYmplY3Qgd2hpY2ggY29udGFpbnMgY2FsbGJhY2sgZnVuY3Rpb25zIGZvciBlYWNoIGV2ZW50IHRoYXQgaXMgZXhwZWN0ZWQgdG8gYmVcbiAgICogYW5pbWF0ZWQuXG4gICAqXG4gICAqICAgKiBgZXZlbnRGbmA6IGBmdW5jdGlvbihlbGVtZW50LCAuLi4gLCBkb25lRnVuY3Rpb24sIG9wdGlvbnMpYFxuICAgKiAgIFRoZSBlbGVtZW50IHRvIGFuaW1hdGUsIHRoZSBgZG9uZUZ1bmN0aW9uYCBhbmQgdGhlIG9wdGlvbnMgZmVkIGludG8gdGhlIGFuaW1hdGlvbi4gRGVwZW5kaW5nXG4gICAqICAgb24gdGhlIHR5cGUgb2YgYW5pbWF0aW9uIGFkZGl0aW9uYWwgYXJndW1lbnRzIHdpbGwgYmUgaW5qZWN0ZWQgaW50byB0aGUgYW5pbWF0aW9uIGZ1bmN0aW9uLiBUaGVcbiAgICogICBsaXN0IGJlbG93IGV4cGxhaW5zIHRoZSBmdW5jdGlvbiBzaWduYXR1cmVzIGZvciB0aGUgZGlmZmVyZW50IGFuaW1hdGlvbiBtZXRob2RzOlxuICAgKlxuICAgKiAgIC0gc2V0Q2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGFkZGVkQ2xhc3NlcywgcmVtb3ZlZENsYXNzZXMsIGRvbmVGdW5jdGlvbiwgb3B0aW9ucylcbiAgICogICAtIGFkZENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBhZGRlZENsYXNzZXMsIGRvbmVGdW5jdGlvbiwgb3B0aW9ucylcbiAgICogICAtIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50LCByZW1vdmVkQ2xhc3NlcywgZG9uZUZ1bmN0aW9uLCBvcHRpb25zKVxuICAgKiAgIC0gZW50ZXIsIGxlYXZlLCBtb3ZlOiBmdW5jdGlvbihlbGVtZW50LCBkb25lRnVuY3Rpb24sIG9wdGlvbnMpXG4gICAqICAgLSBhbmltYXRlOiBmdW5jdGlvbihlbGVtZW50LCBmcm9tU3R5bGVzLCB0b1N0eWxlcywgZG9uZUZ1bmN0aW9uLCBvcHRpb25zKVxuICAgKlxuICAgKiAgIE1ha2Ugc3VyZSB0byB0cmlnZ2VyIHRoZSBgZG9uZUZ1bmN0aW9uYCBvbmNlIHRoZSBhbmltYXRpb24gaXMgZnVsbHkgY29tcGxldGUuXG4gICAqXG4gICAqIGBgYGpzXG4gICAqICAgcmV0dXJuIHtcbiAgICogICAgIC8vZW50ZXIsIGxlYXZlLCBtb3ZlIHNpZ25hdHVyZVxuICAgKiAgICAgZXZlbnRGbiA6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmUsIG9wdGlvbnMpIHtcbiAgICogICAgICAgLy9jb2RlIHRvIHJ1biB0aGUgYW5pbWF0aW9uXG4gICAqICAgICAgIC8vb25jZSBjb21wbGV0ZSwgdGhlbiBydW4gZG9uZSgpXG4gICAqICAgICAgIHJldHVybiBmdW5jdGlvbiBlbmRGdW5jdGlvbih3YXNDYW5jZWxsZWQpIHtcbiAgICogICAgICAgICAvL2NvZGUgdG8gY2FuY2VsIHRoZSBhbmltYXRpb25cbiAgICogICAgICAgfVxuICAgKiAgICAgfVxuICAgKiAgIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBhbmltYXRpb24gKHRoaXMgaXMgd2hhdCB0aGUgY2xhc3MtYmFzZWQgQ1NTIHZhbHVlIHdpbGwgYmUgY29tcGFyZWQgdG8pLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmYWN0b3J5IFRoZSBmYWN0b3J5IGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBleGVjdXRlZCB0byByZXR1cm4gdGhlIGFuaW1hdGlvblxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5cbiAgICovXG4gIHRoaXMucmVnaXN0ZXIgPSBmdW5jdGlvbihuYW1lLCBmYWN0b3J5KSB7XG4gICAgaWYgKG5hbWUgJiYgbmFtZS5jaGFyQXQoMCkgIT09ICcuJykge1xuICAgICAgdGhyb3cgJGFuaW1hdGVNaW5FcnIoJ25vdGNzZWwnLCBcIkV4cGVjdGluZyBjbGFzcyBzZWxlY3RvciBzdGFydGluZyB3aXRoICcuJyBnb3QgJ3swfScuXCIsIG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBrZXkgPSBuYW1lICsgJy1hbmltYXRpb24nO1xuICAgIHByb3ZpZGVyLiQkcmVnaXN0ZXJlZEFuaW1hdGlvbnNbbmFtZS5zdWJzdHIoMSldID0ga2V5O1xuICAgICRwcm92aWRlLmZhY3Rvcnkoa2V5LCBmYWN0b3J5KTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkYW5pbWF0ZVByb3ZpZGVyI2NsYXNzTmFtZUZpbHRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyBhbmQvb3IgcmV0dXJucyB0aGUgQ1NTIGNsYXNzIHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIGNoZWNrZWQgd2hlbiBwZXJmb3JtaW5nXG4gICAqIGFuIGFuaW1hdGlvbi4gVXBvbiBib290c3RyYXAgdGhlIGNsYXNzTmFtZUZpbHRlciB2YWx1ZSBpcyBub3Qgc2V0IGF0IGFsbCBhbmQgd2lsbFxuICAgKiB0aGVyZWZvcmUgZW5hYmxlICRhbmltYXRlIHRvIGF0dGVtcHQgdG8gcGVyZm9ybSBhbiBhbmltYXRpb24gb24gYW55IGVsZW1lbnQgdGhhdCBpcyB0cmlnZ2VyZWQuXG4gICAqIFdoZW4gc2V0dGluZyB0aGUgYGNsYXNzTmFtZUZpbHRlcmAgdmFsdWUsIGFuaW1hdGlvbnMgd2lsbCBvbmx5IGJlIHBlcmZvcm1lZCBvbiBlbGVtZW50c1xuICAgKiB0aGF0IHN1Y2Nlc3NmdWxseSBtYXRjaCB0aGUgZmlsdGVyIGV4cHJlc3Npb24uIFRoaXMgaW4gdHVybiBjYW4gYm9vc3QgcGVyZm9ybWFuY2VcbiAgICogZm9yIGxvdy1wb3dlcmVkIGRldmljZXMgYXMgd2VsbCBhcyBhcHBsaWNhdGlvbnMgY29udGFpbmluZyBhIGxvdCBvZiBzdHJ1Y3R1cmFsIG9wZXJhdGlvbnMuXG4gICAqIEBwYXJhbSB7UmVnRXhwPX0gZXhwcmVzc2lvbiBUaGUgY2xhc3NOYW1lIGV4cHJlc3Npb24gd2hpY2ggd2lsbCBiZSBjaGVja2VkIGFnYWluc3QgYWxsIGFuaW1hdGlvbnNcbiAgICogQHJldHVybiB7UmVnRXhwfSBUaGUgY3VycmVudCBDU1MgY2xhc3NOYW1lIGV4cHJlc3Npb24gdmFsdWUuIElmIG51bGwgdGhlbiB0aGVyZSBpcyBubyBleHByZXNzaW9uIHZhbHVlXG4gICAqL1xuICB0aGlzLmNsYXNzTmFtZUZpbHRlciA9IGZ1bmN0aW9uKGV4cHJlc3Npb24pIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdGhpcy4kJGNsYXNzTmFtZUZpbHRlciA9IChleHByZXNzaW9uIGluc3RhbmNlb2YgUmVnRXhwKSA/IGV4cHJlc3Npb24gOiBudWxsO1xuICAgICAgaWYgKHRoaXMuJCRjbGFzc05hbWVGaWx0ZXIpIHtcbiAgICAgICAgdmFyIHJlc2VydmVkUmVnZXggPSBuZXcgUmVnRXhwKFwiKFxcXFxzK3xcXFxcLylcIiArIE5HX0FOSU1BVEVfQ0xBU1NOQU1FICsgXCIoXFxcXHMrfFxcXFwvKVwiKTtcbiAgICAgICAgaWYgKHJlc2VydmVkUmVnZXgudGVzdCh0aGlzLiQkY2xhc3NOYW1lRmlsdGVyLnRvU3RyaW5nKCkpKSB7XG4gICAgICAgICAgdGhyb3cgJGFuaW1hdGVNaW5FcnIoJ25vbmdjbHMnLCckYW5pbWF0ZVByb3ZpZGVyLmNsYXNzTmFtZUZpbHRlcihyZWdleCkgcHJvaGliaXRzIGFjY2VwdGluZyBhIHJlZ2V4IHZhbHVlIHdoaWNoIG1hdGNoZXMvY29udGFpbnMgdGhlIFwiezB9XCIgQ1NTIGNsYXNzLicsIE5HX0FOSU1BVEVfQ0xBU1NOQU1FKTtcblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLiQkY2xhc3NOYW1lRmlsdGVyO1xuICB9O1xuXG4gIHRoaXMuJGdldCA9IFsnJCRhbmltYXRlUXVldWUnLCBmdW5jdGlvbigkJGFuaW1hdGVRdWV1ZSkge1xuICAgIGZ1bmN0aW9uIGRvbUluc2VydChlbGVtZW50LCBwYXJlbnRFbGVtZW50LCBhZnRlckVsZW1lbnQpIHtcbiAgICAgIC8vIGlmIGZvciBzb21lIHJlYXNvbiB0aGUgcHJldmlvdXMgZWxlbWVudCB3YXMgcmVtb3ZlZFxuICAgICAgLy8gZnJvbSB0aGUgZG9tIHNvbWV0aW1lIGJlZm9yZSB0aGlzIGNvZGUgcnVucyB0aGVuIGxldCdzXG4gICAgICAvLyBqdXN0IHN0aWNrIHRvIHVzaW5nIHRoZSBwYXJlbnQgZWxlbWVudCBhcyB0aGUgYW5jaG9yXG4gICAgICBpZiAoYWZ0ZXJFbGVtZW50KSB7XG4gICAgICAgIHZhciBhZnRlck5vZGUgPSBleHRyYWN0RWxlbWVudE5vZGUoYWZ0ZXJFbGVtZW50KTtcbiAgICAgICAgaWYgKGFmdGVyTm9kZSAmJiAhYWZ0ZXJOb2RlLnBhcmVudE5vZGUgJiYgIWFmdGVyTm9kZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgICAgICAgYWZ0ZXJFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYWZ0ZXJFbGVtZW50ID8gYWZ0ZXJFbGVtZW50LmFmdGVyKGVsZW1lbnQpIDogcGFyZW50RWxlbWVudC5wcmVwZW5kKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQG5hbWUgJGFuaW1hdGVcbiAgICAgKiBAZGVzY3JpcHRpb24gVGhlICRhbmltYXRlIHNlcnZpY2UgZXhwb3NlcyBhIHNlcmllcyBvZiBET00gdXRpbGl0eSBtZXRob2RzIHRoYXQgcHJvdmlkZSBzdXBwb3J0XG4gICAgICogZm9yIGFuaW1hdGlvbiBob29rcy4gVGhlIGRlZmF1bHQgYmVoYXZpb3IgaXMgdGhlIGFwcGxpY2F0aW9uIG9mIERPTSBvcGVyYXRpb25zLCBob3dldmVyLFxuICAgICAqIHdoZW4gYW4gYW5pbWF0aW9uIGlzIGRldGVjdGVkIChhbmQgYW5pbWF0aW9ucyBhcmUgZW5hYmxlZCksICRhbmltYXRlIHdpbGwgZG8gdGhlIGhlYXZ5IGxpZnRpbmdcbiAgICAgKiB0byBlbnN1cmUgdGhhdCBhbmltYXRpb24gcnVucyB3aXRoIHRoZSB0cmlnZ2VyZWQgRE9NIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEJ5IGRlZmF1bHQgJGFuaW1hdGUgZG9lc24ndCB0cmlnZ2VyIGFuIGFuaW1hdGlvbnMuIFRoaXMgaXMgYmVjYXVzZSB0aGUgYG5nQW5pbWF0ZWAgbW9kdWxlIGlzbid0XG4gICAgICogaW5jbHVkZWQgYW5kIG9ubHkgd2hlbiBpdCBpcyBhY3RpdmUgdGhlbiB0aGUgYW5pbWF0aW9uIGhvb2tzIHRoYXQgYCRhbmltYXRlYCB0cmlnZ2VycyB3aWxsIGJlXG4gICAgICogZnVuY3Rpb25hbC4gT25jZSBhY3RpdmUgdGhlbiBhbGwgc3RydWN0dXJhbCBgbmctYCBkaXJlY3RpdmVzIHdpbGwgdHJpZ2dlciBhbmltYXRpb25zIGFzIHRoZXkgcGVyZm9ybVxuICAgICAqIHRoZWlyIERPTS1yZWxhdGVkIG9wZXJhdGlvbnMgKGVudGVyLCBsZWF2ZSBhbmQgbW92ZSkuIE90aGVyIGRpcmVjdGl2ZXMgc3VjaCBhcyBgbmdDbGFzc2AsXG4gICAgICogYG5nU2hvd2AsIGBuZ0hpZGVgIGFuZCBgbmdNZXNzYWdlc2AgYWxzbyBwcm92aWRlIHN1cHBvcnQgZm9yIGFuaW1hdGlvbnMuXG4gICAgICpcbiAgICAgKiBJdCBpcyByZWNvbW1lbmRlZCB0aGF0IHRoZWAkYW5pbWF0ZWAgc2VydmljZSBpcyBhbHdheXMgdXNlZCB3aGVuIGV4ZWN1dGluZyBET00tcmVsYXRlZCBwcm9jZWR1cmVzIHdpdGhpbiBkaXJlY3RpdmVzLlxuICAgICAqXG4gICAgICogVG8gbGVhcm4gbW9yZSBhYm91dCBlbmFibGluZyBhbmltYXRpb24gc3VwcG9ydCwgY2xpY2sgaGVyZSB0byB2aXNpdCB0aGVcbiAgICAgKiB7QGxpbmsgbmdBbmltYXRlIG5nQW5pbWF0ZSBtb2R1bGUgcGFnZX0uXG4gICAgICovXG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIHdlIGRvbid0IGNhbGwgaXQgZGlyZWN0bHkgc2luY2Ugbm9uLWV4aXN0YW50IGFyZ3VtZW50cyBtYXlcbiAgICAgIC8vIGJlIGludGVycHJldGVkIGFzIG51bGwgd2l0aGluIHRoZSBzdWIgZW5hYmxlZCBmdW5jdGlvblxuXG4gICAgICAvKipcbiAgICAgICAqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNvblxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqIEBkZXNjcmlwdGlvbiBTZXRzIHVwIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGZpcmUgd2hlbmV2ZXIgdGhlIGFuaW1hdGlvbiBldmVudCAoZW50ZXIsIGxlYXZlLCBtb3ZlLCBldGMuLi4pXG4gICAgICAgKiAgICBoYXMgZmlyZWQgb24gdGhlIGdpdmVuIGVsZW1lbnQgb3IgYW1vbmcgYW55IG9mIGl0cyBjaGlsZHJlbi4gT25jZSB0aGUgbGlzdGVuZXIgaXMgZmlyZWQsIHRoZSBwcm92aWRlZCBjYWxsYmFja1xuICAgICAgICogICAgaXMgZmlyZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtczpcbiAgICAgICAqXG4gICAgICAgKiBgYGBqc1xuICAgICAgICogJGFuaW1hdGUub24oJ2VudGVyJywgY29udGFpbmVyLFxuICAgICAgICogICAgZnVuY3Rpb24gY2FsbGJhY2soZWxlbWVudCwgcGhhc2UpIHtcbiAgICAgICAqICAgICAgLy8gY29vbCB3ZSBkZXRlY3RlZCBhbiBlbnRlciBhbmltYXRpb24gd2l0aGluIHRoZSBjb250YWluZXJcbiAgICAgICAqICAgIH1cbiAgICAgICAqICk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgdGhlIGFuaW1hdGlvbiBldmVudCB0aGF0IHdpbGwgYmUgY2FwdHVyZWQgKGUuZy4gZW50ZXIsIGxlYXZlLCBtb3ZlLCBhZGRDbGFzcywgcmVtb3ZlQ2xhc3MsIGV0Yy4uLilcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gY29udGFpbmVyIHRoZSBjb250YWluZXIgZWxlbWVudCB0aGF0IHdpbGwgY2FwdHVyZSBlYWNoIG9mIHRoZSBhbmltYXRpb24gZXZlbnRzIHRoYXQgYXJlIGZpcmVkIG9uIGl0c2VsZlxuICAgICAgICogICAgIGFzIHdlbGwgYXMgYW1vbmcgaXRzIGNoaWxkcmVuXG4gICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gdGhlIGxpc3RlbmVyIGlzIHRyaWdnZXJlZFxuICAgICAgICpcbiAgICAgICAqIFRoZSBhcmd1bWVudHMgcHJlc2VudCBpbiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gYXJlOlxuICAgICAgICogKiBgZWxlbWVudGAgLSBUaGUgY2FwdHVyZWQgRE9NIGVsZW1lbnQgdGhhdCB0aGUgYW5pbWF0aW9uIHdhcyBmaXJlZCBvbi5cbiAgICAgICAqICogYHBoYXNlYCAtIFRoZSBwaGFzZSBvZiB0aGUgYW5pbWF0aW9uLiBUaGUgdHdvIHBvc3NpYmxlIHBoYXNlcyBhcmUgKipzdGFydCoqICh3aGVuIHRoZSBhbmltYXRpb24gc3RhcnRzKSBhbmQgKipjbG9zZSoqICh3aGVuIGl0IGVuZHMpLlxuICAgICAgICovXG4gICAgICBvbjogJCRhbmltYXRlUXVldWUub24sXG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI29mZlxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqIEBkZXNjcmlwdGlvbiBEZXJlZ2lzdGVycyBhbiBldmVudCBsaXN0ZW5lciBiYXNlZCBvbiB0aGUgZXZlbnQgd2hpY2ggaGFzIGJlZW4gYXNzb2NpYXRlZCB3aXRoIHRoZSBwcm92aWRlZCBlbGVtZW50LiBUaGlzIG1ldGhvZFxuICAgICAgICogY2FuIGJlIHVzZWQgaW4gdGhyZWUgZGlmZmVyZW50IHdheXMgZGVwZW5kaW5nIG9uIHRoZSBhcmd1bWVudHM6XG4gICAgICAgKlxuICAgICAgICogYGBganNcbiAgICAgICAqIC8vIHJlbW92ZSBhbGwgdGhlIGFuaW1hdGlvbiBldmVudCBsaXN0ZW5lcnMgbGlzdGVuaW5nIGZvciBgZW50ZXJgXG4gICAgICAgKiAkYW5pbWF0ZS5vZmYoJ2VudGVyJyk7XG4gICAgICAgKlxuICAgICAgICogLy8gcmVtb3ZlIGFsbCB0aGUgYW5pbWF0aW9uIGV2ZW50IGxpc3RlbmVycyBsaXN0ZW5pbmcgZm9yIGBlbnRlcmAgb24gdGhlIGdpdmVuIGVsZW1lbnQgYW5kIGl0cyBjaGlsZHJlblxuICAgICAgICogJGFuaW1hdGUub2ZmKCdlbnRlcicsIGNvbnRhaW5lcik7XG4gICAgICAgKlxuICAgICAgICogLy8gcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lciBmdW5jdGlvbiBwcm92aWRlZCBieSBgbGlzdGVuZXJGbmAgdGhhdCBpcyBzZXRcbiAgICAgICAqIC8vIHRvIGxpc3RlbiBmb3IgYGVudGVyYCBvbiB0aGUgZ2l2ZW4gYGVsZW1lbnRgIGFzIHdlbGwgYXMgaXRzIGNoaWxkcmVuXG4gICAgICAgKiAkYW5pbWF0ZS5vZmYoJ2VudGVyJywgY29udGFpbmVyLCBjYWxsYmFjayk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgdGhlIGFuaW1hdGlvbiBldmVudCAoZS5nLiBlbnRlciwgbGVhdmUsIG1vdmUsIGFkZENsYXNzLCByZW1vdmVDbGFzcywgZXRjLi4uKVxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gY29udGFpbmVyIHRoZSBjb250YWluZXIgZWxlbWVudCB0aGUgZXZlbnQgbGlzdGVuZXIgd2FzIHBsYWNlZCBvblxuICAgICAgICogQHBhcmFtIHtGdW5jdGlvbj19IGNhbGxiYWNrIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHdhcyByZWdpc3RlcmVkIGFzIHRoZSBsaXN0ZW5lclxuICAgICAgICovXG4gICAgICBvZmY6ICQkYW5pbWF0ZVF1ZXVlLm9mZixcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNwaW5cbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gQXNzb2NpYXRlcyB0aGUgcHJvdmlkZWQgZWxlbWVudCB3aXRoIGEgaG9zdCBwYXJlbnQgZWxlbWVudCB0byBhbGxvdyB0aGUgZWxlbWVudCB0byBiZSBhbmltYXRlZCBldmVuIGlmIGl0IGV4aXN0c1xuICAgICAgICogICAgb3V0c2lkZSBvZiB0aGUgRE9NIHN0cnVjdHVyZSBvZiB0aGUgQW5ndWxhciBhcHBsaWNhdGlvbi4gQnkgZG9pbmcgc28sIGFueSBhbmltYXRpb24gdHJpZ2dlcmVkIHZpYSBgJGFuaW1hdGVgIGNhbiBiZSBpc3N1ZWQgb24gdGhlXG4gICAgICAgKiAgICBlbGVtZW50IGRlc3BpdGUgYmVpbmcgb3V0c2lkZSB0aGUgcmVhbG0gb2YgdGhlIGFwcGxpY2F0aW9uIG9yIHdpdGhpbiBhbm90aGVyIGFwcGxpY2F0aW9uLiBTYXkgZm9yIGV4YW1wbGUgaWYgdGhlIGFwcGxpY2F0aW9uXG4gICAgICAgKiAgICB3YXMgYm9vdHN0cmFwcGVkIG9uIGFuIGVsZW1lbnQgdGhhdCBpcyBzb21ld2hlcmUgaW5zaWRlIG9mIHRoZSBgPGJvZHk+YCB0YWcsIGJ1dCB3ZSB3YW50ZWQgdG8gYWxsb3cgZm9yIGFuIGVsZW1lbnQgdG8gYmUgc2l0dWF0ZWRcbiAgICAgICAqICAgIGFzIGEgZGlyZWN0IGNoaWxkIG9mIGBkb2N1bWVudC5ib2R5YCwgdGhlbiB0aGlzIGNhbiBiZSBhY2hpZXZlZCBieSBwaW5uaW5nIHRoZSBlbGVtZW50IHZpYSBgJGFuaW1hdGUucGluKGVsZW1lbnQpYC4gS2VlcCBpbiBtaW5kXG4gICAgICAgKiAgICB0aGF0IGNhbGxpbmcgYCRhbmltYXRlLnBpbihlbGVtZW50LCBwYXJlbnRFbGVtZW50KWAgd2lsbCBub3QgYWN0dWFsbHkgaW5zZXJ0IGludG8gdGhlIERPTSBhbnl3aGVyZTsgaXQgd2lsbCBqdXN0IGNyZWF0ZSB0aGUgYXNzb2NpYXRpb24uXG4gICAgICAgKlxuICAgICAgICogICAgTm90ZSB0aGF0IHRoaXMgZmVhdHVyZSBpcyBvbmx5IGFjdGl2ZSB3aGVuIHRoZSBgbmdBbmltYXRlYCBtb2R1bGUgaXMgdXNlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGV4dGVybmFsIGVsZW1lbnQgdGhhdCB3aWxsIGJlIHBpbm5lZFxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBwYXJlbnRFbGVtZW50IHRoZSBob3N0IHBhcmVudCBlbGVtZW50IHRoYXQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIGV4dGVybmFsIGVsZW1lbnRcbiAgICAgICAqL1xuICAgICAgcGluOiAkJGFuaW1hdGVRdWV1ZS5waW4sXG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2VuYWJsZWRcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gVXNlZCB0byBnZXQgYW5kIHNldCB3aGV0aGVyIGFuaW1hdGlvbnMgYXJlIGVuYWJsZWQgb3Igbm90IG9uIHRoZSBlbnRpcmUgYXBwbGljYXRpb24gb3Igb24gYW4gZWxlbWVudCBhbmQgaXRzIGNoaWxkcmVuLiBUaGlzXG4gICAgICAgKiBmdW5jdGlvbiBjYW4gYmUgY2FsbGVkIGluIGZvdXIgd2F5czpcbiAgICAgICAqXG4gICAgICAgKiBgYGBqc1xuICAgICAgICogLy8gcmV0dXJucyB0cnVlIG9yIGZhbHNlXG4gICAgICAgKiAkYW5pbWF0ZS5lbmFibGVkKCk7XG4gICAgICAgKlxuICAgICAgICogLy8gY2hhbmdlcyB0aGUgZW5hYmxlZCBzdGF0ZSBmb3IgYWxsIGFuaW1hdGlvbnNcbiAgICAgICAqICRhbmltYXRlLmVuYWJsZWQoZmFsc2UpO1xuICAgICAgICogJGFuaW1hdGUuZW5hYmxlZCh0cnVlKTtcbiAgICAgICAqXG4gICAgICAgKiAvLyByZXR1cm5zIHRydWUgb3IgZmFsc2UgaWYgYW5pbWF0aW9ucyBhcmUgZW5hYmxlZCBmb3IgYW4gZWxlbWVudFxuICAgICAgICogJGFuaW1hdGUuZW5hYmxlZChlbGVtZW50KTtcbiAgICAgICAqXG4gICAgICAgKiAvLyBjaGFuZ2VzIHRoZSBlbmFibGVkIHN0YXRlIGZvciBhbiBlbGVtZW50IGFuZCBpdHMgY2hpbGRyZW5cbiAgICAgICAqICRhbmltYXRlLmVuYWJsZWQoZWxlbWVudCwgdHJ1ZSk7XG4gICAgICAgKiAkYW5pbWF0ZS5lbmFibGVkKGVsZW1lbnQsIGZhbHNlKTtcbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudD19IGVsZW1lbnQgdGhlIGVsZW1lbnQgdGhhdCB3aWxsIGJlIGNvbnNpZGVyZWQgZm9yIGNoZWNraW5nL3NldHRpbmcgdGhlIGVuYWJsZWQgc3RhdGVcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGVuYWJsZWQgd2hldGhlciBvciBub3QgdGhlIGFuaW1hdGlvbnMgd2lsbCBiZSBlbmFibGVkIGZvciB0aGUgZWxlbWVudFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgb3Igbm90IGFuaW1hdGlvbnMgYXJlIGVuYWJsZWRcbiAgICAgICAqL1xuICAgICAgZW5hYmxlZDogJCRhbmltYXRlUXVldWUuZW5hYmxlZCxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNjYW5jZWxcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKiBAZGVzY3JpcHRpb24gQ2FuY2VscyB0aGUgcHJvdmlkZWQgYW5pbWF0aW9uLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7UHJvbWlzZX0gYW5pbWF0aW9uUHJvbWlzZSBUaGUgYW5pbWF0aW9uIHByb21pc2UgdGhhdCBpcyByZXR1cm5lZCB3aGVuIGFuIGFuaW1hdGlvbiBpcyBzdGFydGVkLlxuICAgICAgICovXG4gICAgICBjYW5jZWw6IGZ1bmN0aW9uKHJ1bm5lcikge1xuICAgICAgICBydW5uZXIuZW5kICYmIHJ1bm5lci5lbmQoKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2VudGVyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIEluc2VydHMgdGhlIGVsZW1lbnQgaW50byB0aGUgRE9NIGVpdGhlciBhZnRlciB0aGUgYGFmdGVyYCBlbGVtZW50IChpZiBwcm92aWRlZCkgb3JcbiAgICAgICAqICAgYXMgdGhlIGZpcnN0IGNoaWxkIHdpdGhpbiB0aGUgYHBhcmVudGAgZWxlbWVudCBhbmQgdGhlbiB0cmlnZ2VycyBhbiBhbmltYXRpb24uXG4gICAgICAgKiAgIEEgcHJvbWlzZSBpcyByZXR1cm5lZCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgZHVyaW5nIHRoZSBuZXh0IGRpZ2VzdCBvbmNlIHRoZSBhbmltYXRpb25cbiAgICAgICAqICAgaGFzIGNvbXBsZXRlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBiZSBpbnNlcnRlZCBpbnRvIHRoZSBET01cbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gcGFyZW50IHRoZSBwYXJlbnQgZWxlbWVudCB3aGljaCB3aWxsIGFwcGVuZCB0aGUgZWxlbWVudCBhc1xuICAgICAgICogICBhIGNoaWxkIChzbyBsb25nIGFzIHRoZSBhZnRlciBlbGVtZW50IGlzIG5vdCBwcmVzZW50KVxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gYWZ0ZXIgdGhlIHNpYmxpbmcgZWxlbWVudCBhZnRlciB3aGljaCB0aGUgZWxlbWVudCB3aWxsIGJlIGFwcGVuZGVkXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICovXG4gICAgICBlbnRlcjogZnVuY3Rpb24oZWxlbWVudCwgcGFyZW50LCBhZnRlciwgb3B0aW9ucykge1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQgJiYganFMaXRlKHBhcmVudCk7XG4gICAgICAgIGFmdGVyID0gYWZ0ZXIgJiYganFMaXRlKGFmdGVyKTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50IHx8IGFmdGVyLnBhcmVudCgpO1xuICAgICAgICBkb21JbnNlcnQoZWxlbWVudCwgcGFyZW50LCBhZnRlcik7XG4gICAgICAgIHJldHVybiAkJGFuaW1hdGVRdWV1ZS5wdXNoKGVsZW1lbnQsICdlbnRlcicsIHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNtb3ZlXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIEluc2VydHMgKG1vdmVzKSB0aGUgZWxlbWVudCBpbnRvIGl0cyBuZXcgcG9zaXRpb24gaW4gdGhlIERPTSBlaXRoZXIgYWZ0ZXJcbiAgICAgICAqICAgdGhlIGBhZnRlcmAgZWxlbWVudCAoaWYgcHJvdmlkZWQpIG9yIGFzIHRoZSBmaXJzdCBjaGlsZCB3aXRoaW4gdGhlIGBwYXJlbnRgIGVsZW1lbnRcbiAgICAgICAqICAgYW5kIHRoZW4gdHJpZ2dlcnMgYW4gYW5pbWF0aW9uLiBBIHByb21pc2UgaXMgcmV0dXJuZWQgdGhhdCB3aWxsIGJlIHJlc29sdmVkXG4gICAgICAgKiAgIGR1cmluZyB0aGUgbmV4dCBkaWdlc3Qgb25jZSB0aGUgYW5pbWF0aW9uIGhhcyBjb21wbGV0ZWQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHdpbGwgYmUgbW92ZWQgaW50byB0aGUgbmV3IERPTSBwb3NpdGlvblxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBwYXJlbnQgdGhlIHBhcmVudCBlbGVtZW50IHdoaWNoIHdpbGwgYXBwZW5kIHRoZSBlbGVtZW50IGFzXG4gICAgICAgKiAgIGEgY2hpbGQgKHNvIGxvbmcgYXMgdGhlIGFmdGVyIGVsZW1lbnQgaXMgbm90IHByZXNlbnQpXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnQ9fSBhZnRlciB0aGUgc2libGluZyBlbGVtZW50IGFmdGVyIHdoaWNoIHRoZSBlbGVtZW50IHdpbGwgYmUgYXBwZW5kZWRcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIG1vdmU6IGZ1bmN0aW9uKGVsZW1lbnQsIHBhcmVudCwgYWZ0ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50ICYmIGpxTGl0ZShwYXJlbnQpO1xuICAgICAgICBhZnRlciA9IGFmdGVyICYmIGpxTGl0ZShhZnRlcik7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudCB8fCBhZnRlci5wYXJlbnQoKTtcbiAgICAgICAgZG9tSW5zZXJ0KGVsZW1lbnQsIHBhcmVudCwgYWZ0ZXIpO1xuICAgICAgICByZXR1cm4gJCRhbmltYXRlUXVldWUucHVzaChlbGVtZW50LCAnbW92ZScsIHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2xlYXZlXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICogQGRlc2NyaXB0aW9uIFRyaWdnZXJzIGFuIGFuaW1hdGlvbiBhbmQgdGhlbiByZW1vdmVzIHRoZSBlbGVtZW50IGZyb20gdGhlIERPTS5cbiAgICAgICAqIFdoZW4gdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCBhIHByb21pc2UgaXMgcmV0dXJuZWQgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGR1cmluZyB0aGUgbmV4dFxuICAgICAgICogZGlnZXN0IG9uY2UgdGhlIGFuaW1hdGlvbiBoYXMgY29tcGxldGVkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICovXG4gICAgICBsZWF2ZTogZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gJCRhbmltYXRlUXVldWUucHVzaChlbGVtZW50LCAnbGVhdmUnLCBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyksIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNhZGRDbGFzc1xuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb24gVHJpZ2dlcnMgYW4gYWRkQ2xhc3MgYW5pbWF0aW9uIHN1cnJvdW5kaW5nIHRoZSBhZGRpdGlvbiBvZiB0aGUgcHJvdmlkZWQgQ1NTIGNsYXNzKGVzKS4gVXBvblxuICAgICAgICogICBleGVjdXRpb24sIHRoZSBhZGRDbGFzcyBvcGVyYXRpb24gd2lsbCBvbmx5IGJlIGhhbmRsZWQgYWZ0ZXIgdGhlIG5leHQgZGlnZXN0IGFuZCBpdCB3aWxsIG5vdCB0cmlnZ2VyIGFuXG4gICAgICAgKiAgIGFuaW1hdGlvbiBpZiBlbGVtZW50IGFscmVhZHkgY29udGFpbnMgdGhlIENTUyBjbGFzcyBvciBpZiB0aGUgY2xhc3MgaXMgcmVtb3ZlZCBhdCBhIGxhdGVyIHN0ZXAuXG4gICAgICAgKiAgIE5vdGUgdGhhdCBjbGFzcy1iYXNlZCBhbmltYXRpb25zIGFyZSB0cmVhdGVkIGRpZmZlcmVudGx5IGNvbXBhcmVkIHRvIHN0cnVjdHVyYWwgYW5pbWF0aW9uc1xuICAgICAgICogICAobGlrZSBlbnRlciwgbW92ZSBhbmQgbGVhdmUpIHNpbmNlIHRoZSBDU1MgY2xhc3NlcyBtYXkgYmUgYWRkZWQvcmVtb3ZlZCBhdCBkaWZmZXJlbnQgcG9pbnRzXG4gICAgICAgKiAgIGRlcGVuZGluZyBpZiBDU1Mgb3IgSmF2YVNjcmlwdCBhbmltYXRpb25zIGFyZSB1c2VkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB0aGUgQ1NTIGNsYXNzZXMgd2lsbCBiZSBhcHBsaWVkIHRvXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIHRoZSBDU1MgY2xhc3MoZXMpIHRoYXQgd2lsbCBiZSBhZGRlZCAobXVsdGlwbGUgY2xhc3NlcyBhcmUgc2VwYXJhdGVkIHZpYSBzcGFjZXMpXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICovXG4gICAgICBhZGRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIG9wdGlvbnMuYWRkQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5hZGRjbGFzcywgY2xhc3NOYW1lKTtcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ2FkZENsYXNzJywgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI3JlbW92ZUNsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBUcmlnZ2VycyBhIHJlbW92ZUNsYXNzIGFuaW1hdGlvbiBzdXJyb3VuZGluZyB0aGUgcmVtb3ZhbCBvZiB0aGUgcHJvdmlkZWQgQ1NTIGNsYXNzKGVzKS4gVXBvblxuICAgICAgICogICBleGVjdXRpb24sIHRoZSByZW1vdmVDbGFzcyBvcGVyYXRpb24gd2lsbCBvbmx5IGJlIGhhbmRsZWQgYWZ0ZXIgdGhlIG5leHQgZGlnZXN0IGFuZCBpdCB3aWxsIG5vdCB0cmlnZ2VyIGFuXG4gICAgICAgKiAgIGFuaW1hdGlvbiBpZiBlbGVtZW50IGRvZXMgbm90IGNvbnRhaW4gdGhlIENTUyBjbGFzcyBvciBpZiB0aGUgY2xhc3MgaXMgYWRkZWQgYXQgYSBsYXRlciBzdGVwLlxuICAgICAgICogICBOb3RlIHRoYXQgY2xhc3MtYmFzZWQgYW5pbWF0aW9ucyBhcmUgdHJlYXRlZCBkaWZmZXJlbnRseSBjb21wYXJlZCB0byBzdHJ1Y3R1cmFsIGFuaW1hdGlvbnNcbiAgICAgICAqICAgKGxpa2UgZW50ZXIsIG1vdmUgYW5kIGxlYXZlKSBzaW5jZSB0aGUgQ1NTIGNsYXNzZXMgbWF5IGJlIGFkZGVkL3JlbW92ZWQgYXQgZGlmZmVyZW50IHBvaW50c1xuICAgICAgICogICBkZXBlbmRpbmcgaWYgQ1NTIG9yIEphdmFTY3JpcHQgYW5pbWF0aW9ucyBhcmUgdXNlZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggdGhlIENTUyBjbGFzc2VzIHdpbGwgYmUgYXBwbGllZCB0b1xuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSB0aGUgQ1NTIGNsYXNzKGVzKSB0aGF0IHdpbGwgYmUgcmVtb3ZlZCAobXVsdGlwbGUgY2xhc3NlcyBhcmUgc2VwYXJhdGVkIHZpYSBzcGFjZXMpXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxuICAgICAgICovXG4gICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIG9wdGlvbnMucmVtb3ZlQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5yZW1vdmVDbGFzcywgY2xhc3NOYW1lKTtcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ3JlbW92ZUNsYXNzJywgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI3NldENsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBQZXJmb3JtcyBib3RoIHRoZSBhZGRpdGlvbiBhbmQgcmVtb3ZhbCBvZiBhIENTUyBjbGFzc2VzIG9uIGFuIGVsZW1lbnQgYW5kIChkdXJpbmcgdGhlIHByb2Nlc3MpXG4gICAgICAgKiAgICB0cmlnZ2VycyBhbiBhbmltYXRpb24gc3Vycm91bmRpbmcgdGhlIGNsYXNzIGFkZGl0aW9uL3JlbW92YWwuIE11Y2ggbGlrZSBgJGFuaW1hdGUuYWRkQ2xhc3NgIGFuZFxuICAgICAgICogICAgYCRhbmltYXRlLnJlbW92ZUNsYXNzYCwgYHNldENsYXNzYCB3aWxsIG9ubHkgZXZhbHVhdGUgdGhlIGNsYXNzZXMgYmVpbmcgYWRkZWQvcmVtb3ZlZCBvbmNlIGEgZGlnZXN0IGhhc1xuICAgICAgICogICAgcGFzc2VkLiBOb3RlIHRoYXQgY2xhc3MtYmFzZWQgYW5pbWF0aW9ucyBhcmUgdHJlYXRlZCBkaWZmZXJlbnRseSBjb21wYXJlZCB0byBzdHJ1Y3R1cmFsIGFuaW1hdGlvbnNcbiAgICAgICAqICAgIChsaWtlIGVudGVyLCBtb3ZlIGFuZCBsZWF2ZSkgc2luY2UgdGhlIENTUyBjbGFzc2VzIG1heSBiZSBhZGRlZC9yZW1vdmVkIGF0IGRpZmZlcmVudCBwb2ludHNcbiAgICAgICAqICAgIGRlcGVuZGluZyBpZiBDU1Mgb3IgSmF2YVNjcmlwdCBhbmltYXRpb25zIGFyZSB1c2VkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB0aGUgQ1NTIGNsYXNzZXMgd2lsbCBiZSBhcHBsaWVkIHRvXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWRkIHRoZSBDU1MgY2xhc3MoZXMpIHRoYXQgd2lsbCBiZSBhZGRlZCAobXVsdGlwbGUgY2xhc3NlcyBhcmUgc2VwYXJhdGVkIHZpYSBzcGFjZXMpXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVtb3ZlIHRoZSBDU1MgY2xhc3MoZXMpIHRoYXQgd2lsbCBiZSByZW1vdmVkIChtdWx0aXBsZSBjbGFzc2VzIGFyZSBzZXBhcmF0ZWQgdmlhIHNwYWNlcylcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIHNldENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBhZGQsIHJlbW92ZSwgb3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICBvcHRpb25zLmFkZENsYXNzID0gbWVyZ2VDbGFzc2VzKG9wdGlvbnMuYWRkQ2xhc3MsIGFkZCk7XG4gICAgICAgIG9wdGlvbnMucmVtb3ZlQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5yZW1vdmVDbGFzcywgcmVtb3ZlKTtcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ3NldENsYXNzJywgb3B0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2FuaW1hdGVcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uIFBlcmZvcm1zIGFuIGlubGluZSBhbmltYXRpb24gb24gdGhlIGVsZW1lbnQgd2hpY2ggYXBwbGllcyB0aGUgcHJvdmlkZWQgdG8gYW5kIGZyb20gQ1NTIHN0eWxlcyB0byB0aGUgZWxlbWVudC5cbiAgICAgICAqIElmIGFueSBkZXRlY3RlZCBDU1MgdHJhbnNpdGlvbiwga2V5ZnJhbWUgb3IgSmF2YVNjcmlwdCBtYXRjaGVzIHRoZSBwcm92aWRlZCBjbGFzc05hbWUgdmFsdWUgdGhlbiB0aGUgYW5pbWF0aW9uIHdpbGwgdGFrZVxuICAgICAgICogb24gdGhlIHByb3ZpZGVkIHN0eWxlcy4gRm9yIGV4YW1wbGUsIGlmIGEgdHJhbnNpdGlvbiBhbmltYXRpb24gaXMgc2V0IGZvciB0aGUgZ2l2ZW4gY2xhc3NOYW1lIHRoZW4gdGhlIHByb3ZpZGVkIGZyb20gYW5kXG4gICAgICAgKiB0byBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIGFsb25nc2lkZSB0aGUgZ2l2ZW4gdHJhbnNpdGlvbi4gSWYgYSBKYXZhU2NyaXB0IGFuaW1hdGlvbiBpcyBkZXRlY3RlZCB0aGVuIHRoZSBwcm92aWRlZCBzdHlsZXNcbiAgICAgICAqIHdpbGwgYmUgZ2l2ZW4gaW4gYXMgZnVuY3Rpb24gcGFyYW10ZXJzIGludG8gdGhlIGBhbmltYXRlYCBtZXRob2QgKG9yIGFzIGFwYXJ0IG9mIHRoZSBgb3B0aW9uc2AgcGFyYW1ldGVyKS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggdGhlIENTUyBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIHRvXG4gICAgICAgKiBAcGFyYW0ge29iamVjdH0gZnJvbSB0aGUgZnJvbSAoc3RhcnRpbmcpIENTUyBzdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQgYW5kIGFjcm9zcyB0aGUgYW5pbWF0aW9uLlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IHRvIHRoZSB0byAoZGVzdGluYXRpb24pIENTUyBzdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQgYW5kIGFjcm9zcyB0aGUgYW5pbWF0aW9uLlxuICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBjbGFzc05hbWUgYW4gb3B0aW9uYWwgQ1NTIGNsYXNzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50IGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbi4gSWZcbiAgICAgICAqICAgIHRoaXMgdmFsdWUgaXMgbGVmdCBhcyBlbXB0eSB0aGVuIGEgQ1NTIGNsYXNzIG9mIGBuZy1pbmxpbmUtYW5pbWF0ZWAgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAgICogICAgKE5vdGUgdGhhdCBpZiBubyBhbmltYXRpb24gaXMgZGV0ZWN0ZWQgdGhlbiB0aGlzIHZhbHVlIHdpbGwgbm90IGJlIGFwcHBsaWVkIHRvIHRoZSBlbGVtZW50LilcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXG4gICAgICAgKi9cbiAgICAgIGFuaW1hdGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGZyb20sIHRvLCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgb3B0aW9ucy5mcm9tID0gb3B0aW9ucy5mcm9tID8gZXh0ZW5kKG9wdGlvbnMuZnJvbSwgZnJvbSkgOiBmcm9tO1xuICAgICAgICBvcHRpb25zLnRvICAgPSBvcHRpb25zLnRvICAgPyBleHRlbmQob3B0aW9ucy50bywgdG8pICAgICA6IHRvO1xuXG4gICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZSB8fCAnbmctaW5saW5lLWFuaW1hdGUnO1xuICAgICAgICBvcHRpb25zLnRlbXBDbGFzc2VzID0gbWVyZ2VDbGFzc2VzKG9wdGlvbnMudGVtcENsYXNzZXMsIGNsYXNzTmFtZSk7XG4gICAgICAgIHJldHVybiAkJGFuaW1hdGVRdWV1ZS5wdXNoKGVsZW1lbnQsICdhbmltYXRlJywgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfTtcbiAgfV07XG59XTtcblxuZnVuY3Rpb24gJCRBc3luY0NhbGxiYWNrUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJCRyQUYnLCAnJHRpbWVvdXQnLCBmdW5jdGlvbigkJHJBRiwgJHRpbWVvdXQpIHtcbiAgICByZXR1cm4gJCRyQUYuc3VwcG9ydGVkXG4gICAgICA/IGZ1bmN0aW9uKGZuKSB7IHJldHVybiAkJHJBRihmbik7IH1cbiAgICAgIDogZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgcmV0dXJuICR0aW1lb3V0KGZuLCAwLCBmYWxzZSk7XG4gICAgICB9O1xuICB9XTtcbn1cblxuLyogZ2xvYmFsIHN0cmlwSGFzaDogdHJ1ZSAqL1xuXG4vKipcbiAqICEgVGhpcyBpcyBhIHByaXZhdGUgdW5kb2N1bWVudGVkIHNlcnZpY2UgIVxuICpcbiAqIEBuYW1lICRicm93c2VyXG4gKiBAcmVxdWlyZXMgJGxvZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIG9iamVjdCBoYXMgdHdvIGdvYWxzOlxuICpcbiAqIC0gaGlkZSBhbGwgdGhlIGdsb2JhbCBzdGF0ZSBpbiB0aGUgYnJvd3NlciBjYXVzZWQgYnkgdGhlIHdpbmRvdyBvYmplY3RcbiAqIC0gYWJzdHJhY3QgYXdheSBhbGwgdGhlIGJyb3dzZXIgc3BlY2lmaWMgZmVhdHVyZXMgYW5kIGluY29uc2lzdGVuY2llc1xuICpcbiAqIEZvciB0ZXN0cyB3ZSBwcm92aWRlIHtAbGluayBuZ01vY2suJGJyb3dzZXIgbW9jayBpbXBsZW1lbnRhdGlvbn0gb2YgdGhlIGAkYnJvd3NlcmBcbiAqIHNlcnZpY2UsIHdoaWNoIGNhbiBiZSB1c2VkIGZvciBjb252ZW5pZW50IHRlc3Rpbmcgb2YgdGhlIGFwcGxpY2F0aW9uIHdpdGhvdXQgdGhlIGludGVyYWN0aW9uIHdpdGhcbiAqIHRoZSByZWFsIGJyb3dzZXIgYXBpcy5cbiAqL1xuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gd2luZG93IFRoZSBnbG9iYWwgd2luZG93IG9iamVjdC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBkb2N1bWVudCBqUXVlcnkgd3JhcHBlZCBkb2N1bWVudC5cbiAqIEBwYXJhbSB7b2JqZWN0fSAkbG9nIHdpbmRvdy5jb25zb2xlIG9yIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGludGVyZmFjZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSAkc25pZmZlciAkc25pZmZlciBzZXJ2aWNlXG4gKi9cbmZ1bmN0aW9uIEJyb3dzZXIod2luZG93LCBkb2N1bWVudCwgJGxvZywgJHNuaWZmZXIpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgcmF3RG9jdW1lbnQgPSBkb2N1bWVudFswXSxcbiAgICAgIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLFxuICAgICAgaGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5LFxuICAgICAgc2V0VGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0LFxuICAgICAgY2xlYXJUaW1lb3V0ID0gd2luZG93LmNsZWFyVGltZW91dCxcbiAgICAgIHBlbmRpbmdEZWZlcklkcyA9IHt9O1xuXG4gIHNlbGYuaXNNb2NrID0gZmFsc2U7XG5cbiAgdmFyIG91dHN0YW5kaW5nUmVxdWVzdENvdW50ID0gMDtcbiAgdmFyIG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcyA9IFtdO1xuXG4gIC8vIFRPRE8odm9qdGEpOiByZW1vdmUgdGhpcyB0ZW1wb3JhcnkgYXBpXG4gIHNlbGYuJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdCA9IGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0O1xuICBzZWxmLiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQgPSBmdW5jdGlvbigpIHsgb3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQrKzsgfTtcblxuICAvKipcbiAgICogRXhlY3V0ZXMgdGhlIGBmbmAgZnVuY3Rpb24oc3VwcG9ydHMgY3VycnlpbmcpIGFuZCBkZWNyZW1lbnRzIHRoZSBgb3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzYFxuICAgKiBjb3VudGVyLiBJZiB0aGUgY291bnRlciByZWFjaGVzIDAsIGFsbCB0aGUgYG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrc2AgYXJlIGV4ZWN1dGVkLlxuICAgKi9cbiAgZnVuY3Rpb24gY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QoZm4pIHtcbiAgICB0cnkge1xuICAgICAgZm4uYXBwbHkobnVsbCwgc2xpY2VBcmdzKGFyZ3VtZW50cywgMSkpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBvdXRzdGFuZGluZ1JlcXVlc3RDb3VudC0tO1xuICAgICAgaWYgKG91dHN0YW5kaW5nUmVxdWVzdENvdW50ID09PSAwKSB7XG4gICAgICAgIHdoaWxlIChvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MubGVuZ3RoKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcy5wb3AoKSgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICRsb2cuZXJyb3IoZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SGFzaCh1cmwpIHtcbiAgICB2YXIgaW5kZXggPSB1cmwuaW5kZXhPZignIycpO1xuICAgIHJldHVybiBpbmRleCA9PT0gLTEgPyAnJyA6IHVybC5zdWJzdHIoaW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIE5vdGU6IHRoaXMgbWV0aG9kIGlzIHVzZWQgb25seSBieSBzY2VuYXJpbyBydW5uZXJcbiAgICogVE9ETyh2b2p0YSk6IHByZWZpeCB0aGlzIG1ldGhvZCB3aXRoICQkID9cbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBjYWxsYmFjayBGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gbm8gb3V0c3RhbmRpbmcgcmVxdWVzdFxuICAgKi9cbiAgc2VsZi5ub3RpZnlXaGVuTm9PdXRzdGFuZGluZ1JlcXVlc3RzID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICBpZiAob3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQgPT09IDApIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG4gIH07XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gVVJMIEFQSVxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIHZhciBjYWNoZWRTdGF0ZSwgbGFzdEhpc3RvcnlTdGF0ZSxcbiAgICAgIGxhc3RCcm93c2VyVXJsID0gbG9jYXRpb24uaHJlZixcbiAgICAgIGJhc2VFbGVtZW50ID0gZG9jdW1lbnQuZmluZCgnYmFzZScpLFxuICAgICAgcmVsb2FkTG9jYXRpb24gPSBudWxsO1xuXG4gIGNhY2hlU3RhdGUoKTtcbiAgbGFzdEhpc3RvcnlTdGF0ZSA9IGNhY2hlZFN0YXRlO1xuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciN1cmxcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEdFVFRFUjpcbiAgICogV2l0aG91dCBhbnkgYXJndW1lbnQsIHRoaXMgbWV0aG9kIGp1c3QgcmV0dXJucyBjdXJyZW50IHZhbHVlIG9mIGxvY2F0aW9uLmhyZWYuXG4gICAqXG4gICAqIFNFVFRFUjpcbiAgICogV2l0aCBhdCBsZWFzdCBvbmUgYXJndW1lbnQsIHRoaXMgbWV0aG9kIHNldHMgdXJsIHRvIG5ldyB2YWx1ZS5cbiAgICogSWYgaHRtbDUgaGlzdG9yeSBhcGkgc3VwcG9ydGVkLCBwdXNoU3RhdGUvcmVwbGFjZVN0YXRlIGlzIHVzZWQsIG90aGVyd2lzZVxuICAgKiBsb2NhdGlvbi5ocmVmL2xvY2F0aW9uLnJlcGxhY2UgaXMgdXNlZC5cbiAgICogUmV0dXJucyBpdHMgb3duIGluc3RhbmNlIHRvIGFsbG93IGNoYWluaW5nXG4gICAqXG4gICAqIE5PVEU6IHRoaXMgYXBpIGlzIGludGVuZGVkIGZvciB1c2Ugb25seSBieSB0aGUgJGxvY2F0aW9uIHNlcnZpY2UuIFBsZWFzZSB1c2UgdGhlXG4gICAqIHtAbGluayBuZy4kbG9jYXRpb24gJGxvY2F0aW9uIHNlcnZpY2V9IHRvIGNoYW5nZSB1cmwuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgTmV3IHVybCAod2hlbiB1c2VkIGFzIHNldHRlcilcbiAgICogQHBhcmFtIHtib29sZWFuPX0gcmVwbGFjZSBTaG91bGQgbmV3IHVybCByZXBsYWNlIGN1cnJlbnQgaGlzdG9yeSByZWNvcmQ/XG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gc3RhdGUgb2JqZWN0IHRvIHVzZSB3aXRoIHB1c2hTdGF0ZS9yZXBsYWNlU3RhdGVcbiAgICovXG4gIHNlbGYudXJsID0gZnVuY3Rpb24odXJsLCByZXBsYWNlLCBzdGF0ZSkge1xuICAgIC8vIEluIG1vZGVybiBicm93c2VycyBgaGlzdG9yeS5zdGF0ZWAgaXMgYG51bGxgIGJ5IGRlZmF1bHQ7IHRyZWF0aW5nIGl0IHNlcGFyYXRlbHlcbiAgICAvLyBmcm9tIGB1bmRlZmluZWRgIHdvdWxkIGNhdXNlIGAkYnJvd3Nlci51cmwoJy9mb28nKWAgdG8gY2hhbmdlIGBoaXN0b3J5LnN0YXRlYFxuICAgIC8vIHRvIHVuZGVmaW5lZCB2aWEgYHB1c2hTdGF0ZWAuIEluc3RlYWQsIGxldCdzIGNoYW5nZSBgdW5kZWZpbmVkYCB0byBgbnVsbGAgaGVyZS5cbiAgICBpZiAoaXNVbmRlZmluZWQoc3RhdGUpKSB7XG4gICAgICBzdGF0ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gQW5kcm9pZCBCcm93c2VyIEJGQ2FjaGUgY2F1c2VzIGxvY2F0aW9uLCBoaXN0b3J5IHJlZmVyZW5jZSB0byBiZWNvbWUgc3RhbGUuXG4gICAgaWYgKGxvY2F0aW9uICE9PSB3aW5kb3cubG9jYXRpb24pIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xuICAgIGlmIChoaXN0b3J5ICE9PSB3aW5kb3cuaGlzdG9yeSkgaGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5O1xuXG4gICAgLy8gc2V0dGVyXG4gICAgaWYgKHVybCkge1xuICAgICAgdmFyIHNhbWVTdGF0ZSA9IGxhc3RIaXN0b3J5U3RhdGUgPT09IHN0YXRlO1xuXG4gICAgICAvLyBEb24ndCBjaGFuZ2UgYW55dGhpbmcgaWYgcHJldmlvdXMgYW5kIGN1cnJlbnQgVVJMcyBhbmQgc3RhdGVzIG1hdGNoLiBUaGlzIGFsc28gcHJldmVudHNcbiAgICAgIC8vIElFPDEwIGZyb20gZ2V0dGluZyBpbnRvIHJlZGlyZWN0IGxvb3Agd2hlbiBpbiBMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybCBtb2RlLlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvY29tbWl0L2ZmYjI3MDFcbiAgICAgIGlmIChsYXN0QnJvd3NlclVybCA9PT0gdXJsICYmICghJHNuaWZmZXIuaGlzdG9yeSB8fCBzYW1lU3RhdGUpKSB7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgfVxuICAgICAgdmFyIHNhbWVCYXNlID0gbGFzdEJyb3dzZXJVcmwgJiYgc3RyaXBIYXNoKGxhc3RCcm93c2VyVXJsKSA9PT0gc3RyaXBIYXNoKHVybCk7XG4gICAgICBsYXN0QnJvd3NlclVybCA9IHVybDtcbiAgICAgIGxhc3RIaXN0b3J5U3RhdGUgPSBzdGF0ZTtcbiAgICAgIC8vIERvbid0IHVzZSBoaXN0b3J5IEFQSSBpZiBvbmx5IHRoZSBoYXNoIGNoYW5nZWRcbiAgICAgIC8vIGR1ZSB0byBhIGJ1ZyBpbiBJRTEwL0lFMTEgd2hpY2ggbGVhZHNcbiAgICAgIC8vIHRvIG5vdCBmaXJpbmcgYSBgaGFzaGNoYW5nZWAgbm9yIGBwb3BzdGF0ZWAgZXZlbnRcbiAgICAgIC8vIGluIHNvbWUgY2FzZXMgKHNlZSAjOTE0MykuXG4gICAgICBpZiAoJHNuaWZmZXIuaGlzdG9yeSAmJiAoIXNhbWVCYXNlIHx8ICFzYW1lU3RhdGUpKSB7XG4gICAgICAgIGhpc3RvcnlbcmVwbGFjZSA/ICdyZXBsYWNlU3RhdGUnIDogJ3B1c2hTdGF0ZSddKHN0YXRlLCAnJywgdXJsKTtcbiAgICAgICAgY2FjaGVTdGF0ZSgpO1xuICAgICAgICAvLyBEbyB0aGUgYXNzaWdubWVudCBhZ2FpbiBzbyB0aGF0IHRob3NlIHR3byB2YXJpYWJsZXMgYXJlIHJlZmVyZW50aWFsbHkgaWRlbnRpY2FsLlxuICAgICAgICBsYXN0SGlzdG9yeVN0YXRlID0gY2FjaGVkU3RhdGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXNhbWVCYXNlIHx8IHJlbG9hZExvY2F0aW9uKSB7XG4gICAgICAgICAgcmVsb2FkTG9jYXRpb24gPSB1cmw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcGxhY2UpIHtcbiAgICAgICAgICBsb2NhdGlvbi5yZXBsYWNlKHVybCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXNhbWVCYXNlKSB7XG4gICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHVybDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2NhdGlvbi5oYXNoID0gZ2V0SGFzaCh1cmwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICAvLyBnZXR0ZXJcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gLSByZWxvYWRMb2NhdGlvbiBpcyBuZWVkZWQgYXMgYnJvd3NlcnMgZG9uJ3QgYWxsb3cgdG8gcmVhZCBvdXRcbiAgICAgIC8vICAgdGhlIG5ldyBsb2NhdGlvbi5ocmVmIGlmIGEgcmVsb2FkIGhhcHBlbmVkLlxuICAgICAgLy8gLSB0aGUgcmVwbGFjZW1lbnQgaXMgYSB3b3JrYXJvdW5kIGZvciBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD00MDcxNzJcbiAgICAgIHJldHVybiByZWxvYWRMb2NhdGlvbiB8fCBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyUyNy9nLFwiJ1wiKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuYW1lICRicm93c2VyI3N0YXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBhIGdldHRlci5cbiAgICpcbiAgICogUmV0dXJuIGhpc3Rvcnkuc3RhdGUgb3IgbnVsbCBpZiBoaXN0b3J5LnN0YXRlIGlzIHVuZGVmaW5lZC5cbiAgICpcbiAgICogQHJldHVybnMge29iamVjdH0gc3RhdGVcbiAgICovXG4gIHNlbGYuc3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gY2FjaGVkU3RhdGU7XG4gIH07XG5cbiAgdmFyIHVybENoYW5nZUxpc3RlbmVycyA9IFtdLFxuICAgICAgdXJsQ2hhbmdlSW5pdCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKCkge1xuICAgIGNhY2hlU3RhdGUoKTtcbiAgICBmaXJlVXJsQ2hhbmdlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRDdXJyZW50U3RhdGUoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBoaXN0b3J5LnN0YXRlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIE1TSUUgY2FuIHJlcG9ydGVkbHkgdGhyb3cgd2hlbiB0aGVyZSBpcyBubyBzdGF0ZSAoVU5DT05GSVJNRUQpLlxuICAgIH1cbiAgfVxuXG4gIC8vIFRoaXMgdmFyaWFibGUgc2hvdWxkIGJlIHVzZWQgKm9ubHkqIGluc2lkZSB0aGUgY2FjaGVTdGF0ZSBmdW5jdGlvbi5cbiAgdmFyIGxhc3RDYWNoZWRTdGF0ZSA9IG51bGw7XG4gIGZ1bmN0aW9uIGNhY2hlU3RhdGUoKSB7XG4gICAgLy8gVGhpcyBzaG91bGQgYmUgdGhlIG9ubHkgcGxhY2UgaW4gJGJyb3dzZXIgd2hlcmUgYGhpc3Rvcnkuc3RhdGVgIGlzIHJlYWQuXG4gICAgY2FjaGVkU3RhdGUgPSBnZXRDdXJyZW50U3RhdGUoKTtcbiAgICBjYWNoZWRTdGF0ZSA9IGlzVW5kZWZpbmVkKGNhY2hlZFN0YXRlKSA/IG51bGwgOiBjYWNoZWRTdGF0ZTtcblxuICAgIC8vIFByZXZlbnQgY2FsbGJhY2tzIGZvIGZpcmUgdHdpY2UgaWYgYm90aCBoYXNoY2hhbmdlICYgcG9wc3RhdGUgd2VyZSBmaXJlZC5cbiAgICBpZiAoZXF1YWxzKGNhY2hlZFN0YXRlLCBsYXN0Q2FjaGVkU3RhdGUpKSB7XG4gICAgICBjYWNoZWRTdGF0ZSA9IGxhc3RDYWNoZWRTdGF0ZTtcbiAgICB9XG4gICAgbGFzdENhY2hlZFN0YXRlID0gY2FjaGVkU3RhdGU7XG4gIH1cblxuICBmdW5jdGlvbiBmaXJlVXJsQ2hhbmdlKCkge1xuICAgIGlmIChsYXN0QnJvd3NlclVybCA9PT0gc2VsZi51cmwoKSAmJiBsYXN0SGlzdG9yeVN0YXRlID09PSBjYWNoZWRTdGF0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxhc3RCcm93c2VyVXJsID0gc2VsZi51cmwoKTtcbiAgICBsYXN0SGlzdG9yeVN0YXRlID0gY2FjaGVkU3RhdGU7XG4gICAgZm9yRWFjaCh1cmxDaGFuZ2VMaXN0ZW5lcnMsIGZ1bmN0aW9uKGxpc3RlbmVyKSB7XG4gICAgICBsaXN0ZW5lcihzZWxmLnVybCgpLCBjYWNoZWRTdGF0ZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQG5hbWUgJGJyb3dzZXIjb25VcmxDaGFuZ2VcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVyIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQsIHdoZW4gdXJsIGNoYW5nZXMuXG4gICAqXG4gICAqIEl0J3Mgb25seSBjYWxsZWQgd2hlbiB0aGUgdXJsIGlzIGNoYW5nZWQgZnJvbSBvdXRzaWRlIG9mIGFuZ3VsYXI6XG4gICAqIC0gdXNlciB0eXBlcyBkaWZmZXJlbnQgdXJsIGludG8gYWRkcmVzcyBiYXJcbiAgICogLSB1c2VyIGNsaWNrcyBvbiBoaXN0b3J5IChmb3J3YXJkL2JhY2spIGJ1dHRvblxuICAgKiAtIHVzZXIgY2xpY2tzIG9uIGEgbGlua1xuICAgKlxuICAgKiBJdCdzIG5vdCBjYWxsZWQgd2hlbiB1cmwgaXMgY2hhbmdlZCBieSAkYnJvd3Nlci51cmwoKSBtZXRob2RcbiAgICpcbiAgICogVGhlIGxpc3RlbmVyIGdldHMgY2FsbGVkIHdpdGggbmV3IHVybCBhcyBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIE5PVEU6IHRoaXMgYXBpIGlzIGludGVuZGVkIGZvciB1c2Ugb25seSBieSB0aGUgJGxvY2F0aW9uIHNlcnZpY2UuIFBsZWFzZSB1c2UgdGhlXG4gICAqIHtAbGluayBuZy4kbG9jYXRpb24gJGxvY2F0aW9uIHNlcnZpY2V9IHRvIG1vbml0b3IgdXJsIGNoYW5nZXMgaW4gYW5ndWxhciBhcHBzLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZyl9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHVybCBjaGFuZ2VzLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbihzdHJpbmcpfSBSZXR1cm5zIHRoZSByZWdpc3RlcmVkIGxpc3RlbmVyIGZuIC0gaGFuZHkgaWYgdGhlIGZuIGlzIGFub255bW91cy5cbiAgICovXG4gIHNlbGYub25VcmxDaGFuZ2UgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIC8vIFRPRE8odm9qdGEpOiByZWZhY3RvciB0byB1c2Ugbm9kZSdzIHN5bnRheCBmb3IgZXZlbnRzXG4gICAgaWYgKCF1cmxDaGFuZ2VJbml0KSB7XG4gICAgICAvLyBXZSBsaXN0ZW4gb24gYm90aCAoaGFzaGNoYW5nZS9wb3BzdGF0ZSkgd2hlbiBhdmFpbGFibGUsIGFzIHNvbWUgYnJvd3NlcnMgKGUuZy4gT3BlcmEpXG4gICAgICAvLyBkb24ndCBmaXJlIHBvcHN0YXRlIHdoZW4gdXNlciBjaGFuZ2UgdGhlIGFkZHJlc3MgYmFyIGFuZCBkb24ndCBmaXJlIGhhc2hjaGFuZ2Ugd2hlbiB1cmxcbiAgICAgIC8vIGNoYW5nZWQgYnkgcHVzaC9yZXBsYWNlU3RhdGVcblxuICAgICAgLy8gaHRtbDUgaGlzdG9yeSBhcGkgLSBwb3BzdGF0ZSBldmVudFxuICAgICAgaWYgKCRzbmlmZmVyLmhpc3RvcnkpIGpxTGl0ZSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKTtcbiAgICAgIC8vIGhhc2hjaGFuZ2UgZXZlbnRcbiAgICAgIGpxTGl0ZSh3aW5kb3cpLm9uKCdoYXNoY2hhbmdlJywgY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UpO1xuXG4gICAgICB1cmxDaGFuZ2VJbml0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB1cmxDaGFuZ2VMaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG4gICAgcmV0dXJuIGNhbGxiYWNrO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBSZW1vdmUgcG9wc3RhdGUgYW5kIGhhc2hjaGFuZ2UgaGFuZGxlciBmcm9tIHdpbmRvdy5cbiAgICpcbiAgICogTk9URTogdGhpcyBhcGkgaXMgaW50ZW5kZWQgZm9yIHVzZSBvbmx5IGJ5ICRyb290U2NvcGUuXG4gICAqL1xuICBzZWxmLiQkYXBwbGljYXRpb25EZXN0cm95ZWQgPSBmdW5jdGlvbigpIHtcbiAgICBqcUxpdGUod2luZG93KS5vZmYoJ2hhc2hjaGFuZ2UgcG9wc3RhdGUnLCBjYWNoZVN0YXRlQW5kRmlyZVVybENoYW5nZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIHRoZSB1cmwgaGFzIGNoYW5nZWQgb3V0c2lkZSBvZiBBbmd1bGFyLlxuICAgKiBOZWVkcyB0byBiZSBleHBvcnRlZCB0byBiZSBhYmxlIHRvIGNoZWNrIGZvciBjaGFuZ2VzIHRoYXQgaGF2ZSBiZWVuIGRvbmUgaW4gc3luYyxcbiAgICogYXMgaGFzaGNoYW5nZS9wb3BzdGF0ZSBldmVudHMgZmlyZSBpbiBhc3luYy5cbiAgICovXG4gIHNlbGYuJCRjaGVja1VybENoYW5nZSA9IGZpcmVVcmxDaGFuZ2U7XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gTWlzYyBBUElcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAvKipcbiAgICogQG5hbWUgJGJyb3dzZXIjYmFzZUhyZWZcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJldHVybnMgY3VycmVudCA8YmFzZSBocmVmPlxuICAgKiAoYWx3YXlzIHJlbGF0aXZlIC0gd2l0aG91dCBkb21haW4pXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjdXJyZW50IGJhc2UgaHJlZlxuICAgKi9cbiAgc2VsZi5iYXNlSHJlZiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBocmVmID0gYmFzZUVsZW1lbnQuYXR0cignaHJlZicpO1xuICAgIHJldHVybiBocmVmID8gaHJlZi5yZXBsYWNlKC9eKGh0dHBzP1xcOik/XFwvXFwvW15cXC9dKi8sICcnKSA6ICcnO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmFtZSAkYnJvd3NlciNkZWZlclxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGZuIEEgZnVuY3Rpb24sIHdobydzIGV4ZWN1dGlvbiBzaG91bGQgYmUgZGVmZXJyZWQuXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gW2RlbGF5PTBdIG9mIG1pbGxpc2Vjb25kcyB0byBkZWZlciB0aGUgZnVuY3Rpb24gZXhlY3V0aW9uLlxuICAgKiBAcmV0dXJucyB7Kn0gRGVmZXJJZCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgdGFzayB2aWEgYCRicm93c2VyLmRlZmVyLmNhbmNlbCgpYC5cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEV4ZWN1dGVzIGEgZm4gYXN5bmNocm9ub3VzbHkgdmlhIGBzZXRUaW1lb3V0KGZuLCBkZWxheSlgLlxuICAgKlxuICAgKiBVbmxpa2Ugd2hlbiBjYWxsaW5nIGBzZXRUaW1lb3V0YCBkaXJlY3RseSwgaW4gdGVzdCB0aGlzIGZ1bmN0aW9uIGlzIG1vY2tlZCBhbmQgaW5zdGVhZCBvZiB1c2luZ1xuICAgKiBgc2V0VGltZW91dGAgaW4gdGVzdHMsIHRoZSBmbnMgYXJlIHF1ZXVlZCBpbiBhbiBhcnJheSwgd2hpY2ggY2FuIGJlIHByb2dyYW1tYXRpY2FsbHkgZmx1c2hlZFxuICAgKiB2aWEgYCRicm93c2VyLmRlZmVyLmZsdXNoKClgLlxuICAgKlxuICAgKi9cbiAgc2VsZi5kZWZlciA9IGZ1bmN0aW9uKGZuLCBkZWxheSkge1xuICAgIHZhciB0aW1lb3V0SWQ7XG4gICAgb3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQrKztcbiAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgZGVsZXRlIHBlbmRpbmdEZWZlcklkc1t0aW1lb3V0SWRdO1xuICAgICAgY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QoZm4pO1xuICAgIH0sIGRlbGF5IHx8IDApO1xuICAgIHBlbmRpbmdEZWZlcklkc1t0aW1lb3V0SWRdID0gdHJ1ZTtcbiAgICByZXR1cm4gdGltZW91dElkO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuYW1lICRicm93c2VyI2RlZmVyLmNhbmNlbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ2FuY2VscyBhIGRlZmVycmVkIHRhc2sgaWRlbnRpZmllZCB3aXRoIGBkZWZlcklkYC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBkZWZlcklkIFRva2VuIHJldHVybmVkIGJ5IHRoZSBgJGJyb3dzZXIuZGVmZXJgIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHRhc2sgaGFzbid0IGV4ZWN1dGVkIHlldCBhbmQgd2FzIHN1Y2Nlc3NmdWxseVxuICAgKiAgICAgICAgICAgICAgICAgICAgY2FuY2VsZWQuXG4gICAqL1xuICBzZWxmLmRlZmVyLmNhbmNlbCA9IGZ1bmN0aW9uKGRlZmVySWQpIHtcbiAgICBpZiAocGVuZGluZ0RlZmVySWRzW2RlZmVySWRdKSB7XG4gICAgICBkZWxldGUgcGVuZGluZ0RlZmVySWRzW2RlZmVySWRdO1xuICAgICAgY2xlYXJUaW1lb3V0KGRlZmVySWQpO1xuICAgICAgY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3Qobm9vcCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG59XG5cbmZ1bmN0aW9uICRCcm93c2VyUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckbG9nJywgJyRzbmlmZmVyJywgJyRkb2N1bWVudCcsXG4gICAgICBmdW5jdGlvbigkd2luZG93LCAkbG9nLCAkc25pZmZlciwgJGRvY3VtZW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgQnJvd3Nlcigkd2luZG93LCAkZG9jdW1lbnQsICRsb2csICRzbmlmZmVyKTtcbiAgICAgIH1dO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkY2FjaGVGYWN0b3J5XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBGYWN0b3J5IHRoYXQgY29uc3RydWN0cyB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0gb2JqZWN0cyBhbmQgZ2l2ZXMgYWNjZXNzIHRvXG4gKiB0aGVtLlxuICpcbiAqIGBgYGpzXG4gKlxuICogIHZhciBjYWNoZSA9ICRjYWNoZUZhY3RvcnkoJ2NhY2hlSWQnKTtcbiAqICBleHBlY3QoJGNhY2hlRmFjdG9yeS5nZXQoJ2NhY2hlSWQnKSkudG9CZShjYWNoZSk7XG4gKiAgZXhwZWN0KCRjYWNoZUZhY3RvcnkuZ2V0KCdub1N1Y2hDYWNoZUlkJykpLm5vdC50b0JlRGVmaW5lZCgpO1xuICpcbiAqICBjYWNoZS5wdXQoXCJrZXlcIiwgXCJ2YWx1ZVwiKTtcbiAqICBjYWNoZS5wdXQoXCJhbm90aGVyIGtleVwiLCBcImFub3RoZXIgdmFsdWVcIik7XG4gKlxuICogIC8vIFdlJ3ZlIHNwZWNpZmllZCBubyBvcHRpb25zIG9uIGNyZWF0aW9uXG4gKiAgZXhwZWN0KGNhY2hlLmluZm8oKSkudG9FcXVhbCh7aWQ6ICdjYWNoZUlkJywgc2l6ZTogMn0pO1xuICpcbiAqIGBgYFxuICpcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY2FjaGVJZCBOYW1lIG9yIGlkIG9mIHRoZSBuZXdseSBjcmVhdGVkIGNhY2hlLlxuICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0IHRoYXQgc3BlY2lmaWVzIHRoZSBjYWNoZSBiZWhhdmlvci4gUHJvcGVydGllczpcbiAqXG4gKiAgIC0gYHtudW1iZXI9fWAgYGNhcGFjaXR5YCDigJQgdHVybnMgdGhlIGNhY2hlIGludG8gTFJVIGNhY2hlLlxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9IE5ld2x5IGNyZWF0ZWQgY2FjaGUgb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBzZXQgb2YgbWV0aG9kczpcbiAqXG4gKiAtIGB7b2JqZWN0fWAgYGluZm8oKWAg4oCUIFJldHVybnMgaWQsIHNpemUsIGFuZCBvcHRpb25zIG9mIGNhY2hlLlxuICogLSBge3sqfX1gIGBwdXQoe3N0cmluZ30ga2V5LCB7Kn0gdmFsdWUpYCDigJQgUHV0cyBhIG5ldyBrZXktdmFsdWUgcGFpciBpbnRvIHRoZSBjYWNoZSBhbmQgcmV0dXJuc1xuICogICBpdC5cbiAqIC0gYHt7Kn19YCBgZ2V0KHtzdHJpbmd9IGtleSlgIOKAlCBSZXR1cm5zIGNhY2hlZCB2YWx1ZSBmb3IgYGtleWAgb3IgdW5kZWZpbmVkIGZvciBjYWNoZSBtaXNzLlxuICogLSBge3ZvaWR9YCBgcmVtb3ZlKHtzdHJpbmd9IGtleSlgIOKAlCBSZW1vdmVzIGEga2V5LXZhbHVlIHBhaXIgZnJvbSB0aGUgY2FjaGUuXG4gKiAtIGB7dm9pZH1gIGByZW1vdmVBbGwoKWAg4oCUIFJlbW92ZXMgYWxsIGNhY2hlZCB2YWx1ZXMuXG4gKiAtIGB7dm9pZH1gIGBkZXN0cm95KClgIOKAlCBSZW1vdmVzIHJlZmVyZW5jZXMgdG8gdGhpcyBjYWNoZSBmcm9tICRjYWNoZUZhY3RvcnkuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cImNhY2hlRXhhbXBsZUFwcFwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkNhY2hlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwibmV3Q2FjaGVLZXlcIiBwbGFjZWhvbGRlcj1cIktleVwiPlxuICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwibmV3Q2FjaGVWYWx1ZVwiIHBsYWNlaG9sZGVyPVwiVmFsdWVcIj5cbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJwdXQobmV3Q2FjaGVLZXksIG5ld0NhY2hlVmFsdWUpXCI+Q2FjaGU8L2J1dHRvbj5cblxuICAgICAgICAgPHAgbmctaWY9XCJrZXlzLmxlbmd0aFwiPkNhY2hlZCBWYWx1ZXM8L3A+XG4gICAgICAgICA8ZGl2IG5nLXJlcGVhdD1cImtleSBpbiBrZXlzXCI+XG4gICAgICAgICAgIDxzcGFuIG5nLWJpbmQ9XCJrZXlcIj48L3NwYW4+XG4gICAgICAgICAgIDxzcGFuPjogPC9zcGFuPlxuICAgICAgICAgICA8YiBuZy1iaW5kPVwiY2FjaGUuZ2V0KGtleSlcIj48L2I+XG4gICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgPHA+Q2FjaGUgSW5mbzwvcD5cbiAgICAgICAgIDxkaXYgbmctcmVwZWF0PVwiKGtleSwgdmFsdWUpIGluIGNhY2hlLmluZm8oKVwiPlxuICAgICAgICAgICA8c3BhbiBuZy1iaW5kPVwia2V5XCI+PC9zcGFuPlxuICAgICAgICAgICA8c3Bhbj46IDwvc3Bhbj5cbiAgICAgICAgICAgPGIgbmctYmluZD1cInZhbHVlXCI+PC9iPlxuICAgICAgICAgPC9kaXY+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgIGFuZ3VsYXIubW9kdWxlKCdjYWNoZUV4YW1wbGVBcHAnLCBbXSkuXG4gICAgICAgICBjb250cm9sbGVyKCdDYWNoZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckY2FjaGVGYWN0b3J5JywgZnVuY3Rpb24oJHNjb3BlLCAkY2FjaGVGYWN0b3J5KSB7XG4gICAgICAgICAgICRzY29wZS5rZXlzID0gW107XG4gICAgICAgICAgICRzY29wZS5jYWNoZSA9ICRjYWNoZUZhY3RvcnkoJ2NhY2hlSWQnKTtcbiAgICAgICAgICAgJHNjb3BlLnB1dCA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICBpZiAoJHNjb3BlLmNhY2hlLmdldChrZXkpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICRzY29wZS5rZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgJHNjb3BlLmNhY2hlLnB1dChrZXksIHZhbHVlID09PSB1bmRlZmluZWQgPyBudWxsIDogdmFsdWUpO1xuICAgICAgICAgICB9O1xuICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICBwIHtcbiAgICAgICAgIG1hcmdpbjogMTBweCAwIDNweDtcbiAgICAgICB9XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuZnVuY3Rpb24gJENhY2hlRmFjdG9yeVByb3ZpZGVyKCkge1xuXG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjYWNoZXMgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGNhY2hlRmFjdG9yeShjYWNoZUlkLCBvcHRpb25zKSB7XG4gICAgICBpZiAoY2FjaGVJZCBpbiBjYWNoZXMpIHtcbiAgICAgICAgdGhyb3cgbWluRXJyKCckY2FjaGVGYWN0b3J5JykoJ2lpZCcsIFwiQ2FjaGVJZCAnezB9JyBpcyBhbHJlYWR5IHRha2VuIVwiLCBjYWNoZUlkKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNpemUgPSAwLFxuICAgICAgICAgIHN0YXRzID0gZXh0ZW5kKHt9LCBvcHRpb25zLCB7aWQ6IGNhY2hlSWR9KSxcbiAgICAgICAgICBkYXRhID0ge30sXG4gICAgICAgICAgY2FwYWNpdHkgPSAob3B0aW9ucyAmJiBvcHRpb25zLmNhcGFjaXR5KSB8fCBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICAgIGxydUhhc2ggPSB7fSxcbiAgICAgICAgICBmcmVzaEVuZCA9IG51bGwsXG4gICAgICAgICAgc3RhbGVFbmQgPSBudWxsO1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyB0eXBlXG4gICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBBIGNhY2hlIG9iamVjdCB1c2VkIHRvIHN0b3JlIGFuZCByZXRyaWV2ZSBkYXRhLCBwcmltYXJpbHkgdXNlZCBieVxuICAgICAgICoge0BsaW5rICRodHRwICRodHRwfSBhbmQgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6c2NyaXB0IHNjcmlwdH0gZGlyZWN0aXZlIHRvIGNhY2hlXG4gICAgICAgKiB0ZW1wbGF0ZXMgYW5kIG90aGVyIGRhdGEuXG4gICAgICAgKlxuICAgICAgICogYGBganNcbiAgICAgICAqICBhbmd1bGFyLm1vZHVsZSgnc3VwZXJDYWNoZScpXG4gICAgICAgKiAgICAuZmFjdG9yeSgnc3VwZXJDYWNoZScsIFsnJGNhY2hlRmFjdG9yeScsIGZ1bmN0aW9uKCRjYWNoZUZhY3RvcnkpIHtcbiAgICAgICAqICAgICAgcmV0dXJuICRjYWNoZUZhY3RvcnkoJ3N1cGVyLWNhY2hlJyk7XG4gICAgICAgKiAgICB9XSk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKiBFeGFtcGxlIHRlc3Q6XG4gICAgICAgKlxuICAgICAgICogYGBganNcbiAgICAgICAqICBpdCgnc2hvdWxkIGJlaGF2ZSBsaWtlIGEgY2FjaGUnLCBpbmplY3QoZnVuY3Rpb24oc3VwZXJDYWNoZSkge1xuICAgICAgICogICAgc3VwZXJDYWNoZS5wdXQoJ2tleScsICd2YWx1ZScpO1xuICAgICAgICogICAgc3VwZXJDYWNoZS5wdXQoJ2Fub3RoZXIga2V5JywgJ2Fub3RoZXIgdmFsdWUnKTtcbiAgICAgICAqXG4gICAgICAgKiAgICBleHBlY3Qoc3VwZXJDYWNoZS5pbmZvKCkpLnRvRXF1YWwoe1xuICAgICAgICogICAgICBpZDogJ3N1cGVyLWNhY2hlJyxcbiAgICAgICAqICAgICAgc2l6ZTogMlxuICAgICAgICogICAgfSk7XG4gICAgICAgKlxuICAgICAgICogICAgc3VwZXJDYWNoZS5yZW1vdmUoJ2Fub3RoZXIga2V5Jyk7XG4gICAgICAgKiAgICBleHBlY3Qoc3VwZXJDYWNoZS5nZXQoJ2Fub3RoZXIga2V5JykpLnRvQmVVbmRlZmluZWQoKTtcbiAgICAgICAqXG4gICAgICAgKiAgICBzdXBlckNhY2hlLnJlbW92ZUFsbCgpO1xuICAgICAgICogICAgZXhwZWN0KHN1cGVyQ2FjaGUuaW5mbygpKS50b0VxdWFsKHtcbiAgICAgICAqICAgICAgaWQ6ICdzdXBlci1jYWNoZScsXG4gICAgICAgKiAgICAgIHNpemU6IDBcbiAgICAgICAqICAgIH0pO1xuICAgICAgICogIH0pKTtcbiAgICAgICAqIGBgYFxuICAgICAgICovXG4gICAgICByZXR1cm4gY2FjaGVzW2NhY2hlSWRdID0ge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjcHV0XG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBJbnNlcnRzIGEgbmFtZWQgZW50cnkgaW50byB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdCB0byBiZVxuICAgICAgICAgKiByZXRyaWV2ZWQgbGF0ZXIsIGFuZCBpbmNyZW1lbnRpbmcgdGhlIHNpemUgb2YgdGhlIGNhY2hlIGlmIHRoZSBrZXkgd2FzIG5vdCBhbHJlYWR5XG4gICAgICAgICAqIHByZXNlbnQgaW4gdGhlIGNhY2hlLiBJZiBiZWhhdmluZyBsaWtlIGFuIExSVSBjYWNoZSwgaXQgd2lsbCBhbHNvIHJlbW92ZSBzdGFsZVxuICAgICAgICAgKiBlbnRyaWVzIGZyb20gdGhlIHNldC5cbiAgICAgICAgICpcbiAgICAgICAgICogSXQgd2lsbCBub3QgaW5zZXJ0IHVuZGVmaW5lZCB2YWx1ZXMgaW50byB0aGUgY2FjaGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdGhlIGtleSB1bmRlciB3aGljaCB0aGUgY2FjaGVkIGRhdGEgaXMgc3RvcmVkLlxuICAgICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIHRoZSB2YWx1ZSB0byBzdG9yZSBhbG9uZ3NpZGUgdGhlIGtleS4gSWYgaXQgaXMgdW5kZWZpbmVkLCB0aGUga2V5XG4gICAgICAgICAqICAgIHdpbGwgbm90IGJlIHN0b3JlZC5cbiAgICAgICAgICogQHJldHVybnMgeyp9IHRoZSB2YWx1ZSBzdG9yZWQuXG4gICAgICAgICAqL1xuICAgICAgICBwdXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47XG4gICAgICAgICAgaWYgKGNhcGFjaXR5IDwgTnVtYmVyLk1BWF9WQUxVRSkge1xuICAgICAgICAgICAgdmFyIGxydUVudHJ5ID0gbHJ1SGFzaFtrZXldIHx8IChscnVIYXNoW2tleV0gPSB7a2V5OiBrZXl9KTtcblxuICAgICAgICAgICAgcmVmcmVzaChscnVFbnRyeSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCEoa2V5IGluIGRhdGEpKSBzaXplKys7XG4gICAgICAgICAgZGF0YVtrZXldID0gdmFsdWU7XG5cbiAgICAgICAgICBpZiAoc2l6ZSA+IGNhcGFjaXR5KSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShzdGFsZUVuZC5rZXkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI2dldFxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogUmV0cmlldmVzIG5hbWVkIGRhdGEgc3RvcmVkIGluIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0gb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRoZSBrZXkgb2YgdGhlIGRhdGEgdG8gYmUgcmV0cmlldmVkXG4gICAgICAgICAqIEByZXR1cm5zIHsqfSB0aGUgdmFsdWUgc3RvcmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICBpZiAoY2FwYWNpdHkgPCBOdW1iZXIuTUFYX1ZBTFVFKSB7XG4gICAgICAgICAgICB2YXIgbHJ1RW50cnkgPSBscnVIYXNoW2tleV07XG5cbiAgICAgICAgICAgIGlmICghbHJ1RW50cnkpIHJldHVybjtcblxuICAgICAgICAgICAgcmVmcmVzaChscnVFbnRyeSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjcmVtb3ZlXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSZW1vdmVzIGFuIGVudHJ5IGZyb20gdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdGhlIGtleSBvZiB0aGUgZW50cnkgdG8gYmUgcmVtb3ZlZFxuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICBpZiAoY2FwYWNpdHkgPCBOdW1iZXIuTUFYX1ZBTFVFKSB7XG4gICAgICAgICAgICB2YXIgbHJ1RW50cnkgPSBscnVIYXNoW2tleV07XG5cbiAgICAgICAgICAgIGlmICghbHJ1RW50cnkpIHJldHVybjtcblxuICAgICAgICAgICAgaWYgKGxydUVudHJ5ID09IGZyZXNoRW5kKSBmcmVzaEVuZCA9IGxydUVudHJ5LnA7XG4gICAgICAgICAgICBpZiAobHJ1RW50cnkgPT0gc3RhbGVFbmQpIHN0YWxlRW5kID0gbHJ1RW50cnkubjtcbiAgICAgICAgICAgIGxpbmsobHJ1RW50cnkubixscnVFbnRyeS5wKTtcblxuICAgICAgICAgICAgZGVsZXRlIGxydUhhc2hba2V5XTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZWxldGUgZGF0YVtrZXldO1xuICAgICAgICAgIHNpemUtLTtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjcmVtb3ZlQWxsXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBDbGVhcnMgdGhlIGNhY2hlIG9iamVjdCBvZiBhbnkgZW50cmllcy5cbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZUFsbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGF0YSA9IHt9O1xuICAgICAgICAgIHNpemUgPSAwO1xuICAgICAgICAgIGxydUhhc2ggPSB7fTtcbiAgICAgICAgICBmcmVzaEVuZCA9IHN0YWxlRW5kID0gbnVsbDtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjZGVzdHJveVxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICogRGVzdHJveXMgdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfSBvYmplY3QgZW50aXJlbHksXG4gICAgICAgICAqIHJlbW92aW5nIGl0IGZyb20gdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5ICRjYWNoZUZhY3Rvcnl9IHNldC5cbiAgICAgICAgICovXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGRhdGEgPSBudWxsO1xuICAgICAgICAgIHN0YXRzID0gbnVsbDtcbiAgICAgICAgICBscnVIYXNoID0gbnVsbDtcbiAgICAgICAgICBkZWxldGUgY2FjaGVzW2NhY2hlSWRdO1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNpbmZvXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBSZXRyaWV2ZSBpbmZvcm1hdGlvbiByZWdhcmRpbmcgYSBwYXJ0aWN1bGFyIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMge29iamVjdH0gYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAgICAgKiAgIDx1bD5cbiAgICAgICAgICogICAgIDxsaT4qKmlkKio6IHRoZSBpZCBvZiB0aGUgY2FjaGUgaW5zdGFuY2U8L2xpPlxuICAgICAgICAgKiAgICAgPGxpPioqc2l6ZSoqOiB0aGUgbnVtYmVyIG9mIGVudHJpZXMga2VwdCBpbiB0aGUgY2FjaGUgaW5zdGFuY2U8L2xpPlxuICAgICAgICAgKiAgICAgPGxpPioqLi4uKio6IGFueSBhZGRpdGlvbmFsIHByb3BlcnRpZXMgZnJvbSB0aGUgb3B0aW9ucyBvYmplY3Qgd2hlbiBjcmVhdGluZyB0aGVcbiAgICAgICAgICogICAgICAgY2FjaGUuPC9saT5cbiAgICAgICAgICogICA8L3VsPlxuICAgICAgICAgKi9cbiAgICAgICAgaW5mbzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGV4dGVuZCh7fSwgc3RhdHMsIHtzaXplOiBzaXplfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cblxuICAgICAgLyoqXG4gICAgICAgKiBtYWtlcyB0aGUgYGVudHJ5YCB0aGUgZnJlc2hFbmQgb2YgdGhlIExSVSBsaW5rZWQgbGlzdFxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiByZWZyZXNoKGVudHJ5KSB7XG4gICAgICAgIGlmIChlbnRyeSAhPSBmcmVzaEVuZCkge1xuICAgICAgICAgIGlmICghc3RhbGVFbmQpIHtcbiAgICAgICAgICAgIHN0YWxlRW5kID0gZW50cnk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdGFsZUVuZCA9PSBlbnRyeSkge1xuICAgICAgICAgICAgc3RhbGVFbmQgPSBlbnRyeS5uO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpbmsoZW50cnkubiwgZW50cnkucCk7XG4gICAgICAgICAgbGluayhlbnRyeSwgZnJlc2hFbmQpO1xuICAgICAgICAgIGZyZXNoRW5kID0gZW50cnk7XG4gICAgICAgICAgZnJlc2hFbmQubiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuXG4gICAgICAvKipcbiAgICAgICAqIGJpZGlyZWN0aW9uYWxseSBsaW5rcyB0d28gZW50cmllcyBvZiB0aGUgTFJVIGxpbmtlZCBsaXN0XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGxpbmsobmV4dEVudHJ5LCBwcmV2RW50cnkpIHtcbiAgICAgICAgaWYgKG5leHRFbnRyeSAhPSBwcmV2RW50cnkpIHtcbiAgICAgICAgICBpZiAobmV4dEVudHJ5KSBuZXh0RW50cnkucCA9IHByZXZFbnRyeTsgLy9wIHN0YW5kcyBmb3IgcHJldmlvdXMsICdwcmV2JyBkaWRuJ3QgbWluaWZ5XG4gICAgICAgICAgaWYgKHByZXZFbnRyeSkgcHJldkVudHJ5Lm4gPSBuZXh0RW50cnk7IC8vbiBzdGFuZHMgZm9yIG5leHQsICduZXh0JyBkaWRuJ3QgbWluaWZ5XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5I2luZm9cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEdldCBpbmZvcm1hdGlvbiBhYm91dCBhbGwgdGhlIGNhY2hlcyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IC0ga2V5LXZhbHVlIG1hcCBvZiBgY2FjaGVJZGAgdG8gdGhlIHJlc3VsdCBvZiBjYWxsaW5nIGBjYWNoZSNpbmZvYFxuICAgKi9cbiAgICBjYWNoZUZhY3RvcnkuaW5mbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGluZm8gPSB7fTtcbiAgICAgIGZvckVhY2goY2FjaGVzLCBmdW5jdGlvbihjYWNoZSwgY2FjaGVJZCkge1xuICAgICAgICBpbmZvW2NhY2hlSWRdID0gY2FjaGUuaW5mbygpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9O1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNhY2hlRmFjdG9yeSNnZXRcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEdldCBhY2Nlc3MgdG8gYSBjYWNoZSBvYmplY3QgYnkgdGhlIGBjYWNoZUlkYCB1c2VkIHdoZW4gaXQgd2FzIGNyZWF0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjYWNoZUlkIE5hbWUgb3IgaWQgb2YgYSBjYWNoZSB0byBhY2Nlc3MuXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IENhY2hlIG9iamVjdCBpZGVudGlmaWVkIGJ5IHRoZSBjYWNoZUlkIG9yIHVuZGVmaW5lZCBpZiBubyBzdWNoIGNhY2hlLlxuICAgKi9cbiAgICBjYWNoZUZhY3RvcnkuZ2V0ID0gZnVuY3Rpb24oY2FjaGVJZCkge1xuICAgICAgcmV0dXJuIGNhY2hlc1tjYWNoZUlkXTtcbiAgICB9O1xuXG5cbiAgICByZXR1cm4gY2FjaGVGYWN0b3J5O1xuICB9O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkdGVtcGxhdGVDYWNoZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGZpcnN0IHRpbWUgYSB0ZW1wbGF0ZSBpcyB1c2VkLCBpdCBpcyBsb2FkZWQgaW4gdGhlIHRlbXBsYXRlIGNhY2hlIGZvciBxdWljayByZXRyaWV2YWwuIFlvdVxuICogY2FuIGxvYWQgdGVtcGxhdGVzIGRpcmVjdGx5IGludG8gdGhlIGNhY2hlIGluIGEgYHNjcmlwdGAgdGFnLCBvciBieSBjb25zdW1pbmcgdGhlXG4gKiBgJHRlbXBsYXRlQ2FjaGVgIHNlcnZpY2UgZGlyZWN0bHkuXG4gKlxuICogQWRkaW5nIHZpYSB0aGUgYHNjcmlwdGAgdGFnOlxuICpcbiAqIGBgYGh0bWxcbiAqICAgPHNjcmlwdCB0eXBlPVwidGV4dC9uZy10ZW1wbGF0ZVwiIGlkPVwidGVtcGxhdGVJZC5odG1sXCI+XG4gKiAgICAgPHA+VGhpcyBpcyB0aGUgY29udGVudCBvZiB0aGUgdGVtcGxhdGU8L3A+XG4gKiAgIDwvc2NyaXB0PlxuICogYGBgXG4gKlxuICogKipOb3RlOioqIHRoZSBgc2NyaXB0YCB0YWcgY29udGFpbmluZyB0aGUgdGVtcGxhdGUgZG9lcyBub3QgbmVlZCB0byBiZSBpbmNsdWRlZCBpbiB0aGUgYGhlYWRgIG9mXG4gKiB0aGUgZG9jdW1lbnQsIGJ1dCBpdCBtdXN0IGJlIGEgZGVzY2VuZGVudCBvZiB0aGUge0BsaW5rIG5nLiRyb290RWxlbWVudCAkcm9vdEVsZW1lbnR9IChJRSxcbiAqIGVsZW1lbnQgd2l0aCBuZy1hcHAgYXR0cmlidXRlKSwgb3RoZXJ3aXNlIHRoZSB0ZW1wbGF0ZSB3aWxsIGJlIGlnbm9yZWQuXG4gKlxuICogQWRkaW5nIHZpYSB0aGUgYCR0ZW1wbGF0ZUNhY2hlYCBzZXJ2aWNlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgbXlBcHAgPSBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLCBbXSk7XG4gKiBteUFwcC5ydW4oZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAqICAgJHRlbXBsYXRlQ2FjaGUucHV0KCd0ZW1wbGF0ZUlkLmh0bWwnLCAnVGhpcyBpcyB0aGUgY29udGVudCBvZiB0aGUgdGVtcGxhdGUnKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogVG8gcmV0cmlldmUgdGhlIHRlbXBsYXRlIGxhdGVyLCBzaW1wbHkgdXNlIGl0IGluIHlvdXIgSFRNTDpcbiAqIGBgYGh0bWxcbiAqIDxkaXYgbmctaW5jbHVkZT1cIiAndGVtcGxhdGVJZC5odG1sJyBcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIG9yIGdldCBpdCB2aWEgSmF2YXNjcmlwdDpcbiAqIGBgYGpzXG4gKiAkdGVtcGxhdGVDYWNoZS5nZXQoJ3RlbXBsYXRlSWQuaHRtbCcpXG4gKiBgYGBcbiAqXG4gKiBTZWUge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgJGNhY2hlRmFjdG9yeX0uXG4gKlxuICovXG5mdW5jdGlvbiAkVGVtcGxhdGVDYWNoZVByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyRjYWNoZUZhY3RvcnknLCBmdW5jdGlvbigkY2FjaGVGYWN0b3J5KSB7XG4gICAgcmV0dXJuICRjYWNoZUZhY3RvcnkoJ3RlbXBsYXRlcycpO1xuICB9XTtcbn1cblxuLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKlxuICogICAgIEFueSBjb21taXRzIHRvIHRoaXMgZmlsZSBzaG91bGQgYmUgcmV2aWV3ZWQgd2l0aCBzZWN1cml0eSBpbiBtaW5kLiAgKlxuICogICBDaGFuZ2VzIHRvIHRoaXMgZmlsZSBjYW4gcG90ZW50aWFsbHkgY3JlYXRlIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcy4gKlxuICogICAgICAgICAgQW4gYXBwcm92YWwgZnJvbSAyIENvcmUgbWVtYmVycyB3aXRoIGhpc3Rvcnkgb2YgbW9kaWZ5aW5nICAgICAgKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyBmaWxlIGlzIHJlcXVpcmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICogIERvZXMgdGhlIGNoYW5nZSBzb21laG93IGFsbG93IGZvciBhcmJpdHJhcnkgamF2YXNjcmlwdCB0byBiZSBleGVjdXRlZD8gKlxuICogICAgT3IgYWxsb3dzIGZvciBzb21lb25lIHRvIGNoYW5nZSB0aGUgcHJvdG90eXBlIG9mIGJ1aWx0LWluIG9iamVjdHM/ICAgKlxuICogICAgIE9yIGdpdmVzIHVuZGVzaXJlZCBhY2Nlc3MgdG8gdmFyaWFibGVzIGxpa2VzIGRvY3VtZW50IG9yIHdpbmRvdz8gICAgKlxuICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi9cblxuLyogISBWQVJJQUJMRS9GVU5DVElPTiBOQU1JTkcgQ09OVkVOVElPTlMgVEhBVCBBUFBMWSBUTyBUSElTIEZJTEUhXG4gKlxuICogRE9NLXJlbGF0ZWQgdmFyaWFibGVzOlxuICpcbiAqIC0gXCJub2RlXCIgLSBET00gTm9kZVxuICogLSBcImVsZW1lbnRcIiAtIERPTSBFbGVtZW50IG9yIE5vZGVcbiAqIC0gXCIkbm9kZVwiIG9yIFwiJGVsZW1lbnRcIiAtIGpxTGl0ZS13cmFwcGVkIG5vZGUgb3IgZWxlbWVudFxuICpcbiAqXG4gKiBDb21waWxlciByZWxhdGVkIHN0dWZmOlxuICpcbiAqIC0gXCJsaW5rRm5cIiAtIGxpbmtpbmcgZm4gb2YgYSBzaW5nbGUgZGlyZWN0aXZlXG4gKiAtIFwibm9kZUxpbmtGblwiIC0gZnVuY3Rpb24gdGhhdCBhZ2dyZWdhdGVzIGFsbCBsaW5raW5nIGZucyBmb3IgYSBwYXJ0aWN1bGFyIG5vZGVcbiAqIC0gXCJjaGlsZExpbmtGblwiIC0gIGZ1bmN0aW9uIHRoYXQgYWdncmVnYXRlcyBhbGwgbGlua2luZyBmbnMgZm9yIGNoaWxkIG5vZGVzIG9mIGEgcGFydGljdWxhciBub2RlXG4gKiAtIFwiY29tcG9zaXRlTGlua0ZuXCIgLSBmdW5jdGlvbiB0aGF0IGFnZ3JlZ2F0ZXMgYWxsIGxpbmtpbmcgZm5zIGZvciBhIGNvbXBpbGF0aW9uIHJvb3QgKG5vZGVMaXN0KVxuICovXG5cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGNvbXBpbGVcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDb21waWxlcyBhbiBIVE1MIHN0cmluZyBvciBET00gaW50byBhIHRlbXBsYXRlIGFuZCBwcm9kdWNlcyBhIHRlbXBsYXRlIGZ1bmN0aW9uLCB3aGljaFxuICogY2FuIHRoZW4gYmUgdXNlZCB0byBsaW5rIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIGBzY29wZWB9IGFuZCB0aGUgdGVtcGxhdGUgdG9nZXRoZXIuXG4gKlxuICogVGhlIGNvbXBpbGF0aW9uIGlzIGEgcHJvY2VzcyBvZiB3YWxraW5nIHRoZSBET00gdHJlZSBhbmQgbWF0Y2hpbmcgRE9NIGVsZW1lbnRzIHRvXG4gKiB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgZGlyZWN0aXZlc30uXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZToqKiBUaGlzIGRvY3VtZW50IGlzIGFuIGluLWRlcHRoIHJlZmVyZW5jZSBvZiBhbGwgZGlyZWN0aXZlIG9wdGlvbnMuXG4gKiBGb3IgYSBnZW50bGUgaW50cm9kdWN0aW9uIHRvIGRpcmVjdGl2ZXMgd2l0aCBleGFtcGxlcyBvZiBjb21tb24gdXNlIGNhc2VzLFxuICogc2VlIHRoZSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZSBndWlkZX0uXG4gKiA8L2Rpdj5cbiAqXG4gKiAjIyBDb21wcmVoZW5zaXZlIERpcmVjdGl2ZSBBUElcbiAqXG4gKiBUaGVyZSBhcmUgbWFueSBkaWZmZXJlbnQgb3B0aW9ucyBmb3IgYSBkaXJlY3RpdmUuXG4gKlxuICogVGhlIGRpZmZlcmVuY2UgcmVzaWRlcyBpbiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmYWN0b3J5IGZ1bmN0aW9uLlxuICogWW91IGNhbiBlaXRoZXIgcmV0dXJuIGEgXCJEaXJlY3RpdmUgRGVmaW5pdGlvbiBPYmplY3RcIiAoc2VlIGJlbG93KSB0aGF0IGRlZmluZXMgdGhlIGRpcmVjdGl2ZSBwcm9wZXJ0aWVzLFxuICogb3IganVzdCB0aGUgYHBvc3RMaW5rYCBmdW5jdGlvbiAoYWxsIG90aGVyIHByb3BlcnRpZXMgd2lsbCBoYXZlIHRoZSBkZWZhdWx0IHZhbHVlcykuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj5cbiAqICoqQmVzdCBQcmFjdGljZToqKiBJdCdzIHJlY29tbWVuZGVkIHRvIHVzZSB0aGUgXCJkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3RcIiBmb3JtLlxuICogPC9kaXY+XG4gKlxuICogSGVyZSdzIGFuIGV4YW1wbGUgZGlyZWN0aXZlIGRlY2xhcmVkIHdpdGggYSBEaXJlY3RpdmUgRGVmaW5pdGlvbiBPYmplY3Q6XG4gKlxuICogYGBganNcbiAqICAgdmFyIG15TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoLi4uKTtcbiAqXG4gKiAgIG15TW9kdWxlLmRpcmVjdGl2ZSgnZGlyZWN0aXZlTmFtZScsIGZ1bmN0aW9uIGZhY3RvcnkoaW5qZWN0YWJsZXMpIHtcbiAqICAgICB2YXIgZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdCA9IHtcbiAqICAgICAgIHByaW9yaXR5OiAwLFxuICogICAgICAgdGVtcGxhdGU6ICc8ZGl2PjwvZGl2PicsIC8vIG9yIC8vIGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHsgLi4uIH0sXG4gKiAgICAgICAvLyBvclxuICogICAgICAgLy8gdGVtcGxhdGVVcmw6ICdkaXJlY3RpdmUuaHRtbCcsIC8vIG9yIC8vIGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHsgLi4uIH0sXG4gKiAgICAgICB0cmFuc2NsdWRlOiBmYWxzZSxcbiAqICAgICAgIHJlc3RyaWN0OiAnQScsXG4gKiAgICAgICB0ZW1wbGF0ZU5hbWVzcGFjZTogJ2h0bWwnLFxuICogICAgICAgc2NvcGU6IGZhbHNlLFxuICogICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCAkdHJhbnNjbHVkZSwgb3RoZXJJbmplY3RhYmxlcykgeyAuLi4gfSxcbiAqICAgICAgIGNvbnRyb2xsZXJBczogJ3N0cmluZ0lkZW50aWZpZXInLFxuICogICAgICAgYmluZFRvQ29udHJvbGxlcjogZmFsc2UsXG4gKiAgICAgICByZXF1aXJlOiAnc2libGluZ0RpcmVjdGl2ZU5hbWUnLCAvLyBvciAvLyBbJ15wYXJlbnREaXJlY3RpdmVOYW1lJywgJz9vcHRpb25hbERpcmVjdGl2ZU5hbWUnLCAnP15vcHRpb25hbFBhcmVudCddLFxuICogICAgICAgY29tcGlsZTogZnVuY3Rpb24gY29tcGlsZSh0RWxlbWVudCwgdEF0dHJzLCB0cmFuc2NsdWRlKSB7XG4gKiAgICAgICAgIHJldHVybiB7XG4gKiAgICAgICAgICAgcHJlOiBmdW5jdGlvbiBwcmVMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyKSB7IC4uLiB9LFxuICogICAgICAgICAgIHBvc3Q6IGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyKSB7IC4uLiB9XG4gKiAgICAgICAgIH1cbiAqICAgICAgICAgLy8gb3JcbiAqICAgICAgICAgLy8gcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKCAuLi4gKSB7IC4uLiB9XG4gKiAgICAgICB9LFxuICogICAgICAgLy8gb3JcbiAqICAgICAgIC8vIGxpbms6IHtcbiAqICAgICAgIC8vICBwcmU6IGZ1bmN0aW9uIHByZUxpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMsIGNvbnRyb2xsZXIpIHsgLi4uIH0sXG4gKiAgICAgICAvLyAgcG9zdDogZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMsIGNvbnRyb2xsZXIpIHsgLi4uIH1cbiAqICAgICAgIC8vIH1cbiAqICAgICAgIC8vIG9yXG4gKiAgICAgICAvLyBsaW5rOiBmdW5jdGlvbiBwb3N0TGluayggLi4uICkgeyAuLi4gfVxuICogICAgIH07XG4gKiAgICAgcmV0dXJuIGRpcmVjdGl2ZURlZmluaXRpb25PYmplY3Q7XG4gKiAgIH0pO1xuICogYGBgXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZToqKiBBbnkgdW5zcGVjaWZpZWQgb3B0aW9ucyB3aWxsIHVzZSB0aGUgZGVmYXVsdCB2YWx1ZS4gWW91IGNhbiBzZWUgdGhlIGRlZmF1bHQgdmFsdWVzIGJlbG93LlxuICogPC9kaXY+XG4gKlxuICogVGhlcmVmb3JlIHRoZSBhYm92ZSBjYW4gYmUgc2ltcGxpZmllZCBhczpcbiAqXG4gKiBgYGBqc1xuICogICB2YXIgbXlNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSguLi4pO1xuICpcbiAqICAgbXlNb2R1bGUuZGlyZWN0aXZlKCdkaXJlY3RpdmVOYW1lJywgZnVuY3Rpb24gZmFjdG9yeShpbmplY3RhYmxlcykge1xuICogICAgIHZhciBkaXJlY3RpdmVEZWZpbml0aW9uT2JqZWN0ID0ge1xuICogICAgICAgbGluazogZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMpIHsgLi4uIH1cbiAqICAgICB9O1xuICogICAgIHJldHVybiBkaXJlY3RpdmVEZWZpbml0aW9uT2JqZWN0O1xuICogICAgIC8vIG9yXG4gKiAgICAgLy8gcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzKSB7IC4uLiB9XG4gKiAgIH0pO1xuICogYGBgXG4gKlxuICpcbiAqXG4gKiAjIyMgRGlyZWN0aXZlIERlZmluaXRpb24gT2JqZWN0XG4gKlxuICogVGhlIGRpcmVjdGl2ZSBkZWZpbml0aW9uIG9iamVjdCBwcm92aWRlcyBpbnN0cnVjdGlvbnMgdG8gdGhlIHtAbGluayBuZy4kY29tcGlsZVxuICogY29tcGlsZXJ9LiBUaGUgYXR0cmlidXRlcyBhcmU6XG4gKlxuICogIyMjIyBgbXVsdGlFbGVtZW50YFxuICogV2hlbiB0aGlzIHByb3BlcnR5IGlzIHNldCB0byB0cnVlLCB0aGUgSFRNTCBjb21waWxlciB3aWxsIGNvbGxlY3QgRE9NIG5vZGVzIGJldHdlZW5cbiAqIG5vZGVzIHdpdGggdGhlIGF0dHJpYnV0ZXMgYGRpcmVjdGl2ZS1uYW1lLXN0YXJ0YCBhbmQgYGRpcmVjdGl2ZS1uYW1lLWVuZGAsIGFuZCBncm91cCB0aGVtXG4gKiB0b2dldGhlciBhcyB0aGUgZGlyZWN0aXZlIGVsZW1lbnRzLiBJdCBpcyByZWNvbW1lbmRlZCB0aGF0IHRoaXMgZmVhdHVyZSBiZSB1c2VkIG9uIGRpcmVjdGl2ZXNcbiAqIHdoaWNoIGFyZSBub3Qgc3RyaWN0bHkgYmVoYXZpb3VyYWwgKHN1Y2ggYXMge0BsaW5rIG5nQ2xpY2t9KSwgYW5kIHdoaWNoXG4gKiBkbyBub3QgbWFuaXB1bGF0ZSBvciByZXBsYWNlIGNoaWxkIG5vZGVzIChzdWNoIGFzIHtAbGluayBuZ0luY2x1ZGV9KS5cbiAqXG4gKiAjIyMjIGBwcmlvcml0eWBcbiAqIFdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIGRpcmVjdGl2ZXMgZGVmaW5lZCBvbiBhIHNpbmdsZSBET00gZWxlbWVudCwgc29tZXRpbWVzIGl0XG4gKiBpcyBuZWNlc3NhcnkgdG8gc3BlY2lmeSB0aGUgb3JkZXIgaW4gd2hpY2ggdGhlIGRpcmVjdGl2ZXMgYXJlIGFwcGxpZWQuIFRoZSBgcHJpb3JpdHlgIGlzIHVzZWRcbiAqIHRvIHNvcnQgdGhlIGRpcmVjdGl2ZXMgYmVmb3JlIHRoZWlyIGBjb21waWxlYCBmdW5jdGlvbnMgZ2V0IGNhbGxlZC4gUHJpb3JpdHkgaXMgZGVmaW5lZCBhcyBhXG4gKiBudW1iZXIuIERpcmVjdGl2ZXMgd2l0aCBncmVhdGVyIG51bWVyaWNhbCBgcHJpb3JpdHlgIGFyZSBjb21waWxlZCBmaXJzdC4gUHJlLWxpbmsgZnVuY3Rpb25zXG4gKiBhcmUgYWxzbyBydW4gaW4gcHJpb3JpdHkgb3JkZXIsIGJ1dCBwb3N0LWxpbmsgZnVuY3Rpb25zIGFyZSBydW4gaW4gcmV2ZXJzZSBvcmRlci4gVGhlIG9yZGVyXG4gKiBvZiBkaXJlY3RpdmVzIHdpdGggdGhlIHNhbWUgcHJpb3JpdHkgaXMgdW5kZWZpbmVkLiBUaGUgZGVmYXVsdCBwcmlvcml0eSBpcyBgMGAuXG4gKlxuICogIyMjIyBgdGVybWluYWxgXG4gKiBJZiBzZXQgdG8gdHJ1ZSB0aGVuIHRoZSBjdXJyZW50IGBwcmlvcml0eWAgd2lsbCBiZSB0aGUgbGFzdCBzZXQgb2YgZGlyZWN0aXZlc1xuICogd2hpY2ggd2lsbCBleGVjdXRlIChhbnkgZGlyZWN0aXZlcyBhdCB0aGUgY3VycmVudCBwcmlvcml0eSB3aWxsIHN0aWxsIGV4ZWN1dGVcbiAqIGFzIHRoZSBvcmRlciBvZiBleGVjdXRpb24gb24gc2FtZSBgcHJpb3JpdHlgIGlzIHVuZGVmaW5lZCkuIE5vdGUgdGhhdCBleHByZXNzaW9uc1xuICogYW5kIG90aGVyIGRpcmVjdGl2ZXMgdXNlZCBpbiB0aGUgZGlyZWN0aXZlJ3MgdGVtcGxhdGUgd2lsbCBhbHNvIGJlIGV4Y2x1ZGVkIGZyb20gZXhlY3V0aW9uLlxuICpcbiAqICMjIyMgYHNjb3BlYFxuICogKipJZiBzZXQgdG8gYHRydWVgLCoqIHRoZW4gYSBuZXcgc2NvcGUgd2lsbCBiZSBjcmVhdGVkIGZvciB0aGlzIGRpcmVjdGl2ZS4gSWYgbXVsdGlwbGUgZGlyZWN0aXZlcyBvbiB0aGVcbiAqIHNhbWUgZWxlbWVudCByZXF1ZXN0IGEgbmV3IHNjb3BlLCBvbmx5IG9uZSBuZXcgc2NvcGUgaXMgY3JlYXRlZC4gVGhlIG5ldyBzY29wZSBydWxlIGRvZXMgbm90XG4gKiBhcHBseSBmb3IgdGhlIHJvb3Qgb2YgdGhlIHRlbXBsYXRlIHNpbmNlIHRoZSByb290IG9mIHRoZSB0ZW1wbGF0ZSBhbHdheXMgZ2V0cyBhIG5ldyBzY29wZS5cbiAqXG4gKiAqKklmIHNldCB0byBge31gIChvYmplY3QgaGFzaCksKiogdGhlbiBhIG5ldyBcImlzb2xhdGVcIiBzY29wZSBpcyBjcmVhdGVkLiBUaGUgJ2lzb2xhdGUnIHNjb3BlIGRpZmZlcnMgZnJvbVxuICogbm9ybWFsIHNjb3BlIGluIHRoYXQgaXQgZG9lcyBub3QgcHJvdG90eXBpY2FsbHkgaW5oZXJpdCBmcm9tIHRoZSBwYXJlbnQgc2NvcGUuIFRoaXMgaXMgdXNlZnVsXG4gKiB3aGVuIGNyZWF0aW5nIHJldXNhYmxlIGNvbXBvbmVudHMsIHdoaWNoIHNob3VsZCBub3QgYWNjaWRlbnRhbGx5IHJlYWQgb3IgbW9kaWZ5IGRhdGEgaW4gdGhlXG4gKiBwYXJlbnQgc2NvcGUuXG4gKlxuICogVGhlICdpc29sYXRlJyBzY29wZSB0YWtlcyBhbiBvYmplY3QgaGFzaCB3aGljaCBkZWZpbmVzIGEgc2V0IG9mIGxvY2FsIHNjb3BlIHByb3BlcnRpZXNcbiAqIGRlcml2ZWQgZnJvbSB0aGUgcGFyZW50IHNjb3BlLiBUaGVzZSBsb2NhbCBwcm9wZXJ0aWVzIGFyZSB1c2VmdWwgZm9yIGFsaWFzaW5nIHZhbHVlcyBmb3JcbiAqIHRlbXBsYXRlcy4gTG9jYWxzIGRlZmluaXRpb24gaXMgYSBoYXNoIG9mIGxvY2FsIHNjb3BlIHByb3BlcnR5IHRvIGl0cyBzb3VyY2U6XG4gKlxuICogKiBgQGAgb3IgYEBhdHRyYCAtIGJpbmQgYSBsb2NhbCBzY29wZSBwcm9wZXJ0eSB0byB0aGUgdmFsdWUgb2YgRE9NIGF0dHJpYnV0ZS4gVGhlIHJlc3VsdCBpc1xuICogICBhbHdheXMgYSBzdHJpbmcgc2luY2UgRE9NIGF0dHJpYnV0ZXMgYXJlIHN0cmluZ3MuIElmIG5vIGBhdHRyYCBuYW1lIGlzIHNwZWNpZmllZCAgdGhlbiB0aGVcbiAqICAgYXR0cmlidXRlIG5hbWUgaXMgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgbG9jYWwgbmFtZS5cbiAqICAgR2l2ZW4gYDx3aWRnZXQgbXktYXR0cj1cImhlbGxvIHt7bmFtZX19XCI+YCBhbmQgd2lkZ2V0IGRlZmluaXRpb25cbiAqICAgb2YgYHNjb3BlOiB7IGxvY2FsTmFtZTonQG15QXR0cicgfWAsIHRoZW4gd2lkZ2V0IHNjb3BlIHByb3BlcnR5IGBsb2NhbE5hbWVgIHdpbGwgcmVmbGVjdFxuICogICB0aGUgaW50ZXJwb2xhdGVkIHZhbHVlIG9mIGBoZWxsbyB7e25hbWV9fWAuIEFzIHRoZSBgbmFtZWAgYXR0cmlidXRlIGNoYW5nZXMgc28gd2lsbCB0aGVcbiAqICAgYGxvY2FsTmFtZWAgcHJvcGVydHkgb24gdGhlIHdpZGdldCBzY29wZS4gVGhlIGBuYW1lYCBpcyByZWFkIGZyb20gdGhlIHBhcmVudCBzY29wZSAobm90XG4gKiAgIGNvbXBvbmVudCBzY29wZSkuXG4gKlxuICogKiBgPWAgb3IgYD1hdHRyYCAtIHNldCB1cCBiaS1kaXJlY3Rpb25hbCBiaW5kaW5nIGJldHdlZW4gYSBsb2NhbCBzY29wZSBwcm9wZXJ0eSBhbmQgdGhlXG4gKiAgIHBhcmVudCBzY29wZSBwcm9wZXJ0eSBvZiBuYW1lIGRlZmluZWQgdmlhIHRoZSB2YWx1ZSBvZiB0aGUgYGF0dHJgIGF0dHJpYnV0ZS4gSWYgbm8gYGF0dHJgXG4gKiAgIG5hbWUgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGF0dHJpYnV0ZSBuYW1lIGlzIGFzc3VtZWQgdG8gYmUgdGhlIHNhbWUgYXMgdGhlIGxvY2FsIG5hbWUuXG4gKiAgIEdpdmVuIGA8d2lkZ2V0IG15LWF0dHI9XCJwYXJlbnRNb2RlbFwiPmAgYW5kIHdpZGdldCBkZWZpbml0aW9uIG9mXG4gKiAgIGBzY29wZTogeyBsb2NhbE1vZGVsOic9bXlBdHRyJyB9YCwgdGhlbiB3aWRnZXQgc2NvcGUgcHJvcGVydHkgYGxvY2FsTW9kZWxgIHdpbGwgcmVmbGVjdCB0aGVcbiAqICAgdmFsdWUgb2YgYHBhcmVudE1vZGVsYCBvbiB0aGUgcGFyZW50IHNjb3BlLiBBbnkgY2hhbmdlcyB0byBgcGFyZW50TW9kZWxgIHdpbGwgYmUgcmVmbGVjdGVkXG4gKiAgIGluIGBsb2NhbE1vZGVsYCBhbmQgYW55IGNoYW5nZXMgaW4gYGxvY2FsTW9kZWxgIHdpbGwgcmVmbGVjdCBpbiBgcGFyZW50TW9kZWxgLiBJZiB0aGUgcGFyZW50XG4gKiAgIHNjb3BlIHByb3BlcnR5IGRvZXNuJ3QgZXhpc3QsIGl0IHdpbGwgdGhyb3cgYSBOT05fQVNTSUdOQUJMRV9NT0RFTF9FWFBSRVNTSU9OIGV4Y2VwdGlvbi4gWW91XG4gKiAgIGNhbiBhdm9pZCB0aGlzIGJlaGF2aW9yIHVzaW5nIGA9P2Agb3IgYD0/YXR0cmAgaW4gb3JkZXIgdG8gZmxhZyB0aGUgcHJvcGVydHkgYXMgb3B0aW9uYWwuIElmXG4gKiAgIHlvdSB3YW50IHRvIHNoYWxsb3cgd2F0Y2ggZm9yIGNoYW5nZXMgKGkuZS4gJHdhdGNoQ29sbGVjdGlvbiBpbnN0ZWFkIG9mICR3YXRjaCkgeW91IGNhbiB1c2VcbiAqICAgYD0qYCBvciBgPSphdHRyYCAoYD0qP2Agb3IgYD0qP2F0dHJgIGlmIHRoZSBwcm9wZXJ0eSBpcyBvcHRpb25hbCkuXG4gKlxuICogKiBgJmAgb3IgYCZhdHRyYCAtIHByb3ZpZGVzIGEgd2F5IHRvIGV4ZWN1dGUgYW4gZXhwcmVzc2lvbiBpbiB0aGUgY29udGV4dCBvZiB0aGUgcGFyZW50IHNjb3BlLlxuICogICBJZiBubyBgYXR0cmAgbmFtZSBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgYXR0cmlidXRlIG5hbWUgaXMgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBhcyB0aGVcbiAqICAgbG9jYWwgbmFtZS4gR2l2ZW4gYDx3aWRnZXQgbXktYXR0cj1cImNvdW50ID0gY291bnQgKyB2YWx1ZVwiPmAgYW5kIHdpZGdldCBkZWZpbml0aW9uIG9mXG4gKiAgIGBzY29wZTogeyBsb2NhbEZuOicmbXlBdHRyJyB9YCwgdGhlbiBpc29sYXRlIHNjb3BlIHByb3BlcnR5IGBsb2NhbEZuYCB3aWxsIHBvaW50IHRvXG4gKiAgIGEgZnVuY3Rpb24gd3JhcHBlciBmb3IgdGhlIGBjb3VudCA9IGNvdW50ICsgdmFsdWVgIGV4cHJlc3Npb24uIE9mdGVuIGl0J3MgZGVzaXJhYmxlIHRvXG4gKiAgIHBhc3MgZGF0YSBmcm9tIHRoZSBpc29sYXRlZCBzY29wZSB2aWEgYW4gZXhwcmVzc2lvbiB0byB0aGUgcGFyZW50IHNjb3BlLCB0aGlzIGNhbiBiZVxuICogICBkb25lIGJ5IHBhc3NpbmcgYSBtYXAgb2YgbG9jYWwgdmFyaWFibGUgbmFtZXMgYW5kIHZhbHVlcyBpbnRvIHRoZSBleHByZXNzaW9uIHdyYXBwZXIgZm4uXG4gKiAgIEZvciBleGFtcGxlLCBpZiB0aGUgZXhwcmVzc2lvbiBpcyBgaW5jcmVtZW50KGFtb3VudClgIHRoZW4gd2UgY2FuIHNwZWNpZnkgdGhlIGFtb3VudCB2YWx1ZVxuICogICBieSBjYWxsaW5nIHRoZSBgbG9jYWxGbmAgYXMgYGxvY2FsRm4oe2Ftb3VudDogMjJ9KWAuXG4gKlxuICpcbiAqICMjIyMgYGJpbmRUb0NvbnRyb2xsZXJgXG4gKiBXaGVuIGFuIGlzb2xhdGUgc2NvcGUgaXMgdXNlZCBmb3IgYSBjb21wb25lbnQgKHNlZSBhYm92ZSksIGFuZCBgY29udHJvbGxlckFzYCBpcyB1c2VkLCBgYmluZFRvQ29udHJvbGxlcjogdHJ1ZWAgd2lsbFxuICogYWxsb3cgYSBjb21wb25lbnQgdG8gaGF2ZSBpdHMgcHJvcGVydGllcyBib3VuZCB0byB0aGUgY29udHJvbGxlciwgcmF0aGVyIHRoYW4gdG8gc2NvcGUuIFdoZW4gdGhlIGNvbnRyb2xsZXJcbiAqIGlzIGluc3RhbnRpYXRlZCwgdGhlIGluaXRpYWwgdmFsdWVzIG9mIHRoZSBpc29sYXRlIHNjb3BlIGJpbmRpbmdzIGFyZSBhbHJlYWR5IGF2YWlsYWJsZS5cbiAqXG4gKiAjIyMjIGBjb250cm9sbGVyYFxuICogQ29udHJvbGxlciBjb25zdHJ1Y3RvciBmdW5jdGlvbi4gVGhlIGNvbnRyb2xsZXIgaXMgaW5zdGFudGlhdGVkIGJlZm9yZSB0aGVcbiAqIHByZS1saW5raW5nIHBoYXNlIGFuZCBpdCBpcyBzaGFyZWQgd2l0aCBvdGhlciBkaXJlY3RpdmVzIChzZWVcbiAqIGByZXF1aXJlYCBhdHRyaWJ1dGUpLiBUaGlzIGFsbG93cyB0aGUgZGlyZWN0aXZlcyB0byBjb21tdW5pY2F0ZSB3aXRoIGVhY2ggb3RoZXIgYW5kIGF1Z21lbnRcbiAqIGVhY2ggb3RoZXIncyBiZWhhdmlvci4gVGhlIGNvbnRyb2xsZXIgaXMgaW5qZWN0YWJsZSAoYW5kIHN1cHBvcnRzIGJyYWNrZXQgbm90YXRpb24pIHdpdGggdGhlIGZvbGxvd2luZyBsb2NhbHM6XG4gKlxuICogKiBgJHNjb3BlYCAtIEN1cnJlbnQgc2NvcGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBlbGVtZW50XG4gKiAqIGAkZWxlbWVudGAgLSBDdXJyZW50IGVsZW1lbnRcbiAqICogYCRhdHRyc2AgLSBDdXJyZW50IGF0dHJpYnV0ZXMgb2JqZWN0IGZvciB0aGUgZWxlbWVudFxuICogKiBgJHRyYW5zY2x1ZGVgIC0gQSB0cmFuc2NsdWRlIGxpbmtpbmcgZnVuY3Rpb24gcHJlLWJvdW5kIHRvIHRoZSBjb3JyZWN0IHRyYW5zY2x1c2lvbiBzY29wZTpcbiAqICAgYGZ1bmN0aW9uKFtzY29wZV0sIGNsb25lTGlua2luZ0ZuLCBmdXR1cmVQYXJlbnRFbGVtZW50KWAuXG4gKiAgICAqIGBzY29wZWA6IG9wdGlvbmFsIGFyZ3VtZW50IHRvIG92ZXJyaWRlIHRoZSBzY29wZS5cbiAqICAgICogYGNsb25lTGlua2luZ0ZuYDogb3B0aW9uYWwgYXJndW1lbnQgdG8gY3JlYXRlIGNsb25lcyBvZiB0aGUgb3JpZ2luYWwgdHJhbnNjbHVkZWQgY29udGVudC5cbiAqICAgICogYGZ1dHVyZVBhcmVudEVsZW1lbnRgOlxuICogICAgICAgICogZGVmaW5lcyB0aGUgcGFyZW50IHRvIHdoaWNoIHRoZSBgY2xvbmVMaW5raW5nRm5gIHdpbGwgYWRkIHRoZSBjbG9uZWQgZWxlbWVudHMuXG4gKiAgICAgICAgKiBkZWZhdWx0OiBgJGVsZW1lbnQucGFyZW50KClgIHJlc3AuIGAkZWxlbWVudGAgZm9yIGB0cmFuc2NsdWRlOidlbGVtZW50J2AgcmVzcC4gYHRyYW5zY2x1ZGU6dHJ1ZWAuXG4gKiAgICAgICAgKiBvbmx5IG5lZWRlZCBmb3IgdHJhbnNjbHVkZXMgdGhhdCBhcmUgYWxsb3dlZCB0byBjb250YWluIG5vbiBodG1sIGVsZW1lbnRzIChlLmcuIFNWRyBlbGVtZW50cylcbiAqICAgICAgICAgIGFuZCB3aGVuIHRoZSBgY2xvbmVMaW5raW5GbmAgaXMgcGFzc2VkLFxuICogICAgICAgICAgYXMgdGhvc2UgZWxlbWVudHMgbmVlZCB0byBjcmVhdGVkIGFuZCBjbG9uZWQgaW4gYSBzcGVjaWFsIHdheSB3aGVuIHRoZXkgYXJlIGRlZmluZWQgb3V0c2lkZSB0aGVpclxuICogICAgICAgICAgdXN1YWwgY29udGFpbmVycyAoZS5nLiBsaWtlIGA8c3ZnPmApLlxuICogICAgICAgICogU2VlIGFsc28gdGhlIGBkaXJlY3RpdmUudGVtcGxhdGVOYW1lc3BhY2VgIHByb3BlcnR5LlxuICpcbiAqXG4gKiAjIyMjIGByZXF1aXJlYFxuICogUmVxdWlyZSBhbm90aGVyIGRpcmVjdGl2ZSBhbmQgaW5qZWN0IGl0cyBjb250cm9sbGVyIGFzIHRoZSBmb3VydGggYXJndW1lbnQgdG8gdGhlIGxpbmtpbmcgZnVuY3Rpb24uIFRoZVxuICogYHJlcXVpcmVgIHRha2VzIGEgc3RyaW5nIG5hbWUgKG9yIGFycmF5IG9mIHN0cmluZ3MpIG9mIHRoZSBkaXJlY3RpdmUocykgdG8gcGFzcyBpbi4gSWYgYW4gYXJyYXkgaXMgdXNlZCwgdGhlXG4gKiBpbmplY3RlZCBhcmd1bWVudCB3aWxsIGJlIGFuIGFycmF5IGluIGNvcnJlc3BvbmRpbmcgb3JkZXIuIElmIG5vIHN1Y2ggZGlyZWN0aXZlIGNhbiBiZVxuICogZm91bmQsIG9yIGlmIHRoZSBkaXJlY3RpdmUgZG9lcyBub3QgaGF2ZSBhIGNvbnRyb2xsZXIsIHRoZW4gYW4gZXJyb3IgaXMgcmFpc2VkICh1bmxlc3Mgbm8gbGluayBmdW5jdGlvblxuICogaXMgc3BlY2lmaWVkLCBpbiB3aGljaCBjYXNlIGVycm9yIGNoZWNraW5nIGlzIHNraXBwZWQpLiBUaGUgbmFtZSBjYW4gYmUgcHJlZml4ZWQgd2l0aDpcbiAqXG4gKiAqIChubyBwcmVmaXgpIC0gTG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIG9uIHRoZSBjdXJyZW50IGVsZW1lbnQuIFRocm93IGFuIGVycm9yIGlmIG5vdCBmb3VuZC5cbiAqICogYD9gIC0gQXR0ZW1wdCB0byBsb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgb3IgcGFzcyBgbnVsbGAgdG8gdGhlIGBsaW5rYCBmbiBpZiBub3QgZm91bmQuXG4gKiAqIGBeYCAtIExvY2F0ZSB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBieSBzZWFyY2hpbmcgdGhlIGVsZW1lbnQgYW5kIGl0cyBwYXJlbnRzLiBUaHJvdyBhbiBlcnJvciBpZiBub3QgZm91bmQuXG4gKiAqIGBeXmAgLSBMb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50J3MgcGFyZW50cy4gVGhyb3cgYW4gZXJyb3IgaWYgbm90IGZvdW5kLlxuICogKiBgP15gIC0gQXR0ZW1wdCB0byBsb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50IGFuZCBpdHMgcGFyZW50cyBvciBwYXNzXG4gKiAgIGBudWxsYCB0byB0aGUgYGxpbmtgIGZuIGlmIG5vdCBmb3VuZC5cbiAqICogYD9eXmAgLSBBdHRlbXB0IHRvIGxvY2F0ZSB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBieSBzZWFyY2hpbmcgdGhlIGVsZW1lbnQncyBwYXJlbnRzLCBvciBwYXNzXG4gKiAgIGBudWxsYCB0byB0aGUgYGxpbmtgIGZuIGlmIG5vdCBmb3VuZC5cbiAqXG4gKlxuICogIyMjIyBgY29udHJvbGxlckFzYFxuICogSWRlbnRpZmllciBuYW1lIGZvciBhIHJlZmVyZW5jZSB0byB0aGUgY29udHJvbGxlciBpbiB0aGUgZGlyZWN0aXZlJ3Mgc2NvcGUuXG4gKiBUaGlzIGFsbG93cyB0aGUgY29udHJvbGxlciB0byBiZSByZWZlcmVuY2VkIGZyb20gdGhlIGRpcmVjdGl2ZSB0ZW1wbGF0ZS4gVGhlIGRpcmVjdGl2ZVxuICogbmVlZHMgdG8gZGVmaW5lIGEgc2NvcGUgZm9yIHRoaXMgY29uZmlndXJhdGlvbiB0byBiZSB1c2VkLiBVc2VmdWwgaW4gdGhlIGNhc2Ugd2hlblxuICogZGlyZWN0aXZlIGlzIHVzZWQgYXMgY29tcG9uZW50LlxuICpcbiAqXG4gKiAjIyMjIGByZXN0cmljdGBcbiAqIFN0cmluZyBvZiBzdWJzZXQgb2YgYEVBQ01gIHdoaWNoIHJlc3RyaWN0cyB0aGUgZGlyZWN0aXZlIHRvIGEgc3BlY2lmaWMgZGlyZWN0aXZlXG4gKiBkZWNsYXJhdGlvbiBzdHlsZS4gSWYgb21pdHRlZCwgdGhlIGRlZmF1bHRzIChlbGVtZW50cyBhbmQgYXR0cmlidXRlcykgYXJlIHVzZWQuXG4gKlxuICogKiBgRWAgLSBFbGVtZW50IG5hbWUgKGRlZmF1bHQpOiBgPG15LWRpcmVjdGl2ZT48L215LWRpcmVjdGl2ZT5gXG4gKiAqIGBBYCAtIEF0dHJpYnV0ZSAoZGVmYXVsdCk6IGA8ZGl2IG15LWRpcmVjdGl2ZT1cImV4cFwiPjwvZGl2PmBcbiAqICogYENgIC0gQ2xhc3M6IGA8ZGl2IGNsYXNzPVwibXktZGlyZWN0aXZlOiBleHA7XCI+PC9kaXY+YFxuICogKiBgTWAgLSBDb21tZW50OiBgPCEtLSBkaXJlY3RpdmU6IG15LWRpcmVjdGl2ZSBleHAgLS0+YFxuICpcbiAqXG4gKiAjIyMjIGB0ZW1wbGF0ZU5hbWVzcGFjZWBcbiAqIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIGRvY3VtZW50IHR5cGUgdXNlZCBieSB0aGUgbWFya3VwIGluIHRoZSB0ZW1wbGF0ZS5cbiAqIEFuZ3VsYXJKUyBuZWVkcyB0aGlzIGluZm9ybWF0aW9uIGFzIHRob3NlIGVsZW1lbnRzIG5lZWQgdG8gYmUgY3JlYXRlZCBhbmQgY2xvbmVkXG4gKiBpbiBhIHNwZWNpYWwgd2F5IHdoZW4gdGhleSBhcmUgZGVmaW5lZCBvdXRzaWRlIHRoZWlyIHVzdWFsIGNvbnRhaW5lcnMgbGlrZSBgPHN2Zz5gIGFuZCBgPG1hdGg+YC5cbiAqXG4gKiAqIGBodG1sYCAtIEFsbCByb290IG5vZGVzIGluIHRoZSB0ZW1wbGF0ZSBhcmUgSFRNTC4gUm9vdCBub2RlcyBtYXkgYWxzbyBiZVxuICogICB0b3AtbGV2ZWwgZWxlbWVudHMgc3VjaCBhcyBgPHN2Zz5gIG9yIGA8bWF0aD5gLlxuICogKiBgc3ZnYCAtIFRoZSByb290IG5vZGVzIGluIHRoZSB0ZW1wbGF0ZSBhcmUgU1ZHIGVsZW1lbnRzIChleGNsdWRpbmcgYDxtYXRoPmApLlxuICogKiBgbWF0aGAgLSBUaGUgcm9vdCBub2RlcyBpbiB0aGUgdGVtcGxhdGUgYXJlIE1hdGhNTCBlbGVtZW50cyAoZXhjbHVkaW5nIGA8c3ZnPmApLlxuICpcbiAqIElmIG5vIGB0ZW1wbGF0ZU5hbWVzcGFjZWAgaXMgc3BlY2lmaWVkLCB0aGVuIHRoZSBuYW1lc3BhY2UgaXMgY29uc2lkZXJlZCB0byBiZSBgaHRtbGAuXG4gKlxuICogIyMjIyBgdGVtcGxhdGVgXG4gKiBIVE1MIG1hcmt1cCB0aGF0IG1heTpcbiAqICogUmVwbGFjZSB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQgKGRlZmF1bHQpLlxuICogKiBSZXBsYWNlIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IGl0c2VsZiAoaWYgYHJlcGxhY2VgIGlzIHRydWUgLSBERVBSRUNBVEVEKS5cbiAqICogV3JhcCB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQgKGlmIGB0cmFuc2NsdWRlYCBpcyB0cnVlKS5cbiAqXG4gKiBWYWx1ZSBtYXkgYmU6XG4gKlxuICogKiBBIHN0cmluZy4gRm9yIGV4YW1wbGUgYDxkaXYgcmVkLW9uLWhvdmVyPnt7ZGVsZXRlX3N0cn19PC9kaXY+YC5cbiAqICogQSBmdW5jdGlvbiB3aGljaCB0YWtlcyB0d28gYXJndW1lbnRzIGB0RWxlbWVudGAgYW5kIGB0QXR0cnNgIChkZXNjcmliZWQgaW4gdGhlIGBjb21waWxlYFxuICogICBmdW5jdGlvbiBhcGkgYmVsb3cpIGFuZCByZXR1cm5zIGEgc3RyaW5nIHZhbHVlLlxuICpcbiAqXG4gKiAjIyMjIGB0ZW1wbGF0ZVVybGBcbiAqIFRoaXMgaXMgc2ltaWxhciB0byBgdGVtcGxhdGVgIGJ1dCB0aGUgdGVtcGxhdGUgaXMgbG9hZGVkIGZyb20gdGhlIHNwZWNpZmllZCBVUkwsIGFzeW5jaHJvbm91c2x5LlxuICpcbiAqIEJlY2F1c2UgdGVtcGxhdGUgbG9hZGluZyBpcyBhc3luY2hyb25vdXMgdGhlIGNvbXBpbGVyIHdpbGwgc3VzcGVuZCBjb21waWxhdGlvbiBvZiBkaXJlY3RpdmVzIG9uIHRoYXQgZWxlbWVudFxuICogZm9yIGxhdGVyIHdoZW4gdGhlIHRlbXBsYXRlIGhhcyBiZWVuIHJlc29sdmVkLiAgSW4gdGhlIG1lYW50aW1lIGl0IHdpbGwgY29udGludWUgdG8gY29tcGlsZSBhbmQgbGlua1xuICogc2libGluZyBhbmQgcGFyZW50IGVsZW1lbnRzIGFzIHRob3VnaCB0aGlzIGVsZW1lbnQgaGFkIG5vdCBjb250YWluZWQgYW55IGRpcmVjdGl2ZXMuXG4gKlxuICogVGhlIGNvbXBpbGVyIGRvZXMgbm90IHN1c3BlbmQgdGhlIGVudGlyZSBjb21waWxhdGlvbiB0byB3YWl0IGZvciB0ZW1wbGF0ZXMgdG8gYmUgbG9hZGVkIGJlY2F1c2UgdGhpc1xuICogd291bGQgcmVzdWx0IGluIHRoZSB3aG9sZSBhcHAgXCJzdGFsbGluZ1wiIHVudGlsIGFsbCB0ZW1wbGF0ZXMgYXJlIGxvYWRlZCBhc3luY2hyb25vdXNseSAtIGV2ZW4gaW4gdGhlXG4gKiBjYXNlIHdoZW4gb25seSBvbmUgZGVlcGx5IG5lc3RlZCBkaXJlY3RpdmUgaGFzIGB0ZW1wbGF0ZVVybGAuXG4gKlxuICogVGVtcGxhdGUgbG9hZGluZyBpcyBhc3luY2hyb25vdXMgZXZlbiBpZiB0aGUgdGVtcGxhdGUgaGFzIGJlZW4gcHJlbG9hZGVkIGludG8gdGhlIHtAbGluayAkdGVtcGxhdGVDYWNoZX1cbiAqXG4gKiBZb3UgY2FuIHNwZWNpZnkgYHRlbXBsYXRlVXJsYCBhcyBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIFVSTCBvciBhcyBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzIHR3b1xuICogYXJndW1lbnRzIGB0RWxlbWVudGAgYW5kIGB0QXR0cnNgIChkZXNjcmliZWQgaW4gdGhlIGBjb21waWxlYCBmdW5jdGlvbiBhcGkgYmVsb3cpIGFuZCByZXR1cm5zXG4gKiBhIHN0cmluZyB2YWx1ZSByZXByZXNlbnRpbmcgdGhlIHVybC4gIEluIGVpdGhlciBjYXNlLCB0aGUgdGVtcGxhdGUgVVJMIGlzIHBhc3NlZCB0aHJvdWdoIHtAbGlua1xuICogJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmwgJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmx9LlxuICpcbiAqXG4gKiAjIyMjIGByZXBsYWNlYCAoWypERVBSRUNBVEVEKiFdLCB3aWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciByZWxlYXNlIC0gaS5lLiB2Mi4wKVxuICogc3BlY2lmeSB3aGF0IHRoZSB0ZW1wbGF0ZSBzaG91bGQgcmVwbGFjZS4gRGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAqXG4gKiAqIGB0cnVlYCAtIHRoZSB0ZW1wbGF0ZSB3aWxsIHJlcGxhY2UgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQuXG4gKiAqIGBmYWxzZWAgLSB0aGUgdGVtcGxhdGUgd2lsbCByZXBsYWNlIHRoZSBjb250ZW50cyBvZiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudC5cbiAqXG4gKiBUaGUgcmVwbGFjZW1lbnQgcHJvY2VzcyBtaWdyYXRlcyBhbGwgb2YgdGhlIGF0dHJpYnV0ZXMgLyBjbGFzc2VzIGZyb20gdGhlIG9sZCBlbGVtZW50IHRvIHRoZSBuZXdcbiAqIG9uZS4gU2VlIHRoZSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI3RlbXBsYXRlLWV4cGFuZGluZy1kaXJlY3RpdmVcbiAqIERpcmVjdGl2ZXMgR3VpZGV9IGZvciBhbiBleGFtcGxlLlxuICpcbiAqIFRoZXJlIGFyZSB2ZXJ5IGZldyBzY2VuYXJpb3Mgd2hlcmUgZWxlbWVudCByZXBsYWNlbWVudCBpcyByZXF1aXJlZCBmb3IgdGhlIGFwcGxpY2F0aW9uIGZ1bmN0aW9uLFxuICogdGhlIG1haW4gb25lIGJlaW5nIHJldXNhYmxlIGN1c3RvbSBjb21wb25lbnRzIHRoYXQgYXJlIHVzZWQgd2l0aGluIFNWRyBjb250ZXh0c1xuICogKGJlY2F1c2UgU1ZHIGRvZXNuJ3Qgd29yayB3aXRoIGN1c3RvbSBlbGVtZW50cyBpbiB0aGUgRE9NIHRyZWUpLlxuICpcbiAqICMjIyMgYHRyYW5zY2x1ZGVgXG4gKiBFeHRyYWN0IHRoZSBjb250ZW50cyBvZiB0aGUgZWxlbWVudCB3aGVyZSB0aGUgZGlyZWN0aXZlIGFwcGVhcnMgYW5kIG1ha2UgaXQgYXZhaWxhYmxlIHRvIHRoZSBkaXJlY3RpdmUuXG4gKiBUaGUgY29udGVudHMgYXJlIGNvbXBpbGVkIGFuZCBwcm92aWRlZCB0byB0aGUgZGlyZWN0aXZlIGFzIGEgKip0cmFuc2NsdXNpb24gZnVuY3Rpb24qKi4gU2VlIHRoZVxuICoge0BsaW5rICRjb21waWxlI3RyYW5zY2x1c2lvbiBUcmFuc2NsdXNpb259IHNlY3Rpb24gYmVsb3cuXG4gKlxuICogVGhlcmUgYXJlIHR3byBraW5kcyBvZiB0cmFuc2NsdXNpb24gZGVwZW5kaW5nIHVwb24gd2hldGhlciB5b3Ugd2FudCB0byB0cmFuc2NsdWRlIGp1c3QgdGhlIGNvbnRlbnRzIG9mIHRoZVxuICogZGlyZWN0aXZlJ3MgZWxlbWVudCBvciB0aGUgZW50aXJlIGVsZW1lbnQ6XG4gKlxuICogKiBgdHJ1ZWAgLSB0cmFuc2NsdWRlIHRoZSBjb250ZW50IChpLmUuIHRoZSBjaGlsZCBub2Rlcykgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQuXG4gKiAqIGAnZWxlbWVudCdgIC0gdHJhbnNjbHVkZSB0aGUgd2hvbGUgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQgaW5jbHVkaW5nIGFueSBkaXJlY3RpdmVzIG9uIHRoaXNcbiAqICAgZWxlbWVudCB0aGF0IGRlZmluZWQgYXQgYSBsb3dlciBwcmlvcml0eSB0aGFuIHRoaXMgZGlyZWN0aXZlLiBXaGVuIHVzZWQsIHRoZSBgdGVtcGxhdGVgXG4gKiAgIHByb3BlcnR5IGlzIGlnbm9yZWQuXG4gKlxuICpcbiAqICMjIyMgYGNvbXBpbGVgXG4gKlxuICogYGBganNcbiAqICAgZnVuY3Rpb24gY29tcGlsZSh0RWxlbWVudCwgdEF0dHJzLCB0cmFuc2NsdWRlKSB7IC4uLiB9XG4gKiBgYGBcbiAqXG4gKiBUaGUgY29tcGlsZSBmdW5jdGlvbiBkZWFscyB3aXRoIHRyYW5zZm9ybWluZyB0aGUgdGVtcGxhdGUgRE9NLiBTaW5jZSBtb3N0IGRpcmVjdGl2ZXMgZG8gbm90IGRvXG4gKiB0ZW1wbGF0ZSB0cmFuc2Zvcm1hdGlvbiwgaXQgaXMgbm90IHVzZWQgb2Z0ZW4uIFRoZSBjb21waWxlIGZ1bmN0aW9uIHRha2VzIHRoZSBmb2xsb3dpbmcgYXJndW1lbnRzOlxuICpcbiAqICAgKiBgdEVsZW1lbnRgIC0gdGVtcGxhdGUgZWxlbWVudCAtIFRoZSBlbGVtZW50IHdoZXJlIHRoZSBkaXJlY3RpdmUgaGFzIGJlZW4gZGVjbGFyZWQuIEl0IGlzXG4gKiAgICAgc2FmZSB0byBkbyB0ZW1wbGF0ZSB0cmFuc2Zvcm1hdGlvbiBvbiB0aGUgZWxlbWVudCBhbmQgY2hpbGQgZWxlbWVudHMgb25seS5cbiAqXG4gKiAgICogYHRBdHRyc2AgLSB0ZW1wbGF0ZSBhdHRyaWJ1dGVzIC0gTm9ybWFsaXplZCBsaXN0IG9mIGF0dHJpYnV0ZXMgZGVjbGFyZWQgb24gdGhpcyBlbGVtZW50IHNoYXJlZFxuICogICAgIGJldHdlZW4gYWxsIGRpcmVjdGl2ZSBjb21waWxlIGZ1bmN0aW9ucy5cbiAqXG4gKiAgICogYHRyYW5zY2x1ZGVgIC0gIFsqREVQUkVDQVRFRCohXSBBIHRyYW5zY2x1ZGUgbGlua2luZyBmdW5jdGlvbjogYGZ1bmN0aW9uKHNjb3BlLCBjbG9uZUxpbmtpbmdGbilgXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZToqKiBUaGUgdGVtcGxhdGUgaW5zdGFuY2UgYW5kIHRoZSBsaW5rIGluc3RhbmNlIG1heSBiZSBkaWZmZXJlbnQgb2JqZWN0cyBpZiB0aGUgdGVtcGxhdGUgaGFzXG4gKiBiZWVuIGNsb25lZC4gRm9yIHRoaXMgcmVhc29uIGl0IGlzICoqbm90Kiogc2FmZSB0byBkbyBhbnl0aGluZyBvdGhlciB0aGFuIERPTSB0cmFuc2Zvcm1hdGlvbnMgdGhhdFxuICogYXBwbHkgdG8gYWxsIGNsb25lZCBET00gbm9kZXMgd2l0aGluIHRoZSBjb21waWxlIGZ1bmN0aW9uLiBTcGVjaWZpY2FsbHksIERPTSBsaXN0ZW5lciByZWdpc3RyYXRpb25cbiAqIHNob3VsZCBiZSBkb25lIGluIGEgbGlua2luZyBmdW5jdGlvbiByYXRoZXIgdGhhbiBpbiBhIGNvbXBpbGUgZnVuY3Rpb24uXG4gKiA8L2Rpdj5cblxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZToqKiBUaGUgY29tcGlsZSBmdW5jdGlvbiBjYW5ub3QgaGFuZGxlIGRpcmVjdGl2ZXMgdGhhdCByZWN1cnNpdmVseSB1c2UgdGhlbXNlbHZlcyBpbiB0aGVpclxuICogb3duIHRlbXBsYXRlcyBvciBjb21waWxlIGZ1bmN0aW9ucy4gQ29tcGlsaW5nIHRoZXNlIGRpcmVjdGl2ZXMgcmVzdWx0cyBpbiBhbiBpbmZpbml0ZSBsb29wIGFuZCBhXG4gKiBzdGFjayBvdmVyZmxvdyBlcnJvcnMuXG4gKlxuICogVGhpcyBjYW4gYmUgYXZvaWRlZCBieSBtYW51YWxseSB1c2luZyAkY29tcGlsZSBpbiB0aGUgcG9zdExpbmsgZnVuY3Rpb24gdG8gaW1wZXJhdGl2ZWx5IGNvbXBpbGVcbiAqIGEgZGlyZWN0aXZlJ3MgdGVtcGxhdGUgaW5zdGVhZCBvZiByZWx5aW5nIG9uIGF1dG9tYXRpYyB0ZW1wbGF0ZSBjb21waWxhdGlvbiB2aWEgYHRlbXBsYXRlYCBvclxuICogYHRlbXBsYXRlVXJsYCBkZWNsYXJhdGlvbiBvciBtYW51YWwgY29tcGlsYXRpb24gaW5zaWRlIHRoZSBjb21waWxlIGZ1bmN0aW9uLlxuICogPC9kaXY+XG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPlxuICogKipOb3RlOioqIFRoZSBgdHJhbnNjbHVkZWAgZnVuY3Rpb24gdGhhdCBpcyBwYXNzZWQgdG8gdGhlIGNvbXBpbGUgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCwgYXMgaXRcbiAqICAgZS5nLiBkb2VzIG5vdCBrbm93IGFib3V0IHRoZSByaWdodCBvdXRlciBzY29wZS4gUGxlYXNlIHVzZSB0aGUgdHJhbnNjbHVkZSBmdW5jdGlvbiB0aGF0IGlzIHBhc3NlZFxuICogICB0byB0aGUgbGluayBmdW5jdGlvbiBpbnN0ZWFkLlxuICogPC9kaXY+XG5cbiAqIEEgY29tcGlsZSBmdW5jdGlvbiBjYW4gaGF2ZSBhIHJldHVybiB2YWx1ZSB3aGljaCBjYW4gYmUgZWl0aGVyIGEgZnVuY3Rpb24gb3IgYW4gb2JqZWN0LlxuICpcbiAqICogcmV0dXJuaW5nIGEgKHBvc3QtbGluaykgZnVuY3Rpb24gLSBpcyBlcXVpdmFsZW50IHRvIHJlZ2lzdGVyaW5nIHRoZSBsaW5raW5nIGZ1bmN0aW9uIHZpYSB0aGVcbiAqICAgYGxpbmtgIHByb3BlcnR5IG9mIHRoZSBjb25maWcgb2JqZWN0IHdoZW4gdGhlIGNvbXBpbGUgZnVuY3Rpb24gaXMgZW1wdHkuXG4gKlxuICogKiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggZnVuY3Rpb24ocykgcmVnaXN0ZXJlZCB2aWEgYHByZWAgYW5kIGBwb3N0YCBwcm9wZXJ0aWVzIC0gYWxsb3dzIHlvdSB0b1xuICogICBjb250cm9sIHdoZW4gYSBsaW5raW5nIGZ1bmN0aW9uIHNob3VsZCBiZSBjYWxsZWQgZHVyaW5nIHRoZSBsaW5raW5nIHBoYXNlLiBTZWUgaW5mbyBhYm91dFxuICogICBwcmUtbGlua2luZyBhbmQgcG9zdC1saW5raW5nIGZ1bmN0aW9ucyBiZWxvdy5cbiAqXG4gKlxuICogIyMjIyBgbGlua2BcbiAqIFRoaXMgcHJvcGVydHkgaXMgdXNlZCBvbmx5IGlmIHRoZSBgY29tcGlsZWAgcHJvcGVydHkgaXMgbm90IGRlZmluZWQuXG4gKlxuICogYGBganNcbiAqICAgZnVuY3Rpb24gbGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlciwgdHJhbnNjbHVkZUZuKSB7IC4uLiB9XG4gKiBgYGBcbiAqXG4gKiBUaGUgbGluayBmdW5jdGlvbiBpcyByZXNwb25zaWJsZSBmb3IgcmVnaXN0ZXJpbmcgRE9NIGxpc3RlbmVycyBhcyB3ZWxsIGFzIHVwZGF0aW5nIHRoZSBET00uIEl0IGlzXG4gKiBleGVjdXRlZCBhZnRlciB0aGUgdGVtcGxhdGUgaGFzIGJlZW4gY2xvbmVkLiBUaGlzIGlzIHdoZXJlIG1vc3Qgb2YgdGhlIGRpcmVjdGl2ZSBsb2dpYyB3aWxsIGJlXG4gKiBwdXQuXG4gKlxuICogICAqIGBzY29wZWAgLSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBTY29wZX0gLSBUaGUgc2NvcGUgdG8gYmUgdXNlZCBieSB0aGVcbiAqICAgICBkaXJlY3RpdmUgZm9yIHJlZ2lzdGVyaW5nIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCB3YXRjaGVzfS5cbiAqXG4gKiAgICogYGlFbGVtZW50YCAtIGluc3RhbmNlIGVsZW1lbnQgLSBUaGUgZWxlbWVudCB3aGVyZSB0aGUgZGlyZWN0aXZlIGlzIHRvIGJlIHVzZWQuIEl0IGlzIHNhZmUgdG9cbiAqICAgICBtYW5pcHVsYXRlIHRoZSBjaGlsZHJlbiBvZiB0aGUgZWxlbWVudCBvbmx5IGluIGBwb3N0TGlua2AgZnVuY3Rpb24gc2luY2UgdGhlIGNoaWxkcmVuIGhhdmVcbiAqICAgICBhbHJlYWR5IGJlZW4gbGlua2VkLlxuICpcbiAqICAgKiBgaUF0dHJzYCAtIGluc3RhbmNlIGF0dHJpYnV0ZXMgLSBOb3JtYWxpemVkIGxpc3Qgb2YgYXR0cmlidXRlcyBkZWNsYXJlZCBvbiB0aGlzIGVsZW1lbnQgc2hhcmVkXG4gKiAgICAgYmV0d2VlbiBhbGwgZGlyZWN0aXZlIGxpbmtpbmcgZnVuY3Rpb25zLlxuICpcbiAqICAgKiBgY29udHJvbGxlcmAgLSB0aGUgZGlyZWN0aXZlJ3MgcmVxdWlyZWQgY29udHJvbGxlciBpbnN0YW5jZShzKSAtIEluc3RhbmNlcyBhcmUgc2hhcmVkXG4gKiAgICAgYW1vbmcgYWxsIGRpcmVjdGl2ZXMsIHdoaWNoIGFsbG93cyB0aGUgZGlyZWN0aXZlcyB0byB1c2UgdGhlIGNvbnRyb2xsZXJzIGFzIGEgY29tbXVuaWNhdGlvblxuICogICAgIGNoYW5uZWwuIFRoZSBleGFjdCB2YWx1ZSBkZXBlbmRzIG9uIHRoZSBkaXJlY3RpdmUncyBgcmVxdWlyZWAgcHJvcGVydHk6XG4gKiAgICAgICAqIG5vIGNvbnRyb2xsZXIocykgcmVxdWlyZWQ6IHRoZSBkaXJlY3RpdmUncyBvd24gY29udHJvbGxlciwgb3IgYHVuZGVmaW5lZGAgaWYgaXQgZG9lc24ndCBoYXZlIG9uZVxuICogICAgICAgKiBgc3RyaW5nYDogdGhlIGNvbnRyb2xsZXIgaW5zdGFuY2VcbiAqICAgICAgICogYGFycmF5YDogYXJyYXkgb2YgY29udHJvbGxlciBpbnN0YW5jZXNcbiAqXG4gKiAgICAgSWYgYSByZXF1aXJlZCBjb250cm9sbGVyIGNhbm5vdCBiZSBmb3VuZCwgYW5kIGl0IGlzIG9wdGlvbmFsLCB0aGUgaW5zdGFuY2UgaXMgYG51bGxgLFxuICogICAgIG90aGVyd2lzZSB0aGUge0BsaW5rIGVycm9yOiRjb21waWxlOmN0cmVxIE1pc3NpbmcgUmVxdWlyZWQgQ29udHJvbGxlcn0gZXJyb3IgaXMgdGhyb3duLlxuICpcbiAqICAgICBOb3RlIHRoYXQgeW91IGNhbiBhbHNvIHJlcXVpcmUgdGhlIGRpcmVjdGl2ZSdzIG93biBjb250cm9sbGVyIC0gaXQgd2lsbCBiZSBtYWRlIGF2YWlsYWJsZSBsaWtlXG4gKiAgICAgbGlrZSBhbnkgb3RoZXIgY29udHJvbGxlci5cbiAqXG4gKiAgICogYHRyYW5zY2x1ZGVGbmAgLSBBIHRyYW5zY2x1ZGUgbGlua2luZyBmdW5jdGlvbiBwcmUtYm91bmQgdG8gdGhlIGNvcnJlY3QgdHJhbnNjbHVzaW9uIHNjb3BlLlxuICogICAgIFRoaXMgaXMgdGhlIHNhbWUgYXMgdGhlIGAkdHJhbnNjbHVkZWBcbiAqICAgICBwYXJhbWV0ZXIgb2YgZGlyZWN0aXZlIGNvbnRyb2xsZXJzLCBzZWUgdGhlcmUgZm9yIGRldGFpbHMuXG4gKiAgICAgYGZ1bmN0aW9uKFtzY29wZV0sIGNsb25lTGlua2luZ0ZuLCBmdXR1cmVQYXJlbnRFbGVtZW50KWAuXG4gKlxuICogIyMjIyBQcmUtbGlua2luZyBmdW5jdGlvblxuICpcbiAqIEV4ZWN1dGVkIGJlZm9yZSB0aGUgY2hpbGQgZWxlbWVudHMgYXJlIGxpbmtlZC4gTm90IHNhZmUgdG8gZG8gRE9NIHRyYW5zZm9ybWF0aW9uIHNpbmNlIHRoZVxuICogY29tcGlsZXIgbGlua2luZyBmdW5jdGlvbiB3aWxsIGZhaWwgdG8gbG9jYXRlIHRoZSBjb3JyZWN0IGVsZW1lbnRzIGZvciBsaW5raW5nLlxuICpcbiAqICMjIyMgUG9zdC1saW5raW5nIGZ1bmN0aW9uXG4gKlxuICogRXhlY3V0ZWQgYWZ0ZXIgdGhlIGNoaWxkIGVsZW1lbnRzIGFyZSBsaW5rZWQuXG4gKlxuICogTm90ZSB0aGF0IGNoaWxkIGVsZW1lbnRzIHRoYXQgY29udGFpbiBgdGVtcGxhdGVVcmxgIGRpcmVjdGl2ZXMgd2lsbCBub3QgaGF2ZSBiZWVuIGNvbXBpbGVkXG4gKiBhbmQgbGlua2VkIHNpbmNlIHRoZXkgYXJlIHdhaXRpbmcgZm9yIHRoZWlyIHRlbXBsYXRlIHRvIGxvYWQgYXN5bmNocm9ub3VzbHkgYW5kIHRoZWlyIG93blxuICogY29tcGlsYXRpb24gYW5kIGxpbmtpbmcgaGFzIGJlZW4gc3VzcGVuZGVkIHVudGlsIHRoYXQgb2NjdXJzLlxuICpcbiAqIEl0IGlzIHNhZmUgdG8gZG8gRE9NIHRyYW5zZm9ybWF0aW9uIGluIHRoZSBwb3N0LWxpbmtpbmcgZnVuY3Rpb24gb24gZWxlbWVudHMgdGhhdCBhcmUgbm90IHdhaXRpbmdcbiAqIGZvciB0aGVpciBhc3luYyB0ZW1wbGF0ZXMgdG8gYmUgcmVzb2x2ZWQuXG4gKlxuICpcbiAqICMjIyBUcmFuc2NsdXNpb25cbiAqXG4gKiBUcmFuc2NsdXNpb24gaXMgdGhlIHByb2Nlc3Mgb2YgZXh0cmFjdGluZyBhIGNvbGxlY3Rpb24gb2YgRE9NIGVsZW1lbnQgZnJvbSBvbmUgcGFydCBvZiB0aGUgRE9NIGFuZFxuICogY29weWluZyB0aGVtIHRvIGFub3RoZXIgcGFydCBvZiB0aGUgRE9NLCB3aGlsZSBtYWludGFpbmluZyB0aGVpciBjb25uZWN0aW9uIHRvIHRoZSBvcmlnaW5hbCBBbmd1bGFySlNcbiAqIHNjb3BlIGZyb20gd2hlcmUgdGhleSB3ZXJlIHRha2VuLlxuICpcbiAqIFRyYW5zY2x1c2lvbiBpcyB1c2VkIChvZnRlbiB3aXRoIHtAbGluayBuZ1RyYW5zY2x1ZGV9KSB0byBpbnNlcnQgdGhlXG4gKiBvcmlnaW5hbCBjb250ZW50cyBvZiBhIGRpcmVjdGl2ZSdzIGVsZW1lbnQgaW50byBhIHNwZWNpZmllZCBwbGFjZSBpbiB0aGUgdGVtcGxhdGUgb2YgdGhlIGRpcmVjdGl2ZS5cbiAqIFRoZSBiZW5lZml0IG9mIHRyYW5zY2x1c2lvbiwgb3ZlciBzaW1wbHkgbW92aW5nIHRoZSBET00gZWxlbWVudHMgbWFudWFsbHksIGlzIHRoYXQgdGhlIHRyYW5zY2x1ZGVkXG4gKiBjb250ZW50IGhhcyBhY2Nlc3MgdG8gdGhlIHByb3BlcnRpZXMgb24gdGhlIHNjb3BlIGZyb20gd2hpY2ggaXQgd2FzIHRha2VuLCBldmVuIGlmIHRoZSBkaXJlY3RpdmVcbiAqIGhhcyBpc29sYXRlZCBzY29wZS5cbiAqIFNlZSB0aGUge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSNjcmVhdGluZy1hLWRpcmVjdGl2ZS10aGF0LXdyYXBzLW90aGVyLWVsZW1lbnRzIERpcmVjdGl2ZXMgR3VpZGV9LlxuICpcbiAqIFRoaXMgbWFrZXMgaXQgcG9zc2libGUgZm9yIHRoZSB3aWRnZXQgdG8gaGF2ZSBwcml2YXRlIHN0YXRlIGZvciBpdHMgdGVtcGxhdGUsIHdoaWxlIHRoZSB0cmFuc2NsdWRlZFxuICogY29udGVudCBoYXMgYWNjZXNzIHRvIGl0cyBvcmlnaW5hdGluZyBzY29wZS5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlOioqIFdoZW4gdGVzdGluZyBhbiBlbGVtZW50IHRyYW5zY2x1ZGUgZGlyZWN0aXZlIHlvdSBtdXN0IG5vdCBwbGFjZSB0aGUgZGlyZWN0aXZlIGF0IHRoZSByb290IG9mIHRoZVxuICogRE9NIGZyYWdtZW50IHRoYXQgaXMgYmVpbmcgY29tcGlsZWQuIFNlZSB7QGxpbmsgZ3VpZGUvdW5pdC10ZXN0aW5nI3Rlc3RpbmctdHJhbnNjbHVzaW9uLWRpcmVjdGl2ZXNcbiAqIFRlc3RpbmcgVHJhbnNjbHVzaW9uIERpcmVjdGl2ZXN9LlxuICogPC9kaXY+XG4gKlxuICogIyMjIyBUcmFuc2NsdXNpb24gRnVuY3Rpb25zXG4gKlxuICogV2hlbiBhIGRpcmVjdGl2ZSByZXF1ZXN0cyB0cmFuc2NsdXNpb24sIHRoZSBjb21waWxlciBleHRyYWN0cyBpdHMgY29udGVudHMgYW5kIHByb3ZpZGVzIGEgKip0cmFuc2NsdXNpb25cbiAqIGZ1bmN0aW9uKiogdG8gdGhlIGRpcmVjdGl2ZSdzIGBsaW5rYCBmdW5jdGlvbiBhbmQgYGNvbnRyb2xsZXJgLiBUaGlzIHRyYW5zY2x1c2lvbiBmdW5jdGlvbiBpcyBhIHNwZWNpYWxcbiAqICoqbGlua2luZyBmdW5jdGlvbioqIHRoYXQgd2lsbCByZXR1cm4gdGhlIGNvbXBpbGVkIGNvbnRlbnRzIGxpbmtlZCB0byBhIG5ldyB0cmFuc2NsdXNpb24gc2NvcGUuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cbiAqIElmIHlvdSBhcmUganVzdCB1c2luZyB7QGxpbmsgbmdUcmFuc2NsdWRlfSB0aGVuIHlvdSBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoaXMgZnVuY3Rpb24sIHNpbmNlXG4gKiBuZ1RyYW5zY2x1ZGUgd2lsbCBkZWFsIHdpdGggaXQgZm9yIHVzLlxuICogPC9kaXY+XG4gKlxuICogSWYgeW91IHdhbnQgdG8gbWFudWFsbHkgY29udHJvbCB0aGUgaW5zZXJ0aW9uIGFuZCByZW1vdmFsIG9mIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50IGluIHlvdXIgZGlyZWN0aXZlXG4gKiB0aGVuIHlvdSBtdXN0IHVzZSB0aGlzIHRyYW5zY2x1ZGUgZnVuY3Rpb24uIFdoZW4geW91IGNhbGwgYSB0cmFuc2NsdWRlIGZ1bmN0aW9uIGl0IHJldHVybnMgYSBhIGpxTGl0ZS9KUXVlcnlcbiAqIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBjb21waWxlZCBET00sIHdoaWNoIGlzIGxpbmtlZCB0byB0aGUgY29ycmVjdCB0cmFuc2NsdXNpb24gc2NvcGUuXG4gKlxuICogV2hlbiB5b3UgY2FsbCBhIHRyYW5zY2x1c2lvbiBmdW5jdGlvbiB5b3UgY2FuIHBhc3MgaW4gYSAqKmNsb25lIGF0dGFjaCBmdW5jdGlvbioqLiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHNcbiAqIHR3byBwYXJhbWV0ZXJzLCBgZnVuY3Rpb24oY2xvbmUsIHNjb3BlKSB7IC4uLiB9YCwgd2hlcmUgdGhlIGBjbG9uZWAgaXMgYSBmcmVzaCBjb21waWxlZCBjb3B5IG9mIHlvdXIgdHJhbnNjbHVkZWRcbiAqIGNvbnRlbnQgYW5kIHRoZSBgc2NvcGVgIGlzIHRoZSBuZXdseSBjcmVhdGVkIHRyYW5zY2x1c2lvbiBzY29wZSwgdG8gd2hpY2ggdGhlIGNsb25lIGlzIGJvdW5kLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gKiAqKkJlc3QgUHJhY3RpY2UqKjogQWx3YXlzIHByb3ZpZGUgYSBgY2xvbmVGbmAgKGNsb25lIGF0dGFjaCBmdW5jdGlvbikgd2hlbiB5b3UgY2FsbCBhIHRyYW5zbHVkZSBmdW5jdGlvblxuICogc2luY2UgeW91IHRoZW4gZ2V0IGEgZnJlc2ggY2xvbmUgb2YgdGhlIG9yaWdpbmFsIERPTSBhbmQgYWxzbyBoYXZlIGFjY2VzcyB0byB0aGUgbmV3IHRyYW5zY2x1c2lvbiBzY29wZS5cbiAqIDwvZGl2PlxuICpcbiAqIEl0IGlzIG5vcm1hbCBwcmFjdGljZSB0byBhdHRhY2ggeW91ciB0cmFuc2NsdWRlZCBjb250ZW50IChgY2xvbmVgKSB0byB0aGUgRE9NIGluc2lkZSB5b3VyICoqY2xvbmVcbiAqIGF0dGFjaCBmdW5jdGlvbioqOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgdHJhbnNjbHVkZWRDb250ZW50LCB0cmFuc2NsdXNpb25TY29wZTtcbiAqXG4gKiAkdHJhbnNjbHVkZShmdW5jdGlvbihjbG9uZSwgc2NvcGUpIHtcbiAqICAgZWxlbWVudC5hcHBlbmQoY2xvbmUpO1xuICogICB0cmFuc2NsdWRlZENvbnRlbnQgPSBjbG9uZTtcbiAqICAgdHJhbnNjbHVzaW9uU2NvcGUgPSBzY29wZTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogTGF0ZXIsIGlmIHlvdSB3YW50IHRvIHJlbW92ZSB0aGUgdHJhbnNjbHVkZWQgY29udGVudCBmcm9tIHlvdXIgRE9NIHRoZW4geW91IHNob3VsZCBhbHNvIGRlc3Ryb3kgdGhlXG4gKiBhc3NvY2lhdGVkIHRyYW5zY2x1c2lvbiBzY29wZTpcbiAqXG4gKiBgYGBqc1xuICogdHJhbnNjbHVkZWRDb250ZW50LnJlbW92ZSgpO1xuICogdHJhbnNjbHVzaW9uU2NvcGUuJGRlc3Ryb3koKTtcbiAqIGBgYFxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gKiAqKkJlc3QgUHJhY3RpY2UqKjogaWYgeW91IGludGVuZCB0byBhZGQgYW5kIHJlbW92ZSB0cmFuc2NsdWRlZCBjb250ZW50IG1hbnVhbGx5IGluIHlvdXIgZGlyZWN0aXZlXG4gKiAoYnkgY2FsbGluZyB0aGUgdHJhbnNjbHVkZSBmdW5jdGlvbiB0byBnZXQgdGhlIERPTSBhbmQgY2FsbGluZyBgZWxlbWVudC5yZW1vdmUoKWAgdG8gcmVtb3ZlIGl0KSxcbiAqIHRoZW4geW91IGFyZSBhbHNvIHJlc3BvbnNpYmxlIGZvciBjYWxsaW5nIGAkZGVzdHJveWAgb24gdGhlIHRyYW5zY2x1c2lvbiBzY29wZS5cbiAqIDwvZGl2PlxuICpcbiAqIFRoZSBidWlsdC1pbiBET00gbWFuaXB1bGF0aW9uIGRpcmVjdGl2ZXMsIHN1Y2ggYXMge0BsaW5rIG5nSWZ9LCB7QGxpbmsgbmdTd2l0Y2h9IGFuZCB7QGxpbmsgbmdSZXBlYXR9XG4gKiBhdXRvbWF0aWNhbGx5IGRlc3Ryb3kgdGhlaXIgdHJhbnNsdWRlZCBjbG9uZXMgYXMgbmVjZXNzYXJ5IHNvIHlvdSBkbyBub3QgbmVlZCB0byB3b3JyeSBhYm91dCB0aGlzIGlmXG4gKiB5b3UgYXJlIHNpbXBseSB1c2luZyB7QGxpbmsgbmdUcmFuc2NsdWRlfSB0byBpbmplY3QgdGhlIHRyYW5zY2x1c2lvbiBpbnRvIHlvdXIgZGlyZWN0aXZlLlxuICpcbiAqXG4gKiAjIyMjIFRyYW5zY2x1c2lvbiBTY29wZXNcbiAqXG4gKiBXaGVuIHlvdSBjYWxsIGEgdHJhbnNjbHVkZSBmdW5jdGlvbiBpdCByZXR1cm5zIGEgRE9NIGZyYWdtZW50IHRoYXQgaXMgcHJlLWJvdW5kIHRvIGEgKip0cmFuc2NsdXNpb25cbiAqIHNjb3BlKiouIFRoaXMgc2NvcGUgaXMgc3BlY2lhbCwgaW4gdGhhdCBpdCBpcyBhIGNoaWxkIG9mIHRoZSBkaXJlY3RpdmUncyBzY29wZSAoYW5kIHNvIGdldHMgZGVzdHJveWVkXG4gKiB3aGVuIHRoZSBkaXJlY3RpdmUncyBzY29wZSBnZXRzIGRlc3Ryb3llZCkgYnV0IGl0IGluaGVyaXRzIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBzY29wZSBmcm9tIHdoaWNoIGl0XG4gKiB3YXMgdGFrZW4uXG4gKlxuICogRm9yIGV4YW1wbGUgY29uc2lkZXIgYSBkaXJlY3RpdmUgdGhhdCB1c2VzIHRyYW5zY2x1c2lvbiBhbmQgaXNvbGF0ZWQgc2NvcGUuIFRoZSBET00gaGllcmFyY2h5IG1pZ2h0IGxvb2tcbiAqIGxpa2UgdGhpczpcbiAqXG4gKiBgYGBodG1sXG4gKiA8ZGl2IG5nLWFwcD5cbiAqICAgPGRpdiBpc29sYXRlPlxuICogICAgIDxkaXYgdHJhbnNjbHVzaW9uPlxuICogICAgIDwvZGl2PlxuICogICA8L2Rpdj5cbiAqIDwvZGl2PlxuICogYGBgXG4gKlxuICogVGhlIGAkcGFyZW50YCBzY29wZSBoaWVyYXJjaHkgd2lsbCBsb29rIGxpa2UgdGhpczpcbiAqXG4gKiBgYGBcbiAqIC0gJHJvb3RTY29wZVxuICogICAtIGlzb2xhdGVcbiAqICAgICAtIHRyYW5zY2x1c2lvblxuICogYGBgXG4gKlxuICogYnV0IHRoZSBzY29wZXMgd2lsbCBpbmhlcml0IHByb3RvdHlwaWNhbGx5IGZyb20gZGlmZmVyZW50IHNjb3BlcyB0byB0aGVpciBgJHBhcmVudGAuXG4gKlxuICogYGBgXG4gKiAtICRyb290U2NvcGVcbiAqICAgLSB0cmFuc2NsdXNpb25cbiAqIC0gaXNvbGF0ZVxuICogYGBgXG4gKlxuICpcbiAqICMjIyBBdHRyaWJ1dGVzXG4gKlxuICogVGhlIHtAbGluayBuZy4kY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyBBdHRyaWJ1dGVzfSBvYmplY3QgLSBwYXNzZWQgYXMgYSBwYXJhbWV0ZXIgaW4gdGhlXG4gKiBgbGluaygpYCBvciBgY29tcGlsZSgpYCBmdW5jdGlvbnMuIEl0IGhhcyBhIHZhcmlldHkgb2YgdXNlcy5cbiAqXG4gKiBhY2Nlc3NpbmcgKk5vcm1hbGl6ZWQgYXR0cmlidXRlIG5hbWVzOipcbiAqIERpcmVjdGl2ZXMgbGlrZSAnbmdCaW5kJyBjYW4gYmUgZXhwcmVzc2VkIGluIG1hbnkgd2F5czogJ25nOmJpbmQnLCBgZGF0YS1uZy1iaW5kYCwgb3IgJ3gtbmctYmluZCcuXG4gKiB0aGUgYXR0cmlidXRlcyBvYmplY3QgYWxsb3dzIGZvciBub3JtYWxpemVkIGFjY2VzcyB0b1xuICogICB0aGUgYXR0cmlidXRlcy5cbiAqXG4gKiAqICpEaXJlY3RpdmUgaW50ZXItY29tbXVuaWNhdGlvbjoqIEFsbCBkaXJlY3RpdmVzIHNoYXJlIHRoZSBzYW1lIGluc3RhbmNlIG9mIHRoZSBhdHRyaWJ1dGVzXG4gKiAgIG9iamVjdCB3aGljaCBhbGxvd3MgdGhlIGRpcmVjdGl2ZXMgdG8gdXNlIHRoZSBhdHRyaWJ1dGVzIG9iamVjdCBhcyBpbnRlciBkaXJlY3RpdmVcbiAqICAgY29tbXVuaWNhdGlvbi5cbiAqXG4gKiAqICpTdXBwb3J0cyBpbnRlcnBvbGF0aW9uOiogSW50ZXJwb2xhdGlvbiBhdHRyaWJ1dGVzIGFyZSBhc3NpZ25lZCB0byB0aGUgYXR0cmlidXRlIG9iamVjdFxuICogICBhbGxvd2luZyBvdGhlciBkaXJlY3RpdmVzIHRvIHJlYWQgdGhlIGludGVycG9sYXRlZCB2YWx1ZS5cbiAqXG4gKiAqICpPYnNlcnZpbmcgaW50ZXJwb2xhdGVkIGF0dHJpYnV0ZXM6KiBVc2UgYCRvYnNlcnZlYCB0byBvYnNlcnZlIHRoZSB2YWx1ZSBjaGFuZ2VzIG9mIGF0dHJpYnV0ZXNcbiAqICAgdGhhdCBjb250YWluIGludGVycG9sYXRpb24gKGUuZy4gYHNyYz1cInt7YmFyfX1cImApLiBOb3Qgb25seSBpcyB0aGlzIHZlcnkgZWZmaWNpZW50IGJ1dCBpdCdzIGFsc29cbiAqICAgdGhlIG9ubHkgd2F5IHRvIGVhc2lseSBnZXQgdGhlIGFjdHVhbCB2YWx1ZSBiZWNhdXNlIGR1cmluZyB0aGUgbGlua2luZyBwaGFzZSB0aGUgaW50ZXJwb2xhdGlvblxuICogICBoYXNuJ3QgYmVlbiBldmFsdWF0ZWQgeWV0IGFuZCBzbyB0aGUgdmFsdWUgaXMgYXQgdGhpcyB0aW1lIHNldCB0byBgdW5kZWZpbmVkYC5cbiAqXG4gKiBgYGBqc1xuICogZnVuY3Rpb24gbGlua2luZ0ZuKHNjb3BlLCBlbG0sIGF0dHJzLCBjdHJsKSB7XG4gKiAgIC8vIGdldCB0aGUgYXR0cmlidXRlIHZhbHVlXG4gKiAgIGNvbnNvbGUubG9nKGF0dHJzLm5nTW9kZWwpO1xuICpcbiAqICAgLy8gY2hhbmdlIHRoZSBhdHRyaWJ1dGVcbiAqICAgYXR0cnMuJHNldCgnbmdNb2RlbCcsICduZXcgdmFsdWUnKTtcbiAqXG4gKiAgIC8vIG9ic2VydmUgY2hhbmdlcyB0byBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlXG4gKiAgIGF0dHJzLiRvYnNlcnZlKCduZ01vZGVsJywgZnVuY3Rpb24odmFsdWUpIHtcbiAqICAgICBjb25zb2xlLmxvZygnbmdNb2RlbCBoYXMgY2hhbmdlZCB2YWx1ZSB0byAnICsgdmFsdWUpO1xuICogICB9KTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipOb3RlKio6IFR5cGljYWxseSBkaXJlY3RpdmVzIGFyZSByZWdpc3RlcmVkIHdpdGggYG1vZHVsZS5kaXJlY3RpdmVgLiBUaGUgZXhhbXBsZSBiZWxvdyBpc1xuICogdG8gaWxsdXN0cmF0ZSBob3cgYCRjb21waWxlYCB3b3Jrcy5cbiAqIDwvZGl2PlxuICpcbiA8ZXhhbXBsZSBtb2R1bGU9XCJjb21waWxlRXhhbXBsZVwiPlxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICA8c2NyaXB0PlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2NvbXBpbGVFeGFtcGxlJywgW10sIGZ1bmN0aW9uKCRjb21waWxlUHJvdmlkZXIpIHtcbiAgICAgICAgLy8gY29uZmlndXJlIG5ldyAnY29tcGlsZScgZGlyZWN0aXZlIGJ5IHBhc3NpbmcgYSBkaXJlY3RpdmVcbiAgICAgICAgLy8gZmFjdG9yeSBmdW5jdGlvbi4gVGhlIGZhY3RvcnkgZnVuY3Rpb24gaW5qZWN0cyB0aGUgJyRjb21waWxlJ1xuICAgICAgICAkY29tcGlsZVByb3ZpZGVyLmRpcmVjdGl2ZSgnY29tcGlsZScsIGZ1bmN0aW9uKCRjb21waWxlKSB7XG4gICAgICAgICAgLy8gZGlyZWN0aXZlIGZhY3RvcnkgY3JlYXRlcyBhIGxpbmsgZnVuY3Rpb25cbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goXG4gICAgICAgICAgICAgIGZ1bmN0aW9uKHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgIC8vIHdhdGNoIHRoZSAnY29tcGlsZScgZXhwcmVzc2lvbiBmb3IgY2hhbmdlc1xuICAgICAgICAgICAgICAgIHJldHVybiBzY29wZS4kZXZhbChhdHRycy5jb21waWxlKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHRoZSAnY29tcGlsZScgZXhwcmVzc2lvbiBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgLy8gYXNzaWduIGl0IGludG8gdGhlIGN1cnJlbnQgRE9NXG4gICAgICAgICAgICAgICAgZWxlbWVudC5odG1sKHZhbHVlKTtcblxuICAgICAgICAgICAgICAgIC8vIGNvbXBpbGUgdGhlIG5ldyBET00gYW5kIGxpbmsgaXQgdG8gdGhlIGN1cnJlbnRcbiAgICAgICAgICAgICAgICAvLyBzY29wZS5cbiAgICAgICAgICAgICAgICAvLyBOT1RFOiB3ZSBvbmx5IGNvbXBpbGUgLmNoaWxkTm9kZXMgc28gdGhhdFxuICAgICAgICAgICAgICAgIC8vIHdlIGRvbid0IGdldCBpbnRvIGluZmluaXRlIGxvb3AgY29tcGlsaW5nIG91cnNlbHZlc1xuICAgICAgICAgICAgICAgICRjb21waWxlKGVsZW1lbnQuY29udGVudHMoKSkoc2NvcGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC5jb250cm9sbGVyKCdHcmVldGVyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS5uYW1lID0gJ0FuZ3VsYXInO1xuICAgICAgICAkc2NvcGUuaHRtbCA9ICdIZWxsbyB7e25hbWV9fSc7XG4gICAgICB9XSk7XG4gICAgPC9zY3JpcHQ+XG4gICAgPGRpdiBuZy1jb250cm9sbGVyPVwiR3JlZXRlckNvbnRyb2xsZXJcIj5cbiAgICAgIDxpbnB1dCBuZy1tb2RlbD1cIm5hbWVcIj4gPGJyLz5cbiAgICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cImh0bWxcIj48L3RleHRhcmVhPiA8YnIvPlxuICAgICAgPGRpdiBjb21waWxlPVwiaHRtbFwiPjwvZGl2PlxuICAgIDwvZGl2PlxuICAgPC9maWxlPlxuICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICBpdCgnc2hvdWxkIGF1dG8gY29tcGlsZScsIGZ1bmN0aW9uKCkge1xuICAgICAgIHZhciB0ZXh0YXJlYSA9ICQoJ3RleHRhcmVhJyk7XG4gICAgICAgdmFyIG91dHB1dCA9ICQoJ2Rpdltjb21waWxlXScpO1xuICAgICAgIC8vIFRoZSBpbml0aWFsIHN0YXRlIHJlYWRzICdIZWxsbyBBbmd1bGFyJy5cbiAgICAgICBleHBlY3Qob3V0cHV0LmdldFRleHQoKSkudG9CZSgnSGVsbG8gQW5ndWxhcicpO1xuICAgICAgIHRleHRhcmVhLmNsZWFyKCk7XG4gICAgICAgdGV4dGFyZWEuc2VuZEtleXMoJ3t7bmFtZX19IScpO1xuICAgICAgIGV4cGVjdChvdXRwdXQuZ2V0VGV4dCgpKS50b0JlKCdBbmd1bGFyIScpO1xuICAgICB9KTtcbiAgIDwvZmlsZT5cbiA8L2V4YW1wbGU+XG5cbiAqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8RE9NRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IG9yIEhUTUwgc3RyaW5nIHRvIGNvbXBpbGUgaW50byBhIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtmdW5jdGlvbihhbmd1bGFyLlNjb3BlLCBjbG9uZUF0dGFjaEZuPSl9IHRyYW5zY2x1ZGUgZnVuY3Rpb24gYXZhaWxhYmxlIHRvIGRpcmVjdGl2ZXMgLSBERVBSRUNBVEVELlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIj5cbiAqICoqTm90ZToqKiBQYXNzaW5nIGEgYHRyYW5zY2x1ZGVgIGZ1bmN0aW9uIHRvIHRoZSAkY29tcGlsZSBmdW5jdGlvbiBpcyBkZXByZWNhdGVkLCBhcyBpdFxuICogICBlLmcuIHdpbGwgbm90IHVzZSB0aGUgcmlnaHQgb3V0ZXIgc2NvcGUuIFBsZWFzZSBwYXNzIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIGFzIGFcbiAqICAgYHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuYCB0byB0aGUgbGluayBmdW5jdGlvbiBpbnN0ZWFkLlxuICogPC9kaXY+XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IG1heFByaW9yaXR5IG9ubHkgYXBwbHkgZGlyZWN0aXZlcyBsb3dlciB0aGFuIGdpdmVuIHByaW9yaXR5IChPbmx5IGVmZmVjdHMgdGhlXG4gKiAgICAgICAgICAgICAgICAgcm9vdCBlbGVtZW50KHMpLCBub3QgdGhlaXIgY2hpbGRyZW4pXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oc2NvcGUsIGNsb25lQXR0YWNoRm49LCBvcHRpb25zPSl9IGEgbGluayBmdW5jdGlvbiB3aGljaCBpcyB1c2VkIHRvIGJpbmQgdGVtcGxhdGVcbiAqIChhIERPTSBlbGVtZW50L3RyZWUpIHRvIGEgc2NvcGUuIFdoZXJlOlxuICpcbiAqICAqIGBzY29wZWAgLSBBIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIFNjb3BlfSB0byBiaW5kIHRvLlxuICogICogYGNsb25lQXR0YWNoRm5gIC0gSWYgYGNsb25lQXR0YWNoRm5gIGlzIHByb3ZpZGVkLCB0aGVuIHRoZSBsaW5rIGZ1bmN0aW9uIHdpbGwgY2xvbmUgdGhlXG4gKiAgYHRlbXBsYXRlYCBhbmQgY2FsbCB0aGUgYGNsb25lQXR0YWNoRm5gIGZ1bmN0aW9uIGFsbG93aW5nIHRoZSBjYWxsZXIgdG8gYXR0YWNoIHRoZVxuICogIGNsb25lZCBlbGVtZW50cyB0byB0aGUgRE9NIGRvY3VtZW50IGF0IHRoZSBhcHByb3ByaWF0ZSBwbGFjZS4gVGhlIGBjbG9uZUF0dGFjaEZuYCBpc1xuICogIGNhbGxlZCBhczogPGJyLz4gYGNsb25lQXR0YWNoRm4oY2xvbmVkRWxlbWVudCwgc2NvcGUpYCB3aGVyZTpcbiAqXG4gKiAgICAgICogYGNsb25lZEVsZW1lbnRgIC0gaXMgYSBjbG9uZSBvZiB0aGUgb3JpZ2luYWwgYGVsZW1lbnRgIHBhc3NlZCBpbnRvIHRoZSBjb21waWxlci5cbiAqICAgICAgKiBgc2NvcGVgIC0gaXMgdGhlIGN1cnJlbnQgc2NvcGUgd2l0aCB3aGljaCB0aGUgbGlua2luZyBmdW5jdGlvbiBpcyB3b3JraW5nIHdpdGguXG4gKlxuICogICogYG9wdGlvbnNgIC0gQW4gb3B0aW9uYWwgb2JqZWN0IGhhc2ggd2l0aCBsaW5raW5nIG9wdGlvbnMuIElmIGBvcHRpb25zYCBpcyBwcm92aWRlZCwgdGhlbiB0aGUgZm9sbG93aW5nXG4gKiAga2V5cyBtYXkgYmUgdXNlZCB0byBjb250cm9sIGxpbmtpbmcgYmVoYXZpb3I6XG4gKlxuICogICAgICAqIGBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbmAgLSB0aGUgdHJhbnNjbHVkZSBmdW5jdGlvbiBtYWRlIGF2YWlsYWJsZSB0b1xuICogICAgICAgIGRpcmVjdGl2ZXM7IGlmIGdpdmVuLCBpdCB3aWxsIGJlIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBsaW5rIGZ1bmN0aW9ucyBvZlxuICogICAgICAgIGRpcmVjdGl2ZXMgZm91bmQgaW4gYGVsZW1lbnRgIGR1cmluZyBjb21waWxhdGlvbi5cbiAqICAgICAgKiBgdHJhbnNjbHVkZUNvbnRyb2xsZXJzYCAtIGFuIG9iamVjdCBoYXNoIHdpdGgga2V5cyB0aGF0IG1hcCBjb250cm9sbGVyIG5hbWVzXG4gKiAgICAgICAgdG8gY29udHJvbGxlciBpbnN0YW5jZXM7IGlmIGdpdmVuLCBpdCB3aWxsIG1ha2UgdGhlIGNvbnRyb2xsZXJzXG4gKiAgICAgICAgYXZhaWxhYmxlIHRvIGRpcmVjdGl2ZXMuXG4gKiAgICAgICogYGZ1dHVyZVBhcmVudEVsZW1lbnRgIC0gZGVmaW5lcyB0aGUgcGFyZW50IHRvIHdoaWNoIHRoZSBgY2xvbmVBdHRhY2hGbmAgd2lsbCBhZGRcbiAqICAgICAgICB0aGUgY2xvbmVkIGVsZW1lbnRzOyBvbmx5IG5lZWRlZCBmb3IgdHJhbnNjbHVkZXMgdGhhdCBhcmUgYWxsb3dlZCB0byBjb250YWluIG5vbiBodG1sXG4gKiAgICAgICAgZWxlbWVudHMgKGUuZy4gU1ZHIGVsZW1lbnRzKS4gU2VlIGFsc28gdGhlIGRpcmVjdGl2ZS5jb250cm9sbGVyIHByb3BlcnR5LlxuICpcbiAqIENhbGxpbmcgdGhlIGxpbmtpbmcgZnVuY3Rpb24gcmV0dXJucyB0aGUgZWxlbWVudCBvZiB0aGUgdGVtcGxhdGUuIEl0IGlzIGVpdGhlciB0aGUgb3JpZ2luYWxcbiAqIGVsZW1lbnQgcGFzc2VkIGluLCBvciB0aGUgY2xvbmUgb2YgdGhlIGVsZW1lbnQgaWYgdGhlIGBjbG9uZUF0dGFjaEZuYCBpcyBwcm92aWRlZC5cbiAqXG4gKiBBZnRlciBsaW5raW5nIHRoZSB2aWV3IGlzIG5vdCB1cGRhdGVkIHVudGlsIGFmdGVyIGEgY2FsbCB0byAkZGlnZXN0IHdoaWNoIHR5cGljYWxseSBpcyBkb25lIGJ5XG4gKiBBbmd1bGFyIGF1dG9tYXRpY2FsbHkuXG4gKlxuICogSWYgeW91IG5lZWQgYWNjZXNzIHRvIHRoZSBib3VuZCB2aWV3LCB0aGVyZSBhcmUgdHdvIHdheXMgdG8gZG8gaXQ6XG4gKlxuICogLSBJZiB5b3UgYXJlIG5vdCBhc2tpbmcgdGhlIGxpbmtpbmcgZnVuY3Rpb24gdG8gY2xvbmUgdGhlIHRlbXBsYXRlLCBjcmVhdGUgdGhlIERPTSBlbGVtZW50KHMpXG4gKiAgIGJlZm9yZSB5b3Ugc2VuZCB0aGVtIHRvIHRoZSBjb21waWxlciBhbmQga2VlcCB0aGlzIHJlZmVyZW5jZSBhcm91bmQuXG4gKiAgIGBgYGpzXG4gKiAgICAgdmFyIGVsZW1lbnQgPSAkY29tcGlsZSgnPHA+e3t0b3RhbH19PC9wPicpKHNjb3BlKTtcbiAqICAgYGBgXG4gKlxuICogLSBpZiBvbiB0aGUgb3RoZXIgaGFuZCwgeW91IG5lZWQgdGhlIGVsZW1lbnQgdG8gYmUgY2xvbmVkLCB0aGUgdmlldyByZWZlcmVuY2UgZnJvbSB0aGUgb3JpZ2luYWxcbiAqICAgZXhhbXBsZSB3b3VsZCBub3QgcG9pbnQgdG8gdGhlIGNsb25lLCBidXQgcmF0aGVyIHRvIHRoZSBvcmlnaW5hbCB0ZW1wbGF0ZSB0aGF0IHdhcyBjbG9uZWQuIEluXG4gKiAgIHRoaXMgY2FzZSwgeW91IGNhbiBhY2Nlc3MgdGhlIGNsb25lIHZpYSB0aGUgY2xvbmVBdHRhY2hGbjpcbiAqICAgYGBganNcbiAqICAgICB2YXIgdGVtcGxhdGVFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCc8cD57e3RvdGFsfX08L3A+JyksXG4gKiAgICAgICAgIHNjb3BlID0gLi4uLjtcbiAqXG4gKiAgICAgdmFyIGNsb25lZEVsZW1lbnQgPSAkY29tcGlsZSh0ZW1wbGF0ZUVsZW1lbnQpKHNjb3BlLCBmdW5jdGlvbihjbG9uZWRFbGVtZW50LCBzY29wZSkge1xuICogICAgICAgLy9hdHRhY2ggdGhlIGNsb25lIHRvIERPTSBkb2N1bWVudCBhdCB0aGUgcmlnaHQgcGxhY2VcbiAqICAgICB9KTtcbiAqXG4gKiAgICAgLy9ub3cgd2UgaGF2ZSByZWZlcmVuY2UgdG8gdGhlIGNsb25lZCBET00gdmlhIGBjbG9uZWRFbGVtZW50YFxuICogICBgYGBcbiAqXG4gKlxuICogRm9yIGluZm9ybWF0aW9uIG9uIGhvdyB0aGUgY29tcGlsZXIgd29ya3MsIHNlZSB0aGVcbiAqIHtAbGluayBndWlkZS9jb21waWxlciBBbmd1bGFyIEhUTUwgQ29tcGlsZXJ9IHNlY3Rpb24gb2YgdGhlIERldmVsb3BlciBHdWlkZS5cbiAqL1xuXG52YXIgJGNvbXBpbGVNaW5FcnIgPSBtaW5FcnIoJyRjb21waWxlJyk7XG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKi9cbiRDb21waWxlUHJvdmlkZXIuJGluamVjdCA9IFsnJHByb3ZpZGUnLCAnJCRzYW5pdGl6ZVVyaVByb3ZpZGVyJ107XG5mdW5jdGlvbiAkQ29tcGlsZVByb3ZpZGVyKCRwcm92aWRlLCAkJHNhbml0aXplVXJpUHJvdmlkZXIpIHtcbiAgdmFyIGhhc0RpcmVjdGl2ZXMgPSB7fSxcbiAgICAgIFN1ZmZpeCA9ICdEaXJlY3RpdmUnLFxuICAgICAgQ09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQID0gL15cXHMqZGlyZWN0aXZlXFw6XFxzKihbXFx3XFwtXSspXFxzKyguKikkLyxcbiAgICAgIENMQVNTX0RJUkVDVElWRV9SRUdFWFAgPSAvKChbXFx3XFwtXSspKD86XFw6KFteO10rKSk/Oz8pLyxcbiAgICAgIEFMTF9PUl9OT1RISU5HX0FUVFJTID0gbWFrZU1hcCgnbmdTcmMsbmdTcmNzZXQsc3JjLHNyY3NldCcpLFxuICAgICAgUkVRVUlSRV9QUkVGSVhfUkVHRVhQID0gL14oPzooXFxeXFxePyk/KFxcPyk/KFxcXlxcXj8pPyk/LztcblxuICAvLyBSZWY6IGh0dHA6Ly9kZXZlbG9wZXJzLndoYXR3Zy5vcmcvd2ViYXBwYXBpcy5odG1sI2V2ZW50LWhhbmRsZXItaWRsLWF0dHJpYnV0ZXNcbiAgLy8gVGhlIGFzc3VtcHRpb24gaXMgdGhhdCBmdXR1cmUgRE9NIGV2ZW50IGF0dHJpYnV0ZSBuYW1lcyB3aWxsIGJlZ2luIHdpdGhcbiAgLy8gJ29uJyBhbmQgYmUgY29tcG9zZWQgb2Ygb25seSBFbmdsaXNoIGxldHRlcnMuXG4gIHZhciBFVkVOVF9IQU5ETEVSX0FUVFJfUkVHRVhQID0gL14ob25bYS16XSt8Zm9ybWFjdGlvbikkLztcblxuICBmdW5jdGlvbiBwYXJzZUlzb2xhdGVCaW5kaW5ncyhzY29wZSwgZGlyZWN0aXZlTmFtZSwgaXNDb250cm9sbGVyKSB7XG4gICAgdmFyIExPQ0FMX1JFR0VYUCA9IC9eXFxzKihbQCZdfD0oXFwqPykpKFxcPz8pXFxzKihcXHcqKVxccyokLztcblxuICAgIHZhciBiaW5kaW5ncyA9IHt9O1xuXG4gICAgZm9yRWFjaChzY29wZSwgZnVuY3Rpb24oZGVmaW5pdGlvbiwgc2NvcGVOYW1lKSB7XG4gICAgICB2YXIgbWF0Y2ggPSBkZWZpbml0aW9uLm1hdGNoKExPQ0FMX1JFR0VYUCk7XG5cbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ2lzY3AnLFxuICAgICAgICAgICAgXCJJbnZhbGlkIHszfSBmb3IgZGlyZWN0aXZlICd7MH0nLlwiICtcbiAgICAgICAgICAgIFwiIERlZmluaXRpb246IHsuLi4gezF9OiAnezJ9JyAuLi59XCIsXG4gICAgICAgICAgICBkaXJlY3RpdmVOYW1lLCBzY29wZU5hbWUsIGRlZmluaXRpb24sXG4gICAgICAgICAgICAoaXNDb250cm9sbGVyID8gXCJjb250cm9sbGVyIGJpbmRpbmdzIGRlZmluaXRpb25cIiA6XG4gICAgICAgICAgICBcImlzb2xhdGUgc2NvcGUgZGVmaW5pdGlvblwiKSk7XG4gICAgICB9XG5cbiAgICAgIGJpbmRpbmdzW3Njb3BlTmFtZV0gPSB7XG4gICAgICAgIG1vZGU6IG1hdGNoWzFdWzBdLFxuICAgICAgICBjb2xsZWN0aW9uOiBtYXRjaFsyXSA9PT0gJyonLFxuICAgICAgICBvcHRpb25hbDogbWF0Y2hbM10gPT09ICc/JyxcbiAgICAgICAgYXR0ck5hbWU6IG1hdGNoWzRdIHx8IHNjb3BlTmFtZVxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIHJldHVybiBiaW5kaW5ncztcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlRGlyZWN0aXZlQmluZGluZ3MoZGlyZWN0aXZlLCBkaXJlY3RpdmVOYW1lKSB7XG4gICAgdmFyIGJpbmRpbmdzID0ge1xuICAgICAgaXNvbGF0ZVNjb3BlOiBudWxsLFxuICAgICAgYmluZFRvQ29udHJvbGxlcjogbnVsbFxuICAgIH07XG4gICAgaWYgKGlzT2JqZWN0KGRpcmVjdGl2ZS5zY29wZSkpIHtcbiAgICAgIGlmIChkaXJlY3RpdmUuYmluZFRvQ29udHJvbGxlciA9PT0gdHJ1ZSkge1xuICAgICAgICBiaW5kaW5ncy5iaW5kVG9Db250cm9sbGVyID0gcGFyc2VJc29sYXRlQmluZGluZ3MoZGlyZWN0aXZlLnNjb3BlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlTmFtZSwgdHJ1ZSk7XG4gICAgICAgIGJpbmRpbmdzLmlzb2xhdGVTY29wZSA9IHt9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmluZGluZ3MuaXNvbGF0ZVNjb3BlID0gcGFyc2VJc29sYXRlQmluZGluZ3MoZGlyZWN0aXZlLnNjb3BlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVOYW1lLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc09iamVjdChkaXJlY3RpdmUuYmluZFRvQ29udHJvbGxlcikpIHtcbiAgICAgIGJpbmRpbmdzLmJpbmRUb0NvbnRyb2xsZXIgPVxuICAgICAgICAgIHBhcnNlSXNvbGF0ZUJpbmRpbmdzKGRpcmVjdGl2ZS5iaW5kVG9Db250cm9sbGVyLCBkaXJlY3RpdmVOYW1lLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KGJpbmRpbmdzLmJpbmRUb0NvbnRyb2xsZXIpKSB7XG4gICAgICB2YXIgY29udHJvbGxlciA9IGRpcmVjdGl2ZS5jb250cm9sbGVyO1xuICAgICAgdmFyIGNvbnRyb2xsZXJBcyA9IGRpcmVjdGl2ZS5jb250cm9sbGVyQXM7XG4gICAgICBpZiAoIWNvbnRyb2xsZXIpIHtcbiAgICAgICAgLy8gVGhlcmUgaXMgbm8gY29udHJvbGxlciwgdGhlcmUgbWF5IG9yIG1heSBub3QgYmUgYSBjb250cm9sbGVyQXMgcHJvcGVydHlcbiAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ25vY3RybCcsXG4gICAgICAgICAgICAgIFwiQ2Fubm90IGJpbmQgdG8gY29udHJvbGxlciB3aXRob3V0IGRpcmVjdGl2ZSAnezB9J3MgY29udHJvbGxlci5cIixcbiAgICAgICAgICAgICAgZGlyZWN0aXZlTmFtZSk7XG4gICAgICB9IGVsc2UgaWYgKCFpZGVudGlmaWVyRm9yQ29udHJvbGxlcihjb250cm9sbGVyLCBjb250cm9sbGVyQXMpKSB7XG4gICAgICAgIC8vIFRoZXJlIGlzIGEgY29udHJvbGxlciwgYnV0IG5vIGlkZW50aWZpZXIgb3IgY29udHJvbGxlckFzIHByb3BlcnR5XG4gICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdub2lkZW50JyxcbiAgICAgICAgICAgICAgXCJDYW5ub3QgYmluZCB0byBjb250cm9sbGVyIHdpdGhvdXQgaWRlbnRpZmllciBmb3IgZGlyZWN0aXZlICd7MH0nLlwiLFxuICAgICAgICAgICAgICBkaXJlY3RpdmVOYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJpbmRpbmdzO1xuICB9XG5cbiAgZnVuY3Rpb24gYXNzZXJ0VmFsaWREaXJlY3RpdmVOYW1lKG5hbWUpIHtcbiAgICB2YXIgbGV0dGVyID0gbmFtZS5jaGFyQXQoMCk7XG4gICAgaWYgKCFsZXR0ZXIgfHwgbGV0dGVyICE9PSBsb3dlcmNhc2UobGV0dGVyKSkge1xuICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ2JhZGRpcicsIFwiRGlyZWN0aXZlIG5hbWUgJ3swfScgaXMgaW52YWxpZC4gVGhlIGZpcnN0IGNoYXJhY3RlciBtdXN0IGJlIGEgbG93ZXJjYXNlIGxldHRlclwiLCBuYW1lKTtcbiAgICB9XG4gICAgaWYgKG5hbWUgIT09IG5hbWUudHJpbSgpKSB7XG4gICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignYmFkZGlyJyxcbiAgICAgICAgICAgIFwiRGlyZWN0aXZlIG5hbWUgJ3swfScgaXMgaW52YWxpZC4gVGhlIG5hbWUgc2hvdWxkIG5vdCBjb250YWluIGxlYWRpbmcgb3IgdHJhaWxpbmcgd2hpdGVzcGFjZXNcIixcbiAgICAgICAgICAgIG5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjb21waWxlUHJvdmlkZXIjZGlyZWN0aXZlXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlciBhIG5ldyBkaXJlY3RpdmUgd2l0aCB0aGUgY29tcGlsZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBOYW1lIG9mIHRoZSBkaXJlY3RpdmUgaW4gY2FtZWwtY2FzZSAoaS5lLiA8Y29kZT5uZ0JpbmQ8L2NvZGU+IHdoaWNoXG4gICAqICAgIHdpbGwgbWF0Y2ggYXMgPGNvZGU+bmctYmluZDwvY29kZT4pLCBvciBhbiBvYmplY3QgbWFwIG9mIGRpcmVjdGl2ZXMgd2hlcmUgdGhlIGtleXMgYXJlIHRoZVxuICAgKiAgICBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGZhY3Rvcmllcy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheX0gZGlyZWN0aXZlRmFjdG9yeSBBbiBpbmplY3RhYmxlIGRpcmVjdGl2ZSBmYWN0b3J5IGZ1bmN0aW9uLiBTZWVcbiAgICogICAge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZX0gZm9yIG1vcmUgaW5mby5cbiAgICogQHJldHVybnMge25nLiRjb21waWxlUHJvdmlkZXJ9IFNlbGYgZm9yIGNoYWluaW5nLlxuICAgKi9cbiAgIHRoaXMuZGlyZWN0aXZlID0gZnVuY3Rpb24gcmVnaXN0ZXJEaXJlY3RpdmUobmFtZSwgZGlyZWN0aXZlRmFjdG9yeSkge1xuICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdkaXJlY3RpdmUnKTtcbiAgICBpZiAoaXNTdHJpbmcobmFtZSkpIHtcbiAgICAgIGFzc2VydFZhbGlkRGlyZWN0aXZlTmFtZShuYW1lKTtcbiAgICAgIGFzc2VydEFyZyhkaXJlY3RpdmVGYWN0b3J5LCAnZGlyZWN0aXZlRmFjdG9yeScpO1xuICAgICAgaWYgKCFoYXNEaXJlY3RpdmVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGhhc0RpcmVjdGl2ZXNbbmFtZV0gPSBbXTtcbiAgICAgICAgJHByb3ZpZGUuZmFjdG9yeShuYW1lICsgU3VmZml4LCBbJyRpbmplY3RvcicsICckZXhjZXB0aW9uSGFuZGxlcicsXG4gICAgICAgICAgZnVuY3Rpb24oJGluamVjdG9yLCAkZXhjZXB0aW9uSGFuZGxlcikge1xuICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZXMgPSBbXTtcbiAgICAgICAgICAgIGZvckVhY2goaGFzRGlyZWN0aXZlc1tuYW1lXSwgZnVuY3Rpb24oZGlyZWN0aXZlRmFjdG9yeSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aXZlID0gJGluamVjdG9yLmludm9rZShkaXJlY3RpdmVGYWN0b3J5KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihkaXJlY3RpdmUpKSB7XG4gICAgICAgICAgICAgICAgICBkaXJlY3RpdmUgPSB7IGNvbXBpbGU6IHZhbHVlRm4oZGlyZWN0aXZlKSB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWRpcmVjdGl2ZS5jb21waWxlICYmIGRpcmVjdGl2ZS5saW5rKSB7XG4gICAgICAgICAgICAgICAgICBkaXJlY3RpdmUuY29tcGlsZSA9IHZhbHVlRm4oZGlyZWN0aXZlLmxpbmspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUucHJpb3JpdHkgPSBkaXJlY3RpdmUucHJpb3JpdHkgfHwgMDtcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUuaW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUubmFtZSA9IGRpcmVjdGl2ZS5uYW1lIHx8IG5hbWU7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLnJlcXVpcmUgPSBkaXJlY3RpdmUucmVxdWlyZSB8fCAoZGlyZWN0aXZlLmNvbnRyb2xsZXIgJiYgZGlyZWN0aXZlLm5hbWUpO1xuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5yZXN0cmljdCA9IGRpcmVjdGl2ZS5yZXN0cmljdCB8fCAnRUEnO1xuICAgICAgICAgICAgICAgIHZhciBiaW5kaW5ncyA9IGRpcmVjdGl2ZS4kJGJpbmRpbmdzID1cbiAgICAgICAgICAgICAgICAgICAgcGFyc2VEaXJlY3RpdmVCaW5kaW5ncyhkaXJlY3RpdmUsIGRpcmVjdGl2ZS5uYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3QoYmluZGluZ3MuaXNvbGF0ZVNjb3BlKSkge1xuICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLiQkaXNvbGF0ZUJpbmRpbmdzID0gYmluZGluZ3MuaXNvbGF0ZVNjb3BlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUuJCRtb2R1bGVOYW1lID0gZGlyZWN0aXZlRmFjdG9yeS4kJG1vZHVsZU5hbWU7XG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlcy5wdXNoKGRpcmVjdGl2ZSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlcztcbiAgICAgICAgICB9XSk7XG4gICAgICB9XG4gICAgICBoYXNEaXJlY3RpdmVzW25hbWVdLnB1c2goZGlyZWN0aXZlRmFjdG9yeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvckVhY2gobmFtZSwgcmV2ZXJzZVBhcmFtcyhyZWdpc3RlckRpcmVjdGl2ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjb21waWxlUHJvdmlkZXIjYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3RcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJldHJpZXZlcyBvciBvdmVycmlkZXMgdGhlIGRlZmF1bHQgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgdXNlZCBmb3Igd2hpdGVsaXN0aW5nIG9mIHNhZmVcbiAgICogdXJscyBkdXJpbmcgYVtocmVmXSBzYW5pdGl6YXRpb24uXG4gICAqXG4gICAqIFRoZSBzYW5pdGl6YXRpb24gaXMgYSBzZWN1cml0eSBtZWFzdXJlIGFpbWVkIGF0IHByZXZlbnRpbmcgWFNTIGF0dGFja3MgdmlhIGh0bWwgbGlua3MuXG4gICAqXG4gICAqIEFueSB1cmwgYWJvdXQgdG8gYmUgYXNzaWduZWQgdG8gYVtocmVmXSB2aWEgZGF0YS1iaW5kaW5nIGlzIGZpcnN0IG5vcm1hbGl6ZWQgYW5kIHR1cm5lZCBpbnRvXG4gICAqIGFuIGFic29sdXRlIHVybC4gQWZ0ZXJ3YXJkcywgdGhlIHVybCBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdGBcbiAgICogcmVndWxhciBleHByZXNzaW9uLiBJZiBhIG1hdGNoIGlzIGZvdW5kLCB0aGUgb3JpZ2luYWwgdXJsIGlzIHdyaXR0ZW4gaW50byB0aGUgZG9tLiBPdGhlcndpc2UsXG4gICAqIHRoZSBhYnNvbHV0ZSB1cmwgaXMgcHJlZml4ZWQgd2l0aCBgJ3Vuc2FmZTonYCBzdHJpbmcgYW5kIG9ubHkgdGhlbiBpcyBpdCB3cml0dGVuIGludG8gdGhlIERPTS5cbiAgICpcbiAgICogQHBhcmFtIHtSZWdFeHA9fSByZWdleHAgTmV3IHJlZ2V4cCB0byB3aGl0ZWxpc3QgdXJscyB3aXRoLlxuICAgKiBAcmV0dXJucyB7UmVnRXhwfG5nLiRjb21waWxlUHJvdmlkZXJ9IEN1cnJlbnQgUmVnRXhwIGlmIGNhbGxlZCB3aXRob3V0IHZhbHVlIG9yIHNlbGYgZm9yXG4gICAqICAgIGNoYWluaW5nIG90aGVyd2lzZS5cbiAgICovXG4gIHRoaXMuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSBmdW5jdGlvbihyZWdleHApIHtcbiAgICBpZiAoaXNEZWZpbmVkKHJlZ2V4cCkpIHtcbiAgICAgICQkc2FuaXRpemVVcmlQcm92aWRlci5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdChyZWdleHApO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAkJHNhbml0aXplVXJpUHJvdmlkZXIuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QoKTtcbiAgICB9XG4gIH07XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2ltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmV0cmlldmVzIG9yIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIGZvciB3aGl0ZWxpc3Rpbmcgb2Ygc2FmZVxuICAgKiB1cmxzIGR1cmluZyBpbWdbc3JjXSBzYW5pdGl6YXRpb24uXG4gICAqXG4gICAqIFRoZSBzYW5pdGl6YXRpb24gaXMgYSBzZWN1cml0eSBtZWFzdXJlIGFpbWVkIGF0IHByZXZlbnQgWFNTIGF0dGFja3MgdmlhIGh0bWwgbGlua3MuXG4gICAqXG4gICAqIEFueSB1cmwgYWJvdXQgdG8gYmUgYXNzaWduZWQgdG8gaW1nW3NyY10gdmlhIGRhdGEtYmluZGluZyBpcyBmaXJzdCBub3JtYWxpemVkIGFuZCB0dXJuZWQgaW50b1xuICAgKiBhbiBhYnNvbHV0ZSB1cmwuIEFmdGVyd2FyZHMsIHRoZSB1cmwgaXMgbWF0Y2hlZCBhZ2FpbnN0IHRoZSBgaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0YFxuICAgKiByZWd1bGFyIGV4cHJlc3Npb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIHRoZSBvcmlnaW5hbCB1cmwgaXMgd3JpdHRlbiBpbnRvIHRoZSBkb20uIE90aGVyd2lzZSxcbiAgICogdGhlIGFic29sdXRlIHVybCBpcyBwcmVmaXhlZCB3aXRoIGAndW5zYWZlOidgIHN0cmluZyBhbmQgb25seSB0aGVuIGlzIGl0IHdyaXR0ZW4gaW50byB0aGUgRE9NLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlZ0V4cD19IHJlZ2V4cCBOZXcgcmVnZXhwIHRvIHdoaXRlbGlzdCB1cmxzIHdpdGguXG4gICAqIEByZXR1cm5zIHtSZWdFeHB8bmcuJGNvbXBpbGVQcm92aWRlcn0gQ3VycmVudCBSZWdFeHAgaWYgY2FsbGVkIHdpdGhvdXQgdmFsdWUgb3Igc2VsZiBmb3JcbiAgICogICAgY2hhaW5pbmcgb3RoZXJ3aXNlLlxuICAgKi9cbiAgdGhpcy5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSBmdW5jdGlvbihyZWdleHApIHtcbiAgICBpZiAoaXNEZWZpbmVkKHJlZ2V4cCkpIHtcbiAgICAgICQkc2FuaXRpemVVcmlQcm92aWRlci5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QocmVnZXhwKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAgJGNvbXBpbGVQcm92aWRlciNkZWJ1Z0luZm9FbmFibGVkXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGVuYWJsZWQgdXBkYXRlIHRoZSBkZWJ1Z0luZm9FbmFibGVkIHN0YXRlIGlmIHByb3ZpZGVkLCBvdGhlcndpc2UganVzdCByZXR1cm4gdGhlXG4gICAqIGN1cnJlbnQgZGVidWdJbmZvRW5hYmxlZCBzdGF0ZVxuICAgKiBAcmV0dXJucyB7Kn0gY3VycmVudCB2YWx1ZSBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxuICAgKlxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ2FsbCB0aGlzIG1ldGhvZCB0byBlbmFibGUvZGlzYWJsZSB2YXJpb3VzIGRlYnVnIHJ1bnRpbWUgaW5mb3JtYXRpb24gaW4gdGhlIGNvbXBpbGVyIHN1Y2ggYXMgYWRkaW5nXG4gICAqIGJpbmRpbmcgaW5mb3JtYXRpb24gYW5kIGEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHNjb3BlIG9uIHRvIERPTSBlbGVtZW50cy5cbiAgICogSWYgZW5hYmxlZCwgdGhlIGNvbXBpbGVyIHdpbGwgYWRkIHRoZSBmb2xsb3dpbmcgdG8gRE9NIGVsZW1lbnRzIHRoYXQgaGF2ZSBiZWVuIGJvdW5kIHRvIHRoZSBzY29wZVxuICAgKiAqIGBuZy1iaW5kaW5nYCBDU1MgY2xhc3NcbiAgICogKiBgJGJpbmRpbmdgIGRhdGEgcHJvcGVydHkgY29udGFpbmluZyBhbiBhcnJheSBvZiB0aGUgYmluZGluZyBleHByZXNzaW9uc1xuICAgKlxuICAgKiBZb3UgbWF5IHdhbnQgdG8gZGlzYWJsZSB0aGlzIGluIHByb2R1Y3Rpb24gZm9yIGEgc2lnbmlmaWNhbnQgcGVyZm9ybWFuY2UgYm9vc3QuIFNlZVxuICAgKiB7QGxpbmsgZ3VpZGUvcHJvZHVjdGlvbiNkaXNhYmxpbmctZGVidWctZGF0YSBEaXNhYmxpbmcgRGVidWcgRGF0YX0gZm9yIG1vcmUuXG4gICAqXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXG4gICAqL1xuICB2YXIgZGVidWdJbmZvRW5hYmxlZCA9IHRydWU7XG4gIHRoaXMuZGVidWdJbmZvRW5hYmxlZCA9IGZ1bmN0aW9uKGVuYWJsZWQpIHtcbiAgICBpZiAoaXNEZWZpbmVkKGVuYWJsZWQpKSB7XG4gICAgICBkZWJ1Z0luZm9FbmFibGVkID0gZW5hYmxlZDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gZGVidWdJbmZvRW5hYmxlZDtcbiAgfTtcblxuICB0aGlzLiRnZXQgPSBbXG4gICAgICAgICAgICAnJGluamVjdG9yJywgJyRpbnRlcnBvbGF0ZScsICckZXhjZXB0aW9uSGFuZGxlcicsICckdGVtcGxhdGVSZXF1ZXN0JywgJyRwYXJzZScsXG4gICAgICAgICAgICAnJGNvbnRyb2xsZXInLCAnJHJvb3RTY29wZScsICckZG9jdW1lbnQnLCAnJHNjZScsICckYW5pbWF0ZScsICckJHNhbml0aXplVXJpJyxcbiAgICBmdW5jdGlvbigkaW5qZWN0b3IsICAgJGludGVycG9sYXRlLCAgICRleGNlcHRpb25IYW5kbGVyLCAgICR0ZW1wbGF0ZVJlcXVlc3QsICAgJHBhcnNlLFxuICAgICAgICAgICAgICRjb250cm9sbGVyLCAgICRyb290U2NvcGUsICAgJGRvY3VtZW50LCAgICRzY2UsICAgJGFuaW1hdGUsICAgJCRzYW5pdGl6ZVVyaSkge1xuXG4gICAgdmFyIEF0dHJpYnV0ZXMgPSBmdW5jdGlvbihlbGVtZW50LCBhdHRyaWJ1dGVzVG9Db3B5KSB7XG4gICAgICBpZiAoYXR0cmlidXRlc1RvQ29weSkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGF0dHJpYnV0ZXNUb0NvcHkpO1xuICAgICAgICB2YXIgaSwgbCwga2V5O1xuXG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgdGhpc1trZXldID0gYXR0cmlidXRlc1RvQ29weVtrZXldO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLiRhdHRyID0ge307XG4gICAgICB9XG5cbiAgICAgIHRoaXMuJCRlbGVtZW50ID0gZWxlbWVudDtcbiAgICB9O1xuXG4gICAgQXR0cmlidXRlcy5wcm90b3R5cGUgPSB7XG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRub3JtYWxpemVcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBDb252ZXJ0cyBhbiBhdHRyaWJ1dGUgbmFtZSAoZS5nLiBkYXNoL2NvbG9uL3VuZGVyc2NvcmUtZGVsaW1pdGVkIHN0cmluZywgb3B0aW9uYWxseSBwcmVmaXhlZCB3aXRoIGB4LWAgb3JcbiAgICAgICAqIGBkYXRhLWApIHRvIGl0cyBub3JtYWxpemVkLCBjYW1lbENhc2UgZm9ybS5cbiAgICAgICAqXG4gICAgICAgKiBBbHNvIHRoZXJlIGlzIHNwZWNpYWwgY2FzZSBmb3IgTW96IHByZWZpeCBzdGFydGluZyB3aXRoIHVwcGVyIGNhc2UgbGV0dGVyLlxuICAgICAgICpcbiAgICAgICAqIEZvciBmdXJ0aGVyIGluZm9ybWF0aW9uIGNoZWNrIG91dCB0aGUgZ3VpZGUgb24ge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSNtYXRjaGluZy1kaXJlY3RpdmVzIE1hdGNoaW5nIERpcmVjdGl2ZXN9XG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSB0byBub3JtYWxpemVcbiAgICAgICAqL1xuICAgICAgJG5vcm1hbGl6ZTogZGlyZWN0aXZlTm9ybWFsaXplLFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJGFkZENsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQWRkcyB0aGUgQ1NTIGNsYXNzIHZhbHVlIHNwZWNpZmllZCBieSB0aGUgY2xhc3NWYWwgcGFyYW1ldGVyIHRvIHRoZSBlbGVtZW50LiBJZiBhbmltYXRpb25zXG4gICAgICAgKiBhcmUgZW5hYmxlZCB0aGVuIGFuIGFuaW1hdGlvbiB3aWxsIGJlIHRyaWdnZXJlZCBmb3IgdGhlIGNsYXNzIGFkZGl0aW9uLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc1ZhbCBUaGUgY2xhc3NOYW1lIHZhbHVlIHRoYXQgd2lsbCBiZSBhZGRlZCB0byB0aGUgZWxlbWVudFxuICAgICAgICovXG4gICAgICAkYWRkQ2xhc3M6IGZ1bmN0aW9uKGNsYXNzVmFsKSB7XG4gICAgICAgIGlmIChjbGFzc1ZhbCAmJiBjbGFzc1ZhbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsIGNsYXNzVmFsKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkcmVtb3ZlQ2xhc3NcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZW1vdmVzIHRoZSBDU1MgY2xhc3MgdmFsdWUgc3BlY2lmaWVkIGJ5IHRoZSBjbGFzc1ZhbCBwYXJhbWV0ZXIgZnJvbSB0aGUgZWxlbWVudC4gSWZcbiAgICAgICAqIGFuaW1hdGlvbnMgYXJlIGVuYWJsZWQgdGhlbiBhbiBhbmltYXRpb24gd2lsbCBiZSB0cmlnZ2VyZWQgZm9yIHRoZSBjbGFzcyByZW1vdmFsLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc1ZhbCBUaGUgY2xhc3NOYW1lIHZhbHVlIHRoYXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnRcbiAgICAgICAqL1xuICAgICAgJHJlbW92ZUNsYXNzOiBmdW5jdGlvbihjbGFzc1ZhbCkge1xuICAgICAgICBpZiAoY2xhc3NWYWwgJiYgY2xhc3NWYWwubGVuZ3RoID4gMCkge1xuICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LCBjbGFzc1ZhbCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJHVwZGF0ZUNsYXNzXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQWRkcyBhbmQgcmVtb3ZlcyB0aGUgYXBwcm9wcmlhdGUgQ1NTIGNsYXNzIHZhbHVlcyB0byB0aGUgZWxlbWVudCBiYXNlZCBvbiB0aGUgZGlmZmVyZW5jZVxuICAgICAgICogYmV0d2VlbiB0aGUgbmV3IGFuZCBvbGQgQ1NTIGNsYXNzIHZhbHVlcyAoc3BlY2lmaWVkIGFzIG5ld0NsYXNzZXMgYW5kIG9sZENsYXNzZXMpLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdDbGFzc2VzIFRoZSBjdXJyZW50IENTUyBjbGFzc05hbWUgdmFsdWVcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvbGRDbGFzc2VzIFRoZSBmb3JtZXIgQ1NTIGNsYXNzTmFtZSB2YWx1ZVxuICAgICAgICovXG4gICAgICAkdXBkYXRlQ2xhc3M6IGZ1bmN0aW9uKG5ld0NsYXNzZXMsIG9sZENsYXNzZXMpIHtcbiAgICAgICAgdmFyIHRvQWRkID0gdG9rZW5EaWZmZXJlbmNlKG5ld0NsYXNzZXMsIG9sZENsYXNzZXMpO1xuICAgICAgICBpZiAodG9BZGQgJiYgdG9BZGQubGVuZ3RoKSB7XG4gICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsIHRvQWRkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b1JlbW92ZSA9IHRva2VuRGlmZmVyZW5jZShvbGRDbGFzc2VzLCBuZXdDbGFzc2VzKTtcbiAgICAgICAgaWYgKHRvUmVtb3ZlICYmIHRvUmVtb3ZlLmxlbmd0aCkge1xuICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LCB0b1JlbW92ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogU2V0IGEgbm9ybWFsaXplZCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQgaW4gYSB3YXkgc3VjaCB0aGF0IGFsbCBkaXJlY3RpdmVzXG4gICAgICAgKiBjYW4gc2hhcmUgdGhlIGF0dHJpYnV0ZS4gVGhpcyBmdW5jdGlvbiBwcm9wZXJseSBoYW5kbGVzIGJvb2xlYW4gYXR0cmlidXRlcy5cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgTm9ybWFsaXplZCBrZXkuIChpZSBuZ0F0dHJpYnV0ZSlcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuIElmIGBudWxsYCBhdHRyaWJ1dGUgd2lsbCBiZSBkZWxldGVkLlxuICAgICAgICogQHBhcmFtIHtib29sZWFuPX0gd3JpdGVBdHRyIElmIGZhbHNlLCBkb2VzIG5vdCB3cml0ZSB0aGUgdmFsdWUgdG8gRE9NIGVsZW1lbnQgYXR0cmlidXRlLlxuICAgICAgICogICAgIERlZmF1bHRzIHRvIHRydWUuXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZz19IGF0dHJOYW1lIE9wdGlvbmFsIG5vbmUgbm9ybWFsaXplZCBuYW1lLiBEZWZhdWx0cyB0byBrZXkuXG4gICAgICAgKi9cbiAgICAgICRzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUsIHdyaXRlQXR0ciwgYXR0ck5hbWUpIHtcbiAgICAgICAgLy8gVE9ETzogZGVjaWRlIHdoZXRoZXIgb3Igbm90IHRvIHRocm93IGFuIGVycm9yIGlmIFwiY2xhc3NcIlxuICAgICAgICAvL2lzIHNldCB0aHJvdWdoIHRoaXMgZnVuY3Rpb24gc2luY2UgaXQgbWF5IGNhdXNlICR1cGRhdGVDbGFzcyB0b1xuICAgICAgICAvL2JlY29tZSB1bnN0YWJsZS5cblxuICAgICAgICB2YXIgbm9kZSA9IHRoaXMuJCRlbGVtZW50WzBdLFxuICAgICAgICAgICAgYm9vbGVhbktleSA9IGdldEJvb2xlYW5BdHRyTmFtZShub2RlLCBrZXkpLFxuICAgICAgICAgICAgYWxpYXNlZEtleSA9IGdldEFsaWFzZWRBdHRyTmFtZShub2RlLCBrZXkpLFxuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBrZXksXG4gICAgICAgICAgICBub2RlTmFtZTtcblxuICAgICAgICBpZiAoYm9vbGVhbktleSkge1xuICAgICAgICAgIHRoaXMuJCRlbGVtZW50LnByb3Aoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgYXR0ck5hbWUgPSBib29sZWFuS2V5O1xuICAgICAgICB9IGVsc2UgaWYgKGFsaWFzZWRLZXkpIHtcbiAgICAgICAgICB0aGlzW2FsaWFzZWRLZXldID0gdmFsdWU7XG4gICAgICAgICAgb2JzZXJ2ZXIgPSBhbGlhc2VkS2V5O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpc1trZXldID0gdmFsdWU7XG5cbiAgICAgICAgLy8gdHJhbnNsYXRlIG5vcm1hbGl6ZWQga2V5IHRvIGFjdHVhbCBrZXlcbiAgICAgICAgaWYgKGF0dHJOYW1lKSB7XG4gICAgICAgICAgdGhpcy4kYXR0cltrZXldID0gYXR0ck5hbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXR0ck5hbWUgPSB0aGlzLiRhdHRyW2tleV07XG4gICAgICAgICAgaWYgKCFhdHRyTmFtZSkge1xuICAgICAgICAgICAgdGhpcy4kYXR0cltrZXldID0gYXR0ck5hbWUgPSBzbmFrZV9jYXNlKGtleSwgJy0nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBub2RlTmFtZSA9IG5vZGVOYW1lXyh0aGlzLiQkZWxlbWVudCk7XG5cbiAgICAgICAgaWYgKChub2RlTmFtZSA9PT0gJ2EnICYmIGtleSA9PT0gJ2hyZWYnKSB8fFxuICAgICAgICAgICAgKG5vZGVOYW1lID09PSAnaW1nJyAmJiBrZXkgPT09ICdzcmMnKSkge1xuICAgICAgICAgIC8vIHNhbml0aXplIGFbaHJlZl0gYW5kIGltZ1tzcmNdIHZhbHVlc1xuICAgICAgICAgIHRoaXNba2V5XSA9IHZhbHVlID0gJCRzYW5pdGl6ZVVyaSh2YWx1ZSwga2V5ID09PSAnc3JjJyk7XG4gICAgICAgIH0gZWxzZSBpZiAobm9kZU5hbWUgPT09ICdpbWcnICYmIGtleSA9PT0gJ3NyY3NldCcpIHtcbiAgICAgICAgICAvLyBzYW5pdGl6ZSBpbWdbc3Jjc2V0XSB2YWx1ZXNcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gXCJcIjtcblxuICAgICAgICAgIC8vIGZpcnN0IGNoZWNrIGlmIHRoZXJlIGFyZSBzcGFjZXMgYmVjYXVzZSBpdCdzIG5vdCB0aGUgc2FtZSBwYXR0ZXJuXG4gICAgICAgICAgdmFyIHRyaW1tZWRTcmNzZXQgPSB0cmltKHZhbHVlKTtcbiAgICAgICAgICAvLyAgICAgICAgICAgICAgICAoICAgOTk5eCAgICx8ICAgOTk5dyAgICx8ICAgLHwsICAgKVxuICAgICAgICAgIHZhciBzcmNQYXR0ZXJuID0gLyhcXHMrXFxkK3hcXHMqLHxcXHMrXFxkK3dcXHMqLHxcXHMrLHwsXFxzKykvO1xuICAgICAgICAgIHZhciBwYXR0ZXJuID0gL1xccy8udGVzdCh0cmltbWVkU3Jjc2V0KSA/IHNyY1BhdHRlcm4gOiAvKCwpLztcblxuICAgICAgICAgIC8vIHNwbGl0IHNyY3NldCBpbnRvIHR1cGxlIG9mIHVyaSBhbmQgZGVzY3JpcHRvciBleGNlcHQgZm9yIHRoZSBsYXN0IGl0ZW1cbiAgICAgICAgICB2YXIgcmF3VXJpcyA9IHRyaW1tZWRTcmNzZXQuc3BsaXQocGF0dGVybik7XG5cbiAgICAgICAgICAvLyBmb3IgZWFjaCB0dXBsZXNcbiAgICAgICAgICB2YXIgbmJyVXJpc1dpdGgycGFydHMgPSBNYXRoLmZsb29yKHJhd1VyaXMubGVuZ3RoIC8gMik7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYnJVcmlzV2l0aDJwYXJ0czsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaW5uZXJJZHggPSBpICogMjtcbiAgICAgICAgICAgIC8vIHNhbml0aXplIHRoZSB1cmlcbiAgICAgICAgICAgIHJlc3VsdCArPSAkJHNhbml0aXplVXJpKHRyaW0ocmF3VXJpc1tpbm5lcklkeF0pLCB0cnVlKTtcbiAgICAgICAgICAgIC8vIGFkZCB0aGUgZGVzY3JpcHRvclxuICAgICAgICAgICAgcmVzdWx0ICs9IChcIiBcIiArIHRyaW0ocmF3VXJpc1tpbm5lcklkeCArIDFdKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gc3BsaXQgdGhlIGxhc3QgaXRlbSBpbnRvIHVyaSBhbmQgZGVzY3JpcHRvclxuICAgICAgICAgIHZhciBsYXN0VHVwbGUgPSB0cmltKHJhd1VyaXNbaSAqIDJdKS5zcGxpdCgvXFxzLyk7XG5cbiAgICAgICAgICAvLyBzYW5pdGl6ZSB0aGUgbGFzdCB1cmlcbiAgICAgICAgICByZXN1bHQgKz0gJCRzYW5pdGl6ZVVyaSh0cmltKGxhc3RUdXBsZVswXSksIHRydWUpO1xuXG4gICAgICAgICAgLy8gYW5kIGFkZCB0aGUgbGFzdCBkZXNjcmlwdG9yIGlmIGFueVxuICAgICAgICAgIGlmIChsYXN0VHVwbGUubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gKFwiIFwiICsgdHJpbShsYXN0VHVwbGVbMV0pKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpc1trZXldID0gdmFsdWUgPSByZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod3JpdGVBdHRyICE9PSBmYWxzZSkge1xuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLiQkZWxlbWVudC5yZW1vdmVBdHRyKGF0dHJOYW1lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4kJGVsZW1lbnQuYXR0cihhdHRyTmFtZSwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpcmUgb2JzZXJ2ZXJzXG4gICAgICAgIHZhciAkJG9ic2VydmVycyA9IHRoaXMuJCRvYnNlcnZlcnM7XG4gICAgICAgICQkb2JzZXJ2ZXJzICYmIGZvckVhY2goJCRvYnNlcnZlcnNbb2JzZXJ2ZXJdLCBmdW5jdGlvbihmbikge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbih2YWx1ZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkb2JzZXJ2ZVxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIE9ic2VydmVzIGFuIGludGVycG9sYXRlZCBhdHRyaWJ1dGUuXG4gICAgICAgKlxuICAgICAgICogVGhlIG9ic2VydmVyIGZ1bmN0aW9uIHdpbGwgYmUgaW52b2tlZCBvbmNlIGR1cmluZyB0aGUgbmV4dCBgJGRpZ2VzdGAgZm9sbG93aW5nXG4gICAgICAgKiBjb21waWxhdGlvbi4gVGhlIG9ic2VydmVyIGlzIHRoZW4gaW52b2tlZCB3aGVuZXZlciB0aGUgaW50ZXJwb2xhdGVkIHZhbHVlXG4gICAgICAgKiBjaGFuZ2VzLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgTm9ybWFsaXplZCBrZXkuIChpZSBuZ0F0dHJpYnV0ZSkgLlxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbihpbnRlcnBvbGF0ZWRWYWx1ZSl9IGZuIEZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbmV2ZXJcbiAgICAgICAgICAgICAgICB0aGUgaW50ZXJwb2xhdGVkIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUgY2hhbmdlcy5cbiAgICAgICAqICAgICAgICBTZWUgdGhlIHtAbGluayBndWlkZS9kaXJlY3RpdmUjdGV4dC1hbmQtYXR0cmlidXRlLWJpbmRpbmdzIERpcmVjdGl2ZXN9IGd1aWRlIGZvciBtb3JlIGluZm8uXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gUmV0dXJucyBhIGRlcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIG9ic2VydmVyLlxuICAgICAgICovXG4gICAgICAkb2JzZXJ2ZTogZnVuY3Rpb24oa2V5LCBmbikge1xuICAgICAgICB2YXIgYXR0cnMgPSB0aGlzLFxuICAgICAgICAgICAgJCRvYnNlcnZlcnMgPSAoYXR0cnMuJCRvYnNlcnZlcnMgfHwgKGF0dHJzLiQkb2JzZXJ2ZXJzID0gY3JlYXRlTWFwKCkpKSxcbiAgICAgICAgICAgIGxpc3RlbmVycyA9ICgkJG9ic2VydmVyc1trZXldIHx8ICgkJG9ic2VydmVyc1trZXldID0gW10pKTtcblxuICAgICAgICBsaXN0ZW5lcnMucHVzaChmbik7XG4gICAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoIWxpc3RlbmVycy4kJGludGVyICYmIGF0dHJzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIC8vIG5vIG9uZSByZWdpc3RlcmVkIGF0dHJpYnV0ZSBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uLCBzbyBsZXRzIGNhbGwgaXQgbWFudWFsbHlcbiAgICAgICAgICAgIGZuKGF0dHJzW2tleV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGFycmF5UmVtb3ZlKGxpc3RlbmVycywgZm4pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cblxuICAgIGZ1bmN0aW9uIHNhZmVBZGRDbGFzcygkZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gICAgICB0cnkge1xuICAgICAgICAkZWxlbWVudC5hZGRDbGFzcyhjbGFzc05hbWUpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpZ25vcmUsIHNpbmNlIGl0IG1lYW5zIHRoYXQgd2UgYXJlIHRyeWluZyB0byBzZXQgY2xhc3Mgb25cbiAgICAgICAgLy8gU1ZHIGVsZW1lbnQsIHdoZXJlIGNsYXNzIG5hbWUgaXMgcmVhZC1vbmx5LlxuICAgICAgfVxuICAgIH1cblxuXG4gICAgdmFyIHN0YXJ0U3ltYm9sID0gJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCksXG4gICAgICAgIGVuZFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSxcbiAgICAgICAgZGVub3JtYWxpemVUZW1wbGF0ZSA9IChzdGFydFN5bWJvbCA9PSAne3snIHx8IGVuZFN5bWJvbCAgPT0gJ319JylcbiAgICAgICAgICAgID8gaWRlbnRpdHlcbiAgICAgICAgICAgIDogZnVuY3Rpb24gZGVub3JtYWxpemVUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gdGVtcGxhdGUucmVwbGFjZSgvXFx7XFx7L2csIHN0YXJ0U3ltYm9sKS5yZXBsYWNlKC99fS9nLCBlbmRTeW1ib2wpO1xuICAgICAgICB9LFxuICAgICAgICBOR19BVFRSX0JJTkRJTkcgPSAvXm5nQXR0cltBLVpdLztcblxuICAgIGNvbXBpbGUuJCRhZGRCaW5kaW5nSW5mbyA9IGRlYnVnSW5mb0VuYWJsZWQgPyBmdW5jdGlvbiAkJGFkZEJpbmRpbmdJbmZvKCRlbGVtZW50LCBiaW5kaW5nKSB7XG4gICAgICB2YXIgYmluZGluZ3MgPSAkZWxlbWVudC5kYXRhKCckYmluZGluZycpIHx8IFtdO1xuXG4gICAgICBpZiAoaXNBcnJheShiaW5kaW5nKSkge1xuICAgICAgICBiaW5kaW5ncyA9IGJpbmRpbmdzLmNvbmNhdChiaW5kaW5nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJpbmRpbmdzLnB1c2goYmluZGluZyk7XG4gICAgICB9XG5cbiAgICAgICRlbGVtZW50LmRhdGEoJyRiaW5kaW5nJywgYmluZGluZ3MpO1xuICAgIH0gOiBub29wO1xuXG4gICAgY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyA9IGRlYnVnSW5mb0VuYWJsZWQgPyBmdW5jdGlvbiAkJGFkZEJpbmRpbmdDbGFzcygkZWxlbWVudCkge1xuICAgICAgc2FmZUFkZENsYXNzKCRlbGVtZW50LCAnbmctYmluZGluZycpO1xuICAgIH0gOiBub29wO1xuXG4gICAgY29tcGlsZS4kJGFkZFNjb3BlSW5mbyA9IGRlYnVnSW5mb0VuYWJsZWQgPyBmdW5jdGlvbiAkJGFkZFNjb3BlSW5mbygkZWxlbWVudCwgc2NvcGUsIGlzb2xhdGVkLCBub1RlbXBsYXRlKSB7XG4gICAgICB2YXIgZGF0YU5hbWUgPSBpc29sYXRlZCA/IChub1RlbXBsYXRlID8gJyRpc29sYXRlU2NvcGVOb1RlbXBsYXRlJyA6ICckaXNvbGF0ZVNjb3BlJykgOiAnJHNjb3BlJztcbiAgICAgICRlbGVtZW50LmRhdGEoZGF0YU5hbWUsIHNjb3BlKTtcbiAgICB9IDogbm9vcDtcblxuICAgIGNvbXBpbGUuJCRhZGRTY29wZUNsYXNzID0gZGVidWdJbmZvRW5hYmxlZCA/IGZ1bmN0aW9uICQkYWRkU2NvcGVDbGFzcygkZWxlbWVudCwgaXNvbGF0ZWQpIHtcbiAgICAgIHNhZmVBZGRDbGFzcygkZWxlbWVudCwgaXNvbGF0ZWQgPyAnbmctaXNvbGF0ZS1zY29wZScgOiAnbmctc2NvcGUnKTtcbiAgICB9IDogbm9vcDtcblxuICAgIHJldHVybiBjb21waWxlO1xuXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgZnVuY3Rpb24gY29tcGlsZSgkY29tcGlsZU5vZGVzLCB0cmFuc2NsdWRlRm4sIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0KSB7XG4gICAgICBpZiAoISgkY29tcGlsZU5vZGVzIGluc3RhbmNlb2YganFMaXRlKSkge1xuICAgICAgICAvLyBqcXVlcnkgYWx3YXlzIHJld3JhcHMsIHdoZXJlYXMgd2UgbmVlZCB0byBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgc2VsZWN0b3Igc28gdGhhdCB3ZSBjYW5cbiAgICAgICAgLy8gbW9kaWZ5IGl0LlxuICAgICAgICAkY29tcGlsZU5vZGVzID0ganFMaXRlKCRjb21waWxlTm9kZXMpO1xuICAgICAgfVxuICAgICAgLy8gV2UgY2FuIG5vdCBjb21waWxlIHRvcCBsZXZlbCB0ZXh0IGVsZW1lbnRzIHNpbmNlIHRleHQgbm9kZXMgY2FuIGJlIG1lcmdlZCBhbmQgd2Ugd2lsbFxuICAgICAgLy8gbm90IGJlIGFibGUgdG8gYXR0YWNoIHNjb3BlIGRhdGEgdG8gdGhlbSwgc28gd2Ugd2lsbCB3cmFwIHRoZW0gaW4gPHNwYW4+XG4gICAgICBmb3JFYWNoKCRjb21waWxlTm9kZXMsIGZ1bmN0aW9uKG5vZGUsIGluZGV4KSB7XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IE5PREVfVFlQRV9URVhUICYmIG5vZGUubm9kZVZhbHVlLm1hdGNoKC9cXFMrLykgLyogbm9uLWVtcHR5ICovICkge1xuICAgICAgICAgICRjb21waWxlTm9kZXNbaW5kZXhdID0ganFMaXRlKG5vZGUpLndyYXAoJzxzcGFuPjwvc3Bhbj4nKS5wYXJlbnQoKVswXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB2YXIgY29tcG9zaXRlTGlua0ZuID1cbiAgICAgICAgICAgICAgY29tcGlsZU5vZGVzKCRjb21waWxlTm9kZXMsIHRyYW5zY2x1ZGVGbiwgJGNvbXBpbGVOb2RlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpO1xuICAgICAgY29tcGlsZS4kJGFkZFNjb3BlQ2xhc3MoJGNvbXBpbGVOb2Rlcyk7XG4gICAgICB2YXIgbmFtZXNwYWNlID0gbnVsbDtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBwdWJsaWNMaW5rRm4oc2NvcGUsIGNsb25lQ29ubmVjdEZuLCBvcHRpb25zKSB7XG4gICAgICAgIGFzc2VydEFyZyhzY29wZSwgJ3Njb3BlJyk7XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHZhciBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbiA9IG9wdGlvbnMucGFyZW50Qm91bmRUcmFuc2NsdWRlRm4sXG4gICAgICAgICAgdHJhbnNjbHVkZUNvbnRyb2xsZXJzID0gb3B0aW9ucy50cmFuc2NsdWRlQ29udHJvbGxlcnMsXG4gICAgICAgICAgZnV0dXJlUGFyZW50RWxlbWVudCA9IG9wdGlvbnMuZnV0dXJlUGFyZW50RWxlbWVudDtcblxuICAgICAgICAvLyBXaGVuIGBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbmAgaXMgcGFzc2VkLCBpdCBpcyBhXG4gICAgICAgIC8vIGBjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZWAgZnVuY3Rpb24gKGl0IHdhcyBwcmV2aW91c2x5IHBhc3NlZFxuICAgICAgICAvLyBhcyBgdHJhbnNjbHVkZWAgdG8gZGlyZWN0aXZlLmxpbmspIHNvIHdlIG11c3QgdW53cmFwIGl0IHRvIGdldFxuICAgICAgICAvLyBpdHMgYGJvdW5kVHJhbnNjbHVkZUZuYFxuICAgICAgICBpZiAocGFyZW50Qm91bmRUcmFuc2NsdWRlRm4gJiYgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4uJCRib3VuZFRyYW5zY2x1ZGUpIHtcbiAgICAgICAgICBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbiA9IHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuLiQkYm91bmRUcmFuc2NsdWRlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICAgICAgICBuYW1lc3BhY2UgPSBkZXRlY3ROYW1lc3BhY2VGb3JDaGlsZEVsZW1lbnRzKGZ1dHVyZVBhcmVudEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciAkbGlua05vZGU7XG4gICAgICAgIGlmIChuYW1lc3BhY2UgIT09ICdodG1sJykge1xuICAgICAgICAgIC8vIFdoZW4gdXNpbmcgYSBkaXJlY3RpdmUgd2l0aCByZXBsYWNlOnRydWUgYW5kIHRlbXBsYXRlVXJsIHRoZSAkY29tcGlsZU5vZGVzXG4gICAgICAgICAgLy8gKG9yIGEgY2hpbGQgZWxlbWVudCBpbnNpZGUgb2YgdGhlbSlcbiAgICAgICAgICAvLyBtaWdodCBjaGFuZ2UsIHNvIHdlIG5lZWQgdG8gcmVjcmVhdGUgdGhlIG5hbWVzcGFjZSBhZGFwdGVkIGNvbXBpbGVOb2Rlc1xuICAgICAgICAgIC8vIGZvciBjYWxsIHRvIHRoZSBsaW5rIGZ1bmN0aW9uLlxuICAgICAgICAgIC8vIE5vdGU6IFRoaXMgd2lsbCBhbHJlYWR5IGNsb25lIHRoZSBub2Rlcy4uLlxuICAgICAgICAgICRsaW5rTm9kZSA9IGpxTGl0ZShcbiAgICAgICAgICAgIHdyYXBUZW1wbGF0ZShuYW1lc3BhY2UsIGpxTGl0ZSgnPGRpdj4nKS5hcHBlbmQoJGNvbXBpbGVOb2RlcykuaHRtbCgpKVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2xvbmVDb25uZWN0Rm4pIHtcbiAgICAgICAgICAvLyBpbXBvcnRhbnQhITogd2UgbXVzdCBjYWxsIG91ciBqcUxpdGUuY2xvbmUoKSBzaW5jZSB0aGUgalF1ZXJ5IG9uZSBpcyB0cnlpbmcgdG8gYmUgc21hcnRcbiAgICAgICAgICAvLyBhbmQgc29tZXRpbWVzIGNoYW5nZXMgdGhlIHN0cnVjdHVyZSBvZiB0aGUgRE9NLlxuICAgICAgICAgICRsaW5rTm9kZSA9IEpRTGl0ZVByb3RvdHlwZS5jbG9uZS5jYWxsKCRjb21waWxlTm9kZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRsaW5rTm9kZSA9ICRjb21waWxlTm9kZXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhbnNjbHVkZUNvbnRyb2xsZXJzKSB7XG4gICAgICAgICAgZm9yICh2YXIgY29udHJvbGxlck5hbWUgaW4gdHJhbnNjbHVkZUNvbnRyb2xsZXJzKSB7XG4gICAgICAgICAgICAkbGlua05vZGUuZGF0YSgnJCcgKyBjb250cm9sbGVyTmFtZSArICdDb250cm9sbGVyJywgdHJhbnNjbHVkZUNvbnRyb2xsZXJzW2NvbnRyb2xsZXJOYW1lXS5pbnN0YW5jZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlSW5mbygkbGlua05vZGUsIHNjb3BlKTtcblxuICAgICAgICBpZiAoY2xvbmVDb25uZWN0Rm4pIGNsb25lQ29ubmVjdEZuKCRsaW5rTm9kZSwgc2NvcGUpO1xuICAgICAgICBpZiAoY29tcG9zaXRlTGlua0ZuKSBjb21wb3NpdGVMaW5rRm4oc2NvcGUsICRsaW5rTm9kZSwgJGxpbmtOb2RlLCBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgIHJldHVybiAkbGlua05vZGU7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRldGVjdE5hbWVzcGFjZUZvckNoaWxkRWxlbWVudHMocGFyZW50RWxlbWVudCkge1xuICAgICAgLy8gVE9ETzogTWFrZSB0aGlzIGRldGVjdCBNYXRoTUwgYXMgd2VsbC4uLlxuICAgICAgdmFyIG5vZGUgPSBwYXJlbnRFbGVtZW50ICYmIHBhcmVudEVsZW1lbnRbMF07XG4gICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgcmV0dXJuICdodG1sJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBub2RlTmFtZV8obm9kZSkgIT09ICdmb3JlaWdub2JqZWN0JyAmJiBub2RlLnRvU3RyaW5nKCkubWF0Y2goL1NWRy8pID8gJ3N2ZycgOiAnaHRtbCc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGlsZSBmdW5jdGlvbiBtYXRjaGVzIGVhY2ggbm9kZSBpbiBub2RlTGlzdCBhZ2FpbnN0IHRoZSBkaXJlY3RpdmVzLiBPbmNlIGFsbCBkaXJlY3RpdmVzXG4gICAgICogZm9yIGEgcGFydGljdWxhciBub2RlIGFyZSBjb2xsZWN0ZWQgdGhlaXIgY29tcGlsZSBmdW5jdGlvbnMgYXJlIGV4ZWN1dGVkLiBUaGUgY29tcGlsZVxuICAgICAqIGZ1bmN0aW9ucyByZXR1cm4gdmFsdWVzIC0gdGhlIGxpbmtpbmcgZnVuY3Rpb25zIC0gYXJlIGNvbWJpbmVkIGludG8gYSBjb21wb3NpdGUgbGlua2luZ1xuICAgICAqIGZ1bmN0aW9uLCB3aGljaCBpcyB0aGUgYSBsaW5raW5nIGZ1bmN0aW9uIGZvciB0aGUgbm9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Tm9kZUxpc3R9IG5vZGVMaXN0IGFuIGFycmF5IG9mIG5vZGVzIG9yIE5vZGVMaXN0IHRvIGNvbXBpbGVcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGFuZ3VsYXIuU2NvcGUsIGNsb25lQXR0YWNoRm49KX0gdHJhbnNjbHVkZUZuIEEgbGlua2luZyBmdW5jdGlvbiwgd2hlcmUgdGhlXG4gICAgICogICAgICAgIHNjb3BlIGFyZ3VtZW50IGlzIGF1dG8tZ2VuZXJhdGVkIHRvIHRoZSBuZXcgY2hpbGQgb2YgdGhlIHRyYW5zY2x1ZGVkIHBhcmVudCBzY29wZS5cbiAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnQ9fSAkcm9vdEVsZW1lbnQgSWYgdGhlIG5vZGVMaXN0IGlzIHRoZSByb290IG9mIHRoZSBjb21waWxhdGlvbiB0cmVlIHRoZW5cbiAgICAgKiAgICAgICAgdGhlIHJvb3RFbGVtZW50IG11c3QgYmUgc2V0IHRoZSBqcUxpdGUgY29sbGVjdGlvbiBvZiB0aGUgY29tcGlsZSByb290LiBUaGlzIGlzXG4gICAgICogICAgICAgIG5lZWRlZCBzbyB0aGF0IHRoZSBqcUxpdGUgY29sbGVjdGlvbiBpdGVtcyBjYW4gYmUgcmVwbGFjZWQgd2l0aCB3aWRnZXRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gbWF4UHJpb3JpdHkgTWF4IGRpcmVjdGl2ZSBwcmlvcml0eS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgY29tcG9zaXRlIGxpbmtpbmcgZnVuY3Rpb24gb2YgYWxsIG9mIHRoZSBtYXRjaGVkIGRpcmVjdGl2ZXMgb3IgbnVsbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21waWxlTm9kZXMobm9kZUxpc3QsIHRyYW5zY2x1ZGVGbiwgJHJvb3RFbGVtZW50LCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcbiAgICAgIHZhciBsaW5rRm5zID0gW10sXG4gICAgICAgICAgYXR0cnMsIGRpcmVjdGl2ZXMsIG5vZGVMaW5rRm4sIGNoaWxkTm9kZXMsIGNoaWxkTGlua0ZuLCBsaW5rRm5Gb3VuZCwgbm9kZUxpbmtGbkZvdW5kO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGF0dHJzID0gbmV3IEF0dHJpYnV0ZXMoKTtcblxuICAgICAgICAvLyB3ZSBtdXN0IGFsd2F5cyByZWZlciB0byBub2RlTGlzdFtpXSBzaW5jZSB0aGUgbm9kZXMgY2FuIGJlIHJlcGxhY2VkIHVuZGVybmVhdGggdXMuXG4gICAgICAgIGRpcmVjdGl2ZXMgPSBjb2xsZWN0RGlyZWN0aXZlcyhub2RlTGlzdFtpXSwgW10sIGF0dHJzLCBpID09PSAwID8gbWF4UHJpb3JpdHkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWdub3JlRGlyZWN0aXZlKTtcblxuICAgICAgICBub2RlTGlua0ZuID0gKGRpcmVjdGl2ZXMubGVuZ3RoKVxuICAgICAgICAgICAgPyBhcHBseURpcmVjdGl2ZXNUb05vZGUoZGlyZWN0aXZlcywgbm9kZUxpc3RbaV0sIGF0dHJzLCB0cmFuc2NsdWRlRm4sICRyb290RWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCwgW10sIFtdLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KVxuICAgICAgICAgICAgOiBudWxsO1xuXG4gICAgICAgIGlmIChub2RlTGlua0ZuICYmIG5vZGVMaW5rRm4uc2NvcGUpIHtcbiAgICAgICAgICBjb21waWxlLiQkYWRkU2NvcGVDbGFzcyhhdHRycy4kJGVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hpbGRMaW5rRm4gPSAobm9kZUxpbmtGbiAmJiBub2RlTGlua0ZuLnRlcm1pbmFsIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIShjaGlsZE5vZGVzID0gbm9kZUxpc3RbaV0uY2hpbGROb2RlcykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAhY2hpbGROb2Rlcy5sZW5ndGgpXG4gICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgIDogY29tcGlsZU5vZGVzKGNoaWxkTm9kZXMsXG4gICAgICAgICAgICAgICAgIG5vZGVMaW5rRm4gPyAoXG4gICAgICAgICAgICAgICAgICAobm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudCB8fCAhbm9kZUxpbmtGbi50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgICAmJiBub2RlTGlua0ZuLnRyYW5zY2x1ZGUpIDogdHJhbnNjbHVkZUZuKTtcblxuICAgICAgICBpZiAobm9kZUxpbmtGbiB8fCBjaGlsZExpbmtGbikge1xuICAgICAgICAgIGxpbmtGbnMucHVzaChpLCBub2RlTGlua0ZuLCBjaGlsZExpbmtGbik7XG4gICAgICAgICAgbGlua0ZuRm91bmQgPSB0cnVlO1xuICAgICAgICAgIG5vZGVMaW5rRm5Gb3VuZCA9IG5vZGVMaW5rRm5Gb3VuZCB8fCBub2RlTGlua0ZuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy91c2UgdGhlIHByZXZpb3VzIGNvbnRleHQgb25seSBmb3IgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHZpcnR1YWwgZ3JvdXBcbiAgICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIHJldHVybiBhIGxpbmtpbmcgZnVuY3Rpb24gaWYgd2UgaGF2ZSBmb3VuZCBhbnl0aGluZywgbnVsbCBvdGhlcndpc2VcbiAgICAgIHJldHVybiBsaW5rRm5Gb3VuZCA/IGNvbXBvc2l0ZUxpbmtGbiA6IG51bGw7XG5cbiAgICAgIGZ1bmN0aW9uIGNvbXBvc2l0ZUxpbmtGbihzY29wZSwgbm9kZUxpc3QsICRyb290RWxlbWVudCwgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pIHtcbiAgICAgICAgdmFyIG5vZGVMaW5rRm4sIGNoaWxkTGlua0ZuLCBub2RlLCBjaGlsZFNjb3BlLCBpLCBpaSwgaWR4LCBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuO1xuICAgICAgICB2YXIgc3RhYmxlTm9kZUxpc3Q7XG5cblxuICAgICAgICBpZiAobm9kZUxpbmtGbkZvdW5kKSB7XG4gICAgICAgICAgLy8gY29weSBub2RlTGlzdCBzbyB0aGF0IGlmIGEgbm9kZUxpbmtGbiByZW1vdmVzIG9yIGFkZHMgYW4gZWxlbWVudCBhdCB0aGlzIERPTSBsZXZlbCBvdXJcbiAgICAgICAgICAvLyBvZmZzZXRzIGRvbid0IGdldCBzY3Jld2VkIHVwXG4gICAgICAgICAgdmFyIG5vZGVMaXN0TGVuZ3RoID0gbm9kZUxpc3QubGVuZ3RoO1xuICAgICAgICAgIHN0YWJsZU5vZGVMaXN0ID0gbmV3IEFycmF5KG5vZGVMaXN0TGVuZ3RoKTtcblxuICAgICAgICAgIC8vIGNyZWF0ZSBhIHNwYXJzZSBhcnJheSBieSBvbmx5IGNvcHlpbmcgdGhlIGVsZW1lbnRzIHdoaWNoIGhhdmUgYSBsaW5rRm5cbiAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGlua0Zucy5sZW5ndGg7IGkrPTMpIHtcbiAgICAgICAgICAgIGlkeCA9IGxpbmtGbnNbaV07XG4gICAgICAgICAgICBzdGFibGVOb2RlTGlzdFtpZHhdID0gbm9kZUxpc3RbaWR4XTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RhYmxlTm9kZUxpc3QgPSBub2RlTGlzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gbGlua0Zucy5sZW5ndGg7IGkgPCBpaTspIHtcbiAgICAgICAgICBub2RlID0gc3RhYmxlTm9kZUxpc3RbbGlua0Zuc1tpKytdXTtcbiAgICAgICAgICBub2RlTGlua0ZuID0gbGlua0Zuc1tpKytdO1xuICAgICAgICAgIGNoaWxkTGlua0ZuID0gbGlua0Zuc1tpKytdO1xuXG4gICAgICAgICAgaWYgKG5vZGVMaW5rRm4pIHtcbiAgICAgICAgICAgIGlmIChub2RlTGlua0ZuLnNjb3BlKSB7XG4gICAgICAgICAgICAgIGNoaWxkU2NvcGUgPSBzY29wZS4kbmV3KCk7XG4gICAgICAgICAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUluZm8oanFMaXRlKG5vZGUpLCBjaGlsZFNjb3BlKTtcbiAgICAgICAgICAgICAgdmFyIGRlc3Ryb3lCaW5kaW5ncyA9IG5vZGVMaW5rRm4uJCRkZXN0cm95QmluZGluZ3M7XG4gICAgICAgICAgICAgIGlmIChkZXN0cm95QmluZGluZ3MpIHtcbiAgICAgICAgICAgICAgICBub2RlTGlua0ZuLiQkZGVzdHJveUJpbmRpbmdzID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjaGlsZFNjb3BlLiRvbignJGRlc3Ryb3llZCcsIGRlc3Ryb3lCaW5kaW5ncyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNoaWxkU2NvcGUgPSBzY29wZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKFxuICAgICAgICAgICAgICAgICAgc2NvcGUsIG5vZGVMaW5rRm4udHJhbnNjbHVkZSwgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFub2RlTGlua0ZuLnRlbXBsYXRlT25UaGlzRWxlbWVudCAmJiBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbikge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gcGFyZW50Qm91bmRUcmFuc2NsdWRlRm47XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXBhcmVudEJvdW5kVHJhbnNjbHVkZUZuICYmIHRyYW5zY2x1ZGVGbikge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIHRyYW5zY2x1ZGVGbik7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4gPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBub2RlTGlua0ZuKGNoaWxkTGlua0ZuLCBjaGlsZFNjb3BlLCBub2RlLCAkcm9vdEVsZW1lbnQsIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4sXG4gICAgICAgICAgICAgICAgICAgICAgIG5vZGVMaW5rRm4pO1xuXG4gICAgICAgICAgfSBlbHNlIGlmIChjaGlsZExpbmtGbikge1xuICAgICAgICAgICAgY2hpbGRMaW5rRm4oc2NvcGUsIG5vZGUuY2hpbGROb2RlcywgdW5kZWZpbmVkLCBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIHRyYW5zY2x1ZGVGbiwgcHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbikge1xuXG4gICAgICB2YXIgYm91bmRUcmFuc2NsdWRlRm4gPSBmdW5jdGlvbih0cmFuc2NsdWRlZFNjb3BlLCBjbG9uZUZuLCBjb250cm9sbGVycywgZnV0dXJlUGFyZW50RWxlbWVudCwgY29udGFpbmluZ1Njb3BlKSB7XG5cbiAgICAgICAgaWYgKCF0cmFuc2NsdWRlZFNjb3BlKSB7XG4gICAgICAgICAgdHJhbnNjbHVkZWRTY29wZSA9IHNjb3BlLiRuZXcoZmFsc2UsIGNvbnRhaW5pbmdTY29wZSk7XG4gICAgICAgICAgdHJhbnNjbHVkZWRTY29wZS4kJHRyYW5zY2x1ZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cmFuc2NsdWRlRm4odHJhbnNjbHVkZWRTY29wZSwgY2xvbmVGbiwge1xuICAgICAgICAgIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuOiBwcmV2aW91c0JvdW5kVHJhbnNjbHVkZUZuLFxuICAgICAgICAgIHRyYW5zY2x1ZGVDb250cm9sbGVyczogY29udHJvbGxlcnMsXG4gICAgICAgICAgZnV0dXJlUGFyZW50RWxlbWVudDogZnV0dXJlUGFyZW50RWxlbWVudFxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBib3VuZFRyYW5zY2x1ZGVGbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb29rcyBmb3IgZGlyZWN0aXZlcyBvbiB0aGUgZ2l2ZW4gbm9kZSBhbmQgYWRkcyB0aGVtIHRvIHRoZSBkaXJlY3RpdmUgY29sbGVjdGlvbiB3aGljaCBpc1xuICAgICAqIHNvcnRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBub2RlIE5vZGUgdG8gc2VhcmNoLlxuICAgICAqIEBwYXJhbSBkaXJlY3RpdmVzIEFuIGFycmF5IHRvIHdoaWNoIHRoZSBkaXJlY3RpdmVzIGFyZSBhZGRlZCB0by4gVGhpcyBhcnJheSBpcyBzb3J0ZWQgYmVmb3JlXG4gICAgICogICAgICAgIHRoZSBmdW5jdGlvbiByZXR1cm5zLlxuICAgICAqIEBwYXJhbSBhdHRycyBUaGUgc2hhcmVkIGF0dHJzIG9iamVjdCB3aGljaCBpcyB1c2VkIHRvIHBvcHVsYXRlIHRoZSBub3JtYWxpemVkIGF0dHJpYnV0ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBtYXhQcmlvcml0eSBNYXggZGlyZWN0aXZlIHByaW9yaXR5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbGxlY3REaXJlY3RpdmVzKG5vZGUsIGRpcmVjdGl2ZXMsIGF0dHJzLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlKSB7XG4gICAgICB2YXIgbm9kZVR5cGUgPSBub2RlLm5vZGVUeXBlLFxuICAgICAgICAgIGF0dHJzTWFwID0gYXR0cnMuJGF0dHIsXG4gICAgICAgICAgbWF0Y2gsXG4gICAgICAgICAgY2xhc3NOYW1lO1xuXG4gICAgICBzd2l0Y2ggKG5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgTk9ERV9UWVBFX0VMRU1FTlQ6IC8qIEVsZW1lbnQgKi9cbiAgICAgICAgICAvLyB1c2UgdGhlIG5vZGUgbmFtZTogPGRpcmVjdGl2ZT5cbiAgICAgICAgICBhZGREaXJlY3RpdmUoZGlyZWN0aXZlcyxcbiAgICAgICAgICAgICAgZGlyZWN0aXZlTm9ybWFsaXplKG5vZGVOYW1lXyhub2RlKSksICdFJywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSk7XG5cbiAgICAgICAgICAvLyBpdGVyYXRlIG92ZXIgdGhlIGF0dHJpYnV0ZXNcbiAgICAgICAgICBmb3IgKHZhciBhdHRyLCBuYW1lLCBuTmFtZSwgbmdBdHRyTmFtZSwgdmFsdWUsIGlzTmdBdHRyLCBuQXR0cnMgPSBub2RlLmF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgaiA9IDAsIGpqID0gbkF0dHJzICYmIG5BdHRycy5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICB2YXIgYXR0clN0YXJ0TmFtZSA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGF0dHJFbmROYW1lID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGF0dHIgPSBuQXR0cnNbal07XG4gICAgICAgICAgICBuYW1lID0gYXR0ci5uYW1lO1xuICAgICAgICAgICAgdmFsdWUgPSB0cmltKGF0dHIudmFsdWUpO1xuXG4gICAgICAgICAgICAvLyBzdXBwb3J0IG5nQXR0ciBhdHRyaWJ1dGUgYmluZGluZ1xuICAgICAgICAgICAgbmdBdHRyTmFtZSA9IGRpcmVjdGl2ZU5vcm1hbGl6ZShuYW1lKTtcbiAgICAgICAgICAgIGlmIChpc05nQXR0ciA9IE5HX0FUVFJfQklORElORy50ZXN0KG5nQXR0ck5hbWUpKSB7XG4gICAgICAgICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoUFJFRklYX1JFR0VYUCwgJycpXG4gICAgICAgICAgICAgICAgLnN1YnN0cig4KS5yZXBsYWNlKC9fKC4pL2csIGZ1bmN0aW9uKG1hdGNoLCBsZXR0ZXIpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZU5OYW1lID0gbmdBdHRyTmFtZS5yZXBsYWNlKC8oU3RhcnR8RW5kKSQvLCAnJyk7XG4gICAgICAgICAgICBpZiAoZGlyZWN0aXZlSXNNdWx0aUVsZW1lbnQoZGlyZWN0aXZlTk5hbWUpKSB7XG4gICAgICAgICAgICAgIGlmIChuZ0F0dHJOYW1lID09PSBkaXJlY3RpdmVOTmFtZSArICdTdGFydCcpIHtcbiAgICAgICAgICAgICAgICBhdHRyU3RhcnROYW1lID0gbmFtZTtcbiAgICAgICAgICAgICAgICBhdHRyRW5kTmFtZSA9IG5hbWUuc3Vic3RyKDAsIG5hbWUubGVuZ3RoIC0gNSkgKyAnZW5kJztcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMCwgbmFtZS5sZW5ndGggLSA2KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuTmFtZSA9IGRpcmVjdGl2ZU5vcm1hbGl6ZShuYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgYXR0cnNNYXBbbk5hbWVdID0gbmFtZTtcbiAgICAgICAgICAgIGlmIChpc05nQXR0ciB8fCAhYXR0cnMuaGFzT3duUHJvcGVydHkobk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgYXR0cnNbbk5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGdldEJvb2xlYW5BdHRyTmFtZShub2RlLCBuTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRydWU7IC8vIHByZXNlbmNlIG1lYW5zIHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRBdHRySW50ZXJwb2xhdGVEaXJlY3RpdmUobm9kZSwgZGlyZWN0aXZlcywgdmFsdWUsIG5OYW1lLCBpc05nQXR0cik7XG4gICAgICAgICAgICBhZGREaXJlY3RpdmUoZGlyZWN0aXZlcywgbk5hbWUsICdBJywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSwgYXR0clN0YXJ0TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0ckVuZE5hbWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHVzZSBjbGFzcyBhcyBkaXJlY3RpdmVcbiAgICAgICAgICBjbGFzc05hbWUgPSBub2RlLmNsYXNzTmFtZTtcbiAgICAgICAgICBpZiAoaXNPYmplY3QoY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgICAvLyBNYXliZSBTVkdBbmltYXRlZFN0cmluZ1xuICAgICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUuYW5pbVZhbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzU3RyaW5nKGNsYXNzTmFtZSkgJiYgY2xhc3NOYW1lICE9PSAnJykge1xuICAgICAgICAgICAgd2hpbGUgKG1hdGNoID0gQ0xBU1NfRElSRUNUSVZFX1JFR0VYUC5leGVjKGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgICAgbk5hbWUgPSBkaXJlY3RpdmVOb3JtYWxpemUobWF0Y2hbMl0pO1xuICAgICAgICAgICAgICBpZiAoYWRkRGlyZWN0aXZlKGRpcmVjdGl2ZXMsIG5OYW1lLCAnQycsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpKSB7XG4gICAgICAgICAgICAgICAgYXR0cnNbbk5hbWVdID0gdHJpbShtYXRjaFszXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnN1YnN0cihtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE5PREVfVFlQRV9URVhUOiAvKiBUZXh0IE5vZGUgKi9cbiAgICAgICAgICBpZiAobXNpZSA9PT0gMTEpIHtcbiAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yICMxMTc4MVxuICAgICAgICAgICAgd2hpbGUgKG5vZGUucGFyZW50Tm9kZSAmJiBub2RlLm5leHRTaWJsaW5nICYmIG5vZGUubmV4dFNpYmxpbmcubm9kZVR5cGUgPT09IE5PREVfVFlQRV9URVhUKSB7XG4gICAgICAgICAgICAgIG5vZGUubm9kZVZhbHVlID0gbm9kZS5ub2RlVmFsdWUgKyBub2RlLm5leHRTaWJsaW5nLm5vZGVWYWx1ZTtcbiAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUubmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBhZGRUZXh0SW50ZXJwb2xhdGVEaXJlY3RpdmUoZGlyZWN0aXZlcywgbm9kZS5ub2RlVmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE5PREVfVFlQRV9DT01NRU5UOiAvKiBDb21tZW50ICovXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG1hdGNoID0gQ09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQLmV4ZWMobm9kZS5ub2RlVmFsdWUpO1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgIG5OYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG1hdGNoWzFdKTtcbiAgICAgICAgICAgICAgaWYgKGFkZERpcmVjdGl2ZShkaXJlY3RpdmVzLCBuTmFtZSwgJ00nLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlKSkge1xuICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRyaW0obWF0Y2hbMl0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gdHVybnMgb3V0IHRoYXQgdW5kZXIgc29tZSBjaXJjdW1zdGFuY2VzIElFOSB0aHJvd3MgZXJyb3JzIHdoZW4gb25lIGF0dGVtcHRzIHRvIHJlYWRcbiAgICAgICAgICAgIC8vIGNvbW1lbnQncyBub2RlIHZhbHVlLlxuICAgICAgICAgICAgLy8gSnVzdCBpZ25vcmUgaXQgYW5kIGNvbnRpbnVlLiAoQ2FuJ3Qgc2VlbSB0byByZXByb2R1Y2UgaW4gdGVzdCBjYXNlLilcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGRpcmVjdGl2ZXMuc29ydChieVByaW9yaXR5KTtcbiAgICAgIHJldHVybiBkaXJlY3RpdmVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgbm9kZSB3aXRoIGFuIGRpcmVjdGl2ZS1zdGFydCBpdCBjb2xsZWN0cyBhbGwgb2YgdGhlIHNpYmxpbmdzIHVudGlsIGl0IGZpbmRzXG4gICAgICogZGlyZWN0aXZlLWVuZC5cbiAgICAgKiBAcGFyYW0gbm9kZVxuICAgICAqIEBwYXJhbSBhdHRyU3RhcnRcbiAgICAgKiBAcGFyYW0gYXR0ckVuZFxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdyb3VwU2Nhbihub2RlLCBhdHRyU3RhcnQsIGF0dHJFbmQpIHtcbiAgICAgIHZhciBub2RlcyA9IFtdO1xuICAgICAgdmFyIGRlcHRoID0gMDtcbiAgICAgIGlmIChhdHRyU3RhcnQgJiYgbm9kZS5oYXNBdHRyaWJ1dGUgJiYgbm9kZS5oYXNBdHRyaWJ1dGUoYXR0clN0YXJ0KSkge1xuICAgICAgICBkbyB7XG4gICAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycigndXRlcmRpcicsXG4gICAgICAgICAgICAgICAgICAgICAgXCJVbnRlcm1pbmF0ZWQgYXR0cmlidXRlLCBmb3VuZCAnezB9JyBidXQgbm8gbWF0Y2hpbmcgJ3sxfScgZm91bmQuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0clN0YXJ0LCBhdHRyRW5kKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gTk9ERV9UWVBFX0VMRU1FTlQpIHtcbiAgICAgICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZShhdHRyU3RhcnQpKSBkZXB0aCsrO1xuICAgICAgICAgICAgaWYgKG5vZGUuaGFzQXR0cmlidXRlKGF0dHJFbmQpKSBkZXB0aC0tO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICB9IHdoaWxlIChkZXB0aCA+IDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGpxTGl0ZShub2Rlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JhcHBlciBmb3IgbGlua2luZyBmdW5jdGlvbiB3aGljaCBjb252ZXJ0cyBub3JtYWwgbGlua2luZyBmdW5jdGlvbiBpbnRvIGEgZ3JvdXBlZFxuICAgICAqIGxpbmtpbmcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIGxpbmtGblxuICAgICAqIEBwYXJhbSBhdHRyU3RhcnRcbiAgICAgKiBAcGFyYW0gYXR0ckVuZFxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihsaW5rRm4sIGF0dHJTdGFydCwgYXR0ckVuZCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMsIHRyYW5zY2x1ZGVGbikge1xuICAgICAgICBlbGVtZW50ID0gZ3JvdXBTY2FuKGVsZW1lbnRbMF0sIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgIHJldHVybiBsaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT25jZSB0aGUgZGlyZWN0aXZlcyBoYXZlIGJlZW4gY29sbGVjdGVkLCB0aGVpciBjb21waWxlIGZ1bmN0aW9ucyBhcmUgZXhlY3V0ZWQuIFRoaXMgbWV0aG9kXG4gICAgICogaXMgcmVzcG9uc2libGUgZm9yIGlubGluaW5nIGRpcmVjdGl2ZSB0ZW1wbGF0ZXMgYXMgd2VsbCBhcyB0ZXJtaW5hdGluZyB0aGUgYXBwbGljYXRpb25cbiAgICAgKiBvZiB0aGUgZGlyZWN0aXZlcyBpZiB0aGUgdGVybWluYWwgZGlyZWN0aXZlIGhhcyBiZWVuIHJlYWNoZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkaXJlY3RpdmVzIEFycmF5IG9mIGNvbGxlY3RlZCBkaXJlY3RpdmVzIHRvIGV4ZWN1dGUgdGhlaXIgY29tcGlsZSBmdW5jdGlvbi5cbiAgICAgKiAgICAgICAgdGhpcyBuZWVkcyB0byBiZSBwcmUtc29ydGVkIGJ5IHByaW9yaXR5IG9yZGVyLlxuICAgICAqIEBwYXJhbSB7Tm9kZX0gY29tcGlsZU5vZGUgVGhlIHJhdyBET00gbm9kZSB0byBhcHBseSB0aGUgY29tcGlsZSBmdW5jdGlvbnMgdG9cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGVtcGxhdGVBdHRycyBUaGUgc2hhcmVkIGF0dHJpYnV0ZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oYW5ndWxhci5TY29wZSwgY2xvbmVBdHRhY2hGbj0pfSB0cmFuc2NsdWRlRm4gQSBsaW5raW5nIGZ1bmN0aW9uLCB3aGVyZSB0aGVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUgYXJndW1lbnQgaXMgYXV0by1nZW5lcmF0ZWQgdG8gdGhlIG5ld1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCBvZiB0aGUgdHJhbnNjbHVkZWQgcGFyZW50IHNjb3BlLlxuICAgICAqIEBwYXJhbSB7SlFMaXRlfSBqcUNvbGxlY3Rpb24gSWYgd2UgYXJlIHdvcmtpbmcgb24gdGhlIHJvb3Qgb2YgdGhlIGNvbXBpbGUgdHJlZSB0aGVuIHRoaXNcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50IGhhcyB0aGUgcm9vdCBqcUxpdGUgYXJyYXkgc28gdGhhdCB3ZSBjYW4gcmVwbGFjZSBub2Rlc1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb24gaXQuXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBvcmlnaW5hbFJlcGxhY2VEaXJlY3RpdmUgQW4gb3B0aW9uYWwgZGlyZWN0aXZlIHRoYXQgd2lsbCBiZSBpZ25vcmVkIHdoZW5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21waWxpbmcgdGhlIHRyYW5zY2x1c2lvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5LjxGdW5jdGlvbj59IHByZUxpbmtGbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5LjxGdW5jdGlvbj59IHBvc3RMaW5rRm5zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQgQ29udGV4dCB1c2VkIGZvciBwcmV2aW91cyBjb21waWxhdGlvbiBvZiB0aGUgY3VycmVudFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IGxpbmtGblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLCBjb21waWxlTm9kZSwgdGVtcGxhdGVBdHRycywgdHJhbnNjbHVkZUZuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqcUNvbGxlY3Rpb24sIG9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcbiAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0IHx8IHt9O1xuXG4gICAgICB2YXIgdGVybWluYWxQcmlvcml0eSA9IC1OdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICAgIG5ld1Njb3BlRGlyZWN0aXZlID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5uZXdTY29wZURpcmVjdGl2ZSxcbiAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlcyA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQuY29udHJvbGxlckRpcmVjdGl2ZXMsXG4gICAgICAgICAgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5uZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsXG4gICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0LnRlbXBsYXRlRGlyZWN0aXZlLFxuICAgICAgICAgIG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lm5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUsXG4gICAgICAgICAgaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSA9IGZhbHNlLFxuICAgICAgICAgIGhhc1RlbXBsYXRlID0gZmFsc2UsXG4gICAgICAgICAgaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlLFxuICAgICAgICAgICRjb21waWxlTm9kZSA9IHRlbXBsYXRlQXR0cnMuJCRlbGVtZW50ID0ganFMaXRlKGNvbXBpbGVOb2RlKSxcbiAgICAgICAgICBkaXJlY3RpdmUsXG4gICAgICAgICAgZGlyZWN0aXZlTmFtZSxcbiAgICAgICAgICAkdGVtcGxhdGUsXG4gICAgICAgICAgcmVwbGFjZURpcmVjdGl2ZSA9IG9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSxcbiAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiA9IHRyYW5zY2x1ZGVGbixcbiAgICAgICAgICBsaW5rRm4sXG4gICAgICAgICAgZGlyZWN0aXZlVmFsdWU7XG5cbiAgICAgIC8vIGV4ZWN1dGVzIGFsbCBkaXJlY3RpdmVzIG9uIHRoZSBjdXJyZW50IGVsZW1lbnRcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICBkaXJlY3RpdmUgPSBkaXJlY3RpdmVzW2ldO1xuICAgICAgICB2YXIgYXR0clN0YXJ0ID0gZGlyZWN0aXZlLiQkc3RhcnQ7XG4gICAgICAgIHZhciBhdHRyRW5kID0gZGlyZWN0aXZlLiQkZW5kO1xuXG4gICAgICAgIC8vIGNvbGxlY3QgbXVsdGlibG9jayBzZWN0aW9uc1xuICAgICAgICBpZiAoYXR0clN0YXJ0KSB7XG4gICAgICAgICAgJGNvbXBpbGVOb2RlID0gZ3JvdXBTY2FuKGNvbXBpbGVOb2RlLCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xuICAgICAgICB9XG4gICAgICAgICR0ZW1wbGF0ZSA9IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAodGVybWluYWxQcmlvcml0eSA+IGRpcmVjdGl2ZS5wcmlvcml0eSkge1xuICAgICAgICAgIGJyZWFrOyAvLyBwcmV2ZW50IGZ1cnRoZXIgcHJvY2Vzc2luZyBvZiBkaXJlY3RpdmVzXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlyZWN0aXZlVmFsdWUgPSBkaXJlY3RpdmUuc2NvcGUpIHtcblxuICAgICAgICAgIC8vIHNraXAgdGhlIGNoZWNrIGZvciBkaXJlY3RpdmVzIHdpdGggYXN5bmMgdGVtcGxhdGVzLCB3ZSdsbCBjaGVjayB0aGUgZGVyaXZlZCBzeW5jXG4gICAgICAgICAgLy8gZGlyZWN0aXZlIHdoZW4gdGhlIHRlbXBsYXRlIGFycml2ZXNcbiAgICAgICAgICBpZiAoIWRpcmVjdGl2ZS50ZW1wbGF0ZVVybCkge1xuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGRpcmVjdGl2ZVZhbHVlKSkge1xuICAgICAgICAgICAgICAvLyBUaGlzIGRpcmVjdGl2ZSBpcyB0cnlpbmcgdG8gYWRkIGFuIGlzb2xhdGVkIHNjb3BlLlxuICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHRoZXJlIGlzIG5vIHNjb3BlIG9mIGFueSBraW5kIGFscmVhZHlcbiAgICAgICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ25ldy9pc29sYXRlZCBzY29wZScsIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fCBuZXdTY29wZURpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLCAkY29tcGlsZU5vZGUpO1xuICAgICAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBUaGlzIGRpcmVjdGl2ZSBpcyB0cnlpbmcgdG8gYWRkIGEgY2hpbGQgc2NvcGUuXG4gICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGhlcmUgaXMgbm8gaXNvbGF0ZWQgc2NvcGUgYWxyZWFkeVxuICAgICAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgnbmV3L2lzb2xhdGVkIHNjb3BlJywgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLCBkaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb21waWxlTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV3U2NvcGVEaXJlY3RpdmUgPSBuZXdTY29wZURpcmVjdGl2ZSB8fCBkaXJlY3RpdmU7XG4gICAgICAgIH1cblxuICAgICAgICBkaXJlY3RpdmVOYW1lID0gZGlyZWN0aXZlLm5hbWU7XG5cbiAgICAgICAgaWYgKCFkaXJlY3RpdmUudGVtcGxhdGVVcmwgJiYgZGlyZWN0aXZlLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICBkaXJlY3RpdmVWYWx1ZSA9IGRpcmVjdGl2ZS5jb250cm9sbGVyO1xuICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzID0gY29udHJvbGxlckRpcmVjdGl2ZXMgfHwgY3JlYXRlTWFwKCk7XG4gICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoXCInXCIgKyBkaXJlY3RpdmVOYW1lICsgXCInIGNvbnRyb2xsZXJcIixcbiAgICAgICAgICAgICAgY29udHJvbGxlckRpcmVjdGl2ZXNbZGlyZWN0aXZlTmFtZV0sIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcbiAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJlY3RpdmVWYWx1ZSA9IGRpcmVjdGl2ZS50cmFuc2NsdWRlKSB7XG4gICAgICAgICAgaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UgbmdJZiBhbmQgbmdSZXBlYXQgc28gdGhhdCB3ZSBkb24ndCBjb21wbGFpbiBhYm91dCBkdXBsaWNhdGUgdHJhbnNjbHVzaW9uLlxuICAgICAgICAgIC8vIFRoaXMgb3B0aW9uIHNob3VsZCBvbmx5IGJlIHVzZWQgYnkgZGlyZWN0aXZlcyB0aGF0IGtub3cgaG93IHRvIHNhZmVseSBoYW5kbGUgZWxlbWVudCB0cmFuc2NsdXNpb24sXG4gICAgICAgICAgLy8gd2hlcmUgdGhlIHRyYW5zY2x1ZGVkIG5vZGVzIGFyZSBhZGRlZCBvciByZXBsYWNlZCBhZnRlciBsaW5raW5nLlxuICAgICAgICAgIGlmICghZGlyZWN0aXZlLiQkdGxiKSB7XG4gICAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgndHJhbnNjbHVzaW9uJywgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSwgZGlyZWN0aXZlLCAkY29tcGlsZU5vZGUpO1xuICAgICAgICAgICAgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZGlyZWN0aXZlVmFsdWUgPT0gJ2VsZW1lbnQnKSB7XG4gICAgICAgICAgICBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB0ZXJtaW5hbFByaW9yaXR5ID0gZGlyZWN0aXZlLnByaW9yaXR5O1xuICAgICAgICAgICAgJHRlbXBsYXRlID0gJGNvbXBpbGVOb2RlO1xuICAgICAgICAgICAgJGNvbXBpbGVOb2RlID0gdGVtcGxhdGVBdHRycy4kJGVsZW1lbnQgPVxuICAgICAgICAgICAgICAgIGpxTGl0ZShkb2N1bWVudC5jcmVhdGVDb21tZW50KCcgJyArIGRpcmVjdGl2ZU5hbWUgKyAnOiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUF0dHJzW2RpcmVjdGl2ZU5hbWVdICsgJyAnKSk7XG4gICAgICAgICAgICBjb21waWxlTm9kZSA9ICRjb21waWxlTm9kZVswXTtcbiAgICAgICAgICAgIHJlcGxhY2VXaXRoKGpxQ29sbGVjdGlvbiwgc2xpY2VBcmdzKCR0ZW1wbGF0ZSksIGNvbXBpbGVOb2RlKTtcblxuICAgICAgICAgICAgY2hpbGRUcmFuc2NsdWRlRm4gPSBjb21waWxlKCR0ZW1wbGF0ZSwgdHJhbnNjbHVkZUZuLCB0ZXJtaW5hbFByaW9yaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgJiYgcmVwbGFjZURpcmVjdGl2ZS5uYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBwYXNzIGluOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLSBjb250cm9sbGVyRGlyZWN0aXZlcyAtIG90aGVyd2lzZSB3ZSdsbCBjcmVhdGUgZHVwbGljYXRlcyBjb250cm9sbGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgb3IgdGVtcGxhdGVEaXJlY3RpdmUgLSBjb21iaW5pbmcgdGVtcGxhdGVzIHdpdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgZWxlbWVudCB0cmFuc2NsdXNpb24gZG9lc24ndCBtYWtlIHNlbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgb25seSBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlIHNvIHRoYXQgd2UgcHJldmVudCBwdXR0aW5nIHRyYW5zY2x1c2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gdGhlIHNhbWUgZWxlbWVudCBtb3JlIHRoYW4gb25jZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU6IG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHRlbXBsYXRlID0ganFMaXRlKGpxTGl0ZUNsb25lKGNvbXBpbGVOb2RlKSkuY29udGVudHMoKTtcbiAgICAgICAgICAgICRjb21waWxlTm9kZS5lbXB0eSgpOyAvLyBjbGVhciBjb250ZW50c1xuICAgICAgICAgICAgY2hpbGRUcmFuc2NsdWRlRm4gPSBjb21waWxlKCR0ZW1wbGF0ZSwgdHJhbnNjbHVkZUZuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlyZWN0aXZlLnRlbXBsYXRlKSB7XG4gICAgICAgICAgaGFzVGVtcGxhdGUgPSB0cnVlO1xuICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCd0ZW1wbGF0ZScsIHRlbXBsYXRlRGlyZWN0aXZlLCBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7XG4gICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XG5cbiAgICAgICAgICBkaXJlY3RpdmVWYWx1ZSA9IChpc0Z1bmN0aW9uKGRpcmVjdGl2ZS50ZW1wbGF0ZSkpXG4gICAgICAgICAgICAgID8gZGlyZWN0aXZlLnRlbXBsYXRlKCRjb21waWxlTm9kZSwgdGVtcGxhdGVBdHRycylcbiAgICAgICAgICAgICAgOiBkaXJlY3RpdmUudGVtcGxhdGU7XG5cbiAgICAgICAgICBkaXJlY3RpdmVWYWx1ZSA9IGRlbm9ybWFsaXplVGVtcGxhdGUoZGlyZWN0aXZlVmFsdWUpO1xuXG4gICAgICAgICAgaWYgKGRpcmVjdGl2ZS5yZXBsYWNlKSB7XG4gICAgICAgICAgICByZXBsYWNlRGlyZWN0aXZlID0gZGlyZWN0aXZlO1xuICAgICAgICAgICAgaWYgKGpxTGl0ZUlzVGV4dE5vZGUoZGlyZWN0aXZlVmFsdWUpKSB7XG4gICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IFtdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgJHRlbXBsYXRlID0gcmVtb3ZlQ29tbWVudHMod3JhcFRlbXBsYXRlKGRpcmVjdGl2ZS50ZW1wbGF0ZU5hbWVzcGFjZSwgdHJpbShkaXJlY3RpdmVWYWx1ZSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBpbGVOb2RlID0gJHRlbXBsYXRlWzBdO1xuXG4gICAgICAgICAgICBpZiAoJHRlbXBsYXRlLmxlbmd0aCAhPSAxIHx8IGNvbXBpbGVOb2RlLm5vZGVUeXBlICE9PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xuICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycigndHBscnQnLFxuICAgICAgICAgICAgICAgICAgXCJUZW1wbGF0ZSBmb3IgZGlyZWN0aXZlICd7MH0nIG11c3QgaGF2ZSBleGFjdGx5IG9uZSByb290IGVsZW1lbnQuIHsxfVwiLFxuICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlTmFtZSwgJycpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXBsYWNlV2l0aChqcUNvbGxlY3Rpb24sICRjb21waWxlTm9kZSwgY29tcGlsZU5vZGUpO1xuXG4gICAgICAgICAgICB2YXIgbmV3VGVtcGxhdGVBdHRycyA9IHskYXR0cjoge319O1xuXG4gICAgICAgICAgICAvLyBjb21iaW5lIGRpcmVjdGl2ZXMgZnJvbSB0aGUgb3JpZ2luYWwgbm9kZSBhbmQgZnJvbSB0aGUgdGVtcGxhdGU6XG4gICAgICAgICAgICAvLyAtIHRha2UgdGhlIGFycmF5IG9mIGRpcmVjdGl2ZXMgZm9yIHRoaXMgZWxlbWVudFxuICAgICAgICAgICAgLy8gLSBzcGxpdCBpdCBpbnRvIHR3byBwYXJ0cywgdGhvc2UgdGhhdCBhbHJlYWR5IGFwcGxpZWQgKHByb2Nlc3NlZCkgYW5kIHRob3NlIHRoYXQgd2VyZW4ndCAodW5wcm9jZXNzZWQpXG4gICAgICAgICAgICAvLyAtIGNvbGxlY3QgZGlyZWN0aXZlcyBmcm9tIHRoZSB0ZW1wbGF0ZSBhbmQgc29ydCB0aGVtIGJ5IHByaW9yaXR5XG4gICAgICAgICAgICAvLyAtIGNvbWJpbmUgZGlyZWN0aXZlcyBhczogcHJvY2Vzc2VkICsgdGVtcGxhdGUgKyB1bnByb2Nlc3NlZFxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlRGlyZWN0aXZlcyA9IGNvbGxlY3REaXJlY3RpdmVzKGNvbXBpbGVOb2RlLCBbXSwgbmV3VGVtcGxhdGVBdHRycyk7XG4gICAgICAgICAgICB2YXIgdW5wcm9jZXNzZWREaXJlY3RpdmVzID0gZGlyZWN0aXZlcy5zcGxpY2UoaSArIDEsIGRpcmVjdGl2ZXMubGVuZ3RoIC0gKGkgKyAxKSk7XG5cbiAgICAgICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUpIHtcbiAgICAgICAgICAgICAgbWFya0RpcmVjdGl2ZXNBc0lzb2xhdGUodGVtcGxhdGVEaXJlY3RpdmVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzLmNvbmNhdCh0ZW1wbGF0ZURpcmVjdGl2ZXMpLmNvbmNhdCh1bnByb2Nlc3NlZERpcmVjdGl2ZXMpO1xuICAgICAgICAgICAgbWVyZ2VUZW1wbGF0ZUF0dHJpYnV0ZXModGVtcGxhdGVBdHRycywgbmV3VGVtcGxhdGVBdHRycyk7XG5cbiAgICAgICAgICAgIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRjb21waWxlTm9kZS5odG1sKGRpcmVjdGl2ZVZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlyZWN0aXZlLnRlbXBsYXRlVXJsKSB7XG4gICAgICAgICAgaGFzVGVtcGxhdGUgPSB0cnVlO1xuICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCd0ZW1wbGF0ZScsIHRlbXBsYXRlRGlyZWN0aXZlLCBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7XG4gICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XG5cbiAgICAgICAgICBpZiAoZGlyZWN0aXZlLnJlcGxhY2UpIHtcbiAgICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbm9kZUxpbmtGbiA9IGNvbXBpbGVUZW1wbGF0ZVVybChkaXJlY3RpdmVzLnNwbGljZShpLCBkaXJlY3RpdmVzLmxlbmd0aCAtIGkpLCAkY29tcGlsZU5vZGUsXG4gICAgICAgICAgICAgIHRlbXBsYXRlQXR0cnMsIGpxQ29sbGVjdGlvbiwgaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSAmJiBjaGlsZFRyYW5zY2x1ZGVGbiwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlczogY29udHJvbGxlckRpcmVjdGl2ZXMsXG4gICAgICAgICAgICAgICAgbmV3U2NvcGVEaXJlY3RpdmU6IChuZXdTY29wZURpcmVjdGl2ZSAhPT0gZGlyZWN0aXZlKSAmJiBuZXdTY29wZURpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU6IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZTogdGVtcGxhdGVEaXJlY3RpdmUsXG4gICAgICAgICAgICAgICAgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZTogbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoO1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGl2ZS5jb21waWxlKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxpbmtGbiA9IGRpcmVjdGl2ZS5jb21waWxlKCRjb21waWxlTm9kZSwgdGVtcGxhdGVBdHRycywgY2hpbGRUcmFuc2NsdWRlRm4pO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24obGlua0ZuKSkge1xuICAgICAgICAgICAgICBhZGRMaW5rRm5zKG51bGwsIGxpbmtGbiwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlua0ZuKSB7XG4gICAgICAgICAgICAgIGFkZExpbmtGbnMobGlua0ZuLnByZSwgbGlua0ZuLnBvc3QsIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSwgc3RhcnRpbmdUYWcoJGNvbXBpbGVOb2RlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpcmVjdGl2ZS50ZXJtaW5hbCkge1xuICAgICAgICAgIG5vZGVMaW5rRm4udGVybWluYWwgPSB0cnVlO1xuICAgICAgICAgIHRlcm1pbmFsUHJpb3JpdHkgPSBNYXRoLm1heCh0ZXJtaW5hbFByaW9yaXR5LCBkaXJlY3RpdmUucHJpb3JpdHkpO1xuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgICAgbm9kZUxpbmtGbi5zY29wZSA9IG5ld1Njb3BlRGlyZWN0aXZlICYmIG5ld1Njb3BlRGlyZWN0aXZlLnNjb3BlID09PSB0cnVlO1xuICAgICAgbm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudCA9IGhhc1RyYW5zY2x1ZGVEaXJlY3RpdmU7XG4gICAgICBub2RlTGlua0ZuLnRlbXBsYXRlT25UaGlzRWxlbWVudCA9IGhhc1RlbXBsYXRlO1xuICAgICAgbm9kZUxpbmtGbi50cmFuc2NsdWRlID0gY2hpbGRUcmFuc2NsdWRlRm47XG5cbiAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgPSBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZTtcblxuICAgICAgLy8gbWlnaHQgYmUgbm9ybWFsIG9yIGRlbGF5ZWQgbm9kZUxpbmtGbiBkZXBlbmRpbmcgb24gaWYgdGVtcGxhdGVVcmwgaXMgcHJlc2VudFxuICAgICAgcmV0dXJuIG5vZGVMaW5rRm47XG5cbiAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgIGZ1bmN0aW9uIGFkZExpbmtGbnMocHJlLCBwb3N0LCBhdHRyU3RhcnQsIGF0dHJFbmQpIHtcbiAgICAgICAgaWYgKHByZSkge1xuICAgICAgICAgIGlmIChhdHRyU3RhcnQpIHByZSA9IGdyb3VwRWxlbWVudHNMaW5rRm5XcmFwcGVyKHByZSwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcbiAgICAgICAgICBwcmUucmVxdWlyZSA9IGRpcmVjdGl2ZS5yZXF1aXJlO1xuICAgICAgICAgIHByZS5kaXJlY3RpdmVOYW1lID0gZGlyZWN0aXZlTmFtZTtcbiAgICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlID09PSBkaXJlY3RpdmUgfHwgZGlyZWN0aXZlLiQkaXNvbGF0ZVNjb3BlKSB7XG4gICAgICAgICAgICBwcmUgPSBjbG9uZUFuZEFubm90YXRlRm4ocHJlLCB7aXNvbGF0ZVNjb3BlOiB0cnVlfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByZUxpbmtGbnMucHVzaChwcmUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3N0KSB7XG4gICAgICAgICAgaWYgKGF0dHJTdGFydCkgcG9zdCA9IGdyb3VwRWxlbWVudHNMaW5rRm5XcmFwcGVyKHBvc3QsIGF0dHJTdGFydCwgYXR0ckVuZCk7XG4gICAgICAgICAgcG9zdC5yZXF1aXJlID0gZGlyZWN0aXZlLnJlcXVpcmU7XG4gICAgICAgICAgcG9zdC5kaXJlY3RpdmVOYW1lID0gZGlyZWN0aXZlTmFtZTtcbiAgICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlID09PSBkaXJlY3RpdmUgfHwgZGlyZWN0aXZlLiQkaXNvbGF0ZVNjb3BlKSB7XG4gICAgICAgICAgICBwb3N0ID0gY2xvbmVBbmRBbm5vdGF0ZUZuKHBvc3QsIHtpc29sYXRlU2NvcGU6IHRydWV9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcG9zdExpbmtGbnMucHVzaChwb3N0KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG5cbiAgICAgIGZ1bmN0aW9uIGdldENvbnRyb2xsZXJzKGRpcmVjdGl2ZU5hbWUsIHJlcXVpcmUsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpIHtcbiAgICAgICAgdmFyIHZhbHVlO1xuXG4gICAgICAgIGlmIChpc1N0cmluZyhyZXF1aXJlKSkge1xuICAgICAgICAgIHZhciBtYXRjaCA9IHJlcXVpcmUubWF0Y2goUkVRVUlSRV9QUkVGSVhfUkVHRVhQKTtcbiAgICAgICAgICB2YXIgbmFtZSA9IHJlcXVpcmUuc3Vic3RyaW5nKG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgICAgICAgdmFyIGluaGVyaXRUeXBlID0gbWF0Y2hbMV0gfHwgbWF0Y2hbM107XG4gICAgICAgICAgdmFyIG9wdGlvbmFsID0gbWF0Y2hbMl0gPT09ICc/JztcblxuICAgICAgICAgIC8vSWYgb25seSBwYXJlbnRzIHRoZW4gc3RhcnQgYXQgdGhlIHBhcmVudCBlbGVtZW50XG4gICAgICAgICAgaWYgKGluaGVyaXRUeXBlID09PSAnXl4nKSB7XG4gICAgICAgICAgICAkZWxlbWVudCA9ICRlbGVtZW50LnBhcmVudCgpO1xuICAgICAgICAgIC8vT3RoZXJ3aXNlIGF0dGVtcHQgZ2V0dGluZyB0aGUgY29udHJvbGxlciBmcm9tIGVsZW1lbnRDb250cm9sbGVycyBpbiBjYXNlXG4gICAgICAgICAgLy90aGUgZWxlbWVudCBpcyB0cmFuc2NsdWRlZCAoYW5kIGhhcyBubyBkYXRhKSBhbmQgdG8gYXZvaWQgLmRhdGEgaWYgcG9zc2libGVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBlbGVtZW50Q29udHJvbGxlcnMgJiYgZWxlbWVudENvbnRyb2xsZXJzW25hbWVdO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAmJiB2YWx1ZS5pbnN0YW5jZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZGF0YU5hbWUgPSAnJCcgKyBuYW1lICsgJ0NvbnRyb2xsZXInO1xuICAgICAgICAgICAgdmFsdWUgPSBpbmhlcml0VHlwZSA/ICRlbGVtZW50LmluaGVyaXRlZERhdGEoZGF0YU5hbWUpIDogJGVsZW1lbnQuZGF0YShkYXRhTmFtZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCF2YWx1ZSAmJiAhb3B0aW9uYWwpIHtcbiAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdjdHJlcScsXG4gICAgICAgICAgICAgICAgXCJDb250cm9sbGVyICd7MH0nLCByZXF1aXJlZCBieSBkaXJlY3RpdmUgJ3sxfScsIGNhbid0IGJlIGZvdW5kIVwiLFxuICAgICAgICAgICAgICAgIG5hbWUsIGRpcmVjdGl2ZU5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KHJlcXVpcmUpKSB7XG4gICAgICAgICAgdmFsdWUgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSByZXF1aXJlLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIHZhbHVlW2ldID0gZ2V0Q29udHJvbGxlcnMoZGlyZWN0aXZlTmFtZSwgcmVxdWlyZVtpXSwgJGVsZW1lbnQsIGVsZW1lbnRDb250cm9sbGVycyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlIHx8IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNldHVwQ29udHJvbGxlcnMoJGVsZW1lbnQsIGF0dHJzLCB0cmFuc2NsdWRlRm4sIGNvbnRyb2xsZXJEaXJlY3RpdmVzLCBpc29sYXRlU2NvcGUsIHNjb3BlKSB7XG4gICAgICAgIHZhciBlbGVtZW50Q29udHJvbGxlcnMgPSBjcmVhdGVNYXAoKTtcbiAgICAgICAgZm9yICh2YXIgY29udHJvbGxlcktleSBpbiBjb250cm9sbGVyRGlyZWN0aXZlcykge1xuICAgICAgICAgIHZhciBkaXJlY3RpdmUgPSBjb250cm9sbGVyRGlyZWN0aXZlc1tjb250cm9sbGVyS2V5XTtcbiAgICAgICAgICB2YXIgbG9jYWxzID0ge1xuICAgICAgICAgICAgJHNjb3BlOiBkaXJlY3RpdmUgPT09IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fCBkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGUgPyBpc29sYXRlU2NvcGUgOiBzY29wZSxcbiAgICAgICAgICAgICRlbGVtZW50OiAkZWxlbWVudCxcbiAgICAgICAgICAgICRhdHRyczogYXR0cnMsXG4gICAgICAgICAgICAkdHJhbnNjbHVkZTogdHJhbnNjbHVkZUZuXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciBjb250cm9sbGVyID0gZGlyZWN0aXZlLmNvbnRyb2xsZXI7XG4gICAgICAgICAgaWYgKGNvbnRyb2xsZXIgPT0gJ0AnKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyID0gYXR0cnNbZGlyZWN0aXZlLm5hbWVdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBjb250cm9sbGVySW5zdGFuY2UgPSAkY29udHJvbGxlcihjb250cm9sbGVyLCBsb2NhbHMsIHRydWUsIGRpcmVjdGl2ZS5jb250cm9sbGVyQXMpO1xuXG4gICAgICAgICAgLy8gRm9yIGRpcmVjdGl2ZXMgd2l0aCBlbGVtZW50IHRyYW5zY2x1c2lvbiB0aGUgZWxlbWVudCBpcyBhIGNvbW1lbnQsXG4gICAgICAgICAgLy8gYnV0IGpRdWVyeSAuZGF0YSBkb2Vzbid0IHN1cHBvcnQgYXR0YWNoaW5nIGRhdGEgdG8gY29tbWVudCBub2RlcyBhcyBpdCdzIGhhcmQgdG9cbiAgICAgICAgICAvLyBjbGVhbiB1cCAoaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvODMzNSkuXG4gICAgICAgICAgLy8gSW5zdGVhZCwgd2Ugc2F2ZSB0aGUgY29udHJvbGxlcnMgZm9yIHRoZSBlbGVtZW50IGluIGEgbG9jYWwgaGFzaCBhbmQgYXR0YWNoIHRvIC5kYXRhXG4gICAgICAgICAgLy8gbGF0ZXIsIG9uY2Ugd2UgaGF2ZSB0aGUgYWN0dWFsIGVsZW1lbnQuXG4gICAgICAgICAgZWxlbWVudENvbnRyb2xsZXJzW2RpcmVjdGl2ZS5uYW1lXSA9IGNvbnRyb2xsZXJJbnN0YW5jZTtcbiAgICAgICAgICBpZiAoIWhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlKSB7XG4gICAgICAgICAgICAkZWxlbWVudC5kYXRhKCckJyArIGRpcmVjdGl2ZS5uYW1lICsgJ0NvbnRyb2xsZXInLCBjb250cm9sbGVySW5zdGFuY2UuaW5zdGFuY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudENvbnRyb2xsZXJzO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBub2RlTGlua0ZuKGNoaWxkTGlua0ZuLCBzY29wZSwgbGlua05vZGUsICRyb290RWxlbWVudCwgYm91bmRUcmFuc2NsdWRlRm4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNMaW5rRm4pIHtcbiAgICAgICAgdmFyIGksIGlpLCBsaW5rRm4sIGNvbnRyb2xsZXIsIGlzb2xhdGVTY29wZSwgZWxlbWVudENvbnRyb2xsZXJzLCB0cmFuc2NsdWRlRm4sICRlbGVtZW50LFxuICAgICAgICAgICAgYXR0cnM7XG5cbiAgICAgICAgaWYgKGNvbXBpbGVOb2RlID09PSBsaW5rTm9kZSkge1xuICAgICAgICAgIGF0dHJzID0gdGVtcGxhdGVBdHRycztcbiAgICAgICAgICAkZWxlbWVudCA9IHRlbXBsYXRlQXR0cnMuJCRlbGVtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICRlbGVtZW50ID0ganFMaXRlKGxpbmtOb2RlKTtcbiAgICAgICAgICBhdHRycyA9IG5ldyBBdHRyaWJ1dGVzKCRlbGVtZW50LCB0ZW1wbGF0ZUF0dHJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUpIHtcbiAgICAgICAgICBpc29sYXRlU2NvcGUgPSBzY29wZS4kbmV3KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJvdW5kVHJhbnNjbHVkZUZuKSB7XG4gICAgICAgICAgLy8gdHJhY2sgYGJvdW5kVHJhbnNjbHVkZUZuYCBzbyBpdCBjYW4gYmUgdW53cmFwcGVkIGlmIGB0cmFuc2NsdWRlRm5gXG4gICAgICAgICAgLy8gaXMgbGF0ZXIgcGFzc2VkIGFzIGBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbmAgdG8gYHB1YmxpY0xpbmtGbmBcbiAgICAgICAgICB0cmFuc2NsdWRlRm4gPSBjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZTtcbiAgICAgICAgICB0cmFuc2NsdWRlRm4uJCRib3VuZFRyYW5zY2x1ZGUgPSBib3VuZFRyYW5zY2x1ZGVGbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250cm9sbGVyRGlyZWN0aXZlcykge1xuICAgICAgICAgIGVsZW1lbnRDb250cm9sbGVycyA9IHNldHVwQ29udHJvbGxlcnMoJGVsZW1lbnQsIGF0dHJzLCB0cmFuc2NsdWRlRm4sIGNvbnRyb2xsZXJEaXJlY3RpdmVzLCBpc29sYXRlU2NvcGUsIHNjb3BlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUpIHtcbiAgICAgICAgICAvLyBJbml0aWFsaXplIGlzb2xhdGUgc2NvcGUgYmluZGluZ3MgZm9yIG5ldyBpc29sYXRlIHNjb3BlIGRpcmVjdGl2ZS5cbiAgICAgICAgICBjb21waWxlLiQkYWRkU2NvcGVJbmZvKCRlbGVtZW50LCBpc29sYXRlU2NvcGUsIHRydWUsICEodGVtcGxhdGVEaXJlY3RpdmUgJiYgKHRlbXBsYXRlRGlyZWN0aXZlID09PSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgfHxcbiAgICAgICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmUgPT09IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS4kJG9yaWdpbmFsRGlyZWN0aXZlKSkpO1xuICAgICAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUNsYXNzKCRlbGVtZW50LCB0cnVlKTtcbiAgICAgICAgICBpc29sYXRlU2NvcGUuJCRpc29sYXRlQmluZGluZ3MgPVxuICAgICAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUuJCRpc29sYXRlQmluZGluZ3M7XG4gICAgICAgICAgaW5pdGlhbGl6ZURpcmVjdGl2ZUJpbmRpbmdzKHNjb3BlLCBhdHRycywgaXNvbGF0ZVNjb3BlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc29sYXRlU2NvcGUuJCRpc29sYXRlQmluZGluZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSwgaXNvbGF0ZVNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWxlbWVudENvbnRyb2xsZXJzKSB7XG4gICAgICAgICAgLy8gSW5pdGlhbGl6ZSBiaW5kVG9Db250cm9sbGVyIGJpbmRpbmdzIGZvciBuZXcvaXNvbGF0ZSBzY29wZXNcbiAgICAgICAgICB2YXIgc2NvcGVEaXJlY3RpdmUgPSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgfHwgbmV3U2NvcGVEaXJlY3RpdmU7XG4gICAgICAgICAgdmFyIGJpbmRpbmdzO1xuICAgICAgICAgIHZhciBjb250cm9sbGVyRm9yQmluZGluZ3M7XG4gICAgICAgICAgaWYgKHNjb3BlRGlyZWN0aXZlICYmIGVsZW1lbnRDb250cm9sbGVyc1tzY29wZURpcmVjdGl2ZS5uYW1lXSkge1xuICAgICAgICAgICAgYmluZGluZ3MgPSBzY29wZURpcmVjdGl2ZS4kJGJpbmRpbmdzLmJpbmRUb0NvbnRyb2xsZXI7XG4gICAgICAgICAgICBjb250cm9sbGVyID0gZWxlbWVudENvbnRyb2xsZXJzW3Njb3BlRGlyZWN0aXZlLm5hbWVdO1xuXG4gICAgICAgICAgICBpZiAoY29udHJvbGxlciAmJiBjb250cm9sbGVyLmlkZW50aWZpZXIgJiYgYmluZGluZ3MpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlckZvckJpbmRpbmdzID0gY29udHJvbGxlcjtcbiAgICAgICAgICAgICAgdGhpc0xpbmtGbi4kJGRlc3Ryb3lCaW5kaW5ncyA9XG4gICAgICAgICAgICAgICAgICBpbml0aWFsaXplRGlyZWN0aXZlQmluZGluZ3Moc2NvcGUsIGF0dHJzLCBjb250cm9sbGVyLmluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRpbmdzLCBzY29wZURpcmVjdGl2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoaSBpbiBlbGVtZW50Q29udHJvbGxlcnMpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIgPSBlbGVtZW50Q29udHJvbGxlcnNbaV07XG4gICAgICAgICAgICB2YXIgY29udHJvbGxlclJlc3VsdCA9IGNvbnRyb2xsZXIoKTtcblxuICAgICAgICAgICAgaWYgKGNvbnRyb2xsZXJSZXN1bHQgIT09IGNvbnRyb2xsZXIuaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgLy8gSWYgdGhlIGNvbnRyb2xsZXIgY29uc3RydWN0b3IgaGFzIGEgcmV0dXJuIHZhbHVlLCBvdmVyd3JpdGUgdGhlIGluc3RhbmNlXG4gICAgICAgICAgICAgIC8vIGZyb20gc2V0dXBDb250cm9sbGVycyBhbmQgdXBkYXRlIHRoZSBlbGVtZW50IGRhdGFcbiAgICAgICAgICAgICAgY29udHJvbGxlci5pbnN0YW5jZSA9IGNvbnRyb2xsZXJSZXN1bHQ7XG4gICAgICAgICAgICAgICRlbGVtZW50LmRhdGEoJyQnICsgaSArICdDb250cm9sbGVyJywgY29udHJvbGxlclJlc3VsdCk7XG4gICAgICAgICAgICAgIGlmIChjb250cm9sbGVyID09PSBjb250cm9sbGVyRm9yQmluZGluZ3MpIHtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgYW5kIHJlLWluc3RhbGwgYmluZFRvQ29udHJvbGxlciBiaW5kaW5nc1xuICAgICAgICAgICAgICAgIHRoaXNMaW5rRm4uJCRkZXN0cm95QmluZGluZ3MoKTtcbiAgICAgICAgICAgICAgICB0aGlzTGlua0ZuLiQkZGVzdHJveUJpbmRpbmdzID1cbiAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVEaXJlY3RpdmVCaW5kaW5ncyhzY29wZSwgYXR0cnMsIGNvbnRyb2xsZXJSZXN1bHQsIGJpbmRpbmdzLCBzY29wZURpcmVjdGl2ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQUkVMSU5LSU5HXG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gcHJlTGlua0Zucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgbGlua0ZuID0gcHJlTGlua0Zuc1tpXTtcbiAgICAgICAgICBpbnZva2VMaW5rRm4obGlua0ZuLFxuICAgICAgICAgICAgICBsaW5rRm4uaXNvbGF0ZVNjb3BlID8gaXNvbGF0ZVNjb3BlIDogc2NvcGUsXG4gICAgICAgICAgICAgICRlbGVtZW50LFxuICAgICAgICAgICAgICBhdHRycyxcbiAgICAgICAgICAgICAgbGlua0ZuLnJlcXVpcmUgJiYgZ2V0Q29udHJvbGxlcnMobGlua0ZuLmRpcmVjdGl2ZU5hbWUsIGxpbmtGbi5yZXF1aXJlLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKSxcbiAgICAgICAgICAgICAgdHJhbnNjbHVkZUZuXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJFQ1VSU0lPTlxuICAgICAgICAvLyBXZSBvbmx5IHBhc3MgdGhlIGlzb2xhdGUgc2NvcGUsIGlmIHRoZSBpc29sYXRlIGRpcmVjdGl2ZSBoYXMgYSB0ZW1wbGF0ZSxcbiAgICAgICAgLy8gb3RoZXJ3aXNlIHRoZSBjaGlsZCBlbGVtZW50cyBkbyBub3QgYmVsb25nIHRvIHRoZSBpc29sYXRlIGRpcmVjdGl2ZS5cbiAgICAgICAgdmFyIHNjb3BlVG9DaGlsZCA9IHNjb3BlO1xuICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlICYmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUudGVtcGxhdGUgfHwgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLnRlbXBsYXRlVXJsID09PSBudWxsKSkge1xuICAgICAgICAgIHNjb3BlVG9DaGlsZCA9IGlzb2xhdGVTY29wZTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZExpbmtGbiAmJiBjaGlsZExpbmtGbihzY29wZVRvQ2hpbGQsIGxpbmtOb2RlLmNoaWxkTm9kZXMsIHVuZGVmaW5lZCwgYm91bmRUcmFuc2NsdWRlRm4pO1xuXG4gICAgICAgIC8vIFBPU1RMSU5LSU5HXG4gICAgICAgIGZvciAoaSA9IHBvc3RMaW5rRm5zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgbGlua0ZuID0gcG9zdExpbmtGbnNbaV07XG4gICAgICAgICAgaW52b2tlTGlua0ZuKGxpbmtGbixcbiAgICAgICAgICAgICAgbGlua0ZuLmlzb2xhdGVTY29wZSA/IGlzb2xhdGVTY29wZSA6IHNjb3BlLFxuICAgICAgICAgICAgICAkZWxlbWVudCxcbiAgICAgICAgICAgICAgYXR0cnMsXG4gICAgICAgICAgICAgIGxpbmtGbi5yZXF1aXJlICYmIGdldENvbnRyb2xsZXJzKGxpbmtGbi5kaXJlY3RpdmVOYW1lLCBsaW5rRm4ucmVxdWlyZSwgJGVsZW1lbnQsIGVsZW1lbnRDb250cm9sbGVycyksXG4gICAgICAgICAgICAgIHRyYW5zY2x1ZGVGblxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGlzIGlzIHRoZSBmdW5jdGlvbiB0aGF0IGlzIGluamVjdGVkIGFzIGAkdHJhbnNjbHVkZWAuXG4gICAgICAgIC8vIE5vdGU6IGFsbCBhcmd1bWVudHMgYXJlIG9wdGlvbmFsIVxuICAgICAgICBmdW5jdGlvbiBjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZShzY29wZSwgY2xvbmVBdHRhY2hGbiwgZnV0dXJlUGFyZW50RWxlbWVudCkge1xuICAgICAgICAgIHZhciB0cmFuc2NsdWRlQ29udHJvbGxlcnM7XG5cbiAgICAgICAgICAvLyBObyBzY29wZSBwYXNzZWQgaW46XG4gICAgICAgICAgaWYgKCFpc1Njb3BlKHNjb3BlKSkge1xuICAgICAgICAgICAgZnV0dXJlUGFyZW50RWxlbWVudCA9IGNsb25lQXR0YWNoRm47XG4gICAgICAgICAgICBjbG9uZUF0dGFjaEZuID0gc2NvcGU7XG4gICAgICAgICAgICBzY29wZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUpIHtcbiAgICAgICAgICAgIHRyYW5zY2x1ZGVDb250cm9sbGVycyA9IGVsZW1lbnRDb250cm9sbGVycztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFmdXR1cmVQYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICBmdXR1cmVQYXJlbnRFbGVtZW50ID0gaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgPyAkZWxlbWVudC5wYXJlbnQoKSA6ICRlbGVtZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIGNsb25lQXR0YWNoRm4sIHRyYW5zY2x1ZGVDb250cm9sbGVycywgZnV0dXJlUGFyZW50RWxlbWVudCwgc2NvcGVUb0NoaWxkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1hcmtEaXJlY3RpdmVzQXNJc29sYXRlKGRpcmVjdGl2ZXMpIHtcbiAgICAgIC8vIG1hcmsgYWxsIGRpcmVjdGl2ZXMgYXMgbmVlZGluZyBpc29sYXRlIHNjb3BlLlxuICAgICAgZm9yICh2YXIgaiA9IDAsIGpqID0gZGlyZWN0aXZlcy5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgIGRpcmVjdGl2ZXNbal0gPSBpbmhlcml0KGRpcmVjdGl2ZXNbal0sIHskJGlzb2xhdGVTY29wZTogdHJ1ZX0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGxvb2tzIHVwIHRoZSBkaXJlY3RpdmUgYW5kIGRlY29yYXRlcyBpdCB3aXRoIGV4Y2VwdGlvbiBoYW5kbGluZyBhbmQgcHJvcGVyIHBhcmFtZXRlcnMuIFdlXG4gICAgICogY2FsbCB0aGlzIHRoZSBib3VuZERpcmVjdGl2ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIG5hbWUgb2YgdGhlIGRpcmVjdGl2ZSB0byBsb29rIHVwLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvbiBUaGUgZGlyZWN0aXZlIG11c3QgYmUgZm91bmQgaW4gc3BlY2lmaWMgZm9ybWF0LlxuICAgICAqICAgU3RyaW5nIGNvbnRhaW5pbmcgYW55IG9mIHRoZXNlcyBjaGFyYWN0ZXJzOlxuICAgICAqXG4gICAgICogICAqIGBFYDogZWxlbWVudCBuYW1lXG4gICAgICogICAqIGBBJzogYXR0cmlidXRlXG4gICAgICogICAqIGBDYDogY2xhc3NcbiAgICAgKiAgICogYE1gOiBjb21tZW50XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgZGlyZWN0aXZlIHdhcyBhZGRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGREaXJlY3RpdmUodERpcmVjdGl2ZXMsIG5hbWUsIGxvY2F0aW9uLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBzdGFydEF0dHJOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRBdHRyTmFtZSkge1xuICAgICAgaWYgKG5hbWUgPT09IGlnbm9yZURpcmVjdGl2ZSkgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgbWF0Y2ggPSBudWxsO1xuICAgICAgaWYgKGhhc0RpcmVjdGl2ZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgZm9yICh2YXIgZGlyZWN0aXZlLCBkaXJlY3RpdmVzID0gJGluamVjdG9yLmdldChuYW1lICsgU3VmZml4KSxcbiAgICAgICAgICAgIGkgPSAwLCBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkaXJlY3RpdmUgPSBkaXJlY3RpdmVzW2ldO1xuICAgICAgICAgICAgaWYgKChtYXhQcmlvcml0eSA9PT0gdW5kZWZpbmVkIHx8IG1heFByaW9yaXR5ID4gZGlyZWN0aXZlLnByaW9yaXR5KSAmJlxuICAgICAgICAgICAgICAgICBkaXJlY3RpdmUucmVzdHJpY3QuaW5kZXhPZihsb2NhdGlvbikgIT0gLTEpIHtcbiAgICAgICAgICAgICAgaWYgKHN0YXJ0QXR0ck5hbWUpIHtcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUgPSBpbmhlcml0KGRpcmVjdGl2ZSwgeyQkc3RhcnQ6IHN0YXJ0QXR0ck5hbWUsICQkZW5kOiBlbmRBdHRyTmFtZX0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHREaXJlY3RpdmVzLnB1c2goZGlyZWN0aXZlKTtcbiAgICAgICAgICAgICAgbWF0Y2ggPSBkaXJlY3RpdmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZSkgeyAkZXhjZXB0aW9uSGFuZGxlcihlKTsgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBsb29rcyB1cCB0aGUgZGlyZWN0aXZlIGFuZCByZXR1cm5zIHRydWUgaWYgaXQgaXMgYSBtdWx0aS1lbGVtZW50IGRpcmVjdGl2ZSxcbiAgICAgKiBhbmQgdGhlcmVmb3JlIHJlcXVpcmVzIERPTSBub2RlcyBiZXR3ZWVuIC1zdGFydCBhbmQgLWVuZCBtYXJrZXJzIHRvIGJlIGdyb3VwZWRcbiAgICAgKiB0b2dldGhlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIG5hbWUgb2YgdGhlIGRpcmVjdGl2ZSB0byBsb29rIHVwLlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgZGlyZWN0aXZlIHdhcyByZWdpc3RlcmVkIGFzIG11bHRpLWVsZW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGlyZWN0aXZlSXNNdWx0aUVsZW1lbnQobmFtZSkge1xuICAgICAgaWYgKGhhc0RpcmVjdGl2ZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgZm9yICh2YXIgZGlyZWN0aXZlLCBkaXJlY3RpdmVzID0gJGluamVjdG9yLmdldChuYW1lICsgU3VmZml4KSxcbiAgICAgICAgICAgIGkgPSAwLCBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgIGRpcmVjdGl2ZSA9IGRpcmVjdGl2ZXNbaV07XG4gICAgICAgICAgaWYgKGRpcmVjdGl2ZS5tdWx0aUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIGVsZW1lbnQgaXMgcmVwbGFjZWQgd2l0aCBIVE1MIHRlbXBsYXRlIHRoZW4gdGhlIG5ldyBhdHRyaWJ1dGVzXG4gICAgICogb24gdGhlIHRlbXBsYXRlIG5lZWQgdG8gYmUgbWVyZ2VkIHdpdGggdGhlIGV4aXN0aW5nIGF0dHJpYnV0ZXMgaW4gdGhlIERPTS5cbiAgICAgKiBUaGUgZGVzaXJlZCBlZmZlY3QgaXMgdG8gaGF2ZSBib3RoIG9mIHRoZSBhdHRyaWJ1dGVzIHByZXNlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZHN0IGRlc3RpbmF0aW9uIGF0dHJpYnV0ZXMgKG9yaWdpbmFsIERPTSlcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3JjIHNvdXJjZSBhdHRyaWJ1dGVzIChmcm9tIHRoZSBkaXJlY3RpdmUgdGVtcGxhdGUpXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVyZ2VUZW1wbGF0ZUF0dHJpYnV0ZXMoZHN0LCBzcmMpIHtcbiAgICAgIHZhciBzcmNBdHRyID0gc3JjLiRhdHRyLFxuICAgICAgICAgIGRzdEF0dHIgPSBkc3QuJGF0dHIsXG4gICAgICAgICAgJGVsZW1lbnQgPSBkc3QuJCRlbGVtZW50O1xuXG4gICAgICAvLyByZWFwcGx5IHRoZSBvbGQgYXR0cmlidXRlcyB0byB0aGUgbmV3IGVsZW1lbnRcbiAgICAgIGZvckVhY2goZHN0LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChrZXkuY2hhckF0KDApICE9ICckJykge1xuICAgICAgICAgIGlmIChzcmNba2V5XSAmJiBzcmNba2V5XSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHZhbHVlICs9IChrZXkgPT09ICdzdHlsZScgPyAnOycgOiAnICcpICsgc3JjW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGRzdC4kc2V0KGtleSwgdmFsdWUsIHRydWUsIHNyY0F0dHJba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBjb3B5IHRoZSBuZXcgYXR0cmlidXRlcyBvbiB0aGUgb2xkIGF0dHJzIG9iamVjdFxuICAgICAgZm9yRWFjaChzcmMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKGtleSA9PSAnY2xhc3MnKSB7XG4gICAgICAgICAgc2FmZUFkZENsYXNzKCRlbGVtZW50LCB2YWx1ZSk7XG4gICAgICAgICAgZHN0WydjbGFzcyddID0gKGRzdFsnY2xhc3MnXSA/IGRzdFsnY2xhc3MnXSArICcgJyA6ICcnKSArIHZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PSAnc3R5bGUnKSB7XG4gICAgICAgICAgJGVsZW1lbnQuYXR0cignc3R5bGUnLCAkZWxlbWVudC5hdHRyKCdzdHlsZScpICsgJzsnICsgdmFsdWUpO1xuICAgICAgICAgIGRzdFsnc3R5bGUnXSA9IChkc3RbJ3N0eWxlJ10gPyBkc3RbJ3N0eWxlJ10gKyAnOycgOiAnJykgKyB2YWx1ZTtcbiAgICAgICAgICAvLyBgZHN0YCB3aWxsIG5ldmVyIGNvbnRhaW4gaGFzT3duUHJvcGVydHkgYXMgRE9NIHBhcnNlciB3b24ndCBsZXQgaXQuXG4gICAgICAgICAgLy8gWW91IHdpbGwgZ2V0IGFuIFwiSW52YWxpZENoYXJhY3RlckVycm9yOiBET00gRXhjZXB0aW9uIDVcIiBlcnJvciBpZiB5b3VcbiAgICAgICAgICAvLyBoYXZlIGFuIGF0dHJpYnV0ZSBsaWtlIFwiaGFzLW93bi1wcm9wZXJ0eVwiIG9yIFwiZGF0YS1oYXMtb3duLXByb3BlcnR5XCIsIGV0Yy5cbiAgICAgICAgfSBlbHNlIGlmIChrZXkuY2hhckF0KDApICE9ICckJyAmJiAhZHN0Lmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBkc3Rba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIGRzdEF0dHJba2V5XSA9IHNyY0F0dHJba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjb21waWxlVGVtcGxhdGVVcmwoZGlyZWN0aXZlcywgJGNvbXBpbGVOb2RlLCB0QXR0cnMsXG4gICAgICAgICRyb290RWxlbWVudCwgY2hpbGRUcmFuc2NsdWRlRm4sIHByZUxpbmtGbnMsIHBvc3RMaW5rRm5zLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KSB7XG4gICAgICB2YXIgbGlua1F1ZXVlID0gW10sXG4gICAgICAgICAgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4sXG4gICAgICAgICAgYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuLFxuICAgICAgICAgIGJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGUgPSAkY29tcGlsZU5vZGVbMF0sXG4gICAgICAgICAgb3JpZ0FzeW5jRGlyZWN0aXZlID0gZGlyZWN0aXZlcy5zaGlmdCgpLFxuICAgICAgICAgIGRlcml2ZWRTeW5jRGlyZWN0aXZlID0gaW5oZXJpdChvcmlnQXN5bmNEaXJlY3RpdmUsIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBudWxsLCB0cmFuc2NsdWRlOiBudWxsLCByZXBsYWNlOiBudWxsLCAkJG9yaWdpbmFsRGlyZWN0aXZlOiBvcmlnQXN5bmNEaXJlY3RpdmVcbiAgICAgICAgICB9KSxcbiAgICAgICAgICB0ZW1wbGF0ZVVybCA9IChpc0Z1bmN0aW9uKG9yaWdBc3luY0RpcmVjdGl2ZS50ZW1wbGF0ZVVybCkpXG4gICAgICAgICAgICAgID8gb3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsKCRjb21waWxlTm9kZSwgdEF0dHJzKVxuICAgICAgICAgICAgICA6IG9yaWdBc3luY0RpcmVjdGl2ZS50ZW1wbGF0ZVVybCxcbiAgICAgICAgICB0ZW1wbGF0ZU5hbWVzcGFjZSA9IG9yaWdBc3luY0RpcmVjdGl2ZS50ZW1wbGF0ZU5hbWVzcGFjZTtcblxuICAgICAgJGNvbXBpbGVOb2RlLmVtcHR5KCk7XG5cbiAgICAgICR0ZW1wbGF0ZVJlcXVlc3QodGVtcGxhdGVVcmwpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgICAgICAgICB2YXIgY29tcGlsZU5vZGUsIHRlbXBUZW1wbGF0ZUF0dHJzLCAkdGVtcGxhdGUsIGNoaWxkQm91bmRUcmFuc2NsdWRlRm47XG5cbiAgICAgICAgICBjb250ZW50ID0gZGVub3JtYWxpemVUZW1wbGF0ZShjb250ZW50KTtcblxuICAgICAgICAgIGlmIChvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZSkge1xuICAgICAgICAgICAgaWYgKGpxTGl0ZUlzVGV4dE5vZGUoY29udGVudCkpIHtcbiAgICAgICAgICAgICAgJHRlbXBsYXRlID0gW107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkdGVtcGxhdGUgPSByZW1vdmVDb21tZW50cyh3cmFwVGVtcGxhdGUodGVtcGxhdGVOYW1lc3BhY2UsIHRyaW0oY29udGVudCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBpbGVOb2RlID0gJHRlbXBsYXRlWzBdO1xuXG4gICAgICAgICAgICBpZiAoJHRlbXBsYXRlLmxlbmd0aCAhPSAxIHx8IGNvbXBpbGVOb2RlLm5vZGVUeXBlICE9PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xuICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycigndHBscnQnLFxuICAgICAgICAgICAgICAgICAgXCJUZW1wbGF0ZSBmb3IgZGlyZWN0aXZlICd7MH0nIG11c3QgaGF2ZSBleGFjdGx5IG9uZSByb290IGVsZW1lbnQuIHsxfVwiLFxuICAgICAgICAgICAgICAgICAgb3JpZ0FzeW5jRGlyZWN0aXZlLm5hbWUsIHRlbXBsYXRlVXJsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGVtcFRlbXBsYXRlQXR0cnMgPSB7JGF0dHI6IHt9fTtcbiAgICAgICAgICAgIHJlcGxhY2VXaXRoKCRyb290RWxlbWVudCwgJGNvbXBpbGVOb2RlLCBjb21waWxlTm9kZSk7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVEaXJlY3RpdmVzID0gY29sbGVjdERpcmVjdGl2ZXMoY29tcGlsZU5vZGUsIFtdLCB0ZW1wVGVtcGxhdGVBdHRycyk7XG5cbiAgICAgICAgICAgIGlmIChpc09iamVjdChvcmlnQXN5bmNEaXJlY3RpdmUuc2NvcGUpKSB7XG4gICAgICAgICAgICAgIG1hcmtEaXJlY3RpdmVzQXNJc29sYXRlKHRlbXBsYXRlRGlyZWN0aXZlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXJlY3RpdmVzID0gdGVtcGxhdGVEaXJlY3RpdmVzLmNvbmNhdChkaXJlY3RpdmVzKTtcbiAgICAgICAgICAgIG1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzKHRBdHRycywgdGVtcFRlbXBsYXRlQXR0cnMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb21waWxlTm9kZSA9IGJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGU7XG4gICAgICAgICAgICAkY29tcGlsZU5vZGUuaHRtbChjb250ZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkaXJlY3RpdmVzLnVuc2hpZnQoZGVyaXZlZFN5bmNEaXJlY3RpdmUpO1xuXG4gICAgICAgICAgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4gPSBhcHBseURpcmVjdGl2ZXNUb05vZGUoZGlyZWN0aXZlcywgY29tcGlsZU5vZGUsIHRBdHRycyxcbiAgICAgICAgICAgICAgY2hpbGRUcmFuc2NsdWRlRm4sICRjb21waWxlTm9kZSwgb3JpZ0FzeW5jRGlyZWN0aXZlLCBwcmVMaW5rRm5zLCBwb3N0TGlua0ZucyxcbiAgICAgICAgICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCk7XG4gICAgICAgICAgZm9yRWFjaCgkcm9vdEVsZW1lbnQsIGZ1bmN0aW9uKG5vZGUsIGkpIHtcbiAgICAgICAgICAgIGlmIChub2RlID09IGNvbXBpbGVOb2RlKSB7XG4gICAgICAgICAgICAgICRyb290RWxlbWVudFtpXSA9ICRjb21waWxlTm9kZVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4gPSBjb21waWxlTm9kZXMoJGNvbXBpbGVOb2RlWzBdLmNoaWxkTm9kZXMsIGNoaWxkVHJhbnNjbHVkZUZuKTtcblxuICAgICAgICAgIHdoaWxlIChsaW5rUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgc2NvcGUgPSBsaW5rUXVldWUuc2hpZnQoKSxcbiAgICAgICAgICAgICAgICBiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlID0gbGlua1F1ZXVlLnNoaWZ0KCksXG4gICAgICAgICAgICAgICAgbGlua1Jvb3RFbGVtZW50ID0gbGlua1F1ZXVlLnNoaWZ0KCksXG4gICAgICAgICAgICAgICAgYm91bmRUcmFuc2NsdWRlRm4gPSBsaW5rUXVldWUuc2hpZnQoKSxcbiAgICAgICAgICAgICAgICBsaW5rTm9kZSA9ICRjb21waWxlTm9kZVswXTtcblxuICAgICAgICAgICAgaWYgKHNjb3BlLiQkZGVzdHJveWVkKSBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKGJlZm9yZVRlbXBsYXRlTGlua05vZGUgIT09IGJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGUpIHtcbiAgICAgICAgICAgICAgdmFyIG9sZENsYXNzZXMgPSBiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlLmNsYXNzTmFtZTtcblxuICAgICAgICAgICAgICBpZiAoIShwcmV2aW91c0NvbXBpbGVDb250ZXh0Lmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlICYmXG4gICAgICAgICAgICAgICAgICBvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBpdCB3YXMgY2xvbmVkIHRoZXJlZm9yZSB3ZSBoYXZlIHRvIGNsb25lIGFzIHdlbGwuXG4gICAgICAgICAgICAgICAgbGlua05vZGUgPSBqcUxpdGVDbG9uZShjb21waWxlTm9kZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmVwbGFjZVdpdGgobGlua1Jvb3RFbGVtZW50LCBqcUxpdGUoYmVmb3JlVGVtcGxhdGVMaW5rTm9kZSksIGxpbmtOb2RlKTtcblxuICAgICAgICAgICAgICAvLyBDb3B5IGluIENTUyBjbGFzc2VzIGZyb20gb3JpZ2luYWwgbm9kZVxuICAgICAgICAgICAgICBzYWZlQWRkQ2xhc3MoanFMaXRlKGxpbmtOb2RlKSwgb2xkQ2xhc3Nlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlLCBib3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gYm91bmRUcmFuc2NsdWRlRm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbihhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sIHNjb3BlLCBsaW5rTm9kZSwgJHJvb3RFbGVtZW50LFxuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuLCBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxpbmtRdWV1ZSA9IG51bGw7XG4gICAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gZGVsYXllZE5vZGVMaW5rRm4oaWdub3JlQ2hpbGRMaW5rRm4sIHNjb3BlLCBub2RlLCByb290RWxlbWVudCwgYm91bmRUcmFuc2NsdWRlRm4pIHtcbiAgICAgICAgdmFyIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4gPSBib3VuZFRyYW5zY2x1ZGVGbjtcbiAgICAgICAgaWYgKHNjb3BlLiQkZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgIGlmIChsaW5rUXVldWUpIHtcbiAgICAgICAgICBsaW5rUXVldWUucHVzaChzY29wZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkQm91bmRUcmFuc2NsdWRlRm4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudCkge1xuICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlLCBib3VuZFRyYW5zY2x1ZGVGbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuKGFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbiwgc2NvcGUsIG5vZGUsIHJvb3RFbGVtZW50LCBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFNvcnRpbmcgZnVuY3Rpb24gZm9yIGJvdW5kIGRpcmVjdGl2ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYnlQcmlvcml0eShhLCBiKSB7XG4gICAgICB2YXIgZGlmZiA9IGIucHJpb3JpdHkgLSBhLnByaW9yaXR5O1xuICAgICAgaWYgKGRpZmYgIT09IDApIHJldHVybiBkaWZmO1xuICAgICAgaWYgKGEubmFtZSAhPT0gYi5uYW1lKSByZXR1cm4gKGEubmFtZSA8IGIubmFtZSkgPyAtMSA6IDE7XG4gICAgICByZXR1cm4gYS5pbmRleCAtIGIuaW5kZXg7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXNzZXJ0Tm9EdXBsaWNhdGUod2hhdCwgcHJldmlvdXNEaXJlY3RpdmUsIGRpcmVjdGl2ZSwgZWxlbWVudCkge1xuXG4gICAgICBmdW5jdGlvbiB3cmFwTW9kdWxlTmFtZUlmRGVmaW5lZChtb2R1bGVOYW1lKSB7XG4gICAgICAgIHJldHVybiBtb2R1bGVOYW1lID9cbiAgICAgICAgICAoJyAobW9kdWxlOiAnICsgbW9kdWxlTmFtZSArICcpJykgOlxuICAgICAgICAgICcnO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJldmlvdXNEaXJlY3RpdmUpIHtcbiAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ211bHRpZGlyJywgJ011bHRpcGxlIGRpcmVjdGl2ZXMgW3swfXsxfSwgezJ9ezN9XSBhc2tpbmcgZm9yIHs0fSBvbjogezV9JyxcbiAgICAgICAgICAgIHByZXZpb3VzRGlyZWN0aXZlLm5hbWUsIHdyYXBNb2R1bGVOYW1lSWZEZWZpbmVkKHByZXZpb3VzRGlyZWN0aXZlLiQkbW9kdWxlTmFtZSksXG4gICAgICAgICAgICBkaXJlY3RpdmUubmFtZSwgd3JhcE1vZHVsZU5hbWVJZkRlZmluZWQoZGlyZWN0aXZlLiQkbW9kdWxlTmFtZSksIHdoYXQsIHN0YXJ0aW5nVGFnKGVsZW1lbnQpKTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGFkZFRleHRJbnRlcnBvbGF0ZURpcmVjdGl2ZShkaXJlY3RpdmVzLCB0ZXh0KSB7XG4gICAgICB2YXIgaW50ZXJwb2xhdGVGbiA9ICRpbnRlcnBvbGF0ZSh0ZXh0LCB0cnVlKTtcbiAgICAgIGlmIChpbnRlcnBvbGF0ZUZuKSB7XG4gICAgICAgIGRpcmVjdGl2ZXMucHVzaCh7XG4gICAgICAgICAgcHJpb3JpdHk6IDAsXG4gICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24gdGV4dEludGVycG9sYXRlQ29tcGlsZUZuKHRlbXBsYXRlTm9kZSkge1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlTm9kZVBhcmVudCA9IHRlbXBsYXRlTm9kZS5wYXJlbnQoKSxcbiAgICAgICAgICAgICAgICBoYXNDb21waWxlUGFyZW50ID0gISF0ZW1wbGF0ZU5vZGVQYXJlbnQubGVuZ3RoO1xuXG4gICAgICAgICAgICAvLyBXaGVuIHRyYW5zY2x1ZGluZyBhIHRlbXBsYXRlIHRoYXQgaGFzIGJpbmRpbmdzIGluIHRoZSByb290XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBoYXZlIGEgcGFyZW50IGFuZCB0aHVzIG5lZWQgdG8gYWRkIHRoZSBjbGFzcyBkdXJpbmcgbGlua2luZyBmbi5cbiAgICAgICAgICAgIGlmIChoYXNDb21waWxlUGFyZW50KSBjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRlbXBsYXRlTm9kZVBhcmVudCk7XG5cbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiB0ZXh0SW50ZXJwb2xhdGVMaW5rRm4oc2NvcGUsIG5vZGUpIHtcbiAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50KCk7XG4gICAgICAgICAgICAgIGlmICghaGFzQ29tcGlsZVBhcmVudCkgY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyhwYXJlbnQpO1xuICAgICAgICAgICAgICBjb21waWxlLiQkYWRkQmluZGluZ0luZm8ocGFyZW50LCBpbnRlcnBvbGF0ZUZuLmV4cHJlc3Npb25zKTtcbiAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGludGVycG9sYXRlRm4sIGZ1bmN0aW9uIGludGVycG9sYXRlRm5XYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIG5vZGVbMF0ubm9kZVZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gd3JhcFRlbXBsYXRlKHR5cGUsIHRlbXBsYXRlKSB7XG4gICAgICB0eXBlID0gbG93ZXJjYXNlKHR5cGUgfHwgJ2h0bWwnKTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnc3ZnJzpcbiAgICAgIGNhc2UgJ21hdGgnOlxuICAgICAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICc8JyArIHR5cGUgKyAnPicgKyB0ZW1wbGF0ZSArICc8LycgKyB0eXBlICsgJz4nO1xuICAgICAgICByZXR1cm4gd3JhcHBlci5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXM7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBnZXRUcnVzdGVkQ29udGV4dChub2RlLCBhdHRyTm9ybWFsaXplZE5hbWUpIHtcbiAgICAgIGlmIChhdHRyTm9ybWFsaXplZE5hbWUgPT0gXCJzcmNkb2NcIikge1xuICAgICAgICByZXR1cm4gJHNjZS5IVE1MO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IG5vZGVOYW1lXyhub2RlKTtcbiAgICAgIC8vIG1hY3Rpb25beGxpbms6aHJlZl0gY2FuIHNvdXJjZSBTVkcuICBJdCdzIG5vdCBsaW1pdGVkIHRvIDxtYWN0aW9uPi5cbiAgICAgIGlmIChhdHRyTm9ybWFsaXplZE5hbWUgPT0gXCJ4bGlua0hyZWZcIiB8fFxuICAgICAgICAgICh0YWcgPT0gXCJmb3JtXCIgJiYgYXR0ck5vcm1hbGl6ZWROYW1lID09IFwiYWN0aW9uXCIpIHx8XG4gICAgICAgICAgKHRhZyAhPSBcImltZ1wiICYmIChhdHRyTm9ybWFsaXplZE5hbWUgPT0gXCJzcmNcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJOb3JtYWxpemVkTmFtZSA9PSBcIm5nU3JjXCIpKSkge1xuICAgICAgICByZXR1cm4gJHNjZS5SRVNPVVJDRV9VUkw7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBhZGRBdHRySW50ZXJwb2xhdGVEaXJlY3RpdmUobm9kZSwgZGlyZWN0aXZlcywgdmFsdWUsIG5hbWUsIGFsbE9yTm90aGluZykge1xuICAgICAgdmFyIHRydXN0ZWRDb250ZXh0ID0gZ2V0VHJ1c3RlZENvbnRleHQobm9kZSwgbmFtZSk7XG4gICAgICBhbGxPck5vdGhpbmcgPSBBTExfT1JfTk9USElOR19BVFRSU1tuYW1lXSB8fCBhbGxPck5vdGhpbmc7XG5cbiAgICAgIHZhciBpbnRlcnBvbGF0ZUZuID0gJGludGVycG9sYXRlKHZhbHVlLCB0cnVlLCB0cnVzdGVkQ29udGV4dCwgYWxsT3JOb3RoaW5nKTtcblxuICAgICAgLy8gbm8gaW50ZXJwb2xhdGlvbiBmb3VuZCAtPiBpZ25vcmVcbiAgICAgIGlmICghaW50ZXJwb2xhdGVGbikgcmV0dXJuO1xuXG5cbiAgICAgIGlmIChuYW1lID09PSBcIm11bHRpcGxlXCIgJiYgbm9kZU5hbWVfKG5vZGUpID09PSBcInNlbGVjdFwiKSB7XG4gICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKFwic2VsbXVsdGlcIixcbiAgICAgICAgICAgIFwiQmluZGluZyB0byB0aGUgJ211bHRpcGxlJyBhdHRyaWJ1dGUgaXMgbm90IHN1cHBvcnRlZC4gRWxlbWVudDogezB9XCIsXG4gICAgICAgICAgICBzdGFydGluZ1RhZyhub2RlKSk7XG4gICAgICB9XG5cbiAgICAgIGRpcmVjdGl2ZXMucHVzaCh7XG4gICAgICAgIHByaW9yaXR5OiAxMDAsXG4gICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgcHJlOiBmdW5jdGlvbiBhdHRySW50ZXJwb2xhdGVQcmVMaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgICAgICAgICB2YXIgJCRvYnNlcnZlcnMgPSAoYXR0ci4kJG9ic2VydmVycyB8fCAoYXR0ci4kJG9ic2VydmVycyA9IHt9KSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoRVZFTlRfSEFORExFUl9BVFRSX1JFR0VYUC50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbm9kb21ldmVudHMnLFxuICAgICAgICAgICAgICAgICAgICAgIFwiSW50ZXJwb2xhdGlvbnMgZm9yIEhUTUwgRE9NIGV2ZW50IGF0dHJpYnV0ZXMgYXJlIGRpc2FsbG93ZWQuICBQbGVhc2UgdXNlIHRoZSBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwibmctIHZlcnNpb25zIChzdWNoIGFzIG5nLWNsaWNrIGluc3RlYWQgb2Ygb25jbGljaykgaW5zdGVhZC5cIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGF0dHJpYnV0ZSBoYXMgY2hhbmdlZCBzaW5jZSBsYXN0ICRpbnRlcnBvbGF0ZSgpZWRcbiAgICAgICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBhdHRyW25hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gaW50ZXJwb2xhdGUgYWdhaW4gc2luY2UgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBoYXMgYmVlbiB1cGRhdGVkXG4gICAgICAgICAgICAgICAgICAvLyAoZS5nLiBieSBhbm90aGVyIGRpcmVjdGl2ZSdzIGNvbXBpbGUgZnVuY3Rpb24pXG4gICAgICAgICAgICAgICAgICAvLyBlbnN1cmUgdW5zZXQvZW1wdHkgdmFsdWVzIG1ha2UgaW50ZXJwb2xhdGVGbiBmYWxzeVxuICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVGbiA9IG5ld1ZhbHVlICYmICRpbnRlcnBvbGF0ZShuZXdWYWx1ZSwgdHJ1ZSwgdHJ1c3RlZENvbnRleHQsIGFsbE9yTm90aGluZyk7XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIGF0dHJpYnV0ZSB3YXMgdXBkYXRlZCBzbyB0aGF0IHRoZXJlIGlzIG5vIGludGVycG9sYXRpb24gZ29pbmcgb24gd2UgZG9uJ3Qgd2FudCB0b1xuICAgICAgICAgICAgICAgIC8vIHJlZ2lzdGVyIGFueSBvYnNlcnZlcnNcbiAgICAgICAgICAgICAgICBpZiAoIWludGVycG9sYXRlRm4pIHJldHVybjtcblxuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemUgYXR0ciBvYmplY3Qgc28gdGhhdCBpdCdzIHJlYWR5IGluIGNhc2Ugd2UgbmVlZCB0aGUgdmFsdWUgZm9yIGlzb2xhdGVcbiAgICAgICAgICAgICAgICAvLyBzY29wZSBpbml0aWFsaXphdGlvbiwgb3RoZXJ3aXNlIHRoZSB2YWx1ZSB3b3VsZCBub3QgYmUgYXZhaWxhYmxlIGZyb20gaXNvbGF0ZVxuICAgICAgICAgICAgICAgIC8vIGRpcmVjdGl2ZSdzIGxpbmtpbmcgZm4gZHVyaW5nIGxpbmtpbmcgcGhhc2VcbiAgICAgICAgICAgICAgICBhdHRyW25hbWVdID0gaW50ZXJwb2xhdGVGbihzY29wZSk7XG5cbiAgICAgICAgICAgICAgICAoJCRvYnNlcnZlcnNbbmFtZV0gfHwgKCQkb2JzZXJ2ZXJzW25hbWVdID0gW10pKS4kJGludGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAoYXR0ci4kJG9ic2VydmVycyAmJiBhdHRyLiQkb2JzZXJ2ZXJzW25hbWVdLiQkc2NvcGUgfHwgc2NvcGUpLlxuICAgICAgICAgICAgICAgICAgJHdhdGNoKGludGVycG9sYXRlRm4sIGZ1bmN0aW9uIGludGVycG9sYXRlRm5XYXRjaEFjdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9zcGVjaWFsIGNhc2UgZm9yIGNsYXNzIGF0dHJpYnV0ZSBhZGRpdGlvbiArIHJlbW92YWxcbiAgICAgICAgICAgICAgICAgICAgLy9zbyB0aGF0IGNsYXNzIGNoYW5nZXMgY2FuIHRhcCBpbnRvIHRoZSBhbmltYXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy9ob29rcyBwcm92aWRlZCBieSB0aGUgJGFuaW1hdGUgc2VydmljZS4gQmUgc3VyZSB0b1xuICAgICAgICAgICAgICAgICAgICAvL3NraXAgYW5pbWF0aW9ucyB3aGVuIHRoZSBmaXJzdCBkaWdlc3Qgb2NjdXJzICh3aGVuXG4gICAgICAgICAgICAgICAgICAgIC8vYm90aCB0aGUgbmV3IGFuZCB0aGUgb2xkIHZhbHVlcyBhcmUgdGhlIHNhbWUpIHNpbmNlXG4gICAgICAgICAgICAgICAgICAgIC8vdGhlIENTUyBjbGFzc2VzIGFyZSB0aGUgbm9uLWludGVycG9sYXRlZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdjbGFzcycgJiYgbmV3VmFsdWUgIT0gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyLiR1cGRhdGVDbGFzcyhuZXdWYWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGF0dHIuJHNldChuYW1lLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBhIHNwZWNpYWwganFMaXRlLnJlcGxhY2VXaXRoLCB3aGljaCBjYW4gcmVwbGFjZSBpdGVtcyB3aGljaFxuICAgICAqIGhhdmUgbm8gcGFyZW50cywgcHJvdmlkZWQgdGhhdCB0aGUgY29udGFpbmluZyBqcUxpdGUgY29sbGVjdGlvbiBpcyBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SnFMaXRlPX0gJHJvb3RFbGVtZW50IFRoZSByb290IG9mIHRoZSBjb21waWxlIHRyZWUuIFVzZWQgc28gdGhhdCB3ZSBjYW4gcmVwbGFjZSBub2Rlc1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIHRoZSByb290IG9mIHRoZSB0cmVlLlxuICAgICAqIEBwYXJhbSB7SnFMaXRlfSBlbGVtZW50c1RvUmVtb3ZlIFRoZSBqcUxpdGUgZWxlbWVudCB3aGljaCB3ZSBhcmUgZ29pbmcgdG8gcmVwbGFjZS4gV2Uga2VlcFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBzaGVsbCwgYnV0IHJlcGxhY2UgaXRzIERPTSBub2RlIHJlZmVyZW5jZS5cbiAgICAgKiBAcGFyYW0ge05vZGV9IG5ld05vZGUgVGhlIG5ldyBET00gbm9kZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBsYWNlV2l0aCgkcm9vdEVsZW1lbnQsIGVsZW1lbnRzVG9SZW1vdmUsIG5ld05vZGUpIHtcbiAgICAgIHZhciBmaXJzdEVsZW1lbnRUb1JlbW92ZSA9IGVsZW1lbnRzVG9SZW1vdmVbMF0sXG4gICAgICAgICAgcmVtb3ZlQ291bnQgPSBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aCxcbiAgICAgICAgICBwYXJlbnQgPSBmaXJzdEVsZW1lbnRUb1JlbW92ZS5wYXJlbnROb2RlLFxuICAgICAgICAgIGksIGlpO1xuXG4gICAgICBpZiAoJHJvb3RFbGVtZW50KSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gJHJvb3RFbGVtZW50Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICBpZiAoJHJvb3RFbGVtZW50W2ldID09IGZpcnN0RWxlbWVudFRvUmVtb3ZlKSB7XG4gICAgICAgICAgICAkcm9vdEVsZW1lbnRbaSsrXSA9IG5ld05vZGU7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gaSwgajIgPSBqICsgcmVtb3ZlQ291bnQgLSAxLFxuICAgICAgICAgICAgICAgICAgICAgamogPSAkcm9vdEVsZW1lbnQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICBqIDwgamo7IGorKywgajIrKykge1xuICAgICAgICAgICAgICBpZiAoajIgPCBqaikge1xuICAgICAgICAgICAgICAgICRyb290RWxlbWVudFtqXSA9ICRyb290RWxlbWVudFtqMl07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlICRyb290RWxlbWVudFtqXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHJvb3RFbGVtZW50Lmxlbmd0aCAtPSByZW1vdmVDb3VudCAtIDE7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSByZXBsYWNlZCBlbGVtZW50IGlzIGFsc28gdGhlIGpRdWVyeSAuY29udGV4dCB0aGVuIHJlcGxhY2UgaXRcbiAgICAgICAgICAgIC8vIC5jb250ZXh0IGlzIGEgZGVwcmVjYXRlZCBqUXVlcnkgYXBpLCBzbyB3ZSBzaG91bGQgc2V0IGl0IG9ubHkgd2hlbiBqUXVlcnkgc2V0IGl0XG4gICAgICAgICAgICAvLyBodHRwOi8vYXBpLmpxdWVyeS5jb20vY29udGV4dC9cbiAgICAgICAgICAgIGlmICgkcm9vdEVsZW1lbnQuY29udGV4dCA9PT0gZmlyc3RFbGVtZW50VG9SZW1vdmUpIHtcbiAgICAgICAgICAgICAgJHJvb3RFbGVtZW50LmNvbnRleHQgPSBuZXdOb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChuZXdOb2RlLCBmaXJzdEVsZW1lbnRUb1JlbW92ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE8ocGVyZik6IHdoYXQncyB0aGlzIGRvY3VtZW50IGZyYWdtZW50IGZvcj8gaXMgaXQgbmVlZGVkPyBjYW4gd2UgYXQgbGVhc3QgcmV1c2UgaXQ/XG4gICAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChmaXJzdEVsZW1lbnRUb1JlbW92ZSk7XG5cbiAgICAgIGlmIChqcUxpdGUuaGFzRGF0YShmaXJzdEVsZW1lbnRUb1JlbW92ZSkpIHtcbiAgICAgICAgLy8gQ29weSBvdmVyIHVzZXIgZGF0YSAodGhhdCBpbmNsdWRlcyBBbmd1bGFyJ3MgJHNjb3BlIGV0Yy4pLiBEb24ndCBjb3B5IHByaXZhdGVcbiAgICAgICAgLy8gZGF0YSBoZXJlIGJlY2F1c2UgdGhlcmUncyBubyBwdWJsaWMgaW50ZXJmYWNlIGluIGpRdWVyeSB0byBkbyB0aGF0IGFuZCBjb3B5aW5nIG92ZXJcbiAgICAgICAgLy8gZXZlbnQgbGlzdGVuZXJzICh3aGljaCBpcyB0aGUgbWFpbiB1c2Ugb2YgcHJpdmF0ZSBkYXRhKSB3b3VsZG4ndCB3b3JrIGFueXdheS5cbiAgICAgICAganFMaXRlKG5ld05vZGUpLmRhdGEoanFMaXRlKGZpcnN0RWxlbWVudFRvUmVtb3ZlKS5kYXRhKCkpO1xuXG4gICAgICAgIC8vIFJlbW92ZSBkYXRhIG9mIHRoZSByZXBsYWNlZCBlbGVtZW50LiBXZSBjYW5ub3QganVzdCBjYWxsIC5yZW1vdmUoKVxuICAgICAgICAvLyBvbiB0aGUgZWxlbWVudCBpdCBzaW5jZSB0aGF0IHdvdWxkIGRlYWxsb2NhdGUgc2NvcGUgdGhhdCBpcyBuZWVkZWRcbiAgICAgICAgLy8gZm9yIHRoZSBuZXcgbm9kZS4gSW5zdGVhZCwgcmVtb3ZlIHRoZSBkYXRhIFwibWFudWFsbHlcIi5cbiAgICAgICAgaWYgKCFqUXVlcnkpIHtcbiAgICAgICAgICBkZWxldGUganFMaXRlLmNhY2hlW2ZpcnN0RWxlbWVudFRvUmVtb3ZlW2pxTGl0ZS5leHBhbmRvXV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8galF1ZXJ5IDIueCBkb2Vzbid0IGV4cG9zZSB0aGUgZGF0YSBzdG9yYWdlLiBVc2UgalF1ZXJ5LmNsZWFuRGF0YSB0byBjbGVhbiB1cCBhZnRlclxuICAgICAgICAgIC8vIHRoZSByZXBsYWNlZCBlbGVtZW50LiBUaGUgY2xlYW5EYXRhIHZlcnNpb24gbW9ua2V5LXBhdGNoZWQgYnkgQW5ndWxhciB3b3VsZCBjYXVzZVxuICAgICAgICAgIC8vIHRoZSBzY29wZSB0byBiZSB0cmFzaGVkIGFuZCB3ZSBkbyBuZWVkIHRoZSB2ZXJ5IHNhbWUgc2NvcGUgdG8gd29yayB3aXRoIHRoZSBuZXdcbiAgICAgICAgICAvLyBlbGVtZW50LiBIb3dldmVyLCB3ZSBjYW5ub3QganVzdCBjYWNoZSB0aGUgbm9uLXBhdGNoZWQgdmVyc2lvbiBhbmQgdXNlIGl0IGhlcmUgYXNcbiAgICAgICAgICAvLyB0aGF0IHdvdWxkIGJyZWFrIGlmIGFub3RoZXIgbGlicmFyeSBwYXRjaGVzIHRoZSBtZXRob2QgYWZ0ZXIgQW5ndWxhciBkb2VzIChvbmVcbiAgICAgICAgICAvLyBleGFtcGxlIGlzIGpRdWVyeSBVSSkuIEluc3RlYWQsIHNldCBhIGZsYWcgaW5kaWNhdGluZyBzY29wZSBkZXN0cm95aW5nIHNob3VsZCBiZVxuICAgICAgICAgIC8vIHNraXBwZWQgdGhpcyBvbmUgdGltZS5cbiAgICAgICAgICBza2lwRGVzdHJveU9uTmV4dEpRdWVyeUNsZWFuRGF0YSA9IHRydWU7XG4gICAgICAgICAgalF1ZXJ5LmNsZWFuRGF0YShbZmlyc3RFbGVtZW50VG9SZW1vdmVdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBrID0gMSwga2sgPSBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aDsgayA8IGtrOyBrKyspIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50c1RvUmVtb3ZlW2tdO1xuICAgICAgICBqcUxpdGUoZWxlbWVudCkucmVtb3ZlKCk7IC8vIG11c3QgZG8gdGhpcyB3YXkgdG8gY2xlYW4gdXAgZXhwYW5kb1xuICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgZGVsZXRlIGVsZW1lbnRzVG9SZW1vdmVba107XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnRzVG9SZW1vdmVbMF0gPSBuZXdOb2RlO1xuICAgICAgZWxlbWVudHNUb1JlbW92ZS5sZW5ndGggPSAxO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gY2xvbmVBbmRBbm5vdGF0ZUZuKGZuLCBhbm5vdGF0aW9uKSB7XG4gICAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uKCkgeyByZXR1cm4gZm4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfSwgZm4sIGFubm90YXRpb24pO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gaW52b2tlTGlua0ZuKGxpbmtGbiwgc2NvcGUsICRlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMsIHRyYW5zY2x1ZGVGbikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGlua0ZuKHNjb3BlLCAkZWxlbWVudCwgYXR0cnMsIGNvbnRyb2xsZXJzLCB0cmFuc2NsdWRlRm4pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlLCBzdGFydGluZ1RhZygkZWxlbWVudCkpO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgLy8gU2V0IHVwICR3YXRjaGVzIGZvciBpc29sYXRlIHNjb3BlIGFuZCBjb250cm9sbGVyIGJpbmRpbmdzLiBUaGlzIHByb2Nlc3NcbiAgICAvLyBvbmx5IG9jY3VycyBmb3IgaXNvbGF0ZSBzY29wZXMgYW5kIG5ldyBzY29wZXMgd2l0aCBjb250cm9sbGVyQXMuXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZURpcmVjdGl2ZUJpbmRpbmdzKHNjb3BlLCBhdHRycywgZGVzdGluYXRpb24sIGJpbmRpbmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmUsIG5ld1Njb3BlKSB7XG4gICAgICB2YXIgb25OZXdTY29wZURlc3Ryb3llZDtcbiAgICAgIGZvckVhY2goYmluZGluZ3MsIGZ1bmN0aW9uKGRlZmluaXRpb24sIHNjb3BlTmFtZSkge1xuICAgICAgICB2YXIgYXR0ck5hbWUgPSBkZWZpbml0aW9uLmF0dHJOYW1lLFxuICAgICAgICBvcHRpb25hbCA9IGRlZmluaXRpb24ub3B0aW9uYWwsXG4gICAgICAgIG1vZGUgPSBkZWZpbml0aW9uLm1vZGUsIC8vIEAsID0sIG9yICZcbiAgICAgICAgbGFzdFZhbHVlLFxuICAgICAgICBwYXJlbnRHZXQsIHBhcmVudFNldCwgY29tcGFyZTtcblxuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwoYXR0cnMsIGF0dHJOYW1lKSkge1xuICAgICAgICAgIC8vIEluIHRoZSBjYXNlIG9mIHVzZXIgZGVmaW5lZCBhIGJpbmRpbmcgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIGEgbWV0aG9kIGluIE9iamVjdC5wcm90b3R5cGUgYnV0IGRpZG4ndCBzZXRcbiAgICAgICAgICAvLyB0aGUgY29ycmVzcG9uZGluZyBhdHRyaWJ1dGUuIFdlIG5lZWQgdG8gbWFrZSBzdXJlIHN1YnNlcXVlbnQgY29kZSB3b24ndCBhY2Nlc3MgdG8gdGhlIHByb3RvdHlwZSBmdW5jdGlvblxuICAgICAgICAgIGF0dHJzW2F0dHJOYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAobW9kZSkge1xuXG4gICAgICAgICAgY2FzZSAnQCc6XG4gICAgICAgICAgICBpZiAoIWF0dHJzW2F0dHJOYW1lXSAmJiAhb3B0aW9uYWwpIHtcbiAgICAgICAgICAgICAgZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUoYXR0ck5hbWUsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXR0cnMuJCRvYnNlcnZlcnNbYXR0ck5hbWVdLiQkc2NvcGUgPSBzY29wZTtcbiAgICAgICAgICAgIGlmIChhdHRyc1thdHRyTmFtZV0pIHtcbiAgICAgICAgICAgICAgLy8gSWYgdGhlIGF0dHJpYnV0ZSBoYXMgYmVlbiBwcm92aWRlZCB0aGVuIHdlIHRyaWdnZXIgYW4gaW50ZXJwb2xhdGlvbiB0byBlbnN1cmVcbiAgICAgICAgICAgICAgLy8gdGhlIHZhbHVlIGlzIHRoZXJlIGZvciB1c2UgaW4gdGhlIGxpbmsgZm5cbiAgICAgICAgICAgICAgZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9ICRpbnRlcnBvbGF0ZShhdHRyc1thdHRyTmFtZV0pKHNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnPSc6XG4gICAgICAgICAgICBpZiAob3B0aW9uYWwgJiYgIWF0dHJzW2F0dHJOYW1lXSkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnRHZXQgPSAkcGFyc2UoYXR0cnNbYXR0ck5hbWVdKTtcblxuICAgICAgICAgICAgaWYgKHBhcmVudEdldC5saXRlcmFsKSB7XG4gICAgICAgICAgICAgIGNvbXBhcmUgPSBlcXVhbHM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb21wYXJlID0gZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gYSA9PT0gYiB8fCAoYSAhPT0gYSAmJiBiICE9PSBiKTsgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudFNldCA9IHBhcmVudEdldC5hc3NpZ24gfHwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIC8vIHJlc2V0IHRoZSBjaGFuZ2UsIG9yIHdlIHdpbGwgdGhyb3cgdGhpcyBleGNlcHRpb24gb24gZXZlcnkgJGRpZ2VzdFxuICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gcGFyZW50R2V0KHNjb3BlKTtcbiAgICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ25vbmFzc2lnbicsXG4gICAgICAgICAgICAgICAgICBcIkV4cHJlc3Npb24gJ3swfScgdXNlZCB3aXRoIGRpcmVjdGl2ZSAnezF9JyBpcyBub24tYXNzaWduYWJsZSFcIixcbiAgICAgICAgICAgICAgICAgIGF0dHJzW2F0dHJOYW1lXSwgZGlyZWN0aXZlLm5hbWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxhc3RWYWx1ZSA9IGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSBwYXJlbnRHZXQoc2NvcGUpO1xuICAgICAgICAgICAgdmFyIHBhcmVudFZhbHVlV2F0Y2ggPSBmdW5jdGlvbiBwYXJlbnRWYWx1ZVdhdGNoKHBhcmVudFZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmICghY29tcGFyZShwYXJlbnRWYWx1ZSwgZGVzdGluYXRpb25bc2NvcGVOYW1lXSkpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgb3V0IG9mIHN5bmMgYW5kIG5lZWQgdG8gY29weVxuICAgICAgICAgICAgICAgIGlmICghY29tcGFyZShwYXJlbnRWYWx1ZSwgbGFzdFZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgLy8gcGFyZW50IGNoYW5nZWQgYW5kIGl0IGhhcyBwcmVjZWRlbmNlXG4gICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gcGFyZW50VmFsdWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBwYXJlbnQgY2FuIGJlIGFzc2lnbmVkIHRoZW4gZG8gc29cbiAgICAgICAgICAgICAgICAgIHBhcmVudFNldChzY29wZSwgcGFyZW50VmFsdWUgPSBkZXN0aW5hdGlvbltzY29wZU5hbWVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGxhc3RWYWx1ZSA9IHBhcmVudFZhbHVlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBhcmVudFZhbHVlV2F0Y2guJHN0YXRlZnVsID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciB1bndhdGNoO1xuICAgICAgICAgICAgaWYgKGRlZmluaXRpb24uY29sbGVjdGlvbikge1xuICAgICAgICAgICAgICB1bndhdGNoID0gc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihhdHRyc1thdHRyTmFtZV0sIHBhcmVudFZhbHVlV2F0Y2gpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdW53YXRjaCA9IHNjb3BlLiR3YXRjaCgkcGFyc2UoYXR0cnNbYXR0ck5hbWVdLCBwYXJlbnRWYWx1ZVdhdGNoKSwgbnVsbCwgcGFyZW50R2V0LmxpdGVyYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb25OZXdTY29wZURlc3Ryb3llZCA9IChvbk5ld1Njb3BlRGVzdHJveWVkIHx8IFtdKTtcbiAgICAgICAgICAgIG9uTmV3U2NvcGVEZXN0cm95ZWQucHVzaCh1bndhdGNoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnJic6XG4gICAgICAgICAgICBwYXJlbnRHZXQgPSAkcGFyc2UoYXR0cnNbYXR0ck5hbWVdKTtcblxuICAgICAgICAgICAgLy8gRG9uJ3QgYXNzaWduIG5vb3AgdG8gZGVzdGluYXRpb24gaWYgZXhwcmVzc2lvbiBpcyBub3QgdmFsaWRcbiAgICAgICAgICAgIGlmIChwYXJlbnRHZXQgPT09IG5vb3AgJiYgb3B0aW9uYWwpIGJyZWFrO1xuXG4gICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gZnVuY3Rpb24obG9jYWxzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwYXJlbnRHZXQoc2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyIGRlc3Ryb3lCaW5kaW5ncyA9IG9uTmV3U2NvcGVEZXN0cm95ZWQgPyBmdW5jdGlvbiBkZXN0cm95QmluZGluZ3MoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG9uTmV3U2NvcGVEZXN0cm95ZWQubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xuICAgICAgICAgIG9uTmV3U2NvcGVEZXN0cm95ZWRbaV0oKTtcbiAgICAgICAgfVxuICAgICAgfSA6IG5vb3A7XG4gICAgICBpZiAobmV3U2NvcGUgJiYgZGVzdHJveUJpbmRpbmdzICE9PSBub29wKSB7XG4gICAgICAgIG5ld1Njb3BlLiRvbignJGRlc3Ryb3knLCBkZXN0cm95QmluZGluZ3MpO1xuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZXN0cm95QmluZGluZ3M7XG4gICAgfVxuICB9XTtcbn1cblxudmFyIFBSRUZJWF9SRUdFWFAgPSAvXigoPzp4fGRhdGEpW1xcOlxcLV9dKS9pO1xuLyoqXG4gKiBDb252ZXJ0cyBhbGwgYWNjZXB0ZWQgZGlyZWN0aXZlcyBmb3JtYXQgaW50byBwcm9wZXIgZGlyZWN0aXZlIG5hbWUuXG4gKiBAcGFyYW0gbmFtZSBOYW1lIHRvIG5vcm1hbGl6ZVxuICovXG5mdW5jdGlvbiBkaXJlY3RpdmVOb3JtYWxpemUobmFtZSkge1xuICByZXR1cm4gY2FtZWxDYXNlKG5hbWUucmVwbGFjZShQUkVGSVhfUkVHRVhQLCAnJykpO1xufVxuXG4vKipcbiAqIEBuZ2RvYyB0eXBlXG4gKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSBzaGFyZWQgb2JqZWN0IGJldHdlZW4gZGlyZWN0aXZlIGNvbXBpbGUgLyBsaW5raW5nIGZ1bmN0aW9ucyB3aGljaCBjb250YWlucyBub3JtYWxpemVkIERPTVxuICogZWxlbWVudCBhdHRyaWJ1dGVzLiBUaGUgdmFsdWVzIHJlZmxlY3QgY3VycmVudCBiaW5kaW5nIHN0YXRlIGB7eyB9fWAuIFRoZSBub3JtYWxpemF0aW9uIGlzXG4gKiBuZWVkZWQgc2luY2UgYWxsIG9mIHRoZXNlIGFyZSB0cmVhdGVkIGFzIGVxdWl2YWxlbnQgaW4gQW5ndWxhcjpcbiAqXG4gKiBgYGBcbiAqICAgIDxzcGFuIG5nOmJpbmQ9XCJhXCIgbmctYmluZD1cImFcIiBkYXRhLW5nLWJpbmQ9XCJhXCIgeC1uZy1iaW5kPVwiYVwiPlxuICogYGBgXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgcHJvcGVydHlcbiAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRhdHRyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBBIG1hcCBvZiBET00gZWxlbWVudCBhdHRyaWJ1dGUgbmFtZXMgdG8gdGhlIG5vcm1hbGl6ZWQgbmFtZS4gVGhpcyBpc1xuICogbmVlZGVkIHRvIGRvIHJldmVyc2UgbG9va3VwIGZyb20gbm9ybWFsaXplZCBuYW1lIGJhY2sgdG8gYWN0dWFsIG5hbWUuXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBtZXRob2RcbiAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRzZXRcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTZXQgRE9NIGVsZW1lbnQgYXR0cmlidXRlIHZhbHVlLlxuICpcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOb3JtYWxpemVkIGVsZW1lbnQgYXR0cmlidXRlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIG1vZGlmeS4gVGhlIG5hbWUgaXNcbiAqICAgICAgICAgIHJldmVyc2UtdHJhbnNsYXRlZCB1c2luZyB0aGUge0BsaW5rIG5nLiRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRhdHRyICRhdHRyfVxuICogICAgICAgICAgcHJvcGVydHkgdG8gdGhlIG9yaWdpbmFsIG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVmFsdWUgdG8gc2V0IHRoZSBhdHRyaWJ1dGUgdG8uIFRoZSB2YWx1ZSBjYW4gYmUgYW4gaW50ZXJwb2xhdGVkIHN0cmluZy5cbiAqL1xuXG5cblxuLyoqXG4gKiBDbG9zdXJlIGNvbXBpbGVyIHR5cGUgaW5mb3JtYXRpb25cbiAqL1xuXG5mdW5jdGlvbiBub2Rlc2V0TGlua2luZ0ZuKFxuICAvKiBhbmd1bGFyLlNjb3BlICovIHNjb3BlLFxuICAvKiBOb2RlTGlzdCAqLyBub2RlTGlzdCxcbiAgLyogRWxlbWVudCAqLyByb290RWxlbWVudCxcbiAgLyogZnVuY3Rpb24oRnVuY3Rpb24pICovIGJvdW5kVHJhbnNjbHVkZUZuXG4pIHt9XG5cbmZ1bmN0aW9uIGRpcmVjdGl2ZUxpbmtpbmdGbihcbiAgLyogbm9kZXNldExpbmtpbmdGbiAqLyBub2Rlc2V0TGlua2luZ0ZuLFxuICAvKiBhbmd1bGFyLlNjb3BlICovIHNjb3BlLFxuICAvKiBOb2RlICovIG5vZGUsXG4gIC8qIEVsZW1lbnQgKi8gcm9vdEVsZW1lbnQsXG4gIC8qIGZ1bmN0aW9uKEZ1bmN0aW9uKSAqLyBib3VuZFRyYW5zY2x1ZGVGblxuKSB7fVxuXG5mdW5jdGlvbiB0b2tlbkRpZmZlcmVuY2Uoc3RyMSwgc3RyMikge1xuICB2YXIgdmFsdWVzID0gJycsXG4gICAgICB0b2tlbnMxID0gc3RyMS5zcGxpdCgvXFxzKy8pLFxuICAgICAgdG9rZW5zMiA9IHN0cjIuc3BsaXQoL1xccysvKTtcblxuICBvdXRlcjpcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMxLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRva2VuID0gdG9rZW5zMVtpXTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRva2VuczIubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmICh0b2tlbiA9PSB0b2tlbnMyW2pdKSBjb250aW51ZSBvdXRlcjtcbiAgICB9XG4gICAgdmFsdWVzICs9ICh2YWx1ZXMubGVuZ3RoID4gMCA/ICcgJyA6ICcnKSArIHRva2VuO1xuICB9XG4gIHJldHVybiB2YWx1ZXM7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNvbW1lbnRzKGpxTm9kZXMpIHtcbiAganFOb2RlcyA9IGpxTGl0ZShqcU5vZGVzKTtcbiAgdmFyIGkgPSBqcU5vZGVzLmxlbmd0aDtcblxuICBpZiAoaSA8PSAxKSB7XG4gICAgcmV0dXJuIGpxTm9kZXM7XG4gIH1cblxuICB3aGlsZSAoaS0tKSB7XG4gICAgdmFyIG5vZGUgPSBqcU5vZGVzW2ldO1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfQ09NTUVOVCkge1xuICAgICAgc3BsaWNlLmNhbGwoanFOb2RlcywgaSwgMSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBqcU5vZGVzO1xufVxuXG52YXIgJGNvbnRyb2xsZXJNaW5FcnIgPSBtaW5FcnIoJyRjb250cm9sbGVyJyk7XG5cblxudmFyIENOVFJMX1JFRyA9IC9eKFxcUyspKFxccythc1xccysoXFx3KykpPyQvO1xuZnVuY3Rpb24gaWRlbnRpZmllckZvckNvbnRyb2xsZXIoY29udHJvbGxlciwgaWRlbnQpIHtcbiAgaWYgKGlkZW50ICYmIGlzU3RyaW5nKGlkZW50KSkgcmV0dXJuIGlkZW50O1xuICBpZiAoaXNTdHJpbmcoY29udHJvbGxlcikpIHtcbiAgICB2YXIgbWF0Y2ggPSBDTlRSTF9SRUcuZXhlYyhjb250cm9sbGVyKTtcbiAgICBpZiAobWF0Y2gpIHJldHVybiBtYXRjaFszXTtcbiAgfVxufVxuXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkY29udHJvbGxlclByb3ZpZGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSB7QGxpbmsgbmcuJGNvbnRyb2xsZXIgJGNvbnRyb2xsZXIgc2VydmljZX0gaXMgdXNlZCBieSBBbmd1bGFyIHRvIGNyZWF0ZSBuZXdcbiAqIGNvbnRyb2xsZXJzLlxuICpcbiAqIFRoaXMgcHJvdmlkZXIgYWxsb3dzIGNvbnRyb2xsZXIgcmVnaXN0cmF0aW9uIHZpYSB0aGVcbiAqIHtAbGluayBuZy4kY29udHJvbGxlclByb3ZpZGVyI3JlZ2lzdGVyIHJlZ2lzdGVyfSBtZXRob2QuXG4gKi9cbmZ1bmN0aW9uICRDb250cm9sbGVyUHJvdmlkZXIoKSB7XG4gIHZhciBjb250cm9sbGVycyA9IHt9LFxuICAgICAgZ2xvYmFscyA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRjb250cm9sbGVyUHJvdmlkZXIjcmVnaXN0ZXJcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIENvbnRyb2xsZXIgbmFtZSwgb3IgYW4gb2JqZWN0IG1hcCBvZiBjb250cm9sbGVycyB3aGVyZSB0aGUga2V5cyBhcmVcbiAgICogICAgdGhlIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgY29uc3RydWN0b3JzLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5fSBjb25zdHJ1Y3RvciBDb250cm9sbGVyIGNvbnN0cnVjdG9yIGZuIChvcHRpb25hbGx5IGRlY29yYXRlZCB3aXRoIERJXG4gICAqICAgIGFubm90YXRpb25zIGluIHRoZSBhcnJheSBub3RhdGlvbikuXG4gICAqL1xuICB0aGlzLnJlZ2lzdGVyID0gZnVuY3Rpb24obmFtZSwgY29uc3RydWN0b3IpIHtcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnY29udHJvbGxlcicpO1xuICAgIGlmIChpc09iamVjdChuYW1lKSkge1xuICAgICAgZXh0ZW5kKGNvbnRyb2xsZXJzLCBuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udHJvbGxlcnNbbmFtZV0gPSBjb25zdHJ1Y3RvcjtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGNvbnRyb2xsZXJQcm92aWRlciNhbGxvd0dsb2JhbHNcbiAgICogQGRlc2NyaXB0aW9uIElmIGNhbGxlZCwgYWxsb3dzIGAkY29udHJvbGxlcmAgdG8gZmluZCBjb250cm9sbGVyIGNvbnN0cnVjdG9ycyBvbiBgd2luZG93YFxuICAgKi9cbiAgdGhpcy5hbGxvd0dsb2JhbHMgPSBmdW5jdGlvbigpIHtcbiAgICBnbG9iYWxzID0gdHJ1ZTtcbiAgfTtcblxuXG4gIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgJyR3aW5kb3cnLCBmdW5jdGlvbigkaW5qZWN0b3IsICR3aW5kb3cpIHtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQG5hbWUgJGNvbnRyb2xsZXJcbiAgICAgKiBAcmVxdWlyZXMgJGluamVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gY29uc3RydWN0b3IgSWYgY2FsbGVkIHdpdGggYSBmdW5jdGlvbiB0aGVuIGl0J3MgY29uc2lkZXJlZCB0byBiZSB0aGVcbiAgICAgKiAgICBjb250cm9sbGVyIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLiBPdGhlcndpc2UgaXQncyBjb25zaWRlcmVkIHRvIGJlIGEgc3RyaW5nIHdoaWNoIGlzIHVzZWRcbiAgICAgKiAgICB0byByZXRyaWV2ZSB0aGUgY29udHJvbGxlciBjb25zdHJ1Y3RvciB1c2luZyB0aGUgZm9sbG93aW5nIHN0ZXBzOlxuICAgICAqXG4gICAgICogICAgKiBjaGVjayBpZiBhIGNvbnRyb2xsZXIgd2l0aCBnaXZlbiBuYW1lIGlzIHJlZ2lzdGVyZWQgdmlhIGAkY29udHJvbGxlclByb3ZpZGVyYFxuICAgICAqICAgICogY2hlY2sgaWYgZXZhbHVhdGluZyB0aGUgc3RyaW5nIG9uIHRoZSBjdXJyZW50IHNjb3BlIHJldHVybnMgYSBjb25zdHJ1Y3RvclxuICAgICAqICAgICogaWYgJGNvbnRyb2xsZXJQcm92aWRlciNhbGxvd0dsb2JhbHMsIGNoZWNrIGB3aW5kb3dbY29uc3RydWN0b3JdYCBvbiB0aGUgZ2xvYmFsXG4gICAgICogICAgICBgd2luZG93YCBvYmplY3QgKG5vdCByZWNvbW1lbmRlZClcbiAgICAgKlxuICAgICAqICAgIFRoZSBzdHJpbmcgY2FuIHVzZSB0aGUgYGNvbnRyb2xsZXIgYXMgcHJvcGVydHlgIHN5bnRheCwgd2hlcmUgdGhlIGNvbnRyb2xsZXIgaW5zdGFuY2UgaXMgcHVibGlzaGVkXG4gICAgICogICAgYXMgdGhlIHNwZWNpZmllZCBwcm9wZXJ0eSBvbiB0aGUgYHNjb3BlYDsgdGhlIGBzY29wZWAgbXVzdCBiZSBpbmplY3RlZCBpbnRvIGBsb2NhbHNgIHBhcmFtIGZvciB0aGlzXG4gICAgICogICAgdG8gd29yayBjb3JyZWN0bHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbG9jYWxzIEluamVjdGlvbiBsb2NhbHMgZm9yIENvbnRyb2xsZXIuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBJbnN0YW5jZSBvZiBnaXZlbiBjb250cm9sbGVyLlxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogYCRjb250cm9sbGVyYCBzZXJ2aWNlIGlzIHJlc3BvbnNpYmxlIGZvciBpbnN0YW50aWF0aW5nIGNvbnRyb2xsZXJzLlxuICAgICAqXG4gICAgICogSXQncyBqdXN0IGEgc2ltcGxlIGNhbGwgdG8ge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0sIGJ1dCBleHRyYWN0ZWQgaW50b1xuICAgICAqIGEgc2VydmljZSwgc28gdGhhdCBvbmUgY2FuIG92ZXJyaWRlIHRoaXMgc2VydmljZSB3aXRoIFtCQyB2ZXJzaW9uXShodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xNjQ5Nzg4KS5cbiAgICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24oZXhwcmVzc2lvbiwgbG9jYWxzLCBsYXRlciwgaWRlbnQpIHtcbiAgICAgIC8vIFBSSVZBVEUgQVBJOlxuICAgICAgLy8gICBwYXJhbSBgbGF0ZXJgIC0tLSBpbmRpY2F0ZXMgdGhhdCB0aGUgY29udHJvbGxlcidzIGNvbnN0cnVjdG9yIGlzIGludm9rZWQgYXQgYSBsYXRlciB0aW1lLlxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBJZiB0cnVlLCAkY29udHJvbGxlciB3aWxsIGFsbG9jYXRlIHRoZSBvYmplY3Qgd2l0aCB0aGUgY29ycmVjdFxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBwcm90b3R5cGUgY2hhaW4sIGJ1dCB3aWxsIG5vdCBpbnZva2UgdGhlIGNvbnRyb2xsZXIgdW50aWwgYSByZXR1cm5lZFxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayBpcyBpbnZva2VkLlxuICAgICAgLy8gICBwYXJhbSBgaWRlbnRgIC0tLSBBbiBvcHRpb25hbCBsYWJlbCB3aGljaCBvdmVycmlkZXMgdGhlIGxhYmVsIHBhcnNlZCBmcm9tIHRoZSBjb250cm9sbGVyXG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24sIGlmIGFueS5cbiAgICAgIHZhciBpbnN0YW5jZSwgbWF0Y2gsIGNvbnN0cnVjdG9yLCBpZGVudGlmaWVyO1xuICAgICAgbGF0ZXIgPSBsYXRlciA9PT0gdHJ1ZTtcbiAgICAgIGlmIChpZGVudCAmJiBpc1N0cmluZyhpZGVudCkpIHtcbiAgICAgICAgaWRlbnRpZmllciA9IGlkZW50O1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNTdHJpbmcoZXhwcmVzc2lvbikpIHtcbiAgICAgICAgbWF0Y2ggPSBleHByZXNzaW9uLm1hdGNoKENOVFJMX1JFRyk7XG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICB0aHJvdyAkY29udHJvbGxlck1pbkVycignY3RybGZtdCcsXG4gICAgICAgICAgICBcIkJhZGx5IGZvcm1lZCBjb250cm9sbGVyIHN0cmluZyAnezB9Jy4gXCIgK1xuICAgICAgICAgICAgXCJNdXN0IG1hdGNoIGBfX25hbWVfXyBhcyBfX2lkX19gIG9yIGBfX25hbWVfX2AuXCIsIGV4cHJlc3Npb24pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0cnVjdG9yID0gbWF0Y2hbMV0sXG4gICAgICAgIGlkZW50aWZpZXIgPSBpZGVudGlmaWVyIHx8IG1hdGNoWzNdO1xuICAgICAgICBleHByZXNzaW9uID0gY29udHJvbGxlcnMuaGFzT3duUHJvcGVydHkoY29uc3RydWN0b3IpXG4gICAgICAgICAgICA/IGNvbnRyb2xsZXJzW2NvbnN0cnVjdG9yXVxuICAgICAgICAgICAgOiBnZXR0ZXIobG9jYWxzLiRzY29wZSwgY29uc3RydWN0b3IsIHRydWUpIHx8XG4gICAgICAgICAgICAgICAgKGdsb2JhbHMgPyBnZXR0ZXIoJHdpbmRvdywgY29uc3RydWN0b3IsIHRydWUpIDogdW5kZWZpbmVkKTtcblxuICAgICAgICBhc3NlcnRBcmdGbihleHByZXNzaW9uLCBjb25zdHJ1Y3RvciwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChsYXRlcikge1xuICAgICAgICAvLyBJbnN0YW50aWF0ZSBjb250cm9sbGVyIGxhdGVyOlxuICAgICAgICAvLyBUaGlzIG1hY2hpbmVyeSBpcyB1c2VkIHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGUgb2JqZWN0IGJlZm9yZSBjYWxsaW5nIHRoZVxuICAgICAgICAvLyBjb250cm9sbGVyJ3MgY29uc3RydWN0b3IgaXRzZWxmLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGFsbG93cyBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIHRoZSBjb250cm9sbGVyIGJlZm9yZSB0aGUgY29uc3RydWN0b3IgaXNcbiAgICAgICAgLy8gaW52b2tlZC4gUHJpbWFyaWx5LCB0aGlzIGlzIHVzZWQgZm9yIGlzb2xhdGUgc2NvcGUgYmluZGluZ3MgaW4gJGNvbXBpbGUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgZmVhdHVyZSBpcyBub3QgaW50ZW5kZWQgZm9yIHVzZSBieSBhcHBsaWNhdGlvbnMsIGFuZCBpcyB0aHVzIG5vdCBkb2N1bWVudGVkXG4gICAgICAgIC8vIHB1YmxpY2x5LlxuICAgICAgICAvLyBPYmplY3QgY3JlYXRpb246IGh0dHA6Ly9qc3BlcmYuY29tL2NyZWF0ZS1jb25zdHJ1Y3Rvci8yXG4gICAgICAgIHZhciBjb250cm9sbGVyUHJvdG90eXBlID0gKGlzQXJyYXkoZXhwcmVzc2lvbikgP1xuICAgICAgICAgIGV4cHJlc3Npb25bZXhwcmVzc2lvbi5sZW5ndGggLSAxXSA6IGV4cHJlc3Npb24pLnByb3RvdHlwZTtcbiAgICAgICAgaW5zdGFuY2UgPSBPYmplY3QuY3JlYXRlKGNvbnRyb2xsZXJQcm90b3R5cGUgfHwgbnVsbCk7XG5cbiAgICAgICAgaWYgKGlkZW50aWZpZXIpIHtcbiAgICAgICAgICBhZGRJZGVudGlmaWVyKGxvY2FscywgaWRlbnRpZmllciwgaW5zdGFuY2UsIGNvbnN0cnVjdG9yIHx8IGV4cHJlc3Npb24ubmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW5zdGFudGlhdGU7XG4gICAgICAgIHJldHVybiBpbnN0YW50aWF0ZSA9IGV4dGVuZChmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gJGluamVjdG9yLmludm9rZShleHByZXNzaW9uLCBpbnN0YW5jZSwgbG9jYWxzLCBjb25zdHJ1Y3Rvcik7XG4gICAgICAgICAgaWYgKHJlc3VsdCAhPT0gaW5zdGFuY2UgJiYgKGlzT2JqZWN0KHJlc3VsdCkgfHwgaXNGdW5jdGlvbihyZXN1bHQpKSkge1xuICAgICAgICAgICAgaW5zdGFuY2UgPSByZXN1bHQ7XG4gICAgICAgICAgICBpZiAoaWRlbnRpZmllcikge1xuICAgICAgICAgICAgICAvLyBJZiByZXN1bHQgY2hhbmdlZCwgcmUtYXNzaWduIGNvbnRyb2xsZXJBcyB2YWx1ZSB0byBzY29wZS5cbiAgICAgICAgICAgICAgYWRkSWRlbnRpZmllcihsb2NhbHMsIGlkZW50aWZpZXIsIGluc3RhbmNlLCBjb25zdHJ1Y3RvciB8fCBleHByZXNzaW9uLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBpbnN0YW5jZTogaW5zdGFuY2UsXG4gICAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllclxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaW5zdGFuY2UgPSAkaW5qZWN0b3IuaW5zdGFudGlhdGUoZXhwcmVzc2lvbiwgbG9jYWxzLCBjb25zdHJ1Y3Rvcik7XG5cbiAgICAgIGlmIChpZGVudGlmaWVyKSB7XG4gICAgICAgIGFkZElkZW50aWZpZXIobG9jYWxzLCBpZGVudGlmaWVyLCBpbnN0YW5jZSwgY29uc3RydWN0b3IgfHwgZXhwcmVzc2lvbi5uYW1lKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBhZGRJZGVudGlmaWVyKGxvY2FscywgaWRlbnRpZmllciwgaW5zdGFuY2UsIG5hbWUpIHtcbiAgICAgIGlmICghKGxvY2FscyAmJiBpc09iamVjdChsb2NhbHMuJHNjb3BlKSkpIHtcbiAgICAgICAgdGhyb3cgbWluRXJyKCckY29udHJvbGxlcicpKCdub3NjcCcsXG4gICAgICAgICAgXCJDYW5ub3QgZXhwb3J0IGNvbnRyb2xsZXIgJ3swfScgYXMgJ3sxfSchIE5vICRzY29wZSBvYmplY3QgcHJvdmlkZWQgdmlhIGBsb2NhbHNgLlwiLFxuICAgICAgICAgIG5hbWUsIGlkZW50aWZpZXIpO1xuICAgICAgfVxuXG4gICAgICBsb2NhbHMuJHNjb3BlW2lkZW50aWZpZXJdID0gaW5zdGFuY2U7XG4gICAgfVxuICB9XTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGRvY3VtZW50XG4gKiBAcmVxdWlyZXMgJHdpbmRvd1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSB7QGxpbmsgYW5ndWxhci5lbGVtZW50IGpRdWVyeSBvciBqcUxpdGV9IHdyYXBwZXIgZm9yIHRoZSBicm93c2VyJ3MgYHdpbmRvdy5kb2N1bWVudGAgb2JqZWN0LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJkb2N1bWVudEV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPHA+JGRvY3VtZW50IHRpdGxlOiA8YiBuZy1iaW5kPVwidGl0bGVcIj48L2I+PC9wPlxuICAgICAgICAgPHA+d2luZG93LmRvY3VtZW50IHRpdGxlOiA8YiBuZy1iaW5kPVwid2luZG93VGl0bGVcIj48L2I+PC9wPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnZG9jdW1lbnRFeGFtcGxlJywgW10pXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckZG9jdW1lbnQnLCBmdW5jdGlvbigkc2NvcGUsICRkb2N1bWVudCkge1xuICAgICAgICAgICAkc2NvcGUudGl0bGUgPSAkZG9jdW1lbnRbMF0udGl0bGU7XG4gICAgICAgICAgICRzY29wZS53aW5kb3dUaXRsZSA9IGFuZ3VsYXIuZWxlbWVudCh3aW5kb3cuZG9jdW1lbnQpWzBdLnRpdGxlO1xuICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbmZ1bmN0aW9uICREb2N1bWVudFByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCBmdW5jdGlvbih3aW5kb3cpIHtcbiAgICByZXR1cm4ganFMaXRlKHdpbmRvdy5kb2N1bWVudCk7XG4gIH1dO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkZXhjZXB0aW9uSGFuZGxlclxuICogQHJlcXVpcmVzIG5nLiRsb2dcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFueSB1bmNhdWdodCBleGNlcHRpb24gaW4gYW5ndWxhciBleHByZXNzaW9ucyBpcyBkZWxlZ2F0ZWQgdG8gdGhpcyBzZXJ2aWNlLlxuICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gc2ltcGx5IGRlbGVnYXRlcyB0byBgJGxvZy5lcnJvcmAgd2hpY2ggbG9ncyBpdCBpbnRvXG4gKiB0aGUgYnJvd3NlciBjb25zb2xlLlxuICpcbiAqIEluIHVuaXQgdGVzdHMsIGlmIGBhbmd1bGFyLW1vY2tzLmpzYCBpcyBsb2FkZWQsIHRoaXMgc2VydmljZSBpcyBvdmVycmlkZGVuIGJ5XG4gKiB7QGxpbmsgbmdNb2NrLiRleGNlcHRpb25IYW5kbGVyIG1vY2sgJGV4Y2VwdGlvbkhhbmRsZXJ9IHdoaWNoIGFpZHMgaW4gdGVzdGluZy5cbiAqXG4gKiAjIyBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiAgIGFuZ3VsYXIubW9kdWxlKCdleGNlcHRpb25PdmVycmlkZScsIFtdKS5mYWN0b3J5KCckZXhjZXB0aW9uSGFuZGxlcicsIGZ1bmN0aW9uKCkge1xuICogICAgIHJldHVybiBmdW5jdGlvbihleGNlcHRpb24sIGNhdXNlKSB7XG4gKiAgICAgICBleGNlcHRpb24ubWVzc2FnZSArPSAnIChjYXVzZWQgYnkgXCInICsgY2F1c2UgKyAnXCIpJztcbiAqICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAqICAgICB9O1xuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIFRoaXMgZXhhbXBsZSB3aWxsIG92ZXJyaWRlIHRoZSBub3JtYWwgYWN0aW9uIG9mIGAkZXhjZXB0aW9uSGFuZGxlcmAsIHRvIG1ha2UgYW5ndWxhclxuICogZXhjZXB0aW9ucyBmYWlsIGhhcmQgd2hlbiB0aGV5IGhhcHBlbiwgaW5zdGVhZCBvZiBqdXN0IGxvZ2dpbmcgdG8gdGhlIGNvbnNvbGUuXG4gKlxuICogPGhyIC8+XG4gKiBOb3RlLCB0aGF0IGNvZGUgZXhlY3V0ZWQgaW4gZXZlbnQtbGlzdGVuZXJzIChldmVuIHRob3NlIHJlZ2lzdGVyZWQgdXNpbmcganFMaXRlJ3MgYG9uYC9gYmluZGBcbiAqIG1ldGhvZHMpIGRvZXMgbm90IGRlbGVnYXRlIGV4Y2VwdGlvbnMgdG8gdGhlIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciAkZXhjZXB0aW9uSGFuZGxlcn1cbiAqICh1bmxlc3MgZXhlY3V0ZWQgZHVyaW5nIGEgZGlnZXN0KS5cbiAqXG4gKiBJZiB5b3Ugd2lzaCwgeW91IGNhbiBtYW51YWxseSBkZWxlZ2F0ZSBleGNlcHRpb25zLCBlLmcuXG4gKiBgdHJ5IHsgLi4uIH0gY2F0Y2goZSkgeyAkZXhjZXB0aW9uSGFuZGxlcihlKTsgfWBcbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBleGNlcHRpb24gRXhjZXB0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGUgZXJyb3IuXG4gKiBAcGFyYW0ge3N0cmluZz19IGNhdXNlIG9wdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjb250ZXh0IGluIHdoaWNoXG4gKiAgICAgICB0aGUgZXJyb3Igd2FzIHRocm93bi5cbiAqXG4gKi9cbmZ1bmN0aW9uICRFeGNlcHRpb25IYW5kbGVyUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJGxvZycsIGZ1bmN0aW9uKCRsb2cpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZXhjZXB0aW9uLCBjYXVzZSkge1xuICAgICAgJGxvZy5lcnJvci5hcHBseSgkbG9nLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1dO1xufVxuXG52YXIgQVBQTElDQVRJT05fSlNPTiA9ICdhcHBsaWNhdGlvbi9qc29uJztcbnZhciBDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiA9IHsnQ29udGVudC1UeXBlJzogQVBQTElDQVRJT05fSlNPTiArICc7Y2hhcnNldD11dGYtOCd9O1xudmFyIEpTT05fU1RBUlQgPSAvXlxcW3xeXFx7KD8hXFx7KS87XG52YXIgSlNPTl9FTkRTID0ge1xuICAnWyc6IC9dJC8sXG4gICd7JzogL30kL1xufTtcbnZhciBKU09OX1BST1RFQ1RJT05fUFJFRklYID0gL15cXClcXF1cXH0nLD9cXG4vO1xuXG5mdW5jdGlvbiBzZXJpYWxpemVWYWx1ZSh2KSB7XG4gIGlmIChpc09iamVjdCh2KSkge1xuICAgIHJldHVybiBpc0RhdGUodikgPyB2LnRvSVNPU3RyaW5nKCkgOiB0b0pzb24odik7XG4gIH1cbiAgcmV0dXJuIHY7XG59XG5cblxuZnVuY3Rpb24gJEh0dHBQYXJhbVNlcmlhbGl6ZXJQcm92aWRlcigpIHtcbiAgLyoqXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAqIEBuYW1lICRodHRwUGFyYW1TZXJpYWxpemVyXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBEZWZhdWx0IHtAbGluayAkaHR0cCBgJGh0dHBgfSBwYXJhbXMgc2VyaWFsaXplciB0aGF0IGNvbnZlcnRzIG9iamVjdHMgdG8gc3RyaW5nc1xuICAgKiBhY2NvcmRpbmcgdG8gdGhlIGZvbGxvd2luZyBydWxlczpcbiAgICpcbiAgICogKiBgeydmb28nOiAnYmFyJ31gIHJlc3VsdHMgaW4gYGZvbz1iYXJgXG4gICAqICogYHsnZm9vJzogRGF0ZS5ub3coKX1gIHJlc3VsdHMgaW4gYGZvbz0yMDE1LTA0LTAxVDA5JTNBNTAlM0E0OS4yNjJaYCAoYHRvSVNPU3RyaW5nKClgIGFuZCBlbmNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIGEgRGF0ZSBvYmplY3QpXG4gICAqICogYHsnZm9vJzogWydiYXInLCAnYmF6J119YCByZXN1bHRzIGluIGBmb289YmFyJmZvbz1iYXpgIChyZXBlYXRlZCBrZXkgZm9yIGVhY2ggYXJyYXkgZWxlbWVudClcbiAgICogKiBgeydmb28nOiB7J2Jhcic6J2Jheid9fWAgcmVzdWx0cyBpbiBgZm9vPSU3QiUyMmJhciUyMiUzQSUyMmJheiUyMiU3RFwiYCAoc3RyaW5naWZpZWQgYW5kIGVuY29kZWQgcmVwcmVzZW50YXRpb24gb2YgYW4gb2JqZWN0KVxuICAgKlxuICAgKiBOb3RlIHRoYXQgc2VyaWFsaXplciB3aWxsIHNvcnQgdGhlIHJlcXVlc3QgcGFyYW1ldGVycyBhbHBoYWJldGljYWxseS5cbiAgICogKi9cblxuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbmdQYXJhbVNlcmlhbGl6ZXIocGFyYW1zKSB7XG4gICAgICBpZiAoIXBhcmFtcykgcmV0dXJuICcnO1xuICAgICAgdmFyIHBhcnRzID0gW107XG4gICAgICBmb3JFYWNoU29ydGVkKHBhcmFtcywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47XG4gICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIGZvckVhY2godmFsdWUsIGZ1bmN0aW9uKHYsIGspIHtcbiAgICAgICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5KSAgKyAnPScgKyBlbmNvZGVVcmlRdWVyeShzZXJpYWxpemVWYWx1ZSh2KSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5KSArICc9JyArIGVuY29kZVVyaVF1ZXJ5KHNlcmlhbGl6ZVZhbHVlKHZhbHVlKSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oJyYnKTtcbiAgICB9O1xuICB9O1xufVxuXG5mdW5jdGlvbiAkSHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZVByb3ZpZGVyKCkge1xuICAvKipcbiAgICogQG5nZG9jIHNlcnZpY2VcbiAgICogQG5hbWUgJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2VcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIEFsdGVybmF0aXZlIHtAbGluayAkaHR0cCBgJGh0dHBgfSBwYXJhbXMgc2VyaWFsaXplciB0aGF0IGZvbGxvd3NcbiAgICogalF1ZXJ5J3MgW2BwYXJhbSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2pxdWVyeS5wYXJhbS8pIG1ldGhvZCBsb2dpYy5cbiAgICogVGhlIHNlcmlhbGl6ZXIgd2lsbCBhbHNvIHNvcnQgdGhlIHBhcmFtcyBhbHBoYWJldGljYWxseS5cbiAgICpcbiAgICogVG8gdXNlIGl0IGZvciBzZXJpYWxpemluZyBgJGh0dHBgIHJlcXVlc3QgcGFyYW1ldGVycywgc2V0IGl0IGFzIHRoZSBgcGFyYW1TZXJpYWxpemVyYCBwcm9wZXJ0eTpcbiAgICpcbiAgICogYGBganNcbiAgICogJGh0dHAoe1xuICAgKiAgIHVybDogbXlVcmwsXG4gICAqICAgbWV0aG9kOiAnR0VUJyxcbiAgICogICBwYXJhbXM6IG15UGFyYW1zLFxuICAgKiAgIHBhcmFtU2VyaWFsaXplcjogJyRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlJ1xuICAgKiB9KTtcbiAgICogYGBgXG4gICAqXG4gICAqIEl0IGlzIGFsc28gcG9zc2libGUgdG8gc2V0IGl0IGFzIHRoZSBkZWZhdWx0IGBwYXJhbVNlcmlhbGl6ZXJgIGluIHRoZVxuICAgKiB7QGxpbmsgJGh0dHBQcm92aWRlciNkZWZhdWx0cyBgJGh0dHBQcm92aWRlcmB9LlxuICAgKlxuICAgKiBBZGRpdGlvbmFsbHksIHlvdSBjYW4gaW5qZWN0IHRoZSBzZXJpYWxpemVyIGFuZCB1c2UgaXQgZXhwbGljaXRseSwgZm9yIGV4YW1wbGUgdG8gc2VyaWFsaXplXG4gICAqIGZvcm0gZGF0YSBmb3Igc3VibWlzc2lvbjpcbiAgICpcbiAgICogYGBganNcbiAgICogLmNvbnRyb2xsZXIoZnVuY3Rpb24oJGh0dHAsICRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlKSB7XG4gICAqICAgLy8uLi5cbiAgICpcbiAgICogICAkaHR0cCh7XG4gICAqICAgICB1cmw6IG15VXJsLFxuICAgKiAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAqICAgICBkYXRhOiAkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZShteURhdGEpLFxuICAgKiAgICAgaGVhZGVyczoge1xuICAgKiAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcbiAgICogICAgIH1cbiAgICogICB9KTtcbiAgICpcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKlxuICAgKiAqL1xuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24galF1ZXJ5TGlrZVBhcmFtU2VyaWFsaXplcihwYXJhbXMpIHtcbiAgICAgIGlmICghcGFyYW1zKSByZXR1cm4gJyc7XG4gICAgICB2YXIgcGFydHMgPSBbXTtcbiAgICAgIHNlcmlhbGl6ZShwYXJhbXMsICcnLCB0cnVlKTtcbiAgICAgIHJldHVybiBwYXJ0cy5qb2luKCcmJyk7XG5cbiAgICAgIGZ1bmN0aW9uIHNlcmlhbGl6ZSh0b1NlcmlhbGl6ZSwgcHJlZml4LCB0b3BMZXZlbCkge1xuICAgICAgICBpZiAodG9TZXJpYWxpemUgPT09IG51bGwgfHwgaXNVbmRlZmluZWQodG9TZXJpYWxpemUpKSByZXR1cm47XG4gICAgICAgIGlmIChpc0FycmF5KHRvU2VyaWFsaXplKSkge1xuICAgICAgICAgIGZvckVhY2godG9TZXJpYWxpemUsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBzZXJpYWxpemUodmFsdWUsIHByZWZpeCArICdbXScpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHRvU2VyaWFsaXplKSAmJiAhaXNEYXRlKHRvU2VyaWFsaXplKSkge1xuICAgICAgICAgIGZvckVhY2hTb3J0ZWQodG9TZXJpYWxpemUsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgIHNlcmlhbGl6ZSh2YWx1ZSwgcHJlZml4ICtcbiAgICAgICAgICAgICAgICAodG9wTGV2ZWwgPyAnJyA6ICdbJykgK1xuICAgICAgICAgICAgICAgIGtleSArXG4gICAgICAgICAgICAgICAgKHRvcExldmVsID8gJycgOiAnXScpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KHByZWZpeCkgKyAnPScgKyBlbmNvZGVVcmlRdWVyeShzZXJpYWxpemVWYWx1ZSh0b1NlcmlhbGl6ZSkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH07XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRIdHRwUmVzcG9uc2VUcmFuc2Zvcm0oZGF0YSwgaGVhZGVycykge1xuICBpZiAoaXNTdHJpbmcoZGF0YSkpIHtcbiAgICAvLyBTdHJpcCBqc29uIHZ1bG5lcmFiaWxpdHkgcHJvdGVjdGlvbiBwcmVmaXggYW5kIHRyaW0gd2hpdGVzcGFjZVxuICAgIHZhciB0ZW1wRGF0YSA9IGRhdGEucmVwbGFjZShKU09OX1BST1RFQ1RJT05fUFJFRklYLCAnJykudHJpbSgpO1xuXG4gICAgaWYgKHRlbXBEYXRhKSB7XG4gICAgICB2YXIgY29udGVudFR5cGUgPSBoZWFkZXJzKCdDb250ZW50LVR5cGUnKTtcbiAgICAgIGlmICgoY29udGVudFR5cGUgJiYgKGNvbnRlbnRUeXBlLmluZGV4T2YoQVBQTElDQVRJT05fSlNPTikgPT09IDApKSB8fCBpc0pzb25MaWtlKHRlbXBEYXRhKSkge1xuICAgICAgICBkYXRhID0gZnJvbUpzb24odGVtcERhdGEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBpc0pzb25MaWtlKHN0cikge1xuICAgIHZhciBqc29uU3RhcnQgPSBzdHIubWF0Y2goSlNPTl9TVEFSVCk7XG4gICAgcmV0dXJuIGpzb25TdGFydCAmJiBKU09OX0VORFNbanNvblN0YXJ0WzBdXS50ZXN0KHN0cik7XG59XG5cbi8qKlxuICogUGFyc2UgaGVhZGVycyBpbnRvIGtleSB2YWx1ZSBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaGVhZGVycyBSYXcgaGVhZGVycyBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge09iamVjdH0gUGFyc2VkIGhlYWRlcnMgYXMga2V5IHZhbHVlIG9iamVjdFxuICovXG5mdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xuICB2YXIgcGFyc2VkID0gY3JlYXRlTWFwKCksIGk7XG5cbiAgZnVuY3Rpb24gZmlsbEluUGFyc2VkKGtleSwgdmFsKSB7XG4gICAgaWYgKGtleSkge1xuICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICB9XG4gIH1cblxuICBpZiAoaXNTdHJpbmcoaGVhZGVycykpIHtcbiAgICBmb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAgICBmaWxsSW5QYXJzZWQobG93ZXJjYXNlKHRyaW0obGluZS5zdWJzdHIoMCwgaSkpKSwgdHJpbShsaW5lLnN1YnN0cihpICsgMSkpKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChpc09iamVjdChoZWFkZXJzKSkge1xuICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24oaGVhZGVyVmFsLCBoZWFkZXJLZXkpIHtcbiAgICAgIGZpbGxJblBhcnNlZChsb3dlcmNhc2UoaGVhZGVyS2V5KSwgdHJpbShoZWFkZXJWYWwpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBwYXJzZWQ7XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBwcm92aWRlcyBhY2Nlc3MgdG8gcGFyc2VkIGhlYWRlcnMuXG4gKlxuICogSGVhZGVycyBhcmUgbGF6eSBwYXJzZWQgd2hlbiBmaXJzdCByZXF1ZXN0ZWQuXG4gKiBAc2VlIHBhcnNlSGVhZGVyc1xuICpcbiAqIEBwYXJhbSB7KHN0cmluZ3xPYmplY3QpfSBoZWFkZXJzIEhlYWRlcnMgdG8gcHJvdmlkZSBhY2Nlc3MgdG8uXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oc3RyaW5nPSl9IFJldHVybnMgYSBnZXR0ZXIgZnVuY3Rpb24gd2hpY2ggaWYgY2FsbGVkIHdpdGg6XG4gKlxuICogICAtIGlmIGNhbGxlZCB3aXRoIHNpbmdsZSBhbiBhcmd1bWVudCByZXR1cm5zIGEgc2luZ2xlIGhlYWRlciB2YWx1ZSBvciBudWxsXG4gKiAgIC0gaWYgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzIHJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIGhlYWRlcnMuXG4gKi9cbmZ1bmN0aW9uIGhlYWRlcnNHZXR0ZXIoaGVhZGVycykge1xuICB2YXIgaGVhZGVyc09iajtcblxuICByZXR1cm4gZnVuY3Rpb24obmFtZSkge1xuICAgIGlmICghaGVhZGVyc09iaikgaGVhZGVyc09iaiA9ICBwYXJzZUhlYWRlcnMoaGVhZGVycyk7XG5cbiAgICBpZiAobmFtZSkge1xuICAgICAgdmFyIHZhbHVlID0gaGVhZGVyc09ialtsb3dlcmNhc2UobmFtZSldO1xuICAgICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBoZWFkZXJzT2JqO1xuICB9O1xufVxuXG5cbi8qKlxuICogQ2hhaW4gYWxsIGdpdmVuIGZ1bmN0aW9uc1xuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBmb3IgYm90aCByZXF1ZXN0IGFuZCByZXNwb25zZSB0cmFuc2Zvcm1pbmdcbiAqXG4gKiBAcGFyYW0geyp9IGRhdGEgRGF0YSB0byB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZz0pfSBoZWFkZXJzIEhUVFAgaGVhZGVycyBnZXR0ZXIgZm4uXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhdHVzIEhUVFAgc3RhdHVzIGNvZGUgb2YgdGhlIHJlc3BvbnNlLlxuICogQHBhcmFtIHsoRnVuY3Rpb258QXJyYXkuPEZ1bmN0aW9uPil9IGZucyBGdW5jdGlvbiBvciBhbiBhcnJheSBvZiBmdW5jdGlvbnMuXG4gKiBAcmV0dXJucyB7Kn0gVHJhbnNmb3JtZWQgZGF0YS5cbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShkYXRhLCBoZWFkZXJzLCBzdGF0dXMsIGZucykge1xuICBpZiAoaXNGdW5jdGlvbihmbnMpKSB7XG4gICAgcmV0dXJuIGZucyhkYXRhLCBoZWFkZXJzLCBzdGF0dXMpO1xuICB9XG5cbiAgZm9yRWFjaChmbnMsIGZ1bmN0aW9uKGZuKSB7XG4gICAgZGF0YSA9IGZuKGRhdGEsIGhlYWRlcnMsIHN0YXR1cyk7XG4gIH0pO1xuXG4gIHJldHVybiBkYXRhO1xufVxuXG5cbmZ1bmN0aW9uIGlzU3VjY2VzcyhzdGF0dXMpIHtcbiAgcmV0dXJuIDIwMCA8PSBzdGF0dXMgJiYgc3RhdHVzIDwgMzAwO1xufVxuXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkaHR0cFByb3ZpZGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZSBgJGh0dHBQcm92aWRlcmAgdG8gY2hhbmdlIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSB7QGxpbmsgbmcuJGh0dHAgJGh0dHB9IHNlcnZpY2UuXG4gKiAqL1xuZnVuY3Rpb24gJEh0dHBQcm92aWRlcigpIHtcbiAgLyoqXG4gICAqIEBuZ2RvYyBwcm9wZXJ0eVxuICAgKiBAbmFtZSAkaHR0cFByb3ZpZGVyI2RlZmF1bHRzXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBPYmplY3QgY29udGFpbmluZyBkZWZhdWx0IHZhbHVlcyBmb3IgYWxsIHtAbGluayBuZy4kaHR0cCAkaHR0cH0gcmVxdWVzdHMuXG4gICAqXG4gICAqIC0gKipgZGVmYXVsdHMuY2FjaGVgKiogLSB7T2JqZWN0fSAtIGFuIG9iamVjdCBidWlsdCB3aXRoIHtAbGluayBuZy4kY2FjaGVGYWN0b3J5IGAkY2FjaGVGYWN0b3J5YH1cbiAgICogdGhhdCB3aWxsIHByb3ZpZGUgdGhlIGNhY2hlIGZvciBhbGwgcmVxdWVzdHMgd2hvIHNldCB0aGVpciBgY2FjaGVgIHByb3BlcnR5IHRvIGB0cnVlYC5cbiAgICogSWYgeW91IHNldCB0aGUgYGRlZmF1bHRzLmNhY2hlID0gZmFsc2VgIHRoZW4gb25seSByZXF1ZXN0cyB0aGF0IHNwZWNpZnkgdGhlaXIgb3duIGN1c3RvbVxuICAgKiBjYWNoZSBvYmplY3Qgd2lsbCBiZSBjYWNoZWQuIFNlZSB7QGxpbmsgJGh0dHAjY2FjaGluZyAkaHR0cCBDYWNoaW5nfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICpcbiAgICogLSAqKmBkZWZhdWx0cy54c3JmQ29va2llTmFtZWAqKiAtIHtzdHJpbmd9IC0gTmFtZSBvZiBjb29raWUgY29udGFpbmluZyB0aGUgWFNSRiB0b2tlbi5cbiAgICogRGVmYXVsdHMgdmFsdWUgaXMgYCdYU1JGLVRPS0VOJ2AuXG4gICAqXG4gICAqIC0gKipgZGVmYXVsdHMueHNyZkhlYWRlck5hbWVgKiogLSB7c3RyaW5nfSAtIE5hbWUgb2YgSFRUUCBoZWFkZXIgdG8gcG9wdWxhdGUgd2l0aCB0aGVcbiAgICogWFNSRiB0b2tlbi4gRGVmYXVsdHMgdmFsdWUgaXMgYCdYLVhTUkYtVE9LRU4nYC5cbiAgICpcbiAgICogLSAqKmBkZWZhdWx0cy5oZWFkZXJzYCoqIC0ge09iamVjdH0gLSBEZWZhdWx0IGhlYWRlcnMgZm9yIGFsbCAkaHR0cCByZXF1ZXN0cy5cbiAgICogUmVmZXIgdG8ge0BsaW5rIG5nLiRodHRwI3NldHRpbmctaHR0cC1oZWFkZXJzICRodHRwfSBmb3IgZG9jdW1lbnRhdGlvbiBvblxuICAgKiBzZXR0aW5nIGRlZmF1bHQgaGVhZGVycy5cbiAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5jb21tb25gKipcbiAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5wb3N0YCoqXG4gICAqICAgICAtICoqYGRlZmF1bHRzLmhlYWRlcnMucHV0YCoqXG4gICAqICAgICAtICoqYGRlZmF1bHRzLmhlYWRlcnMucGF0Y2hgKipcbiAgICpcbiAgICpcbiAgICogLSAqKmBkZWZhdWx0cy5wYXJhbVNlcmlhbGl6ZXJgKiogLSBge3N0cmluZ3xmdW5jdGlvbihPYmplY3Q8c3RyaW5nLHN0cmluZz4pOnN0cmluZ31gIC0gQSBmdW5jdGlvblxuICAgKiAgdXNlZCB0byB0aGUgcHJlcGFyZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgcmVxdWVzdCBwYXJhbWV0ZXJzIChzcGVjaWZpZWQgYXMgYW4gb2JqZWN0KS5cbiAgICogIElmIHNwZWNpZmllZCBhcyBzdHJpbmcsIGl0IGlzIGludGVycHJldGVkIGFzIGEgZnVuY3Rpb24gcmVnaXN0ZXJlZCB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS5cbiAgICogIERlZmF1bHRzIHRvIHtAbGluayBuZy4kaHR0cFBhcmFtU2VyaWFsaXplciAkaHR0cFBhcmFtU2VyaWFsaXplcn0uXG4gICAqXG4gICAqKi9cbiAgdmFyIGRlZmF1bHRzID0gdGhpcy5kZWZhdWx0cyA9IHtcbiAgICAvLyB0cmFuc2Zvcm0gaW5jb21pbmcgcmVzcG9uc2UgZGF0YVxuICAgIHRyYW5zZm9ybVJlc3BvbnNlOiBbZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybV0sXG5cbiAgICAvLyB0cmFuc2Zvcm0gb3V0Z29pbmcgcmVxdWVzdCBkYXRhXG4gICAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uKGQpIHtcbiAgICAgIHJldHVybiBpc09iamVjdChkKSAmJiAhaXNGaWxlKGQpICYmICFpc0Jsb2IoZCkgJiYgIWlzRm9ybURhdGEoZCkgPyB0b0pzb24oZCkgOiBkO1xuICAgIH1dLFxuXG4gICAgLy8gZGVmYXVsdCBoZWFkZXJzXG4gICAgaGVhZGVyczoge1xuICAgICAgY29tbW9uOiB7XG4gICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJ1xuICAgICAgfSxcbiAgICAgIHBvc3Q6ICAgc2hhbGxvd0NvcHkoQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04pLFxuICAgICAgcHV0OiAgICBzaGFsbG93Q29weShDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiksXG4gICAgICBwYXRjaDogIHNoYWxsb3dDb3B5KENPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OKVxuICAgIH0sXG5cbiAgICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuICAgIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICAgIHBhcmFtU2VyaWFsaXplcjogJyRodHRwUGFyYW1TZXJpYWxpemVyJ1xuICB9O1xuXG4gIHZhciB1c2VBcHBseUFzeW5jID0gZmFsc2U7XG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRodHRwUHJvdmlkZXIjdXNlQXBwbHlBc3luY1xuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogQ29uZmlndXJlICRodHRwIHNlcnZpY2UgdG8gY29tYmluZSBwcm9jZXNzaW5nIG9mIG11bHRpcGxlIGh0dHAgcmVzcG9uc2VzIHJlY2VpdmVkIGF0IGFyb3VuZFxuICAgKiB0aGUgc2FtZSB0aW1lIHZpYSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkYXBwbHlBc3luYyAkcm9vdFNjb3BlLiRhcHBseUFzeW5jfS4gVGhpcyBjYW4gcmVzdWx0IGluXG4gICAqIHNpZ25pZmljYW50IHBlcmZvcm1hbmNlIGltcHJvdmVtZW50IGZvciBiaWdnZXIgYXBwbGljYXRpb25zIHRoYXQgbWFrZSBtYW55IEhUVFAgcmVxdWVzdHNcbiAgICogY29uY3VycmVudGx5IChjb21tb24gZHVyaW5nIGFwcGxpY2F0aW9uIGJvb3RzdHJhcCkuXG4gICAqXG4gICAqIERlZmF1bHRzIHRvIGZhbHNlLiBJZiBubyB2YWx1ZSBpcyBzcGVjaWZpZWQsIHJldHVybnMgdGhlIGN1cnJlbnQgY29uZmlndXJlZCB2YWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuPX0gdmFsdWUgSWYgdHJ1ZSwgd2hlbiByZXF1ZXN0cyBhcmUgbG9hZGVkLCB0aGV5IHdpbGwgc2NoZWR1bGUgYSBkZWZlcnJlZFxuICAgKiAgICBcImFwcGx5XCIgb24gdGhlIG5leHQgdGljaywgZ2l2aW5nIHRpbWUgZm9yIHN1YnNlcXVlbnQgcmVxdWVzdHMgaW4gYSByb3VnaGx5IH4xMG1zIHdpbmRvd1xuICAgKiAgICB0byBsb2FkIGFuZCBzaGFyZSB0aGUgc2FtZSBkaWdlc3QgY3ljbGUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufE9iamVjdH0gSWYgYSB2YWx1ZSBpcyBzcGVjaWZpZWQsIHJldHVybnMgdGhlICRodHRwUHJvdmlkZXIgZm9yIGNoYWluaW5nLlxuICAgKiAgICBvdGhlcndpc2UsIHJldHVybnMgdGhlIGN1cnJlbnQgY29uZmlndXJlZCB2YWx1ZS5cbiAgICoqL1xuICB0aGlzLnVzZUFwcGx5QXN5bmMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICB1c2VBcHBseUFzeW5jID0gISF2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gdXNlQXBwbHlBc3luYztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIHByb3BlcnR5XG4gICAqIEBuYW1lICRodHRwUHJvdmlkZXIjaW50ZXJjZXB0b3JzXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBBcnJheSBjb250YWluaW5nIHNlcnZpY2UgZmFjdG9yaWVzIGZvciBhbGwgc3luY2hyb25vdXMgb3IgYXN5bmNocm9ub3VzIHtAbGluayBuZy4kaHR0cCAkaHR0cH1cbiAgICogcHJlLXByb2Nlc3Npbmcgb2YgcmVxdWVzdCBvciBwb3N0cHJvY2Vzc2luZyBvZiByZXNwb25zZXMuXG4gICAqXG4gICAqIFRoZXNlIHNlcnZpY2UgZmFjdG9yaWVzIGFyZSBvcmRlcmVkIGJ5IHJlcXVlc3QsIGkuZS4gdGhleSBhcmUgYXBwbGllZCBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGVcbiAgICogYXJyYXksIG9uIHJlcXVlc3QsIGJ1dCByZXZlcnNlIG9yZGVyLCBvbiByZXNwb25zZS5cbiAgICpcbiAgICoge0BsaW5rIG5nLiRodHRwI2ludGVyY2VwdG9ycyBJbnRlcmNlcHRvcnMgZGV0YWlsZWQgaW5mb31cbiAgICoqL1xuICB2YXIgaW50ZXJjZXB0b3JGYWN0b3JpZXMgPSB0aGlzLmludGVyY2VwdG9ycyA9IFtdO1xuXG4gIHRoaXMuJGdldCA9IFsnJGh0dHBCYWNrZW5kJywgJyQkY29va2llUmVhZGVyJywgJyRjYWNoZUZhY3RvcnknLCAnJHJvb3RTY29wZScsICckcScsICckaW5qZWN0b3InLFxuICAgICAgZnVuY3Rpb24oJGh0dHBCYWNrZW5kLCAkJGNvb2tpZVJlYWRlciwgJGNhY2hlRmFjdG9yeSwgJHJvb3RTY29wZSwgJHEsICRpbmplY3Rvcikge1xuXG4gICAgdmFyIGRlZmF1bHRDYWNoZSA9ICRjYWNoZUZhY3RvcnkoJyRodHRwJyk7XG5cbiAgICAvKipcbiAgICAgKiBNYWtlIHN1cmUgdGhhdCBkZWZhdWx0IHBhcmFtIHNlcmlhbGl6ZXIgaXMgZXhwb3NlZCBhcyBhIGZ1bmN0aW9uXG4gICAgICovXG4gICAgZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyID0gaXNTdHJpbmcoZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyKSA/XG4gICAgICAkaW5qZWN0b3IuZ2V0KGRlZmF1bHRzLnBhcmFtU2VyaWFsaXplcikgOiBkZWZhdWx0cy5wYXJhbVNlcmlhbGl6ZXI7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmNlcHRvcnMgc3RvcmVkIGluIHJldmVyc2Ugb3JkZXIuIElubmVyIGludGVyY2VwdG9ycyBiZWZvcmUgb3V0ZXIgaW50ZXJjZXB0b3JzLlxuICAgICAqIFRoZSByZXZlcnNhbCBpcyBuZWVkZWQgc28gdGhhdCB3ZSBjYW4gYnVpbGQgdXAgdGhlIGludGVyY2VwdGlvbiBjaGFpbiBhcm91bmQgdGhlXG4gICAgICogc2VydmVyIHJlcXVlc3QuXG4gICAgICovXG4gICAgdmFyIHJldmVyc2VkSW50ZXJjZXB0b3JzID0gW107XG5cbiAgICBmb3JFYWNoKGludGVyY2VwdG9yRmFjdG9yaWVzLCBmdW5jdGlvbihpbnRlcmNlcHRvckZhY3RvcnkpIHtcbiAgICAgIHJldmVyc2VkSW50ZXJjZXB0b3JzLnVuc2hpZnQoaXNTdHJpbmcoaW50ZXJjZXB0b3JGYWN0b3J5KVxuICAgICAgICAgID8gJGluamVjdG9yLmdldChpbnRlcmNlcHRvckZhY3RvcnkpIDogJGluamVjdG9yLmludm9rZShpbnRlcmNlcHRvckZhY3RvcnkpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgKiBAbmFtZSAkaHR0cFxuICAgICAqIEByZXF1aXJlcyBuZy4kaHR0cEJhY2tlbmRcbiAgICAgKiBAcmVxdWlyZXMgJGNhY2hlRmFjdG9yeVxuICAgICAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gICAgICogQHJlcXVpcmVzICRxXG4gICAgICogQHJlcXVpcmVzICRpbmplY3RvclxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVGhlIGAkaHR0cGAgc2VydmljZSBpcyBhIGNvcmUgQW5ndWxhciBzZXJ2aWNlIHRoYXQgZmFjaWxpdGF0ZXMgY29tbXVuaWNhdGlvbiB3aXRoIHRoZSByZW1vdGVcbiAgICAgKiBIVFRQIHNlcnZlcnMgdmlhIHRoZSBicm93c2VyJ3MgW1hNTEh0dHBSZXF1ZXN0XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi94bWxodHRwcmVxdWVzdClcbiAgICAgKiBvYmplY3Qgb3IgdmlhIFtKU09OUF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9KU09OUCkuXG4gICAgICpcbiAgICAgKiBGb3IgdW5pdCB0ZXN0aW5nIGFwcGxpY2F0aW9ucyB0aGF0IHVzZSBgJGh0dHBgIHNlcnZpY2UsIHNlZVxuICAgICAqIHtAbGluayBuZ01vY2suJGh0dHBCYWNrZW5kICRodHRwQmFja2VuZCBtb2NrfS5cbiAgICAgKlxuICAgICAqIEZvciBhIGhpZ2hlciBsZXZlbCBvZiBhYnN0cmFjdGlvbiwgcGxlYXNlIGNoZWNrIG91dCB0aGUge0BsaW5rIG5nUmVzb3VyY2UuJHJlc291cmNlXG4gICAgICogJHJlc291cmNlfSBzZXJ2aWNlLlxuICAgICAqXG4gICAgICogVGhlICRodHRwIEFQSSBpcyBiYXNlZCBvbiB0aGUge0BsaW5rIG5nLiRxIGRlZmVycmVkL3Byb21pc2UgQVBJc30gZXhwb3NlZCBieVxuICAgICAqIHRoZSAkcSBzZXJ2aWNlLiBXaGlsZSBmb3Igc2ltcGxlIHVzYWdlIHBhdHRlcm5zIHRoaXMgZG9lc24ndCBtYXR0ZXIgbXVjaCwgZm9yIGFkdmFuY2VkIHVzYWdlXG4gICAgICogaXQgaXMgaW1wb3J0YW50IHRvIGZhbWlsaWFyaXplIHlvdXJzZWxmIHdpdGggdGhlc2UgQVBJcyBhbmQgdGhlIGd1YXJhbnRlZXMgdGhleSBwcm92aWRlLlxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIyBHZW5lcmFsIHVzYWdlXG4gICAgICogVGhlIGAkaHR0cGAgc2VydmljZSBpcyBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzIGEgc2luZ2xlIGFyZ3VtZW50IOKAlCBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0IOKAlFxuICAgICAqIHRoYXQgaXMgdXNlZCB0byBnZW5lcmF0ZSBhbiBIVFRQIHJlcXVlc3QgYW5kIHJldHVybnMgIGEge0BsaW5rIG5nLiRxIHByb21pc2V9XG4gICAgICogd2l0aCB0d28gJGh0dHAgc3BlY2lmaWMgbWV0aG9kczogYHN1Y2Nlc3NgIGFuZCBgZXJyb3JgLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIC8vIFNpbXBsZSBHRVQgcmVxdWVzdCBleGFtcGxlIDpcbiAgICAgKiAgICRodHRwLmdldCgnL3NvbWVVcmwnKS5cbiAgICAgKiAgICAgc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAqICAgICAgIC8vIHRoaXMgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgYXN5bmNocm9ub3VzbHlcbiAgICAgKiAgICAgICAvLyB3aGVuIHRoZSByZXNwb25zZSBpcyBhdmFpbGFibGVcbiAgICAgKiAgICAgfSkuXG4gICAgICogICAgIGVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICogICAgICAgLy8gY2FsbGVkIGFzeW5jaHJvbm91c2x5IGlmIGFuIGVycm9yIG9jY3Vyc1xuICAgICAqICAgICAgIC8vIG9yIHNlcnZlciByZXR1cm5zIHJlc3BvbnNlIHdpdGggYW4gZXJyb3Igc3RhdHVzLlxuICAgICAqICAgICB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogICAvLyBTaW1wbGUgUE9TVCByZXF1ZXN0IGV4YW1wbGUgKHBhc3NpbmcgZGF0YSkgOlxuICAgICAqICAgJGh0dHAucG9zdCgnL3NvbWVVcmwnLCB7bXNnOidoZWxsbyB3b3JkISd9KS5cbiAgICAgKiAgICAgc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAqICAgICAgIC8vIHRoaXMgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgYXN5bmNocm9ub3VzbHlcbiAgICAgKiAgICAgICAvLyB3aGVuIHRoZSByZXNwb25zZSBpcyBhdmFpbGFibGVcbiAgICAgKiAgICAgfSkuXG4gICAgICogICAgIGVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICogICAgICAgLy8gY2FsbGVkIGFzeW5jaHJvbm91c2x5IGlmIGFuIGVycm9yIG9jY3Vyc1xuICAgICAqICAgICAgIC8vIG9yIHNlcnZlciByZXR1cm5zIHJlc3BvbnNlIHdpdGggYW4gZXJyb3Igc3RhdHVzLlxuICAgICAqICAgICB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqXG4gICAgICogU2luY2UgdGhlIHJldHVybmVkIHZhbHVlIG9mIGNhbGxpbmcgdGhlICRodHRwIGZ1bmN0aW9uIGlzIGEgYHByb21pc2VgLCB5b3UgY2FuIGFsc28gdXNlXG4gICAgICogdGhlIGB0aGVuYCBtZXRob2QgdG8gcmVnaXN0ZXIgY2FsbGJhY2tzLCBhbmQgdGhlc2UgY2FsbGJhY2tzIHdpbGwgcmVjZWl2ZSBhIHNpbmdsZSBhcmd1bWVudCDigJNcbiAgICAgKiBhbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSByZXNwb25zZS4gU2VlIHRoZSBBUEkgc2lnbmF0dXJlIGFuZCB0eXBlIGluZm8gYmVsb3cgZm9yIG1vcmVcbiAgICAgKiBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQSByZXNwb25zZSBzdGF0dXMgY29kZSBiZXR3ZWVuIDIwMCBhbmQgMjk5IGlzIGNvbnNpZGVyZWQgYSBzdWNjZXNzIHN0YXR1cyBhbmRcbiAgICAgKiB3aWxsIHJlc3VsdCBpbiB0aGUgc3VjY2VzcyBjYWxsYmFjayBiZWluZyBjYWxsZWQuIE5vdGUgdGhhdCBpZiB0aGUgcmVzcG9uc2UgaXMgYSByZWRpcmVjdCxcbiAgICAgKiBYTUxIdHRwUmVxdWVzdCB3aWxsIHRyYW5zcGFyZW50bHkgZm9sbG93IGl0LCBtZWFuaW5nIHRoYXQgdGhlIGVycm9yIGNhbGxiYWNrIHdpbGwgbm90IGJlXG4gICAgICogY2FsbGVkIGZvciBzdWNoIHJlc3BvbnNlcy5cbiAgICAgKlxuICAgICAqICMjIFdyaXRpbmcgVW5pdCBUZXN0cyB0aGF0IHVzZSAkaHR0cFxuICAgICAqIFdoZW4gdW5pdCB0ZXN0aW5nICh1c2luZyB7QGxpbmsgbmdNb2NrIG5nTW9ja30pLCBpdCBpcyBuZWNlc3NhcnkgdG8gY2FsbFxuICAgICAqIHtAbGluayBuZ01vY2suJGh0dHBCYWNrZW5kI2ZsdXNoICRodHRwQmFja2VuZC5mbHVzaCgpfSB0byBmbHVzaCBlYWNoIHBlbmRpbmdcbiAgICAgKiByZXF1ZXN0IHVzaW5nIHRyYWluZWQgcmVzcG9uc2VzLlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogJGh0dHBCYWNrZW5kLmV4cGVjdEdFVCguLi4pO1xuICAgICAqICRodHRwLmdldCguLi4pO1xuICAgICAqICRodHRwQmFja2VuZC5mbHVzaCgpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMgU2hvcnRjdXQgbWV0aG9kc1xuICAgICAqXG4gICAgICogU2hvcnRjdXQgbWV0aG9kcyBhcmUgYWxzbyBhdmFpbGFibGUuIEFsbCBzaG9ydGN1dCBtZXRob2RzIHJlcXVpcmUgcGFzc2luZyBpbiB0aGUgVVJMLCBhbmRcbiAgICAgKiByZXF1ZXN0IGRhdGEgbXVzdCBiZSBwYXNzZWQgaW4gZm9yIFBPU1QvUFVUIHJlcXVlc3RzLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgICRodHRwLmdldCgnL3NvbWVVcmwnKS5zdWNjZXNzKHN1Y2Nlc3NDYWxsYmFjayk7XG4gICAgICogICAkaHR0cC5wb3N0KCcvc29tZVVybCcsIGRhdGEpLnN1Y2Nlc3Moc3VjY2Vzc0NhbGxiYWNrKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIENvbXBsZXRlIGxpc3Qgb2Ygc2hvcnRjdXQgbWV0aG9kczpcbiAgICAgKlxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2dldCAkaHR0cC5nZXR9XG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjaGVhZCAkaHR0cC5oZWFkfVxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI3Bvc3QgJGh0dHAucG9zdH1cbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNwdXQgJGh0dHAucHV0fVxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2RlbGV0ZSAkaHR0cC5kZWxldGV9XG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjanNvbnAgJGh0dHAuanNvbnB9XG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjcGF0Y2ggJGh0dHAucGF0Y2h9XG4gICAgICpcbiAgICAgKlxuICAgICAqICMjIFNldHRpbmcgSFRUUCBIZWFkZXJzXG4gICAgICpcbiAgICAgKiBUaGUgJGh0dHAgc2VydmljZSB3aWxsIGF1dG9tYXRpY2FsbHkgYWRkIGNlcnRhaW4gSFRUUCBoZWFkZXJzIHRvIGFsbCByZXF1ZXN0cy4gVGhlc2UgZGVmYXVsdHNcbiAgICAgKiBjYW4gYmUgZnVsbHkgY29uZmlndXJlZCBieSBhY2Nlc3NpbmcgdGhlIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnNgIGNvbmZpZ3VyYXRpb25cbiAgICAgKiBvYmplY3QsIHdoaWNoIGN1cnJlbnRseSBjb250YWlucyB0aGlzIGRlZmF1bHQgY29uZmlndXJhdGlvbjpcbiAgICAgKlxuICAgICAqIC0gYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5jb21tb25gIChoZWFkZXJzIHRoYXQgYXJlIGNvbW1vbiBmb3IgYWxsIHJlcXVlc3RzKTpcbiAgICAgKiAgIC0gYEFjY2VwdDogYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKiAvICpgXG4gICAgICogLSBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLnBvc3RgOiAoaGVhZGVyIGRlZmF1bHRzIGZvciBQT1NUIHJlcXVlc3RzKVxuICAgICAqICAgLSBgQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uYFxuICAgICAqIC0gYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5wdXRgIChoZWFkZXIgZGVmYXVsdHMgZm9yIFBVVCByZXF1ZXN0cylcbiAgICAgKiAgIC0gYENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbmBcbiAgICAgKlxuICAgICAqIFRvIGFkZCBvciBvdmVyd3JpdGUgdGhlc2UgZGVmYXVsdHMsIHNpbXBseSBhZGQgb3IgcmVtb3ZlIGEgcHJvcGVydHkgZnJvbSB0aGVzZSBjb25maWd1cmF0aW9uXG4gICAgICogb2JqZWN0cy4gVG8gYWRkIGhlYWRlcnMgZm9yIGFuIEhUVFAgbWV0aG9kIG90aGVyIHRoYW4gUE9TVCBvciBQVVQsIHNpbXBseSBhZGQgYSBuZXcgb2JqZWN0XG4gICAgICogd2l0aCB0aGUgbG93ZXJjYXNlZCBIVFRQIG1ldGhvZCBuYW1lIGFzIHRoZSBrZXksIGUuZy5cbiAgICAgKiBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmdldCA9IHsgJ015LUhlYWRlcicgOiAndmFsdWUnIH1gLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHRzIGNhbiBhbHNvIGJlIHNldCBhdCBydW50aW1lIHZpYSB0aGUgYCRodHRwLmRlZmF1bHRzYCBvYmplY3QgaW4gdGhlIHNhbWVcbiAgICAgKiBmYXNoaW9uLiBGb3IgZXhhbXBsZTpcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIG1vZHVsZS5ydW4oZnVuY3Rpb24oJGh0dHApIHtcbiAgICAgKiAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgWW1WbGNEcGliMjl3J1xuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogSW4gYWRkaXRpb24sIHlvdSBjYW4gc3VwcGx5IGEgYGhlYWRlcnNgIHByb3BlcnR5IGluIHRoZSBjb25maWcgb2JqZWN0IHBhc3NlZCB3aGVuXG4gICAgICogY2FsbGluZyBgJGh0dHAoY29uZmlnKWAsIHdoaWNoIG92ZXJyaWRlcyB0aGUgZGVmYXVsdHMgd2l0aG91dCBjaGFuZ2luZyB0aGVtIGdsb2JhbGx5LlxuICAgICAqXG4gICAgICogVG8gZXhwbGljaXRseSByZW1vdmUgYSBoZWFkZXIgYXV0b21hdGljYWxseSBhZGRlZCB2aWEgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzIG9uIGEgcGVyIHJlcXVlc3QgYmFzaXMsXG4gICAgICogVXNlIHRoZSBgaGVhZGVyc2AgcHJvcGVydHksIHNldHRpbmcgdGhlIGRlc2lyZWQgaGVhZGVyIHRvIGB1bmRlZmluZWRgLiBGb3IgZXhhbXBsZTpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogdmFyIHJlcSA9IHtcbiAgICAgKiAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICogIHVybDogJ2h0dHA6Ly9leGFtcGxlLmNvbScsXG4gICAgICogIGhlYWRlcnM6IHtcbiAgICAgKiAgICAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkXG4gICAgICogIH0sXG4gICAgICogIGRhdGE6IHsgdGVzdDogJ3Rlc3QnIH1cbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiAkaHR0cChyZXEpLnN1Y2Nlc3MoZnVuY3Rpb24oKXsuLi59KS5lcnJvcihmdW5jdGlvbigpey4uLn0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMgVHJhbnNmb3JtaW5nIFJlcXVlc3RzIGFuZCBSZXNwb25zZXNcbiAgICAgKlxuICAgICAqIEJvdGggcmVxdWVzdHMgYW5kIHJlc3BvbnNlcyBjYW4gYmUgdHJhbnNmb3JtZWQgdXNpbmcgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zOiBgdHJhbnNmb3JtUmVxdWVzdGBcbiAgICAgKiBhbmQgYHRyYW5zZm9ybVJlc3BvbnNlYC4gVGhlc2UgcHJvcGVydGllcyBjYW4gYmUgYSBzaW5nbGUgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHRyYW5zZm9ybWVkIHZhbHVlIChgZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlciwgc3RhdHVzKWApIG9yIGFuIGFycmF5IG9mIHN1Y2ggdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zLFxuICAgICAqIHdoaWNoIGFsbG93cyB5b3UgdG8gYHB1c2hgIG9yIGB1bnNoaWZ0YCBhIG5ldyB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbiBpbnRvIHRoZSB0cmFuc2Zvcm1hdGlvbiBjaGFpbi5cbiAgICAgKlxuICAgICAqICMjIyBEZWZhdWx0IFRyYW5zZm9ybWF0aW9uc1xuICAgICAqXG4gICAgICogVGhlIGAkaHR0cFByb3ZpZGVyYCBwcm92aWRlciBhbmQgYCRodHRwYCBzZXJ2aWNlIGV4cG9zZSBgZGVmYXVsdHMudHJhbnNmb3JtUmVxdWVzdGAgYW5kXG4gICAgICogYGRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlYCBwcm9wZXJ0aWVzLiBJZiBhIHJlcXVlc3QgZG9lcyBub3QgcHJvdmlkZSBpdHMgb3duIHRyYW5zZm9ybWF0aW9uc1xuICAgICAqIHRoZW4gdGhlc2Ugd2lsbCBiZSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogWW91IGNhbiBhdWdtZW50IG9yIHJlcGxhY2UgdGhlIGRlZmF1bHQgdHJhbnNmb3JtYXRpb25zIGJ5IG1vZGlmeWluZyB0aGVzZSBwcm9wZXJ0aWVzIGJ5IGFkZGluZyB0byBvclxuICAgICAqIHJlcGxhY2luZyB0aGUgYXJyYXkuXG4gICAgICpcbiAgICAgKiBBbmd1bGFyIHByb3ZpZGVzIHRoZSBmb2xsb3dpbmcgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbnM6XG4gICAgICpcbiAgICAgKiBSZXF1ZXN0IHRyYW5zZm9ybWF0aW9ucyAoYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMudHJhbnNmb3JtUmVxdWVzdGAgYW5kIGAkaHR0cC5kZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0YCk6XG4gICAgICpcbiAgICAgKiAtIElmIHRoZSBgZGF0YWAgcHJvcGVydHkgb2YgdGhlIHJlcXVlc3QgY29uZmlndXJhdGlvbiBvYmplY3QgY29udGFpbnMgYW4gb2JqZWN0LCBzZXJpYWxpemUgaXRcbiAgICAgKiAgIGludG8gSlNPTiBmb3JtYXQuXG4gICAgICpcbiAgICAgKiBSZXNwb25zZSB0cmFuc2Zvcm1hdGlvbnMgKGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlYCBhbmQgYCRodHRwLmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlYCk6XG4gICAgICpcbiAgICAgKiAgLSBJZiBYU1JGIHByZWZpeCBpcyBkZXRlY3RlZCwgc3RyaXAgaXQgKHNlZSBTZWN1cml0eSBDb25zaWRlcmF0aW9ucyBzZWN0aW9uIGJlbG93KS5cbiAgICAgKiAgLSBJZiBKU09OIHJlc3BvbnNlIGlzIGRldGVjdGVkLCBkZXNlcmlhbGl6ZSBpdCB1c2luZyBhIEpTT04gcGFyc2VyLlxuICAgICAqXG4gICAgICpcbiAgICAgKiAjIyMgT3ZlcnJpZGluZyB0aGUgRGVmYXVsdCBUcmFuc2Zvcm1hdGlvbnMgUGVyIFJlcXVlc3RcbiAgICAgKlxuICAgICAqIElmIHlvdSB3aXNoIG92ZXJyaWRlIHRoZSByZXF1ZXN0L3Jlc3BvbnNlIHRyYW5zZm9ybWF0aW9ucyBvbmx5IGZvciBhIHNpbmdsZSByZXF1ZXN0IHRoZW4gcHJvdmlkZVxuICAgICAqIGB0cmFuc2Zvcm1SZXF1ZXN0YCBhbmQvb3IgYHRyYW5zZm9ybVJlc3BvbnNlYCBwcm9wZXJ0aWVzIG9uIHRoZSBjb25maWd1cmF0aW9uIG9iamVjdCBwYXNzZWRcbiAgICAgKiBpbnRvIGAkaHR0cGAuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgaWYgeW91IHByb3ZpZGUgdGhlc2UgcHJvcGVydGllcyBvbiB0aGUgY29uZmlnIG9iamVjdCB0aGUgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbnMgd2lsbCBiZVxuICAgICAqIG92ZXJ3cml0dGVuLiBJZiB5b3Ugd2lzaCB0byBhdWdtZW50IHRoZSBkZWZhdWx0IHRyYW5zZm9ybWF0aW9ucyB0aGVuIHlvdSBtdXN0IGluY2x1ZGUgdGhlbSBpbiB5b3VyXG4gICAgICogbG9jYWwgdHJhbnNmb3JtYXRpb24gYXJyYXkuXG4gICAgICpcbiAgICAgKiBUaGUgZm9sbG93aW5nIGNvZGUgZGVtb25zdHJhdGVzIGFkZGluZyBhIG5ldyByZXNwb25zZSB0cmFuc2Zvcm1hdGlvbiB0byBiZSBydW4gYWZ0ZXIgdGhlIGRlZmF1bHQgcmVzcG9uc2VcbiAgICAgKiB0cmFuc2Zvcm1hdGlvbnMgaGF2ZSBiZWVuIHJ1bi5cbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogZnVuY3Rpb24gYXBwZW5kVHJhbnNmb3JtKGRlZmF1bHRzLCB0cmFuc2Zvcm0pIHtcbiAgICAgKlxuICAgICAqICAgLy8gV2UgY2FuJ3QgZ3VhcmFudGVlIHRoYXQgdGhlIGRlZmF1bHQgdHJhbnNmb3JtYXRpb24gaXMgYW4gYXJyYXlcbiAgICAgKiAgIGRlZmF1bHRzID0gYW5ndWxhci5pc0FycmF5KGRlZmF1bHRzKSA/IGRlZmF1bHRzIDogW2RlZmF1bHRzXTtcbiAgICAgKlxuICAgICAqICAgLy8gQXBwZW5kIHRoZSBuZXcgdHJhbnNmb3JtYXRpb24gdG8gdGhlIGRlZmF1bHRzXG4gICAgICogICByZXR1cm4gZGVmYXVsdHMuY29uY2F0KHRyYW5zZm9ybSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogJGh0dHAoe1xuICAgICAqICAgdXJsOiAnLi4uJyxcbiAgICAgKiAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICogICB0cmFuc2Zvcm1SZXNwb25zZTogYXBwZW5kVHJhbnNmb3JtKCRodHRwLmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgICByZXR1cm4gZG9UcmFuc2Zvcm0odmFsdWUpO1xuICAgICAqICAgfSlcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqXG4gICAgICogIyMgQ2FjaGluZ1xuICAgICAqXG4gICAgICogVG8gZW5hYmxlIGNhY2hpbmcsIHNldCB0aGUgcmVxdWVzdCBjb25maWd1cmF0aW9uIGBjYWNoZWAgcHJvcGVydHkgdG8gYHRydWVgICh0byB1c2UgZGVmYXVsdFxuICAgICAqIGNhY2hlKSBvciB0byBhIGN1c3RvbSBjYWNoZSBvYmplY3QgKGJ1aWx0IHdpdGgge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgYCRjYWNoZUZhY3RvcnlgfSkuXG4gICAgICogV2hlbiB0aGUgY2FjaGUgaXMgZW5hYmxlZCwgYCRodHRwYCBzdG9yZXMgdGhlIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlciBpbiB0aGUgc3BlY2lmaWVkXG4gICAgICogY2FjaGUuIFRoZSBuZXh0IHRpbWUgdGhlIHNhbWUgcmVxdWVzdCBpcyBtYWRlLCB0aGUgcmVzcG9uc2UgaXMgc2VydmVkIGZyb20gdGhlIGNhY2hlIHdpdGhvdXRcbiAgICAgKiBzZW5kaW5nIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IGV2ZW4gaWYgdGhlIHJlc3BvbnNlIGlzIHNlcnZlZCBmcm9tIGNhY2hlLCBkZWxpdmVyeSBvZiB0aGUgZGF0YSBpcyBhc3luY2hyb25vdXMgaW5cbiAgICAgKiB0aGUgc2FtZSB3YXkgdGhhdCByZWFsIHJlcXVlc3RzIGFyZS5cbiAgICAgKlxuICAgICAqIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBHRVQgcmVxdWVzdHMgZm9yIHRoZSBzYW1lIFVSTCB0aGF0IHNob3VsZCBiZSBjYWNoZWQgdXNpbmcgdGhlIHNhbWVcbiAgICAgKiBjYWNoZSwgYnV0IHRoZSBjYWNoZSBpcyBub3QgcG9wdWxhdGVkIHlldCwgb25seSBvbmUgcmVxdWVzdCB0byB0aGUgc2VydmVyIHdpbGwgYmUgbWFkZSBhbmRcbiAgICAgKiB0aGUgcmVtYWluaW5nIHJlcXVlc3RzIHdpbGwgYmUgZnVsZmlsbGVkIHVzaW5nIHRoZSByZXNwb25zZSBmcm9tIHRoZSBmaXJzdCByZXF1ZXN0LlxuICAgICAqXG4gICAgICogWW91IGNhbiBjaGFuZ2UgdGhlIGRlZmF1bHQgY2FjaGUgdG8gYSBuZXcgb2JqZWN0IChidWlsdCB3aXRoXG4gICAgICoge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgYCRjYWNoZUZhY3RvcnlgfSkgYnkgdXBkYXRpbmcgdGhlXG4gICAgICoge0BsaW5rIG5nLiRodHRwI2RlZmF1bHRzIGAkaHR0cC5kZWZhdWx0cy5jYWNoZWB9IHByb3BlcnR5LiBBbGwgcmVxdWVzdHMgd2hvIHNldFxuICAgICAqIHRoZWlyIGBjYWNoZWAgcHJvcGVydHkgdG8gYHRydWVgIHdpbGwgbm93IHVzZSB0aGlzIGNhY2hlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIElmIHlvdSBzZXQgdGhlIGRlZmF1bHQgY2FjaGUgdG8gYGZhbHNlYCB0aGVuIG9ubHkgcmVxdWVzdHMgdGhhdCBzcGVjaWZ5IHRoZWlyIG93biBjdXN0b21cbiAgICAgKiBjYWNoZSBvYmplY3Qgd2lsbCBiZSBjYWNoZWQuXG4gICAgICpcbiAgICAgKiAjIyBJbnRlcmNlcHRvcnNcbiAgICAgKlxuICAgICAqIEJlZm9yZSB5b3Ugc3RhcnQgY3JlYXRpbmcgaW50ZXJjZXB0b3JzLCBiZSBzdXJlIHRvIHVuZGVyc3RhbmQgdGhlXG4gICAgICoge0BsaW5rIG5nLiRxICRxIGFuZCBkZWZlcnJlZC9wcm9taXNlIEFQSXN9LlxuICAgICAqXG4gICAgICogRm9yIHB1cnBvc2VzIG9mIGdsb2JhbCBlcnJvciBoYW5kbGluZywgYXV0aGVudGljYXRpb24sIG9yIGFueSBraW5kIG9mIHN5bmNocm9ub3VzIG9yXG4gICAgICogYXN5bmNocm9ub3VzIHByZS1wcm9jZXNzaW5nIG9mIHJlcXVlc3Qgb3IgcG9zdHByb2Nlc3Npbmcgb2YgcmVzcG9uc2VzLCBpdCBpcyBkZXNpcmFibGUgdG8gYmVcbiAgICAgKiBhYmxlIHRvIGludGVyY2VwdCByZXF1ZXN0cyBiZWZvcmUgdGhleSBhcmUgaGFuZGVkIHRvIHRoZSBzZXJ2ZXIgYW5kXG4gICAgICogcmVzcG9uc2VzIGJlZm9yZSB0aGV5IGFyZSBoYW5kZWQgb3ZlciB0byB0aGUgYXBwbGljYXRpb24gY29kZSB0aGF0XG4gICAgICogaW5pdGlhdGVkIHRoZXNlIHJlcXVlc3RzLiBUaGUgaW50ZXJjZXB0b3JzIGxldmVyYWdlIHRoZSB7QGxpbmsgbmcuJHFcbiAgICAgKiBwcm9taXNlIEFQSXN9IHRvIGZ1bGZpbGwgdGhpcyBuZWVkIGZvciBib3RoIHN5bmNocm9ub3VzIGFuZCBhc3luY2hyb25vdXMgcHJlLXByb2Nlc3NpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgaW50ZXJjZXB0b3JzIGFyZSBzZXJ2aWNlIGZhY3RvcmllcyB0aGF0IGFyZSByZWdpc3RlcmVkIHdpdGggdGhlIGAkaHR0cFByb3ZpZGVyYCBieVxuICAgICAqIGFkZGluZyB0aGVtIHRvIHRoZSBgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnNgIGFycmF5LiBUaGUgZmFjdG9yeSBpcyBjYWxsZWQgYW5kXG4gICAgICogaW5qZWN0ZWQgd2l0aCBkZXBlbmRlbmNpZXMgKGlmIHNwZWNpZmllZCkgYW5kIHJldHVybnMgdGhlIGludGVyY2VwdG9yLlxuICAgICAqXG4gICAgICogVGhlcmUgYXJlIHR3byBraW5kcyBvZiBpbnRlcmNlcHRvcnMgKGFuZCB0d28ga2luZHMgb2YgcmVqZWN0aW9uIGludGVyY2VwdG9ycyk6XG4gICAgICpcbiAgICAgKiAgICogYHJlcXVlc3RgOiBpbnRlcmNlcHRvcnMgZ2V0IGNhbGxlZCB3aXRoIGEgaHR0cCBgY29uZmlnYCBvYmplY3QuIFRoZSBmdW5jdGlvbiBpcyBmcmVlIHRvXG4gICAgICogICAgIG1vZGlmeSB0aGUgYGNvbmZpZ2Agb2JqZWN0IG9yIGNyZWF0ZSBhIG5ldyBvbmUuIFRoZSBmdW5jdGlvbiBuZWVkcyB0byByZXR1cm4gdGhlIGBjb25maWdgXG4gICAgICogICAgIG9iamVjdCBkaXJlY3RseSwgb3IgYSBwcm9taXNlIGNvbnRhaW5pbmcgdGhlIGBjb25maWdgIG9yIGEgbmV3IGBjb25maWdgIG9iamVjdC5cbiAgICAgKiAgICogYHJlcXVlc3RFcnJvcmA6IGludGVyY2VwdG9yIGdldHMgY2FsbGVkIHdoZW4gYSBwcmV2aW91cyBpbnRlcmNlcHRvciB0aHJldyBhbiBlcnJvciBvclxuICAgICAqICAgICByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLlxuICAgICAqICAgKiBgcmVzcG9uc2VgOiBpbnRlcmNlcHRvcnMgZ2V0IGNhbGxlZCB3aXRoIGh0dHAgYHJlc3BvbnNlYCBvYmplY3QuIFRoZSBmdW5jdGlvbiBpcyBmcmVlIHRvXG4gICAgICogICAgIG1vZGlmeSB0aGUgYHJlc3BvbnNlYCBvYmplY3Qgb3IgY3JlYXRlIGEgbmV3IG9uZS4gVGhlIGZ1bmN0aW9uIG5lZWRzIHRvIHJldHVybiB0aGUgYHJlc3BvbnNlYFxuICAgICAqICAgICBvYmplY3QgZGlyZWN0bHksIG9yIGFzIGEgcHJvbWlzZSBjb250YWluaW5nIHRoZSBgcmVzcG9uc2VgIG9yIGEgbmV3IGByZXNwb25zZWAgb2JqZWN0LlxuICAgICAqICAgKiBgcmVzcG9uc2VFcnJvcmA6IGludGVyY2VwdG9yIGdldHMgY2FsbGVkIHdoZW4gYSBwcmV2aW91cyBpbnRlcmNlcHRvciB0aHJldyBhbiBlcnJvciBvclxuICAgICAqICAgICByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgLy8gcmVnaXN0ZXIgdGhlIGludGVyY2VwdG9yIGFzIGEgc2VydmljZVxuICAgICAqICAgJHByb3ZpZGUuZmFjdG9yeSgnbXlIdHRwSW50ZXJjZXB0b3InLCBmdW5jdGlvbigkcSwgZGVwZW5kZW5jeTEsIGRlcGVuZGVuY3kyKSB7XG4gICAgICogICAgIHJldHVybiB7XG4gICAgICogICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXG4gICAgICogICAgICAgJ3JlcXVlc3QnOiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgKiAgICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBzdWNjZXNzXG4gICAgICogICAgICAgICByZXR1cm4gY29uZmlnO1xuICAgICAqICAgICAgIH0sXG4gICAgICpcbiAgICAgKiAgICAgICAvLyBvcHRpb25hbCBtZXRob2RcbiAgICAgKiAgICAgICdyZXF1ZXN0RXJyb3InOiBmdW5jdGlvbihyZWplY3Rpb24pIHtcbiAgICAgKiAgICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBlcnJvclxuICAgICAqICAgICAgICAgaWYgKGNhblJlY292ZXIocmVqZWN0aW9uKSkge1xuICAgICAqICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VPck5ld1Byb21pc2VcbiAgICAgKiAgICAgICAgIH1cbiAgICAgKiAgICAgICAgIHJldHVybiAkcS5yZWplY3QocmVqZWN0aW9uKTtcbiAgICAgKiAgICAgICB9LFxuICAgICAqXG4gICAgICpcbiAgICAgKlxuICAgICAqICAgICAgIC8vIG9wdGlvbmFsIG1ldGhvZFxuICAgICAqICAgICAgICdyZXNwb25zZSc6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gc3VjY2Vzc1xuICAgICAqICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAqICAgICAgIH0sXG4gICAgICpcbiAgICAgKiAgICAgICAvLyBvcHRpb25hbCBtZXRob2RcbiAgICAgKiAgICAgICdyZXNwb25zZUVycm9yJzogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XG4gICAgICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gZXJyb3JcbiAgICAgKiAgICAgICAgIGlmIChjYW5SZWNvdmVyKHJlamVjdGlvbikpIHtcbiAgICAgKiAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlT3JOZXdQcm9taXNlXG4gICAgICogICAgICAgICB9XG4gICAgICogICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlamVjdGlvbik7XG4gICAgICogICAgICAgfVxuICAgICAqICAgICB9O1xuICAgICAqICAgfSk7XG4gICAgICpcbiAgICAgKiAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ215SHR0cEludGVyY2VwdG9yJyk7XG4gICAgICpcbiAgICAgKlxuICAgICAqICAgLy8gYWx0ZXJuYXRpdmVseSwgcmVnaXN0ZXIgdGhlIGludGVyY2VwdG9yIHZpYSBhbiBhbm9ueW1vdXMgZmFjdG9yeVxuICAgICAqICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaChmdW5jdGlvbigkcSwgZGVwZW5kZW5jeTEsIGRlcGVuZGVuY3kyKSB7XG4gICAgICogICAgIHJldHVybiB7XG4gICAgICogICAgICAncmVxdWVzdCc6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAqICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmVcbiAgICAgKiAgICAgICB9LFxuICAgICAqXG4gICAgICogICAgICAgJ3Jlc3BvbnNlJzogZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgKiAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlXG4gICAgICogICAgICAgfVxuICAgICAqICAgICB9O1xuICAgICAqICAgfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAjIyBTZWN1cml0eSBDb25zaWRlcmF0aW9uc1xuICAgICAqXG4gICAgICogV2hlbiBkZXNpZ25pbmcgd2ViIGFwcGxpY2F0aW9ucywgY29uc2lkZXIgc2VjdXJpdHkgdGhyZWF0cyBmcm9tOlxuICAgICAqXG4gICAgICogLSBbSlNPTiB2dWxuZXJhYmlsaXR5XShodHRwOi8vaGFhY2tlZC5jb20vYXJjaGl2ZS8yMDA4LzExLzIwL2FuYXRvbXktb2YtYS1zdWJ0bGUtanNvbi12dWxuZXJhYmlsaXR5LmFzcHgpXG4gICAgICogLSBbWFNSRl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Dcm9zcy1zaXRlX3JlcXVlc3RfZm9yZ2VyeSlcbiAgICAgKlxuICAgICAqIEJvdGggc2VydmVyIGFuZCB0aGUgY2xpZW50IG11c3QgY29vcGVyYXRlIGluIG9yZGVyIHRvIGVsaW1pbmF0ZSB0aGVzZSB0aHJlYXRzLiBBbmd1bGFyIGNvbWVzXG4gICAgICogcHJlLWNvbmZpZ3VyZWQgd2l0aCBzdHJhdGVnaWVzIHRoYXQgYWRkcmVzcyB0aGVzZSBpc3N1ZXMsIGJ1dCBmb3IgdGhpcyB0byB3b3JrIGJhY2tlbmQgc2VydmVyXG4gICAgICogY29vcGVyYXRpb24gaXMgcmVxdWlyZWQuXG4gICAgICpcbiAgICAgKiAjIyMgSlNPTiBWdWxuZXJhYmlsaXR5IFByb3RlY3Rpb25cbiAgICAgKlxuICAgICAqIEEgW0pTT04gdnVsbmVyYWJpbGl0eV0oaHR0cDovL2hhYWNrZWQuY29tL2FyY2hpdmUvMjAwOC8xMS8yMC9hbmF0b215LW9mLWEtc3VidGxlLWpzb24tdnVsbmVyYWJpbGl0eS5hc3B4KVxuICAgICAqIGFsbG93cyB0aGlyZCBwYXJ0eSB3ZWJzaXRlIHRvIHR1cm4geW91ciBKU09OIHJlc291cmNlIFVSTCBpbnRvXG4gICAgICogW0pTT05QXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0pTT05QKSByZXF1ZXN0IHVuZGVyIHNvbWUgY29uZGl0aW9ucy4gVG9cbiAgICAgKiBjb3VudGVyIHRoaXMgeW91ciBzZXJ2ZXIgY2FuIHByZWZpeCBhbGwgSlNPTiByZXF1ZXN0cyB3aXRoIGZvbGxvd2luZyBzdHJpbmcgYFwiKV19JyxcXG5cImAuXG4gICAgICogQW5ndWxhciB3aWxsIGF1dG9tYXRpY2FsbHkgc3RyaXAgdGhlIHByZWZpeCBiZWZvcmUgcHJvY2Vzc2luZyBpdCBhcyBKU09OLlxuICAgICAqXG4gICAgICogRm9yIGV4YW1wbGUgaWYgeW91ciBzZXJ2ZXIgbmVlZHMgdG8gcmV0dXJuOlxuICAgICAqIGBgYGpzXG4gICAgICogWydvbmUnLCd0d28nXVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogd2hpY2ggaXMgdnVsbmVyYWJsZSB0byBhdHRhY2ssIHlvdXIgc2VydmVyIGNhbiByZXR1cm46XG4gICAgICogYGBganNcbiAgICAgKiApXX0nLFxuICAgICAqIFsnb25lJywndHdvJ11cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEFuZ3VsYXIgd2lsbCBzdHJpcCB0aGUgcHJlZml4LCBiZWZvcmUgcHJvY2Vzc2luZyB0aGUgSlNPTi5cbiAgICAgKlxuICAgICAqXG4gICAgICogIyMjIENyb3NzIFNpdGUgUmVxdWVzdCBGb3JnZXJ5IChYU1JGKSBQcm90ZWN0aW9uXG4gICAgICpcbiAgICAgKiBbWFNSRl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Dcm9zcy1zaXRlX3JlcXVlc3RfZm9yZ2VyeSkgaXMgYSB0ZWNobmlxdWUgYnkgd2hpY2hcbiAgICAgKiBhbiB1bmF1dGhvcml6ZWQgc2l0ZSBjYW4gZ2FpbiB5b3VyIHVzZXIncyBwcml2YXRlIGRhdGEuIEFuZ3VsYXIgcHJvdmlkZXMgYSBtZWNoYW5pc21cbiAgICAgKiB0byBjb3VudGVyIFhTUkYuIFdoZW4gcGVyZm9ybWluZyBYSFIgcmVxdWVzdHMsIHRoZSAkaHR0cCBzZXJ2aWNlIHJlYWRzIGEgdG9rZW4gZnJvbSBhIGNvb2tpZVxuICAgICAqIChieSBkZWZhdWx0LCBgWFNSRi1UT0tFTmApIGFuZCBzZXRzIGl0IGFzIGFuIEhUVFAgaGVhZGVyIChgWC1YU1JGLVRPS0VOYCkuIFNpbmNlIG9ubHlcbiAgICAgKiBKYXZhU2NyaXB0IHRoYXQgcnVucyBvbiB5b3VyIGRvbWFpbiBjb3VsZCByZWFkIHRoZSBjb29raWUsIHlvdXIgc2VydmVyIGNhbiBiZSBhc3N1cmVkIHRoYXRcbiAgICAgKiB0aGUgWEhSIGNhbWUgZnJvbSBKYXZhU2NyaXB0IHJ1bm5pbmcgb24geW91ciBkb21haW4uIFRoZSBoZWFkZXIgd2lsbCBub3QgYmUgc2V0IGZvclxuICAgICAqIGNyb3NzLWRvbWFpbiByZXF1ZXN0cy5cbiAgICAgKlxuICAgICAqIFRvIHRha2UgYWR2YW50YWdlIG9mIHRoaXMsIHlvdXIgc2VydmVyIG5lZWRzIHRvIHNldCBhIHRva2VuIGluIGEgSmF2YVNjcmlwdCByZWFkYWJsZSBzZXNzaW9uXG4gICAgICogY29va2llIGNhbGxlZCBgWFNSRi1UT0tFTmAgb24gdGhlIGZpcnN0IEhUVFAgR0VUIHJlcXVlc3QuIE9uIHN1YnNlcXVlbnQgWEhSIHJlcXVlc3RzIHRoZVxuICAgICAqIHNlcnZlciBjYW4gdmVyaWZ5IHRoYXQgdGhlIGNvb2tpZSBtYXRjaGVzIGBYLVhTUkYtVE9LRU5gIEhUVFAgaGVhZGVyLCBhbmQgdGhlcmVmb3JlIGJlIHN1cmVcbiAgICAgKiB0aGF0IG9ubHkgSmF2YVNjcmlwdCBydW5uaW5nIG9uIHlvdXIgZG9tYWluIGNvdWxkIGhhdmUgc2VudCB0aGUgcmVxdWVzdC4gVGhlIHRva2VuIG11c3QgYmVcbiAgICAgKiB1bmlxdWUgZm9yIGVhY2ggdXNlciBhbmQgbXVzdCBiZSB2ZXJpZmlhYmxlIGJ5IHRoZSBzZXJ2ZXIgKHRvIHByZXZlbnQgdGhlIEphdmFTY3JpcHQgZnJvbVxuICAgICAqIG1ha2luZyB1cCBpdHMgb3duIHRva2VucykuIFdlIHJlY29tbWVuZCB0aGF0IHRoZSB0b2tlbiBpcyBhIGRpZ2VzdCBvZiB5b3VyIHNpdGUnc1xuICAgICAqIGF1dGhlbnRpY2F0aW9uIGNvb2tpZSB3aXRoIGEgW3NhbHRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NhbHRfKGNyeXB0b2dyYXBoeSYjNDE7KVxuICAgICAqIGZvciBhZGRlZCBzZWN1cml0eS5cbiAgICAgKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBoZWFkZXJzIGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgdGhlIHhzcmZIZWFkZXJOYW1lIGFuZCB4c3JmQ29va2llTmFtZVxuICAgICAqIHByb3BlcnRpZXMgb2YgZWl0aGVyICRodHRwUHJvdmlkZXIuZGVmYXVsdHMgYXQgY29uZmlnLXRpbWUsICRodHRwLmRlZmF1bHRzIGF0IHJ1bi10aW1lLFxuICAgICAqIG9yIHRoZSBwZXItcmVxdWVzdCBjb25maWcgb2JqZWN0LlxuICAgICAqXG4gICAgICogSW4gb3JkZXIgdG8gcHJldmVudCBjb2xsaXNpb25zIGluIGVudmlyb25tZW50cyB3aGVyZSBtdWx0aXBsZSBBbmd1bGFyIGFwcHMgc2hhcmUgdGhlXG4gICAgICogc2FtZSBkb21haW4gb3Igc3ViZG9tYWluLCB3ZSByZWNvbW1lbmQgdGhhdCBlYWNoIGFwcGxpY2F0aW9uIHVzZXMgdW5pcXVlIGNvb2tpZSBuYW1lLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIE9iamVjdCBkZXNjcmliaW5nIHRoZSByZXF1ZXN0IHRvIGJlIG1hZGUgYW5kIGhvdyBpdCBzaG91bGQgYmVcbiAgICAgKiAgICBwcm9jZXNzZWQuIFRoZSBvYmplY3QgaGFzIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAqXG4gICAgICogICAgLSAqKm1ldGhvZCoqIOKAkyBge3N0cmluZ31gIOKAkyBIVFRQIG1ldGhvZCAoZS5nLiAnR0VUJywgJ1BPU1QnLCBldGMpXG4gICAgICogICAgLSAqKnVybCoqIOKAkyBge3N0cmluZ31gIOKAkyBBYnNvbHV0ZSBvciByZWxhdGl2ZSBVUkwgb2YgdGhlIHJlc291cmNlIHRoYXQgaXMgYmVpbmcgcmVxdWVzdGVkLlxuICAgICAqICAgIC0gKipwYXJhbXMqKiDigJMgYHtPYmplY3QuPHN0cmluZ3xPYmplY3Q+fWAg4oCTIE1hcCBvZiBzdHJpbmdzIG9yIG9iamVjdHMgd2hpY2ggd2lsbCBiZSBzZXJpYWxpemVkXG4gICAgICogICAgICB3aXRoIHRoZSBgcGFyYW1TZXJpYWxpemVyYCBhbmQgYXBwZW5kZWQgYXMgR0VUIHBhcmFtZXRlcnMuXG4gICAgICogICAgLSAqKmRhdGEqKiDigJMgYHtzdHJpbmd8T2JqZWN0fWAg4oCTIERhdGEgdG8gYmUgc2VudCBhcyB0aGUgcmVxdWVzdCBtZXNzYWdlIGRhdGEuXG4gICAgICogICAgLSAqKmhlYWRlcnMqKiDigJMgYHtPYmplY3R9YCDigJMgTWFwIG9mIHN0cmluZ3Mgb3IgZnVuY3Rpb25zIHdoaWNoIHJldHVybiBzdHJpbmdzIHJlcHJlc2VudGluZ1xuICAgICAqICAgICAgSFRUUCBoZWFkZXJzIHRvIHNlbmQgdG8gdGhlIHNlcnZlci4gSWYgdGhlIHJldHVybiB2YWx1ZSBvZiBhIGZ1bmN0aW9uIGlzIG51bGwsIHRoZVxuICAgICAqICAgICAgaGVhZGVyIHdpbGwgbm90IGJlIHNlbnQuIEZ1bmN0aW9ucyBhY2NlcHQgYSBjb25maWcgb2JqZWN0IGFzIGFuIGFyZ3VtZW50LlxuICAgICAqICAgIC0gKip4c3JmSGVhZGVyTmFtZSoqIOKAkyBge3N0cmluZ31gIOKAkyBOYW1lIG9mIEhUVFAgaGVhZGVyIHRvIHBvcHVsYXRlIHdpdGggdGhlIFhTUkYgdG9rZW4uXG4gICAgICogICAgLSAqKnhzcmZDb29raWVOYW1lKiog4oCTIGB7c3RyaW5nfWAg4oCTIE5hbWUgb2YgY29va2llIGNvbnRhaW5pbmcgdGhlIFhTUkYgdG9rZW4uXG4gICAgICogICAgLSAqKnRyYW5zZm9ybVJlcXVlc3QqKiDigJNcbiAgICAgKiAgICAgIGB7ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlcil8QXJyYXkuPGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpPn1gIOKAk1xuICAgICAqICAgICAgdHJhbnNmb3JtIGZ1bmN0aW9uIG9yIGFuIGFycmF5IG9mIHN1Y2ggZnVuY3Rpb25zLiBUaGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHRha2VzIHRoZSBodHRwXG4gICAgICogICAgICByZXF1ZXN0IGJvZHkgYW5kIGhlYWRlcnMgYW5kIHJldHVybnMgaXRzIHRyYW5zZm9ybWVkICh0eXBpY2FsbHkgc2VyaWFsaXplZCkgdmVyc2lvbi5cbiAgICAgKiAgICAgIFNlZSB7QGxpbmsgbmcuJGh0dHAjb3ZlcnJpZGluZy10aGUtZGVmYXVsdC10cmFuc2Zvcm1hdGlvbnMtcGVyLXJlcXVlc3RcbiAgICAgKiAgICAgIE92ZXJyaWRpbmcgdGhlIERlZmF1bHQgVHJhbnNmb3JtYXRpb25zfVxuICAgICAqICAgIC0gKip0cmFuc2Zvcm1SZXNwb25zZSoqIOKAk1xuICAgICAqICAgICAgYHtmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyLCBzdGF0dXMpfEFycmF5LjxmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyLCBzdGF0dXMpPn1gIOKAk1xuICAgICAqICAgICAgdHJhbnNmb3JtIGZ1bmN0aW9uIG9yIGFuIGFycmF5IG9mIHN1Y2ggZnVuY3Rpb25zLiBUaGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHRha2VzIHRoZSBodHRwXG4gICAgICogICAgICByZXNwb25zZSBib2R5LCBoZWFkZXJzIGFuZCBzdGF0dXMgYW5kIHJldHVybnMgaXRzIHRyYW5zZm9ybWVkICh0eXBpY2FsbHkgZGVzZXJpYWxpemVkKSB2ZXJzaW9uLlxuICAgICAqICAgICAgU2VlIHtAbGluayBuZy4kaHR0cCNvdmVycmlkaW5nLXRoZS1kZWZhdWx0LXRyYW5zZm9ybWF0aW9ucy1wZXItcmVxdWVzdFxuICAgICAqICAgICAgT3ZlcnJpZGluZyB0aGUgRGVmYXVsdCBUcmFuc2Zvcm1hdGlvbmpxTGlrc31cbiAgICAgKiAgICAtICoqcGFyYW1TZXJpYWxpemVyKiogLSBge3N0cmluZ3xmdW5jdGlvbihPYmplY3Q8c3RyaW5nLHN0cmluZz4pOnN0cmluZ31gIC0gQSBmdW5jdGlvbiB1c2VkIHRvXG4gICAgICogICAgICBwcmVwYXJlIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgcmVxdWVzdCBwYXJhbWV0ZXJzIChzcGVjaWZpZWQgYXMgYW4gb2JqZWN0KS5cbiAgICAgKiAgICAgIElmIHNwZWNpZmllZCBhcyBzdHJpbmcsIGl0IGlzIGludGVycHJldGVkIGFzIGZ1bmN0aW9uIHJlZ2lzdGVyZWQgd2l0aCB0aGVcbiAgICAgKiAgICAgIHtAbGluayAkaW5qZWN0b3IgJGluamVjdG9yfSwgd2hpY2ggbWVhbnMgeW91IGNhbiBjcmVhdGUgeW91ciBvd24gc2VyaWFsaXplclxuICAgICAqICAgICAgYnkgcmVnaXN0ZXJpbmcgaXQgYXMgYSB7QGxpbmsgYXV0by4kcHJvdmlkZSNzZXJ2aWNlIHNlcnZpY2V9LlxuICAgICAqICAgICAgVGhlIGRlZmF1bHQgc2VyaWFsaXplciBpcyB0aGUge0BsaW5rICRodHRwUGFyYW1TZXJpYWxpemVyICRodHRwUGFyYW1TZXJpYWxpemVyfTtcbiAgICAgKiAgICAgIGFsdGVybmF0aXZlbHksIHlvdSBjYW4gdXNlIHRoZSB7QGxpbmsgJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2UgJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2V9XG4gICAgICogICAgLSAqKmNhY2hlKiog4oCTIGB7Ym9vbGVhbnxDYWNoZX1gIOKAkyBJZiB0cnVlLCBhIGRlZmF1bHQgJGh0dHAgY2FjaGUgd2lsbCBiZSB1c2VkIHRvIGNhY2hlIHRoZVxuICAgICAqICAgICAgR0VUIHJlcXVlc3QsIG90aGVyd2lzZSBpZiBhIGNhY2hlIGluc3RhbmNlIGJ1aWx0IHdpdGhcbiAgICAgKiAgICAgIHtAbGluayBuZy4kY2FjaGVGYWN0b3J5ICRjYWNoZUZhY3Rvcnl9LCB0aGlzIGNhY2hlIHdpbGwgYmUgdXNlZCBmb3JcbiAgICAgKiAgICAgIGNhY2hpbmcuXG4gICAgICogICAgLSAqKnRpbWVvdXQqKiDigJMgYHtudW1iZXJ8UHJvbWlzZX1gIOKAkyB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcywgb3Ige0BsaW5rIG5nLiRxIHByb21pc2V9XG4gICAgICogICAgICB0aGF0IHNob3VsZCBhYm9ydCB0aGUgcmVxdWVzdCB3aGVuIHJlc29sdmVkLlxuICAgICAqICAgIC0gKip3aXRoQ3JlZGVudGlhbHMqKiAtIGB7Ym9vbGVhbn1gIC0gd2hldGhlciB0byBzZXQgdGhlIGB3aXRoQ3JlZGVudGlhbHNgIGZsYWcgb24gdGhlXG4gICAgICogICAgICBYSFIgb2JqZWN0LiBTZWUgW3JlcXVlc3RzIHdpdGggY3JlZGVudGlhbHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0hUVFAvQWNjZXNzX2NvbnRyb2xfQ09SUyNSZXF1ZXN0c193aXRoX2NyZWRlbnRpYWxzKVxuICAgICAqICAgICAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICogICAgLSAqKnJlc3BvbnNlVHlwZSoqIC0gYHtzdHJpbmd9YCAtIHNlZVxuICAgICAqICAgICAgW1hNTEh0dHBSZXF1ZXN0LnJlc3BvbnNlVHlwZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1hNTEh0dHBSZXF1ZXN0I3htbGh0dHByZXF1ZXN0LXJlc3BvbnNldHlwZSkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IFJldHVybnMgYSB7QGxpbmsgbmcuJHEgcHJvbWlzZX0gb2JqZWN0IHdpdGggdGhlXG4gICAgICogICBzdGFuZGFyZCBgdGhlbmAgbWV0aG9kIGFuZCB0d28gaHR0cCBzcGVjaWZpYyBtZXRob2RzOiBgc3VjY2Vzc2AgYW5kIGBlcnJvcmAuIFRoZSBgdGhlbmBcbiAgICAgKiAgIG1ldGhvZCB0YWtlcyB0d28gYXJndW1lbnRzIGEgc3VjY2VzcyBhbmQgYW4gZXJyb3IgY2FsbGJhY2sgd2hpY2ggd2lsbCBiZSBjYWxsZWQgd2l0aCBhXG4gICAgICogICByZXNwb25zZSBvYmplY3QuIFRoZSBgc3VjY2Vzc2AgYW5kIGBlcnJvcmAgbWV0aG9kcyB0YWtlIGEgc2luZ2xlIGFyZ3VtZW50IC0gYSBmdW5jdGlvbiB0aGF0XG4gICAgICogICB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSByZXF1ZXN0IHN1Y2NlZWRzIG9yIGZhaWxzIHJlc3BlY3RpdmVseS4gVGhlIGFyZ3VtZW50cyBwYXNzZWQgaW50b1xuICAgICAqICAgdGhlc2UgZnVuY3Rpb25zIGFyZSBkZXN0cnVjdHVyZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJlc3BvbnNlIG9iamVjdCBwYXNzZWQgaW50byB0aGVcbiAgICAgKiAgIGB0aGVuYCBtZXRob2QuIFRoZSByZXNwb25zZSBvYmplY3QgaGFzIHRoZXNlIHByb3BlcnRpZXM6XG4gICAgICpcbiAgICAgKiAgIC0gKipkYXRhKiog4oCTIGB7c3RyaW5nfE9iamVjdH1gIOKAkyBUaGUgcmVzcG9uc2UgYm9keSB0cmFuc2Zvcm1lZCB3aXRoIHRoZSB0cmFuc2Zvcm1cbiAgICAgKiAgICAgZnVuY3Rpb25zLlxuICAgICAqICAgLSAqKnN0YXR1cyoqIOKAkyBge251bWJlcn1gIOKAkyBIVFRQIHN0YXR1cyBjb2RlIG9mIHRoZSByZXNwb25zZS5cbiAgICAgKiAgIC0gKipoZWFkZXJzKiog4oCTIGB7ZnVuY3Rpb24oW2hlYWRlck5hbWVdKX1gIOKAkyBIZWFkZXIgZ2V0dGVyIGZ1bmN0aW9uLlxuICAgICAqICAgLSAqKmNvbmZpZyoqIOKAkyBge09iamVjdH1gIOKAkyBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgdGhhdCB3YXMgdXNlZCB0byBnZW5lcmF0ZSB0aGUgcmVxdWVzdC5cbiAgICAgKiAgIC0gKipzdGF0dXNUZXh0Kiog4oCTIGB7c3RyaW5nfWAg4oCTIEhUVFAgc3RhdHVzIHRleHQgb2YgdGhlIHJlc3BvbnNlLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHtBcnJheS48T2JqZWN0Pn0gcGVuZGluZ1JlcXVlc3RzIEFycmF5IG9mIGNvbmZpZyBvYmplY3RzIGZvciBjdXJyZW50bHkgcGVuZGluZ1xuICAgICAqICAgcmVxdWVzdHMuIFRoaXMgaXMgcHJpbWFyaWx5IG1lYW50IHRvIGJlIHVzZWQgZm9yIGRlYnVnZ2luZyBwdXJwb3Nlcy5cbiAgICAgKlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cImh0dHBFeGFtcGxlXCI+XG48ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJGZXRjaENvbnRyb2xsZXJcIj5cbiAgICA8c2VsZWN0IG5nLW1vZGVsPVwibWV0aG9kXCIgYXJpYS1sYWJlbD1cIlJlcXVlc3QgbWV0aG9kXCI+XG4gICAgICA8b3B0aW9uPkdFVDwvb3B0aW9uPlxuICAgICAgPG9wdGlvbj5KU09OUDwvb3B0aW9uPlxuICAgIDwvc2VsZWN0PlxuICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidXJsXCIgc2l6ZT1cIjgwXCIgYXJpYS1sYWJlbD1cIlVSTFwiIC8+XG4gICAgPGJ1dHRvbiBpZD1cImZldGNoYnRuXCIgbmctY2xpY2s9XCJmZXRjaCgpXCI+ZmV0Y2g8L2J1dHRvbj48YnI+XG4gICAgPGJ1dHRvbiBpZD1cInNhbXBsZWdldGJ0blwiIG5nLWNsaWNrPVwidXBkYXRlTW9kZWwoJ0dFVCcsICdodHRwLWhlbGxvLmh0bWwnKVwiPlNhbXBsZSBHRVQ8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGlkPVwic2FtcGxlanNvbnBidG5cIlxuICAgICAgbmctY2xpY2s9XCJ1cGRhdGVNb2RlbCgnSlNPTlAnLFxuICAgICAgICAgICAgICAgICAgICAnaHR0cHM6Ly9hbmd1bGFyanMub3JnL2dyZWV0LnBocD9jYWxsYmFjaz1KU09OX0NBTExCQUNLJm5hbWU9U3VwZXIlMjBIZXJvJylcIj5cbiAgICAgIFNhbXBsZSBKU09OUFxuICAgIDwvYnV0dG9uPlxuICAgIDxidXR0b24gaWQ9XCJpbnZhbGlkanNvbnBidG5cIlxuICAgICAgbmctY2xpY2s9XCJ1cGRhdGVNb2RlbCgnSlNPTlAnLCAnaHR0cHM6Ly9hbmd1bGFyanMub3JnL2RvZXNudGV4aXN0JmNhbGxiYWNrPUpTT05fQ0FMTEJBQ0snKVwiPlxuICAgICAgICBJbnZhbGlkIEpTT05QXG4gICAgICA8L2J1dHRvbj5cbiAgICA8cHJlPmh0dHAgc3RhdHVzIGNvZGU6IHt7c3RhdHVzfX08L3ByZT5cbiAgICA8cHJlPmh0dHAgcmVzcG9uc2UgZGF0YToge3tkYXRhfX08L3ByZT5cbiAgPC9kaXY+XG48L2ZpbGU+XG48ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gIGFuZ3VsYXIubW9kdWxlKCdodHRwRXhhbXBsZScsIFtdKVxuICAgIC5jb250cm9sbGVyKCdGZXRjaENvbnRyb2xsZXInLCBbJyRzY29wZScsICckaHR0cCcsICckdGVtcGxhdGVDYWNoZScsXG4gICAgICBmdW5jdGlvbigkc2NvcGUsICRodHRwLCAkdGVtcGxhdGVDYWNoZSkge1xuICAgICAgICAkc2NvcGUubWV0aG9kID0gJ0dFVCc7XG4gICAgICAgICRzY29wZS51cmwgPSAnaHR0cC1oZWxsby5odG1sJztcblxuICAgICAgICAkc2NvcGUuZmV0Y2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUuY29kZSA9IG51bGw7XG4gICAgICAgICAgJHNjb3BlLnJlc3BvbnNlID0gbnVsbDtcblxuICAgICAgICAgICRodHRwKHttZXRob2Q6ICRzY29wZS5tZXRob2QsIHVybDogJHNjb3BlLnVybCwgY2FjaGU6ICR0ZW1wbGF0ZUNhY2hlfSkuXG4gICAgICAgICAgICBzdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cykge1xuICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgICAgICAkc2NvcGUuZGF0YSA9IGRhdGE7XG4gICAgICAgICAgICB9KS5cbiAgICAgICAgICAgIGVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cykge1xuICAgICAgICAgICAgICAkc2NvcGUuZGF0YSA9IGRhdGEgfHwgXCJSZXF1ZXN0IGZhaWxlZFwiO1xuICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS51cGRhdGVNb2RlbCA9IGZ1bmN0aW9uKG1ldGhvZCwgdXJsKSB7XG4gICAgICAgICAgJHNjb3BlLm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgICAkc2NvcGUudXJsID0gdXJsO1xuICAgICAgICB9O1xuICAgICAgfV0pO1xuPC9maWxlPlxuPGZpbGUgbmFtZT1cImh0dHAtaGVsbG8uaHRtbFwiPlxuICBIZWxsbywgJGh0dHAhXG48L2ZpbGU+XG48ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gIHZhciBzdGF0dXMgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3N0YXR1cycpKTtcbiAgdmFyIGRhdGEgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2RhdGEnKSk7XG4gIHZhciBmZXRjaEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2ZldGNoYnRuJykpO1xuICB2YXIgc2FtcGxlR2V0QnRuID0gZWxlbWVudChieS5pZCgnc2FtcGxlZ2V0YnRuJykpO1xuICB2YXIgc2FtcGxlSnNvbnBCdG4gPSBlbGVtZW50KGJ5LmlkKCdzYW1wbGVqc29ucGJ0bicpKTtcbiAgdmFyIGludmFsaWRKc29ucEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2ludmFsaWRqc29ucGJ0bicpKTtcblxuICBpdCgnc2hvdWxkIG1ha2UgYW4geGhyIEdFVCByZXF1ZXN0JywgZnVuY3Rpb24oKSB7XG4gICAgc2FtcGxlR2V0QnRuLmNsaWNrKCk7XG4gICAgZmV0Y2hCdG4uY2xpY2soKTtcbiAgICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMjAwJyk7XG4gICAgZXhwZWN0KGRhdGEuZ2V0VGV4dCgpKS50b01hdGNoKC9IZWxsbywgXFwkaHR0cCEvKTtcbiAgfSk7XG5cbi8vIENvbW1lbnRlZCBvdXQgZHVlIHRvIGZsYWtlcy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzkxODVcbi8vIGl0KCdzaG91bGQgbWFrZSBhIEpTT05QIHJlcXVlc3QgdG8gYW5ndWxhcmpzLm9yZycsIGZ1bmN0aW9uKCkge1xuLy8gICBzYW1wbGVKc29ucEJ0bi5jbGljaygpO1xuLy8gICBmZXRjaEJ0bi5jbGljaygpO1xuLy8gICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMjAwJyk7XG4vLyAgIGV4cGVjdChkYXRhLmdldFRleHQoKSkudG9NYXRjaCgvU3VwZXIgSGVybyEvKTtcbi8vIH0pO1xuXG4gIGl0KCdzaG91bGQgbWFrZSBKU09OUCByZXF1ZXN0IHRvIGludmFsaWQgVVJMIGFuZCBpbnZva2UgdGhlIGVycm9yIGhhbmRsZXInLFxuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgaW52YWxpZEpzb25wQnRuLmNsaWNrKCk7XG4gICAgZmV0Y2hCdG4uY2xpY2soKTtcbiAgICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMCcpO1xuICAgIGV4cGVjdChkYXRhLmdldFRleHQoKSkudG9NYXRjaCgnUmVxdWVzdCBmYWlsZWQnKTtcbiAgfSk7XG48L2ZpbGU+XG48L2V4YW1wbGU+XG4gICAgICovXG4gICAgZnVuY3Rpb24gJGh0dHAocmVxdWVzdENvbmZpZykge1xuXG4gICAgICBpZiAoIWFuZ3VsYXIuaXNPYmplY3QocmVxdWVzdENvbmZpZykpIHtcbiAgICAgICAgdGhyb3cgbWluRXJyKCckaHR0cCcpKCdiYWRyZXEnLCAnSHR0cCByZXF1ZXN0IGNvbmZpZ3VyYXRpb24gbXVzdCBiZSBhbiBvYmplY3QuICBSZWNlaXZlZDogezB9JywgcmVxdWVzdENvbmZpZyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBjb25maWcgPSBleHRlbmQoe1xuICAgICAgICBtZXRob2Q6ICdnZXQnLFxuICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBkZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0LFxuICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZTogZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2UsXG4gICAgICAgIHBhcmFtU2VyaWFsaXplcjogZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyXG4gICAgICB9LCByZXF1ZXN0Q29uZmlnKTtcblxuICAgICAgY29uZmlnLmhlYWRlcnMgPSBtZXJnZUhlYWRlcnMocmVxdWVzdENvbmZpZyk7XG4gICAgICBjb25maWcubWV0aG9kID0gdXBwZXJjYXNlKGNvbmZpZy5tZXRob2QpO1xuICAgICAgY29uZmlnLnBhcmFtU2VyaWFsaXplciA9IGlzU3RyaW5nKGNvbmZpZy5wYXJhbVNlcmlhbGl6ZXIpID9cbiAgICAgICAgJGluamVjdG9yLmdldChjb25maWcucGFyYW1TZXJpYWxpemVyKSA6IGNvbmZpZy5wYXJhbVNlcmlhbGl6ZXI7XG5cbiAgICAgIHZhciBzZXJ2ZXJSZXF1ZXN0ID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHZhciBoZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG4gICAgICAgIHZhciByZXFEYXRhID0gdHJhbnNmb3JtRGF0YShjb25maWcuZGF0YSwgaGVhZGVyc0dldHRlcihoZWFkZXJzKSwgdW5kZWZpbmVkLCBjb25maWcudHJhbnNmb3JtUmVxdWVzdCk7XG5cbiAgICAgICAgLy8gc3RyaXAgY29udGVudC10eXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChyZXFEYXRhKSkge1xuICAgICAgICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24odmFsdWUsIGhlYWRlcikge1xuICAgICAgICAgICAgaWYgKGxvd2VyY2FzZShoZWFkZXIpID09PSAnY29udGVudC10eXBlJykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBoZWFkZXJzW2hlYWRlcl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNVbmRlZmluZWQoY29uZmlnLndpdGhDcmVkZW50aWFscykgJiYgIWlzVW5kZWZpbmVkKGRlZmF1bHRzLndpdGhDcmVkZW50aWFscykpIHtcbiAgICAgICAgICBjb25maWcud2l0aENyZWRlbnRpYWxzID0gZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2VuZCByZXF1ZXN0XG4gICAgICAgIHJldHVybiBzZW5kUmVxKGNvbmZpZywgcmVxRGF0YSkudGhlbih0cmFuc2Zvcm1SZXNwb25zZSwgdHJhbnNmb3JtUmVzcG9uc2UpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGNoYWluID0gW3NlcnZlclJlcXVlc3QsIHVuZGVmaW5lZF07XG4gICAgICB2YXIgcHJvbWlzZSA9ICRxLndoZW4oY29uZmlnKTtcblxuICAgICAgLy8gYXBwbHkgaW50ZXJjZXB0b3JzXG4gICAgICBmb3JFYWNoKHJldmVyc2VkSW50ZXJjZXB0b3JzLCBmdW5jdGlvbihpbnRlcmNlcHRvcikge1xuICAgICAgICBpZiAoaW50ZXJjZXB0b3IucmVxdWVzdCB8fCBpbnRlcmNlcHRvci5yZXF1ZXN0RXJyb3IpIHtcbiAgICAgICAgICBjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLnJlcXVlc3QsIGludGVyY2VwdG9yLnJlcXVlc3RFcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGludGVyY2VwdG9yLnJlc3BvbnNlIHx8IGludGVyY2VwdG9yLnJlc3BvbnNlRXJyb3IpIHtcbiAgICAgICAgICBjaGFpbi5wdXNoKGludGVyY2VwdG9yLnJlc3BvbnNlLCBpbnRlcmNlcHRvci5yZXNwb25zZUVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHdoaWxlIChjaGFpbi5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHRoZW5GbiA9IGNoYWluLnNoaWZ0KCk7XG4gICAgICAgIHZhciByZWplY3RGbiA9IGNoYWluLnNoaWZ0KCk7XG5cbiAgICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbih0aGVuRm4sIHJlamVjdEZuKTtcbiAgICAgIH1cblxuICAgICAgcHJvbWlzZS5zdWNjZXNzID0gZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgYXNzZXJ0QXJnRm4oZm4sICdmbicpO1xuXG4gICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgIGZuKHJlc3BvbnNlLmRhdGEsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UuaGVhZGVycywgY29uZmlnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgcHJvbWlzZS5lcnJvciA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgIGFzc2VydEFyZ0ZuKGZuLCAnZm4nKTtcblxuICAgICAgICBwcm9taXNlLnRoZW4obnVsbCwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICBmbihyZXNwb25zZS5kYXRhLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLmhlYWRlcnMsIGNvbmZpZyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuXG4gICAgICBmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShyZXNwb25zZSkge1xuICAgICAgICAvLyBtYWtlIGEgY29weSBzaW5jZSB0aGUgcmVzcG9uc2UgbXVzdCBiZSBjYWNoZWFibGVcbiAgICAgICAgdmFyIHJlc3AgPSBleHRlbmQoe30sIHJlc3BvbnNlKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5kYXRhKSB7XG4gICAgICAgICAgcmVzcC5kYXRhID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNwLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKHJlc3BvbnNlLmRhdGEsIHJlc3BvbnNlLmhlYWRlcnMsIHJlc3BvbnNlLnN0YXR1cywgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKGlzU3VjY2VzcyhyZXNwb25zZS5zdGF0dXMpKVxuICAgICAgICAgID8gcmVzcFxuICAgICAgICAgIDogJHEucmVqZWN0KHJlc3ApO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBleGVjdXRlSGVhZGVyRm5zKGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICB2YXIgaGVhZGVyQ29udGVudCwgcHJvY2Vzc2VkSGVhZGVycyA9IHt9O1xuXG4gICAgICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24oaGVhZGVyRm4sIGhlYWRlcikge1xuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGhlYWRlckZuKSkge1xuICAgICAgICAgICAgaGVhZGVyQ29udGVudCA9IGhlYWRlckZuKGNvbmZpZyk7XG4gICAgICAgICAgICBpZiAoaGVhZGVyQ29udGVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NlZEhlYWRlcnNbaGVhZGVyXSA9IGhlYWRlckNvbnRlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb2Nlc3NlZEhlYWRlcnNbaGVhZGVyXSA9IGhlYWRlckZuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHByb2Nlc3NlZEhlYWRlcnM7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG1lcmdlSGVhZGVycyhjb25maWcpIHtcbiAgICAgICAgdmFyIGRlZkhlYWRlcnMgPSBkZWZhdWx0cy5oZWFkZXJzLFxuICAgICAgICAgICAgcmVxSGVhZGVycyA9IGV4dGVuZCh7fSwgY29uZmlnLmhlYWRlcnMpLFxuICAgICAgICAgICAgZGVmSGVhZGVyTmFtZSwgbG93ZXJjYXNlRGVmSGVhZGVyTmFtZSwgcmVxSGVhZGVyTmFtZTtcblxuICAgICAgICBkZWZIZWFkZXJzID0gZXh0ZW5kKHt9LCBkZWZIZWFkZXJzLmNvbW1vbiwgZGVmSGVhZGVyc1tsb3dlcmNhc2UoY29uZmlnLm1ldGhvZCldKTtcblxuICAgICAgICAvLyB1c2luZyBmb3ItaW4gaW5zdGVhZCBvZiBmb3JFYWNoIHRvIGF2b2lkIHVuZWNlc3NhcnkgaXRlcmF0aW9uIGFmdGVyIGhlYWRlciBoYXMgYmVlbiBmb3VuZFxuICAgICAgICBkZWZhdWx0SGVhZGVyc0l0ZXJhdGlvbjpcbiAgICAgICAgZm9yIChkZWZIZWFkZXJOYW1lIGluIGRlZkhlYWRlcnMpIHtcbiAgICAgICAgICBsb3dlcmNhc2VEZWZIZWFkZXJOYW1lID0gbG93ZXJjYXNlKGRlZkhlYWRlck5hbWUpO1xuXG4gICAgICAgICAgZm9yIChyZXFIZWFkZXJOYW1lIGluIHJlcUhlYWRlcnMpIHtcbiAgICAgICAgICAgIGlmIChsb3dlcmNhc2UocmVxSGVhZGVyTmFtZSkgPT09IGxvd2VyY2FzZURlZkhlYWRlck5hbWUpIHtcbiAgICAgICAgICAgICAgY29udGludWUgZGVmYXVsdEhlYWRlcnNJdGVyYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVxSGVhZGVyc1tkZWZIZWFkZXJOYW1lXSA9IGRlZkhlYWRlcnNbZGVmSGVhZGVyTmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBleGVjdXRlIGlmIGhlYWRlciB2YWx1ZSBpcyBhIGZ1bmN0aW9uIGZvciBtZXJnZWQgaGVhZGVyc1xuICAgICAgICByZXR1cm4gZXhlY3V0ZUhlYWRlckZucyhyZXFIZWFkZXJzLCBzaGFsbG93Q29weShjb25maWcpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkaHR0cC5wZW5kaW5nUmVxdWVzdHMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkaHR0cCNnZXRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBHRVRgIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJGh0dHAjZGVsZXRlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgREVMRVRFYCByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRodHRwI2hlYWRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBIRUFEYCByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRodHRwI2pzb25wXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgSlNPTlBgIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdC5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgIFRoZSBuYW1lIG9mIHRoZSBjYWxsYmFjayBzaG91bGQgYmUgdGhlIHN0cmluZyBgSlNPTl9DQUxMQkFDS2AuXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcbiAgICAgKi9cbiAgICBjcmVhdGVTaG9ydE1ldGhvZHMoJ2dldCcsICdkZWxldGUnLCAnaGVhZCcsICdqc29ucCcpO1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRodHRwI3Bvc3RcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBQT1NUYCByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgUmVxdWVzdCBjb250ZW50XG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkaHR0cCNwdXRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBQVVRgIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBSZXF1ZXN0IGNvbnRlbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxuICAgICAqL1xuXG4gICAgIC8qKlxuICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAqIEBuYW1lICRodHRwI3BhdGNoXG4gICAgICAqXG4gICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgUEFUQ0hgIHJlcXVlc3QuXG4gICAgICAqXG4gICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0XG4gICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBSZXF1ZXN0IGNvbnRlbnRcbiAgICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XG4gICAgICAqL1xuICAgIGNyZWF0ZVNob3J0TWV0aG9kc1dpdGhEYXRhKCdwb3N0JywgJ3B1dCcsICdwYXRjaCcpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgICAgICogQG5hbWUgJGh0dHAjZGVmYXVsdHNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIFJ1bnRpbWUgZXF1aXZhbGVudCBvZiB0aGUgYCRodHRwUHJvdmlkZXIuZGVmYXVsdHNgIHByb3BlcnR5LiBBbGxvd3MgY29uZmlndXJhdGlvbiBvZlxuICAgICAgICAgKiBkZWZhdWx0IGhlYWRlcnMsIHdpdGhDcmVkZW50aWFscyBhcyB3ZWxsIGFzIHJlcXVlc3QgYW5kIHJlc3BvbnNlIHRyYW5zZm9ybWF0aW9ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogU2VlIFwiU2V0dGluZyBIVFRQIEhlYWRlcnNcIiBhbmQgXCJUcmFuc2Zvcm1pbmcgUmVxdWVzdHMgYW5kIFJlc3BvbnNlc1wiIHNlY3Rpb25zIGFib3ZlLlxuICAgICAgICAgKi9cbiAgICAkaHR0cC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuXG5cbiAgICByZXR1cm4gJGh0dHA7XG5cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVNob3J0TWV0aG9kcyhuYW1lcykge1xuICAgICAgZm9yRWFjaChhcmd1bWVudHMsIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgJGh0dHBbbmFtZV0gPSBmdW5jdGlvbih1cmwsIGNvbmZpZykge1xuICAgICAgICAgIHJldHVybiAkaHR0cChleHRlbmQoe30sIGNvbmZpZyB8fCB7fSwge1xuICAgICAgICAgICAgbWV0aG9kOiBuYW1lLFxuICAgICAgICAgICAgdXJsOiB1cmxcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVNob3J0TWV0aG9kc1dpdGhEYXRhKG5hbWUpIHtcbiAgICAgIGZvckVhY2goYXJndW1lbnRzLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICRodHRwW25hbWVdID0gZnVuY3Rpb24odXJsLCBkYXRhLCBjb25maWcpIHtcbiAgICAgICAgICByZXR1cm4gJGh0dHAoZXh0ZW5kKHt9LCBjb25maWcgfHwge30sIHtcbiAgICAgICAgICAgIG1ldGhvZDogbmFtZSxcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogTWFrZXMgdGhlIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiAhISEgQUNDRVNTRVMgQ0xPU1VSRSBWQVJTOlxuICAgICAqICRodHRwQmFja2VuZCwgZGVmYXVsdHMsICRsb2csICRyb290U2NvcGUsIGRlZmF1bHRDYWNoZSwgJGh0dHAucGVuZGluZ1JlcXVlc3RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2VuZFJlcShjb25maWcsIHJlcURhdGEpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCksXG4gICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2UsXG4gICAgICAgICAgY2FjaGUsXG4gICAgICAgICAgY2FjaGVkUmVzcCxcbiAgICAgICAgICByZXFIZWFkZXJzID0gY29uZmlnLmhlYWRlcnMsXG4gICAgICAgICAgdXJsID0gYnVpbGRVcmwoY29uZmlnLnVybCwgY29uZmlnLnBhcmFtU2VyaWFsaXplcihjb25maWcucGFyYW1zKSk7XG5cbiAgICAgICRodHRwLnBlbmRpbmdSZXF1ZXN0cy5wdXNoKGNvbmZpZyk7XG4gICAgICBwcm9taXNlLnRoZW4ocmVtb3ZlUGVuZGluZ1JlcSwgcmVtb3ZlUGVuZGluZ1JlcSk7XG5cblxuICAgICAgaWYgKChjb25maWcuY2FjaGUgfHwgZGVmYXVsdHMuY2FjaGUpICYmIGNvbmZpZy5jYWNoZSAhPT0gZmFsc2UgJiZcbiAgICAgICAgICAoY29uZmlnLm1ldGhvZCA9PT0gJ0dFVCcgfHwgY29uZmlnLm1ldGhvZCA9PT0gJ0pTT05QJykpIHtcbiAgICAgICAgY2FjaGUgPSBpc09iamVjdChjb25maWcuY2FjaGUpID8gY29uZmlnLmNhY2hlXG4gICAgICAgICAgICAgIDogaXNPYmplY3QoZGVmYXVsdHMuY2FjaGUpID8gZGVmYXVsdHMuY2FjaGVcbiAgICAgICAgICAgICAgOiBkZWZhdWx0Q2FjaGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjYWNoZSkge1xuICAgICAgICBjYWNoZWRSZXNwID0gY2FjaGUuZ2V0KHVybCk7XG4gICAgICAgIGlmIChpc0RlZmluZWQoY2FjaGVkUmVzcCkpIHtcbiAgICAgICAgICBpZiAoaXNQcm9taXNlTGlrZShjYWNoZWRSZXNwKSkge1xuICAgICAgICAgICAgLy8gY2FjaGVkIHJlcXVlc3QgaGFzIGFscmVhZHkgYmVlbiBzZW50LCBidXQgdGhlcmUgaXMgbm8gcmVzcG9uc2UgeWV0XG4gICAgICAgICAgICBjYWNoZWRSZXNwLnRoZW4ocmVzb2x2ZVByb21pc2VXaXRoUmVzdWx0LCByZXNvbHZlUHJvbWlzZVdpdGhSZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzZXJ2aW5nIGZyb20gY2FjaGVcbiAgICAgICAgICAgIGlmIChpc0FycmF5KGNhY2hlZFJlc3ApKSB7XG4gICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKGNhY2hlZFJlc3BbMV0sIGNhY2hlZFJlc3BbMF0sIHNoYWxsb3dDb3B5KGNhY2hlZFJlc3BbMl0pLCBjYWNoZWRSZXNwWzNdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKGNhY2hlZFJlc3AsIDIwMCwge30sICdPSycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBwdXQgdGhlIHByb21pc2UgZm9yIHRoZSBub24tdHJhbnNmb3JtZWQgcmVzcG9uc2UgaW50byBjYWNoZSBhcyBhIHBsYWNlaG9sZGVyXG4gICAgICAgICAgY2FjaGUucHV0KHVybCwgcHJvbWlzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuXG4gICAgICAvLyBpZiB3ZSB3b24ndCBoYXZlIHRoZSByZXNwb25zZSBpbiBjYWNoZSwgc2V0IHRoZSB4c3JmIGhlYWRlcnMgYW5kXG4gICAgICAvLyBzZW5kIHRoZSByZXF1ZXN0IHRvIHRoZSBiYWNrZW5kXG4gICAgICBpZiAoaXNVbmRlZmluZWQoY2FjaGVkUmVzcCkpIHtcbiAgICAgICAgdmFyIHhzcmZWYWx1ZSA9IHVybElzU2FtZU9yaWdpbihjb25maWcudXJsKVxuICAgICAgICAgICAgPyAkJGNvb2tpZVJlYWRlcigpW2NvbmZpZy54c3JmQ29va2llTmFtZSB8fCBkZWZhdWx0cy54c3JmQ29va2llTmFtZV1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAoeHNyZlZhbHVlKSB7XG4gICAgICAgICAgcmVxSGVhZGVyc1soY29uZmlnLnhzcmZIZWFkZXJOYW1lIHx8IGRlZmF1bHRzLnhzcmZIZWFkZXJOYW1lKV0gPSB4c3JmVmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAkaHR0cEJhY2tlbmQoY29uZmlnLm1ldGhvZCwgdXJsLCByZXFEYXRhLCBkb25lLCByZXFIZWFkZXJzLCBjb25maWcudGltZW91dCxcbiAgICAgICAgICAgIGNvbmZpZy53aXRoQ3JlZGVudGlhbHMsIGNvbmZpZy5yZXNwb25zZVR5cGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcblxuXG4gICAgICAvKipcbiAgICAgICAqIENhbGxiYWNrIHJlZ2lzdGVyZWQgdG8gJGh0dHBCYWNrZW5kKCk6XG4gICAgICAgKiAgLSBjYWNoZXMgdGhlIHJlc3BvbnNlIGlmIGRlc2lyZWRcbiAgICAgICAqICAtIHJlc29sdmVzIHRoZSByYXcgJGh0dHAgcHJvbWlzZVxuICAgICAgICogIC0gY2FsbHMgJGFwcGx5XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGRvbmUoc3RhdHVzLCByZXNwb25zZSwgaGVhZGVyc1N0cmluZywgc3RhdHVzVGV4dCkge1xuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICBpZiAoaXNTdWNjZXNzKHN0YXR1cykpIHtcbiAgICAgICAgICAgIGNhY2hlLnB1dCh1cmwsIFtzdGF0dXMsIHJlc3BvbnNlLCBwYXJzZUhlYWRlcnMoaGVhZGVyc1N0cmluZyksIHN0YXR1c1RleHRdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHByb21pc2UgZnJvbSB0aGUgY2FjaGVcbiAgICAgICAgICAgIGNhY2hlLnJlbW92ZSh1cmwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVIdHRwUHJvbWlzZSgpIHtcbiAgICAgICAgICByZXNvbHZlUHJvbWlzZShyZXNwb25zZSwgc3RhdHVzLCBoZWFkZXJzU3RyaW5nLCBzdGF0dXNUZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1c2VBcHBseUFzeW5jKSB7XG4gICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHlBc3luYyhyZXNvbHZlSHR0cFByb21pc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmVIdHRwUHJvbWlzZSgpO1xuICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSAkcm9vdFNjb3BlLiRhcHBseSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cblxuICAgICAgLyoqXG4gICAgICAgKiBSZXNvbHZlcyB0aGUgcmF3ICRodHRwIHByb21pc2UuXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHJlc3BvbnNlLCBzdGF0dXMsIGhlYWRlcnMsIHN0YXR1c1RleHQpIHtcbiAgICAgICAgLy8gbm9ybWFsaXplIGludGVybmFsIHN0YXR1c2VzIHRvIDBcbiAgICAgICAgc3RhdHVzID0gTWF0aC5tYXgoc3RhdHVzLCAwKTtcblxuICAgICAgICAoaXNTdWNjZXNzKHN0YXR1cykgPyBkZWZlcnJlZC5yZXNvbHZlIDogZGVmZXJyZWQucmVqZWN0KSh7XG4gICAgICAgICAgZGF0YTogcmVzcG9uc2UsXG4gICAgICAgICAgc3RhdHVzOiBzdGF0dXMsXG4gICAgICAgICAgaGVhZGVyczogaGVhZGVyc0dldHRlcihoZWFkZXJzKSxcbiAgICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgICAgICBzdGF0dXNUZXh0OiBzdGF0dXNUZXh0XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZXNvbHZlUHJvbWlzZVdpdGhSZXN1bHQocmVzdWx0KSB7XG4gICAgICAgIHJlc29sdmVQcm9taXNlKHJlc3VsdC5kYXRhLCByZXN1bHQuc3RhdHVzLCBzaGFsbG93Q29weShyZXN1bHQuaGVhZGVycygpKSwgcmVzdWx0LnN0YXR1c1RleHQpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiByZW1vdmVQZW5kaW5nUmVxKCkge1xuICAgICAgICB2YXIgaWR4ID0gJGh0dHAucGVuZGluZ1JlcXVlc3RzLmluZGV4T2YoY29uZmlnKTtcbiAgICAgICAgaWYgKGlkeCAhPT0gLTEpICRodHRwLnBlbmRpbmdSZXF1ZXN0cy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGJ1aWxkVXJsKHVybCwgc2VyaWFsaXplZFBhcmFtcykge1xuICAgICAgaWYgKHNlcmlhbGl6ZWRQYXJhbXMubGVuZ3RoID4gMCkge1xuICAgICAgICB1cmwgKz0gKCh1cmwuaW5kZXhPZignPycpID09IC0xKSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG4gIH1dO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVYaHIoKSB7XG4gICAgcmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGh0dHBCYWNrZW5kXG4gKiBAcmVxdWlyZXMgJHdpbmRvd1xuICogQHJlcXVpcmVzICRkb2N1bWVudFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSFRUUCBiYWNrZW5kIHVzZWQgYnkgdGhlIHtAbGluayBuZy4kaHR0cCBzZXJ2aWNlfSB0aGF0IGRlbGVnYXRlcyB0b1xuICogWE1MSHR0cFJlcXVlc3Qgb2JqZWN0IG9yIEpTT05QIGFuZCBkZWFscyB3aXRoIGJyb3dzZXIgaW5jb21wYXRpYmlsaXRpZXMuXG4gKlxuICogWW91IHNob3VsZCBuZXZlciBuZWVkIHRvIHVzZSB0aGlzIHNlcnZpY2UgZGlyZWN0bHksIGluc3RlYWQgdXNlIHRoZSBoaWdoZXItbGV2ZWwgYWJzdHJhY3Rpb25zOlxuICoge0BsaW5rIG5nLiRodHRwICRodHRwfSBvciB7QGxpbmsgbmdSZXNvdXJjZS4kcmVzb3VyY2UgJHJlc291cmNlfS5cbiAqXG4gKiBEdXJpbmcgdGVzdGluZyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIHN3YXBwZWQgd2l0aCB7QGxpbmsgbmdNb2NrLiRodHRwQmFja2VuZCBtb2NrXG4gKiAkaHR0cEJhY2tlbmR9IHdoaWNoIGNhbiBiZSB0cmFpbmVkIHdpdGggcmVzcG9uc2VzLlxuICovXG5mdW5jdGlvbiAkSHR0cEJhY2tlbmRQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckYnJvd3NlcicsICckd2luZG93JywgJyRkb2N1bWVudCcsIGZ1bmN0aW9uKCRicm93c2VyLCAkd2luZG93LCAkZG9jdW1lbnQpIHtcbiAgICByZXR1cm4gY3JlYXRlSHR0cEJhY2tlbmQoJGJyb3dzZXIsIGNyZWF0ZVhociwgJGJyb3dzZXIuZGVmZXIsICR3aW5kb3cuYW5ndWxhci5jYWxsYmFja3MsICRkb2N1bWVudFswXSk7XG4gIH1dO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVIdHRwQmFja2VuZCgkYnJvd3NlciwgY3JlYXRlWGhyLCAkYnJvd3NlckRlZmVyLCBjYWxsYmFja3MsIHJhd0RvY3VtZW50KSB7XG4gIC8vIFRPRE8odm9qdGEpOiBmaXggdGhlIHNpZ25hdHVyZVxuICByZXR1cm4gZnVuY3Rpb24obWV0aG9kLCB1cmwsIHBvc3QsIGNhbGxiYWNrLCBoZWFkZXJzLCB0aW1lb3V0LCB3aXRoQ3JlZGVudGlhbHMsIHJlc3BvbnNlVHlwZSkge1xuICAgICRicm93c2VyLiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQoKTtcbiAgICB1cmwgPSB1cmwgfHwgJGJyb3dzZXIudXJsKCk7XG5cbiAgICBpZiAobG93ZXJjYXNlKG1ldGhvZCkgPT0gJ2pzb25wJykge1xuICAgICAgdmFyIGNhbGxiYWNrSWQgPSAnXycgKyAoY2FsbGJhY2tzLmNvdW50ZXIrKykudG9TdHJpbmcoMzYpO1xuICAgICAgY2FsbGJhY2tzW2NhbGxiYWNrSWRdID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBjYWxsYmFja3NbY2FsbGJhY2tJZF0uZGF0YSA9IGRhdGE7XG4gICAgICAgIGNhbGxiYWNrc1tjYWxsYmFja0lkXS5jYWxsZWQgPSB0cnVlO1xuICAgICAgfTtcblxuICAgICAgdmFyIGpzb25wRG9uZSA9IGpzb25wUmVxKHVybC5yZXBsYWNlKCdKU09OX0NBTExCQUNLJywgJ2FuZ3VsYXIuY2FsbGJhY2tzLicgKyBjYWxsYmFja0lkKSxcbiAgICAgICAgICBjYWxsYmFja0lkLCBmdW5jdGlvbihzdGF0dXMsIHRleHQpIHtcbiAgICAgICAgY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLCBzdGF0dXMsIGNhbGxiYWNrc1tjYWxsYmFja0lkXS5kYXRhLCBcIlwiLCB0ZXh0KTtcbiAgICAgICAgY2FsbGJhY2tzW2NhbGxiYWNrSWRdID0gbm9vcDtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIHZhciB4aHIgPSBjcmVhdGVYaHIoKTtcblxuICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuICAgICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiByZXF1ZXN0TG9hZGVkKCkge1xuICAgICAgICB2YXIgc3RhdHVzVGV4dCA9IHhoci5zdGF0dXNUZXh0IHx8ICcnO1xuXG4gICAgICAgIC8vIHJlc3BvbnNlVGV4dCBpcyB0aGUgb2xkLXNjaG9vbCB3YXkgb2YgcmV0cmlldmluZyByZXNwb25zZSAoc3VwcG9ydGVkIGJ5IElFOCAmIDkpXG4gICAgICAgIC8vIHJlc3BvbnNlL3Jlc3BvbnNlVHlwZSBwcm9wZXJ0aWVzIHdlcmUgaW50cm9kdWNlZCBpbiBYSFIgTGV2ZWwyIHNwZWMgKHN1cHBvcnRlZCBieSBJRTEwKVxuICAgICAgICB2YXIgcmVzcG9uc2UgPSAoJ3Jlc3BvbnNlJyBpbiB4aHIpID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dDtcblxuICAgICAgICAvLyBub3JtYWxpemUgSUU5IGJ1ZyAoaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTQ1MClcbiAgICAgICAgdmFyIHN0YXR1cyA9IHhoci5zdGF0dXMgPT09IDEyMjMgPyAyMDQgOiB4aHIuc3RhdHVzO1xuXG4gICAgICAgIC8vIGZpeCBzdGF0dXMgY29kZSB3aGVuIGl0IGlzIDAgKDAgc3RhdHVzIGlzIHVuZG9jdW1lbnRlZCkuXG4gICAgICAgIC8vIE9jY3VycyB3aGVuIGFjY2Vzc2luZyBmaWxlIHJlc291cmNlcyBvciBvbiBBbmRyb2lkIDQuMSBzdG9jayBicm93c2VyXG4gICAgICAgIC8vIHdoaWxlIHJldHJpZXZpbmcgZmlsZXMgZnJvbSBhcHBsaWNhdGlvbiBjYWNoZS5cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gMCkge1xuICAgICAgICAgIHN0YXR1cyA9IHJlc3BvbnNlID8gMjAwIDogdXJsUmVzb2x2ZSh1cmwpLnByb3RvY29sID09ICdmaWxlJyA/IDQwNCA6IDA7XG4gICAgICAgIH1cblxuICAgICAgICBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssXG4gICAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSxcbiAgICAgICAgICAgIHN0YXR1c1RleHQpO1xuICAgICAgfTtcblxuICAgICAgdmFyIHJlcXVlc3RFcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBUaGUgcmVzcG9uc2UgaXMgYWx3YXlzIGVtcHR5XG4gICAgICAgIC8vIFNlZSBodHRwczovL3hoci5zcGVjLndoYXR3Zy5vcmcvI3JlcXVlc3QtZXJyb3Itc3RlcHMgYW5kIGh0dHBzOi8vZmV0Y2guc3BlYy53aGF0d2cub3JnLyNjb25jZXB0LW5ldHdvcmstZXJyb3JcbiAgICAgICAgY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLCAtMSwgbnVsbCwgbnVsbCwgJycpO1xuICAgICAgfTtcblxuICAgICAgeGhyLm9uZXJyb3IgPSByZXF1ZXN0RXJyb3I7XG4gICAgICB4aHIub25hYm9ydCA9IHJlcXVlc3RFcnJvcjtcblxuICAgICAgaWYgKHdpdGhDcmVkZW50aWFscykge1xuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc3BvbnNlVHlwZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGU7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBXZWJLaXQgYWRkZWQgc3VwcG9ydCBmb3IgdGhlIGpzb24gcmVzcG9uc2VUeXBlIHZhbHVlIG9uIDA5LzAzLzIwMTNcbiAgICAgICAgICAvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NzM2NDguIFZlcnNpb25zIG9mIFNhZmFyaSBwcmlvciB0byA3IGFyZVxuICAgICAgICAgIC8vIGtub3duIHRvIHRocm93IHdoZW4gc2V0dGluZyB0aGUgdmFsdWUgXCJqc29uXCIgYXMgdGhlIHJlc3BvbnNlIHR5cGUuIE90aGVyIG9sZGVyXG4gICAgICAgICAgLy8gYnJvd3NlcnMgaW1wbGVtZW50aW5nIHRoZSByZXNwb25zZVR5cGVcbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vIFRoZSBqc29uIHJlc3BvbnNlIHR5cGUgY2FuIGJlIGlnbm9yZWQgaWYgbm90IHN1cHBvcnRlZCwgYmVjYXVzZSBKU09OIHBheWxvYWRzIGFyZVxuICAgICAgICAgIC8vIHBhcnNlZCBvbiB0aGUgY2xpZW50LXNpZGUgcmVnYXJkbGVzcy5cbiAgICAgICAgICBpZiAocmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHhoci5zZW5kKHBvc3QpO1xuICAgIH1cblxuICAgIGlmICh0aW1lb3V0ID4gMCkge1xuICAgICAgdmFyIHRpbWVvdXRJZCA9ICRicm93c2VyRGVmZXIodGltZW91dFJlcXVlc3QsIHRpbWVvdXQpO1xuICAgIH0gZWxzZSBpZiAoaXNQcm9taXNlTGlrZSh0aW1lb3V0KSkge1xuICAgICAgdGltZW91dC50aGVuKHRpbWVvdXRSZXF1ZXN0KTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIHRpbWVvdXRSZXF1ZXN0KCkge1xuICAgICAganNvbnBEb25lICYmIGpzb25wRG9uZSgpO1xuICAgICAgeGhyICYmIHhoci5hYm9ydCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbXBsZXRlUmVxdWVzdChjYWxsYmFjaywgc3RhdHVzLCByZXNwb25zZSwgaGVhZGVyc1N0cmluZywgc3RhdHVzVGV4dCkge1xuICAgICAgLy8gY2FuY2VsIHRpbWVvdXQgYW5kIHN1YnNlcXVlbnQgdGltZW91dCBwcm9taXNlIHJlc29sdXRpb25cbiAgICAgIGlmICh0aW1lb3V0SWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAkYnJvd3NlckRlZmVyLmNhbmNlbCh0aW1lb3V0SWQpO1xuICAgICAgfVxuICAgICAganNvbnBEb25lID0geGhyID0gbnVsbDtcblxuICAgICAgY2FsbGJhY2soc3RhdHVzLCByZXNwb25zZSwgaGVhZGVyc1N0cmluZywgc3RhdHVzVGV4dCk7XG4gICAgICAkYnJvd3Nlci4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KG5vb3ApO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBqc29ucFJlcSh1cmwsIGNhbGxiYWNrSWQsIGRvbmUpIHtcbiAgICAvLyB3ZSBjYW4ndCB1c2UgalF1ZXJ5L2pxTGl0ZSBoZXJlIGJlY2F1c2UgalF1ZXJ5IGRvZXMgY3Jhenkgc3R1ZmYgd2l0aCBzY3JpcHQgZWxlbWVudHMsIGUuZy46XG4gICAgLy8gLSBmZXRjaGVzIGxvY2FsIHNjcmlwdHMgdmlhIFhIUiBhbmQgZXZhbHMgdGhlbVxuICAgIC8vIC0gYWRkcyBhbmQgaW1tZWRpYXRlbHkgcmVtb3ZlcyBzY3JpcHQgZWxlbWVudHMgZnJvbSB0aGUgZG9jdW1lbnRcbiAgICB2YXIgc2NyaXB0ID0gcmF3RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JyksIGNhbGxiYWNrID0gbnVsbDtcbiAgICBzY3JpcHQudHlwZSA9IFwidGV4dC9qYXZhc2NyaXB0XCI7XG4gICAgc2NyaXB0LnNyYyA9IHVybDtcbiAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xuXG4gICAgY2FsbGJhY2sgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lckZuKHNjcmlwdCwgXCJsb2FkXCIsIGNhbGxiYWNrKTtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJGbihzY3JpcHQsIFwiZXJyb3JcIiwgY2FsbGJhY2spO1xuICAgICAgcmF3RG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgc2NyaXB0ID0gbnVsbDtcbiAgICAgIHZhciBzdGF0dXMgPSAtMTtcbiAgICAgIHZhciB0ZXh0ID0gXCJ1bmtub3duXCI7XG5cbiAgICAgIGlmIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gXCJsb2FkXCIgJiYgIWNhbGxiYWNrc1tjYWxsYmFja0lkXS5jYWxsZWQpIHtcbiAgICAgICAgICBldmVudCA9IHsgdHlwZTogXCJlcnJvclwiIH07XG4gICAgICAgIH1cbiAgICAgICAgdGV4dCA9IGV2ZW50LnR5cGU7XG4gICAgICAgIHN0YXR1cyA9IGV2ZW50LnR5cGUgPT09IFwiZXJyb3JcIiA/IDQwNCA6IDIwMDtcbiAgICAgIH1cblxuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgZG9uZShzdGF0dXMsIHRleHQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBhZGRFdmVudExpc3RlbmVyRm4oc2NyaXB0LCBcImxvYWRcIiwgY2FsbGJhY2spO1xuICAgIGFkZEV2ZW50TGlzdGVuZXJGbihzY3JpcHQsIFwiZXJyb3JcIiwgY2FsbGJhY2spO1xuICAgIHJhd0RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICByZXR1cm4gY2FsbGJhY2s7XG4gIH1cbn1cblxudmFyICRpbnRlcnBvbGF0ZU1pbkVyciA9IGFuZ3VsYXIuJGludGVycG9sYXRlTWluRXJyID0gbWluRXJyKCckaW50ZXJwb2xhdGUnKTtcbiRpbnRlcnBvbGF0ZU1pbkVyci50aHJvd05vY29uY2F0ID0gZnVuY3Rpb24odGV4dCkge1xuICB0aHJvdyAkaW50ZXJwb2xhdGVNaW5FcnIoJ25vY29uY2F0JyxcbiAgICAgIFwiRXJyb3Igd2hpbGUgaW50ZXJwb2xhdGluZzogezB9XFxuU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgZGlzYWxsb3dzIFwiICtcbiAgICAgIFwiaW50ZXJwb2xhdGlvbnMgdGhhdCBjb25jYXRlbmF0ZSBtdWx0aXBsZSBleHByZXNzaW9ucyB3aGVuIGEgdHJ1c3RlZCB2YWx1ZSBpcyBcIiArXG4gICAgICBcInJlcXVpcmVkLiAgU2VlIGh0dHA6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nLiRzY2VcIiwgdGV4dCk7XG59O1xuXG4kaW50ZXJwb2xhdGVNaW5FcnIuaW50ZXJyID0gZnVuY3Rpb24odGV4dCwgZXJyKSB7XG4gIHJldHVybiAkaW50ZXJwb2xhdGVNaW5FcnIoJ2ludGVycicsIFwiQ2FuJ3QgaW50ZXJwb2xhdGU6IHswfVxcbnsxfVwiLCB0ZXh0LCBlcnIudG9TdHJpbmcoKSk7XG59O1xuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJGludGVycG9sYXRlUHJvdmlkZXJcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBVc2VkIGZvciBjb25maWd1cmluZyB0aGUgaW50ZXJwb2xhdGlvbiBtYXJrdXAuIERlZmF1bHRzIHRvIGB7e2AgYW5kIGB9fWAuXG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cImN1c3RvbUludGVycG9sYXRpb25BcHBcIj5cbjxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG48c2NyaXB0PlxuICB2YXIgY3VzdG9tSW50ZXJwb2xhdGlvbkFwcCA9IGFuZ3VsYXIubW9kdWxlKCdjdXN0b21JbnRlcnBvbGF0aW9uQXBwJywgW10pO1xuXG4gIGN1c3RvbUludGVycG9sYXRpb25BcHAuY29uZmlnKGZ1bmN0aW9uKCRpbnRlcnBvbGF0ZVByb3ZpZGVyKSB7XG4gICAgJGludGVycG9sYXRlUHJvdmlkZXIuc3RhcnRTeW1ib2woJy8vJyk7XG4gICAgJGludGVycG9sYXRlUHJvdmlkZXIuZW5kU3ltYm9sKCcvLycpO1xuICB9KTtcblxuXG4gIGN1c3RvbUludGVycG9sYXRpb25BcHAuY29udHJvbGxlcignRGVtb0NvbnRyb2xsZXInLCBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMubGFiZWwgPSBcIlRoaXMgYmluZGluZyBpcyBicm91Z2h0IHlvdSBieSAvLyBpbnRlcnBvbGF0aW9uIHN5bWJvbHMuXCI7XG4gIH0pO1xuPC9zY3JpcHQ+XG48ZGl2IG5nLWFwcD1cIkFwcFwiIG5nLWNvbnRyb2xsZXI9XCJEZW1vQ29udHJvbGxlciBhcyBkZW1vXCI+XG4gICAgLy9kZW1vLmxhYmVsLy9cbjwvZGl2PlxuPC9maWxlPlxuPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICBpdCgnc2hvdWxkIGludGVycG9sYXRlIGJpbmRpbmcgd2l0aCBjdXN0b20gc3ltYm9scycsIGZ1bmN0aW9uKCkge1xuICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2RlbW8ubGFiZWwnKSkuZ2V0VGV4dCgpKS50b0JlKCdUaGlzIGJpbmRpbmcgaXMgYnJvdWdodCB5b3UgYnkgLy8gaW50ZXJwb2xhdGlvbiBzeW1ib2xzLicpO1xuICB9KTtcbjwvZmlsZT5cbjwvZXhhbXBsZT5cbiAqL1xuZnVuY3Rpb24gJEludGVycG9sYXRlUHJvdmlkZXIoKSB7XG4gIHZhciBzdGFydFN5bWJvbCA9ICd7eyc7XG4gIHZhciBlbmRTeW1ib2wgPSAnfX0nO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRpbnRlcnBvbGF0ZVByb3ZpZGVyI3N0YXJ0U3ltYm9sXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTeW1ib2wgdG8gZGVub3RlIHN0YXJ0IG9mIGV4cHJlc3Npb24gaW4gdGhlIGludGVycG9sYXRlZCBzdHJpbmcuIERlZmF1bHRzIHRvIGB7e2AuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gdmFsdWUgbmV3IHZhbHVlIHRvIHNldCB0aGUgc3RhcnRpbmcgc3ltYm9sIHRvLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfHNlbGZ9IFJldHVybnMgdGhlIHN5bWJvbCB3aGVuIHVzZWQgYXMgZ2V0dGVyIGFuZCBzZWxmIGlmIHVzZWQgYXMgc2V0dGVyLlxuICAgKi9cbiAgdGhpcy5zdGFydFN5bWJvbCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBzdGFydFN5bWJvbCA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdGFydFN5bWJvbDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGludGVycG9sYXRlUHJvdmlkZXIjZW5kU3ltYm9sXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTeW1ib2wgdG8gZGVub3RlIHRoZSBlbmQgb2YgZXhwcmVzc2lvbiBpbiB0aGUgaW50ZXJwb2xhdGVkIHN0cmluZy4gRGVmYXVsdHMgdG8gYH19YC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmc9fSB2YWx1ZSBuZXcgdmFsdWUgdG8gc2V0IHRoZSBlbmRpbmcgc3ltYm9sIHRvLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfHNlbGZ9IFJldHVybnMgdGhlIHN5bWJvbCB3aGVuIHVzZWQgYXMgZ2V0dGVyIGFuZCBzZWxmIGlmIHVzZWQgYXMgc2V0dGVyLlxuICAgKi9cbiAgdGhpcy5lbmRTeW1ib2wgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgZW5kU3ltYm9sID0gdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVuZFN5bWJvbDtcbiAgICB9XG4gIH07XG5cblxuICB0aGlzLiRnZXQgPSBbJyRwYXJzZScsICckZXhjZXB0aW9uSGFuZGxlcicsICckc2NlJywgZnVuY3Rpb24oJHBhcnNlLCAkZXhjZXB0aW9uSGFuZGxlciwgJHNjZSkge1xuICAgIHZhciBzdGFydFN5bWJvbExlbmd0aCA9IHN0YXJ0U3ltYm9sLmxlbmd0aCxcbiAgICAgICAgZW5kU3ltYm9sTGVuZ3RoID0gZW5kU3ltYm9sLmxlbmd0aCxcbiAgICAgICAgZXNjYXBlZFN0YXJ0UmVnZXhwID0gbmV3IFJlZ0V4cChzdGFydFN5bWJvbC5yZXBsYWNlKC8uL2csIGVzY2FwZSksICdnJyksXG4gICAgICAgIGVzY2FwZWRFbmRSZWdleHAgPSBuZXcgUmVnRXhwKGVuZFN5bWJvbC5yZXBsYWNlKC8uL2csIGVzY2FwZSksICdnJyk7XG5cbiAgICBmdW5jdGlvbiBlc2NhcGUoY2gpIHtcbiAgICAgIHJldHVybiAnXFxcXFxcXFxcXFxcJyArIGNoO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVuZXNjYXBlVGV4dCh0ZXh0KSB7XG4gICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKGVzY2FwZWRTdGFydFJlZ2V4cCwgc3RhcnRTeW1ib2wpLlxuICAgICAgICByZXBsYWNlKGVzY2FwZWRFbmRSZWdleHAsIGVuZFN5bWJvbCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RyaW5naWZ5KHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkgeyAvLyBudWxsIHx8IHVuZGVmaW5lZFxuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgIHZhbHVlID0gJycgKyB2YWx1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB2YWx1ZSA9IHRvSnNvbih2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAqIEBuYW1lICRpbnRlcnBvbGF0ZVxuICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBAcmVxdWlyZXMgJHBhcnNlXG4gICAgICogQHJlcXVpcmVzICRzY2VcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqXG4gICAgICogQ29tcGlsZXMgYSBzdHJpbmcgd2l0aCBtYXJrdXAgaW50byBhbiBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uLiBUaGlzIHNlcnZpY2UgaXMgdXNlZCBieSB0aGVcbiAgICAgKiBIVE1MIHtAbGluayBuZy4kY29tcGlsZSAkY29tcGlsZX0gc2VydmljZSBmb3IgZGF0YSBiaW5kaW5nLiBTZWVcbiAgICAgKiB7QGxpbmsgbmcuJGludGVycG9sYXRlUHJvdmlkZXIgJGludGVycG9sYXRlUHJvdmlkZXJ9IGZvciBjb25maWd1cmluZyB0aGVcbiAgICAgKiBpbnRlcnBvbGF0aW9uIG1hcmt1cC5cbiAgICAgKlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIHZhciAkaW50ZXJwb2xhdGUgPSAuLi47IC8vIGluamVjdGVkXG4gICAgICogICB2YXIgZXhwID0gJGludGVycG9sYXRlKCdIZWxsbyB7e25hbWUgfCB1cHBlcmNhc2V9fSEnKTtcbiAgICAgKiAgIGV4cGVjdChleHAoe25hbWU6J0FuZ3VsYXInfSkudG9FcXVhbCgnSGVsbG8gQU5HVUxBUiEnKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIGAkaW50ZXJwb2xhdGVgIHRha2VzIGFuIG9wdGlvbmFsIGZvdXJ0aCBhcmd1bWVudCwgYGFsbE9yTm90aGluZ2AuIElmIGBhbGxPck5vdGhpbmdgIGlzXG4gICAgICogYHRydWVgLCB0aGUgaW50ZXJwb2xhdGlvbiBmdW5jdGlvbiB3aWxsIHJldHVybiBgdW5kZWZpbmVkYCB1bmxlc3MgYWxsIGVtYmVkZGVkIGV4cHJlc3Npb25zXG4gICAgICogZXZhbHVhdGUgdG8gYSB2YWx1ZSBvdGhlciB0aGFuIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIHZhciAkaW50ZXJwb2xhdGUgPSAuLi47IC8vIGluamVjdGVkXG4gICAgICogICB2YXIgY29udGV4dCA9IHtncmVldGluZzogJ0hlbGxvJywgbmFtZTogdW5kZWZpbmVkIH07XG4gICAgICpcbiAgICAgKiAgIC8vIGRlZmF1bHQgXCJmb3JnaXZpbmdcIiBtb2RlXG4gICAgICogICB2YXIgZXhwID0gJGludGVycG9sYXRlKCd7e2dyZWV0aW5nfX0ge3tuYW1lfX0hJyk7XG4gICAgICogICBleHBlY3QoZXhwKGNvbnRleHQpKS50b0VxdWFsKCdIZWxsbyAhJyk7XG4gICAgICpcbiAgICAgKiAgIC8vIFwiYWxsT3JOb3RoaW5nXCIgbW9kZVxuICAgICAqICAgZXhwID0gJGludGVycG9sYXRlKCd7e2dyZWV0aW5nfX0ge3tuYW1lfX0hJywgZmFsc2UsIG51bGwsIHRydWUpO1xuICAgICAqICAgZXhwZWN0KGV4cChjb250ZXh0KSkudG9CZVVuZGVmaW5lZCgpO1xuICAgICAqICAgY29udGV4dC5uYW1lID0gJ0FuZ3VsYXInO1xuICAgICAqICAgZXhwZWN0KGV4cChjb250ZXh0KSkudG9FcXVhbCgnSGVsbG8gQW5ndWxhciEnKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIGBhbGxPck5vdGhpbmdgIGlzIHVzZWZ1bCBmb3IgaW50ZXJwb2xhdGluZyBVUkxzLiBgbmdTcmNgIGFuZCBgbmdTcmNzZXRgIHVzZSB0aGlzIGJlaGF2aW9yLlxuICAgICAqXG4gICAgICogIyMjI0VzY2FwZWQgSW50ZXJwb2xhdGlvblxuICAgICAqICRpbnRlcnBvbGF0ZSBwcm92aWRlcyBhIG1lY2hhbmlzbSBmb3IgZXNjYXBpbmcgaW50ZXJwb2xhdGlvbiBtYXJrZXJzLiBTdGFydCBhbmQgZW5kIG1hcmtlcnNcbiAgICAgKiBjYW4gYmUgZXNjYXBlZCBieSBwcmVjZWRpbmcgZWFjaCBvZiB0aGVpciBjaGFyYWN0ZXJzIHdpdGggYSBSRVZFUlNFIFNPTElEVVMgVSswMDVDIChiYWNrc2xhc2gpLlxuICAgICAqIEl0IHdpbGwgYmUgcmVuZGVyZWQgYXMgYSByZWd1bGFyIHN0YXJ0L2VuZCBtYXJrZXIsIGFuZCB3aWxsIG5vdCBiZSBpbnRlcnByZXRlZCBhcyBhbiBleHByZXNzaW9uXG4gICAgICogb3IgYmluZGluZy5cbiAgICAgKlxuICAgICAqIFRoaXMgZW5hYmxlcyB3ZWItc2VydmVycyB0byBwcmV2ZW50IHNjcmlwdCBpbmplY3Rpb24gYXR0YWNrcyBhbmQgZGVmYWNpbmcgYXR0YWNrcywgdG8gc29tZVxuICAgICAqIGRlZ3JlZSwgd2hpbGUgYWxzbyBlbmFibGluZyBjb2RlIGV4YW1wbGVzIHRvIHdvcmsgd2l0aG91dCByZWx5aW5nIG9uIHRoZVxuICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdOb25CaW5kYWJsZSBuZ05vbkJpbmRhYmxlfSBkaXJlY3RpdmUuXG4gICAgICpcbiAgICAgKiAqKkZvciBzZWN1cml0eSBwdXJwb3NlcywgaXQgaXMgc3Ryb25nbHkgZW5jb3VyYWdlZCB0aGF0IHdlYiBzZXJ2ZXJzIGVzY2FwZSB1c2VyLXN1cHBsaWVkIGRhdGEsXG4gICAgICogcmVwbGFjaW5nIGFuZ2xlIGJyYWNrZXRzICgmbHQ7LCAmZ3Q7KSB3aXRoICZhbXA7bHQ7IGFuZCAmYW1wO2d0OyByZXNwZWN0aXZlbHksIGFuZCByZXBsYWNpbmcgYWxsXG4gICAgICogaW50ZXJwb2xhdGlvbiBzdGFydC9lbmQgbWFya2VycyB3aXRoIHRoZWlyIGVzY2FwZWQgY291bnRlcnBhcnRzLioqXG4gICAgICpcbiAgICAgKiBFc2NhcGVkIGludGVycG9sYXRpb24gbWFya2VycyBhcmUgb25seSByZXBsYWNlZCB3aXRoIHRoZSBhY3R1YWwgaW50ZXJwb2xhdGlvbiBtYXJrZXJzIGluIHJlbmRlcmVkXG4gICAgICogb3V0cHV0IHdoZW4gdGhlICRpbnRlcnBvbGF0ZSBzZXJ2aWNlIHByb2Nlc3NlcyB0aGUgdGV4dC4gU28sIGZvciBIVE1MIGVsZW1lbnRzIGludGVycG9sYXRlZFxuICAgICAqIGJ5IHtAbGluayBuZy4kY29tcGlsZSAkY29tcGlsZX0sIG9yIG90aGVyd2lzZSBpbnRlcnBvbGF0ZWQgd2l0aCB0aGUgYG11c3RIYXZlRXhwcmVzc2lvbmAgcGFyYW1ldGVyXG4gICAgICogc2V0IHRvIGB0cnVlYCwgdGhlIGludGVycG9sYXRlZCB0ZXh0IG11c3QgY29udGFpbiBhbiB1bmVzY2FwZWQgaW50ZXJwb2xhdGlvbiBleHByZXNzaW9uLiBBcyBzdWNoLFxuICAgICAqIHRoaXMgaXMgdHlwaWNhbGx5IHVzZWZ1bCBvbmx5IHdoZW4gdXNlci1kYXRhIGlzIHVzZWQgaW4gcmVuZGVyaW5nIGEgdGVtcGxhdGUgZnJvbSB0aGUgc2VydmVyLCBvclxuICAgICAqIHdoZW4gb3RoZXJ3aXNlIHVudHJ1c3RlZCBkYXRhIGlzIHVzZWQgYnkgYSBkaXJlY3RpdmUuXG4gICAgICpcbiAgICAgKiA8ZXhhbXBsZT5cbiAgICAgKiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgKiAgICA8ZGl2IG5nLWluaXQ9XCJ1c2VybmFtZT0nQSB1c2VyJ1wiPlxuICAgICAqICAgICAgPHAgbmctaW5pdD1cImFwcHRpdGxlPSdFc2NhcGluZyBkZW1vJ1wiPnt7YXBwdGl0bGV9fTogXFx7XFx7IHVzZXJuYW1lID0gXCJkZWZhY2VkIHZhbHVlXCI7IFxcfVxcfVxuICAgICAqICAgICAgICA8L3A+XG4gICAgICogICAgICA8cD48c3Ryb25nPnt7dXNlcm5hbWV9fTwvc3Ryb25nPiBhdHRlbXB0cyB0byBpbmplY3QgY29kZSB3aGljaCB3aWxsIGRlZmFjZSB0aGVcbiAgICAgKiAgICAgICAgYXBwbGljYXRpb24sIGJ1dCBmYWlscyB0byBhY2NvbXBsaXNoIHRoZWlyIHRhc2ssIGJlY2F1c2UgdGhlIHNlcnZlciBoYXMgY29ycmVjdGx5XG4gICAgICogICAgICAgIGVzY2FwZWQgdGhlIGludGVycG9sYXRpb24gc3RhcnQvZW5kIG1hcmtlcnMgd2l0aCBSRVZFUlNFIFNPTElEVVMgVSswMDVDIChiYWNrc2xhc2gpXG4gICAgICogICAgICAgIGNoYXJhY3RlcnMuPC9wPlxuICAgICAqICAgICAgPHA+SW5zdGVhZCwgdGhlIHJlc3VsdCBvZiB0aGUgYXR0ZW1wdGVkIHNjcmlwdCBpbmplY3Rpb24gaXMgdmlzaWJsZSwgYW5kIGNhbiBiZSByZW1vdmVkXG4gICAgICogICAgICAgIGZyb20gdGhlIGRhdGFiYXNlIGJ5IGFuIGFkbWluaXN0cmF0b3IuPC9wPlxuICAgICAqICAgIDwvZGl2PlxuICAgICAqICA8L2ZpbGU+XG4gICAgICogPC9leGFtcGxlPlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHRleHQgd2l0aCBtYXJrdXAgdG8gaW50ZXJwb2xhdGUuXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gbXVzdEhhdmVFeHByZXNzaW9uIGlmIHNldCB0byB0cnVlIHRoZW4gdGhlIGludGVycG9sYXRpb24gc3RyaW5nIG11c3QgaGF2ZVxuICAgICAqICAgIGVtYmVkZGVkIGV4cHJlc3Npb24gaW4gb3JkZXIgdG8gcmV0dXJuIGFuIGludGVycG9sYXRpb24gZnVuY3Rpb24uIFN0cmluZ3Mgd2l0aCBub1xuICAgICAqICAgIGVtYmVkZGVkIGV4cHJlc3Npb24gd2lsbCByZXR1cm4gbnVsbCBmb3IgdGhlIGludGVycG9sYXRpb24gZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSB0cnVzdGVkQ29udGV4dCB3aGVuIHByb3ZpZGVkLCB0aGUgcmV0dXJuZWQgZnVuY3Rpb24gcGFzc2VzIHRoZSBpbnRlcnBvbGF0ZWRcbiAgICAgKiAgICByZXN1bHQgdGhyb3VnaCB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZChpbnRlcnBvbGF0ZWRSZXN1bHQsXG4gICAgICogICAgdHJ1c3RlZENvbnRleHQpfSBiZWZvcmUgcmV0dXJuaW5nIGl0LiAgUmVmZXIgdG8gdGhlIHtAbGluayBuZy4kc2NlICRzY2V9IHNlcnZpY2UgdGhhdFxuICAgICAqICAgIHByb3ZpZGVzIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIGZvciBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGFsbE9yTm90aGluZyBpZiBgdHJ1ZWAsIHRoZW4gdGhlIHJldHVybmVkIGZ1bmN0aW9uIHJldHVybnMgdW5kZWZpbmVkXG4gICAgICogICAgdW5sZXNzIGFsbCBlbWJlZGRlZCBleHByZXNzaW9ucyBldmFsdWF0ZSB0byBhIHZhbHVlIG90aGVyIHRoYW4gYHVuZGVmaW5lZGAuXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQpfSBhbiBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uIHdoaWNoIGlzIHVzZWQgdG8gY29tcHV0ZSB0aGVcbiAgICAgKiAgICBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBUaGUgZnVuY3Rpb24gaGFzIHRoZXNlIHBhcmFtZXRlcnM6XG4gICAgICpcbiAgICAgKiAtIGBjb250ZXh0YDogZXZhbHVhdGlvbiBjb250ZXh0IGZvciBhbGwgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIGludGVycG9sYXRlZCB0ZXh0XG4gICAgICovXG4gICAgZnVuY3Rpb24gJGludGVycG9sYXRlKHRleHQsIG11c3RIYXZlRXhwcmVzc2lvbiwgdHJ1c3RlZENvbnRleHQsIGFsbE9yTm90aGluZykge1xuICAgICAgYWxsT3JOb3RoaW5nID0gISFhbGxPck5vdGhpbmc7XG4gICAgICB2YXIgc3RhcnRJbmRleCxcbiAgICAgICAgICBlbmRJbmRleCxcbiAgICAgICAgICBpbmRleCA9IDAsXG4gICAgICAgICAgZXhwcmVzc2lvbnMgPSBbXSxcbiAgICAgICAgICBwYXJzZUZucyA9IFtdLFxuICAgICAgICAgIHRleHRMZW5ndGggPSB0ZXh0Lmxlbmd0aCxcbiAgICAgICAgICBleHAsXG4gICAgICAgICAgY29uY2F0ID0gW10sXG4gICAgICAgICAgZXhwcmVzc2lvblBvc2l0aW9ucyA9IFtdO1xuXG4gICAgICB3aGlsZSAoaW5kZXggPCB0ZXh0TGVuZ3RoKSB7XG4gICAgICAgIGlmICgoKHN0YXJ0SW5kZXggPSB0ZXh0LmluZGV4T2Yoc3RhcnRTeW1ib2wsIGluZGV4KSkgIT0gLTEpICYmXG4gICAgICAgICAgICAgKChlbmRJbmRleCA9IHRleHQuaW5kZXhPZihlbmRTeW1ib2wsIHN0YXJ0SW5kZXggKyBzdGFydFN5bWJvbExlbmd0aCkpICE9IC0xKSkge1xuICAgICAgICAgIGlmIChpbmRleCAhPT0gc3RhcnRJbmRleCkge1xuICAgICAgICAgICAgY29uY2F0LnB1c2godW5lc2NhcGVUZXh0KHRleHQuc3Vic3RyaW5nKGluZGV4LCBzdGFydEluZGV4KSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBleHAgPSB0ZXh0LnN1YnN0cmluZyhzdGFydEluZGV4ICsgc3RhcnRTeW1ib2xMZW5ndGgsIGVuZEluZGV4KTtcbiAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKGV4cCk7XG4gICAgICAgICAgcGFyc2VGbnMucHVzaCgkcGFyc2UoZXhwLCBwYXJzZVN0cmluZ2lmeUludGVyY2VwdG9yKSk7XG4gICAgICAgICAgaW5kZXggPSBlbmRJbmRleCArIGVuZFN5bWJvbExlbmd0aDtcbiAgICAgICAgICBleHByZXNzaW9uUG9zaXRpb25zLnB1c2goY29uY2F0Lmxlbmd0aCk7XG4gICAgICAgICAgY29uY2F0LnB1c2goJycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHdlIGRpZCBub3QgZmluZCBhbiBpbnRlcnBvbGF0aW9uLCBzbyB3ZSBoYXZlIHRvIGFkZCB0aGUgcmVtYWluZGVyIHRvIHRoZSBzZXBhcmF0b3JzIGFycmF5XG4gICAgICAgICAgaWYgKGluZGV4ICE9PSB0ZXh0TGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25jYXQucHVzaCh1bmVzY2FwZVRleHQodGV4dC5zdWJzdHJpbmcoaW5kZXgpKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIENvbmNhdGVuYXRpbmcgZXhwcmVzc2lvbnMgbWFrZXMgaXQgaGFyZCB0byByZWFzb24gYWJvdXQgd2hldGhlciBzb21lIGNvbWJpbmF0aW9uIG9mXG4gICAgICAvLyBjb25jYXRlbmF0ZWQgdmFsdWVzIGFyZSB1bnNhZmUgdG8gdXNlIGFuZCBjb3VsZCBlYXNpbHkgbGVhZCB0byBYU1MuICBCeSByZXF1aXJpbmcgdGhhdCBhXG4gICAgICAvLyBzaW5nbGUgZXhwcmVzc2lvbiBiZSB1c2VkIGZvciBpZnJhbWVbc3JjXSwgb2JqZWN0W3NyY10sIGV0Yy4sIHdlIGVuc3VyZSB0aGF0IHRoZSB2YWx1ZVxuICAgICAgLy8gdGhhdCdzIHVzZWQgaXMgYXNzaWduZWQgb3IgY29uc3RydWN0ZWQgYnkgc29tZSBKUyBjb2RlIHNvbWV3aGVyZSB0aGF0IGlzIG1vcmUgdGVzdGFibGUgb3JcbiAgICAgIC8vIG1ha2UgaXQgb2J2aW91cyB0aGF0IHlvdSBib3VuZCB0aGUgdmFsdWUgdG8gc29tZSB1c2VyIGNvbnRyb2xsZWQgdmFsdWUuICBUaGlzIGhlbHBzIHJlZHVjZVxuICAgICAgLy8gdGhlIGxvYWQgd2hlbiBhdWRpdGluZyBmb3IgWFNTIGlzc3Vlcy5cbiAgICAgIGlmICh0cnVzdGVkQ29udGV4dCAmJiBjb25jYXQubGVuZ3RoID4gMSkge1xuICAgICAgICAgICRpbnRlcnBvbGF0ZU1pbkVyci50aHJvd05vY29uY2F0KHRleHQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIW11c3RIYXZlRXhwcmVzc2lvbiB8fCBleHByZXNzaW9ucy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGNvbXB1dGUgPSBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBleHByZXNzaW9ucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYWxsT3JOb3RoaW5nICYmIGlzVW5kZWZpbmVkKHZhbHVlc1tpXSkpIHJldHVybjtcbiAgICAgICAgICAgIGNvbmNhdFtleHByZXNzaW9uUG9zaXRpb25zW2ldXSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNvbmNhdC5qb2luKCcnKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiB0cnVzdGVkQ29udGV4dCA/XG4gICAgICAgICAgICAkc2NlLmdldFRydXN0ZWQodHJ1c3RlZENvbnRleHQsIHZhbHVlKSA6XG4gICAgICAgICAgICAkc2NlLnZhbHVlT2YodmFsdWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gaW50ZXJwb2xhdGlvbkZuKGNvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIHZhciBpaSA9IGV4cHJlc3Npb25zLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBuZXcgQXJyYXkoaWkpO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmb3IgKDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbaV0gPSBwYXJzZUZuc1tpXShjb250ZXh0KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBjb21wdXRlKHZhbHVlcyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoJGludGVycG9sYXRlTWluRXJyLmludGVycih0ZXh0LCBlcnIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAvLyBhbGwgb2YgdGhlc2UgcHJvcGVydGllcyBhcmUgdW5kb2N1bWVudGVkIGZvciBub3dcbiAgICAgICAgICBleHA6IHRleHQsIC8vanVzdCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIHJlZ3VsYXIgd2F0Y2hlcnMgY3JlYXRlZCB2aWEgJHdhdGNoXG4gICAgICAgICAgZXhwcmVzc2lvbnM6IGV4cHJlc3Npb25zLFxuICAgICAgICAgICQkd2F0Y2hEZWxlZ2F0ZTogZnVuY3Rpb24oc2NvcGUsIGxpc3RlbmVyKSB7XG4gICAgICAgICAgICB2YXIgbGFzdFZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHNjb3BlLiR3YXRjaEdyb3VwKHBhcnNlRm5zLCBmdW5jdGlvbiBpbnRlcnBvbGF0ZUZuV2F0Y2hlcih2YWx1ZXMsIG9sZFZhbHVlcykge1xuICAgICAgICAgICAgICB2YXIgY3VyclZhbHVlID0gY29tcHV0ZSh2YWx1ZXMpO1xuICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIGN1cnJWYWx1ZSwgdmFsdWVzICE9PSBvbGRWYWx1ZXMgPyBsYXN0VmFsdWUgOiBjdXJyVmFsdWUsIHNjb3BlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBjdXJyVmFsdWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwYXJzZVN0cmluZ2lmeUludGVyY2VwdG9yKHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFsdWUgPSBnZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuIGFsbE9yTm90aGluZyAmJiAhaXNEZWZpbmVkKHZhbHVlKSA/IHZhbHVlIDogc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoJGludGVycG9sYXRlTWluRXJyLmludGVycih0ZXh0LCBlcnIpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRpbnRlcnBvbGF0ZSNzdGFydFN5bWJvbFxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFN5bWJvbCB0byBkZW5vdGUgdGhlIHN0YXJ0IG9mIGV4cHJlc3Npb24gaW4gdGhlIGludGVycG9sYXRlZCBzdHJpbmcuIERlZmF1bHRzIHRvIGB7e2AuXG4gICAgICpcbiAgICAgKiBVc2Uge0BsaW5rIG5nLiRpbnRlcnBvbGF0ZVByb3ZpZGVyI3N0YXJ0U3ltYm9sIGAkaW50ZXJwb2xhdGVQcm92aWRlci5zdGFydFN5bWJvbGB9IHRvIGNoYW5nZVxuICAgICAqIHRoZSBzeW1ib2wuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdGFydCBzeW1ib2wuXG4gICAgICovXG4gICAgJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc3RhcnRTeW1ib2w7XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRpbnRlcnBvbGF0ZSNlbmRTeW1ib2xcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTeW1ib2wgdG8gZGVub3RlIHRoZSBlbmQgb2YgZXhwcmVzc2lvbiBpbiB0aGUgaW50ZXJwb2xhdGVkIHN0cmluZy4gRGVmYXVsdHMgdG8gYH19YC5cbiAgICAgKlxuICAgICAqIFVzZSB7QGxpbmsgbmcuJGludGVycG9sYXRlUHJvdmlkZXIjZW5kU3ltYm9sIGAkaW50ZXJwb2xhdGVQcm92aWRlci5lbmRTeW1ib2xgfSB0byBjaGFuZ2VcbiAgICAgKiB0aGUgc3ltYm9sLlxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gZW5kIHN5bWJvbC5cbiAgICAgKi9cbiAgICAkaW50ZXJwb2xhdGUuZW5kU3ltYm9sID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZW5kU3ltYm9sO1xuICAgIH07XG5cbiAgICByZXR1cm4gJGludGVycG9sYXRlO1xuICB9XTtcbn1cblxuZnVuY3Rpb24gJEludGVydmFsUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJHJvb3RTY29wZScsICckd2luZG93JywgJyRxJywgJyQkcScsXG4gICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgICAkd2luZG93LCAgICRxLCAgICQkcSkge1xuICAgIHZhciBpbnRlcnZhbHMgPSB7fTtcblxuXG4gICAgIC8qKlxuICAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAgKiBAbmFtZSAkaW50ZXJ2YWxcbiAgICAgICpcbiAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAqIEFuZ3VsYXIncyB3cmFwcGVyIGZvciBgd2luZG93LnNldEludGVydmFsYC4gVGhlIGBmbmAgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgZXZlcnkgYGRlbGF5YFxuICAgICAgKiBtaWxsaXNlY29uZHMuXG4gICAgICAqXG4gICAgICAqIFRoZSByZXR1cm4gdmFsdWUgb2YgcmVnaXN0ZXJpbmcgYW4gaW50ZXJ2YWwgZnVuY3Rpb24gaXMgYSBwcm9taXNlLiBUaGlzIHByb21pc2Ugd2lsbCBiZVxuICAgICAgKiBub3RpZmllZCB1cG9uIGVhY2ggdGljayBvZiB0aGUgaW50ZXJ2YWwsIGFuZCB3aWxsIGJlIHJlc29sdmVkIGFmdGVyIGBjb3VudGAgaXRlcmF0aW9ucywgb3JcbiAgICAgICogcnVuIGluZGVmaW5pdGVseSBpZiBgY291bnRgIGlzIG5vdCBkZWZpbmVkLiBUaGUgdmFsdWUgb2YgdGhlIG5vdGlmaWNhdGlvbiB3aWxsIGJlIHRoZVxuICAgICAgKiBudW1iZXIgb2YgaXRlcmF0aW9ucyB0aGF0IGhhdmUgcnVuLlxuICAgICAgKiBUbyBjYW5jZWwgYW4gaW50ZXJ2YWwsIGNhbGwgYCRpbnRlcnZhbC5jYW5jZWwocHJvbWlzZSlgLlxuICAgICAgKlxuICAgICAgKiBJbiB0ZXN0cyB5b3UgY2FuIHVzZSB7QGxpbmsgbmdNb2NrLiRpbnRlcnZhbCNmbHVzaCBgJGludGVydmFsLmZsdXNoKG1pbGxpcylgfSB0b1xuICAgICAgKiBtb3ZlIGZvcndhcmQgYnkgYG1pbGxpc2AgbWlsbGlzZWNvbmRzIGFuZCB0cmlnZ2VyIGFueSBmdW5jdGlvbnMgc2NoZWR1bGVkIHRvIHJ1biBpbiB0aGF0XG4gICAgICAqIHRpbWUuXG4gICAgICAqXG4gICAgICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gICAgICAqICoqTm90ZSoqOiBJbnRlcnZhbHMgY3JlYXRlZCBieSB0aGlzIHNlcnZpY2UgbXVzdCBiZSBleHBsaWNpdGx5IGRlc3Ryb3llZCB3aGVuIHlvdSBhcmUgZmluaXNoZWRcbiAgICAgICogd2l0aCB0aGVtLiAgSW4gcGFydGljdWxhciB0aGV5IGFyZSBub3QgYXV0b21hdGljYWxseSBkZXN0cm95ZWQgd2hlbiBhIGNvbnRyb2xsZXIncyBzY29wZSBvciBhXG4gICAgICAqIGRpcmVjdGl2ZSdzIGVsZW1lbnQgYXJlIGRlc3Ryb3llZC5cbiAgICAgICogWW91IHNob3VsZCB0YWtlIHRoaXMgaW50byBjb25zaWRlcmF0aW9uIGFuZCBtYWtlIHN1cmUgdG8gYWx3YXlzIGNhbmNlbCB0aGUgaW50ZXJ2YWwgYXQgdGhlXG4gICAgICAqIGFwcHJvcHJpYXRlIG1vbWVudC4gIFNlZSB0aGUgZXhhbXBsZSBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzIG9uIGhvdyBhbmQgd2hlbiB0byBkbyB0aGlzLlxuICAgICAgKiA8L2Rpdj5cbiAgICAgICpcbiAgICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBBIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGNhbGxlZCByZXBlYXRlZGx5LlxuICAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsYXkgTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIGVhY2ggZnVuY3Rpb24gY2FsbC5cbiAgICAgICogQHBhcmFtIHtudW1iZXI9fSBbY291bnQ9MF0gTnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdC4gSWYgbm90IHNldCwgb3IgMCwgd2lsbCByZXBlYXRcbiAgICAgICogICBpbmRlZmluaXRlbHkuXG4gICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtpbnZva2VBcHBseT10cnVlXSBJZiBzZXQgdG8gYGZhbHNlYCBza2lwcyBtb2RlbCBkaXJ0eSBjaGVja2luZywgb3RoZXJ3aXNlXG4gICAgICAqICAgd2lsbCBpbnZva2UgYGZuYCB3aXRoaW4gdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRhcHBseSAkYXBwbHl9IGJsb2NrLlxuICAgICAgKiBAcGFyYW0gey4uLio9fSBQYXNzIGFkZGl0aW9uYWwgcGFyYW1ldGVycyB0byB0aGUgZXhlY3V0ZWQgZnVuY3Rpb24uXG4gICAgICAqIEByZXR1cm5zIHtwcm9taXNlfSBBIHByb21pc2Ugd2hpY2ggd2lsbCBiZSBub3RpZmllZCBvbiBlYWNoIGl0ZXJhdGlvbi5cbiAgICAgICpcbiAgICAgICogQGV4YW1wbGVcbiAgICAgICogPGV4YW1wbGUgbW9kdWxlPVwiaW50ZXJ2YWxFeGFtcGxlXCI+XG4gICAgICAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAqICAgPHNjcmlwdD5cbiAgICAgICogICAgIGFuZ3VsYXIubW9kdWxlKCdpbnRlcnZhbEV4YW1wbGUnLCBbXSlcbiAgICAgICogICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGludGVydmFsJyxcbiAgICAgICogICAgICAgICBmdW5jdGlvbigkc2NvcGUsICRpbnRlcnZhbCkge1xuICAgICAgKiAgICAgICAgICAgJHNjb3BlLmZvcm1hdCA9ICdNL2QveXkgaDptbTpzcyBhJztcbiAgICAgICogICAgICAgICAgICRzY29wZS5ibG9vZF8xID0gMTAwO1xuICAgICAgKiAgICAgICAgICAgJHNjb3BlLmJsb29kXzIgPSAxMjA7XG4gICAgICAqXG4gICAgICAqICAgICAgICAgICB2YXIgc3RvcDtcbiAgICAgICogICAgICAgICAgICRzY29wZS5maWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgKiAgICAgICAgICAgICAvLyBEb24ndCBzdGFydCBhIG5ldyBmaWdodCBpZiB3ZSBhcmUgYWxyZWFkeSBmaWdodGluZ1xuICAgICAgKiAgICAgICAgICAgICBpZiAoIGFuZ3VsYXIuaXNEZWZpbmVkKHN0b3ApICkgcmV0dXJuO1xuICAgICAgKlxuICAgICAgKiAgICAgICAgICAgICBzdG9wID0gJGludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgKiAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYmxvb2RfMSA+IDAgJiYgJHNjb3BlLmJsb29kXzIgPiAwKSB7XG4gICAgICAqICAgICAgICAgICAgICAgICAkc2NvcGUuYmxvb2RfMSA9ICRzY29wZS5ibG9vZF8xIC0gMztcbiAgICAgICogICAgICAgICAgICAgICAgICRzY29wZS5ibG9vZF8yID0gJHNjb3BlLmJsb29kXzIgLSA0O1xuICAgICAgKiAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAqICAgICAgICAgICAgICAgICAkc2NvcGUuc3RvcEZpZ2h0KCk7XG4gICAgICAqICAgICAgICAgICAgICAgfVxuICAgICAgKiAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgKiAgICAgICAgICAgfTtcbiAgICAgICpcbiAgICAgICogICAgICAgICAgICRzY29wZS5zdG9wRmlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICogICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHN0b3ApKSB7XG4gICAgICAqICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChzdG9wKTtcbiAgICAgICogICAgICAgICAgICAgICBzdG9wID0gdW5kZWZpbmVkO1xuICAgICAgKiAgICAgICAgICAgICB9XG4gICAgICAqICAgICAgICAgICB9O1xuICAgICAgKlxuICAgICAgKiAgICAgICAgICAgJHNjb3BlLnJlc2V0RmlnaHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICogICAgICAgICAgICAgJHNjb3BlLmJsb29kXzEgPSAxMDA7XG4gICAgICAqICAgICAgICAgICAgICRzY29wZS5ibG9vZF8yID0gMTIwO1xuICAgICAgKiAgICAgICAgICAgfTtcbiAgICAgICpcbiAgICAgICogICAgICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAqICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBpbnRlcnZhbCBpcyBkZXN0cm95ZWQgdG9vXG4gICAgICAqICAgICAgICAgICAgICRzY29wZS5zdG9wRmlnaHQoKTtcbiAgICAgICogICAgICAgICAgIH0pO1xuICAgICAgKiAgICAgICAgIH1dKVxuICAgICAgKiAgICAgICAvLyBSZWdpc3RlciB0aGUgJ215Q3VycmVudFRpbWUnIGRpcmVjdGl2ZSBmYWN0b3J5IG1ldGhvZC5cbiAgICAgICogICAgICAgLy8gV2UgaW5qZWN0ICRpbnRlcnZhbCBhbmQgZGF0ZUZpbHRlciBzZXJ2aWNlIHNpbmNlIHRoZSBmYWN0b3J5IG1ldGhvZCBpcyBESS5cbiAgICAgICogICAgICAgLmRpcmVjdGl2ZSgnbXlDdXJyZW50VGltZScsIFsnJGludGVydmFsJywgJ2RhdGVGaWx0ZXInLFxuICAgICAgKiAgICAgICAgIGZ1bmN0aW9uKCRpbnRlcnZhbCwgZGF0ZUZpbHRlcikge1xuICAgICAgKiAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBkaXJlY3RpdmUgbGluayBmdW5jdGlvbi4gKGNvbXBpbGUgZnVuY3Rpb24gbm90IG5lZWRlZClcbiAgICAgICogICAgICAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICogICAgICAgICAgICAgdmFyIGZvcm1hdCwgIC8vIGRhdGUgZm9ybWF0XG4gICAgICAqICAgICAgICAgICAgICAgICBzdG9wVGltZTsgLy8gc28gdGhhdCB3ZSBjYW4gY2FuY2VsIHRoZSB0aW1lIHVwZGF0ZXNcbiAgICAgICpcbiAgICAgICogICAgICAgICAgICAgLy8gdXNlZCB0byB1cGRhdGUgdGhlIFVJXG4gICAgICAqICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVRpbWUoKSB7XG4gICAgICAqICAgICAgICAgICAgICAgZWxlbWVudC50ZXh0KGRhdGVGaWx0ZXIobmV3IERhdGUoKSwgZm9ybWF0KSk7XG4gICAgICAqICAgICAgICAgICAgIH1cbiAgICAgICpcbiAgICAgICogICAgICAgICAgICAgLy8gd2F0Y2ggdGhlIGV4cHJlc3Npb24sIGFuZCB1cGRhdGUgdGhlIFVJIG9uIGNoYW5nZS5cbiAgICAgICogICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJzLm15Q3VycmVudFRpbWUsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAqICAgICAgICAgICAgICAgZm9ybWF0ID0gdmFsdWU7XG4gICAgICAqICAgICAgICAgICAgICAgdXBkYXRlVGltZSgpO1xuICAgICAgKiAgICAgICAgICAgICB9KTtcbiAgICAgICpcbiAgICAgICogICAgICAgICAgICAgc3RvcFRpbWUgPSAkaW50ZXJ2YWwodXBkYXRlVGltZSwgMTAwMCk7XG4gICAgICAqXG4gICAgICAqICAgICAgICAgICAgIC8vIGxpc3RlbiBvbiBET00gZGVzdHJveSAocmVtb3ZhbCkgZXZlbnQsIGFuZCBjYW5jZWwgdGhlIG5leHQgVUkgdXBkYXRlXG4gICAgICAqICAgICAgICAgICAgIC8vIHRvIHByZXZlbnQgdXBkYXRpbmcgdGltZSBhZnRlciB0aGUgRE9NIGVsZW1lbnQgd2FzIHJlbW92ZWQuXG4gICAgICAqICAgICAgICAgICAgIGVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAqICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChzdG9wVGltZSk7XG4gICAgICAqICAgICAgICAgICAgIH0pO1xuICAgICAgKiAgICAgICAgICAgfVxuICAgICAgKiAgICAgICAgIH1dKTtcbiAgICAgICogICA8L3NjcmlwdD5cbiAgICAgICpcbiAgICAgICogICA8ZGl2PlxuICAgICAgKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICogICAgICAgPGxhYmVsPkRhdGUgZm9ybWF0OiA8aW5wdXQgbmctbW9kZWw9XCJmb3JtYXRcIj48L2xhYmVsPiA8aHIvPlxuICAgICAgKiAgICAgICBDdXJyZW50IHRpbWUgaXM6IDxzcGFuIG15LWN1cnJlbnQtdGltZT1cImZvcm1hdFwiPjwvc3Bhbj5cbiAgICAgICogICAgICAgPGhyLz5cbiAgICAgICogICAgICAgQmxvb2QgMSA6IDxmb250IGNvbG9yPSdyZWQnPnt7Ymxvb2RfMX19PC9mb250PlxuICAgICAgKiAgICAgICBCbG9vZCAyIDogPGZvbnQgY29sb3I9J3JlZCc+e3tibG9vZF8yfX08L2ZvbnQ+XG4gICAgICAqICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtbmctY2xpY2s9XCJmaWdodCgpXCI+RmlnaHQ8L2J1dHRvbj5cbiAgICAgICogICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1uZy1jbGljaz1cInN0b3BGaWdodCgpXCI+U3RvcEZpZ2h0PC9idXR0b24+XG4gICAgICAqICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtbmctY2xpY2s9XCJyZXNldEZpZ2h0KClcIj5yZXNldEZpZ2h0PC9idXR0b24+XG4gICAgICAqICAgICA8L2Rpdj5cbiAgICAgICogICA8L2Rpdj5cbiAgICAgICpcbiAgICAgICogPC9maWxlPlxuICAgICAgKiA8L2V4YW1wbGU+XG4gICAgICAqL1xuICAgIGZ1bmN0aW9uIGludGVydmFsKGZuLCBkZWxheSwgY291bnQsIGludm9rZUFwcGx5KSB7XG4gICAgICB2YXIgaGFzUGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDQsXG4gICAgICAgICAgYXJncyA9IGhhc1BhcmFtcyA/IHNsaWNlQXJncyhhcmd1bWVudHMsIDQpIDogW10sXG4gICAgICAgICAgc2V0SW50ZXJ2YWwgPSAkd2luZG93LnNldEludGVydmFsLFxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwgPSAkd2luZG93LmNsZWFySW50ZXJ2YWwsXG4gICAgICAgICAgaXRlcmF0aW9uID0gMCxcbiAgICAgICAgICBza2lwQXBwbHkgPSAoaXNEZWZpbmVkKGludm9rZUFwcGx5KSAmJiAhaW52b2tlQXBwbHkpLFxuICAgICAgICAgIGRlZmVycmVkID0gKHNraXBBcHBseSA/ICQkcSA6ICRxKS5kZWZlcigpLFxuICAgICAgICAgIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlO1xuXG4gICAgICBjb3VudCA9IGlzRGVmaW5lZChjb3VudCkgPyBjb3VudCA6IDA7XG5cbiAgICAgIHByb21pc2UudGhlbihudWxsLCBudWxsLCAoIWhhc1BhcmFtcykgPyBmbiA6IGZ1bmN0aW9uKCkge1xuICAgICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgIH0pO1xuXG4gICAgICBwcm9taXNlLiQkaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uIHRpY2soKSB7XG4gICAgICAgIGRlZmVycmVkLm5vdGlmeShpdGVyYXRpb24rKyk7XG5cbiAgICAgICAgaWYgKGNvdW50ID4gMCAmJiBpdGVyYXRpb24gPj0gY291bnQpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGl0ZXJhdGlvbik7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChwcm9taXNlLiQkaW50ZXJ2YWxJZCk7XG4gICAgICAgICAgZGVsZXRlIGludGVydmFsc1twcm9taXNlLiQkaW50ZXJ2YWxJZF07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNraXBBcHBseSkgJHJvb3RTY29wZS4kYXBwbHkoKTtcblxuICAgICAgfSwgZGVsYXkpO1xuXG4gICAgICBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdID0gZGVmZXJyZWQ7XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cblxuXG4gICAgIC8qKlxuICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAqIEBuYW1lICRpbnRlcnZhbCNjYW5jZWxcbiAgICAgICpcbiAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAqIENhbmNlbHMgYSB0YXNrIGFzc29jaWF0ZWQgd2l0aCB0aGUgYHByb21pc2VgLlxuICAgICAgKlxuICAgICAgKiBAcGFyYW0ge3Byb21pc2V9IHByb21pc2UgcmV0dXJuZWQgYnkgdGhlIGAkaW50ZXJ2YWxgIGZ1bmN0aW9uLlxuICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHRhc2sgd2FzIHN1Y2Nlc3NmdWxseSBjYW5jZWxlZC5cbiAgICAgICovXG4gICAgaW50ZXJ2YWwuY2FuY2VsID0gZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgICAgaWYgKHByb21pc2UgJiYgcHJvbWlzZS4kJGludGVydmFsSWQgaW4gaW50ZXJ2YWxzKSB7XG4gICAgICAgIGludGVydmFsc1twcm9taXNlLiQkaW50ZXJ2YWxJZF0ucmVqZWN0KCdjYW5jZWxlZCcpO1xuICAgICAgICAkd2luZG93LmNsZWFySW50ZXJ2YWwocHJvbWlzZS4kJGludGVydmFsSWQpO1xuICAgICAgICBkZWxldGUgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIHJldHVybiBpbnRlcnZhbDtcbiAgfV07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRsb2NhbGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqICRsb2NhbGUgc2VydmljZSBwcm92aWRlcyBsb2NhbGl6YXRpb24gcnVsZXMgZm9yIHZhcmlvdXMgQW5ndWxhciBjb21wb25lbnRzLiBBcyBvZiByaWdodCBub3cgdGhlXG4gKiBvbmx5IHB1YmxpYyBhcGkgaXM6XG4gKlxuICogKiBgaWRgIOKAkyBge3N0cmluZ31gIOKAkyBsb2NhbGUgaWQgZm9ybWF0dGVkIGFzIGBsYW5ndWFnZUlkLWNvdW50cnlJZGAgKGUuZy4gYGVuLXVzYClcbiAqL1xuZnVuY3Rpb24gJExvY2FsZVByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6ICdlbi11cycsXG5cbiAgICAgIE5VTUJFUl9GT1JNQVRTOiB7XG4gICAgICAgIERFQ0lNQUxfU0VQOiAnLicsXG4gICAgICAgIEdST1VQX1NFUDogJywnLFxuICAgICAgICBQQVRURVJOUzogW1xuICAgICAgICAgIHsgLy8gRGVjaW1hbCBQYXR0ZXJuXG4gICAgICAgICAgICBtaW5JbnQ6IDEsXG4gICAgICAgICAgICBtaW5GcmFjOiAwLFxuICAgICAgICAgICAgbWF4RnJhYzogMyxcbiAgICAgICAgICAgIHBvc1ByZTogJycsXG4gICAgICAgICAgICBwb3NTdWY6ICcnLFxuICAgICAgICAgICAgbmVnUHJlOiAnLScsXG4gICAgICAgICAgICBuZWdTdWY6ICcnLFxuICAgICAgICAgICAgZ1NpemU6IDMsXG4gICAgICAgICAgICBsZ1NpemU6IDNcbiAgICAgICAgICB9LHsgLy9DdXJyZW5jeSBQYXR0ZXJuXG4gICAgICAgICAgICBtaW5JbnQ6IDEsXG4gICAgICAgICAgICBtaW5GcmFjOiAyLFxuICAgICAgICAgICAgbWF4RnJhYzogMixcbiAgICAgICAgICAgIHBvc1ByZTogJ1xcdTAwQTQnLFxuICAgICAgICAgICAgcG9zU3VmOiAnJyxcbiAgICAgICAgICAgIG5lZ1ByZTogJyhcXHUwMEE0JyxcbiAgICAgICAgICAgIG5lZ1N1ZjogJyknLFxuICAgICAgICAgICAgZ1NpemU6IDMsXG4gICAgICAgICAgICBsZ1NpemU6IDNcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIENVUlJFTkNZX1NZTTogJyQnXG4gICAgICB9LFxuXG4gICAgICBEQVRFVElNRV9GT1JNQVRTOiB7XG4gICAgICAgIE1PTlRIOlxuICAgICAgICAgICAgJ0phbnVhcnksRmVicnVhcnksTWFyY2gsQXByaWwsTWF5LEp1bmUsSnVseSxBdWd1c3QsU2VwdGVtYmVyLE9jdG9iZXIsTm92ZW1iZXIsRGVjZW1iZXInXG4gICAgICAgICAgICAuc3BsaXQoJywnKSxcbiAgICAgICAgU0hPUlRNT05USDogICdKYW4sRmViLE1hcixBcHIsTWF5LEp1bixKdWwsQXVnLFNlcCxPY3QsTm92LERlYycuc3BsaXQoJywnKSxcbiAgICAgICAgREFZOiAnU3VuZGF5LE1vbmRheSxUdWVzZGF5LFdlZG5lc2RheSxUaHVyc2RheSxGcmlkYXksU2F0dXJkYXknLnNwbGl0KCcsJyksXG4gICAgICAgIFNIT1JUREFZOiAnU3VuLE1vbixUdWUsV2VkLFRodSxGcmksU2F0Jy5zcGxpdCgnLCcpLFxuICAgICAgICBBTVBNUzogWydBTScsJ1BNJ10sXG4gICAgICAgIG1lZGl1bTogJ01NTSBkLCB5IGg6bW06c3MgYScsXG4gICAgICAgICdzaG9ydCc6ICdNL2QveXkgaDptbSBhJyxcbiAgICAgICAgZnVsbERhdGU6ICdFRUVFLCBNTU1NIGQsIHknLFxuICAgICAgICBsb25nRGF0ZTogJ01NTU0gZCwgeScsXG4gICAgICAgIG1lZGl1bURhdGU6ICdNTU0gZCwgeScsXG4gICAgICAgIHNob3J0RGF0ZTogJ00vZC95eScsXG4gICAgICAgIG1lZGl1bVRpbWU6ICdoOm1tOnNzIGEnLFxuICAgICAgICBzaG9ydFRpbWU6ICdoOm1tIGEnLFxuICAgICAgICBFUkFOQU1FUzogW1xuICAgICAgICAgIFwiQmVmb3JlIENocmlzdFwiLFxuICAgICAgICAgIFwiQW5ubyBEb21pbmlcIlxuICAgICAgICBdLFxuICAgICAgICBFUkFTOiBbXG4gICAgICAgICAgXCJCQ1wiLFxuICAgICAgICAgIFwiQURcIlxuICAgICAgICBdXG4gICAgICB9LFxuXG4gICAgICBwbHVyYWxDYXQ6IGZ1bmN0aW9uKG51bSkge1xuICAgICAgICBpZiAobnVtID09PSAxKSB7XG4gICAgICAgICAgcmV0dXJuICdvbmUnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnb3RoZXInO1xuICAgICAgfVxuICAgIH07XG4gIH07XG59XG5cbnZhciBQQVRIX01BVENIID0gL14oW15cXD8jXSopKFxcPyhbXiNdKikpPygjKC4qKSk/JC8sXG4gICAgREVGQVVMVF9QT1JUUyA9IHsnaHR0cCc6IDgwLCAnaHR0cHMnOiA0NDMsICdmdHAnOiAyMX07XG52YXIgJGxvY2F0aW9uTWluRXJyID0gbWluRXJyKCckbG9jYXRpb24nKTtcblxuXG4vKipcbiAqIEVuY29kZSBwYXRoIHVzaW5nIGVuY29kZVVyaVNlZ21lbnQsIGlnbm9yaW5nIGZvcndhcmQgc2xhc2hlc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFBhdGggdG8gZW5jb2RlXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBlbmNvZGVQYXRoKHBhdGgpIHtcbiAgdmFyIHNlZ21lbnRzID0gcGF0aC5zcGxpdCgnLycpLFxuICAgICAgaSA9IHNlZ21lbnRzLmxlbmd0aDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgc2VnbWVudHNbaV0gPSBlbmNvZGVVcmlTZWdtZW50KHNlZ21lbnRzW2ldKTtcbiAgfVxuXG4gIHJldHVybiBzZWdtZW50cy5qb2luKCcvJyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQWJzb2x1dGVVcmwoYWJzb2x1dGVVcmwsIGxvY2F0aW9uT2JqKSB7XG4gIHZhciBwYXJzZWRVcmwgPSB1cmxSZXNvbHZlKGFic29sdXRlVXJsKTtcblxuICBsb2NhdGlvbk9iai4kJHByb3RvY29sID0gcGFyc2VkVXJsLnByb3RvY29sO1xuICBsb2NhdGlvbk9iai4kJGhvc3QgPSBwYXJzZWRVcmwuaG9zdG5hbWU7XG4gIGxvY2F0aW9uT2JqLiQkcG9ydCA9IHRvSW50KHBhcnNlZFVybC5wb3J0KSB8fCBERUZBVUxUX1BPUlRTW3BhcnNlZFVybC5wcm90b2NvbF0gfHwgbnVsbDtcbn1cblxuXG5mdW5jdGlvbiBwYXJzZUFwcFVybChyZWxhdGl2ZVVybCwgbG9jYXRpb25PYmopIHtcbiAgdmFyIHByZWZpeGVkID0gKHJlbGF0aXZlVXJsLmNoYXJBdCgwKSAhPT0gJy8nKTtcbiAgaWYgKHByZWZpeGVkKSB7XG4gICAgcmVsYXRpdmVVcmwgPSAnLycgKyByZWxhdGl2ZVVybDtcbiAgfVxuICB2YXIgbWF0Y2ggPSB1cmxSZXNvbHZlKHJlbGF0aXZlVXJsKTtcbiAgbG9jYXRpb25PYmouJCRwYXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KHByZWZpeGVkICYmIG1hdGNoLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nID9cbiAgICAgIG1hdGNoLnBhdGhuYW1lLnN1YnN0cmluZygxKSA6IG1hdGNoLnBhdGhuYW1lKTtcbiAgbG9jYXRpb25PYmouJCRzZWFyY2ggPSBwYXJzZUtleVZhbHVlKG1hdGNoLnNlYXJjaCk7XG4gIGxvY2F0aW9uT2JqLiQkaGFzaCA9IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaC5oYXNoKTtcblxuICAvLyBtYWtlIHN1cmUgcGF0aCBzdGFydHMgd2l0aCAnLyc7XG4gIGlmIChsb2NhdGlvbk9iai4kJHBhdGggJiYgbG9jYXRpb25PYmouJCRwYXRoLmNoYXJBdCgwKSAhPSAnLycpIHtcbiAgICBsb2NhdGlvbk9iai4kJHBhdGggPSAnLycgKyBsb2NhdGlvbk9iai4kJHBhdGg7XG4gIH1cbn1cblxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmVnaW5cbiAqIEBwYXJhbSB7c3RyaW5nfSB3aG9sZVxuICogQHJldHVybnMge3N0cmluZ30gcmV0dXJucyB0ZXh0IGZyb20gd2hvbGUgYWZ0ZXIgYmVnaW4gb3IgdW5kZWZpbmVkIGlmIGl0IGRvZXMgbm90IGJlZ2luIHdpdGhcbiAqICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmVnaW5zV2l0aChiZWdpbiwgd2hvbGUpIHtcbiAgaWYgKHdob2xlLmluZGV4T2YoYmVnaW4pID09PSAwKSB7XG4gICAgcmV0dXJuIHdob2xlLnN1YnN0cihiZWdpbi5sZW5ndGgpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gc3RyaXBIYXNoKHVybCkge1xuICB2YXIgaW5kZXggPSB1cmwuaW5kZXhPZignIycpO1xuICByZXR1cm4gaW5kZXggPT0gLTEgPyB1cmwgOiB1cmwuc3Vic3RyKDAsIGluZGV4KTtcbn1cblxuZnVuY3Rpb24gdHJpbUVtcHR5SGFzaCh1cmwpIHtcbiAgcmV0dXJuIHVybC5yZXBsYWNlKC8oIy4rKXwjJC8sICckMScpO1xufVxuXG5cbmZ1bmN0aW9uIHN0cmlwRmlsZSh1cmwpIHtcbiAgcmV0dXJuIHVybC5zdWJzdHIoMCwgc3RyaXBIYXNoKHVybCkubGFzdEluZGV4T2YoJy8nKSArIDEpO1xufVxuXG4vKiByZXR1cm4gdGhlIHNlcnZlciBvbmx5IChzY2hlbWU6Ly9ob3N0OnBvcnQpICovXG5mdW5jdGlvbiBzZXJ2ZXJCYXNlKHVybCkge1xuICByZXR1cm4gdXJsLnN1YnN0cmluZygwLCB1cmwuaW5kZXhPZignLycsIHVybC5pbmRleE9mKCcvLycpICsgMikpO1xufVxuXG5cbi8qKlxuICogTG9jYXRpb25IdG1sNVVybCByZXByZXNlbnRzIGFuIHVybFxuICogVGhpcyBvYmplY3QgaXMgZXhwb3NlZCBhcyAkbG9jYXRpb24gc2VydmljZSB3aGVuIEhUTUw1IG1vZGUgaXMgZW5hYmxlZCBhbmQgc3VwcG9ydGVkXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZSBhcHBsaWNhdGlvbiBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VQcmVmaXggdXJsIHBhdGggcHJlZml4XG4gKi9cbmZ1bmN0aW9uIExvY2F0aW9uSHRtbDVVcmwoYXBwQmFzZSwgYmFzZVByZWZpeCkge1xuICB0aGlzLiQkaHRtbDUgPSB0cnVlO1xuICBiYXNlUHJlZml4ID0gYmFzZVByZWZpeCB8fCAnJztcbiAgdmFyIGFwcEJhc2VOb0ZpbGUgPSBzdHJpcEZpbGUoYXBwQmFzZSk7XG4gIHBhcnNlQWJzb2x1dGVVcmwoYXBwQmFzZSwgdGhpcyk7XG5cblxuICAvKipcbiAgICogUGFyc2UgZ2l2ZW4gaHRtbDUgKHJlZ3VsYXIpIHVybCBzdHJpbmcgaW50byBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgSFRNTDUgdXJsXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLiQkcGFyc2UgPSBmdW5jdGlvbih1cmwpIHtcbiAgICB2YXIgcGF0aFVybCA9IGJlZ2luc1dpdGgoYXBwQmFzZU5vRmlsZSwgdXJsKTtcbiAgICBpZiAoIWlzU3RyaW5nKHBhdGhVcmwpKSB7XG4gICAgICB0aHJvdyAkbG9jYXRpb25NaW5FcnIoJ2lwdGhwcmZ4JywgJ0ludmFsaWQgdXJsIFwiezB9XCIsIG1pc3NpbmcgcGF0aCBwcmVmaXggXCJ7MX1cIi4nLCB1cmwsXG4gICAgICAgICAgYXBwQmFzZU5vRmlsZSk7XG4gICAgfVxuXG4gICAgcGFyc2VBcHBVcmwocGF0aFVybCwgdGhpcyk7XG5cbiAgICBpZiAoIXRoaXMuJCRwYXRoKSB7XG4gICAgICB0aGlzLiQkcGF0aCA9ICcvJztcbiAgICB9XG5cbiAgICB0aGlzLiQkY29tcG9zZSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb21wb3NlIHVybCBhbmQgdXBkYXRlIGBhYnNVcmxgIHByb3BlcnR5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLiQkY29tcG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWFyY2ggPSB0b0tleVZhbHVlKHRoaXMuJCRzZWFyY2gpLFxuICAgICAgICBoYXNoID0gdGhpcy4kJGhhc2ggPyAnIycgKyBlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKSA6ICcnO1xuXG4gICAgdGhpcy4kJHVybCA9IGVuY29kZVBhdGgodGhpcy4kJHBhdGgpICsgKHNlYXJjaCA/ICc/JyArIHNlYXJjaCA6ICcnKSArIGhhc2g7XG4gICAgdGhpcy4kJGFic1VybCA9IGFwcEJhc2VOb0ZpbGUgKyB0aGlzLiQkdXJsLnN1YnN0cigxKTsgLy8gZmlyc3QgY2hhciBpcyBhbHdheXMgJy8nXG4gIH07XG5cbiAgdGhpcy4kJHBhcnNlTGlua1VybCA9IGZ1bmN0aW9uKHVybCwgcmVsSHJlZikge1xuICAgIGlmIChyZWxIcmVmICYmIHJlbEhyZWZbMF0gPT09ICcjJykge1xuICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBsaW5rcyB0byBoYXNoIGZyYWdtZW50czpcbiAgICAgIC8vIGtlZXAgdGhlIG9sZCB1cmwgYW5kIG9ubHkgcmVwbGFjZSB0aGUgaGFzaCBmcmFnbWVudFxuICAgICAgdGhpcy5oYXNoKHJlbEhyZWYuc2xpY2UoMSkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBhcHBVcmwsIHByZXZBcHBVcmw7XG4gICAgdmFyIHJld3JpdHRlblVybDtcblxuICAgIGlmICgoYXBwVXJsID0gYmVnaW5zV2l0aChhcHBCYXNlLCB1cmwpKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBwcmV2QXBwVXJsID0gYXBwVXJsO1xuICAgICAgaWYgKChhcHBVcmwgPSBiZWdpbnNXaXRoKGJhc2VQcmVmaXgsIGFwcFVybCkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV3cml0dGVuVXJsID0gYXBwQmFzZU5vRmlsZSArIChiZWdpbnNXaXRoKCcvJywgYXBwVXJsKSB8fCBhcHBVcmwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV3cml0dGVuVXJsID0gYXBwQmFzZSArIHByZXZBcHBVcmw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgoYXBwVXJsID0gYmVnaW5zV2l0aChhcHBCYXNlTm9GaWxlLCB1cmwpKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlTm9GaWxlICsgYXBwVXJsO1xuICAgIH0gZWxzZSBpZiAoYXBwQmFzZU5vRmlsZSA9PSB1cmwgKyAnLycpIHtcbiAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2VOb0ZpbGU7XG4gICAgfVxuICAgIGlmIChyZXdyaXR0ZW5VcmwpIHtcbiAgICAgIHRoaXMuJCRwYXJzZShyZXdyaXR0ZW5VcmwpO1xuICAgIH1cbiAgICByZXR1cm4gISFyZXdyaXR0ZW5Vcmw7XG4gIH07XG59XG5cblxuLyoqXG4gKiBMb2NhdGlvbkhhc2hiYW5nVXJsIHJlcHJlc2VudHMgdXJsXG4gKiBUaGlzIG9iamVjdCBpcyBleHBvc2VkIGFzICRsb2NhdGlvbiBzZXJ2aWNlIHdoZW4gZGV2ZWxvcGVyIGRvZXNuJ3Qgb3B0IGludG8gaHRtbDUgbW9kZS5cbiAqIEl0IGFsc28gc2VydmVzIGFzIHRoZSBiYXNlIGNsYXNzIGZvciBodG1sNSBtb2RlIGZhbGxiYWNrIG9uIGxlZ2FjeSBicm93c2Vycy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlIGFwcGxpY2F0aW9uIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gaGFzaFByZWZpeCBoYXNoYmFuZyBwcmVmaXhcbiAqL1xuZnVuY3Rpb24gTG9jYXRpb25IYXNoYmFuZ1VybChhcHBCYXNlLCBoYXNoUHJlZml4KSB7XG4gIHZhciBhcHBCYXNlTm9GaWxlID0gc3RyaXBGaWxlKGFwcEJhc2UpO1xuXG4gIHBhcnNlQWJzb2x1dGVVcmwoYXBwQmFzZSwgdGhpcyk7XG5cblxuICAvKipcbiAgICogUGFyc2UgZ2l2ZW4gaGFzaGJhbmcgdXJsIGludG8gcHJvcGVydGllc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIEhhc2hiYW5nIHVybFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy4kJHBhcnNlID0gZnVuY3Rpb24odXJsKSB7XG4gICAgdmFyIHdpdGhvdXRCYXNlVXJsID0gYmVnaW5zV2l0aChhcHBCYXNlLCB1cmwpIHx8IGJlZ2luc1dpdGgoYXBwQmFzZU5vRmlsZSwgdXJsKTtcbiAgICB2YXIgd2l0aG91dEhhc2hVcmw7XG5cbiAgICBpZiAoIWlzVW5kZWZpbmVkKHdpdGhvdXRCYXNlVXJsKSAmJiB3aXRob3V0QmFzZVVybC5jaGFyQXQoMCkgPT09ICcjJykge1xuXG4gICAgICAvLyBUaGUgcmVzdCBvZiB0aGUgdXJsIHN0YXJ0cyB3aXRoIGEgaGFzaCBzbyB3ZSBoYXZlXG4gICAgICAvLyBnb3QgZWl0aGVyIGEgaGFzaGJhbmcgcGF0aCBvciBhIHBsYWluIGhhc2ggZnJhZ21lbnRcbiAgICAgIHdpdGhvdXRIYXNoVXJsID0gYmVnaW5zV2l0aChoYXNoUHJlZml4LCB3aXRob3V0QmFzZVVybCk7XG4gICAgICBpZiAoaXNVbmRlZmluZWQod2l0aG91dEhhc2hVcmwpKSB7XG4gICAgICAgIC8vIFRoZXJlIHdhcyBubyBoYXNoYmFuZyBwcmVmaXggc28gd2UganVzdCBoYXZlIGEgaGFzaCBmcmFnbWVudFxuICAgICAgICB3aXRob3V0SGFzaFVybCA9IHdpdGhvdXRCYXNlVXJsO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZXJlIHdhcyBubyBoYXNoYmFuZyBwYXRoIG5vciBoYXNoIGZyYWdtZW50OlxuICAgICAgLy8gSWYgd2UgYXJlIGluIEhUTUw1IG1vZGUgd2UgdXNlIHdoYXQgaXMgbGVmdCBhcyB0aGUgcGF0aDtcbiAgICAgIC8vIE90aGVyd2lzZSB3ZSBpZ25vcmUgd2hhdCBpcyBsZWZ0XG4gICAgICBpZiAodGhpcy4kJGh0bWw1KSB7XG4gICAgICAgIHdpdGhvdXRIYXNoVXJsID0gd2l0aG91dEJhc2VVcmw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aXRob3V0SGFzaFVybCA9ICcnO1xuICAgICAgICBpZiAoaXNVbmRlZmluZWQod2l0aG91dEJhc2VVcmwpKSB7XG4gICAgICAgICAgYXBwQmFzZSA9IHVybDtcbiAgICAgICAgICB0aGlzLnJlcGxhY2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHBhcnNlQXBwVXJsKHdpdGhvdXRIYXNoVXJsLCB0aGlzKTtcblxuICAgIHRoaXMuJCRwYXRoID0gcmVtb3ZlV2luZG93c0RyaXZlTmFtZSh0aGlzLiQkcGF0aCwgd2l0aG91dEhhc2hVcmwsIGFwcEJhc2UpO1xuXG4gICAgdGhpcy4kJGNvbXBvc2UoKTtcblxuICAgIC8qXG4gICAgICogSW4gV2luZG93cywgb24gYW4gYW5jaG9yIG5vZGUgb24gZG9jdW1lbnRzIGxvYWRlZCBmcm9tXG4gICAgICogdGhlIGZpbGVzeXN0ZW0sIHRoZSBicm93c2VyIHdpbGwgcmV0dXJuIGEgcGF0aG5hbWVcbiAgICAgKiBwcmVmaXhlZCB3aXRoIHRoZSBkcml2ZSBuYW1lICgnL0M6L3BhdGgnKSB3aGVuIGFcbiAgICAgKiBwYXRobmFtZSB3aXRob3V0IGEgZHJpdmUgaXMgc2V0OlxuICAgICAqICAqIGEuc2V0QXR0cmlidXRlKCdocmVmJywgJy9mb28nKVxuICAgICAqICAgKiBhLnBhdGhuYW1lID09PSAnL0M6L2ZvbycgLy90cnVlXG4gICAgICpcbiAgICAgKiBJbnNpZGUgb2YgQW5ndWxhciwgd2UncmUgYWx3YXlzIHVzaW5nIHBhdGhuYW1lcyB0aGF0XG4gICAgICogZG8gbm90IGluY2x1ZGUgZHJpdmUgbmFtZXMgZm9yIHJvdXRpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVtb3ZlV2luZG93c0RyaXZlTmFtZShwYXRoLCB1cmwsIGJhc2UpIHtcbiAgICAgIC8qXG4gICAgICBNYXRjaGVzIHBhdGhzIGZvciBmaWxlIHByb3RvY29sIG9uIHdpbmRvd3MsXG4gICAgICBzdWNoIGFzIC9DOi9mb28vYmFyLCBhbmQgY2FwdHVyZXMgb25seSAvZm9vL2Jhci5cbiAgICAgICovXG4gICAgICB2YXIgd2luZG93c0ZpbGVQYXRoRXhwID0gL15cXC9bQS1aXTooXFwvLiopLztcblxuICAgICAgdmFyIGZpcnN0UGF0aFNlZ21lbnRNYXRjaDtcblxuICAgICAgLy9HZXQgdGhlIHJlbGF0aXZlIHBhdGggZnJvbSB0aGUgaW5wdXQgVVJMLlxuICAgICAgaWYgKHVybC5pbmRleE9mKGJhc2UpID09PSAwKSB7XG4gICAgICAgIHVybCA9IHVybC5yZXBsYWNlKGJhc2UsICcnKTtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGlucHV0IFVSTCBpbnRlbnRpb25hbGx5IGNvbnRhaW5zIGEgZmlyc3QgcGF0aCBzZWdtZW50IHRoYXQgZW5kcyB3aXRoIGEgY29sb24uXG4gICAgICBpZiAod2luZG93c0ZpbGVQYXRoRXhwLmV4ZWModXJsKSkge1xuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgIH1cblxuICAgICAgZmlyc3RQYXRoU2VnbWVudE1hdGNoID0gd2luZG93c0ZpbGVQYXRoRXhwLmV4ZWMocGF0aCk7XG4gICAgICByZXR1cm4gZmlyc3RQYXRoU2VnbWVudE1hdGNoID8gZmlyc3RQYXRoU2VnbWVudE1hdGNoWzFdIDogcGF0aDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbXBvc2UgaGFzaGJhbmcgdXJsIGFuZCB1cGRhdGUgYGFic1VybGAgcHJvcGVydHlcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuJCRjb21wb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlYXJjaCA9IHRvS2V5VmFsdWUodGhpcy4kJHNlYXJjaCksXG4gICAgICAgIGhhc2ggPSB0aGlzLiQkaGFzaCA/ICcjJyArIGVuY29kZVVyaVNlZ21lbnQodGhpcy4kJGhhc2gpIDogJyc7XG5cbiAgICB0aGlzLiQkdXJsID0gZW5jb2RlUGF0aCh0aGlzLiQkcGF0aCkgKyAoc2VhcmNoID8gJz8nICsgc2VhcmNoIDogJycpICsgaGFzaDtcbiAgICB0aGlzLiQkYWJzVXJsID0gYXBwQmFzZSArICh0aGlzLiQkdXJsID8gaGFzaFByZWZpeCArIHRoaXMuJCR1cmwgOiAnJyk7XG4gIH07XG5cbiAgdGhpcy4kJHBhcnNlTGlua1VybCA9IGZ1bmN0aW9uKHVybCwgcmVsSHJlZikge1xuICAgIGlmIChzdHJpcEhhc2goYXBwQmFzZSkgPT0gc3RyaXBIYXNoKHVybCkpIHtcbiAgICAgIHRoaXMuJCRwYXJzZSh1cmwpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbn1cblxuXG4vKipcbiAqIExvY2F0aW9uSGFzaGJhbmdVcmwgcmVwcmVzZW50cyB1cmxcbiAqIFRoaXMgb2JqZWN0IGlzIGV4cG9zZWQgYXMgJGxvY2F0aW9uIHNlcnZpY2Ugd2hlbiBodG1sNSBoaXN0b3J5IGFwaSBpcyBlbmFibGVkIGJ1dCB0aGUgYnJvd3NlclxuICogZG9lcyBub3Qgc3VwcG9ydCBpdC5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlIGFwcGxpY2F0aW9uIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gaGFzaFByZWZpeCBoYXNoYmFuZyBwcmVmaXhcbiAqL1xuZnVuY3Rpb24gTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwoYXBwQmFzZSwgaGFzaFByZWZpeCkge1xuICB0aGlzLiQkaHRtbDUgPSB0cnVlO1xuICBMb2NhdGlvbkhhc2hiYW5nVXJsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgdmFyIGFwcEJhc2VOb0ZpbGUgPSBzdHJpcEZpbGUoYXBwQmFzZSk7XG5cbiAgdGhpcy4kJHBhcnNlTGlua1VybCA9IGZ1bmN0aW9uKHVybCwgcmVsSHJlZikge1xuICAgIGlmIChyZWxIcmVmICYmIHJlbEhyZWZbMF0gPT09ICcjJykge1xuICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBsaW5rcyB0byBoYXNoIGZyYWdtZW50czpcbiAgICAgIC8vIGtlZXAgdGhlIG9sZCB1cmwgYW5kIG9ubHkgcmVwbGFjZSB0aGUgaGFzaCBmcmFnbWVudFxuICAgICAgdGhpcy5oYXNoKHJlbEhyZWYuc2xpY2UoMSkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIHJld3JpdHRlblVybDtcbiAgICB2YXIgYXBwVXJsO1xuXG4gICAgaWYgKGFwcEJhc2UgPT0gc3RyaXBIYXNoKHVybCkpIHtcbiAgICAgIHJld3JpdHRlblVybCA9IHVybDtcbiAgICB9IGVsc2UgaWYgKChhcHBVcmwgPSBiZWdpbnNXaXRoKGFwcEJhc2VOb0ZpbGUsIHVybCkpKSB7XG4gICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlICsgaGFzaFByZWZpeCArIGFwcFVybDtcbiAgICB9IGVsc2UgaWYgKGFwcEJhc2VOb0ZpbGUgPT09IHVybCArICcvJykge1xuICAgICAgcmV3cml0dGVuVXJsID0gYXBwQmFzZU5vRmlsZTtcbiAgICB9XG4gICAgaWYgKHJld3JpdHRlblVybCkge1xuICAgICAgdGhpcy4kJHBhcnNlKHJld3JpdHRlblVybCk7XG4gICAgfVxuICAgIHJldHVybiAhIXJld3JpdHRlblVybDtcbiAgfTtcblxuICB0aGlzLiQkY29tcG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWFyY2ggPSB0b0tleVZhbHVlKHRoaXMuJCRzZWFyY2gpLFxuICAgICAgICBoYXNoID0gdGhpcy4kJGhhc2ggPyAnIycgKyBlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKSA6ICcnO1xuXG4gICAgdGhpcy4kJHVybCA9IGVuY29kZVBhdGgodGhpcy4kJHBhdGgpICsgKHNlYXJjaCA/ICc/JyArIHNlYXJjaCA6ICcnKSArIGhhc2g7XG4gICAgLy8gaW5jbHVkZSBoYXNoUHJlZml4IGluICQkYWJzVXJsIHdoZW4gJCR1cmwgaXMgZW1wdHkgc28gSUU4ICYgOSBkbyBub3QgcmVsb2FkIHBhZ2UgYmVjYXVzZSBvZiByZW1vdmFsIG9mICcjJ1xuICAgIHRoaXMuJCRhYnNVcmwgPSBhcHBCYXNlICsgaGFzaFByZWZpeCArIHRoaXMuJCR1cmw7XG4gIH07XG5cbn1cblxuXG52YXIgbG9jYXRpb25Qcm90b3R5cGUgPSB7XG5cbiAgLyoqXG4gICAqIEFyZSB3ZSBpbiBodG1sNSBtb2RlP1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgJCRodG1sNTogZmFsc2UsXG5cbiAgLyoqXG4gICAqIEhhcyBhbnkgY2hhbmdlIGJlZW4gcmVwbGFjaW5nP1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgJCRyZXBsYWNlOiBmYWxzZSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jYWJzVXJsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgb25seS5cbiAgICpcbiAgICogUmV0dXJuIGZ1bGwgdXJsIHJlcHJlc2VudGF0aW9uIHdpdGggYWxsIHNlZ21lbnRzIGVuY29kZWQgYWNjb3JkaW5nIHRvIHJ1bGVzIHNwZWNpZmllZCBpblxuICAgKiBbUkZDIDM5ODZdKGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzM5ODYudHh0KS5cbiAgICpcbiAgICpcbiAgICogYGBganNcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXG4gICAqIHZhciBhYnNVcmwgPSAkbG9jYXRpb24uYWJzVXJsKCk7XG4gICAqIC8vID0+IFwiaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfSBmdWxsIHVybFxuICAgKi9cbiAgYWJzVXJsOiBsb2NhdGlvbkdldHRlcignJCRhYnNVcmwnKSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jdXJsXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXG4gICAqXG4gICAqIFJldHVybiB1cmwgKGUuZy4gYC9wYXRoP2E9YiNoYXNoYCkgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBDaGFuZ2UgcGF0aCwgc2VhcmNoIGFuZCBoYXNoLCB3aGVuIGNhbGxlZCB3aXRoIHBhcmFtZXRlciBhbmQgcmV0dXJuIGAkbG9jYXRpb25gLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIHVybCA9ICRsb2NhdGlvbi51cmwoKTtcbiAgICogLy8gPT4gXCIvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmc9fSB1cmwgTmV3IHVybCB3aXRob3V0IGJhc2UgcHJlZml4IChlLmcuIGAvcGF0aD9hPWIjaGFzaGApXG4gICAqIEByZXR1cm4ge3N0cmluZ30gdXJsXG4gICAqL1xuICB1cmw6IGZ1bmN0aW9uKHVybCkge1xuICAgIGlmIChpc1VuZGVmaW5lZCh1cmwpKSB7XG4gICAgICByZXR1cm4gdGhpcy4kJHVybDtcbiAgICB9XG5cbiAgICB2YXIgbWF0Y2ggPSBQQVRIX01BVENILmV4ZWModXJsKTtcbiAgICBpZiAobWF0Y2hbMV0gfHwgdXJsID09PSAnJykgdGhpcy5wYXRoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpO1xuICAgIGlmIChtYXRjaFsyXSB8fCBtYXRjaFsxXSB8fCB1cmwgPT09ICcnKSB0aGlzLnNlYXJjaChtYXRjaFszXSB8fCAnJyk7XG4gICAgdGhpcy5oYXNoKG1hdGNoWzVdIHx8ICcnKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNwcm90b2NvbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIG9ubHkuXG4gICAqXG4gICAqIFJldHVybiBwcm90b2NvbCBvZiBjdXJyZW50IHVybC5cbiAgICpcbiAgICpcbiAgICogYGBganNcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXG4gICAqIHZhciBwcm90b2NvbCA9ICRsb2NhdGlvbi5wcm90b2NvbCgpO1xuICAgKiAvLyA9PiBcImh0dHBcIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfSBwcm90b2NvbCBvZiBjdXJyZW50IHVybFxuICAgKi9cbiAgcHJvdG9jb2w6IGxvY2F0aW9uR2V0dGVyKCckJHByb3RvY29sJyksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uI2hvc3RcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciBvbmx5LlxuICAgKlxuICAgKiBSZXR1cm4gaG9zdCBvZiBjdXJyZW50IHVybC5cbiAgICpcbiAgICogTm90ZTogY29tcGFyZWQgdG8gdGhlIG5vbi1hbmd1bGFyIHZlcnNpb24gYGxvY2F0aW9uLmhvc3RgIHdoaWNoIHJldHVybnMgYGhvc3RuYW1lOnBvcnRgLCB0aGlzIHJldHVybnMgdGhlIGBob3N0bmFtZWAgcG9ydGlvbiBvbmx5LlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIGhvc3QgPSAkbG9jYXRpb24uaG9zdCgpO1xuICAgKiAvLyA9PiBcImV4YW1wbGUuY29tXCJcbiAgICpcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly91c2VyOnBhc3N3b3JkQGV4YW1wbGUuY29tOjgwODAvIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xuICAgKiBob3N0ID0gJGxvY2F0aW9uLmhvc3QoKTtcbiAgICogLy8gPT4gXCJleGFtcGxlLmNvbVwiXG4gICAqIGhvc3QgPSBsb2NhdGlvbi5ob3N0O1xuICAgKiAvLyA9PiBcImV4YW1wbGUuY29tOjgwODBcIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfSBob3N0IG9mIGN1cnJlbnQgdXJsLlxuICAgKi9cbiAgaG9zdDogbG9jYXRpb25HZXR0ZXIoJyQkaG9zdCcpLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvbiNwb3J0XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgb25seS5cbiAgICpcbiAgICogUmV0dXJuIHBvcnQgb2YgY3VycmVudCB1cmwuXG4gICAqXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIC8vIGdpdmVuIHVybCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xuICAgKiB2YXIgcG9ydCA9ICRsb2NhdGlvbi5wb3J0KCk7XG4gICAqIC8vID0+IDgwXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHBvcnRcbiAgICovXG4gIHBvcnQ6IGxvY2F0aW9uR2V0dGVyKCckJHBvcnQnKSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jcGF0aFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIC8gc2V0dGVyLlxuICAgKlxuICAgKiBSZXR1cm4gcGF0aCBvZiBjdXJyZW50IHVybCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIENoYW5nZSBwYXRoIHdoZW4gY2FsbGVkIHdpdGggcGFyYW1ldGVyIGFuZCByZXR1cm4gYCRsb2NhdGlvbmAuXG4gICAqXG4gICAqIE5vdGU6IFBhdGggc2hvdWxkIGFsd2F5cyBiZWdpbiB3aXRoIGZvcndhcmQgc2xhc2ggKC8pLCB0aGlzIG1ldGhvZCB3aWxsIGFkZCB0aGUgZm9yd2FyZCBzbGFzaFxuICAgKiBpZiBpdCBpcyBtaXNzaW5nLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cbiAgICogdmFyIHBhdGggPSAkbG9jYXRpb24ucGF0aCgpO1xuICAgKiAvLyA9PiBcIi9zb21lL3BhdGhcIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcik9fSBwYXRoIE5ldyBwYXRoXG4gICAqIEByZXR1cm4ge3N0cmluZ30gcGF0aFxuICAgKi9cbiAgcGF0aDogbG9jYXRpb25HZXR0ZXJTZXR0ZXIoJyQkcGF0aCcsIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICBwYXRoID0gcGF0aCAhPT0gbnVsbCA/IHBhdGgudG9TdHJpbmcoKSA6ICcnO1xuICAgIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PSAnLycgPyBwYXRoIDogJy8nICsgcGF0aDtcbiAgfSksXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uI3NlYXJjaFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIC8gc2V0dGVyLlxuICAgKlxuICAgKiBSZXR1cm4gc2VhcmNoIHBhcnQgKGFzIG9iamVjdCkgb2YgY3VycmVudCB1cmwgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBDaGFuZ2Ugc2VhcmNoIHBhcnQgd2hlbiBjYWxsZWQgd2l0aCBwYXJhbWV0ZXIgYW5kIHJldHVybiBgJGxvY2F0aW9uYC5cbiAgICpcbiAgICpcbiAgICogYGBganNcbiAgICogLy8gZ2l2ZW4gdXJsIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXG4gICAqIHZhciBzZWFyY2hPYmplY3QgPSAkbG9jYXRpb24uc2VhcmNoKCk7XG4gICAqIC8vID0+IHtmb286ICdiYXInLCBiYXo6ICd4b3hvJ31cbiAgICpcbiAgICogLy8gc2V0IGZvbyB0byAneWlwZWUnXG4gICAqICRsb2NhdGlvbi5zZWFyY2goJ2ZvbycsICd5aXBlZScpO1xuICAgKiAvLyAkbG9jYXRpb24uc2VhcmNoKCkgPT4ge2ZvbzogJ3lpcGVlJywgYmF6OiAneG94byd9XG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3QuPHN0cmluZz58T2JqZWN0LjxBcnJheS48c3RyaW5nPj59IHNlYXJjaCBOZXcgc2VhcmNoIHBhcmFtcyAtIHN0cmluZyBvclxuICAgKiBoYXNoIG9iamVjdC5cbiAgICpcbiAgICogV2hlbiBjYWxsZWQgd2l0aCBhIHNpbmdsZSBhcmd1bWVudCB0aGUgbWV0aG9kIGFjdHMgYXMgYSBzZXR0ZXIsIHNldHRpbmcgdGhlIGBzZWFyY2hgIGNvbXBvbmVudFxuICAgKiBvZiBgJGxvY2F0aW9uYCB0byB0aGUgc3BlY2lmaWVkIHZhbHVlLlxuICAgKlxuICAgKiBJZiB0aGUgYXJndW1lbnQgaXMgYSBoYXNoIG9iamVjdCBjb250YWluaW5nIGFuIGFycmF5IG9mIHZhbHVlcywgdGhlc2UgdmFsdWVzIHdpbGwgYmUgZW5jb2RlZFxuICAgKiBhcyBkdXBsaWNhdGUgc2VhcmNoIHBhcmFtZXRlcnMgaW4gdGhlIHVybC5cbiAgICpcbiAgICogQHBhcmFtIHsoc3RyaW5nfE51bWJlcnxBcnJheTxzdHJpbmc+fGJvb2xlYW4pPX0gcGFyYW1WYWx1ZSBJZiBgc2VhcmNoYCBpcyBhIHN0cmluZyBvciBudW1iZXIsIHRoZW4gYHBhcmFtVmFsdWVgXG4gICAqIHdpbGwgb3ZlcnJpZGUgb25seSBhIHNpbmdsZSBzZWFyY2ggcHJvcGVydHkuXG4gICAqXG4gICAqIElmIGBwYXJhbVZhbHVlYCBpcyBhbiBhcnJheSwgaXQgd2lsbCBvdmVycmlkZSB0aGUgcHJvcGVydHkgb2YgdGhlIGBzZWFyY2hgIGNvbXBvbmVudCBvZlxuICAgKiBgJGxvY2F0aW9uYCBzcGVjaWZpZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudC5cbiAgICpcbiAgICogSWYgYHBhcmFtVmFsdWVgIGlzIGBudWxsYCwgdGhlIHByb3BlcnR5IHNwZWNpZmllZCB2aWEgdGhlIGZpcnN0IGFyZ3VtZW50IHdpbGwgYmUgZGVsZXRlZC5cbiAgICpcbiAgICogSWYgYHBhcmFtVmFsdWVgIGlzIGB0cnVlYCwgdGhlIHByb3BlcnR5IHNwZWNpZmllZCB2aWEgdGhlIGZpcnN0IGFyZ3VtZW50IHdpbGwgYmUgYWRkZWQgd2l0aCBub1xuICAgKiB2YWx1ZSBub3IgdHJhaWxpbmcgZXF1YWwgc2lnbi5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fSBJZiBjYWxsZWQgd2l0aCBubyBhcmd1bWVudHMgcmV0dXJucyB0aGUgcGFyc2VkIGBzZWFyY2hgIG9iamVjdC4gSWYgY2FsbGVkIHdpdGhcbiAgICogb25lIG9yIG1vcmUgYXJndW1lbnRzIHJldHVybnMgYCRsb2NhdGlvbmAgb2JqZWN0IGl0c2VsZi5cbiAgICovXG4gIHNlYXJjaDogZnVuY3Rpb24oc2VhcmNoLCBwYXJhbVZhbHVlKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHJldHVybiB0aGlzLiQkc2VhcmNoO1xuICAgICAgY2FzZSAxOlxuICAgICAgICBpZiAoaXNTdHJpbmcoc2VhcmNoKSB8fCBpc051bWJlcihzZWFyY2gpKSB7XG4gICAgICAgICAgc2VhcmNoID0gc2VhcmNoLnRvU3RyaW5nKCk7XG4gICAgICAgICAgdGhpcy4kJHNlYXJjaCA9IHBhcnNlS2V5VmFsdWUoc2VhcmNoKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdChzZWFyY2gpKSB7XG4gICAgICAgICAgc2VhcmNoID0gY29weShzZWFyY2gsIHt9KTtcbiAgICAgICAgICAvLyByZW1vdmUgb2JqZWN0IHVuZGVmaW5lZCBvciBudWxsIHByb3BlcnRpZXNcbiAgICAgICAgICBmb3JFYWNoKHNlYXJjaCwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIGRlbGV0ZSBzZWFyY2hba2V5XTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHRoaXMuJCRzZWFyY2ggPSBzZWFyY2g7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgJGxvY2F0aW9uTWluRXJyKCdpc3JjaGFyZycsXG4gICAgICAgICAgICAgICdUaGUgZmlyc3QgYXJndW1lbnQgb2YgdGhlIGAkbG9jYXRpb24jc2VhcmNoKClgIGNhbGwgbXVzdCBiZSBhIHN0cmluZyBvciBhbiBvYmplY3QuJyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoaXNVbmRlZmluZWQocGFyYW1WYWx1ZSkgfHwgcGFyYW1WYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLiQkc2VhcmNoW3NlYXJjaF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy4kJHNlYXJjaFtzZWFyY2hdID0gcGFyYW1WYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuJCRjb21wb3NlKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uI2hhc2hcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cbiAgICpcbiAgICogUmV0dXJuIGhhc2ggZnJhZ21lbnQgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBDaGFuZ2UgaGFzaCBmcmFnbWVudCB3aGVuIGNhbGxlZCB3aXRoIHBhcmFtZXRlciBhbmQgcmV0dXJuIGAkbG9jYXRpb25gLlxuICAgKlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiAvLyBnaXZlbiB1cmwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG8jaGFzaFZhbHVlXG4gICAqIHZhciBoYXNoID0gJGxvY2F0aW9uLmhhc2goKTtcbiAgICogLy8gPT4gXCJoYXNoVmFsdWVcIlxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcik9fSBoYXNoIE5ldyBoYXNoIGZyYWdtZW50XG4gICAqIEByZXR1cm4ge3N0cmluZ30gaGFzaFxuICAgKi9cbiAgaGFzaDogbG9jYXRpb25HZXR0ZXJTZXR0ZXIoJyQkaGFzaCcsIGZ1bmN0aW9uKGhhc2gpIHtcbiAgICByZXR1cm4gaGFzaCAhPT0gbnVsbCA/IGhhc2gudG9TdHJpbmcoKSA6ICcnO1xuICB9KSxcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkbG9jYXRpb24jcmVwbGFjZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSWYgY2FsbGVkLCBhbGwgY2hhbmdlcyB0byAkbG9jYXRpb24gZHVyaW5nIGN1cnJlbnQgYCRkaWdlc3RgIHdpbGwgYmUgcmVwbGFjaW5nIGN1cnJlbnQgaGlzdG9yeVxuICAgKiByZWNvcmQsIGluc3RlYWQgb2YgYWRkaW5nIG5ldyBvbmUuXG4gICAqL1xuICByZXBsYWNlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiQkcmVwbGFjZSA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn07XG5cbmZvckVhY2goW0xvY2F0aW9uSGFzaGJhbmdJbkh0bWw1VXJsLCBMb2NhdGlvbkhhc2hiYW5nVXJsLCBMb2NhdGlvbkh0bWw1VXJsXSwgZnVuY3Rpb24oTG9jYXRpb24pIHtcbiAgTG9jYXRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShsb2NhdGlvblByb3RvdHlwZSk7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uI3N0YXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXG4gICAqXG4gICAqIFJldHVybiB0aGUgaGlzdG9yeSBzdGF0ZSBvYmplY3Qgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLlxuICAgKlxuICAgKiBDaGFuZ2UgdGhlIGhpc3Rvcnkgc3RhdGUgb2JqZWN0IHdoZW4gY2FsbGVkIHdpdGggb25lIHBhcmFtZXRlciBhbmQgcmV0dXJuIGAkbG9jYXRpb25gLlxuICAgKiBUaGUgc3RhdGUgb2JqZWN0IGlzIGxhdGVyIHBhc3NlZCB0byBgcHVzaFN0YXRlYCBvciBgcmVwbGFjZVN0YXRlYC5cbiAgICpcbiAgICogTk9URTogVGhpcyBtZXRob2QgaXMgc3VwcG9ydGVkIG9ubHkgaW4gSFRNTDUgbW9kZSBhbmQgb25seSBpbiBicm93c2VycyBzdXBwb3J0aW5nXG4gICAqIHRoZSBIVE1MNSBIaXN0b3J5IEFQSSAoaS5lLiBtZXRob2RzIGBwdXNoU3RhdGVgIGFuZCBgcmVwbGFjZVN0YXRlYCkuIElmIHlvdSBuZWVkIHRvIHN1cHBvcnRcbiAgICogb2xkZXIgYnJvd3NlcnMgKGxpa2UgSUU5IG9yIEFuZHJvaWQgPCA0LjApLCBkb24ndCB1c2UgdGhpcyBtZXRob2QuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gc3RhdGUgU3RhdGUgb2JqZWN0IGZvciBwdXNoU3RhdGUgb3IgcmVwbGFjZVN0YXRlXG4gICAqIEByZXR1cm4ge29iamVjdH0gc3RhdGVcbiAgICovXG4gIExvY2F0aW9uLnByb3RvdHlwZS5zdGF0ZSA9IGZ1bmN0aW9uKHN0YXRlKSB7XG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdGhpcy4kJHN0YXRlO1xuICAgIH1cblxuICAgIGlmIChMb2NhdGlvbiAhPT0gTG9jYXRpb25IdG1sNVVybCB8fCAhdGhpcy4kJGh0bWw1KSB7XG4gICAgICB0aHJvdyAkbG9jYXRpb25NaW5FcnIoJ25vc3RhdGUnLCAnSGlzdG9yeSBBUEkgc3RhdGUgc3VwcG9ydCBpcyBhdmFpbGFibGUgb25seSAnICtcbiAgICAgICAgJ2luIEhUTUw1IG1vZGUgYW5kIG9ubHkgaW4gYnJvd3NlcnMgc3VwcG9ydGluZyBIVE1MNSBIaXN0b3J5IEFQSScpO1xuICAgIH1cbiAgICAvLyBUaGUgdXNlciBtaWdodCBtb2RpZnkgYHN0YXRlT2JqZWN0YCBhZnRlciBpbnZva2luZyBgJGxvY2F0aW9uLnN0YXRlKHN0YXRlT2JqZWN0KWBcbiAgICAvLyBidXQgd2UncmUgY2hhbmdpbmcgdGhlICQkc3RhdGUgcmVmZXJlbmNlIHRvICRicm93c2VyLnN0YXRlKCkgZHVyaW5nIHRoZSAkZGlnZXN0XG4gICAgLy8gc28gdGhlIG1vZGlmaWNhdGlvbiB3aW5kb3cgaXMgbmFycm93LlxuICAgIHRoaXMuJCRzdGF0ZSA9IGlzVW5kZWZpbmVkKHN0YXRlKSA/IG51bGwgOiBzdGF0ZTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xufSk7XG5cblxuZnVuY3Rpb24gbG9jYXRpb25HZXR0ZXIocHJvcGVydHkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzW3Byb3BlcnR5XTtcbiAgfTtcbn1cblxuXG5mdW5jdGlvbiBsb2NhdGlvbkdldHRlclNldHRlcihwcm9wZXJ0eSwgcHJlcHJvY2Vzcykge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdGhpc1twcm9wZXJ0eV07XG4gICAgfVxuXG4gICAgdGhpc1twcm9wZXJ0eV0gPSBwcmVwcm9jZXNzKHZhbHVlKTtcbiAgICB0aGlzLiQkY29tcG9zZSgpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG59XG5cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGxvY2F0aW9uXG4gKlxuICogQHJlcXVpcmVzICRyb290RWxlbWVudFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlICRsb2NhdGlvbiBzZXJ2aWNlIHBhcnNlcyB0aGUgVVJMIGluIHRoZSBicm93c2VyIGFkZHJlc3MgYmFyIChiYXNlZCBvbiB0aGVcbiAqIFt3aW5kb3cubG9jYXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL3dpbmRvdy5sb2NhdGlvbikpIGFuZCBtYWtlcyB0aGUgVVJMXG4gKiBhdmFpbGFibGUgdG8geW91ciBhcHBsaWNhdGlvbi4gQ2hhbmdlcyB0byB0aGUgVVJMIGluIHRoZSBhZGRyZXNzIGJhciBhcmUgcmVmbGVjdGVkIGludG9cbiAqICRsb2NhdGlvbiBzZXJ2aWNlIGFuZCBjaGFuZ2VzIHRvICRsb2NhdGlvbiBhcmUgcmVmbGVjdGVkIGludG8gdGhlIGJyb3dzZXIgYWRkcmVzcyBiYXIuXG4gKlxuICogKipUaGUgJGxvY2F0aW9uIHNlcnZpY2U6KipcbiAqXG4gKiAtIEV4cG9zZXMgdGhlIGN1cnJlbnQgVVJMIGluIHRoZSBicm93c2VyIGFkZHJlc3MgYmFyLCBzbyB5b3UgY2FuXG4gKiAgIC0gV2F0Y2ggYW5kIG9ic2VydmUgdGhlIFVSTC5cbiAqICAgLSBDaGFuZ2UgdGhlIFVSTC5cbiAqIC0gU3luY2hyb25pemVzIHRoZSBVUkwgd2l0aCB0aGUgYnJvd3NlciB3aGVuIHRoZSB1c2VyXG4gKiAgIC0gQ2hhbmdlcyB0aGUgYWRkcmVzcyBiYXIuXG4gKiAgIC0gQ2xpY2tzIHRoZSBiYWNrIG9yIGZvcndhcmQgYnV0dG9uIChvciBjbGlja3MgYSBIaXN0b3J5IGxpbmspLlxuICogICAtIENsaWNrcyBvbiBhIGxpbmsuXG4gKiAtIFJlcHJlc2VudHMgdGhlIFVSTCBvYmplY3QgYXMgYSBzZXQgb2YgbWV0aG9kcyAocHJvdG9jb2wsIGhvc3QsIHBvcnQsIHBhdGgsIHNlYXJjaCwgaGFzaCkuXG4gKlxuICogRm9yIG1vcmUgaW5mb3JtYXRpb24gc2VlIHtAbGluayBndWlkZS8kbG9jYXRpb24gRGV2ZWxvcGVyIEd1aWRlOiBVc2luZyAkbG9jYXRpb259XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRsb2NhdGlvblByb3ZpZGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzZSB0aGUgYCRsb2NhdGlvblByb3ZpZGVyYCB0byBjb25maWd1cmUgaG93IHRoZSBhcHBsaWNhdGlvbiBkZWVwIGxpbmtpbmcgcGF0aHMgYXJlIHN0b3JlZC5cbiAqL1xuZnVuY3Rpb24gJExvY2F0aW9uUHJvdmlkZXIoKSB7XG4gIHZhciBoYXNoUHJlZml4ID0gJycsXG4gICAgICBodG1sNU1vZGUgPSB7XG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICByZXF1aXJlQmFzZTogdHJ1ZSxcbiAgICAgICAgcmV3cml0ZUxpbmtzOiB0cnVlXG4gICAgICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRsb2NhdGlvblByb3ZpZGVyI2hhc2hQcmVmaXhcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcHJlZml4IFByZWZpeCBmb3IgaGFzaCBwYXJ0IChjb250YWluaW5nIHBhdGggYW5kIHNlYXJjaClcbiAgICogQHJldHVybnMgeyp9IGN1cnJlbnQgdmFsdWUgaWYgdXNlZCBhcyBnZXR0ZXIgb3IgaXRzZWxmIChjaGFpbmluZykgaWYgdXNlZCBhcyBzZXR0ZXJcbiAgICovXG4gIHRoaXMuaGFzaFByZWZpeCA9IGZ1bmN0aW9uKHByZWZpeCkge1xuICAgIGlmIChpc0RlZmluZWQocHJlZml4KSkge1xuICAgICAgaGFzaFByZWZpeCA9IHByZWZpeDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaGFzaFByZWZpeDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvY2F0aW9uUHJvdmlkZXIjaHRtbDVNb2RlXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBAcGFyYW0geyhib29sZWFufE9iamVjdCk9fSBtb2RlIElmIGJvb2xlYW4sIHNldHMgYGh0bWw1TW9kZS5lbmFibGVkYCB0byB2YWx1ZS5cbiAgICogICBJZiBvYmplY3QsIHNldHMgYGVuYWJsZWRgLCBgcmVxdWlyZUJhc2VgIGFuZCBgcmV3cml0ZUxpbmtzYCB0byByZXNwZWN0aXZlIHZhbHVlcy4gU3VwcG9ydGVkXG4gICAqICAgcHJvcGVydGllczpcbiAgICogICAtICoqZW5hYmxlZCoqIOKAkyBge2Jvb2xlYW59YCDigJMgKGRlZmF1bHQ6IGZhbHNlKSBJZiB0cnVlLCB3aWxsIHJlbHkgb24gYGhpc3RvcnkucHVzaFN0YXRlYCB0b1xuICAgKiAgICAgY2hhbmdlIHVybHMgd2hlcmUgc3VwcG9ydGVkLiBXaWxsIGZhbGwgYmFjayB0byBoYXNoLXByZWZpeGVkIHBhdGhzIGluIGJyb3dzZXJzIHRoYXQgZG8gbm90XG4gICAqICAgICBzdXBwb3J0IGBwdXNoU3RhdGVgLlxuICAgKiAgIC0gKipyZXF1aXJlQmFzZSoqIC0gYHtib29sZWFufWAgLSAoZGVmYXVsdDogYHRydWVgKSBXaGVuIGh0bWw1TW9kZSBpcyBlbmFibGVkLCBzcGVjaWZpZXNcbiAgICogICAgIHdoZXRoZXIgb3Igbm90IGEgPGJhc2U+IHRhZyBpcyByZXF1aXJlZCB0byBiZSBwcmVzZW50LiBJZiBgZW5hYmxlZGAgYW5kIGByZXF1aXJlQmFzZWAgYXJlXG4gICAqICAgICB0cnVlLCBhbmQgYSBiYXNlIHRhZyBpcyBub3QgcHJlc2VudCwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24gd2hlbiBgJGxvY2F0aW9uYCBpcyBpbmplY3RlZC5cbiAgICogICAgIFNlZSB0aGUge0BsaW5rIGd1aWRlLyRsb2NhdGlvbiAkbG9jYXRpb24gZ3VpZGUgZm9yIG1vcmUgaW5mb3JtYXRpb259XG4gICAqICAgLSAqKnJld3JpdGVMaW5rcyoqIC0gYHtib29sZWFufWAgLSAoZGVmYXVsdDogYHRydWVgKSBXaGVuIGh0bWw1TW9kZSBpcyBlbmFibGVkLFxuICAgKiAgICAgZW5hYmxlcy9kaXNhYmxlcyB1cmwgcmV3cml0aW5nIGZvciByZWxhdGl2ZSBsaW5rcy5cbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gaHRtbDVNb2RlIG9iamVjdCBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxuICAgKi9cbiAgdGhpcy5odG1sNU1vZGUgPSBmdW5jdGlvbihtb2RlKSB7XG4gICAgaWYgKGlzQm9vbGVhbihtb2RlKSkge1xuICAgICAgaHRtbDVNb2RlLmVuYWJsZWQgPSBtb2RlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIGlmIChpc09iamVjdChtb2RlKSkge1xuXG4gICAgICBpZiAoaXNCb29sZWFuKG1vZGUuZW5hYmxlZCkpIHtcbiAgICAgICAgaHRtbDVNb2RlLmVuYWJsZWQgPSBtb2RlLmVuYWJsZWQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0Jvb2xlYW4obW9kZS5yZXF1aXJlQmFzZSkpIHtcbiAgICAgICAgaHRtbDVNb2RlLnJlcXVpcmVCYXNlID0gbW9kZS5yZXF1aXJlQmFzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQm9vbGVhbihtb2RlLnJld3JpdGVMaW5rcykpIHtcbiAgICAgICAgaHRtbDVNb2RlLnJld3JpdGVMaW5rcyA9IG1vZGUucmV3cml0ZUxpbmtzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGh0bWw1TW9kZTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBldmVudFxuICAgKiBAbmFtZSAkbG9jYXRpb24jJGxvY2F0aW9uQ2hhbmdlU3RhcnRcbiAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gcm9vdCBzY29wZVxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQnJvYWRjYXN0ZWQgYmVmb3JlIGEgVVJMIHdpbGwgY2hhbmdlLlxuICAgKlxuICAgKiBUaGlzIGNoYW5nZSBjYW4gYmUgcHJldmVudGVkIGJ5IGNhbGxpbmdcbiAgICogYHByZXZlbnREZWZhdWx0YCBtZXRob2Qgb2YgdGhlIGV2ZW50LiBTZWUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufSBmb3IgbW9yZVxuICAgKiBkZXRhaWxzIGFib3V0IGV2ZW50IG9iamVjdC4gVXBvbiBzdWNjZXNzZnVsIGNoYW5nZVxuICAgKiB7QGxpbmsgbmcuJGxvY2F0aW9uIyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MgJGxvY2F0aW9uQ2hhbmdlU3VjY2Vzc30gaXMgZmlyZWQuXG4gICAqXG4gICAqIFRoZSBgbmV3U3RhdGVgIGFuZCBgb2xkU3RhdGVgIHBhcmFtZXRlcnMgbWF5IGJlIGRlZmluZWQgb25seSBpbiBIVE1MNSBtb2RlIGFuZCB3aGVuXG4gICAqIHRoZSBicm93c2VyIHN1cHBvcnRzIHRoZSBIVE1MNSBIaXN0b3J5IEFQSS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3VXJsIE5ldyBVUkxcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBvbGRVcmwgVVJMIHRoYXQgd2FzIGJlZm9yZSBpdCB3YXMgY2hhbmdlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZXdTdGF0ZSBOZXcgaGlzdG9yeSBzdGF0ZSBvYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBvbGRTdGF0ZSBIaXN0b3J5IHN0YXRlIG9iamVjdCB0aGF0IHdhcyBiZWZvcmUgaXQgd2FzIGNoYW5nZWQuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZXZlbnRcbiAgICogQG5hbWUgJGxvY2F0aW9uIyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3NcbiAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gcm9vdCBzY29wZVxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQnJvYWRjYXN0ZWQgYWZ0ZXIgYSBVUkwgd2FzIGNoYW5nZWQuXG4gICAqXG4gICAqIFRoZSBgbmV3U3RhdGVgIGFuZCBgb2xkU3RhdGVgIHBhcmFtZXRlcnMgbWF5IGJlIGRlZmluZWQgb25seSBpbiBIVE1MNSBtb2RlIGFuZCB3aGVuXG4gICAqIHRoZSBicm93c2VyIHN1cHBvcnRzIHRoZSBIVE1MNSBIaXN0b3J5IEFQSS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3VXJsIE5ldyBVUkxcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBvbGRVcmwgVVJMIHRoYXQgd2FzIGJlZm9yZSBpdCB3YXMgY2hhbmdlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZXdTdGF0ZSBOZXcgaGlzdG9yeSBzdGF0ZSBvYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBvbGRTdGF0ZSBIaXN0b3J5IHN0YXRlIG9iamVjdCB0aGF0IHdhcyBiZWZvcmUgaXQgd2FzIGNoYW5nZWQuXG4gICAqL1xuXG4gIHRoaXMuJGdldCA9IFsnJHJvb3RTY29wZScsICckYnJvd3NlcicsICckc25pZmZlcicsICckcm9vdEVsZW1lbnQnLCAnJHdpbmRvdycsXG4gICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAkYnJvd3NlciwgJHNuaWZmZXIsICRyb290RWxlbWVudCwgJHdpbmRvdykge1xuICAgIHZhciAkbG9jYXRpb24sXG4gICAgICAgIExvY2F0aW9uTW9kZSxcbiAgICAgICAgYmFzZUhyZWYgPSAkYnJvd3Nlci5iYXNlSHJlZigpLCAvLyBpZiBiYXNlW2hyZWZdIGlzIHVuZGVmaW5lZCwgaXQgZGVmYXVsdHMgdG8gJydcbiAgICAgICAgaW5pdGlhbFVybCA9ICRicm93c2VyLnVybCgpLFxuICAgICAgICBhcHBCYXNlO1xuXG4gICAgaWYgKGh0bWw1TW9kZS5lbmFibGVkKSB7XG4gICAgICBpZiAoIWJhc2VIcmVmICYmIGh0bWw1TW9kZS5yZXF1aXJlQmFzZSkge1xuICAgICAgICB0aHJvdyAkbG9jYXRpb25NaW5FcnIoJ25vYmFzZScsXG4gICAgICAgICAgXCIkbG9jYXRpb24gaW4gSFRNTDUgbW9kZSByZXF1aXJlcyBhIDxiYXNlPiB0YWcgdG8gYmUgcHJlc2VudCFcIik7XG4gICAgICB9XG4gICAgICBhcHBCYXNlID0gc2VydmVyQmFzZShpbml0aWFsVXJsKSArIChiYXNlSHJlZiB8fCAnLycpO1xuICAgICAgTG9jYXRpb25Nb2RlID0gJHNuaWZmZXIuaGlzdG9yeSA/IExvY2F0aW9uSHRtbDVVcmwgOiBMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybDtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBwQmFzZSA9IHN0cmlwSGFzaChpbml0aWFsVXJsKTtcbiAgICAgIExvY2F0aW9uTW9kZSA9IExvY2F0aW9uSGFzaGJhbmdVcmw7XG4gICAgfVxuICAgICRsb2NhdGlvbiA9IG5ldyBMb2NhdGlvbk1vZGUoYXBwQmFzZSwgJyMnICsgaGFzaFByZWZpeCk7XG4gICAgJGxvY2F0aW9uLiQkcGFyc2VMaW5rVXJsKGluaXRpYWxVcmwsIGluaXRpYWxVcmwpO1xuXG4gICAgJGxvY2F0aW9uLiQkc3RhdGUgPSAkYnJvd3Nlci5zdGF0ZSgpO1xuXG4gICAgdmFyIElHTk9SRV9VUklfUkVHRVhQID0gL15cXHMqKGphdmFzY3JpcHR8bWFpbHRvKTovaTtcblxuICAgIGZ1bmN0aW9uIHNldEJyb3dzZXJVcmxXaXRoRmFsbGJhY2sodXJsLCByZXBsYWNlLCBzdGF0ZSkge1xuICAgICAgdmFyIG9sZFVybCA9ICRsb2NhdGlvbi51cmwoKTtcbiAgICAgIHZhciBvbGRTdGF0ZSA9ICRsb2NhdGlvbi4kJHN0YXRlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgJGJyb3dzZXIudXJsKHVybCwgcmVwbGFjZSwgc3RhdGUpO1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSAkbG9jYXRpb24uc3RhdGUoKSByZXR1cm5zIHJlZmVyZW50aWFsbHkgaWRlbnRpY2FsIChub3QganVzdCBkZWVwbHkgZXF1YWwpXG4gICAgICAgIC8vIHN0YXRlIG9iamVjdDsgdGhpcyBtYWtlcyBwb3NzaWJsZSBxdWljayBjaGVja2luZyBpZiB0aGUgc3RhdGUgY2hhbmdlZCBpbiB0aGUgZGlnZXN0XG4gICAgICAgIC8vIGxvb3AuIENoZWNraW5nIGRlZXAgZXF1YWxpdHkgd291bGQgYmUgdG9vIGV4cGVuc2l2ZS5cbiAgICAgICAgJGxvY2F0aW9uLiQkc3RhdGUgPSAkYnJvd3Nlci5zdGF0ZSgpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBSZXN0b3JlIG9sZCB2YWx1ZXMgaWYgcHVzaFN0YXRlIGZhaWxzXG4gICAgICAgICRsb2NhdGlvbi51cmwob2xkVXJsKTtcbiAgICAgICAgJGxvY2F0aW9uLiQkc3RhdGUgPSBvbGRTdGF0ZTtcblxuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH1cblxuICAgICRyb290RWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgLy8gVE9ETyh2b2p0YSk6IHJld3JpdGUgbGluayB3aGVuIG9wZW5pbmcgaW4gbmV3IHRhYi93aW5kb3cgKGluIGxlZ2FjeSBicm93c2VyKVxuICAgICAgLy8gY3VycmVudGx5IHdlIG9wZW4gbmljZSB1cmwgbGluayBhbmQgcmVkaXJlY3QgdGhlblxuXG4gICAgICBpZiAoIWh0bWw1TW9kZS5yZXdyaXRlTGlua3MgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5IHx8IGV2ZW50LnNoaWZ0S2V5IHx8IGV2ZW50LndoaWNoID09IDIgfHwgZXZlbnQuYnV0dG9uID09IDIpIHJldHVybjtcblxuICAgICAgdmFyIGVsbSA9IGpxTGl0ZShldmVudC50YXJnZXQpO1xuXG4gICAgICAvLyB0cmF2ZXJzZSB0aGUgRE9NIHVwIHRvIGZpbmQgZmlyc3QgQSB0YWdcbiAgICAgIHdoaWxlIChub2RlTmFtZV8oZWxtWzBdKSAhPT0gJ2EnKSB7XG4gICAgICAgIC8vIGlnbm9yZSByZXdyaXRpbmcgaWYgbm8gQSB0YWcgKHJlYWNoZWQgcm9vdCBlbGVtZW50LCBvciBubyBwYXJlbnQgLSByZW1vdmVkIGZyb20gZG9jdW1lbnQpXG4gICAgICAgIGlmIChlbG1bMF0gPT09ICRyb290RWxlbWVudFswXSB8fCAhKGVsbSA9IGVsbS5wYXJlbnQoKSlbMF0pIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGFic0hyZWYgPSBlbG0ucHJvcCgnaHJlZicpO1xuICAgICAgLy8gZ2V0IHRoZSBhY3R1YWwgaHJlZiBhdHRyaWJ1dGUgLSBzZWVcbiAgICAgIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9kZDM0NzE0OCh2PXZzLjg1KS5hc3B4XG4gICAgICB2YXIgcmVsSHJlZiA9IGVsbS5hdHRyKCdocmVmJykgfHwgZWxtLmF0dHIoJ3hsaW5rOmhyZWYnKTtcblxuICAgICAgaWYgKGlzT2JqZWN0KGFic0hyZWYpICYmIGFic0hyZWYudG9TdHJpbmcoKSA9PT0gJ1tvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddJykge1xuICAgICAgICAvLyBTVkdBbmltYXRlZFN0cmluZy5hbmltVmFsIHNob3VsZCBiZSBpZGVudGljYWwgdG8gU1ZHQW5pbWF0ZWRTdHJpbmcuYmFzZVZhbCwgdW5sZXNzIGR1cmluZ1xuICAgICAgICAvLyBhbiBhbmltYXRpb24uXG4gICAgICAgIGFic0hyZWYgPSB1cmxSZXNvbHZlKGFic0hyZWYuYW5pbVZhbCkuaHJlZjtcbiAgICAgIH1cblxuICAgICAgLy8gSWdub3JlIHdoZW4gdXJsIGlzIHN0YXJ0ZWQgd2l0aCBqYXZhc2NyaXB0OiBvciBtYWlsdG86XG4gICAgICBpZiAoSUdOT1JFX1VSSV9SRUdFWFAudGVzdChhYnNIcmVmKSkgcmV0dXJuO1xuXG4gICAgICBpZiAoYWJzSHJlZiAmJiAhZWxtLmF0dHIoJ3RhcmdldCcpICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICBpZiAoJGxvY2F0aW9uLiQkcGFyc2VMaW5rVXJsKGFic0hyZWYsIHJlbEhyZWYpKSB7XG4gICAgICAgICAgLy8gV2UgZG8gYSBwcmV2ZW50RGVmYXVsdCBmb3IgYWxsIHVybHMgdGhhdCBhcmUgcGFydCBvZiB0aGUgYW5ndWxhciBhcHBsaWNhdGlvbixcbiAgICAgICAgICAvLyBpbiBodG1sNW1vZGUgYW5kIGFsc28gd2l0aG91dCwgc28gdGhhdCB3ZSBhcmUgYWJsZSB0byBhYm9ydCBuYXZpZ2F0aW9uIHdpdGhvdXRcbiAgICAgICAgICAvLyBnZXR0aW5nIGRvdWJsZSBlbnRyaWVzIGluIHRoZSBsb2NhdGlvbiBoaXN0b3J5LlxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgLy8gdXBkYXRlIGxvY2F0aW9uIG1hbnVhbGx5XG4gICAgICAgICAgaWYgKCRsb2NhdGlvbi5hYnNVcmwoKSAhPSAkYnJvd3Nlci51cmwoKSkge1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICAgIC8vIGhhY2sgdG8gd29yayBhcm91bmQgRkY2IGJ1ZyA2ODQyMDggd2hlbiBzY2VuYXJpbyBydW5uZXIgY2xpY2tzIG9uIGxpbmtzXG4gICAgICAgICAgICAkd2luZG93LmFuZ3VsYXJbJ2ZmLTY4NDIwOC1wcmV2ZW50RGVmYXVsdCddID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuXG4gICAgLy8gcmV3cml0ZSBoYXNoYmFuZyB1cmwgPD4gaHRtbDUgdXJsXG4gICAgaWYgKHRyaW1FbXB0eUhhc2goJGxvY2F0aW9uLmFic1VybCgpKSAhPSB0cmltRW1wdHlIYXNoKGluaXRpYWxVcmwpKSB7XG4gICAgICAkYnJvd3Nlci51cmwoJGxvY2F0aW9uLmFic1VybCgpLCB0cnVlKTtcbiAgICB9XG5cbiAgICB2YXIgaW5pdGlhbGl6aW5nID0gdHJ1ZTtcblxuICAgIC8vIHVwZGF0ZSAkbG9jYXRpb24gd2hlbiAkYnJvd3NlciB1cmwgY2hhbmdlc1xuICAgICRicm93c2VyLm9uVXJsQ2hhbmdlKGZ1bmN0aW9uKG5ld1VybCwgbmV3U3RhdGUpIHtcbiAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9sZFVybCA9ICRsb2NhdGlvbi5hYnNVcmwoKTtcbiAgICAgICAgdmFyIG9sZFN0YXRlID0gJGxvY2F0aW9uLiQkc3RhdGU7XG4gICAgICAgIHZhciBkZWZhdWx0UHJldmVudGVkO1xuXG4gICAgICAgICRsb2NhdGlvbi4kJHBhcnNlKG5ld1VybCk7XG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gbmV3U3RhdGU7XG5cbiAgICAgICAgZGVmYXVsdFByZXZlbnRlZCA9ICRyb290U2NvcGUuJGJyb2FkY2FzdCgnJGxvY2F0aW9uQ2hhbmdlU3RhcnQnLCBuZXdVcmwsIG9sZFVybCxcbiAgICAgICAgICAgIG5ld1N0YXRlLCBvbGRTdGF0ZSkuZGVmYXVsdFByZXZlbnRlZDtcblxuICAgICAgICAvLyBpZiB0aGUgbG9jYXRpb24gd2FzIGNoYW5nZWQgYnkgYSBgJGxvY2F0aW9uQ2hhbmdlU3RhcnRgIGhhbmRsZXIgdGhlbiBzdG9wXG4gICAgICAgIC8vIHByb2Nlc3NpbmcgdGhpcyBsb2NhdGlvbiBjaGFuZ2VcbiAgICAgICAgaWYgKCRsb2NhdGlvbi5hYnNVcmwoKSAhPT0gbmV3VXJsKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAkbG9jYXRpb24uJCRwYXJzZShvbGRVcmwpO1xuICAgICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gb2xkU3RhdGU7XG4gICAgICAgICAgc2V0QnJvd3NlclVybFdpdGhGYWxsYmFjayhvbGRVcmwsIGZhbHNlLCBvbGRTdGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5pdGlhbGl6aW5nID0gZmFsc2U7XG4gICAgICAgICAgYWZ0ZXJMb2NhdGlvbkNoYW5nZShvbGRVcmwsIG9sZFN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgfSk7XG5cbiAgICAvLyB1cGRhdGUgYnJvd3NlclxuICAgICRyb290U2NvcGUuJHdhdGNoKGZ1bmN0aW9uICRsb2NhdGlvbldhdGNoKCkge1xuICAgICAgdmFyIG9sZFVybCA9IHRyaW1FbXB0eUhhc2goJGJyb3dzZXIudXJsKCkpO1xuICAgICAgdmFyIG5ld1VybCA9IHRyaW1FbXB0eUhhc2goJGxvY2F0aW9uLmFic1VybCgpKTtcbiAgICAgIHZhciBvbGRTdGF0ZSA9ICRicm93c2VyLnN0YXRlKCk7XG4gICAgICB2YXIgY3VycmVudFJlcGxhY2UgPSAkbG9jYXRpb24uJCRyZXBsYWNlO1xuICAgICAgdmFyIHVybE9yU3RhdGVDaGFuZ2VkID0gb2xkVXJsICE9PSBuZXdVcmwgfHxcbiAgICAgICAgKCRsb2NhdGlvbi4kJGh0bWw1ICYmICRzbmlmZmVyLmhpc3RvcnkgJiYgb2xkU3RhdGUgIT09ICRsb2NhdGlvbi4kJHN0YXRlKTtcblxuICAgICAgaWYgKGluaXRpYWxpemluZyB8fCB1cmxPclN0YXRlQ2hhbmdlZCkge1xuICAgICAgICBpbml0aWFsaXppbmcgPSBmYWxzZTtcblxuICAgICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIG5ld1VybCA9ICRsb2NhdGlvbi5hYnNVcmwoKTtcbiAgICAgICAgICB2YXIgZGVmYXVsdFByZXZlbnRlZCA9ICRyb290U2NvcGUuJGJyb2FkY2FzdCgnJGxvY2F0aW9uQ2hhbmdlU3RhcnQnLCBuZXdVcmwsIG9sZFVybCxcbiAgICAgICAgICAgICAgJGxvY2F0aW9uLiQkc3RhdGUsIG9sZFN0YXRlKS5kZWZhdWx0UHJldmVudGVkO1xuXG4gICAgICAgICAgLy8gaWYgdGhlIGxvY2F0aW9uIHdhcyBjaGFuZ2VkIGJ5IGEgYCRsb2NhdGlvbkNoYW5nZVN0YXJ0YCBoYW5kbGVyIHRoZW4gc3RvcFxuICAgICAgICAgIC8vIHByb2Nlc3NpbmcgdGhpcyBsb2NhdGlvbiBjaGFuZ2VcbiAgICAgICAgICBpZiAoJGxvY2F0aW9uLmFic1VybCgpICE9PSBuZXdVcmwpIHJldHVybjtcblxuICAgICAgICAgIGlmIChkZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICAkbG9jYXRpb24uJCRwYXJzZShvbGRVcmwpO1xuICAgICAgICAgICAgJGxvY2F0aW9uLiQkc3RhdGUgPSBvbGRTdGF0ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHVybE9yU3RhdGVDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgIHNldEJyb3dzZXJVcmxXaXRoRmFsbGJhY2sobmV3VXJsLCBjdXJyZW50UmVwbGFjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRTdGF0ZSA9PT0gJGxvY2F0aW9uLiQkc3RhdGUgPyBudWxsIDogJGxvY2F0aW9uLiQkc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWZ0ZXJMb2NhdGlvbkNoYW5nZShvbGRVcmwsIG9sZFN0YXRlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAkbG9jYXRpb24uJCRyZXBsYWNlID0gZmFsc2U7XG5cbiAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gcmV0dXJuIGFueXRoaW5nIGJlY2F1c2UgJGV2YWxBc3luYyB3aWxsIG1ha2UgdGhlIGRpZ2VzdCBsb29wIGRpcnR5IHdoZW5cbiAgICAgIC8vIHRoZXJlIGlzIGEgY2hhbmdlXG4gICAgfSk7XG5cbiAgICByZXR1cm4gJGxvY2F0aW9uO1xuXG4gICAgZnVuY3Rpb24gYWZ0ZXJMb2NhdGlvbkNoYW5nZShvbGRVcmwsIG9sZFN0YXRlKSB7XG4gICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MnLCAkbG9jYXRpb24uYWJzVXJsKCksIG9sZFVybCxcbiAgICAgICAgJGxvY2F0aW9uLiQkc3RhdGUsIG9sZFN0YXRlKTtcbiAgICB9XG59XTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJGxvZ1xuICogQHJlcXVpcmVzICR3aW5kb3dcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNpbXBsZSBzZXJ2aWNlIGZvciBsb2dnaW5nLiBEZWZhdWx0IGltcGxlbWVudGF0aW9uIHNhZmVseSB3cml0ZXMgdGhlIG1lc3NhZ2VcbiAqIGludG8gdGhlIGJyb3dzZXIncyBjb25zb2xlIChpZiBwcmVzZW50KS5cbiAqXG4gKiBUaGUgbWFpbiBwdXJwb3NlIG9mIHRoaXMgc2VydmljZSBpcyB0byBzaW1wbGlmeSBkZWJ1Z2dpbmcgYW5kIHRyb3VibGVzaG9vdGluZy5cbiAqXG4gKiBUaGUgZGVmYXVsdCBpcyB0byBsb2cgYGRlYnVnYCBtZXNzYWdlcy4gWW91IGNhbiB1c2VcbiAqIHtAbGluayBuZy4kbG9nUHJvdmlkZXIgbmcuJGxvZ1Byb3ZpZGVyI2RlYnVnRW5hYmxlZH0gdG8gY2hhbmdlIHRoaXMuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cImxvZ0V4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgIGFuZ3VsYXIubW9kdWxlKCdsb2dFeGFtcGxlJywgW10pXG4gICAgICAgICAuY29udHJvbGxlcignTG9nQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRsb2cnLCBmdW5jdGlvbigkc2NvcGUsICRsb2cpIHtcbiAgICAgICAgICAgJHNjb3BlLiRsb2cgPSAkbG9nO1xuICAgICAgICAgICAkc2NvcGUubWVzc2FnZSA9ICdIZWxsbyBXb3JsZCEnO1xuICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiTG9nQ29udHJvbGxlclwiPlxuICAgICAgICAgPHA+UmVsb2FkIHRoaXMgcGFnZSB3aXRoIG9wZW4gY29uc29sZSwgZW50ZXIgdGV4dCBhbmQgaGl0IHRoZSBsb2cgYnV0dG9uLi4uPC9wPlxuICAgICAgICAgPGxhYmVsPk1lc3NhZ2U6XG4gICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm1lc3NhZ2VcIiAvPjwvbGFiZWw+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy5sb2cobWVzc2FnZSlcIj5sb2c8L2J1dHRvbj5cbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLndhcm4obWVzc2FnZSlcIj53YXJuPC9idXR0b24+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy5pbmZvKG1lc3NhZ2UpXCI+aW5mbzwvYnV0dG9uPlxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIiRsb2cuZXJyb3IobWVzc2FnZSlcIj5lcnJvcjwvYnV0dG9uPlxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIiRsb2cuZGVidWcobWVzc2FnZSlcIj5kZWJ1ZzwvYnV0dG9uPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRsb2dQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2UgdGhlIGAkbG9nUHJvdmlkZXJgIHRvIGNvbmZpZ3VyZSBob3cgdGhlIGFwcGxpY2F0aW9uIGxvZ3MgbWVzc2FnZXNcbiAqL1xuZnVuY3Rpb24gJExvZ1Byb3ZpZGVyKCkge1xuICB2YXIgZGVidWcgPSB0cnVlLFxuICAgICAgc2VsZiA9IHRoaXM7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJGxvZ1Byb3ZpZGVyI2RlYnVnRW5hYmxlZFxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQHBhcmFtIHtib29sZWFuPX0gZmxhZyBlbmFibGUgb3IgZGlzYWJsZSBkZWJ1ZyBsZXZlbCBtZXNzYWdlc1xuICAgKiBAcmV0dXJucyB7Kn0gY3VycmVudCB2YWx1ZSBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxuICAgKi9cbiAgdGhpcy5kZWJ1Z0VuYWJsZWQgPSBmdW5jdGlvbihmbGFnKSB7XG4gICAgaWYgKGlzRGVmaW5lZChmbGFnKSkge1xuICAgICAgZGVidWcgPSBmbGFnO1xuICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZGVidWc7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsIGZ1bmN0aW9uKCR3aW5kb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkbG9nI2xvZ1xuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogV3JpdGUgYSBsb2cgbWVzc2FnZVxuICAgICAgICovXG4gICAgICBsb2c6IGNvbnNvbGVMb2coJ2xvZycpLFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRsb2cjaW5mb1xuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogV3JpdGUgYW4gaW5mb3JtYXRpb24gbWVzc2FnZVxuICAgICAgICovXG4gICAgICBpbmZvOiBjb25zb2xlTG9nKCdpbmZvJyksXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGxvZyN3YXJuXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBXcml0ZSBhIHdhcm5pbmcgbWVzc2FnZVxuICAgICAgICovXG4gICAgICB3YXJuOiBjb25zb2xlTG9nKCd3YXJuJyksXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJGxvZyNlcnJvclxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogV3JpdGUgYW4gZXJyb3IgbWVzc2FnZVxuICAgICAgICovXG4gICAgICBlcnJvcjogY29uc29sZUxvZygnZXJyb3InKSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkbG9nI2RlYnVnXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBXcml0ZSBhIGRlYnVnIG1lc3NhZ2VcbiAgICAgICAqL1xuICAgICAgZGVidWc6IChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGZuID0gY29uc29sZUxvZygnZGVidWcnKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICBmbi5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0oKSlcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZm9ybWF0RXJyb3IoYXJnKSB7XG4gICAgICBpZiAoYXJnIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgaWYgKGFyZy5zdGFjaykge1xuICAgICAgICAgIGFyZyA9IChhcmcubWVzc2FnZSAmJiBhcmcuc3RhY2suaW5kZXhPZihhcmcubWVzc2FnZSkgPT09IC0xKVxuICAgICAgICAgICAgICA/ICdFcnJvcjogJyArIGFyZy5tZXNzYWdlICsgJ1xcbicgKyBhcmcuc3RhY2tcbiAgICAgICAgICAgICAgOiBhcmcuc3RhY2s7XG4gICAgICAgIH0gZWxzZSBpZiAoYXJnLnNvdXJjZVVSTCkge1xuICAgICAgICAgIGFyZyA9IGFyZy5tZXNzYWdlICsgJ1xcbicgKyBhcmcuc291cmNlVVJMICsgJzonICsgYXJnLmxpbmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcmc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29uc29sZUxvZyh0eXBlKSB7XG4gICAgICB2YXIgY29uc29sZSA9ICR3aW5kb3cuY29uc29sZSB8fCB7fSxcbiAgICAgICAgICBsb2dGbiA9IGNvbnNvbGVbdHlwZV0gfHwgY29uc29sZS5sb2cgfHwgbm9vcCxcbiAgICAgICAgICBoYXNBcHBseSA9IGZhbHNlO1xuXG4gICAgICAvLyBOb3RlOiByZWFkaW5nIGxvZ0ZuLmFwcGx5IHRocm93cyBhbiBlcnJvciBpbiBJRTExIGluIElFOCBkb2N1bWVudCBtb2RlLlxuICAgICAgLy8gVGhlIHJlYXNvbiBiZWhpbmQgdGhpcyBpcyB0aGF0IGNvbnNvbGUubG9nIGhhcyB0eXBlIFwib2JqZWN0XCIgaW4gSUU4Li4uXG4gICAgICB0cnkge1xuICAgICAgICBoYXNBcHBseSA9ICEhbG9nRm4uYXBwbHk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICBpZiAoaGFzQXBwbHkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgZm9yRWFjaChhcmd1bWVudHMsIGZ1bmN0aW9uKGFyZykge1xuICAgICAgICAgICAgYXJncy5wdXNoKGZvcm1hdEVycm9yKGFyZykpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBsb2dGbi5hcHBseShjb25zb2xlLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLy8gd2UgYXJlIElFIHdoaWNoIGVpdGhlciBkb2Vzbid0IGhhdmUgd2luZG93LmNvbnNvbGUgPT4gdGhpcyBpcyBub29wIGFuZCB3ZSBkbyBub3RoaW5nLFxuICAgICAgLy8gb3Igd2UgYXJlIElFIHdoZXJlIGNvbnNvbGUubG9nIGRvZXNuJ3QgaGF2ZSBhcHBseSBzbyB3ZSBsb2cgYXQgbGVhc3QgZmlyc3QgMiBhcmdzXG4gICAgICByZXR1cm4gZnVuY3Rpb24oYXJnMSwgYXJnMikge1xuICAgICAgICBsb2dGbihhcmcxLCBhcmcyID09IG51bGwgPyAnJyA6IGFyZzIpO1xuICAgICAgfTtcbiAgICB9XG4gIH1dO1xufVxuXG4vKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqXG4gKiAgICAgQW55IGNvbW1pdHMgdG8gdGhpcyBmaWxlIHNob3VsZCBiZSByZXZpZXdlZCB3aXRoIHNlY3VyaXR5IGluIG1pbmQuICAqXG4gKiAgIENoYW5nZXMgdG8gdGhpcyBmaWxlIGNhbiBwb3RlbnRpYWxseSBjcmVhdGUgc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLiAqXG4gKiAgICAgICAgICBBbiBhcHByb3ZhbCBmcm9tIDIgQ29yZSBtZW1iZXJzIHdpdGggaGlzdG9yeSBvZiBtb2RpZnlpbmcgICAgICAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIGZpbGUgaXMgcmVxdWlyZWQuICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKiAgRG9lcyB0aGUgY2hhbmdlIHNvbWVob3cgYWxsb3cgZm9yIGFyYml0cmFyeSBqYXZhc2NyaXB0IHRvIGJlIGV4ZWN1dGVkPyAqXG4gKiAgICBPciBhbGxvd3MgZm9yIHNvbWVvbmUgdG8gY2hhbmdlIHRoZSBwcm90b3R5cGUgb2YgYnVpbHQtaW4gb2JqZWN0cz8gICAqXG4gKiAgICAgT3IgZ2l2ZXMgdW5kZXNpcmVkIGFjY2VzcyB0byB2YXJpYWJsZXMgbGlrZXMgZG9jdW1lbnQgb3Igd2luZG93PyAgICAqXG4gKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqL1xuXG52YXIgJHBhcnNlTWluRXJyID0gbWluRXJyKCckcGFyc2UnKTtcblxuLy8gU2FuZGJveGluZyBBbmd1bGFyIEV4cHJlc3Npb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEFuZ3VsYXIgZXhwcmVzc2lvbnMgYXJlIGdlbmVyYWxseSBjb25zaWRlcmVkIHNhZmUgYmVjYXVzZSB0aGVzZSBleHByZXNzaW9ucyBvbmx5IGhhdmUgZGlyZWN0XG4vLyBhY2Nlc3MgdG8gYCRzY29wZWAgYW5kIGxvY2Fscy4gSG93ZXZlciwgb25lIGNhbiBvYnRhaW4gdGhlIGFiaWxpdHkgdG8gZXhlY3V0ZSBhcmJpdHJhcnkgSlMgY29kZSBieVxuLy8gb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIG5hdGl2ZSBKUyBmdW5jdGlvbnMgc3VjaCBhcyB0aGUgRnVuY3Rpb24gY29uc3RydWN0b3IuXG4vL1xuLy8gQXMgYW4gZXhhbXBsZSwgY29uc2lkZXIgdGhlIGZvbGxvd2luZyBBbmd1bGFyIGV4cHJlc3Npb246XG4vL1xuLy8gICB7fS50b1N0cmluZy5jb25zdHJ1Y3RvcignYWxlcnQoXCJldmlsIEpTIGNvZGVcIiknKVxuLy9cbi8vIFRoaXMgc2FuZGJveGluZyB0ZWNobmlxdWUgaXMgbm90IHBlcmZlY3QgYW5kIGRvZXNuJ3QgYWltIHRvIGJlLiBUaGUgZ29hbCBpcyB0byBwcmV2ZW50IGV4cGxvaXRzXG4vLyBhZ2FpbnN0IHRoZSBleHByZXNzaW9uIGxhbmd1YWdlLCBidXQgbm90IHRvIHByZXZlbnQgZXhwbG9pdHMgdGhhdCB3ZXJlIGVuYWJsZWQgYnkgZXhwb3Npbmdcbi8vIHNlbnNpdGl2ZSBKYXZhU2NyaXB0IG9yIGJyb3dzZXIgQVBJcyBvbiBTY29wZS4gRXhwb3Npbmcgc3VjaCBvYmplY3RzIG9uIGEgU2NvcGUgaXMgbmV2ZXIgYSBnb29kXG4vLyBwcmFjdGljZSBhbmQgdGhlcmVmb3JlIHdlIGFyZSBub3QgZXZlbiB0cnlpbmcgdG8gcHJvdGVjdCBhZ2FpbnN0IGludGVyYWN0aW9uIHdpdGggYW4gb2JqZWN0XG4vLyBleHBsaWNpdGx5IGV4cG9zZWQgaW4gdGhpcyB3YXkuXG4vL1xuLy8gSW4gZ2VuZXJhbCwgaXQgaXMgbm90IHBvc3NpYmxlIHRvIGFjY2VzcyBhIFdpbmRvdyBvYmplY3QgZnJvbSBhbiBhbmd1bGFyIGV4cHJlc3Npb24gdW5sZXNzIGFcbi8vIHdpbmRvdyBvciBzb21lIERPTSBvYmplY3QgdGhhdCBoYXMgYSByZWZlcmVuY2UgdG8gd2luZG93IGlzIHB1Ymxpc2hlZCBvbnRvIGEgU2NvcGUuXG4vLyBTaW1pbGFybHkgd2UgcHJldmVudCBpbnZvY2F0aW9ucyBvZiBmdW5jdGlvbiBrbm93biB0byBiZSBkYW5nZXJvdXMsIGFzIHdlbGwgYXMgYXNzaWdubWVudHMgdG9cbi8vIG5hdGl2ZSBvYmplY3RzLlxuLy9cbi8vIFNlZSBodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9ndWlkZS9zZWN1cml0eVxuXG5cbmZ1bmN0aW9uIGVuc3VyZVNhZmVNZW1iZXJOYW1lKG5hbWUsIGZ1bGxFeHByZXNzaW9uKSB7XG4gIGlmIChuYW1lID09PSBcIl9fZGVmaW5lR2V0dGVyX19cIiB8fCBuYW1lID09PSBcIl9fZGVmaW5lU2V0dGVyX19cIlxuICAgICAgfHwgbmFtZSA9PT0gXCJfX2xvb2t1cEdldHRlcl9fXCIgfHwgbmFtZSA9PT0gXCJfX2xvb2t1cFNldHRlcl9fXCJcbiAgICAgIHx8IG5hbWUgPT09IFwiX19wcm90b19fXCIpIHtcbiAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWNmbGQnLFxuICAgICAgICAnQXR0ZW1wdGluZyB0byBhY2Nlc3MgYSBkaXNhbGxvd2VkIGZpZWxkIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMhICdcbiAgICAgICAgKyAnRXhwcmVzc2lvbjogezB9JywgZnVsbEV4cHJlc3Npb24pO1xuICB9XG4gIHJldHVybiBuYW1lO1xufVxuXG5mdW5jdGlvbiBlbnN1cmVTYWZlT2JqZWN0KG9iaiwgZnVsbEV4cHJlc3Npb24pIHtcbiAgLy8gbmlmdHkgY2hlY2sgaWYgb2JqIGlzIEZ1bmN0aW9uIHRoYXQgaXMgZmFzdCBhbmQgd29ya3MgYWNyb3NzIGlmcmFtZXMgYW5kIG90aGVyIGNvbnRleHRzXG4gIGlmIChvYmopIHtcbiAgICBpZiAob2JqLmNvbnN0cnVjdG9yID09PSBvYmopIHtcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycignaXNlY2ZuJyxcbiAgICAgICAgICAnUmVmZXJlbmNpbmcgRnVuY3Rpb24gaW4gQW5ndWxhciBleHByZXNzaW9ucyBpcyBkaXNhbGxvd2VkISBFeHByZXNzaW9uOiB7MH0nLFxuICAgICAgICAgIGZ1bGxFeHByZXNzaW9uKTtcbiAgICB9IGVsc2UgaWYgKC8vIGlzV2luZG93KG9iailcbiAgICAgICAgb2JqLndpbmRvdyA9PT0gb2JqKSB7XG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWN3aW5kb3cnLFxuICAgICAgICAgICdSZWZlcmVuY2luZyB0aGUgV2luZG93IGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JyxcbiAgICAgICAgICBmdWxsRXhwcmVzc2lvbik7XG4gICAgfSBlbHNlIGlmICgvLyBpc0VsZW1lbnQob2JqKVxuICAgICAgICBvYmouY2hpbGRyZW4gJiYgKG9iai5ub2RlTmFtZSB8fCAob2JqLnByb3AgJiYgb2JqLmF0dHIgJiYgb2JqLmZpbmQpKSkge1xuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2VjZG9tJyxcbiAgICAgICAgICAnUmVmZXJlbmNpbmcgRE9NIG5vZGVzIGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JyxcbiAgICAgICAgICBmdWxsRXhwcmVzc2lvbik7XG4gICAgfSBlbHNlIGlmICgvLyBibG9jayBPYmplY3Qgc28gdGhhdCB3ZSBjYW4ndCBnZXQgaG9sZCBvZiBkYW5nZXJvdXMgT2JqZWN0LiogbWV0aG9kc1xuICAgICAgICBvYmogPT09IE9iamVjdCkge1xuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2Vjb2JqJyxcbiAgICAgICAgICAnUmVmZXJlbmNpbmcgT2JqZWN0IGluIEFuZ3VsYXIgZXhwcmVzc2lvbnMgaXMgZGlzYWxsb3dlZCEgRXhwcmVzc2lvbjogezB9JyxcbiAgICAgICAgICBmdWxsRXhwcmVzc2lvbik7XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbnZhciBDQUxMID0gRnVuY3Rpb24ucHJvdG90eXBlLmNhbGw7XG52YXIgQVBQTFkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG52YXIgQklORCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xuXG5mdW5jdGlvbiBlbnN1cmVTYWZlRnVuY3Rpb24ob2JqLCBmdWxsRXhwcmVzc2lvbikge1xuICBpZiAob2JqKSB7XG4gICAgaWYgKG9iai5jb25zdHJ1Y3RvciA9PT0gb2JqKSB7XG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2lzZWNmbicsXG4gICAgICAgICdSZWZlcmVuY2luZyBGdW5jdGlvbiBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfScsXG4gICAgICAgIGZ1bGxFeHByZXNzaW9uKTtcbiAgICB9IGVsc2UgaWYgKG9iaiA9PT0gQ0FMTCB8fCBvYmogPT09IEFQUExZIHx8IG9iaiA9PT0gQklORCkge1xuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdpc2VjZmYnLFxuICAgICAgICAnUmVmZXJlbmNpbmcgY2FsbCwgYXBwbHkgb3IgYmluZCBpbiBBbmd1bGFyIGV4cHJlc3Npb25zIGlzIGRpc2FsbG93ZWQhIEV4cHJlc3Npb246IHswfScsXG4gICAgICAgIGZ1bGxFeHByZXNzaW9uKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIE9QRVJBVE9SUyA9IGNyZWF0ZU1hcCgpO1xuZm9yRWFjaCgnKyAtICogLyAlID09PSAhPT0gPT0gIT0gPCA+IDw9ID49ICYmIHx8ICEgPSB8Jy5zcGxpdCgnICcpLCBmdW5jdGlvbihvcGVyYXRvcikgeyBPUEVSQVRPUlNbb3BlcmF0b3JdID0gdHJ1ZTsgfSk7XG52YXIgRVNDQVBFID0ge1wiblwiOlwiXFxuXCIsIFwiZlwiOlwiXFxmXCIsIFwiclwiOlwiXFxyXCIsIFwidFwiOlwiXFx0XCIsIFwidlwiOlwiXFx2XCIsIFwiJ1wiOlwiJ1wiLCAnXCInOidcIid9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIExleGVyID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xufTtcblxuTGV4ZXIucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogTGV4ZXIsXG5cbiAgbGV4OiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLmluZGV4ID0gMDtcbiAgICB0aGlzLnRva2VucyA9IFtdO1xuXG4gICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLnRleHQubGVuZ3RoKSB7XG4gICAgICB2YXIgY2ggPSB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpO1xuICAgICAgaWYgKGNoID09PSAnXCInIHx8IGNoID09PSBcIidcIikge1xuICAgICAgICB0aGlzLnJlYWRTdHJpbmcoY2gpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzTnVtYmVyKGNoKSB8fCBjaCA9PT0gJy4nICYmIHRoaXMuaXNOdW1iZXIodGhpcy5wZWVrKCkpKSB7XG4gICAgICAgIHRoaXMucmVhZE51bWJlcigpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzSWRlbnQoY2gpKSB7XG4gICAgICAgIHRoaXMucmVhZElkZW50KCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXMoY2gsICcoKXt9W10uLDs6PycpKSB7XG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2goe2luZGV4OiB0aGlzLmluZGV4LCB0ZXh0OiBjaH0pO1xuICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNXaGl0ZXNwYWNlKGNoKSkge1xuICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgY2gyID0gY2ggKyB0aGlzLnBlZWsoKTtcbiAgICAgICAgdmFyIGNoMyA9IGNoMiArIHRoaXMucGVlaygyKTtcbiAgICAgICAgdmFyIG9wMSA9IE9QRVJBVE9SU1tjaF07XG4gICAgICAgIHZhciBvcDIgPSBPUEVSQVRPUlNbY2gyXTtcbiAgICAgICAgdmFyIG9wMyA9IE9QRVJBVE9SU1tjaDNdO1xuICAgICAgICBpZiAob3AxIHx8IG9wMiB8fCBvcDMpIHtcbiAgICAgICAgICB2YXIgdG9rZW4gPSBvcDMgPyBjaDMgOiAob3AyID8gY2gyIDogY2gpO1xuICAgICAgICAgIHRoaXMudG9rZW5zLnB1c2goe2luZGV4OiB0aGlzLmluZGV4LCB0ZXh0OiB0b2tlbiwgb3BlcmF0b3I6IHRydWV9KTtcbiAgICAgICAgICB0aGlzLmluZGV4ICs9IHRva2VuLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnRocm93RXJyb3IoJ1VuZXhwZWN0ZWQgbmV4dCBjaGFyYWN0ZXIgJywgdGhpcy5pbmRleCwgdGhpcy5pbmRleCArIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRva2VucztcbiAgfSxcblxuICBpczogZnVuY3Rpb24oY2gsIGNoYXJzKSB7XG4gICAgcmV0dXJuIGNoYXJzLmluZGV4T2YoY2gpICE9PSAtMTtcbiAgfSxcblxuICBwZWVrOiBmdW5jdGlvbihpKSB7XG4gICAgdmFyIG51bSA9IGkgfHwgMTtcbiAgICByZXR1cm4gKHRoaXMuaW5kZXggKyBudW0gPCB0aGlzLnRleHQubGVuZ3RoKSA/IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCArIG51bSkgOiBmYWxzZTtcbiAgfSxcblxuICBpc051bWJlcjogZnVuY3Rpb24oY2gpIHtcbiAgICByZXR1cm4gKCcwJyA8PSBjaCAmJiBjaCA8PSAnOScpICYmIHR5cGVvZiBjaCA9PT0gXCJzdHJpbmdcIjtcbiAgfSxcblxuICBpc1doaXRlc3BhY2U6IGZ1bmN0aW9uKGNoKSB7XG4gICAgLy8gSUUgdHJlYXRzIG5vbi1icmVha2luZyBzcGFjZSBhcyBcXHUwMEEwXG4gICAgcmV0dXJuIChjaCA9PT0gJyAnIHx8IGNoID09PSAnXFxyJyB8fCBjaCA9PT0gJ1xcdCcgfHxcbiAgICAgICAgICAgIGNoID09PSAnXFxuJyB8fCBjaCA9PT0gJ1xcdicgfHwgY2ggPT09ICdcXHUwMEEwJyk7XG4gIH0sXG5cbiAgaXNJZGVudDogZnVuY3Rpb24oY2gpIHtcbiAgICByZXR1cm4gKCdhJyA8PSBjaCAmJiBjaCA8PSAneicgfHxcbiAgICAgICAgICAgICdBJyA8PSBjaCAmJiBjaCA8PSAnWicgfHxcbiAgICAgICAgICAgICdfJyA9PT0gY2ggfHwgY2ggPT09ICckJyk7XG4gIH0sXG5cbiAgaXNFeHBPcGVyYXRvcjogZnVuY3Rpb24oY2gpIHtcbiAgICByZXR1cm4gKGNoID09PSAnLScgfHwgY2ggPT09ICcrJyB8fCB0aGlzLmlzTnVtYmVyKGNoKSk7XG4gIH0sXG5cbiAgdGhyb3dFcnJvcjogZnVuY3Rpb24oZXJyb3IsIHN0YXJ0LCBlbmQpIHtcbiAgICBlbmQgPSBlbmQgfHwgdGhpcy5pbmRleDtcbiAgICB2YXIgY29sU3RyID0gKGlzRGVmaW5lZChzdGFydClcbiAgICAgICAgICAgID8gJ3MgJyArIHN0YXJ0ICsgICctJyArIHRoaXMuaW5kZXggKyAnIFsnICsgdGhpcy50ZXh0LnN1YnN0cmluZyhzdGFydCwgZW5kKSArICddJ1xuICAgICAgICAgICAgOiAnICcgKyBlbmQpO1xuICAgIHRocm93ICRwYXJzZU1pbkVycignbGV4ZXJyJywgJ0xleGVyIEVycm9yOiB7MH0gYXQgY29sdW1uezF9IGluIGV4cHJlc3Npb24gW3syfV0uJyxcbiAgICAgICAgZXJyb3IsIGNvbFN0ciwgdGhpcy50ZXh0KTtcbiAgfSxcblxuICByZWFkTnVtYmVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbnVtYmVyID0gJyc7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMudGV4dC5sZW5ndGgpIHtcbiAgICAgIHZhciBjaCA9IGxvd2VyY2FzZSh0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpKTtcbiAgICAgIGlmIChjaCA9PSAnLicgfHwgdGhpcy5pc051bWJlcihjaCkpIHtcbiAgICAgICAgbnVtYmVyICs9IGNoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHBlZWtDaCA9IHRoaXMucGVlaygpO1xuICAgICAgICBpZiAoY2ggPT0gJ2UnICYmIHRoaXMuaXNFeHBPcGVyYXRvcihwZWVrQ2gpKSB7XG4gICAgICAgICAgbnVtYmVyICs9IGNoO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNFeHBPcGVyYXRvcihjaCkgJiZcbiAgICAgICAgICAgIHBlZWtDaCAmJiB0aGlzLmlzTnVtYmVyKHBlZWtDaCkgJiZcbiAgICAgICAgICAgIG51bWJlci5jaGFyQXQobnVtYmVyLmxlbmd0aCAtIDEpID09ICdlJykge1xuICAgICAgICAgIG51bWJlciArPSBjaDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzRXhwT3BlcmF0b3IoY2gpICYmXG4gICAgICAgICAgICAoIXBlZWtDaCB8fCAhdGhpcy5pc051bWJlcihwZWVrQ2gpKSAmJlxuICAgICAgICAgICAgbnVtYmVyLmNoYXJBdChudW1iZXIubGVuZ3RoIC0gMSkgPT0gJ2UnKSB7XG4gICAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdJbnZhbGlkIGV4cG9uZW50Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuaW5kZXgrKztcbiAgICB9XG4gICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICBpbmRleDogc3RhcnQsXG4gICAgICB0ZXh0OiBudW1iZXIsXG4gICAgICBjb25zdGFudDogdHJ1ZSxcbiAgICAgIHZhbHVlOiBOdW1iZXIobnVtYmVyKVxuICAgIH0pO1xuICB9LFxuXG4gIHJlYWRJZGVudDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMudGV4dC5sZW5ndGgpIHtcbiAgICAgIHZhciBjaCA9IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7XG4gICAgICBpZiAoISh0aGlzLmlzSWRlbnQoY2gpIHx8IHRoaXMuaXNOdW1iZXIoY2gpKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5kZXgrKztcbiAgICB9XG4gICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICBpbmRleDogc3RhcnQsXG4gICAgICB0ZXh0OiB0aGlzLnRleHQuc2xpY2Uoc3RhcnQsIHRoaXMuaW5kZXgpLFxuICAgICAgaWRlbnRpZmllcjogdHJ1ZVxuICAgIH0pO1xuICB9LFxuXG4gIHJlYWRTdHJpbmc6IGZ1bmN0aW9uKHF1b3RlKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5pbmRleDtcbiAgICB0aGlzLmluZGV4Kys7XG4gICAgdmFyIHN0cmluZyA9ICcnO1xuICAgIHZhciByYXdTdHJpbmcgPSBxdW90ZTtcbiAgICB2YXIgZXNjYXBlID0gZmFsc2U7XG4gICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLnRleHQubGVuZ3RoKSB7XG4gICAgICB2YXIgY2ggPSB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpO1xuICAgICAgcmF3U3RyaW5nICs9IGNoO1xuICAgICAgaWYgKGVzY2FwZSkge1xuICAgICAgICBpZiAoY2ggPT09ICd1Jykge1xuICAgICAgICAgIHZhciBoZXggPSB0aGlzLnRleHQuc3Vic3RyaW5nKHRoaXMuaW5kZXggKyAxLCB0aGlzLmluZGV4ICsgNSk7XG4gICAgICAgICAgaWYgKCFoZXgubWF0Y2goL1tcXGRhLWZdezR9L2kpKSB7XG4gICAgICAgICAgICB0aGlzLnRocm93RXJyb3IoJ0ludmFsaWQgdW5pY29kZSBlc2NhcGUgW1xcXFx1JyArIGhleCArICddJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuaW5kZXggKz0gNDtcbiAgICAgICAgICBzdHJpbmcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChoZXgsIDE2KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHJlcCA9IEVTQ0FQRVtjaF07XG4gICAgICAgICAgc3RyaW5nID0gc3RyaW5nICsgKHJlcCB8fCBjaCk7XG4gICAgICAgIH1cbiAgICAgICAgZXNjYXBlID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGNoID09PSAnXFxcXCcpIHtcbiAgICAgICAgZXNjYXBlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoY2ggPT09IHF1b3RlKSB7XG4gICAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgICAgaW5kZXg6IHN0YXJ0LFxuICAgICAgICAgIHRleHQ6IHJhd1N0cmluZyxcbiAgICAgICAgICBjb25zdGFudDogdHJ1ZSxcbiAgICAgICAgICB2YWx1ZTogc3RyaW5nXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHJpbmcgKz0gY2g7XG4gICAgICB9XG4gICAgICB0aGlzLmluZGV4Kys7XG4gICAgfVxuICAgIHRoaXMudGhyb3dFcnJvcignVW50ZXJtaW5hdGVkIHF1b3RlJywgc3RhcnQpO1xuICB9XG59O1xuXG52YXIgQVNUID0gZnVuY3Rpb24obGV4ZXIsIG9wdGlvbnMpIHtcbiAgdGhpcy5sZXhlciA9IGxleGVyO1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xufTtcblxuQVNULlByb2dyYW0gPSAnUHJvZ3JhbSc7XG5BU1QuRXhwcmVzc2lvblN0YXRlbWVudCA9ICdFeHByZXNzaW9uU3RhdGVtZW50JztcbkFTVC5Bc3NpZ25tZW50RXhwcmVzc2lvbiA9ICdBc3NpZ25tZW50RXhwcmVzc2lvbic7XG5BU1QuQ29uZGl0aW9uYWxFeHByZXNzaW9uID0gJ0NvbmRpdGlvbmFsRXhwcmVzc2lvbic7XG5BU1QuTG9naWNhbEV4cHJlc3Npb24gPSAnTG9naWNhbEV4cHJlc3Npb24nO1xuQVNULkJpbmFyeUV4cHJlc3Npb24gPSAnQmluYXJ5RXhwcmVzc2lvbic7XG5BU1QuVW5hcnlFeHByZXNzaW9uID0gJ1VuYXJ5RXhwcmVzc2lvbic7XG5BU1QuQ2FsbEV4cHJlc3Npb24gPSAnQ2FsbEV4cHJlc3Npb24nO1xuQVNULk1lbWJlckV4cHJlc3Npb24gPSAnTWVtYmVyRXhwcmVzc2lvbic7XG5BU1QuSWRlbnRpZmllciA9ICdJZGVudGlmaWVyJztcbkFTVC5MaXRlcmFsID0gJ0xpdGVyYWwnO1xuQVNULkFycmF5RXhwcmVzc2lvbiA9ICdBcnJheUV4cHJlc3Npb24nO1xuQVNULlByb3BlcnR5ID0gJ1Byb3BlcnR5JztcbkFTVC5PYmplY3RFeHByZXNzaW9uID0gJ09iamVjdEV4cHJlc3Npb24nO1xuQVNULlRoaXNFeHByZXNzaW9uID0gJ1RoaXNFeHByZXNzaW9uJztcblxuLy8gSW50ZXJuYWwgdXNlIG9ubHlcbkFTVC5OR1ZhbHVlUGFyYW1ldGVyID0gJ05HVmFsdWVQYXJhbWV0ZXInO1xuXG5BU1QucHJvdG90eXBlID0ge1xuICBhc3Q6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgIHRoaXMudG9rZW5zID0gdGhpcy5sZXhlci5sZXgodGV4dCk7XG5cbiAgICB2YXIgdmFsdWUgPSB0aGlzLnByb2dyYW0oKTtcblxuICAgIGlmICh0aGlzLnRva2Vucy5sZW5ndGggIT09IDApIHtcbiAgICAgIHRoaXMudGhyb3dFcnJvcignaXMgYW4gdW5leHBlY3RlZCB0b2tlbicsIHRoaXMudG9rZW5zWzBdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0sXG5cbiAgcHJvZ3JhbTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGJvZHkgPSBbXTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKHRoaXMudG9rZW5zLmxlbmd0aCA+IDAgJiYgIXRoaXMucGVlaygnfScsICcpJywgJzsnLCAnXScpKVxuICAgICAgICBib2R5LnB1c2godGhpcy5leHByZXNzaW9uU3RhdGVtZW50KCkpO1xuICAgICAgaWYgKCF0aGlzLmV4cGVjdCgnOycpKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IEFTVC5Qcm9ncmFtLCBib2R5OiBib2R5fTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgZXhwcmVzc2lvblN0YXRlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogQVNULkV4cHJlc3Npb25TdGF0ZW1lbnQsIGV4cHJlc3Npb246IHRoaXMuZmlsdGVyQ2hhaW4oKSB9O1xuICB9LFxuXG4gIGZpbHRlckNoYWluOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMuZXhwcmVzc2lvbigpO1xuICAgIHZhciB0b2tlbjtcbiAgICB3aGlsZSAoKHRva2VuID0gdGhpcy5leHBlY3QoJ3wnKSkpIHtcbiAgICAgIGxlZnQgPSB0aGlzLmZpbHRlcihsZWZ0KTtcbiAgICB9XG4gICAgcmV0dXJuIGxlZnQ7XG4gIH0sXG5cbiAgZXhwcmVzc2lvbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYXNzaWdubWVudCgpO1xuICB9LFxuXG4gIGFzc2lnbm1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXN1bHQgPSB0aGlzLnRlcm5hcnkoKTtcbiAgICBpZiAodGhpcy5leHBlY3QoJz0nKSkge1xuICAgICAgcmVzdWx0ID0geyB0eXBlOiBBU1QuQXNzaWdubWVudEV4cHJlc3Npb24sIGxlZnQ6IHJlc3VsdCwgcmlnaHQ6IHRoaXMuYXNzaWdubWVudCgpLCBvcGVyYXRvcjogJz0nfTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcblxuICB0ZXJuYXJ5OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdGVzdCA9IHRoaXMubG9naWNhbE9SKCk7XG4gICAgdmFyIGFsdGVybmF0ZTtcbiAgICB2YXIgY29uc2VxdWVudDtcbiAgICBpZiAodGhpcy5leHBlY3QoJz8nKSkge1xuICAgICAgYWx0ZXJuYXRlID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgICBpZiAodGhpcy5jb25zdW1lKCc6JykpIHtcbiAgICAgICAgY29uc2VxdWVudCA9IHRoaXMuZXhwcmVzc2lvbigpO1xuICAgICAgICByZXR1cm4geyB0eXBlOiBBU1QuQ29uZGl0aW9uYWxFeHByZXNzaW9uLCB0ZXN0OiB0ZXN0LCBhbHRlcm5hdGU6IGFsdGVybmF0ZSwgY29uc2VxdWVudDogY29uc2VxdWVudH07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZXN0O1xuICB9LFxuXG4gIGxvZ2ljYWxPUjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlZnQgPSB0aGlzLmxvZ2ljYWxBTkQoKTtcbiAgICB3aGlsZSAodGhpcy5leHBlY3QoJ3x8JykpIHtcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5Mb2dpY2FsRXhwcmVzc2lvbiwgb3BlcmF0b3I6ICd8fCcsIGxlZnQ6IGxlZnQsIHJpZ2h0OiB0aGlzLmxvZ2ljYWxBTkQoKSB9O1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBsb2dpY2FsQU5EOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMuZXF1YWxpdHkoKTtcbiAgICB3aGlsZSAodGhpcy5leHBlY3QoJyYmJykpIHtcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5Mb2dpY2FsRXhwcmVzc2lvbiwgb3BlcmF0b3I6ICcmJicsIGxlZnQ6IGxlZnQsIHJpZ2h0OiB0aGlzLmVxdWFsaXR5KCl9O1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBlcXVhbGl0eTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlZnQgPSB0aGlzLnJlbGF0aW9uYWwoKTtcbiAgICB2YXIgdG9rZW47XG4gICAgd2hpbGUgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCc9PScsJyE9JywnPT09JywnIT09JykpKSB7XG4gICAgICBsZWZ0ID0geyB0eXBlOiBBU1QuQmluYXJ5RXhwcmVzc2lvbiwgb3BlcmF0b3I6IHRva2VuLnRleHQsIGxlZnQ6IGxlZnQsIHJpZ2h0OiB0aGlzLnJlbGF0aW9uYWwoKSB9O1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICByZWxhdGlvbmFsOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGVmdCA9IHRoaXMuYWRkaXRpdmUoKTtcbiAgICB2YXIgdG9rZW47XG4gICAgd2hpbGUgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCc8JywgJz4nLCAnPD0nLCAnPj0nKSkpIHtcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5CaW5hcnlFeHByZXNzaW9uLCBvcGVyYXRvcjogdG9rZW4udGV4dCwgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMuYWRkaXRpdmUoKSB9O1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBhZGRpdGl2ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlZnQgPSB0aGlzLm11bHRpcGxpY2F0aXZlKCk7XG4gICAgdmFyIHRva2VuO1xuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnKycsJy0nKSkpIHtcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5CaW5hcnlFeHByZXNzaW9uLCBvcGVyYXRvcjogdG9rZW4udGV4dCwgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMubXVsdGlwbGljYXRpdmUoKSB9O1xuICAgIH1cbiAgICByZXR1cm4gbGVmdDtcbiAgfSxcblxuICBtdWx0aXBsaWNhdGl2ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlZnQgPSB0aGlzLnVuYXJ5KCk7XG4gICAgdmFyIHRva2VuO1xuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnKicsJy8nLCclJykpKSB7XG4gICAgICBsZWZ0ID0geyB0eXBlOiBBU1QuQmluYXJ5RXhwcmVzc2lvbiwgb3BlcmF0b3I6IHRva2VuLnRleHQsIGxlZnQ6IGxlZnQsIHJpZ2h0OiB0aGlzLnVuYXJ5KCkgfTtcbiAgICB9XG4gICAgcmV0dXJuIGxlZnQ7XG4gIH0sXG5cbiAgdW5hcnk6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0b2tlbjtcbiAgICBpZiAoKHRva2VuID0gdGhpcy5leHBlY3QoJysnLCAnLScsICchJykpKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBBU1QuVW5hcnlFeHByZXNzaW9uLCBvcGVyYXRvcjogdG9rZW4udGV4dCwgcHJlZml4OiB0cnVlLCBhcmd1bWVudDogdGhpcy51bmFyeSgpIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByaW1hcnkoKTtcbiAgICB9XG4gIH0sXG5cbiAgcHJpbWFyeTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHByaW1hcnk7XG4gICAgaWYgKHRoaXMuZXhwZWN0KCcoJykpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLmZpbHRlckNoYWluKCk7XG4gICAgICB0aGlzLmNvbnN1bWUoJyknKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZXhwZWN0KCdbJykpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLmFycmF5RGVjbGFyYXRpb24oKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZXhwZWN0KCd7JykpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLm9iamVjdCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5jb25zdGFudHMuaGFzT3duUHJvcGVydHkodGhpcy5wZWVrKCkudGV4dCkpIHtcbiAgICAgIHByaW1hcnkgPSBjb3B5KHRoaXMuY29uc3RhbnRzW3RoaXMuY29uc3VtZSgpLnRleHRdKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucGVlaygpLmlkZW50aWZpZXIpIHtcbiAgICAgIHByaW1hcnkgPSB0aGlzLmlkZW50aWZpZXIoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucGVlaygpLmNvbnN0YW50KSB7XG4gICAgICBwcmltYXJ5ID0gdGhpcy5jb25zdGFudCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRocm93RXJyb3IoJ25vdCBhIHByaW1hcnkgZXhwcmVzc2lvbicsIHRoaXMucGVlaygpKTtcbiAgICB9XG5cbiAgICB2YXIgbmV4dDtcbiAgICB3aGlsZSAoKG5leHQgPSB0aGlzLmV4cGVjdCgnKCcsICdbJywgJy4nKSkpIHtcbiAgICAgIGlmIChuZXh0LnRleHQgPT09ICcoJykge1xuICAgICAgICBwcmltYXJ5ID0ge3R5cGU6IEFTVC5DYWxsRXhwcmVzc2lvbiwgY2FsbGVlOiBwcmltYXJ5LCBhcmd1bWVudHM6IHRoaXMucGFyc2VBcmd1bWVudHMoKSB9O1xuICAgICAgICB0aGlzLmNvbnN1bWUoJyknKTtcbiAgICAgIH0gZWxzZSBpZiAobmV4dC50ZXh0ID09PSAnWycpIHtcbiAgICAgICAgcHJpbWFyeSA9IHsgdHlwZTogQVNULk1lbWJlckV4cHJlc3Npb24sIG9iamVjdDogcHJpbWFyeSwgcHJvcGVydHk6IHRoaXMuZXhwcmVzc2lvbigpLCBjb21wdXRlZDogdHJ1ZSB9O1xuICAgICAgICB0aGlzLmNvbnN1bWUoJ10nKTtcbiAgICAgIH0gZWxzZSBpZiAobmV4dC50ZXh0ID09PSAnLicpIHtcbiAgICAgICAgcHJpbWFyeSA9IHsgdHlwZTogQVNULk1lbWJlckV4cHJlc3Npb24sIG9iamVjdDogcHJpbWFyeSwgcHJvcGVydHk6IHRoaXMuaWRlbnRpZmllcigpLCBjb21wdXRlZDogZmFsc2UgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudGhyb3dFcnJvcignSU1QT1NTSUJMRScpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJpbWFyeTtcbiAgfSxcblxuICBmaWx0ZXI6IGZ1bmN0aW9uKGJhc2VFeHByZXNzaW9uKSB7XG4gICAgdmFyIGFyZ3MgPSBbYmFzZUV4cHJlc3Npb25dO1xuICAgIHZhciByZXN1bHQgPSB7dHlwZTogQVNULkNhbGxFeHByZXNzaW9uLCBjYWxsZWU6IHRoaXMuaWRlbnRpZmllcigpLCBhcmd1bWVudHM6IGFyZ3MsIGZpbHRlcjogdHJ1ZX07XG5cbiAgICB3aGlsZSAodGhpcy5leHBlY3QoJzonKSkge1xuICAgICAgYXJncy5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LFxuXG4gIHBhcnNlQXJndW1lbnRzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGlmICh0aGlzLnBlZWtUb2tlbigpLnRleHQgIT09ICcpJykge1xuICAgICAgZG8ge1xuICAgICAgICBhcmdzLnB1c2godGhpcy5leHByZXNzaW9uKCkpO1xuICAgICAgfSB3aGlsZSAodGhpcy5leHBlY3QoJywnKSk7XG4gICAgfVxuICAgIHJldHVybiBhcmdzO1xuICB9LFxuXG4gIGlkZW50aWZpZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0b2tlbiA9IHRoaXMuY29uc3VtZSgpO1xuICAgIGlmICghdG9rZW4uaWRlbnRpZmllcikge1xuICAgICAgdGhpcy50aHJvd0Vycm9yKCdpcyBub3QgYSB2YWxpZCBpZGVudGlmaWVyJywgdG9rZW4pO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBBU1QuSWRlbnRpZmllciwgbmFtZTogdG9rZW4udGV4dCB9O1xuICB9LFxuXG4gIGNvbnN0YW50OiBmdW5jdGlvbigpIHtcbiAgICAvLyBUT0RPIGNoZWNrIHRoYXQgaXQgaXMgYSBjb25zdGFudFxuICAgIHJldHVybiB7IHR5cGU6IEFTVC5MaXRlcmFsLCB2YWx1ZTogdGhpcy5jb25zdW1lKCkudmFsdWUgfTtcbiAgfSxcblxuICBhcnJheURlY2xhcmF0aW9uOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZWxlbWVudHMgPSBbXTtcbiAgICBpZiAodGhpcy5wZWVrVG9rZW4oKS50ZXh0ICE9PSAnXScpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKHRoaXMucGVlaygnXScpKSB7XG4gICAgICAgICAgLy8gU3VwcG9ydCB0cmFpbGluZyBjb21tYXMgcGVyIEVTNS4xLlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnRzLnB1c2godGhpcy5leHByZXNzaW9uKCkpO1xuICAgICAgfSB3aGlsZSAodGhpcy5leHBlY3QoJywnKSk7XG4gICAgfVxuICAgIHRoaXMuY29uc3VtZSgnXScpO1xuXG4gICAgcmV0dXJuIHsgdHlwZTogQVNULkFycmF5RXhwcmVzc2lvbiwgZWxlbWVudHM6IGVsZW1lbnRzIH07XG4gIH0sXG5cbiAgb2JqZWN0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcHJvcGVydGllcyA9IFtdLCBwcm9wZXJ0eTtcbiAgICBpZiAodGhpcy5wZWVrVG9rZW4oKS50ZXh0ICE9PSAnfScpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKHRoaXMucGVlaygnfScpKSB7XG4gICAgICAgICAgLy8gU3VwcG9ydCB0cmFpbGluZyBjb21tYXMgcGVyIEVTNS4xLlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHByb3BlcnR5ID0ge3R5cGU6IEFTVC5Qcm9wZXJ0eSwga2luZDogJ2luaXQnfTtcbiAgICAgICAgaWYgKHRoaXMucGVlaygpLmNvbnN0YW50KSB7XG4gICAgICAgICAgcHJvcGVydHkua2V5ID0gdGhpcy5jb25zdGFudCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGVlaygpLmlkZW50aWZpZXIpIHtcbiAgICAgICAgICBwcm9wZXJ0eS5rZXkgPSB0aGlzLmlkZW50aWZpZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnRocm93RXJyb3IoXCJpbnZhbGlkIGtleVwiLCB0aGlzLnBlZWsoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25zdW1lKCc6Jyk7XG4gICAgICAgIHByb3BlcnR5LnZhbHVlID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgICAgIHByb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICB9IHdoaWxlICh0aGlzLmV4cGVjdCgnLCcpKTtcbiAgICB9XG4gICAgdGhpcy5jb25zdW1lKCd9Jyk7XG5cbiAgICByZXR1cm4ge3R5cGU6IEFTVC5PYmplY3RFeHByZXNzaW9uLCBwcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzIH07XG4gIH0sXG5cbiAgdGhyb3dFcnJvcjogZnVuY3Rpb24obXNnLCB0b2tlbikge1xuICAgIHRocm93ICRwYXJzZU1pbkVycignc3ludGF4JyxcbiAgICAgICAgJ1N5bnRheCBFcnJvcjogVG9rZW4gXFwnezB9XFwnIHsxfSBhdCBjb2x1bW4gezJ9IG9mIHRoZSBleHByZXNzaW9uIFt7M31dIHN0YXJ0aW5nIGF0IFt7NH1dLicsXG4gICAgICAgICAgdG9rZW4udGV4dCwgbXNnLCAodG9rZW4uaW5kZXggKyAxKSwgdGhpcy50ZXh0LCB0aGlzLnRleHQuc3Vic3RyaW5nKHRva2VuLmluZGV4KSk7XG4gIH0sXG5cbiAgY29uc3VtZTogZnVuY3Rpb24oZTEpIHtcbiAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ3Vlb2UnLCAnVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbjogezB9JywgdGhpcy50ZXh0KTtcbiAgICB9XG5cbiAgICB2YXIgdG9rZW4gPSB0aGlzLmV4cGVjdChlMSk7XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgdGhpcy50aHJvd0Vycm9yKCdpcyB1bmV4cGVjdGVkLCBleHBlY3RpbmcgWycgKyBlMSArICddJywgdGhpcy5wZWVrKCkpO1xuICAgIH1cbiAgICByZXR1cm4gdG9rZW47XG4gIH0sXG5cbiAgcGVla1Rva2VuOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ3Vlb2UnLCAnVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbjogezB9JywgdGhpcy50ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudG9rZW5zWzBdO1xuICB9LFxuXG4gIHBlZWs6IGZ1bmN0aW9uKGUxLCBlMiwgZTMsIGU0KSB7XG4gICAgcmV0dXJuIHRoaXMucGVla0FoZWFkKDAsIGUxLCBlMiwgZTMsIGU0KTtcbiAgfSxcblxuICBwZWVrQWhlYWQ6IGZ1bmN0aW9uKGksIGUxLCBlMiwgZTMsIGU0KSB7XG4gICAgaWYgKHRoaXMudG9rZW5zLmxlbmd0aCA+IGkpIHtcbiAgICAgIHZhciB0b2tlbiA9IHRoaXMudG9rZW5zW2ldO1xuICAgICAgdmFyIHQgPSB0b2tlbi50ZXh0O1xuICAgICAgaWYgKHQgPT09IGUxIHx8IHQgPT09IGUyIHx8IHQgPT09IGUzIHx8IHQgPT09IGU0IHx8XG4gICAgICAgICAgKCFlMSAmJiAhZTIgJiYgIWUzICYmICFlNCkpIHtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgZXhwZWN0OiBmdW5jdGlvbihlMSwgZTIsIGUzLCBlNCkge1xuICAgIHZhciB0b2tlbiA9IHRoaXMucGVlayhlMSwgZTIsIGUzLCBlNCk7XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICB0aGlzLnRva2Vucy5zaGlmdCgpO1xuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cblxuICAvKiBgdW5kZWZpbmVkYCBpcyBub3QgYSBjb25zdGFudCwgaXQgaXMgYW4gaWRlbnRpZmllcixcbiAgICogYnV0IHVzaW5nIGl0IGFzIGFuIGlkZW50aWZpZXIgaXMgbm90IHN1cHBvcnRlZFxuICAgKi9cbiAgY29uc3RhbnRzOiB7XG4gICAgJ3RydWUnOiB7IHR5cGU6IEFTVC5MaXRlcmFsLCB2YWx1ZTogdHJ1ZSB9LFxuICAgICdmYWxzZSc6IHsgdHlwZTogQVNULkxpdGVyYWwsIHZhbHVlOiBmYWxzZSB9LFxuICAgICdudWxsJzogeyB0eXBlOiBBU1QuTGl0ZXJhbCwgdmFsdWU6IG51bGwgfSxcbiAgICAndW5kZWZpbmVkJzoge3R5cGU6IEFTVC5MaXRlcmFsLCB2YWx1ZTogdW5kZWZpbmVkIH0sXG4gICAgJ3RoaXMnOiB7dHlwZTogQVNULlRoaXNFeHByZXNzaW9uIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gaWZEZWZpbmVkKHYsIGQpIHtcbiAgcmV0dXJuIHR5cGVvZiB2ICE9PSAndW5kZWZpbmVkJyA/IHYgOiBkO1xufVxuXG5mdW5jdGlvbiBwbHVzRm4obCwgcikge1xuICBpZiAodHlwZW9mIGwgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gcjtcbiAgaWYgKHR5cGVvZiByID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGw7XG4gIHJldHVybiBsICsgcjtcbn1cblxuZnVuY3Rpb24gaXNTdGF0ZWxlc3MoJGZpbHRlciwgZmlsdGVyTmFtZSkge1xuICB2YXIgZm4gPSAkZmlsdGVyKGZpbHRlck5hbWUpO1xuICByZXR1cm4gIWZuLiRzdGF0ZWZ1bDtcbn1cblxuZnVuY3Rpb24gZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QsICRmaWx0ZXIpIHtcbiAgdmFyIGFsbENvbnN0YW50cztcbiAgdmFyIGFyZ3NUb1dhdGNoO1xuICBzd2l0Y2ggKGFzdC50eXBlKSB7XG4gIGNhc2UgQVNULlByb2dyYW06XG4gICAgYWxsQ29uc3RhbnRzID0gdHJ1ZTtcbiAgICBmb3JFYWNoKGFzdC5ib2R5LCBmdW5jdGlvbihleHByKSB7XG4gICAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGV4cHIuZXhwcmVzc2lvbiwgJGZpbHRlcik7XG4gICAgICBhbGxDb25zdGFudHMgPSBhbGxDb25zdGFudHMgJiYgZXhwci5leHByZXNzaW9uLmNvbnN0YW50O1xuICAgIH0pO1xuICAgIGFzdC5jb25zdGFudCA9IGFsbENvbnN0YW50cztcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuTGl0ZXJhbDpcbiAgICBhc3QuY29uc3RhbnQgPSB0cnVlO1xuICAgIGFzdC50b1dhdGNoID0gW107XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULlVuYXJ5RXhwcmVzc2lvbjpcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5hcmd1bWVudCwgJGZpbHRlcik7XG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LmFyZ3VtZW50LmNvbnN0YW50O1xuICAgIGFzdC50b1dhdGNoID0gYXN0LmFyZ3VtZW50LnRvV2F0Y2g7XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULkJpbmFyeUV4cHJlc3Npb246XG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QubGVmdCwgJGZpbHRlcik7XG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QucmlnaHQsICRmaWx0ZXIpO1xuICAgIGFzdC5jb25zdGFudCA9IGFzdC5sZWZ0LmNvbnN0YW50ICYmIGFzdC5yaWdodC5jb25zdGFudDtcbiAgICBhc3QudG9XYXRjaCA9IGFzdC5sZWZ0LnRvV2F0Y2guY29uY2F0KGFzdC5yaWdodC50b1dhdGNoKTtcbiAgICBicmVhaztcbiAgY2FzZSBBU1QuTG9naWNhbEV4cHJlc3Npb246XG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QubGVmdCwgJGZpbHRlcik7XG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QucmlnaHQsICRmaWx0ZXIpO1xuICAgIGFzdC5jb25zdGFudCA9IGFzdC5sZWZ0LmNvbnN0YW50ICYmIGFzdC5yaWdodC5jb25zdGFudDtcbiAgICBhc3QudG9XYXRjaCA9IGFzdC5jb25zdGFudCA/IFtdIDogW2FzdF07XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULkNvbmRpdGlvbmFsRXhwcmVzc2lvbjpcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC50ZXN0LCAkZmlsdGVyKTtcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5hbHRlcm5hdGUsICRmaWx0ZXIpO1xuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmNvbnNlcXVlbnQsICRmaWx0ZXIpO1xuICAgIGFzdC5jb25zdGFudCA9IGFzdC50ZXN0LmNvbnN0YW50ICYmIGFzdC5hbHRlcm5hdGUuY29uc3RhbnQgJiYgYXN0LmNvbnNlcXVlbnQuY29uc3RhbnQ7XG4gICAgYXN0LnRvV2F0Y2ggPSBhc3QuY29uc3RhbnQgPyBbXSA6IFthc3RdO1xuICAgIGJyZWFrO1xuICBjYXNlIEFTVC5JZGVudGlmaWVyOlxuICAgIGFzdC5jb25zdGFudCA9IGZhbHNlO1xuICAgIGFzdC50b1dhdGNoID0gW2FzdF07XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULk1lbWJlckV4cHJlc3Npb246XG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3Qub2JqZWN0LCAkZmlsdGVyKTtcbiAgICBpZiAoYXN0LmNvbXB1dGVkKSB7XG4gICAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5wcm9wZXJ0eSwgJGZpbHRlcik7XG4gICAgfVxuICAgIGFzdC5jb25zdGFudCA9IGFzdC5vYmplY3QuY29uc3RhbnQgJiYgKCFhc3QuY29tcHV0ZWQgfHwgYXN0LnByb3BlcnR5LmNvbnN0YW50KTtcbiAgICBhc3QudG9XYXRjaCA9IFthc3RdO1xuICAgIGJyZWFrO1xuICBjYXNlIEFTVC5DYWxsRXhwcmVzc2lvbjpcbiAgICBhbGxDb25zdGFudHMgPSBhc3QuZmlsdGVyID8gaXNTdGF0ZWxlc3MoJGZpbHRlciwgYXN0LmNhbGxlZS5uYW1lKSA6IGZhbHNlO1xuICAgIGFyZ3NUb1dhdGNoID0gW107XG4gICAgZm9yRWFjaChhc3QuYXJndW1lbnRzLCBmdW5jdGlvbihleHByKSB7XG4gICAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGV4cHIsICRmaWx0ZXIpO1xuICAgICAgYWxsQ29uc3RhbnRzID0gYWxsQ29uc3RhbnRzICYmIGV4cHIuY29uc3RhbnQ7XG4gICAgICBpZiAoIWV4cHIuY29uc3RhbnQpIHtcbiAgICAgICAgYXJnc1RvV2F0Y2gucHVzaC5hcHBseShhcmdzVG9XYXRjaCwgZXhwci50b1dhdGNoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBhc3QuY29uc3RhbnQgPSBhbGxDb25zdGFudHM7XG4gICAgYXN0LnRvV2F0Y2ggPSBhc3QuZmlsdGVyICYmIGlzU3RhdGVsZXNzKCRmaWx0ZXIsIGFzdC5jYWxsZWUubmFtZSkgPyBhcmdzVG9XYXRjaCA6IFthc3RdO1xuICAgIGJyZWFrO1xuICBjYXNlIEFTVC5Bc3NpZ25tZW50RXhwcmVzc2lvbjpcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5sZWZ0LCAkZmlsdGVyKTtcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5yaWdodCwgJGZpbHRlcik7XG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LmxlZnQuY29uc3RhbnQgJiYgYXN0LnJpZ2h0LmNvbnN0YW50O1xuICAgIGFzdC50b1dhdGNoID0gW2FzdF07XG4gICAgYnJlYWs7XG4gIGNhc2UgQVNULkFycmF5RXhwcmVzc2lvbjpcbiAgICBhbGxDb25zdGFudHMgPSB0cnVlO1xuICAgIGFyZ3NUb1dhdGNoID0gW107XG4gICAgZm9yRWFjaChhc3QuZWxlbWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoZXhwciwgJGZpbHRlcik7XG4gICAgICBhbGxDb25zdGFudHMgPSBhbGxDb25zdGFudHMgJiYgZXhwci5jb25zdGFudDtcbiAgICAgIGlmICghZXhwci5jb25zdGFudCkge1xuICAgICAgICBhcmdzVG9XYXRjaC5wdXNoLmFwcGx5KGFyZ3NUb1dhdGNoLCBleHByLnRvV2F0Y2gpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGFzdC5jb25zdGFudCA9IGFsbENvbnN0YW50cztcbiAgICBhc3QudG9XYXRjaCA9IGFyZ3NUb1dhdGNoO1xuICAgIGJyZWFrO1xuICBjYXNlIEFTVC5PYmplY3RFeHByZXNzaW9uOlxuICAgIGFsbENvbnN0YW50cyA9IHRydWU7XG4gICAgYXJnc1RvV2F0Y2ggPSBbXTtcbiAgICBmb3JFYWNoKGFzdC5wcm9wZXJ0aWVzLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhwcm9wZXJ0eS52YWx1ZSwgJGZpbHRlcik7XG4gICAgICBhbGxDb25zdGFudHMgPSBhbGxDb25zdGFudHMgJiYgcHJvcGVydHkudmFsdWUuY29uc3RhbnQ7XG4gICAgICBpZiAoIXByb3BlcnR5LnZhbHVlLmNvbnN0YW50KSB7XG4gICAgICAgIGFyZ3NUb1dhdGNoLnB1c2guYXBwbHkoYXJnc1RvV2F0Y2gsIHByb3BlcnR5LnZhbHVlLnRvV2F0Y2gpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGFzdC5jb25zdGFudCA9IGFsbENvbnN0YW50cztcbiAgICBhc3QudG9XYXRjaCA9IGFyZ3NUb1dhdGNoO1xuICAgIGJyZWFrO1xuICBjYXNlIEFTVC5UaGlzRXhwcmVzc2lvbjpcbiAgICBhc3QuY29uc3RhbnQgPSBmYWxzZTtcbiAgICBhc3QudG9XYXRjaCA9IFtdO1xuICAgIGJyZWFrO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldElucHV0cyhib2R5KSB7XG4gIGlmIChib2R5Lmxlbmd0aCAhPSAxKSByZXR1cm47XG4gIHZhciBsYXN0RXhwcmVzc2lvbiA9IGJvZHlbMF0uZXhwcmVzc2lvbjtcbiAgdmFyIGNhbmRpZGF0ZSA9IGxhc3RFeHByZXNzaW9uLnRvV2F0Y2g7XG4gIGlmIChjYW5kaWRhdGUubGVuZ3RoICE9PSAxKSByZXR1cm4gY2FuZGlkYXRlO1xuICByZXR1cm4gY2FuZGlkYXRlWzBdICE9PSBsYXN0RXhwcmVzc2lvbiA/IGNhbmRpZGF0ZSA6IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gaXNBc3NpZ25hYmxlKGFzdCkge1xuICByZXR1cm4gYXN0LnR5cGUgPT09IEFTVC5JZGVudGlmaWVyIHx8IGFzdC50eXBlID09PSBBU1QuTWVtYmVyRXhwcmVzc2lvbjtcbn1cblxuZnVuY3Rpb24gYXNzaWduYWJsZUFTVChhc3QpIHtcbiAgaWYgKGFzdC5ib2R5Lmxlbmd0aCA9PT0gMSAmJiBpc0Fzc2lnbmFibGUoYXN0LmJvZHlbMF0uZXhwcmVzc2lvbikpIHtcbiAgICByZXR1cm4ge3R5cGU6IEFTVC5Bc3NpZ25tZW50RXhwcmVzc2lvbiwgbGVmdDogYXN0LmJvZHlbMF0uZXhwcmVzc2lvbiwgcmlnaHQ6IHt0eXBlOiBBU1QuTkdWYWx1ZVBhcmFtZXRlcn0sIG9wZXJhdG9yOiAnPSd9O1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzTGl0ZXJhbChhc3QpIHtcbiAgcmV0dXJuIGFzdC5ib2R5Lmxlbmd0aCA9PT0gMCB8fFxuICAgICAgYXN0LmJvZHkubGVuZ3RoID09PSAxICYmIChcbiAgICAgIGFzdC5ib2R5WzBdLmV4cHJlc3Npb24udHlwZSA9PT0gQVNULkxpdGVyYWwgfHxcbiAgICAgIGFzdC5ib2R5WzBdLmV4cHJlc3Npb24udHlwZSA9PT0gQVNULkFycmF5RXhwcmVzc2lvbiB8fFxuICAgICAgYXN0LmJvZHlbMF0uZXhwcmVzc2lvbi50eXBlID09PSBBU1QuT2JqZWN0RXhwcmVzc2lvbik7XG59XG5cbmZ1bmN0aW9uIGlzQ29uc3RhbnQoYXN0KSB7XG4gIHJldHVybiBhc3QuY29uc3RhbnQ7XG59XG5cbmZ1bmN0aW9uIEFTVENvbXBpbGVyKGFzdEJ1aWxkZXIsICRmaWx0ZXIpIHtcbiAgdGhpcy5hc3RCdWlsZGVyID0gYXN0QnVpbGRlcjtcbiAgdGhpcy4kZmlsdGVyID0gJGZpbHRlcjtcbn1cblxuQVNUQ29tcGlsZXIucHJvdG90eXBlID0ge1xuICBjb21waWxlOiBmdW5jdGlvbihleHByZXNzaW9uLCBleHBlbnNpdmVDaGVja3MpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGFzdCA9IHRoaXMuYXN0QnVpbGRlci5hc3QoZXhwcmVzc2lvbik7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG5leHRJZDogMCxcbiAgICAgIGZpbHRlcnM6IHt9LFxuICAgICAgZXhwZW5zaXZlQ2hlY2tzOiBleHBlbnNpdmVDaGVja3MsXG4gICAgICBmbjoge3ZhcnM6IFtdLCBib2R5OiBbXSwgb3duOiB7fX0sXG4gICAgICBhc3NpZ246IHt2YXJzOiBbXSwgYm9keTogW10sIG93bjoge319LFxuICAgICAgaW5wdXRzOiBbXVxuICAgIH07XG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QsIHNlbGYuJGZpbHRlcik7XG4gICAgdmFyIGV4dHJhID0gJyc7XG4gICAgdmFyIGFzc2lnbmFibGU7XG4gICAgdGhpcy5zdGFnZSA9ICdhc3NpZ24nO1xuICAgIGlmICgoYXNzaWduYWJsZSA9IGFzc2lnbmFibGVBU1QoYXN0KSkpIHtcbiAgICAgIHRoaXMuc3RhdGUuY29tcHV0aW5nID0gJ2Fzc2lnbic7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcy5uZXh0SWQoKTtcbiAgICAgIHRoaXMucmVjdXJzZShhc3NpZ25hYmxlLCByZXN1bHQpO1xuICAgICAgZXh0cmEgPSAnZm4uYXNzaWduPScgKyB0aGlzLmdlbmVyYXRlRnVuY3Rpb24oJ2Fzc2lnbicsICdzLHYsbCcpO1xuICAgIH1cbiAgICB2YXIgdG9XYXRjaCA9IGdldElucHV0cyhhc3QuYm9keSk7XG4gICAgc2VsZi5zdGFnZSA9ICdpbnB1dHMnO1xuICAgIGZvckVhY2godG9XYXRjaCwgZnVuY3Rpb24od2F0Y2gsIGtleSkge1xuICAgICAgdmFyIGZuS2V5ID0gJ2ZuJyArIGtleTtcbiAgICAgIHNlbGYuc3RhdGVbZm5LZXldID0ge3ZhcnM6IFtdLCBib2R5OiBbXSwgb3duOiB7fX07XG4gICAgICBzZWxmLnN0YXRlLmNvbXB1dGluZyA9IGZuS2V5O1xuICAgICAgdmFyIGludG9JZCA9IHNlbGYubmV4dElkKCk7XG4gICAgICBzZWxmLnJlY3Vyc2Uod2F0Y2gsIGludG9JZCk7XG4gICAgICBzZWxmLnJldHVybl8oaW50b0lkKTtcbiAgICAgIHNlbGYuc3RhdGUuaW5wdXRzLnB1c2goZm5LZXkpO1xuICAgICAgd2F0Y2gud2F0Y2hJZCA9IGtleTtcbiAgICB9KTtcbiAgICB0aGlzLnN0YXRlLmNvbXB1dGluZyA9ICdmbic7XG4gICAgdGhpcy5zdGFnZSA9ICdtYWluJztcbiAgICB0aGlzLnJlY3Vyc2UoYXN0KTtcbiAgICB2YXIgZm5TdHJpbmcgPVxuICAgICAgLy8gVGhlIGJ1aWxkIGFuZCBtaW5pZmljYXRpb24gc3RlcHMgcmVtb3ZlIHRoZSBzdHJpbmcgXCJ1c2Ugc3RyaWN0XCIgZnJvbSB0aGUgY29kZSwgYnV0IHRoaXMgaXMgZG9uZSB1c2luZyBhIHJlZ2V4LlxuICAgICAgLy8gVGhpcyBpcyBhIHdvcmthcm91bmQgZm9yIHRoaXMgdW50aWwgd2UgZG8gYSBiZXR0ZXIgam9iIGF0IG9ubHkgcmVtb3ZpbmcgdGhlIHByZWZpeCBvbmx5IHdoZW4gd2Ugc2hvdWxkLlxuICAgICAgJ1wiJyArIHRoaXMuVVNFICsgJyAnICsgdGhpcy5TVFJJQ1QgKyAnXCI7XFxuJyArXG4gICAgICB0aGlzLmZpbHRlclByZWZpeCgpICtcbiAgICAgICd2YXIgZm49JyArIHRoaXMuZ2VuZXJhdGVGdW5jdGlvbignZm4nLCAncyxsLGEsaScpICtcbiAgICAgIGV4dHJhICtcbiAgICAgIHRoaXMud2F0Y2hGbnMoKSArXG4gICAgICAncmV0dXJuIGZuOyc7XG5cbiAgICAvKiBqc2hpbnQgLVcwNTQgKi9cbiAgICB2YXIgZm4gPSAobmV3IEZ1bmN0aW9uKCckZmlsdGVyJyxcbiAgICAgICAgJ2Vuc3VyZVNhZmVNZW1iZXJOYW1lJyxcbiAgICAgICAgJ2Vuc3VyZVNhZmVPYmplY3QnLFxuICAgICAgICAnZW5zdXJlU2FmZUZ1bmN0aW9uJyxcbiAgICAgICAgJ2lmRGVmaW5lZCcsXG4gICAgICAgICdwbHVzJyxcbiAgICAgICAgJ3RleHQnLFxuICAgICAgICBmblN0cmluZykpKFxuICAgICAgICAgIHRoaXMuJGZpbHRlcixcbiAgICAgICAgICBlbnN1cmVTYWZlTWVtYmVyTmFtZSxcbiAgICAgICAgICBlbnN1cmVTYWZlT2JqZWN0LFxuICAgICAgICAgIGVuc3VyZVNhZmVGdW5jdGlvbixcbiAgICAgICAgICBpZkRlZmluZWQsXG4gICAgICAgICAgcGx1c0ZuLFxuICAgICAgICAgIGV4cHJlc3Npb24pO1xuICAgIC8qIGpzaGludCArVzA1NCAqL1xuICAgIHRoaXMuc3RhdGUgPSB0aGlzLnN0YWdlID0gdW5kZWZpbmVkO1xuICAgIGZuLmxpdGVyYWwgPSBpc0xpdGVyYWwoYXN0KTtcbiAgICBmbi5jb25zdGFudCA9IGlzQ29uc3RhbnQoYXN0KTtcbiAgICByZXR1cm4gZm47XG4gIH0sXG5cbiAgVVNFOiAndXNlJyxcblxuICBTVFJJQ1Q6ICdzdHJpY3QnLFxuXG4gIHdhdGNoRm5zOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGZucyA9IHRoaXMuc3RhdGUuaW5wdXRzO1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBmb3JFYWNoKGZucywgZnVuY3Rpb24obmFtZSkge1xuICAgICAgcmVzdWx0LnB1c2goJ3ZhciAnICsgbmFtZSArICc9JyArIHNlbGYuZ2VuZXJhdGVGdW5jdGlvbihuYW1lLCAncycpKTtcbiAgICB9KTtcbiAgICBpZiAoZm5zLmxlbmd0aCkge1xuICAgICAgcmVzdWx0LnB1c2goJ2ZuLmlucHV0cz1bJyArIGZucy5qb2luKCcsJykgKyAnXTsnKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5qb2luKCcnKTtcbiAgfSxcblxuICBnZW5lcmF0ZUZ1bmN0aW9uOiBmdW5jdGlvbihuYW1lLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gJ2Z1bmN0aW9uKCcgKyBwYXJhbXMgKyAnKXsnICtcbiAgICAgICAgdGhpcy52YXJzUHJlZml4KG5hbWUpICtcbiAgICAgICAgdGhpcy5ib2R5KG5hbWUpICtcbiAgICAgICAgJ307JztcbiAgfSxcblxuICBmaWx0ZXJQcmVmaXg6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYXJ0cyA9IFtdO1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBmb3JFYWNoKHRoaXMuc3RhdGUuZmlsdGVycywgZnVuY3Rpb24oaWQsIGZpbHRlcikge1xuICAgICAgcGFydHMucHVzaChpZCArICc9JGZpbHRlcignICsgc2VsZi5lc2NhcGUoZmlsdGVyKSArICcpJyk7XG4gICAgfSk7XG4gICAgaWYgKHBhcnRzLmxlbmd0aCkgcmV0dXJuICd2YXIgJyArIHBhcnRzLmpvaW4oJywnKSArICc7JztcbiAgICByZXR1cm4gJyc7XG4gIH0sXG5cbiAgdmFyc1ByZWZpeDogZnVuY3Rpb24oc2VjdGlvbikge1xuICAgIHJldHVybiB0aGlzLnN0YXRlW3NlY3Rpb25dLnZhcnMubGVuZ3RoID8gJ3ZhciAnICsgdGhpcy5zdGF0ZVtzZWN0aW9uXS52YXJzLmpvaW4oJywnKSArICc7JyA6ICcnO1xuICB9LFxuXG4gIGJvZHk6IGZ1bmN0aW9uKHNlY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZVtzZWN0aW9uXS5ib2R5LmpvaW4oJycpO1xuICB9LFxuXG4gIHJlY3Vyc2U6IGZ1bmN0aW9uKGFzdCwgaW50b0lkLCBuYW1lSWQsIHJlY3Vyc2lvbkZuLCBjcmVhdGUsIHNraXBXYXRjaElkQ2hlY2spIHtcbiAgICB2YXIgbGVmdCwgcmlnaHQsIHNlbGYgPSB0aGlzLCBhcmdzLCBleHByZXNzaW9uO1xuICAgIHJlY3Vyc2lvbkZuID0gcmVjdXJzaW9uRm4gfHwgbm9vcDtcbiAgICBpZiAoIXNraXBXYXRjaElkQ2hlY2sgJiYgaXNEZWZpbmVkKGFzdC53YXRjaElkKSkge1xuICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XG4gICAgICB0aGlzLmlmXygnaScsXG4gICAgICAgIHRoaXMubGF6eUFzc2lnbihpbnRvSWQsIHRoaXMuY29tcHV0ZWRNZW1iZXIoJ2knLCBhc3Qud2F0Y2hJZCkpLFxuICAgICAgICB0aGlzLmxhenlSZWN1cnNlKGFzdCwgaW50b0lkLCBuYW1lSWQsIHJlY3Vyc2lvbkZuLCBjcmVhdGUsIHRydWUpXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzd2l0Y2ggKGFzdC50eXBlKSB7XG4gICAgY2FzZSBBU1QuUHJvZ3JhbTpcbiAgICAgIGZvckVhY2goYXN0LmJvZHksIGZ1bmN0aW9uKGV4cHJlc3Npb24sIHBvcykge1xuICAgICAgICBzZWxmLnJlY3Vyc2UoZXhwcmVzc2lvbi5leHByZXNzaW9uLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24oZXhwcikgeyByaWdodCA9IGV4cHI7IH0pO1xuICAgICAgICBpZiAocG9zICE9PSBhc3QuYm9keS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgc2VsZi5jdXJyZW50KCkuYm9keS5wdXNoKHJpZ2h0LCAnOycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYucmV0dXJuXyhyaWdodCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuTGl0ZXJhbDpcbiAgICAgIGV4cHJlc3Npb24gPSB0aGlzLmVzY2FwZShhc3QudmFsdWUpO1xuICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcbiAgICAgIHJlY3Vyc2lvbkZuKGV4cHJlc3Npb24pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuVW5hcnlFeHByZXNzaW9uOlxuICAgICAgdGhpcy5yZWN1cnNlKGFzdC5hcmd1bWVudCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uKGV4cHIpIHsgcmlnaHQgPSBleHByOyB9KTtcbiAgICAgIGV4cHJlc3Npb24gPSBhc3Qub3BlcmF0b3IgKyAnKCcgKyB0aGlzLmlmRGVmaW5lZChyaWdodCwgMCkgKyAnKSc7XG4gICAgICB0aGlzLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xuICAgICAgcmVjdXJzaW9uRm4oZXhwcmVzc2lvbik7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFTVC5CaW5hcnlFeHByZXNzaW9uOlxuICAgICAgdGhpcy5yZWN1cnNlKGFzdC5sZWZ0LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24oZXhwcikgeyBsZWZ0ID0gZXhwcjsgfSk7XG4gICAgICB0aGlzLnJlY3Vyc2UoYXN0LnJpZ2h0LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24oZXhwcikgeyByaWdodCA9IGV4cHI7IH0pO1xuICAgICAgaWYgKGFzdC5vcGVyYXRvciA9PT0gJysnKSB7XG4gICAgICAgIGV4cHJlc3Npb24gPSB0aGlzLnBsdXMobGVmdCwgcmlnaHQpO1xuICAgICAgfSBlbHNlIGlmIChhc3Qub3BlcmF0b3IgPT09ICctJykge1xuICAgICAgICBleHByZXNzaW9uID0gdGhpcy5pZkRlZmluZWQobGVmdCwgMCkgKyBhc3Qub3BlcmF0b3IgKyB0aGlzLmlmRGVmaW5lZChyaWdodCwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBleHByZXNzaW9uID0gJygnICsgbGVmdCArICcpJyArIGFzdC5vcGVyYXRvciArICcoJyArIHJpZ2h0ICsgJyknO1xuICAgICAgfVxuICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcbiAgICAgIHJlY3Vyc2lvbkZuKGV4cHJlc3Npb24pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuTG9naWNhbEV4cHJlc3Npb246XG4gICAgICBpbnRvSWQgPSBpbnRvSWQgfHwgdGhpcy5uZXh0SWQoKTtcbiAgICAgIHNlbGYucmVjdXJzZShhc3QubGVmdCwgaW50b0lkKTtcbiAgICAgIHNlbGYuaWZfKGFzdC5vcGVyYXRvciA9PT0gJyYmJyA/IGludG9JZCA6IHNlbGYubm90KGludG9JZCksIHNlbGYubGF6eVJlY3Vyc2UoYXN0LnJpZ2h0LCBpbnRvSWQpKTtcbiAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFTVC5Db25kaXRpb25hbEV4cHJlc3Npb246XG4gICAgICBpbnRvSWQgPSBpbnRvSWQgfHwgdGhpcy5uZXh0SWQoKTtcbiAgICAgIHNlbGYucmVjdXJzZShhc3QudGVzdCwgaW50b0lkKTtcbiAgICAgIHNlbGYuaWZfKGludG9JZCwgc2VsZi5sYXp5UmVjdXJzZShhc3QuYWx0ZXJuYXRlLCBpbnRvSWQpLCBzZWxmLmxhenlSZWN1cnNlKGFzdC5jb25zZXF1ZW50LCBpbnRvSWQpKTtcbiAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFTVC5JZGVudGlmaWVyOlxuICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XG4gICAgICBpZiAobmFtZUlkKSB7XG4gICAgICAgIG5hbWVJZC5jb250ZXh0ID0gc2VsZi5zdGFnZSA9PT0gJ2lucHV0cycgPyAncycgOiB0aGlzLmFzc2lnbih0aGlzLm5leHRJZCgpLCB0aGlzLmdldEhhc093blByb3BlcnR5KCdsJywgYXN0Lm5hbWUpICsgJz9sOnMnKTtcbiAgICAgICAgbmFtZUlkLmNvbXB1dGVkID0gZmFsc2U7XG4gICAgICAgIG5hbWVJZC5uYW1lID0gYXN0Lm5hbWU7XG4gICAgICB9XG4gICAgICBlbnN1cmVTYWZlTWVtYmVyTmFtZShhc3QubmFtZSk7XG4gICAgICBzZWxmLmlmXyhzZWxmLnN0YWdlID09PSAnaW5wdXRzJyB8fCBzZWxmLm5vdChzZWxmLmdldEhhc093blByb3BlcnR5KCdsJywgYXN0Lm5hbWUpKSxcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2VsZi5pZl8oc2VsZi5zdGFnZSA9PT0gJ2lucHV0cycgfHwgJ3MnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChjcmVhdGUgJiYgY3JlYXRlICE9PSAxKSB7XG4gICAgICAgICAgICAgIHNlbGYuaWZfKFxuICAgICAgICAgICAgICAgIHNlbGYubm90KHNlbGYubm9uQ29tcHV0ZWRNZW1iZXIoJ3MnLCBhc3QubmFtZSkpLFxuICAgICAgICAgICAgICAgIHNlbGYubGF6eUFzc2lnbihzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKCdzJywgYXN0Lm5hbWUpLCAne30nKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsIHNlbGYubm9uQ29tcHV0ZWRNZW1iZXIoJ3MnLCBhc3QubmFtZSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LCBpbnRvSWQgJiYgc2VsZi5sYXp5QXNzaWduKGludG9JZCwgc2VsZi5ub25Db21wdXRlZE1lbWJlcignbCcsIGFzdC5uYW1lKSlcbiAgICAgICAgKTtcbiAgICAgIGlmIChzZWxmLnN0YXRlLmV4cGVuc2l2ZUNoZWNrcyB8fCBpc1Bvc3NpYmx5RGFuZ2Vyb3VzTWVtYmVyTmFtZShhc3QubmFtZSkpIHtcbiAgICAgICAgc2VsZi5hZGRFbnN1cmVTYWZlT2JqZWN0KGludG9JZCk7XG4gICAgICB9XG4gICAgICByZWN1cnNpb25GbihpbnRvSWQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuTWVtYmVyRXhwcmVzc2lvbjpcbiAgICAgIGxlZnQgPSBuYW1lSWQgJiYgKG5hbWVJZC5jb250ZXh0ID0gdGhpcy5uZXh0SWQoKSkgfHwgdGhpcy5uZXh0SWQoKTtcbiAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xuICAgICAgc2VsZi5yZWN1cnNlKGFzdC5vYmplY3QsIGxlZnQsIHVuZGVmaW5lZCwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuaWZfKHNlbGYubm90TnVsbChsZWZ0KSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKGFzdC5jb21wdXRlZCkge1xuICAgICAgICAgICAgcmlnaHQgPSBzZWxmLm5leHRJZCgpO1xuICAgICAgICAgICAgc2VsZi5yZWN1cnNlKGFzdC5wcm9wZXJ0eSwgcmlnaHQpO1xuICAgICAgICAgICAgc2VsZi5hZGRFbnN1cmVTYWZlTWVtYmVyTmFtZShyaWdodCk7XG4gICAgICAgICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSkge1xuICAgICAgICAgICAgICBzZWxmLmlmXyhzZWxmLm5vdChzZWxmLmNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KSksIHNlbGYubGF6eUFzc2lnbihzZWxmLmNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KSwgJ3t9JykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHNlbGYuZW5zdXJlU2FmZU9iamVjdChzZWxmLmNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KSk7XG4gICAgICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xuICAgICAgICAgICAgaWYgKG5hbWVJZCkge1xuICAgICAgICAgICAgICBuYW1lSWQuY29tcHV0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBuYW1lSWQubmFtZSA9IHJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbnN1cmVTYWZlTWVtYmVyTmFtZShhc3QucHJvcGVydHkubmFtZSk7XG4gICAgICAgICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSkge1xuICAgICAgICAgICAgICBzZWxmLmlmXyhzZWxmLm5vdChzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKGxlZnQsIGFzdC5wcm9wZXJ0eS5uYW1lKSksIHNlbGYubGF6eUFzc2lnbihzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKGxlZnQsIGFzdC5wcm9wZXJ0eS5uYW1lKSwgJ3t9JykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHNlbGYubm9uQ29tcHV0ZWRNZW1iZXIobGVmdCwgYXN0LnByb3BlcnR5Lm5hbWUpO1xuICAgICAgICAgICAgaWYgKHNlbGYuc3RhdGUuZXhwZW5zaXZlQ2hlY2tzIHx8IGlzUG9zc2libHlEYW5nZXJvdXNNZW1iZXJOYW1lKGFzdC5wcm9wZXJ0eS5uYW1lKSkge1xuICAgICAgICAgICAgICBleHByZXNzaW9uID0gc2VsZi5lbnN1cmVTYWZlT2JqZWN0KGV4cHJlc3Npb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcbiAgICAgICAgICAgIGlmIChuYW1lSWQpIHtcbiAgICAgICAgICAgICAgbmFtZUlkLmNvbXB1dGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgIG5hbWVJZC5uYW1lID0gYXN0LnByb3BlcnR5Lm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsICd1bmRlZmluZWQnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCk7XG4gICAgICB9LCAhIWNyZWF0ZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIEFTVC5DYWxsRXhwcmVzc2lvbjpcbiAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xuICAgICAgaWYgKGFzdC5maWx0ZXIpIHtcbiAgICAgICAgcmlnaHQgPSBzZWxmLmZpbHRlcihhc3QuY2FsbGVlLm5hbWUpO1xuICAgICAgICBhcmdzID0gW107XG4gICAgICAgIGZvckVhY2goYXN0LmFyZ3VtZW50cywgZnVuY3Rpb24oZXhwcikge1xuICAgICAgICAgIHZhciBhcmd1bWVudCA9IHNlbGYubmV4dElkKCk7XG4gICAgICAgICAgc2VsZi5yZWN1cnNlKGV4cHIsIGFyZ3VtZW50KTtcbiAgICAgICAgICBhcmdzLnB1c2goYXJndW1lbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgZXhwcmVzc2lvbiA9IHJpZ2h0ICsgJygnICsgYXJncy5qb2luKCcsJykgKyAnKSc7XG4gICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XG4gICAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByaWdodCA9IHNlbGYubmV4dElkKCk7XG4gICAgICAgIGxlZnQgPSB7fTtcbiAgICAgICAgYXJncyA9IFtdO1xuICAgICAgICBzZWxmLnJlY3Vyc2UoYXN0LmNhbGxlZSwgcmlnaHQsIGxlZnQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNlbGYuaWZfKHNlbGYubm90TnVsbChyaWdodCksIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5hZGRFbnN1cmVTYWZlRnVuY3Rpb24ocmlnaHQpO1xuICAgICAgICAgICAgZm9yRWFjaChhc3QuYXJndW1lbnRzLCBmdW5jdGlvbihleHByKSB7XG4gICAgICAgICAgICAgIHNlbGYucmVjdXJzZShleHByLCBzZWxmLm5leHRJZCgpLCB1bmRlZmluZWQsIGZ1bmN0aW9uKGFyZ3VtZW50KSB7XG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKHNlbGYuZW5zdXJlU2FmZU9iamVjdChhcmd1bWVudCkpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGxlZnQubmFtZSkge1xuICAgICAgICAgICAgICBpZiAoIXNlbGYuc3RhdGUuZXhwZW5zaXZlQ2hlY2tzKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5hZGRFbnN1cmVTYWZlT2JqZWN0KGxlZnQuY29udGV4dCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHNlbGYubWVtYmVyKGxlZnQuY29udGV4dCwgbGVmdC5uYW1lLCBsZWZ0LmNvbXB1dGVkKSArICcoJyArIGFyZ3Muam9pbignLCcpICsgJyknO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHJpZ2h0ICsgJygnICsgYXJncy5qb2luKCcsJykgKyAnKSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleHByZXNzaW9uID0gc2VsZi5lbnN1cmVTYWZlT2JqZWN0KGV4cHJlc3Npb24pO1xuICAgICAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgJ3VuZGVmaW5lZCcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuQXNzaWdubWVudEV4cHJlc3Npb246XG4gICAgICByaWdodCA9IHRoaXMubmV4dElkKCk7XG4gICAgICBsZWZ0ID0ge307XG4gICAgICBpZiAoIWlzQXNzaWduYWJsZShhc3QubGVmdCkpIHtcbiAgICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdsdmFsJywgJ1RyeWluZyB0byBhc3NpbmcgYSB2YWx1ZSB0byBhIG5vbiBsLXZhbHVlJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnJlY3Vyc2UoYXN0LmxlZnQsIHVuZGVmaW5lZCwgbGVmdCwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuaWZfKHNlbGYubm90TnVsbChsZWZ0LmNvbnRleHQpLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZWxmLnJlY3Vyc2UoYXN0LnJpZ2h0LCByaWdodCk7XG4gICAgICAgICAgc2VsZi5hZGRFbnN1cmVTYWZlT2JqZWN0KHNlbGYubWVtYmVyKGxlZnQuY29udGV4dCwgbGVmdC5uYW1lLCBsZWZ0LmNvbXB1dGVkKSk7XG4gICAgICAgICAgZXhwcmVzc2lvbiA9IHNlbGYubWVtYmVyKGxlZnQuY29udGV4dCwgbGVmdC5uYW1lLCBsZWZ0LmNvbXB1dGVkKSArIGFzdC5vcGVyYXRvciArIHJpZ2h0O1xuICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XG4gICAgICAgICAgcmVjdXJzaW9uRm4oaW50b0lkIHx8IGV4cHJlc3Npb24pO1xuICAgICAgICB9KTtcbiAgICAgIH0sIDEpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuQXJyYXlFeHByZXNzaW9uOlxuICAgICAgYXJncyA9IFtdO1xuICAgICAgZm9yRWFjaChhc3QuZWxlbWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgc2VsZi5yZWN1cnNlKGV4cHIsIHNlbGYubmV4dElkKCksIHVuZGVmaW5lZCwgZnVuY3Rpb24oYXJndW1lbnQpIHtcbiAgICAgICAgICBhcmdzLnB1c2goYXJndW1lbnQpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgZXhwcmVzc2lvbiA9ICdbJyArIGFyZ3Muam9pbignLCcpICsgJ10nO1xuICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcbiAgICAgIHJlY3Vyc2lvbkZuKGV4cHJlc3Npb24pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBBU1QuT2JqZWN0RXhwcmVzc2lvbjpcbiAgICAgIGFyZ3MgPSBbXTtcbiAgICAgIGZvckVhY2goYXN0LnByb3BlcnRpZXMsIGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICAgIHNlbGYucmVjdXJzZShwcm9wZXJ0eS52YWx1ZSwgc2VsZi5uZXh0SWQoKSwgdW5kZWZpbmVkLCBmdW5jdGlvbihleHByKSB7XG4gICAgICAgICAgYXJncy5wdXNoKHNlbGYuZXNjYXBlKFxuICAgICAgICAgICAgICBwcm9wZXJ0eS5rZXkudHlwZSA9PT0gQVNULklkZW50aWZpZXIgPyBwcm9wZXJ0eS5rZXkubmFtZSA6XG4gICAgICAgICAgICAgICAgKCcnICsgcHJvcGVydHkua2V5LnZhbHVlKSkgK1xuICAgICAgICAgICAgICAnOicgKyBleHByKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIGV4cHJlc3Npb24gPSAneycgKyBhcmdzLmpvaW4oJywnKSArICd9JztcbiAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XG4gICAgICByZWN1cnNpb25GbihleHByZXNzaW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULlRoaXNFeHByZXNzaW9uOlxuICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCAncycpO1xuICAgICAgcmVjdXJzaW9uRm4oJ3MnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQVNULk5HVmFsdWVQYXJhbWV0ZXI6XG4gICAgICB0aGlzLmFzc2lnbihpbnRvSWQsICd2Jyk7XG4gICAgICByZWN1cnNpb25GbigndicpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9LFxuXG4gIGdldEhhc093blByb3BlcnR5OiBmdW5jdGlvbihlbGVtZW50LCBwcm9wZXJ0eSkge1xuICAgIHZhciBrZXkgPSBlbGVtZW50ICsgJy4nICsgcHJvcGVydHk7XG4gICAgdmFyIG93biA9IHRoaXMuY3VycmVudCgpLm93bjtcbiAgICBpZiAoIW93bi5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBvd25ba2V5XSA9IHRoaXMubmV4dElkKGZhbHNlLCBlbGVtZW50ICsgJyYmKCcgKyB0aGlzLmVzY2FwZShwcm9wZXJ0eSkgKyAnIGluICcgKyBlbGVtZW50ICsgJyknKTtcbiAgICB9XG4gICAgcmV0dXJuIG93bltrZXldO1xuICB9LFxuXG4gIGFzc2lnbjogZnVuY3Rpb24oaWQsIHZhbHVlKSB7XG4gICAgaWYgKCFpZCkgcmV0dXJuO1xuICAgIHRoaXMuY3VycmVudCgpLmJvZHkucHVzaChpZCwgJz0nLCB2YWx1ZSwgJzsnKTtcbiAgICByZXR1cm4gaWQ7XG4gIH0sXG5cbiAgZmlsdGVyOiBmdW5jdGlvbihmaWx0ZXJOYW1lKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmZpbHRlcnMuaGFzT3duUHJvcGVydHkoZmlsdGVyTmFtZSkpIHtcbiAgICAgIHRoaXMuc3RhdGUuZmlsdGVyc1tmaWx0ZXJOYW1lXSA9IHRoaXMubmV4dElkKHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5maWx0ZXJzW2ZpbHRlck5hbWVdO1xuICB9LFxuXG4gIGlmRGVmaW5lZDogZnVuY3Rpb24oaWQsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiAnaWZEZWZpbmVkKCcgKyBpZCArICcsJyArIHRoaXMuZXNjYXBlKGRlZmF1bHRWYWx1ZSkgKyAnKSc7XG4gIH0sXG5cbiAgcGx1czogZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gJ3BsdXMoJyArIGxlZnQgKyAnLCcgKyByaWdodCArICcpJztcbiAgfSxcblxuICByZXR1cm5fOiBmdW5jdGlvbihpZCkge1xuICAgIHRoaXMuY3VycmVudCgpLmJvZHkucHVzaCgncmV0dXJuICcsIGlkLCAnOycpO1xuICB9LFxuXG4gIGlmXzogZnVuY3Rpb24odGVzdCwgYWx0ZXJuYXRlLCBjb25zZXF1ZW50KSB7XG4gICAgaWYgKHRlc3QgPT09IHRydWUpIHtcbiAgICAgIGFsdGVybmF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYm9keSA9IHRoaXMuY3VycmVudCgpLmJvZHk7XG4gICAgICBib2R5LnB1c2goJ2lmKCcsIHRlc3QsICcpeycpO1xuICAgICAgYWx0ZXJuYXRlKCk7XG4gICAgICBib2R5LnB1c2goJ30nKTtcbiAgICAgIGlmIChjb25zZXF1ZW50KSB7XG4gICAgICAgIGJvZHkucHVzaCgnZWxzZXsnKTtcbiAgICAgICAgY29uc2VxdWVudCgpO1xuICAgICAgICBib2R5LnB1c2goJ30nKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgbm90OiBmdW5jdGlvbihleHByZXNzaW9uKSB7XG4gICAgcmV0dXJuICchKCcgKyBleHByZXNzaW9uICsgJyknO1xuICB9LFxuXG4gIG5vdE51bGw6IGZ1bmN0aW9uKGV4cHJlc3Npb24pIHtcbiAgICByZXR1cm4gZXhwcmVzc2lvbiArICchPW51bGwnO1xuICB9LFxuXG4gIG5vbkNvbXB1dGVkTWVtYmVyOiBmdW5jdGlvbihsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiBsZWZ0ICsgJy4nICsgcmlnaHQ7XG4gIH0sXG5cbiAgY29tcHV0ZWRNZW1iZXI6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIGxlZnQgKyAnWycgKyByaWdodCArICddJztcbiAgfSxcblxuICBtZW1iZXI6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb21wdXRlZCkge1xuICAgIGlmIChjb21wdXRlZCkgcmV0dXJuIHRoaXMuY29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQpO1xuICAgIHJldHVybiB0aGlzLm5vbkNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KTtcbiAgfSxcblxuICBhZGRFbnN1cmVTYWZlT2JqZWN0OiBmdW5jdGlvbihpdGVtKSB7XG4gICAgdGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKHRoaXMuZW5zdXJlU2FmZU9iamVjdChpdGVtKSwgJzsnKTtcbiAgfSxcblxuICBhZGRFbnN1cmVTYWZlTWVtYmVyTmFtZTogZnVuY3Rpb24oaXRlbSkge1xuICAgIHRoaXMuY3VycmVudCgpLmJvZHkucHVzaCh0aGlzLmVuc3VyZVNhZmVNZW1iZXJOYW1lKGl0ZW0pLCAnOycpO1xuICB9LFxuXG4gIGFkZEVuc3VyZVNhZmVGdW5jdGlvbjogZnVuY3Rpb24oaXRlbSkge1xuICAgIHRoaXMuY3VycmVudCgpLmJvZHkucHVzaCh0aGlzLmVuc3VyZVNhZmVGdW5jdGlvbihpdGVtKSwgJzsnKTtcbiAgfSxcblxuICBlbnN1cmVTYWZlT2JqZWN0OiBmdW5jdGlvbihpdGVtKSB7XG4gICAgcmV0dXJuICdlbnN1cmVTYWZlT2JqZWN0KCcgKyBpdGVtICsgJyx0ZXh0KSc7XG4gIH0sXG5cbiAgZW5zdXJlU2FmZU1lbWJlck5hbWU6IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICByZXR1cm4gJ2Vuc3VyZVNhZmVNZW1iZXJOYW1lKCcgKyBpdGVtICsgJyx0ZXh0KSc7XG4gIH0sXG5cbiAgZW5zdXJlU2FmZUZ1bmN0aW9uOiBmdW5jdGlvbihpdGVtKSB7XG4gICAgcmV0dXJuICdlbnN1cmVTYWZlRnVuY3Rpb24oJyArIGl0ZW0gKyAnLHRleHQpJztcbiAgfSxcblxuICBsYXp5UmVjdXJzZTogZnVuY3Rpb24oYXN0LCBpbnRvSWQsIG5hbWVJZCwgcmVjdXJzaW9uRm4sIGNyZWF0ZSwgc2tpcFdhdGNoSWRDaGVjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnJlY3Vyc2UoYXN0LCBpbnRvSWQsIG5hbWVJZCwgcmVjdXJzaW9uRm4sIGNyZWF0ZSwgc2tpcFdhdGNoSWRDaGVjayk7XG4gICAgfTtcbiAgfSxcblxuICBsYXp5QXNzaWduOiBmdW5jdGlvbihpZCwgdmFsdWUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5hc3NpZ24oaWQsIHZhbHVlKTtcbiAgICB9O1xuICB9LFxuXG4gIHN0cmluZ0VzY2FwZVJlZ2V4OiAvW14gYS16QS1aMC05XS9nLFxuXG4gIHN0cmluZ0VzY2FwZUZuOiBmdW5jdGlvbihjKSB7XG4gICAgcmV0dXJuICdcXFxcdScgKyAoJzAwMDAnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpO1xuICB9LFxuXG4gIGVzY2FwZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpKSByZXR1cm4gXCInXCIgKyB2YWx1ZS5yZXBsYWNlKHRoaXMuc3RyaW5nRXNjYXBlUmVnZXgsIHRoaXMuc3RyaW5nRXNjYXBlRm4pICsgXCInXCI7XG4gICAgaWYgKGlzTnVtYmVyKHZhbHVlKSkgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgaWYgKHZhbHVlID09PSB0cnVlKSByZXR1cm4gJ3RydWUnO1xuICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHJldHVybiAnZmFsc2UnO1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuICdudWxsJztcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykgcmV0dXJuICd1bmRlZmluZWQnO1xuXG4gICAgdGhyb3cgJHBhcnNlTWluRXJyKCdlc2MnLCAnSU1QT1NTSUJMRScpO1xuICB9LFxuXG4gIG5leHRJZDogZnVuY3Rpb24oc2tpcCwgaW5pdCkge1xuICAgIHZhciBpZCA9ICd2JyArICh0aGlzLnN0YXRlLm5leHRJZCsrKTtcbiAgICBpZiAoIXNraXApIHtcbiAgICAgIHRoaXMuY3VycmVudCgpLnZhcnMucHVzaChpZCArIChpbml0ID8gJz0nICsgaW5pdCA6ICcnKSk7XG4gICAgfVxuICAgIHJldHVybiBpZDtcbiAgfSxcblxuICBjdXJyZW50OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZVt0aGlzLnN0YXRlLmNvbXB1dGluZ107XG4gIH1cbn07XG5cblxuZnVuY3Rpb24gQVNUSW50ZXJwcmV0ZXIoYXN0QnVpbGRlciwgJGZpbHRlcikge1xuICB0aGlzLmFzdEJ1aWxkZXIgPSBhc3RCdWlsZGVyO1xuICB0aGlzLiRmaWx0ZXIgPSAkZmlsdGVyO1xufVxuXG5BU1RJbnRlcnByZXRlci5wcm90b3R5cGUgPSB7XG4gIGNvbXBpbGU6IGZ1bmN0aW9uKGV4cHJlc3Npb24sIGV4cGVuc2l2ZUNoZWNrcykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYXN0ID0gdGhpcy5hc3RCdWlsZGVyLmFzdChleHByZXNzaW9uKTtcbiAgICB0aGlzLmV4cHJlc3Npb24gPSBleHByZXNzaW9uO1xuICAgIHRoaXMuZXhwZW5zaXZlQ2hlY2tzID0gZXhwZW5zaXZlQ2hlY2tzO1xuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LCBzZWxmLiRmaWx0ZXIpO1xuICAgIHZhciBhc3NpZ25hYmxlO1xuICAgIHZhciBhc3NpZ247XG4gICAgaWYgKChhc3NpZ25hYmxlID0gYXNzaWduYWJsZUFTVChhc3QpKSkge1xuICAgICAgYXNzaWduID0gdGhpcy5yZWN1cnNlKGFzc2lnbmFibGUpO1xuICAgIH1cbiAgICB2YXIgdG9XYXRjaCA9IGdldElucHV0cyhhc3QuYm9keSk7XG4gICAgdmFyIGlucHV0cztcbiAgICBpZiAodG9XYXRjaCkge1xuICAgICAgaW5wdXRzID0gW107XG4gICAgICBmb3JFYWNoKHRvV2F0Y2gsIGZ1bmN0aW9uKHdhdGNoLCBrZXkpIHtcbiAgICAgICAgdmFyIGlucHV0ID0gc2VsZi5yZWN1cnNlKHdhdGNoKTtcbiAgICAgICAgd2F0Y2guaW5wdXQgPSBpbnB1dDtcbiAgICAgICAgaW5wdXRzLnB1c2goaW5wdXQpO1xuICAgICAgICB3YXRjaC53YXRjaElkID0ga2V5O1xuICAgICAgfSk7XG4gICAgfVxuICAgIHZhciBleHByZXNzaW9ucyA9IFtdO1xuICAgIGZvckVhY2goYXN0LmJvZHksIGZ1bmN0aW9uKGV4cHJlc3Npb24pIHtcbiAgICAgIGV4cHJlc3Npb25zLnB1c2goc2VsZi5yZWN1cnNlKGV4cHJlc3Npb24uZXhwcmVzc2lvbikpO1xuICAgIH0pO1xuICAgIHZhciBmbiA9IGFzdC5ib2R5Lmxlbmd0aCA9PT0gMCA/IGZ1bmN0aW9uKCkge30gOlxuICAgICAgICAgICAgIGFzdC5ib2R5Lmxlbmd0aCA9PT0gMSA/IGV4cHJlc3Npb25zWzBdIDpcbiAgICAgICAgICAgICBmdW5jdGlvbihzY29wZSwgbG9jYWxzKSB7XG4gICAgICAgICAgICAgICB2YXIgbGFzdFZhbHVlO1xuICAgICAgICAgICAgICAgZm9yRWFjaChleHByZXNzaW9ucywgZnVuY3Rpb24oZXhwKSB7XG4gICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IGV4cChzY29wZSwgbG9jYWxzKTtcbiAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgcmV0dXJuIGxhc3RWYWx1ZTtcbiAgICAgICAgICAgICB9O1xuICAgIGlmIChhc3NpZ24pIHtcbiAgICAgIGZuLmFzc2lnbiA9IGZ1bmN0aW9uKHNjb3BlLCB2YWx1ZSwgbG9jYWxzKSB7XG4gICAgICAgIHJldHVybiBhc3NpZ24oc2NvcGUsIGxvY2FscywgdmFsdWUpO1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGlucHV0cykge1xuICAgICAgZm4uaW5wdXRzID0gaW5wdXRzO1xuICAgIH1cbiAgICBmbi5saXRlcmFsID0gaXNMaXRlcmFsKGFzdCk7XG4gICAgZm4uY29uc3RhbnQgPSBpc0NvbnN0YW50KGFzdCk7XG4gICAgcmV0dXJuIGZuO1xuICB9LFxuXG4gIHJlY3Vyc2U6IGZ1bmN0aW9uKGFzdCwgY29udGV4dCwgY3JlYXRlKSB7XG4gICAgdmFyIGxlZnQsIHJpZ2h0LCBzZWxmID0gdGhpcywgYXJncywgZXhwcmVzc2lvbjtcbiAgICBpZiAoYXN0LmlucHV0KSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnB1dHMoYXN0LmlucHV0LCBhc3Qud2F0Y2hJZCk7XG4gICAgfVxuICAgIHN3aXRjaCAoYXN0LnR5cGUpIHtcbiAgICBjYXNlIEFTVC5MaXRlcmFsOlxuICAgICAgcmV0dXJuIHRoaXMudmFsdWUoYXN0LnZhbHVlLCBjb250ZXh0KTtcbiAgICBjYXNlIEFTVC5VbmFyeUV4cHJlc3Npb246XG4gICAgICByaWdodCA9IHRoaXMucmVjdXJzZShhc3QuYXJndW1lbnQpO1xuICAgICAgcmV0dXJuIHRoaXNbJ3VuYXJ5JyArIGFzdC5vcGVyYXRvcl0ocmlnaHQsIGNvbnRleHQpO1xuICAgIGNhc2UgQVNULkJpbmFyeUV4cHJlc3Npb246XG4gICAgICBsZWZ0ID0gdGhpcy5yZWN1cnNlKGFzdC5sZWZ0KTtcbiAgICAgIHJpZ2h0ID0gdGhpcy5yZWN1cnNlKGFzdC5yaWdodCk7XG4gICAgICByZXR1cm4gdGhpc1snYmluYXJ5JyArIGFzdC5vcGVyYXRvcl0obGVmdCwgcmlnaHQsIGNvbnRleHQpO1xuICAgIGNhc2UgQVNULkxvZ2ljYWxFeHByZXNzaW9uOlxuICAgICAgbGVmdCA9IHRoaXMucmVjdXJzZShhc3QubGVmdCk7XG4gICAgICByaWdodCA9IHRoaXMucmVjdXJzZShhc3QucmlnaHQpO1xuICAgICAgcmV0dXJuIHRoaXNbJ2JpbmFyeScgKyBhc3Qub3BlcmF0b3JdKGxlZnQsIHJpZ2h0LCBjb250ZXh0KTtcbiAgICBjYXNlIEFTVC5Db25kaXRpb25hbEV4cHJlc3Npb246XG4gICAgICByZXR1cm4gdGhpc1sndGVybmFyeT86J10oXG4gICAgICAgIHRoaXMucmVjdXJzZShhc3QudGVzdCksXG4gICAgICAgIHRoaXMucmVjdXJzZShhc3QuYWx0ZXJuYXRlKSxcbiAgICAgICAgdGhpcy5yZWN1cnNlKGFzdC5jb25zZXF1ZW50KSxcbiAgICAgICAgY29udGV4dFxuICAgICAgKTtcbiAgICBjYXNlIEFTVC5JZGVudGlmaWVyOlxuICAgICAgZW5zdXJlU2FmZU1lbWJlck5hbWUoYXN0Lm5hbWUsIHNlbGYuZXhwcmVzc2lvbik7XG4gICAgICByZXR1cm4gc2VsZi5pZGVudGlmaWVyKGFzdC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmV4cGVuc2l2ZUNoZWNrcyB8fCBpc1Bvc3NpYmx5RGFuZ2Vyb3VzTWVtYmVyTmFtZShhc3QubmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsIGNyZWF0ZSwgc2VsZi5leHByZXNzaW9uKTtcbiAgICBjYXNlIEFTVC5NZW1iZXJFeHByZXNzaW9uOlxuICAgICAgbGVmdCA9IHRoaXMucmVjdXJzZShhc3Qub2JqZWN0LCBmYWxzZSwgISFjcmVhdGUpO1xuICAgICAgaWYgKCFhc3QuY29tcHV0ZWQpIHtcbiAgICAgICAgZW5zdXJlU2FmZU1lbWJlck5hbWUoYXN0LnByb3BlcnR5Lm5hbWUsIHNlbGYuZXhwcmVzc2lvbik7XG4gICAgICAgIHJpZ2h0ID0gYXN0LnByb3BlcnR5Lm5hbWU7XG4gICAgICB9XG4gICAgICBpZiAoYXN0LmNvbXB1dGVkKSByaWdodCA9IHRoaXMucmVjdXJzZShhc3QucHJvcGVydHkpO1xuICAgICAgcmV0dXJuIGFzdC5jb21wdXRlZCA/XG4gICAgICAgIHRoaXMuY29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQsIGNvbnRleHQsIGNyZWF0ZSwgc2VsZi5leHByZXNzaW9uKSA6XG4gICAgICAgIHRoaXMubm9uQ29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQsIHNlbGYuZXhwZW5zaXZlQ2hlY2tzLCBjb250ZXh0LCBjcmVhdGUsIHNlbGYuZXhwcmVzc2lvbik7XG4gICAgY2FzZSBBU1QuQ2FsbEV4cHJlc3Npb246XG4gICAgICBhcmdzID0gW107XG4gICAgICBmb3JFYWNoKGFzdC5hcmd1bWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgYXJncy5wdXNoKHNlbGYucmVjdXJzZShleHByKSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChhc3QuZmlsdGVyKSByaWdodCA9IHRoaXMuJGZpbHRlcihhc3QuY2FsbGVlLm5hbWUpO1xuICAgICAgaWYgKCFhc3QuZmlsdGVyKSByaWdodCA9IHRoaXMucmVjdXJzZShhc3QuY2FsbGVlLCB0cnVlKTtcbiAgICAgIHJldHVybiBhc3QuZmlsdGVyID9cbiAgICAgICAgZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChhcmdzW2ldKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB2YWx1ZSA9IHJpZ2h0LmFwcGx5KHVuZGVmaW5lZCwgdmFsdWVzLCBpbnB1dHMpO1xuICAgICAgICAgIHJldHVybiBjb250ZXh0ID8ge2NvbnRleHQ6IHVuZGVmaW5lZCwgbmFtZTogdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9IDogdmFsdWU7XG4gICAgICAgIH0gOlxuICAgICAgICBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgICAgIHZhciByaHMgPSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgIGlmIChyaHMudmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgZW5zdXJlU2FmZU9iamVjdChyaHMuY29udGV4dCwgc2VsZi5leHByZXNzaW9uKTtcbiAgICAgICAgICAgIGVuc3VyZVNhZmVGdW5jdGlvbihyaHMudmFsdWUsIHNlbGYuZXhwcmVzc2lvbik7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgdmFsdWVzLnB1c2goZW5zdXJlU2FmZU9iamVjdChhcmdzW2ldKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSwgc2VsZi5leHByZXNzaW9uKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZSA9IGVuc3VyZVNhZmVPYmplY3QocmhzLnZhbHVlLmFwcGx5KHJocy5jb250ZXh0LCB2YWx1ZXMpLCBzZWxmLmV4cHJlc3Npb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogdmFsdWV9IDogdmFsdWU7XG4gICAgICAgIH07XG4gICAgY2FzZSBBU1QuQXNzaWdubWVudEV4cHJlc3Npb246XG4gICAgICBsZWZ0ID0gdGhpcy5yZWN1cnNlKGFzdC5sZWZ0LCB0cnVlLCAxKTtcbiAgICAgIHJpZ2h0ID0gdGhpcy5yZWN1cnNlKGFzdC5yaWdodCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgICAgdmFyIGxocyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgICB2YXIgcmhzID0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgICBlbnN1cmVTYWZlT2JqZWN0KGxocy52YWx1ZSwgc2VsZi5leHByZXNzaW9uKTtcbiAgICAgICAgbGhzLmNvbnRleHRbbGhzLm5hbWVdID0gcmhzO1xuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogcmhzfSA6IHJocztcbiAgICAgIH07XG4gICAgY2FzZSBBU1QuQXJyYXlFeHByZXNzaW9uOlxuICAgICAgYXJncyA9IFtdO1xuICAgICAgZm9yRWFjaChhc3QuZWxlbWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcbiAgICAgICAgYXJncy5wdXNoKHNlbGYucmVjdXJzZShleHByKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgICB2YXIgdmFsdWUgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgdmFsdWUucHVzaChhcmdzW2ldKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IHZhbHVlfSA6IHZhbHVlO1xuICAgICAgfTtcbiAgICBjYXNlIEFTVC5PYmplY3RFeHByZXNzaW9uOlxuICAgICAgYXJncyA9IFtdO1xuICAgICAgZm9yRWFjaChhc3QucHJvcGVydGllcywgZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICAgICAgYXJncy5wdXNoKHtrZXk6IHByb3BlcnR5LmtleS50eXBlID09PSBBU1QuSWRlbnRpZmllciA/XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5rZXkubmFtZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAoJycgKyBwcm9wZXJ0eS5rZXkudmFsdWUpLFxuICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzZWxmLnJlY3Vyc2UocHJvcGVydHkudmFsdWUpXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgICAgdmFyIHZhbHVlID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIHZhbHVlW2FyZ3NbaV0ua2V5XSA9IGFyZ3NbaV0udmFsdWUoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiB2YWx1ZX0gOiB2YWx1ZTtcbiAgICAgIH07XG4gICAgY2FzZSBBU1QuVGhpc0V4cHJlc3Npb246XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IHNjb3BlfSA6IHNjb3BlO1xuICAgICAgfTtcbiAgICBjYXNlIEFTVC5OR1ZhbHVlUGFyYW1ldGVyOlxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhc3NpZ259IDogYXNzaWduO1xuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cbiAgJ3VuYXJ5Kyc6IGZ1bmN0aW9uKGFyZ3VtZW50LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYXJnID0gYXJndW1lbnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgaWYgKGlzRGVmaW5lZChhcmcpKSB7XG4gICAgICAgIGFyZyA9ICthcmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcmcgPSAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ3VuYXJ5LSc6IGZ1bmN0aW9uKGFyZ3VtZW50LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYXJnID0gYXJndW1lbnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgaWYgKGlzRGVmaW5lZChhcmcpKSB7XG4gICAgICAgIGFyZyA9IC1hcmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcmcgPSAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ3VuYXJ5ISc6IGZ1bmN0aW9uKGFyZ3VtZW50LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYXJnID0gIWFyZ3VtZW50KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnkrJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBsaHMgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHZhciByaHMgPSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICB2YXIgYXJnID0gcGx1c0ZuKGxocywgcmhzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnktJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBsaHMgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHZhciByaHMgPSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICB2YXIgYXJnID0gKGlzRGVmaW5lZChsaHMpID8gbGhzIDogMCkgLSAoaXNEZWZpbmVkKHJocykgPyByaHMgOiAwKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnkqJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSAqIHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnkvJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSAvIHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnklJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSAlIHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnk9PT0nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpID09PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAnYmluYXJ5IT09JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSAhPT0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeT09JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA9PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAnYmluYXJ5IT0nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICE9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnk8JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA8IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnk+JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA+IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnk8PSc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgPD0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ2JpbmFyeT49JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA+PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcbiAgICB9O1xuICB9LFxuICAnYmluYXJ5JiYnOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICYmIHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xuICAgIH07XG4gIH0sXG4gICdiaW5hcnl8fCc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgfHwgcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgJ3Rlcm5hcnk/Oic6IGZ1bmN0aW9uKHRlc3QsIGFsdGVybmF0ZSwgY29uc2VxdWVudCwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGFyZyA9IHRlc3Qoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpID8gYWx0ZXJuYXRlKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA6IGNvbnNlcXVlbnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XG4gICAgfTtcbiAgfSxcbiAgdmFsdWU6IGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gY29udGV4dCA/IHtjb250ZXh0OiB1bmRlZmluZWQsIG5hbWU6IHVuZGVmaW5lZCwgdmFsdWU6IHZhbHVlfSA6IHZhbHVlOyB9O1xuICB9LFxuICBpZGVudGlmaWVyOiBmdW5jdGlvbihuYW1lLCBleHBlbnNpdmVDaGVja3MsIGNvbnRleHQsIGNyZWF0ZSwgZXhwcmVzc2lvbikge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGJhc2UgPSBsb2NhbHMgJiYgKG5hbWUgaW4gbG9jYWxzKSA/IGxvY2FscyA6IHNjb3BlO1xuICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEgJiYgYmFzZSAmJiAhKGJhc2VbbmFtZV0pKSB7XG4gICAgICAgIGJhc2VbbmFtZV0gPSB7fTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZSA9IGJhc2UgPyBiYXNlW25hbWVdIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKGV4cGVuc2l2ZUNoZWNrcykge1xuICAgICAgICBlbnN1cmVTYWZlT2JqZWN0KHZhbHVlLCBleHByZXNzaW9uKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB7Y29udGV4dDogYmFzZSwgbmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBjb21wdXRlZE1lbWJlcjogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQsIGNyZWF0ZSwgZXhwcmVzc2lvbikge1xuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgdmFyIGxocyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgdmFyIHJocztcbiAgICAgIHZhciB2YWx1ZTtcbiAgICAgIGlmIChsaHMgIT0gbnVsbCkge1xuICAgICAgICByaHMgPSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XG4gICAgICAgIGVuc3VyZVNhZmVNZW1iZXJOYW1lKHJocywgZXhwcmVzc2lvbik7XG4gICAgICAgIGlmIChjcmVhdGUgJiYgY3JlYXRlICE9PSAxICYmIGxocyAmJiAhKGxoc1tyaHNdKSkge1xuICAgICAgICAgIGxoc1tyaHNdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSBsaHNbcmhzXTtcbiAgICAgICAgZW5zdXJlU2FmZU9iamVjdCh2YWx1ZSwgZXhwcmVzc2lvbik7XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4ge2NvbnRleHQ6IGxocywgbmFtZTogcmhzLCB2YWx1ZTogdmFsdWV9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIG5vbkNvbXB1dGVkTWVtYmVyOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgZXhwZW5zaXZlQ2hlY2tzLCBjb250ZXh0LCBjcmVhdGUsIGV4cHJlc3Npb24pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcbiAgICAgIHZhciBsaHMgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgIGlmIChjcmVhdGUgJiYgY3JlYXRlICE9PSAxICYmIGxocyAmJiAhKGxoc1tyaWdodF0pKSB7XG4gICAgICAgIGxoc1tyaWdodF0gPSB7fTtcbiAgICAgIH1cbiAgICAgIHZhciB2YWx1ZSA9IGxocyAhPSBudWxsID8gbGhzW3JpZ2h0XSA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChleHBlbnNpdmVDaGVja3MgfHwgaXNQb3NzaWJseURhbmdlcm91c01lbWJlck5hbWUocmlnaHQpKSB7XG4gICAgICAgIGVuc3VyZVNhZmVPYmplY3QodmFsdWUsIGV4cHJlc3Npb24pO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHtjb250ZXh0OiBsaHMsIG5hbWU6IHJpZ2h0LCB2YWx1ZTogdmFsdWV9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIGlucHV0czogZnVuY3Rpb24oaW5wdXQsIHdhdGNoSWQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIHZhbHVlLCBsb2NhbHMsIGlucHV0cykge1xuICAgICAgaWYgKGlucHV0cykgcmV0dXJuIGlucHV0c1t3YXRjaElkXTtcbiAgICAgIHJldHVybiBpbnB1dChzY29wZSwgdmFsdWUsIGxvY2Fscyk7XG4gICAgfTtcbiAgfVxufTtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIFBhcnNlciA9IGZ1bmN0aW9uKGxleGVyLCAkZmlsdGVyLCBvcHRpb25zKSB7XG4gIHRoaXMubGV4ZXIgPSBsZXhlcjtcbiAgdGhpcy4kZmlsdGVyID0gJGZpbHRlcjtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgdGhpcy5hc3QgPSBuZXcgQVNUKHRoaXMubGV4ZXIpO1xuICB0aGlzLmFzdENvbXBpbGVyID0gb3B0aW9ucy5jc3AgPyBuZXcgQVNUSW50ZXJwcmV0ZXIodGhpcy5hc3QsICRmaWx0ZXIpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEFTVENvbXBpbGVyKHRoaXMuYXN0LCAkZmlsdGVyKTtcbn07XG5cblBhcnNlci5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBQYXJzZXIsXG5cbiAgcGFyc2U6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICByZXR1cm4gdGhpcy5hc3RDb21waWxlci5jb21waWxlKHRleHQsIHRoaXMub3B0aW9ucy5leHBlbnNpdmVDaGVja3MpO1xuICB9XG59O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gUGFyc2VyIGhlbHBlciBmdW5jdGlvbnNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmZ1bmN0aW9uIHNldHRlcihvYmosIHBhdGgsIHNldFZhbHVlLCBmdWxsRXhwKSB7XG4gIGVuc3VyZVNhZmVPYmplY3Qob2JqLCBmdWxsRXhwKTtcblxuICB2YXIgZWxlbWVudCA9IHBhdGguc3BsaXQoJy4nKSwga2V5O1xuICBmb3IgKHZhciBpID0gMDsgZWxlbWVudC5sZW5ndGggPiAxOyBpKyspIHtcbiAgICBrZXkgPSBlbnN1cmVTYWZlTWVtYmVyTmFtZShlbGVtZW50LnNoaWZ0KCksIGZ1bGxFeHApO1xuICAgIHZhciBwcm9wZXJ0eU9iaiA9IGVuc3VyZVNhZmVPYmplY3Qob2JqW2tleV0sIGZ1bGxFeHApO1xuICAgIGlmICghcHJvcGVydHlPYmopIHtcbiAgICAgIHByb3BlcnR5T2JqID0ge307XG4gICAgICBvYmpba2V5XSA9IHByb3BlcnR5T2JqO1xuICAgIH1cbiAgICBvYmogPSBwcm9wZXJ0eU9iajtcbiAgfVxuICBrZXkgPSBlbnN1cmVTYWZlTWVtYmVyTmFtZShlbGVtZW50LnNoaWZ0KCksIGZ1bGxFeHApO1xuICBlbnN1cmVTYWZlT2JqZWN0KG9ialtrZXldLCBmdWxsRXhwKTtcbiAgb2JqW2tleV0gPSBzZXRWYWx1ZTtcbiAgcmV0dXJuIHNldFZhbHVlO1xufVxuXG52YXIgZ2V0dGVyRm5DYWNoZURlZmF1bHQgPSBjcmVhdGVNYXAoKTtcbnZhciBnZXR0ZXJGbkNhY2hlRXhwZW5zaXZlID0gY3JlYXRlTWFwKCk7XG5cbmZ1bmN0aW9uIGlzUG9zc2libHlEYW5nZXJvdXNNZW1iZXJOYW1lKG5hbWUpIHtcbiAgcmV0dXJuIG5hbWUgPT0gJ2NvbnN0cnVjdG9yJztcbn1cblxudmFyIG9iamVjdFZhbHVlT2YgPSBPYmplY3QucHJvdG90eXBlLnZhbHVlT2Y7XG5cbmZ1bmN0aW9uIGdldFZhbHVlT2YodmFsdWUpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUudmFsdWVPZikgPyB2YWx1ZS52YWx1ZU9mKCkgOiBvYmplY3RWYWx1ZU9mLmNhbGwodmFsdWUpO1xufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkcGFyc2VcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogQ29udmVydHMgQW5ndWxhciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpbnRvIGEgZnVuY3Rpb24uXG4gKlxuICogYGBganNcbiAqICAgdmFyIGdldHRlciA9ICRwYXJzZSgndXNlci5uYW1lJyk7XG4gKiAgIHZhciBzZXR0ZXIgPSBnZXR0ZXIuYXNzaWduO1xuICogICB2YXIgY29udGV4dCA9IHt1c2VyOntuYW1lOidhbmd1bGFyJ319O1xuICogICB2YXIgbG9jYWxzID0ge3VzZXI6e25hbWU6J2xvY2FsJ319O1xuICpcbiAqICAgZXhwZWN0KGdldHRlcihjb250ZXh0KSkudG9FcXVhbCgnYW5ndWxhcicpO1xuICogICBzZXR0ZXIoY29udGV4dCwgJ25ld1ZhbHVlJyk7XG4gKiAgIGV4cGVjdChjb250ZXh0LnVzZXIubmFtZSkudG9FcXVhbCgnbmV3VmFsdWUnKTtcbiAqICAgZXhwZWN0KGdldHRlcihjb250ZXh0LCBsb2NhbHMpKS50b0VxdWFsKCdsb2NhbCcpO1xuICogYGBgXG4gKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gYSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxuICpcbiAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcbiAqICAgICAgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxuICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxuICogICAgICBgY29udGV4dGAuXG4gKlxuICogICAgVGhlIHJldHVybmVkIGZ1bmN0aW9uIGFsc28gaGFzIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAqICAgICAgKiBgbGl0ZXJhbGAg4oCTIGB7Ym9vbGVhbn1gIOKAkyB3aGV0aGVyIHRoZSBleHByZXNzaW9uJ3MgdG9wLWxldmVsIG5vZGUgaXMgYSBKYXZhU2NyaXB0XG4gKiAgICAgICAgbGl0ZXJhbC5cbiAqICAgICAgKiBgY29uc3RhbnRgIOKAkyBge2Jvb2xlYW59YCDigJMgd2hldGhlciB0aGUgZXhwcmVzc2lvbiBpcyBtYWRlIGVudGlyZWx5IG9mIEphdmFTY3JpcHRcbiAqICAgICAgICBjb25zdGFudCBsaXRlcmFscy5cbiAqICAgICAgKiBgYXNzaWduYCDigJMgYHs/ZnVuY3Rpb24oY29udGV4dCwgdmFsdWUpfWAg4oCTIGlmIHRoZSBleHByZXNzaW9uIGlzIGFzc2lnbmFibGUsIHRoaXMgd2lsbCBiZVxuICogICAgICAgIHNldCB0byBhIGZ1bmN0aW9uIHRvIGNoYW5nZSBpdHMgdmFsdWUgb24gdGhlIGdpdmVuIGNvbnRleHQuXG4gKlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRwYXJzZVByb3ZpZGVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBgJHBhcnNlUHJvdmlkZXJgIGNhbiBiZSB1c2VkIGZvciBjb25maWd1cmluZyB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUge0BsaW5rIG5nLiRwYXJzZSAkcGFyc2V9XG4gKiAgc2VydmljZS5cbiAqL1xuZnVuY3Rpb24gJFBhcnNlUHJvdmlkZXIoKSB7XG4gIHZhciBjYWNoZURlZmF1bHQgPSBjcmVhdGVNYXAoKTtcbiAgdmFyIGNhY2hlRXhwZW5zaXZlID0gY3JlYXRlTWFwKCk7XG5cbiAgdGhpcy4kZ2V0ID0gWyckZmlsdGVyJywgJyRzbmlmZmVyJywgZnVuY3Rpb24oJGZpbHRlciwgJHNuaWZmZXIpIHtcbiAgICB2YXIgJHBhcnNlT3B0aW9ucyA9IHtcbiAgICAgICAgICBjc3A6ICRzbmlmZmVyLmNzcCxcbiAgICAgICAgICBleHBlbnNpdmVDaGVja3M6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgICRwYXJzZU9wdGlvbnNFeHBlbnNpdmUgPSB7XG4gICAgICAgICAgY3NwOiAkc25pZmZlci5jc3AsXG4gICAgICAgICAgZXhwZW5zaXZlQ2hlY2tzOiB0cnVlXG4gICAgICAgIH07XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gJHBhcnNlKGV4cCwgaW50ZXJjZXB0b3JGbiwgZXhwZW5zaXZlQ2hlY2tzKSB7XG4gICAgICB2YXIgcGFyc2VkRXhwcmVzc2lvbiwgb25lVGltZSwgY2FjaGVLZXk7XG5cbiAgICAgIHN3aXRjaCAodHlwZW9mIGV4cCkge1xuICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgIGV4cCA9IGV4cC50cmltKCk7XG4gICAgICAgICAgY2FjaGVLZXkgPSBleHA7XG5cbiAgICAgICAgICB2YXIgY2FjaGUgPSAoZXhwZW5zaXZlQ2hlY2tzID8gY2FjaGVFeHBlbnNpdmUgOiBjYWNoZURlZmF1bHQpO1xuICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24gPSBjYWNoZVtjYWNoZUtleV07XG5cbiAgICAgICAgICBpZiAoIXBhcnNlZEV4cHJlc3Npb24pIHtcbiAgICAgICAgICAgIGlmIChleHAuY2hhckF0KDApID09PSAnOicgJiYgZXhwLmNoYXJBdCgxKSA9PT0gJzonKSB7XG4gICAgICAgICAgICAgIG9uZVRpbWUgPSB0cnVlO1xuICAgICAgICAgICAgICBleHAgPSBleHAuc3Vic3RyaW5nKDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHBhcnNlT3B0aW9ucyA9IGV4cGVuc2l2ZUNoZWNrcyA/ICRwYXJzZU9wdGlvbnNFeHBlbnNpdmUgOiAkcGFyc2VPcHRpb25zO1xuICAgICAgICAgICAgdmFyIGxleGVyID0gbmV3IExleGVyKHBhcnNlT3B0aW9ucyk7XG4gICAgICAgICAgICB2YXIgcGFyc2VyID0gbmV3IFBhcnNlcihsZXhlciwgJGZpbHRlciwgcGFyc2VPcHRpb25zKTtcbiAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24gPSBwYXJzZXIucGFyc2UoZXhwKTtcbiAgICAgICAgICAgIGlmIChwYXJzZWRFeHByZXNzaW9uLmNvbnN0YW50KSB7XG4gICAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlID0gY29uc3RhbnRXYXRjaERlbGVnYXRlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvbmVUaW1lKSB7XG4gICAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlID0gcGFyc2VkRXhwcmVzc2lvbi5saXRlcmFsID9cbiAgICAgICAgICAgICAgICAgIG9uZVRpbWVMaXRlcmFsV2F0Y2hEZWxlZ2F0ZSA6IG9uZVRpbWVXYXRjaERlbGVnYXRlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJzZWRFeHByZXNzaW9uLmlucHV0cykge1xuICAgICAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSA9IGlucHV0c1dhdGNoRGVsZWdhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWNoZVtjYWNoZUtleV0gPSBwYXJzZWRFeHByZXNzaW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYWRkSW50ZXJjZXB0b3IocGFyc2VkRXhwcmVzc2lvbiwgaW50ZXJjZXB0b3JGbik7XG5cbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgIHJldHVybiBhZGRJbnRlcmNlcHRvcihleHAsIGludGVyY2VwdG9yRm4pO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2sobmV3VmFsdWUsIG9sZFZhbHVlT2ZWYWx1ZSkge1xuXG4gICAgICBpZiAobmV3VmFsdWUgPT0gbnVsbCB8fCBvbGRWYWx1ZU9mVmFsdWUgPT0gbnVsbCkgeyAvLyBudWxsL3VuZGVmaW5lZFxuICAgICAgICByZXR1cm4gbmV3VmFsdWUgPT09IG9sZFZhbHVlT2ZWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ29iamVjdCcpIHtcblxuICAgICAgICAvLyBhdHRlbXB0IHRvIGNvbnZlcnQgdGhlIHZhbHVlIHRvIGEgcHJpbWl0aXZlIHR5cGVcbiAgICAgICAgLy8gVE9ETyhkb2NzKTogYWRkIGEgbm90ZSB0byBkb2NzIHRoYXQgYnkgaW1wbGVtZW50aW5nIHZhbHVlT2YgZXZlbiBvYmplY3RzIGFuZCBhcnJheXMgY2FuXG4gICAgICAgIC8vICAgICAgICAgICAgIGJlIGNoZWFwbHkgZGlydHktY2hlY2tlZFxuICAgICAgICBuZXdWYWx1ZSA9IGdldFZhbHVlT2YobmV3VmFsdWUpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgbmV3VmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgLy8gb2JqZWN0cy9hcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQgLSBkZWVwLXdhdGNoaW5nIHRoZW0gd291bGQgYmUgdG9vIGV4cGVuc2l2ZVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZhbGwtdGhyb3VnaCB0byB0aGUgcHJpbWl0aXZlIGVxdWFsaXR5IGNoZWNrXG4gICAgICB9XG5cbiAgICAgIC8vUHJpbWl0aXZlIG9yIE5hTlxuICAgICAgcmV0dXJuIG5ld1ZhbHVlID09PSBvbGRWYWx1ZU9mVmFsdWUgfHwgKG5ld1ZhbHVlICE9PSBuZXdWYWx1ZSAmJiBvbGRWYWx1ZU9mVmFsdWUgIT09IG9sZFZhbHVlT2ZWYWx1ZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5wdXRzV2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwYXJzZWRFeHByZXNzaW9uLCBwcmV0dHlQcmludEV4cHJlc3Npb24pIHtcbiAgICAgIHZhciBpbnB1dEV4cHJlc3Npb25zID0gcGFyc2VkRXhwcmVzc2lvbi5pbnB1dHM7XG4gICAgICB2YXIgbGFzdFJlc3VsdDtcblxuICAgICAgaWYgKGlucHV0RXhwcmVzc2lvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHZhciBvbGRJbnB1dFZhbHVlT2YgPSBleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrOyAvLyBpbml0IHRvIHNvbWV0aGluZyB1bmlxdWUgc28gdGhhdCBlcXVhbHMgY2hlY2sgZmFpbHNcbiAgICAgICAgaW5wdXRFeHByZXNzaW9ucyA9IGlucHV0RXhwcmVzc2lvbnNbMF07XG4gICAgICAgIHJldHVybiBzY29wZS4kd2F0Y2goZnVuY3Rpb24gZXhwcmVzc2lvbklucHV0V2F0Y2goc2NvcGUpIHtcbiAgICAgICAgICB2YXIgbmV3SW5wdXRWYWx1ZSA9IGlucHV0RXhwcmVzc2lvbnMoc2NvcGUpO1xuICAgICAgICAgIGlmICghZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayhuZXdJbnB1dFZhbHVlLCBvbGRJbnB1dFZhbHVlT2YpKSB7XG4gICAgICAgICAgICBsYXN0UmVzdWx0ID0gcGFyc2VkRXhwcmVzc2lvbihzY29wZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFtuZXdJbnB1dFZhbHVlXSk7XG4gICAgICAgICAgICBvbGRJbnB1dFZhbHVlT2YgPSBuZXdJbnB1dFZhbHVlICYmIGdldFZhbHVlT2YobmV3SW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgICAgICB9LCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHByZXR0eVByaW50RXhwcmVzc2lvbik7XG4gICAgICB9XG5cbiAgICAgIHZhciBvbGRJbnB1dFZhbHVlT2ZWYWx1ZXMgPSBbXTtcbiAgICAgIHZhciBvbGRJbnB1dFZhbHVlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gaW5wdXRFeHByZXNzaW9ucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgIG9sZElucHV0VmFsdWVPZlZhbHVlc1tpXSA9IGV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2s7IC8vIGluaXQgdG8gc29tZXRoaW5nIHVuaXF1ZSBzbyB0aGF0IGVxdWFscyBjaGVjayBmYWlsc1xuICAgICAgICBvbGRJbnB1dFZhbHVlc1tpXSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzY29wZS4kd2F0Y2goZnVuY3Rpb24gZXhwcmVzc2lvbklucHV0c1dhdGNoKHNjb3BlKSB7XG4gICAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gaW5wdXRFeHByZXNzaW9ucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgdmFyIG5ld0lucHV0VmFsdWUgPSBpbnB1dEV4cHJlc3Npb25zW2ldKHNjb3BlKTtcbiAgICAgICAgICBpZiAoY2hhbmdlZCB8fCAoY2hhbmdlZCA9ICFleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrKG5ld0lucHV0VmFsdWUsIG9sZElucHV0VmFsdWVPZlZhbHVlc1tpXSkpKSB7XG4gICAgICAgICAgICBvbGRJbnB1dFZhbHVlc1tpXSA9IG5ld0lucHV0VmFsdWU7XG4gICAgICAgICAgICBvbGRJbnB1dFZhbHVlT2ZWYWx1ZXNbaV0gPSBuZXdJbnB1dFZhbHVlICYmIGdldFZhbHVlT2YobmV3SW5wdXRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgICBsYXN0UmVzdWx0ID0gcGFyc2VkRXhwcmVzc2lvbihzY29wZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG9sZElucHV0VmFsdWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgICAgfSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwcmV0dHlQcmludEV4cHJlc3Npb24pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uZVRpbWVXYXRjaERlbGVnYXRlKHNjb3BlLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHBhcnNlZEV4cHJlc3Npb24pIHtcbiAgICAgIHZhciB1bndhdGNoLCBsYXN0VmFsdWU7XG4gICAgICByZXR1cm4gdW53YXRjaCA9IHNjb3BlLiR3YXRjaChmdW5jdGlvbiBvbmVUaW1lV2F0Y2goc2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpO1xuICAgICAgfSwgZnVuY3Rpb24gb25lVGltZUxpc3RlbmVyKHZhbHVlLCBvbGQsIHNjb3BlKSB7XG4gICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcbiAgICAgICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgc2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChsYXN0VmFsdWUpKSB7XG4gICAgICAgICAgICAgIHVud2F0Y2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgb2JqZWN0RXF1YWxpdHkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uZVRpbWVMaXRlcmFsV2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwYXJzZWRFeHByZXNzaW9uKSB7XG4gICAgICB2YXIgdW53YXRjaCwgbGFzdFZhbHVlO1xuICAgICAgcmV0dXJuIHVud2F0Y2ggPSBzY29wZS4kd2F0Y2goZnVuY3Rpb24gb25lVGltZVdhdGNoKHNjb3BlKSB7XG4gICAgICAgIHJldHVybiBwYXJzZWRFeHByZXNzaW9uKHNjb3BlKTtcbiAgICAgIH0sIGZ1bmN0aW9uIG9uZVRpbWVMaXN0ZW5lcih2YWx1ZSwgb2xkLCBzY29wZSkge1xuICAgICAgICBsYXN0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXIpKSB7XG4gICAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCB2YWx1ZSwgb2xkLCBzY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQWxsRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgICBzY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaXNBbGxEZWZpbmVkKGxhc3RWYWx1ZSkpIHVud2F0Y2goKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwgb2JqZWN0RXF1YWxpdHkpO1xuXG4gICAgICBmdW5jdGlvbiBpc0FsbERlZmluZWQodmFsdWUpIHtcbiAgICAgICAgdmFyIGFsbERlZmluZWQgPSB0cnVlO1xuICAgICAgICBmb3JFYWNoKHZhbHVlLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICBpZiAoIWlzRGVmaW5lZCh2YWwpKSBhbGxEZWZpbmVkID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYWxsRGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25zdGFudFdhdGNoRGVsZWdhdGUoc2NvcGUsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgcGFyc2VkRXhwcmVzc2lvbikge1xuICAgICAgdmFyIHVud2F0Y2g7XG4gICAgICByZXR1cm4gdW53YXRjaCA9IHNjb3BlLiR3YXRjaChmdW5jdGlvbiBjb25zdGFudFdhdGNoKHNjb3BlKSB7XG4gICAgICAgIHJldHVybiBwYXJzZWRFeHByZXNzaW9uKHNjb3BlKTtcbiAgICAgIH0sIGZ1bmN0aW9uIGNvbnN0YW50TGlzdGVuZXIodmFsdWUsIG9sZCwgc2NvcGUpIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXIpKSB7XG4gICAgICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICB1bndhdGNoKCk7XG4gICAgICB9LCBvYmplY3RFcXVhbGl0eSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkSW50ZXJjZXB0b3IocGFyc2VkRXhwcmVzc2lvbiwgaW50ZXJjZXB0b3JGbikge1xuICAgICAgaWYgKCFpbnRlcmNlcHRvckZuKSByZXR1cm4gcGFyc2VkRXhwcmVzc2lvbjtcbiAgICAgIHZhciB3YXRjaERlbGVnYXRlID0gcGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGU7XG5cbiAgICAgIHZhciByZWd1bGFyV2F0Y2ggPVxuICAgICAgICAgIHdhdGNoRGVsZWdhdGUgIT09IG9uZVRpbWVMaXRlcmFsV2F0Y2hEZWxlZ2F0ZSAmJlxuICAgICAgICAgIHdhdGNoRGVsZWdhdGUgIT09IG9uZVRpbWVXYXRjaERlbGVnYXRlO1xuXG4gICAgICB2YXIgZm4gPSByZWd1bGFyV2F0Y2ggPyBmdW5jdGlvbiByZWd1bGFySW50ZXJjZXB0ZWRFeHByZXNzaW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlZEV4cHJlc3Npb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xuICAgICAgICByZXR1cm4gaW50ZXJjZXB0b3JGbih2YWx1ZSwgc2NvcGUsIGxvY2Fscyk7XG4gICAgICB9IDogZnVuY3Rpb24gb25lVGltZUludGVyY2VwdGVkRXhwcmVzc2lvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xuICAgICAgICB2YXIgdmFsdWUgPSBwYXJzZWRFeHByZXNzaW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGludGVyY2VwdG9yRm4odmFsdWUsIHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAvLyB3ZSBvbmx5IHJldHVybiB0aGUgaW50ZXJjZXB0b3IncyByZXN1bHQgaWYgdGhlXG4gICAgICAgIC8vIGluaXRpYWwgdmFsdWUgaXMgZGVmaW5lZCAoZm9yIGJpbmQtb25jZSlcbiAgICAgICAgcmV0dXJuIGlzRGVmaW5lZCh2YWx1ZSkgPyByZXN1bHQgOiB2YWx1ZTtcbiAgICAgIH07XG5cbiAgICAgIC8vIFByb3BhZ2F0ZSAkJHdhdGNoRGVsZWdhdGVzIG90aGVyIHRoZW4gaW5wdXRzV2F0Y2hEZWxlZ2F0ZVxuICAgICAgaWYgKHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlICYmXG4gICAgICAgICAgcGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGUgIT09IGlucHV0c1dhdGNoRGVsZWdhdGUpIHtcbiAgICAgICAgZm4uJCR3YXRjaERlbGVnYXRlID0gcGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGU7XG4gICAgICB9IGVsc2UgaWYgKCFpbnRlcmNlcHRvckZuLiRzdGF0ZWZ1bCkge1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhbiBpbnRlcmNlcHRvciwgYnV0IG5vIHdhdGNoRGVsZWdhdGUgdGhlbiB0cmVhdCB0aGUgaW50ZXJjZXB0b3IgbGlrZVxuICAgICAgICAvLyB3ZSB0cmVhdCBmaWx0ZXJzIC0gaXQgaXMgYXNzdW1lZCB0byBiZSBhIHB1cmUgZnVuY3Rpb24gdW5sZXNzIGZsYWdnZWQgd2l0aCAkc3RhdGVmdWxcbiAgICAgICAgZm4uJCR3YXRjaERlbGVnYXRlID0gaW5wdXRzV2F0Y2hEZWxlZ2F0ZTtcbiAgICAgICAgZm4uaW5wdXRzID0gcGFyc2VkRXhwcmVzc2lvbi5pbnB1dHMgPyBwYXJzZWRFeHByZXNzaW9uLmlucHV0cyA6IFtwYXJzZWRFeHByZXNzaW9uXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuO1xuICAgIH1cbiAgfV07XG59XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRxXG4gKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSBzZXJ2aWNlIHRoYXQgaGVscHMgeW91IHJ1biBmdW5jdGlvbnMgYXN5bmNocm9ub3VzbHksIGFuZCB1c2UgdGhlaXIgcmV0dXJuIHZhbHVlcyAob3IgZXhjZXB0aW9ucylcbiAqIHdoZW4gdGhleSBhcmUgZG9uZSBwcm9jZXNzaW5nLlxuICpcbiAqIFRoaXMgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgcHJvbWlzZXMvZGVmZXJyZWQgb2JqZWN0cyBpbnNwaXJlZCBieVxuICogW0tyaXMgS293YWwncyBRXShodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3EpLlxuICpcbiAqICRxIGNhbiBiZSB1c2VkIGluIHR3byBmYXNoaW9ucyAtLS0gb25lIHdoaWNoIGlzIG1vcmUgc2ltaWxhciB0byBLcmlzIEtvd2FsJ3MgUSBvciBqUXVlcnkncyBEZWZlcnJlZFxuICogaW1wbGVtZW50YXRpb25zLCBhbmQgdGhlIG90aGVyIHdoaWNoIHJlc2VtYmxlcyBFUzYgcHJvbWlzZXMgdG8gc29tZSBkZWdyZWUuXG4gKlxuICogIyAkcSBjb25zdHJ1Y3RvclxuICpcbiAqIFRoZSBzdHJlYW1saW5lZCBFUzYgc3R5bGUgcHJvbWlzZSBpcyBlc3NlbnRpYWxseSBqdXN0IHVzaW5nICRxIGFzIGEgY29uc3RydWN0b3Igd2hpY2ggdGFrZXMgYSBgcmVzb2x2ZXJgXG4gKiBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQuIFRoaXMgaXMgc2ltaWxhciB0byB0aGUgbmF0aXZlIFByb21pc2UgaW1wbGVtZW50YXRpb24gZnJvbSBFUzYgSGFybW9ueSxcbiAqIHNlZSBbTUROXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9Qcm9taXNlKS5cbiAqXG4gKiBXaGlsZSB0aGUgY29uc3RydWN0b3Itc3R5bGUgdXNlIGlzIHN1cHBvcnRlZCwgbm90IGFsbCBvZiB0aGUgc3VwcG9ydGluZyBtZXRob2RzIGZyb20gRVM2IEhhcm1vbnkgcHJvbWlzZXMgYXJlXG4gKiBhdmFpbGFibGUgeWV0LlxuICpcbiAqIEl0IGNhbiBiZSB1c2VkIGxpa2Ugc286XG4gKlxuICogYGBganNcbiAqICAgLy8gZm9yIHRoZSBwdXJwb3NlIG9mIHRoaXMgZXhhbXBsZSBsZXQncyBhc3N1bWUgdGhhdCB2YXJpYWJsZXMgYCRxYCBhbmQgYG9rVG9HcmVldGBcbiAqICAgLy8gYXJlIGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudCBsZXhpY2FsIHNjb3BlICh0aGV5IGNvdWxkIGhhdmUgYmVlbiBpbmplY3RlZCBvciBwYXNzZWQgaW4pLlxuICpcbiAqICAgZnVuY3Rpb24gYXN5bmNHcmVldChuYW1lKSB7XG4gKiAgICAgLy8gcGVyZm9ybSBzb21lIGFzeW5jaHJvbm91cyBvcGVyYXRpb24sIHJlc29sdmUgb3IgcmVqZWN0IHRoZSBwcm9taXNlIHdoZW4gYXBwcm9wcmlhdGUuXG4gKiAgICAgcmV0dXJuICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICogICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAqICAgICAgICAgaWYgKG9rVG9HcmVldChuYW1lKSkge1xuICogICAgICAgICAgIHJlc29sdmUoJ0hlbGxvLCAnICsgbmFtZSArICchJyk7XG4gKiAgICAgICAgIH0gZWxzZSB7XG4gKiAgICAgICAgICAgcmVqZWN0KCdHcmVldGluZyAnICsgbmFtZSArICcgaXMgbm90IGFsbG93ZWQuJyk7XG4gKiAgICAgICAgIH1cbiAqICAgICAgIH0sIDEwMDApO1xuICogICAgIH0pO1xuICogICB9XG4gKlxuICogICB2YXIgcHJvbWlzZSA9IGFzeW5jR3JlZXQoJ1JvYmluIEhvb2QnKTtcbiAqICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGdyZWV0aW5nKSB7XG4gKiAgICAgYWxlcnQoJ1N1Y2Nlc3M6ICcgKyBncmVldGluZyk7XG4gKiAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICogICAgIGFsZXJ0KCdGYWlsZWQ6ICcgKyByZWFzb24pO1xuICogICB9KTtcbiAqIGBgYFxuICpcbiAqIE5vdGU6IHByb2dyZXNzL25vdGlmeSBjYWxsYmFja3MgYXJlIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIHZpYSB0aGUgRVM2LXN0eWxlIGludGVyZmFjZS5cbiAqXG4gKiBIb3dldmVyLCB0aGUgbW9yZSB0cmFkaXRpb25hbCBDb21tb25KUy1zdHlsZSB1c2FnZSBpcyBzdGlsbCBhdmFpbGFibGUsIGFuZCBkb2N1bWVudGVkIGJlbG93LlxuICpcbiAqIFtUaGUgQ29tbW9uSlMgUHJvbWlzZSBwcm9wb3NhbF0oaHR0cDovL3dpa2kuY29tbW9uanMub3JnL3dpa2kvUHJvbWlzZXMpIGRlc2NyaWJlcyBhIHByb21pc2UgYXMgYW5cbiAqIGludGVyZmFjZSBmb3IgaW50ZXJhY3Rpbmcgd2l0aCBhbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoZSByZXN1bHQgb2YgYW4gYWN0aW9uIHRoYXQgaXNcbiAqIHBlcmZvcm1lZCBhc3luY2hyb25vdXNseSwgYW5kIG1heSBvciBtYXkgbm90IGJlIGZpbmlzaGVkIGF0IGFueSBnaXZlbiBwb2ludCBpbiB0aW1lLlxuICpcbiAqIEZyb20gdGhlIHBlcnNwZWN0aXZlIG9mIGRlYWxpbmcgd2l0aCBlcnJvciBoYW5kbGluZywgZGVmZXJyZWQgYW5kIHByb21pc2UgQVBJcyBhcmUgdG9cbiAqIGFzeW5jaHJvbm91cyBwcm9ncmFtbWluZyB3aGF0IGB0cnlgLCBgY2F0Y2hgIGFuZCBgdGhyb3dgIGtleXdvcmRzIGFyZSB0byBzeW5jaHJvbm91cyBwcm9ncmFtbWluZy5cbiAqXG4gKiBgYGBqc1xuICogICAvLyBmb3IgdGhlIHB1cnBvc2Ugb2YgdGhpcyBleGFtcGxlIGxldCdzIGFzc3VtZSB0aGF0IHZhcmlhYmxlcyBgJHFgIGFuZCBgb2tUb0dyZWV0YFxuICogICAvLyBhcmUgYXZhaWxhYmxlIGluIHRoZSBjdXJyZW50IGxleGljYWwgc2NvcGUgKHRoZXkgY291bGQgaGF2ZSBiZWVuIGluamVjdGVkIG9yIHBhc3NlZCBpbikuXG4gKlxuICogICBmdW5jdGlvbiBhc3luY0dyZWV0KG5hbWUpIHtcbiAqICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICpcbiAqICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICogICAgICAgZGVmZXJyZWQubm90aWZ5KCdBYm91dCB0byBncmVldCAnICsgbmFtZSArICcuJyk7XG4gKlxuICogICAgICAgaWYgKG9rVG9HcmVldChuYW1lKSkge1xuICogICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCdIZWxsbywgJyArIG5hbWUgKyAnIScpO1xuICogICAgICAgfSBlbHNlIHtcbiAqICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCdHcmVldGluZyAnICsgbmFtZSArICcgaXMgbm90IGFsbG93ZWQuJyk7XG4gKiAgICAgICB9XG4gKiAgICAgfSwgMTAwMCk7XG4gKlxuICogICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICogICB9XG4gKlxuICogICB2YXIgcHJvbWlzZSA9IGFzeW5jR3JlZXQoJ1JvYmluIEhvb2QnKTtcbiAqICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGdyZWV0aW5nKSB7XG4gKiAgICAgYWxlcnQoJ1N1Y2Nlc3M6ICcgKyBncmVldGluZyk7XG4gKiAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICogICAgIGFsZXJ0KCdGYWlsZWQ6ICcgKyByZWFzb24pO1xuICogICB9LCBmdW5jdGlvbih1cGRhdGUpIHtcbiAqICAgICBhbGVydCgnR290IG5vdGlmaWNhdGlvbjogJyArIHVwZGF0ZSk7XG4gKiAgIH0pO1xuICogYGBgXG4gKlxuICogQXQgZmlyc3QgaXQgbWlnaHQgbm90IGJlIG9idmlvdXMgd2h5IHRoaXMgZXh0cmEgY29tcGxleGl0eSBpcyB3b3J0aCB0aGUgdHJvdWJsZS4gVGhlIHBheW9mZlxuICogY29tZXMgaW4gdGhlIHdheSBvZiBndWFyYW50ZWVzIHRoYXQgcHJvbWlzZSBhbmQgZGVmZXJyZWQgQVBJcyBtYWtlLCBzZWVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvdW5jb21tb25qcy9ibG9iL21hc3Rlci9wcm9taXNlcy9zcGVjaWZpY2F0aW9uLm1kLlxuICpcbiAqIEFkZGl0aW9uYWxseSB0aGUgcHJvbWlzZSBhcGkgYWxsb3dzIGZvciBjb21wb3NpdGlvbiB0aGF0IGlzIHZlcnkgaGFyZCB0byBkbyB3aXRoIHRoZVxuICogdHJhZGl0aW9uYWwgY2FsbGJhY2sgKFtDUFNdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29udGludWF0aW9uLXBhc3Npbmdfc3R5bGUpKSBhcHByb2FjaC5cbiAqIEZvciBtb3JlIG9uIHRoaXMgcGxlYXNlIHNlZSB0aGUgW1EgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xKSBlc3BlY2lhbGx5IHRoZVxuICogc2VjdGlvbiBvbiBzZXJpYWwgb3IgcGFyYWxsZWwgam9pbmluZyBvZiBwcm9taXNlcy5cbiAqXG4gKiAjIFRoZSBEZWZlcnJlZCBBUElcbiAqXG4gKiBBIG5ldyBpbnN0YW5jZSBvZiBkZWZlcnJlZCBpcyBjb25zdHJ1Y3RlZCBieSBjYWxsaW5nIGAkcS5kZWZlcigpYC5cbiAqXG4gKiBUaGUgcHVycG9zZSBvZiB0aGUgZGVmZXJyZWQgb2JqZWN0IGlzIHRvIGV4cG9zZSB0aGUgYXNzb2NpYXRlZCBQcm9taXNlIGluc3RhbmNlIGFzIHdlbGwgYXMgQVBJc1xuICogdGhhdCBjYW4gYmUgdXNlZCBmb3Igc2lnbmFsaW5nIHRoZSBzdWNjZXNzZnVsIG9yIHVuc3VjY2Vzc2Z1bCBjb21wbGV0aW9uLCBhcyB3ZWxsIGFzIHRoZSBzdGF0dXNcbiAqIG9mIHRoZSB0YXNrLlxuICpcbiAqICoqTWV0aG9kcyoqXG4gKlxuICogLSBgcmVzb2x2ZSh2YWx1ZSlgIOKAkyByZXNvbHZlcyB0aGUgZGVyaXZlZCBwcm9taXNlIHdpdGggdGhlIGB2YWx1ZWAuIElmIHRoZSB2YWx1ZSBpcyBhIHJlamVjdGlvblxuICogICBjb25zdHJ1Y3RlZCB2aWEgYCRxLnJlamVjdGAsIHRoZSBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgaW5zdGVhZC5cbiAqIC0gYHJlamVjdChyZWFzb24pYCDigJMgcmVqZWN0cyB0aGUgZGVyaXZlZCBwcm9taXNlIHdpdGggdGhlIGByZWFzb25gLiBUaGlzIGlzIGVxdWl2YWxlbnQgdG9cbiAqICAgcmVzb2x2aW5nIGl0IHdpdGggYSByZWplY3Rpb24gY29uc3RydWN0ZWQgdmlhIGAkcS5yZWplY3RgLlxuICogLSBgbm90aWZ5KHZhbHVlKWAgLSBwcm92aWRlcyB1cGRhdGVzIG9uIHRoZSBzdGF0dXMgb2YgdGhlIHByb21pc2UncyBleGVjdXRpb24uIFRoaXMgbWF5IGJlIGNhbGxlZFxuICogICBtdWx0aXBsZSB0aW1lcyBiZWZvcmUgdGhlIHByb21pc2UgaXMgZWl0aGVyIHJlc29sdmVkIG9yIHJlamVjdGVkLlxuICpcbiAqICoqUHJvcGVydGllcyoqXG4gKlxuICogLSBwcm9taXNlIOKAkyBge1Byb21pc2V9YCDigJMgcHJvbWlzZSBvYmplY3QgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZGVmZXJyZWQuXG4gKlxuICpcbiAqICMgVGhlIFByb21pc2UgQVBJXG4gKlxuICogQSBuZXcgcHJvbWlzZSBpbnN0YW5jZSBpcyBjcmVhdGVkIHdoZW4gYSBkZWZlcnJlZCBpbnN0YW5jZSBpcyBjcmVhdGVkIGFuZCBjYW4gYmUgcmV0cmlldmVkIGJ5XG4gKiBjYWxsaW5nIGBkZWZlcnJlZC5wcm9taXNlYC5cbiAqXG4gKiBUaGUgcHVycG9zZSBvZiB0aGUgcHJvbWlzZSBvYmplY3QgaXMgdG8gYWxsb3cgZm9yIGludGVyZXN0ZWQgcGFydGllcyB0byBnZXQgYWNjZXNzIHRvIHRoZSByZXN1bHRcbiAqIG9mIHRoZSBkZWZlcnJlZCB0YXNrIHdoZW4gaXQgY29tcGxldGVzLlxuICpcbiAqICoqTWV0aG9kcyoqXG4gKlxuICogLSBgdGhlbihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIG5vdGlmeUNhbGxiYWNrKWAg4oCTIHJlZ2FyZGxlc3Mgb2Ygd2hlbiB0aGUgcHJvbWlzZSB3YXMgb3JcbiAqICAgd2lsbCBiZSByZXNvbHZlZCBvciByZWplY3RlZCwgYHRoZW5gIGNhbGxzIG9uZSBvZiB0aGUgc3VjY2VzcyBvciBlcnJvciBjYWxsYmFja3MgYXN5bmNocm9ub3VzbHlcbiAqICAgYXMgc29vbiBhcyB0aGUgcmVzdWx0IGlzIGF2YWlsYWJsZS4gVGhlIGNhbGxiYWNrcyBhcmUgY2FsbGVkIHdpdGggYSBzaW5nbGUgYXJndW1lbnQ6IHRoZSByZXN1bHRcbiAqICAgb3IgcmVqZWN0aW9uIHJlYXNvbi4gQWRkaXRpb25hbGx5LCB0aGUgbm90aWZ5IGNhbGxiYWNrIG1heSBiZSBjYWxsZWQgemVybyBvciBtb3JlIHRpbWVzIHRvXG4gKiAgIHByb3ZpZGUgYSBwcm9ncmVzcyBpbmRpY2F0aW9uLCBiZWZvcmUgdGhlIHByb21pc2UgaXMgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQuXG4gKlxuICogICBUaGlzIG1ldGhvZCAqcmV0dXJucyBhIG5ldyBwcm9taXNlKiB3aGljaCBpcyByZXNvbHZlZCBvciByZWplY3RlZCB2aWEgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGVcbiAqICAgYHN1Y2Nlc3NDYWxsYmFja2AsIGBlcnJvckNhbGxiYWNrYCAodW5sZXNzIHRoYXQgdmFsdWUgaXMgYSBwcm9taXNlLCBpbiB3aGljaCBjYXNlIGl0IGlzIHJlc29sdmVkXG4gKiAgIHdpdGggdGhlIHZhbHVlIHdoaWNoIGlzIHJlc29sdmVkIGluIHRoYXQgcHJvbWlzZSB1c2luZ1xuICogICBbcHJvbWlzZSBjaGFpbmluZ10oaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvZXM2L3Byb21pc2VzLyN0b2MtcHJvbWlzZXMtcXVldWVzKSkuXG4gKiAgIEl0IGFsc28gbm90aWZpZXMgdmlhIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGBub3RpZnlDYWxsYmFja2AgbWV0aG9kLiBUaGUgcHJvbWlzZSBjYW5ub3QgYmVcbiAqICAgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQgZnJvbSB0aGUgbm90aWZ5Q2FsbGJhY2sgbWV0aG9kLlxuICpcbiAqIC0gYGNhdGNoKGVycm9yQ2FsbGJhY2spYCDigJMgc2hvcnRoYW5kIGZvciBgcHJvbWlzZS50aGVuKG51bGwsIGVycm9yQ2FsbGJhY2spYFxuICpcbiAqIC0gYGZpbmFsbHkoY2FsbGJhY2ssIG5vdGlmeUNhbGxiYWNrKWAg4oCTIGFsbG93cyB5b3UgdG8gb2JzZXJ2ZSBlaXRoZXIgdGhlIGZ1bGZpbGxtZW50IG9yIHJlamVjdGlvbiBvZiBhIHByb21pc2UsXG4gKiAgIGJ1dCB0byBkbyBzbyB3aXRob3V0IG1vZGlmeWluZyB0aGUgZmluYWwgdmFsdWUuIFRoaXMgaXMgdXNlZnVsIHRvIHJlbGVhc2UgcmVzb3VyY2VzIG9yIGRvIHNvbWVcbiAqICAgY2xlYW4tdXAgdGhhdCBuZWVkcyB0byBiZSBkb25lIHdoZXRoZXIgdGhlIHByb21pc2Ugd2FzIHJlamVjdGVkIG9yIHJlc29sdmVkLiBTZWUgdGhlIFtmdWxsXG4gKiAgIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcS93aWtpL0FQSS1SZWZlcmVuY2UjcHJvbWlzZWZpbmFsbHljYWxsYmFjaykgZm9yXG4gKiAgIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICogIyBDaGFpbmluZyBwcm9taXNlc1xuICpcbiAqIEJlY2F1c2UgY2FsbGluZyB0aGUgYHRoZW5gIG1ldGhvZCBvZiBhIHByb21pc2UgcmV0dXJucyBhIG5ldyBkZXJpdmVkIHByb21pc2UsIGl0IGlzIGVhc2lseVxuICogcG9zc2libGUgdG8gY3JlYXRlIGEgY2hhaW4gb2YgcHJvbWlzZXM6XG4gKlxuICogYGBganNcbiAqICAgcHJvbWlzZUIgPSBwcm9taXNlQS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICogICAgIHJldHVybiByZXN1bHQgKyAxO1xuICogICB9KTtcbiAqXG4gKiAgIC8vIHByb21pc2VCIHdpbGwgYmUgcmVzb2x2ZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgcHJvbWlzZUEgaXMgcmVzb2x2ZWQgYW5kIGl0cyB2YWx1ZVxuICogICAvLyB3aWxsIGJlIHRoZSByZXN1bHQgb2YgcHJvbWlzZUEgaW5jcmVtZW50ZWQgYnkgMVxuICogYGBgXG4gKlxuICogSXQgaXMgcG9zc2libGUgdG8gY3JlYXRlIGNoYWlucyBvZiBhbnkgbGVuZ3RoIGFuZCBzaW5jZSBhIHByb21pc2UgY2FuIGJlIHJlc29sdmVkIHdpdGggYW5vdGhlclxuICogcHJvbWlzZSAod2hpY2ggd2lsbCBkZWZlciBpdHMgcmVzb2x1dGlvbiBmdXJ0aGVyKSwgaXQgaXMgcG9zc2libGUgdG8gcGF1c2UvZGVmZXIgcmVzb2x1dGlvbiBvZlxuICogdGhlIHByb21pc2VzIGF0IGFueSBwb2ludCBpbiB0aGUgY2hhaW4uIFRoaXMgbWFrZXMgaXQgcG9zc2libGUgdG8gaW1wbGVtZW50IHBvd2VyZnVsIEFQSXMgbGlrZVxuICogJGh0dHAncyByZXNwb25zZSBpbnRlcmNlcHRvcnMuXG4gKlxuICpcbiAqICMgRGlmZmVyZW5jZXMgYmV0d2VlbiBLcmlzIEtvd2FsJ3MgUSBhbmQgJHFcbiAqXG4gKiAgVGhlcmUgYXJlIHR3byBtYWluIGRpZmZlcmVuY2VzOlxuICpcbiAqIC0gJHEgaXMgaW50ZWdyYXRlZCB3aXRoIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZX0gU2NvcGUgbW9kZWwgb2JzZXJ2YXRpb25cbiAqICAgbWVjaGFuaXNtIGluIGFuZ3VsYXIsIHdoaWNoIG1lYW5zIGZhc3RlciBwcm9wYWdhdGlvbiBvZiByZXNvbHV0aW9uIG9yIHJlamVjdGlvbiBpbnRvIHlvdXJcbiAqICAgbW9kZWxzIGFuZCBhdm9pZGluZyB1bm5lY2Vzc2FyeSBicm93c2VyIHJlcGFpbnRzLCB3aGljaCB3b3VsZCByZXN1bHQgaW4gZmxpY2tlcmluZyBVSS5cbiAqIC0gUSBoYXMgbWFueSBtb3JlIGZlYXR1cmVzIHRoYW4gJHEsIGJ1dCB0aGF0IGNvbWVzIGF0IGEgY29zdCBvZiBieXRlcy4gJHEgaXMgdGlueSwgYnV0IGNvbnRhaW5zXG4gKiAgIGFsbCB0aGUgaW1wb3J0YW50IGZ1bmN0aW9uYWxpdHkgbmVlZGVkIGZvciBjb21tb24gYXN5bmMgdGFza3MuXG4gKlxuICogICMgVGVzdGluZ1xuICpcbiAqICBgYGBqc1xuICogICAgaXQoJ3Nob3VsZCBzaW11bGF0ZSBwcm9taXNlJywgaW5qZWN0KGZ1bmN0aW9uKCRxLCAkcm9vdFNjb3BlKSB7XG4gKiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gKiAgICAgIHZhciBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZTtcbiAqICAgICAgdmFyIHJlc29sdmVkVmFsdWU7XG4gKlxuICogICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHsgcmVzb2x2ZWRWYWx1ZSA9IHZhbHVlOyB9KTtcbiAqICAgICAgZXhwZWN0KHJlc29sdmVkVmFsdWUpLnRvQmVVbmRlZmluZWQoKTtcbiAqXG4gKiAgICAgIC8vIFNpbXVsYXRlIHJlc29sdmluZyBvZiBwcm9taXNlXG4gKiAgICAgIGRlZmVycmVkLnJlc29sdmUoMTIzKTtcbiAqICAgICAgLy8gTm90ZSB0aGF0IHRoZSAndGhlbicgZnVuY3Rpb24gZG9lcyBub3QgZ2V0IGNhbGxlZCBzeW5jaHJvbm91c2x5LlxuICogICAgICAvLyBUaGlzIGlzIGJlY2F1c2Ugd2Ugd2FudCB0aGUgcHJvbWlzZSBBUEkgdG8gYWx3YXlzIGJlIGFzeW5jLCB3aGV0aGVyIG9yIG5vdFxuICogICAgICAvLyBpdCBnb3QgY2FsbGVkIHN5bmNocm9ub3VzbHkgb3IgYXN5bmNocm9ub3VzbHkuXG4gKiAgICAgIGV4cGVjdChyZXNvbHZlZFZhbHVlKS50b0JlVW5kZWZpbmVkKCk7XG4gKlxuICogICAgICAvLyBQcm9wYWdhdGUgcHJvbWlzZSByZXNvbHV0aW9uIHRvICd0aGVuJyBmdW5jdGlvbnMgdXNpbmcgJGFwcGx5KCkuXG4gKiAgICAgICRyb290U2NvcGUuJGFwcGx5KCk7XG4gKiAgICAgIGV4cGVjdChyZXNvbHZlZFZhbHVlKS50b0VxdWFsKDEyMyk7XG4gKiAgICB9KSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbihmdW5jdGlvbiwgZnVuY3Rpb24pfSByZXNvbHZlciBGdW5jdGlvbiB3aGljaCBpcyByZXNwb25zaWJsZSBmb3IgcmVzb2x2aW5nIG9yXG4gKiAgIHJlamVjdGluZyB0aGUgbmV3bHkgY3JlYXRlZCBwcm9taXNlLiBUaGUgZmlyc3QgcGFyYW1ldGVyIGlzIGEgZnVuY3Rpb24gd2hpY2ggcmVzb2x2ZXMgdGhlXG4gKiAgIHByb21pc2UsIHRoZSBzZWNvbmQgcGFyYW1ldGVyIGlzIGEgZnVuY3Rpb24gd2hpY2ggcmVqZWN0cyB0aGUgcHJvbWlzZS5cbiAqXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIG5ld2x5IGNyZWF0ZWQgcHJvbWlzZS5cbiAqL1xuZnVuY3Rpb24gJFFQcm92aWRlcigpIHtcblxuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkZXhjZXB0aW9uSGFuZGxlcikge1xuICAgIHJldHVybiBxRmFjdG9yeShmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGNhbGxiYWNrKTtcbiAgICB9LCAkZXhjZXB0aW9uSGFuZGxlcik7XG4gIH1dO1xufVxuXG5mdW5jdGlvbiAkJFFQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckYnJvd3NlcicsICckZXhjZXB0aW9uSGFuZGxlcicsIGZ1bmN0aW9uKCRicm93c2VyLCAkZXhjZXB0aW9uSGFuZGxlcikge1xuICAgIHJldHVybiBxRmFjdG9yeShmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgJGJyb3dzZXIuZGVmZXIoY2FsbGJhY2spO1xuICAgIH0sICRleGNlcHRpb25IYW5kbGVyKTtcbiAgfV07XG59XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIHByb21pc2UgbWFuYWdlci5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGZ1bmN0aW9uKX0gbmV4dFRpY2sgRnVuY3Rpb24gZm9yIGV4ZWN1dGluZyBmdW5jdGlvbnMgaW4gdGhlIG5leHQgdHVybi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oLi4uKil9IGV4Y2VwdGlvbkhhbmRsZXIgRnVuY3Rpb24gaW50byB3aGljaCB1bmV4cGVjdGVkIGV4Y2VwdGlvbnMgYXJlIHBhc3NlZCBmb3JcbiAqICAgICBkZWJ1Z2dpbmcgcHVycG9zZXMuXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBQcm9taXNlIG1hbmFnZXIuXG4gKi9cbmZ1bmN0aW9uIHFGYWN0b3J5KG5leHRUaWNrLCBleGNlcHRpb25IYW5kbGVyKSB7XG4gIHZhciAkcU1pbkVyciA9IG1pbkVycignJHEnLCBUeXBlRXJyb3IpO1xuICBmdW5jdGlvbiBjYWxsT25jZShzZWxmLCByZXNvbHZlRm4sIHJlamVjdEZuKSB7XG4gICAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIHdyYXAoZm4pIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAoY2FsbGVkKSByZXR1cm47XG4gICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgIGZuLmNhbGwoc2VsZiwgdmFsdWUpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gW3dyYXAocmVzb2x2ZUZuKSwgd3JhcChyZWplY3RGbildO1xuICB9XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmcuJHEjZGVmZXJcbiAgICogQGtpbmQgZnVuY3Rpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENyZWF0ZXMgYSBgRGVmZXJyZWRgIG9iamVjdCB3aGljaCByZXByZXNlbnRzIGEgdGFzayB3aGljaCB3aWxsIGZpbmlzaCBpbiB0aGUgZnV0dXJlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7RGVmZXJyZWR9IFJldHVybnMgYSBuZXcgaW5zdGFuY2Ugb2YgZGVmZXJyZWQuXG4gICAqL1xuICB2YXIgZGVmZXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IERlZmVycmVkKCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gUHJvbWlzZSgpIHtcbiAgICB0aGlzLiQkc3RhdGUgPSB7IHN0YXR1czogMCB9O1xuICB9XG5cbiAgUHJvbWlzZS5wcm90b3R5cGUgPSB7XG4gICAgdGhlbjogZnVuY3Rpb24ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHByb2dyZXNzQmFjaykge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBEZWZlcnJlZCgpO1xuXG4gICAgICB0aGlzLiQkc3RhdGUucGVuZGluZyA9IHRoaXMuJCRzdGF0ZS5wZW5kaW5nIHx8IFtdO1xuICAgICAgdGhpcy4kJHN0YXRlLnBlbmRpbmcucHVzaChbcmVzdWx0LCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgcHJvZ3Jlc3NCYWNrXSk7XG4gICAgICBpZiAodGhpcy4kJHN0YXRlLnN0YXR1cyA+IDApIHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHRoaXMuJCRzdGF0ZSk7XG5cbiAgICAgIHJldHVybiByZXN1bHQucHJvbWlzZTtcbiAgICB9LFxuXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBjYWxsYmFjayk7XG4gICAgfSxcblxuICAgIFwiZmluYWxseVwiOiBmdW5jdGlvbihjYWxsYmFjaywgcHJvZ3Jlc3NCYWNrKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVDYWxsYmFjayh2YWx1ZSwgdHJ1ZSwgY2FsbGJhY2spO1xuICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZUNhbGxiYWNrKGVycm9yLCBmYWxzZSwgY2FsbGJhY2spO1xuICAgICAgfSwgcHJvZ3Jlc3NCYWNrKTtcbiAgICB9XG4gIH07XG5cbiAgLy9GYXN0ZXIsIG1vcmUgYmFzaWMgdGhhbiBhbmd1bGFyLmJpbmQgaHR0cDovL2pzcGVyZi5jb20vYW5ndWxhci1iaW5kLXZzLWN1c3RvbS12cy1uYXRpdmVcbiAgZnVuY3Rpb24gc2ltcGxlQmluZChjb250ZXh0LCBmbikge1xuICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgZm4uY2FsbChjb250ZXh0LCB2YWx1ZSk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NRdWV1ZShzdGF0ZSkge1xuICAgIHZhciBmbiwgZGVmZXJyZWQsIHBlbmRpbmc7XG5cbiAgICBwZW5kaW5nID0gc3RhdGUucGVuZGluZztcbiAgICBzdGF0ZS5wcm9jZXNzU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgc3RhdGUucGVuZGluZyA9IHVuZGVmaW5lZDtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBwZW5kaW5nLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgIGRlZmVycmVkID0gcGVuZGluZ1tpXVswXTtcbiAgICAgIGZuID0gcGVuZGluZ1tpXVtzdGF0ZS5zdGF0dXNdO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oZm4pKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShmbihzdGF0ZS52YWx1ZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLnN0YXR1cyA9PT0gMSkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoc3RhdGUudmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdChzdGF0ZS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KGUpO1xuICAgICAgICBleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLnByb2Nlc3NTY2hlZHVsZWQgfHwgIXN0YXRlLnBlbmRpbmcpIHJldHVybjtcbiAgICBzdGF0ZS5wcm9jZXNzU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICBuZXh0VGljayhmdW5jdGlvbigpIHsgcHJvY2Vzc1F1ZXVlKHN0YXRlKTsgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBEZWZlcnJlZCgpIHtcbiAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZSgpO1xuICAgIC8vTmVjZXNzYXJ5IHRvIHN1cHBvcnQgdW5ib3VuZCBleGVjdXRpb24gOi9cbiAgICB0aGlzLnJlc29sdmUgPSBzaW1wbGVCaW5kKHRoaXMsIHRoaXMucmVzb2x2ZSk7XG4gICAgdGhpcy5yZWplY3QgPSBzaW1wbGVCaW5kKHRoaXMsIHRoaXMucmVqZWN0KTtcbiAgICB0aGlzLm5vdGlmeSA9IHNpbXBsZUJpbmQodGhpcywgdGhpcy5ub3RpZnkpO1xuICB9XG5cbiAgRGVmZXJyZWQucHJvdG90eXBlID0ge1xuICAgIHJlc29sdmU6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgaWYgKHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cykgcmV0dXJuO1xuICAgICAgaWYgKHZhbCA9PT0gdGhpcy5wcm9taXNlKSB7XG4gICAgICAgIHRoaXMuJCRyZWplY3QoJHFNaW5FcnIoXG4gICAgICAgICAgJ3FjeWNsZScsXG4gICAgICAgICAgXCJFeHBlY3RlZCBwcm9taXNlIHRvIGJlIHJlc29sdmVkIHdpdGggdmFsdWUgb3RoZXIgdGhhbiBpdHNlbGYgJ3swfSdcIixcbiAgICAgICAgICB2YWwpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuJCRyZXNvbHZlKHZhbCk7XG4gICAgICB9XG5cbiAgICB9LFxuXG4gICAgJCRyZXNvbHZlOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHZhciB0aGVuLCBmbnM7XG5cbiAgICAgIGZucyA9IGNhbGxPbmNlKHRoaXMsIHRoaXMuJCRyZXNvbHZlLCB0aGlzLiQkcmVqZWN0KTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICgoaXNPYmplY3QodmFsKSB8fCBpc0Z1bmN0aW9uKHZhbCkpKSB0aGVuID0gdmFsICYmIHZhbC50aGVuO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGVuKSkge1xuICAgICAgICAgIHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cyA9IC0xO1xuICAgICAgICAgIHRoZW4uY2FsbCh2YWwsIGZuc1swXSwgZm5zWzFdLCB0aGlzLm5vdGlmeSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5wcm9taXNlLiQkc3RhdGUudmFsdWUgPSB2YWw7XG4gICAgICAgICAgdGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzID0gMTtcbiAgICAgICAgICBzY2hlZHVsZVByb2Nlc3NRdWV1ZSh0aGlzLnByb21pc2UuJCRzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZm5zWzFdKGUpO1xuICAgICAgICBleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICByZWplY3Q6IGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgaWYgKHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cykgcmV0dXJuO1xuICAgICAgdGhpcy4kJHJlamVjdChyZWFzb24pO1xuICAgIH0sXG5cbiAgICAkJHJlamVjdDogZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICB0aGlzLnByb21pc2UuJCRzdGF0ZS52YWx1ZSA9IHJlYXNvbjtcbiAgICAgIHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cyA9IDI7XG4gICAgICBzY2hlZHVsZVByb2Nlc3NRdWV1ZSh0aGlzLnByb21pc2UuJCRzdGF0ZSk7XG4gICAgfSxcblxuICAgIG5vdGlmeTogZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgIHZhciBjYWxsYmFja3MgPSB0aGlzLnByb21pc2UuJCRzdGF0ZS5wZW5kaW5nO1xuXG4gICAgICBpZiAoKHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cyA8PSAwKSAmJiBjYWxsYmFja3MgJiYgY2FsbGJhY2tzLmxlbmd0aCkge1xuICAgICAgICBuZXh0VGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgY2FsbGJhY2ssIHJlc3VsdDtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0ID0gY2FsbGJhY2tzW2ldWzBdO1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFja3NbaV1bM107XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXN1bHQubm90aWZ5KGlzRnVuY3Rpb24oY2FsbGJhY2spID8gY2FsbGJhY2socHJvZ3Jlc3MpIDogcHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICBleGNlcHRpb25IYW5kbGVyKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRxI3JlamVjdFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ3JlYXRlcyBhIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCBhcyByZWplY3RlZCB3aXRoIHRoZSBzcGVjaWZpZWQgYHJlYXNvbmAuIFRoaXMgYXBpIHNob3VsZCBiZVxuICAgKiB1c2VkIHRvIGZvcndhcmQgcmVqZWN0aW9uIGluIGEgY2hhaW4gb2YgcHJvbWlzZXMuIElmIHlvdSBhcmUgZGVhbGluZyB3aXRoIHRoZSBsYXN0IHByb21pc2UgaW5cbiAgICogYSBwcm9taXNlIGNoYWluLCB5b3UgZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCBpdC5cbiAgICpcbiAgICogV2hlbiBjb21wYXJpbmcgZGVmZXJyZWRzL3Byb21pc2VzIHRvIHRoZSBmYW1pbGlhciBiZWhhdmlvciBvZiB0cnkvY2F0Y2gvdGhyb3csIHRoaW5rIG9mXG4gICAqIGByZWplY3RgIGFzIHRoZSBgdGhyb3dgIGtleXdvcmQgaW4gSmF2YVNjcmlwdC4gVGhpcyBhbHNvIG1lYW5zIHRoYXQgaWYgeW91IFwiY2F0Y2hcIiBhbiBlcnJvciB2aWFcbiAgICogYSBwcm9taXNlIGVycm9yIGNhbGxiYWNrIGFuZCB5b3Ugd2FudCB0byBmb3J3YXJkIHRoZSBlcnJvciB0byB0aGUgcHJvbWlzZSBkZXJpdmVkIGZyb20gdGhlXG4gICAqIGN1cnJlbnQgcHJvbWlzZSwgeW91IGhhdmUgdG8gXCJyZXRocm93XCIgdGhlIGVycm9yIGJ5IHJldHVybmluZyBhIHJlamVjdGlvbiBjb25zdHJ1Y3RlZCB2aWFcbiAgICogYHJlamVjdGAuXG4gICAqXG4gICAqIGBgYGpzXG4gICAqICAgcHJvbWlzZUIgPSBwcm9taXNlQS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgKiAgICAgLy8gc3VjY2VzczogZG8gc29tZXRoaW5nIGFuZCByZXNvbHZlIHByb21pc2VCXG4gICAqICAgICAvLyAgICAgICAgICB3aXRoIHRoZSBvbGQgb3IgYSBuZXcgcmVzdWx0XG4gICAqICAgICByZXR1cm4gcmVzdWx0O1xuICAgKiAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgKiAgICAgLy8gZXJyb3I6IGhhbmRsZSB0aGUgZXJyb3IgaWYgcG9zc2libGUgYW5kXG4gICAqICAgICAvLyAgICAgICAgcmVzb2x2ZSBwcm9taXNlQiB3aXRoIG5ld1Byb21pc2VPclZhbHVlLFxuICAgKiAgICAgLy8gICAgICAgIG90aGVyd2lzZSBmb3J3YXJkIHRoZSByZWplY3Rpb24gdG8gcHJvbWlzZUJcbiAgICogICAgIGlmIChjYW5IYW5kbGUocmVhc29uKSkge1xuICAgKiAgICAgIC8vIGhhbmRsZSB0aGUgZXJyb3IgYW5kIHJlY292ZXJcbiAgICogICAgICByZXR1cm4gbmV3UHJvbWlzZU9yVmFsdWU7XG4gICAqICAgICB9XG4gICAqICAgICByZXR1cm4gJHEucmVqZWN0KHJlYXNvbik7XG4gICAqICAgfSk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0geyp9IHJlYXNvbiBDb25zdGFudCwgbWVzc2FnZSwgZXhjZXB0aW9uIG9yIGFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHJlamVjdGlvbiByZWFzb24uXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdhcyBhbHJlYWR5IHJlc29sdmVkIGFzIHJlamVjdGVkIHdpdGggdGhlIGByZWFzb25gLlxuICAgKi9cbiAgdmFyIHJlamVjdCA9IGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIHZhciByZXN1bHQgPSBuZXcgRGVmZXJyZWQoKTtcbiAgICByZXN1bHQucmVqZWN0KHJlYXNvbik7XG4gICAgcmV0dXJuIHJlc3VsdC5wcm9taXNlO1xuICB9O1xuXG4gIHZhciBtYWtlUHJvbWlzZSA9IGZ1bmN0aW9uIG1ha2VQcm9taXNlKHZhbHVlLCByZXNvbHZlZCkge1xuICAgIHZhciByZXN1bHQgPSBuZXcgRGVmZXJyZWQoKTtcbiAgICBpZiAocmVzb2x2ZWQpIHtcbiAgICAgIHJlc3VsdC5yZXNvbHZlKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnJlamVjdCh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQucHJvbWlzZTtcbiAgfTtcblxuICB2YXIgaGFuZGxlQ2FsbGJhY2sgPSBmdW5jdGlvbiBoYW5kbGVDYWxsYmFjayh2YWx1ZSwgaXNSZXNvbHZlZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgY2FsbGJhY2tPdXRwdXQgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICBpZiAoaXNGdW5jdGlvbihjYWxsYmFjaykpIGNhbGxiYWNrT3V0cHV0ID0gY2FsbGJhY2soKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gbWFrZVByb21pc2UoZSwgZmFsc2UpO1xuICAgIH1cbiAgICBpZiAoaXNQcm9taXNlTGlrZShjYWxsYmFja091dHB1dCkpIHtcbiAgICAgIHJldHVybiBjYWxsYmFja091dHB1dC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbWFrZVByb21pc2UodmFsdWUsIGlzUmVzb2x2ZWQpO1xuICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG1ha2VQcm9taXNlKGVycm9yLCBmYWxzZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG1ha2VQcm9taXNlKHZhbHVlLCBpc1Jlc29sdmVkKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHEjd2hlblxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogV3JhcHMgYW4gb2JqZWN0IHRoYXQgbWlnaHQgYmUgYSB2YWx1ZSBvciBhICgzcmQgcGFydHkpIHRoZW4tYWJsZSBwcm9taXNlIGludG8gYSAkcSBwcm9taXNlLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHlvdSBhcmUgZGVhbGluZyB3aXRoIGFuIG9iamVjdCB0aGF0IG1pZ2h0IG9yIG1pZ2h0IG5vdCBiZSBhIHByb21pc2UsIG9yIGlmXG4gICAqIHRoZSBwcm9taXNlIGNvbWVzIGZyb20gYSBzb3VyY2UgdGhhdCBjYW4ndCBiZSB0cnVzdGVkLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIG9yIGEgcHJvbWlzZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmV0dXJucyBhIHByb21pc2Ugb2YgdGhlIHBhc3NlZCB2YWx1ZSBvciBwcm9taXNlXG4gICAqL1xuXG5cbiAgdmFyIHdoZW4gPSBmdW5jdGlvbih2YWx1ZSwgY2FsbGJhY2ssIGVycmJhY2ssIHByb2dyZXNzQmFjaykge1xuICAgIHZhciByZXN1bHQgPSBuZXcgRGVmZXJyZWQoKTtcbiAgICByZXN1bHQucmVzb2x2ZSh2YWx1ZSk7XG4gICAgcmV0dXJuIHJlc3VsdC5wcm9taXNlLnRoZW4oY2FsbGJhY2ssIGVycmJhY2ssIHByb2dyZXNzQmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHEjcmVzb2x2ZVxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQWxpYXMgb2Yge0BsaW5rIG5nLiRxI3doZW4gd2hlbn0gdG8gbWFpbnRhaW4gbmFtaW5nIGNvbnNpc3RlbmN5IHdpdGggRVM2LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIG9yIGEgcHJvbWlzZVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmV0dXJucyBhIHByb21pc2Ugb2YgdGhlIHBhc3NlZCB2YWx1ZSBvciBwcm9taXNlXG4gICAqL1xuICB2YXIgcmVzb2x2ZSA9IHdoZW47XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHEjYWxsXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBDb21iaW5lcyBtdWx0aXBsZSBwcm9taXNlcyBpbnRvIGEgc2luZ2xlIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIGFsbCBvZiB0aGUgaW5wdXRcbiAgICogcHJvbWlzZXMgYXJlIHJlc29sdmVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5LjxQcm9taXNlPnxPYmplY3QuPFByb21pc2U+fSBwcm9taXNlcyBBbiBhcnJheSBvciBoYXNoIG9mIHByb21pc2VzLlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmV0dXJucyBhIHNpbmdsZSBwcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIGFuIGFycmF5L2hhc2ggb2YgdmFsdWVzLFxuICAgKiAgIGVhY2ggdmFsdWUgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvbWlzZSBhdCB0aGUgc2FtZSBpbmRleC9rZXkgaW4gdGhlIGBwcm9taXNlc2AgYXJyYXkvaGFzaC5cbiAgICogICBJZiBhbnkgb2YgdGhlIHByb21pc2VzIGlzIHJlc29sdmVkIHdpdGggYSByZWplY3Rpb24sIHRoaXMgcmVzdWx0aW5nIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZFxuICAgKiAgIHdpdGggdGhlIHNhbWUgcmVqZWN0aW9uIHZhbHVlLlxuICAgKi9cblxuICBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcbiAgICB2YXIgZGVmZXJyZWQgPSBuZXcgRGVmZXJyZWQoKSxcbiAgICAgICAgY291bnRlciA9IDAsXG4gICAgICAgIHJlc3VsdHMgPSBpc0FycmF5KHByb21pc2VzKSA/IFtdIDoge307XG5cbiAgICBmb3JFYWNoKHByb21pc2VzLCBmdW5jdGlvbihwcm9taXNlLCBrZXkpIHtcbiAgICAgIGNvdW50ZXIrKztcbiAgICAgIHdoZW4ocHJvbWlzZSkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAocmVzdWx0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSByZXR1cm47XG4gICAgICAgIHJlc3VsdHNba2V5XSA9IHZhbHVlO1xuICAgICAgICBpZiAoISgtLWNvdW50ZXIpKSBkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIGlmIChyZXN1bHRzLmhhc093blByb3BlcnR5KGtleSkpIHJldHVybjtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGlmIChjb3VudGVyID09PSAwKSB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdHMpO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9XG5cbiAgdmFyICRRID0gZnVuY3Rpb24gUShyZXNvbHZlcikge1xuICAgIGlmICghaXNGdW5jdGlvbihyZXNvbHZlcikpIHtcbiAgICAgIHRocm93ICRxTWluRXJyKCdub3JzbHZyJywgXCJFeHBlY3RlZCByZXNvbHZlckZuLCBnb3QgJ3swfSdcIiwgcmVzb2x2ZXIpO1xuICAgIH1cblxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBRKSkge1xuICAgICAgLy8gTW9yZSB1c2VmdWwgd2hlbiAkUSBpcyB0aGUgUHJvbWlzZSBpdHNlbGYuXG4gICAgICByZXR1cm4gbmV3IFEocmVzb2x2ZXIpO1xuICAgIH1cblxuICAgIHZhciBkZWZlcnJlZCA9IG5ldyBEZWZlcnJlZCgpO1xuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZUZuKHZhbHVlKSB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKHZhbHVlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWplY3RGbihyZWFzb24pIHtcbiAgICAgIGRlZmVycmVkLnJlamVjdChyZWFzb24pO1xuICAgIH1cblxuICAgIHJlc29sdmVyKHJlc29sdmVGbiwgcmVqZWN0Rm4pO1xuXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH07XG5cbiAgJFEuZGVmZXIgPSBkZWZlcjtcbiAgJFEucmVqZWN0ID0gcmVqZWN0O1xuICAkUS53aGVuID0gd2hlbjtcbiAgJFEucmVzb2x2ZSA9IHJlc29sdmU7XG4gICRRLmFsbCA9IGFsbDtcblxuICByZXR1cm4gJFE7XG59XG5cbmZ1bmN0aW9uICQkUkFGUHJvdmlkZXIoKSB7IC8vckFGXG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckdGltZW91dCcsIGZ1bmN0aW9uKCR3aW5kb3csICR0aW1lb3V0KSB7XG4gICAgdmFyIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9ICR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuXG4gICAgdmFyIGNhbmNlbEFuaW1hdGlvbkZyYW1lID0gJHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkd2luZG93LndlYmtpdENhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZTtcblxuICAgIHZhciByYWZTdXBwb3J0ZWQgPSAhIXJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgICB2YXIgcmFmRm4gPSByYWZTdXBwb3J0ZWRcbiAgICAgID8gZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgICB2YXIgaWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZm4pO1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICA6IGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICAgdmFyIHRpbWVyID0gJHRpbWVvdXQoZm4sIDE2LjY2LCBmYWxzZSk7IC8vIDEwMDAgLyA2MCA9IDE2LjY2NlxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lcik7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgIHF1ZXVlRm4uc3VwcG9ydGVkID0gcmFmU3VwcG9ydGVkO1xuXG4gICAgdmFyIGNhbmNlbExhc3RSQUY7XG4gICAgdmFyIHRhc2tDb3VudCA9IDA7XG4gICAgdmFyIHRhc2tRdWV1ZSA9IFtdO1xuICAgIHJldHVybiBxdWV1ZUZuO1xuXG4gICAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhc2tRdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdGFzayA9IHRhc2tRdWV1ZVtpXTtcbiAgICAgICAgaWYgKHRhc2spIHtcbiAgICAgICAgICB0YXNrUXVldWVbaV0gPSBudWxsO1xuICAgICAgICAgIHRhc2soKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGFza0NvdW50ID0gdGFza1F1ZXVlLmxlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcXVldWVGbihhc3luY0ZuKSB7XG4gICAgICB2YXIgaW5kZXggPSB0YXNrUXVldWUubGVuZ3RoO1xuXG4gICAgICB0YXNrQ291bnQrKztcbiAgICAgIHRhc2tRdWV1ZS5wdXNoKGFzeW5jRm4pO1xuXG4gICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgY2FuY2VsTGFzdFJBRiA9IHJhZkZuKGZsdXNoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGNhbmNlbFF1ZXVlRm4oKSB7XG4gICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgdGFza1F1ZXVlW2luZGV4XSA9IG51bGw7XG4gICAgICAgICAgaW5kZXggPSBudWxsO1xuXG4gICAgICAgICAgaWYgKC0tdGFza0NvdW50ID09PSAwICYmIGNhbmNlbExhc3RSQUYpIHtcbiAgICAgICAgICAgIGNhbmNlbExhc3RSQUYoKTtcbiAgICAgICAgICAgIGNhbmNlbExhc3RSQUYgPSBudWxsO1xuICAgICAgICAgICAgdGFza1F1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfV07XG59XG5cbi8qKlxuICogREVTSUdOIE5PVEVTXG4gKlxuICogVGhlIGRlc2lnbiBkZWNpc2lvbnMgYmVoaW5kIHRoZSBzY29wZSBhcmUgaGVhdmlseSBmYXZvcmVkIGZvciBzcGVlZCBhbmQgbWVtb3J5IGNvbnN1bXB0aW9uLlxuICpcbiAqIFRoZSB0eXBpY2FsIHVzZSBvZiBzY29wZSBpcyB0byB3YXRjaCB0aGUgZXhwcmVzc2lvbnMsIHdoaWNoIG1vc3Qgb2YgdGhlIHRpbWUgcmV0dXJuIHRoZSBzYW1lXG4gKiB2YWx1ZSBhcyBsYXN0IHRpbWUgc28gd2Ugb3B0aW1pemUgdGhlIG9wZXJhdGlvbi5cbiAqXG4gKiBDbG9zdXJlcyBjb25zdHJ1Y3Rpb24gaXMgZXhwZW5zaXZlIGluIHRlcm1zIG9mIHNwZWVkIGFzIHdlbGwgYXMgbWVtb3J5OlxuICogICAtIE5vIGNsb3N1cmVzLCBpbnN0ZWFkIHVzZSBwcm90b3R5cGljYWwgaW5oZXJpdGFuY2UgZm9yIEFQSVxuICogICAtIEludGVybmFsIHN0YXRlIG5lZWRzIHRvIGJlIHN0b3JlZCBvbiBzY29wZSBkaXJlY3RseSwgd2hpY2ggbWVhbnMgdGhhdCBwcml2YXRlIHN0YXRlIGlzXG4gKiAgICAgZXhwb3NlZCBhcyAkJF9fX18gcHJvcGVydGllc1xuICpcbiAqIExvb3Agb3BlcmF0aW9ucyBhcmUgb3B0aW1pemVkIGJ5IHVzaW5nIHdoaWxlKGNvdW50LS0pIHsgLi4uIH1cbiAqICAgLSB0aGlzIG1lYW5zIHRoYXQgaW4gb3JkZXIgdG8ga2VlcCB0aGUgc2FtZSBvcmRlciBvZiBleGVjdXRpb24gYXMgYWRkaXRpb24gd2UgaGF2ZSB0byBhZGRcbiAqICAgICBpdGVtcyB0byB0aGUgYXJyYXkgYXQgdGhlIGJlZ2lubmluZyAodW5zaGlmdCkgaW5zdGVhZCBvZiBhdCB0aGUgZW5kIChwdXNoKVxuICpcbiAqIENoaWxkIHNjb3BlcyBhcmUgY3JlYXRlZCBhbmQgcmVtb3ZlZCBvZnRlblxuICogICAtIFVzaW5nIGFuIGFycmF5IHdvdWxkIGJlIHNsb3cgc2luY2UgaW5zZXJ0cyBpbiBtaWRkbGUgYXJlIGV4cGVuc2l2ZSBzbyB3ZSB1c2UgbGlua2VkIGxpc3RcbiAqXG4gKiBUaGVyZSBhcmUgZmV3IHdhdGNoZXMgdGhlbiBhIGxvdCBvZiBvYnNlcnZlcnMuIFRoaXMgaXMgd2h5IHlvdSBkb24ndCB3YW50IHRoZSBvYnNlcnZlciB0byBiZVxuICogaW1wbGVtZW50ZWQgaW4gdGhlIHNhbWUgd2F5IGFzIHdhdGNoLiBXYXRjaCByZXF1aXJlcyByZXR1cm4gb2YgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24gd2hpY2hcbiAqIGFyZSBleHBlbnNpdmUgdG8gY29uc3RydWN0LlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRyb290U2NvcGVQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogUHJvdmlkZXIgZm9yIHRoZSAkcm9vdFNjb3BlIHNlcnZpY2UuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgbWV0aG9kXG4gKiBAbmFtZSAkcm9vdFNjb3BlUHJvdmlkZXIjZGlnZXN0VHRsXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBTZXRzIHRoZSBudW1iZXIgb2YgYCRkaWdlc3RgIGl0ZXJhdGlvbnMgdGhlIHNjb3BlIHNob3VsZCBhdHRlbXB0IHRvIGV4ZWN1dGUgYmVmb3JlIGdpdmluZyB1cCBhbmRcbiAqIGFzc3VtaW5nIHRoYXQgdGhlIG1vZGVsIGlzIHVuc3RhYmxlLlxuICpcbiAqIFRoZSBjdXJyZW50IGRlZmF1bHQgaXMgMTAgaXRlcmF0aW9ucy5cbiAqXG4gKiBJbiBjb21wbGV4IGFwcGxpY2F0aW9ucyBpdCdzIHBvc3NpYmxlIHRoYXQgdGhlIGRlcGVuZGVuY2llcyBiZXR3ZWVuIGAkd2F0Y2hgcyB3aWxsIHJlc3VsdCBpblxuICogc2V2ZXJhbCBkaWdlc3QgaXRlcmF0aW9ucy4gSG93ZXZlciBpZiBhbiBhcHBsaWNhdGlvbiBuZWVkcyBtb3JlIHRoYW4gdGhlIGRlZmF1bHQgMTAgZGlnZXN0XG4gKiBpdGVyYXRpb25zIGZvciBpdHMgbW9kZWwgdG8gc3RhYmlsaXplIHRoZW4geW91IHNob3VsZCBpbnZlc3RpZ2F0ZSB3aGF0IGlzIGNhdXNpbmcgdGhlIG1vZGVsIHRvXG4gKiBjb250aW51b3VzbHkgY2hhbmdlIGR1cmluZyB0aGUgZGlnZXN0LlxuICpcbiAqIEluY3JlYXNpbmcgdGhlIFRUTCBjb3VsZCBoYXZlIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucywgc28geW91IHNob3VsZCBub3QgY2hhbmdlIGl0IHdpdGhvdXRcbiAqIHByb3BlciBqdXN0aWZpY2F0aW9uLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdCBUaGUgbnVtYmVyIG9mIGRpZ2VzdCBpdGVyYXRpb25zLlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHJvb3RTY29wZVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogRXZlcnkgYXBwbGljYXRpb24gaGFzIGEgc2luZ2xlIHJvb3Qge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9LlxuICogQWxsIG90aGVyIHNjb3BlcyBhcmUgZGVzY2VuZGFudCBzY29wZXMgb2YgdGhlIHJvb3Qgc2NvcGUuIFNjb3BlcyBwcm92aWRlIHNlcGFyYXRpb25cbiAqIGJldHdlZW4gdGhlIG1vZGVsIGFuZCB0aGUgdmlldywgdmlhIGEgbWVjaGFuaXNtIGZvciB3YXRjaGluZyB0aGUgbW9kZWwgZm9yIGNoYW5nZXMuXG4gKiBUaGV5IGFsc28gcHJvdmlkZSBhbiBldmVudCBlbWlzc2lvbi9icm9hZGNhc3QgYW5kIHN1YnNjcmlwdGlvbiBmYWNpbGl0eS4gU2VlIHRoZVxuICoge0BsaW5rIGd1aWRlL3Njb3BlIGRldmVsb3BlciBndWlkZSBvbiBzY29wZXN9LlxuICovXG5mdW5jdGlvbiAkUm9vdFNjb3BlUHJvdmlkZXIoKSB7XG4gIHZhciBUVEwgPSAxMDtcbiAgdmFyICRyb290U2NvcGVNaW5FcnIgPSBtaW5FcnIoJyRyb290U2NvcGUnKTtcbiAgdmFyIGxhc3REaXJ0eVdhdGNoID0gbnVsbDtcbiAgdmFyIGFwcGx5QXN5bmNJZCA9IG51bGw7XG5cbiAgdGhpcy5kaWdlc3RUdGwgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBUVEwgPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIFRUTDtcbiAgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVDaGlsZFNjb3BlQ2xhc3MocGFyZW50KSB7XG4gICAgZnVuY3Rpb24gQ2hpbGRTY29wZSgpIHtcbiAgICAgIHRoaXMuJCR3YXRjaGVycyA9IHRoaXMuJCRuZXh0U2libGluZyA9XG4gICAgICAgICAgdGhpcy4kJGNoaWxkSGVhZCA9IHRoaXMuJCRjaGlsZFRhaWwgPSBudWxsO1xuICAgICAgdGhpcy4kJGxpc3RlbmVycyA9IHt9O1xuICAgICAgdGhpcy4kJGxpc3RlbmVyQ291bnQgPSB7fTtcbiAgICAgIHRoaXMuJCR3YXRjaGVyc0NvdW50ID0gMDtcbiAgICAgIHRoaXMuJGlkID0gbmV4dFVpZCgpO1xuICAgICAgdGhpcy4kJENoaWxkU2NvcGUgPSBudWxsO1xuICAgIH1cbiAgICBDaGlsZFNjb3BlLnByb3RvdHlwZSA9IHBhcmVudDtcbiAgICByZXR1cm4gQ2hpbGRTY29wZTtcbiAgfVxuXG4gIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgJyRleGNlcHRpb25IYW5kbGVyJywgJyRwYXJzZScsICckYnJvd3NlcicsXG4gICAgICBmdW5jdGlvbigkaW5qZWN0b3IsICRleGNlcHRpb25IYW5kbGVyLCAkcGFyc2UsICRicm93c2VyKSB7XG5cbiAgICBmdW5jdGlvbiBkZXN0cm95Q2hpbGRTY29wZSgkZXZlbnQpIHtcbiAgICAgICAgJGV2ZW50LmN1cnJlbnRTY29wZS4kJGRlc3Ryb3llZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHR5cGVcbiAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBBIHJvb3Qgc2NvcGUgY2FuIGJlIHJldHJpZXZlZCB1c2luZyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUgJHJvb3RTY29wZX0ga2V5IGZyb20gdGhlXG4gICAgICoge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIENoaWxkIHNjb3BlcyBhcmUgY3JlYXRlZCB1c2luZyB0aGVcbiAgICAgKiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkbmV3ICRuZXcoKX0gbWV0aG9kLiAoTW9zdCBzY29wZXMgYXJlIGNyZWF0ZWQgYXV0b21hdGljYWxseSB3aGVuXG4gICAgICogY29tcGlsZWQgSFRNTCB0ZW1wbGF0ZSBpcyBleGVjdXRlZC4pXG4gICAgICpcbiAgICAgKiBIZXJlIGlzIGEgc2ltcGxlIHNjb3BlIHNuaXBwZXQgdG8gc2hvdyBob3cgeW91IGNhbiBpbnRlcmFjdCB3aXRoIHRoZSBzY29wZS5cbiAgICAgKiBgYGBodG1sXG4gICAgICogPGZpbGUgc3JjPVwiLi90ZXN0L25nL3Jvb3RTY29wZVNwZWMuanNcIiB0YWc9XCJkb2NzMVwiIC8+XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAjIEluaGVyaXRhbmNlXG4gICAgICogQSBzY29wZSBjYW4gaW5oZXJpdCBmcm9tIGEgcGFyZW50IHNjb3BlLCBhcyBpbiB0aGlzIGV4YW1wbGU6XG4gICAgICogYGBganNcbiAgICAgICAgIHZhciBwYXJlbnQgPSAkcm9vdFNjb3BlO1xuICAgICAgICAgdmFyIGNoaWxkID0gcGFyZW50LiRuZXcoKTtcblxuICAgICAgICAgcGFyZW50LnNhbHV0YXRpb24gPSBcIkhlbGxvXCI7XG4gICAgICAgICBleHBlY3QoY2hpbGQuc2FsdXRhdGlvbikudG9FcXVhbCgnSGVsbG8nKTtcblxuICAgICAgICAgY2hpbGQuc2FsdXRhdGlvbiA9IFwiV2VsY29tZVwiO1xuICAgICAgICAgZXhwZWN0KGNoaWxkLnNhbHV0YXRpb24pLnRvRXF1YWwoJ1dlbGNvbWUnKTtcbiAgICAgICAgIGV4cGVjdChwYXJlbnQuc2FsdXRhdGlvbikudG9FcXVhbCgnSGVsbG8nKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFdoZW4gaW50ZXJhY3Rpbmcgd2l0aCBgU2NvcGVgIGluIHRlc3RzLCBhZGRpdGlvbmFsIGhlbHBlciBtZXRob2RzIGFyZSBhdmFpbGFibGUgb24gdGhlXG4gICAgICogaW5zdGFuY2VzIG9mIGBTY29wZWAgdHlwZS4gU2VlIHtAbGluayBuZ01vY2suJHJvb3RTY29wZS5TY29wZSBuZ01vY2sgU2NvcGV9IGZvciBhZGRpdGlvbmFsXG4gICAgICogZGV0YWlscy5cbiAgICAgKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgZnVuY3Rpb24oKT49fSBwcm92aWRlcnMgTWFwIG9mIHNlcnZpY2UgZmFjdG9yeSB3aGljaCBuZWVkIHRvIGJlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlZCBmb3IgdGhlIGN1cnJlbnQgc2NvcGUuIERlZmF1bHRzIHRvIHtAbGluayBuZ30uXG4gICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgKj49fSBpbnN0YW5jZUNhY2hlIFByb3ZpZGVzIHByZS1pbnN0YW50aWF0ZWQgc2VydmljZXMgd2hpY2ggc2hvdWxkXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmQvb3ZlcnJpZGUgc2VydmljZXMgcHJvdmlkZWQgYnkgYHByb3ZpZGVyc2AuIFRoaXMgaXMgaGFuZHlcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gdW5pdC10ZXN0aW5nIGFuZCBoYXZpbmcgdGhlIG5lZWQgdG8gb3ZlcnJpZGUgYSBkZWZhdWx0XG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IE5ld2x5IGNyZWF0ZWQgc2NvcGUuXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTY29wZSgpIHtcbiAgICAgIHRoaXMuJGlkID0gbmV4dFVpZCgpO1xuICAgICAgdGhpcy4kJHBoYXNlID0gdGhpcy4kcGFyZW50ID0gdGhpcy4kJHdhdGNoZXJzID1cbiAgICAgICAgICAgICAgICAgICAgIHRoaXMuJCRuZXh0U2libGluZyA9IHRoaXMuJCRwcmV2U2libGluZyA9XG4gICAgICAgICAgICAgICAgICAgICB0aGlzLiQkY2hpbGRIZWFkID0gdGhpcy4kJGNoaWxkVGFpbCA9IG51bGw7XG4gICAgICB0aGlzLiRyb290ID0gdGhpcztcbiAgICAgIHRoaXMuJCRkZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuJCRsaXN0ZW5lcnMgPSB7fTtcbiAgICAgIHRoaXMuJCRsaXN0ZW5lckNvdW50ID0ge307XG4gICAgICB0aGlzLiQkd2F0Y2hlcnNDb3VudCA9IDA7XG4gICAgICB0aGlzLiQkaXNvbGF0ZUJpbmRpbmdzID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRpZFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVW5pcXVlIHNjb3BlIElEIChtb25vdG9uaWNhbGx5IGluY3JlYXNpbmcpIHVzZWZ1bCBmb3IgZGVidWdnaW5nLlxuICAgICAqL1xuXG4gICAgIC8qKlxuICAgICAgKiBAbmdkb2MgcHJvcGVydHlcbiAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkcGFyZW50XG4gICAgICAqXG4gICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHBhcmVudCBzY29wZS5cbiAgICAgICovXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIHByb3BlcnR5XG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRyb290XG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJvb3Qgc2NvcGUuXG4gICAgICAgKi9cblxuICAgIFNjb3BlLnByb3RvdHlwZSA9IHtcbiAgICAgIGNvbnN0cnVjdG9yOiBTY29wZSxcbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkbmV3XG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQ3JlYXRlcyBhIG5ldyBjaGlsZCB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBzY29wZX0uXG4gICAgICAgKlxuICAgICAgICogVGhlIHBhcmVudCBzY29wZSB3aWxsIHByb3BhZ2F0ZSB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0KCl9IGV2ZW50LlxuICAgICAgICogVGhlIHNjb3BlIGNhbiBiZSByZW1vdmVkIGZyb20gdGhlIHNjb3BlIGhpZXJhcmNoeSB1c2luZyB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGVzdHJveSAkZGVzdHJveSgpfS5cbiAgICAgICAqXG4gICAgICAgKiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGVzdHJveSAkZGVzdHJveSgpfSBtdXN0IGJlIGNhbGxlZCBvbiBhIHNjb3BlIHdoZW4gaXQgaXNcbiAgICAgICAqIGRlc2lyZWQgZm9yIHRoZSBzY29wZSBhbmQgaXRzIGNoaWxkIHNjb3BlcyB0byBiZSBwZXJtYW5lbnRseSBkZXRhY2hlZCBmcm9tIHRoZSBwYXJlbnQgYW5kXG4gICAgICAgKiB0aHVzIHN0b3AgcGFydGljaXBhdGluZyBpbiBtb2RlbCBjaGFuZ2UgZGV0ZWN0aW9uIGFuZCBsaXN0ZW5lciBub3RpZmljYXRpb24gYnkgaW52b2tpbmcuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBpc29sYXRlIElmIHRydWUsIHRoZW4gdGhlIHNjb3BlIGRvZXMgbm90IHByb3RvdHlwaWNhbGx5IGluaGVyaXQgZnJvbSB0aGVcbiAgICAgICAqICAgICAgICAgcGFyZW50IHNjb3BlLiBUaGUgc2NvcGUgaXMgaXNvbGF0ZWQsIGFzIGl0IGNhbiBub3Qgc2VlIHBhcmVudCBzY29wZSBwcm9wZXJ0aWVzLlxuICAgICAgICogICAgICAgICBXaGVuIGNyZWF0aW5nIHdpZGdldHMsIGl0IGlzIHVzZWZ1bCBmb3IgdGhlIHdpZGdldCB0byBub3QgYWNjaWRlbnRhbGx5IHJlYWQgcGFyZW50XG4gICAgICAgKiAgICAgICAgIHN0YXRlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7U2NvcGV9IFtwYXJlbnQ9dGhpc10gVGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIGBTY29wZWB9IHRoYXQgd2lsbCBiZSB0aGUgYCRwYXJlbnRgXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mIHRoZSBuZXdseSBjcmVhdGVkIHNjb3BlLiBEZWZhdWx0cyB0byBgdGhpc2Agc2NvcGUgaWYgbm90IHByb3ZpZGVkLlxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGlzIGlzIHVzZWQgd2hlbiBjcmVhdGluZyBhIHRyYW5zY2x1ZGUgc2NvcGUgdG8gY29ycmVjdGx5IHBsYWNlIGl0XG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluIHRoZSBzY29wZSBoaWVyYXJjaHkgd2hpbGUgbWFpbnRhaW5pbmcgdGhlIGNvcnJlY3QgcHJvdG90eXBpY2FsXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaGVyaXRhbmNlLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBuZXdseSBjcmVhdGVkIGNoaWxkIHNjb3BlLlxuICAgICAgICpcbiAgICAgICAqL1xuICAgICAgJG5ldzogZnVuY3Rpb24oaXNvbGF0ZSwgcGFyZW50KSB7XG4gICAgICAgIHZhciBjaGlsZDtcblxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQgfHwgdGhpcztcblxuICAgICAgICBpZiAoaXNvbGF0ZSkge1xuICAgICAgICAgIGNoaWxkID0gbmV3IFNjb3BlKCk7XG4gICAgICAgICAgY2hpbGQuJHJvb3QgPSB0aGlzLiRyb290O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE9ubHkgY3JlYXRlIGEgY2hpbGQgc2NvcGUgY2xhc3MgaWYgc29tZWJvZHkgYXNrcyBmb3Igb25lLFxuICAgICAgICAgIC8vIGJ1dCBjYWNoZSBpdCB0byBhbGxvdyB0aGUgVk0gdG8gb3B0aW1pemUgbG9va3Vwcy5cbiAgICAgICAgICBpZiAoIXRoaXMuJCRDaGlsZFNjb3BlKSB7XG4gICAgICAgICAgICB0aGlzLiQkQ2hpbGRTY29wZSA9IGNyZWF0ZUNoaWxkU2NvcGVDbGFzcyh0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hpbGQgPSBuZXcgdGhpcy4kJENoaWxkU2NvcGUoKTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZC4kcGFyZW50ID0gcGFyZW50O1xuICAgICAgICBjaGlsZC4kJHByZXZTaWJsaW5nID0gcGFyZW50LiQkY2hpbGRUYWlsO1xuICAgICAgICBpZiAocGFyZW50LiQkY2hpbGRIZWFkKSB7XG4gICAgICAgICAgcGFyZW50LiQkY2hpbGRUYWlsLiQkbmV4dFNpYmxpbmcgPSBjaGlsZDtcbiAgICAgICAgICBwYXJlbnQuJCRjaGlsZFRhaWwgPSBjaGlsZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJlbnQuJCRjaGlsZEhlYWQgPSBwYXJlbnQuJCRjaGlsZFRhaWwgPSBjaGlsZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdoZW4gdGhlIG5ldyBzY29wZSBpcyBub3QgaXNvbGF0ZWQgb3Igd2UgaW5oZXJpdCBmcm9tIGB0aGlzYCwgYW5kXG4gICAgICAgIC8vIHRoZSBwYXJlbnQgc2NvcGUgaXMgZGVzdHJveWVkLCB0aGUgcHJvcGVydHkgYCQkZGVzdHJveWVkYCBpcyBpbmhlcml0ZWRcbiAgICAgICAgLy8gcHJvdG90eXBpY2FsbHkuIEluIGFsbCBvdGhlciBjYXNlcywgdGhpcyBwcm9wZXJ0eSBuZWVkcyB0byBiZSBzZXRcbiAgICAgICAgLy8gd2hlbiB0aGUgcGFyZW50IHNjb3BlIGlzIGRlc3Ryb3llZC5cbiAgICAgICAgLy8gVGhlIGxpc3RlbmVyIG5lZWRzIHRvIGJlIGFkZGVkIGFmdGVyIHRoZSBwYXJlbnQgaXMgc2V0XG4gICAgICAgIGlmIChpc29sYXRlIHx8IHBhcmVudCAhPSB0aGlzKSBjaGlsZC4kb24oJyRkZXN0cm95JywgZGVzdHJveUNoaWxkU2NvcGUpO1xuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkd2F0Y2hcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZWdpc3RlcnMgYSBgbGlzdGVuZXJgIGNhbGxiYWNrIHRvIGJlIGV4ZWN1dGVkIHdoZW5ldmVyIHRoZSBgd2F0Y2hFeHByZXNzaW9uYCBjaGFuZ2VzLlxuICAgICAgICpcbiAgICAgICAqIC0gVGhlIGB3YXRjaEV4cHJlc3Npb25gIGlzIGNhbGxlZCBvbiBldmVyeSBjYWxsIHRvIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3RcbiAgICAgICAqICAgJGRpZ2VzdCgpfSBhbmQgc2hvdWxkIHJldHVybiB0aGUgdmFsdWUgdGhhdCB3aWxsIGJlIHdhdGNoZWQuIChTaW5jZVxuICAgICAgICogICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3QoKX0gcmVydW5zIHdoZW4gaXQgZGV0ZWN0cyBjaGFuZ2VzIHRoZVxuICAgICAgICogICBgd2F0Y2hFeHByZXNzaW9uYCBjYW4gZXhlY3V0ZSBtdWx0aXBsZSB0aW1lcyBwZXJcbiAgICAgICAqICAge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0KCl9IGFuZCBzaG91bGQgYmUgaWRlbXBvdGVudC4pXG4gICAgICAgKiAtIFRoZSBgbGlzdGVuZXJgIGlzIGNhbGxlZCBvbmx5IHdoZW4gdGhlIHZhbHVlIGZyb20gdGhlIGN1cnJlbnQgYHdhdGNoRXhwcmVzc2lvbmAgYW5kIHRoZVxuICAgICAgICogICBwcmV2aW91cyBjYWxsIHRvIGB3YXRjaEV4cHJlc3Npb25gIGFyZSBub3QgZXF1YWwgKHdpdGggdGhlIGV4Y2VwdGlvbiBvZiB0aGUgaW5pdGlhbCBydW4sXG4gICAgICAgKiAgIHNlZSBiZWxvdykuIEluZXF1YWxpdHkgaXMgZGV0ZXJtaW5lZCBhY2NvcmRpbmcgdG8gcmVmZXJlbmNlIGluZXF1YWxpdHksXG4gICAgICAgKiAgIFtzdHJpY3QgY29tcGFyaXNvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL0NvbXBhcmlzb25fT3BlcmF0b3JzKVxuICAgICAgICogICAgdmlhIHRoZSBgIT09YCBKYXZhc2NyaXB0IG9wZXJhdG9yLCB1bmxlc3MgYG9iamVjdEVxdWFsaXR5ID09IHRydWVgXG4gICAgICAgKiAgIChzZWUgbmV4dCBwb2ludClcbiAgICAgICAqIC0gV2hlbiBgb2JqZWN0RXF1YWxpdHkgPT0gdHJ1ZWAsIGluZXF1YWxpdHkgb2YgdGhlIGB3YXRjaEV4cHJlc3Npb25gIGlzIGRldGVybWluZWRcbiAgICAgICAqICAgYWNjb3JkaW5nIHRvIHRoZSB7QGxpbmsgYW5ndWxhci5lcXVhbHN9IGZ1bmN0aW9uLiBUbyBzYXZlIHRoZSB2YWx1ZSBvZiB0aGUgb2JqZWN0IGZvclxuICAgICAgICogICBsYXRlciBjb21wYXJpc29uLCB0aGUge0BsaW5rIGFuZ3VsYXIuY29weX0gZnVuY3Rpb24gaXMgdXNlZC4gVGhpcyB0aGVyZWZvcmUgbWVhbnMgdGhhdFxuICAgICAgICogICB3YXRjaGluZyBjb21wbGV4IG9iamVjdHMgd2lsbCBoYXZlIGFkdmVyc2UgbWVtb3J5IGFuZCBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMuXG4gICAgICAgKiAtIFRoZSB3YXRjaCBgbGlzdGVuZXJgIG1heSBjaGFuZ2UgdGhlIG1vZGVsLCB3aGljaCBtYXkgdHJpZ2dlciBvdGhlciBgbGlzdGVuZXJgcyB0byBmaXJlLlxuICAgICAgICogICBUaGlzIGlzIGFjaGlldmVkIGJ5IHJlcnVubmluZyB0aGUgd2F0Y2hlcnMgdW50aWwgbm8gY2hhbmdlcyBhcmUgZGV0ZWN0ZWQuIFRoZSByZXJ1blxuICAgICAgICogICBpdGVyYXRpb24gbGltaXQgaXMgMTAgdG8gcHJldmVudCBhbiBpbmZpbml0ZSBsb29wIGRlYWRsb2NrLlxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiBJZiB5b3Ugd2FudCB0byBiZSBub3RpZmllZCB3aGVuZXZlciB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3R9IGlzIGNhbGxlZCxcbiAgICAgICAqIHlvdSBjYW4gcmVnaXN0ZXIgYSBgd2F0Y2hFeHByZXNzaW9uYCBmdW5jdGlvbiB3aXRoIG5vIGBsaXN0ZW5lcmAuIChTaW5jZSBgd2F0Y2hFeHByZXNzaW9uYFxuICAgICAgICogY2FuIGV4ZWN1dGUgbXVsdGlwbGUgdGltZXMgcGVyIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdH0gY3ljbGUgd2hlbiBhXG4gICAgICAgKiBjaGFuZ2UgaXMgZGV0ZWN0ZWQsIGJlIHByZXBhcmVkIGZvciBtdWx0aXBsZSBjYWxscyB0byB5b3VyIGxpc3RlbmVyLilcbiAgICAgICAqXG4gICAgICAgKiBBZnRlciBhIHdhdGNoZXIgaXMgcmVnaXN0ZXJlZCB3aXRoIHRoZSBzY29wZSwgdGhlIGBsaXN0ZW5lcmAgZm4gaXMgY2FsbGVkIGFzeW5jaHJvbm91c2x5XG4gICAgICAgKiAodmlhIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRldmFsQXN5bmMgJGV2YWxBc3luY30pIHRvIGluaXRpYWxpemUgdGhlXG4gICAgICAgKiB3YXRjaGVyLiBJbiByYXJlIGNhc2VzLCB0aGlzIGlzIHVuZGVzaXJhYmxlIGJlY2F1c2UgdGhlIGxpc3RlbmVyIGlzIGNhbGxlZCB3aGVuIHRoZSByZXN1bHRcbiAgICAgICAqIG9mIGB3YXRjaEV4cHJlc3Npb25gIGRpZG4ndCBjaGFuZ2UuIFRvIGRldGVjdCB0aGlzIHNjZW5hcmlvIHdpdGhpbiB0aGUgYGxpc3RlbmVyYCBmbiwgeW91XG4gICAgICAgKiBjYW4gY29tcGFyZSB0aGUgYG5ld1ZhbGAgYW5kIGBvbGRWYWxgLiBJZiB0aGVzZSB0d28gdmFsdWVzIGFyZSBpZGVudGljYWwgKGA9PT1gKSB0aGVuIHRoZVxuICAgICAgICogbGlzdGVuZXIgd2FzIGNhbGxlZCBkdWUgdG8gaW5pdGlhbGl6YXRpb24uXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqXG4gICAgICAgKiAjIEV4YW1wbGVcbiAgICAgICAqIGBgYGpzXG4gICAgICAgICAgIC8vIGxldCdzIGFzc3VtZSB0aGF0IHNjb3BlIHdhcyBkZXBlbmRlbmN5IGluamVjdGVkIGFzIHRoZSAkcm9vdFNjb3BlXG4gICAgICAgICAgIHZhciBzY29wZSA9ICRyb290U2NvcGU7XG4gICAgICAgICAgIHNjb3BlLm5hbWUgPSAnbWlza28nO1xuICAgICAgICAgICBzY29wZS5jb3VudGVyID0gMDtcblxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcbiAgICAgICAgICAgc2NvcGUuJHdhdGNoKCduYW1lJywgZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgc2NvcGUuY291bnRlciA9IHNjb3BlLmNvdW50ZXIgKyAxO1xuICAgICAgICAgICB9KTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMCk7XG5cbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAvLyB0aGUgbGlzdGVuZXIgaXMgYWx3YXlzIGNhbGxlZCBkdXJpbmcgdGhlIGZpcnN0ICRkaWdlc3QgbG9vcCBhZnRlciBpdCB3YXMgcmVnaXN0ZXJlZFxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgxKTtcblxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIC8vIGJ1dCBub3cgaXQgd2lsbCBub3QgYmUgY2FsbGVkIHVubGVzcyB0aGUgdmFsdWUgY2hhbmdlc1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgxKTtcblxuICAgICAgICAgICBzY29wZS5uYW1lID0gJ2FkYW0nO1xuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDIpO1xuXG5cblxuICAgICAgICAgICAvLyBVc2luZyBhIGZ1bmN0aW9uIGFzIGEgd2F0Y2hFeHByZXNzaW9uXG4gICAgICAgICAgIHZhciBmb29kO1xuICAgICAgICAgICBzY29wZS5mb29kQ291bnRlciA9IDA7XG4gICAgICAgICAgIGV4cGVjdChzY29wZS5mb29kQ291bnRlcikudG9FcXVhbCgwKTtcbiAgICAgICAgICAgc2NvcGUuJHdhdGNoKFxuICAgICAgICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgdmFsdWUgYmVpbmcgd2F0Y2hlZC4gSXQgaXMgY2FsbGVkIGZvciBlYWNoIHR1cm4gb2YgdGhlICRkaWdlc3QgbG9vcFxuICAgICAgICAgICAgIGZ1bmN0aW9uKCkgeyByZXR1cm4gZm9vZDsgfSxcbiAgICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBjaGFuZ2UgbGlzdGVuZXIsIGNhbGxlZCB3aGVuIHRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBhYm92ZSBmdW5jdGlvbiBjaGFuZ2VzXG4gICAgICAgICAgICAgZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICBpZiAoIG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSApIHtcbiAgICAgICAgICAgICAgICAgLy8gT25seSBpbmNyZW1lbnQgdGhlIGNvdW50ZXIgaWYgdGhlIHZhbHVlIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgc2NvcGUuZm9vZENvdW50ZXIgPSBzY29wZS5mb29kQ291bnRlciArIDE7XG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICApO1xuICAgICAgICAgICAvLyBObyBkaWdlc3QgaGFzIGJlZW4gcnVuIHNvIHRoZSBjb3VudGVyIHdpbGwgYmUgemVyb1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuZm9vZENvdW50ZXIpLnRvRXF1YWwoMCk7XG5cbiAgICAgICAgICAgLy8gUnVuIHRoZSBkaWdlc3QgYnV0IHNpbmNlIGZvb2QgaGFzIG5vdCBjaGFuZ2VkIGNvdW50IHdpbGwgc3RpbGwgYmUgemVyb1xuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIGV4cGVjdChzY29wZS5mb29kQ291bnRlcikudG9FcXVhbCgwKTtcblxuICAgICAgICAgICAvLyBVcGRhdGUgZm9vZCBhbmQgcnVuIGRpZ2VzdC4gIE5vdyB0aGUgY291bnRlciB3aWxsIGluY3JlbWVudFxuICAgICAgICAgICBmb29kID0gJ2NoZWVzZWJ1cmdlcic7XG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDEpO1xuXG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7KGZ1bmN0aW9uKCl8c3RyaW5nKX0gd2F0Y2hFeHByZXNzaW9uIEV4cHJlc3Npb24gdGhhdCBpcyBldmFsdWF0ZWQgb24gZWFjaFxuICAgICAgICogICAge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0fSBjeWNsZS4gQSBjaGFuZ2UgaW4gdGhlIHJldHVybiB2YWx1ZSB0cmlnZ2Vyc1xuICAgICAgICogICAgYSBjYWxsIHRvIHRoZSBgbGlzdGVuZXJgLlxuICAgICAgICpcbiAgICAgICAqICAgIC0gYHN0cmluZ2A6IEV2YWx1YXRlZCBhcyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufVxuICAgICAgICogICAgLSBgZnVuY3Rpb24oc2NvcGUpYDogY2FsbGVkIHdpdGggY3VycmVudCBgc2NvcGVgIGFzIGEgcGFyYW1ldGVyLlxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbihuZXdWYWwsIG9sZFZhbCwgc2NvcGUpfSBsaXN0ZW5lciBDYWxsYmFjayBjYWxsZWQgd2hlbmV2ZXIgdGhlIHZhbHVlXG4gICAgICAgKiAgICBvZiBgd2F0Y2hFeHByZXNzaW9uYCBjaGFuZ2VzLlxuICAgICAgICpcbiAgICAgICAqICAgIC0gYG5ld1ZhbGAgY29udGFpbnMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIGB3YXRjaEV4cHJlc3Npb25gXG4gICAgICAgKiAgICAtIGBvbGRWYWxgIGNvbnRhaW5zIHRoZSBwcmV2aW91cyB2YWx1ZSBvZiB0aGUgYHdhdGNoRXhwcmVzc2lvbmBcbiAgICAgICAqICAgIC0gYHNjb3BlYCByZWZlcnMgdG8gdGhlIGN1cnJlbnQgc2NvcGVcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9iamVjdEVxdWFsaXR5IENvbXBhcmUgZm9yIG9iamVjdCBlcXVhbGl0eSB1c2luZyB7QGxpbmsgYW5ndWxhci5lcXVhbHN9IGluc3RlYWQgb2ZcbiAgICAgICAqICAgICBjb21wYXJpbmcgZm9yIHJlZmVyZW5jZSBlcXVhbGl0eS5cbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGVyZWdpc3RyYXRpb24gZnVuY3Rpb24gZm9yIHRoaXMgbGlzdGVuZXIuXG4gICAgICAgKi9cbiAgICAgICR3YXRjaDogZnVuY3Rpb24od2F0Y2hFeHAsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgcHJldHR5UHJpbnRFeHByZXNzaW9uKSB7XG4gICAgICAgIHZhciBnZXQgPSAkcGFyc2Uod2F0Y2hFeHApO1xuXG4gICAgICAgIGlmIChnZXQuJCR3YXRjaERlbGVnYXRlKSB7XG4gICAgICAgICAgcmV0dXJuIGdldC4kJHdhdGNoRGVsZWdhdGUodGhpcywgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBnZXQsIHdhdGNoRXhwKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2NvcGUgPSB0aGlzLFxuICAgICAgICAgICAgYXJyYXkgPSBzY29wZS4kJHdhdGNoZXJzLFxuICAgICAgICAgICAgd2F0Y2hlciA9IHtcbiAgICAgICAgICAgICAgZm46IGxpc3RlbmVyLFxuICAgICAgICAgICAgICBsYXN0OiBpbml0V2F0Y2hWYWwsXG4gICAgICAgICAgICAgIGdldDogZ2V0LFxuICAgICAgICAgICAgICBleHA6IHByZXR0eVByaW50RXhwcmVzc2lvbiB8fCB3YXRjaEV4cCxcbiAgICAgICAgICAgICAgZXE6ICEhb2JqZWN0RXF1YWxpdHlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSBudWxsO1xuXG4gICAgICAgIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcbiAgICAgICAgICB3YXRjaGVyLmZuID0gbm9vcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghYXJyYXkpIHtcbiAgICAgICAgICBhcnJheSA9IHNjb3BlLiQkd2F0Y2hlcnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSB1c2UgdW5zaGlmdCBzaW5jZSB3ZSB1c2UgYSB3aGlsZSBsb29wIGluICRkaWdlc3QgZm9yIHNwZWVkLlxuICAgICAgICAvLyB0aGUgd2hpbGUgbG9vcCByZWFkcyBpbiByZXZlcnNlIG9yZGVyLlxuICAgICAgICBhcnJheS51bnNoaWZ0KHdhdGNoZXIpO1xuICAgICAgICBpbmNyZW1lbnRXYXRjaGVyc0NvdW50KHRoaXMsIDEpO1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBkZXJlZ2lzdGVyV2F0Y2goKSB7XG4gICAgICAgICAgaWYgKGFycmF5UmVtb3ZlKGFycmF5LCB3YXRjaGVyKSA+PSAwKSB7XG4gICAgICAgICAgICBpbmNyZW1lbnRXYXRjaGVyc0NvdW50KHNjb3BlLCAtMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhc3REaXJ0eVdhdGNoID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkd2F0Y2hHcm91cFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEEgdmFyaWFudCBvZiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggJHdhdGNoKCl9IHdoZXJlIGl0IHdhdGNoZXMgYW4gYXJyYXkgb2YgYHdhdGNoRXhwcmVzc2lvbnNgLlxuICAgICAgICogSWYgYW55IG9uZSBleHByZXNzaW9uIGluIHRoZSBjb2xsZWN0aW9uIGNoYW5nZXMgdGhlIGBsaXN0ZW5lcmAgaXMgZXhlY3V0ZWQuXG4gICAgICAgKlxuICAgICAgICogLSBUaGUgaXRlbXMgaW4gdGhlIGB3YXRjaEV4cHJlc3Npb25zYCBhcnJheSBhcmUgb2JzZXJ2ZWQgdmlhIHN0YW5kYXJkICR3YXRjaCBvcGVyYXRpb24gYW5kIGFyZSBleGFtaW5lZCBvbiBldmVyeVxuICAgICAgICogICBjYWxsIHRvICRkaWdlc3QoKSB0byBzZWUgaWYgYW55IGl0ZW1zIGNoYW5nZXMuXG4gICAgICAgKiAtIFRoZSBgbGlzdGVuZXJgIGlzIGNhbGxlZCB3aGVuZXZlciBhbnkgZXhwcmVzc2lvbiBpbiB0aGUgYHdhdGNoRXhwcmVzc2lvbnNgIGFycmF5IGNoYW5nZXMuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtBcnJheS48c3RyaW5nfEZ1bmN0aW9uKHNjb3BlKT59IHdhdGNoRXhwcmVzc2lvbnMgQXJyYXkgb2YgZXhwcmVzc2lvbnMgdGhhdCB3aWxsIGJlIGluZGl2aWR1YWxseVxuICAgICAgICogd2F0Y2hlZCB1c2luZyB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggJHdhdGNoKCl9XG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbihuZXdWYWx1ZXMsIG9sZFZhbHVlcywgc2NvcGUpfSBsaXN0ZW5lciBDYWxsYmFjayBjYWxsZWQgd2hlbmV2ZXIgdGhlIHJldHVybiB2YWx1ZSBvZiBhbnlcbiAgICAgICAqICAgIGV4cHJlc3Npb24gaW4gYHdhdGNoRXhwcmVzc2lvbnNgIGNoYW5nZXNcbiAgICAgICAqICAgIFRoZSBgbmV3VmFsdWVzYCBhcnJheSBjb250YWlucyB0aGUgY3VycmVudCB2YWx1ZXMgb2YgdGhlIGB3YXRjaEV4cHJlc3Npb25zYCwgd2l0aCB0aGUgaW5kZXhlcyBtYXRjaGluZ1xuICAgICAgICogICAgdGhvc2Ugb2YgYHdhdGNoRXhwcmVzc2lvbmBcbiAgICAgICAqICAgIGFuZCB0aGUgYG9sZFZhbHVlc2AgYXJyYXkgY29udGFpbnMgdGhlIHByZXZpb3VzIHZhbHVlcyBvZiB0aGUgYHdhdGNoRXhwcmVzc2lvbnNgLCB3aXRoIHRoZSBpbmRleGVzIG1hdGNoaW5nXG4gICAgICAgKiAgICB0aG9zZSBvZiBgd2F0Y2hFeHByZXNzaW9uYFxuICAgICAgICogICAgVGhlIGBzY29wZWAgcmVmZXJzIHRvIHRoZSBjdXJyZW50IHNjb3BlLlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IFJldHVybnMgYSBkZS1yZWdpc3RyYXRpb24gZnVuY3Rpb24gZm9yIGFsbCBsaXN0ZW5lcnMuXG4gICAgICAgKi9cbiAgICAgICR3YXRjaEdyb3VwOiBmdW5jdGlvbih3YXRjaEV4cHJlc3Npb25zLCBsaXN0ZW5lcikge1xuICAgICAgICB2YXIgb2xkVmFsdWVzID0gbmV3IEFycmF5KHdhdGNoRXhwcmVzc2lvbnMubGVuZ3RoKTtcbiAgICAgICAgdmFyIG5ld1ZhbHVlcyA9IG5ldyBBcnJheSh3YXRjaEV4cHJlc3Npb25zLmxlbmd0aCk7XG4gICAgICAgIHZhciBkZXJlZ2lzdGVyRm5zID0gW107XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGNoYW5nZVJlYWN0aW9uU2NoZWR1bGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBmaXJzdFJ1biA9IHRydWU7XG5cbiAgICAgICAgaWYgKCF3YXRjaEV4cHJlc3Npb25zLmxlbmd0aCkge1xuICAgICAgICAgIC8vIE5vIGV4cHJlc3Npb25zIG1lYW5zIHdlIGNhbGwgdGhlIGxpc3RlbmVyIEFTQVBcbiAgICAgICAgICB2YXIgc2hvdWxkQ2FsbCA9IHRydWU7XG4gICAgICAgICAgc2VsZi4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHNob3VsZENhbGwpIGxpc3RlbmVyKG5ld1ZhbHVlcywgbmV3VmFsdWVzLCBzZWxmKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gZGVyZWdpc3RlcldhdGNoR3JvdXAoKSB7XG4gICAgICAgICAgICBzaG91bGRDYWxsID0gZmFsc2U7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3YXRjaEV4cHJlc3Npb25zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBzaXplIG9mIG9uZVxuICAgICAgICAgIHJldHVybiB0aGlzLiR3YXRjaCh3YXRjaEV4cHJlc3Npb25zWzBdLCBmdW5jdGlvbiB3YXRjaEdyb3VwQWN0aW9uKHZhbHVlLCBvbGRWYWx1ZSwgc2NvcGUpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlc1swXSA9IHZhbHVlO1xuICAgICAgICAgICAgb2xkVmFsdWVzWzBdID0gb2xkVmFsdWU7XG4gICAgICAgICAgICBsaXN0ZW5lcihuZXdWYWx1ZXMsICh2YWx1ZSA9PT0gb2xkVmFsdWUpID8gbmV3VmFsdWVzIDogb2xkVmFsdWVzLCBzY29wZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JFYWNoKHdhdGNoRXhwcmVzc2lvbnMsIGZ1bmN0aW9uKGV4cHIsIGkpIHtcbiAgICAgICAgICB2YXIgdW53YXRjaEZuID0gc2VsZi4kd2F0Y2goZXhwciwgZnVuY3Rpb24gd2F0Y2hHcm91cFN1YkFjdGlvbih2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlc1tpXSA9IHZhbHVlO1xuICAgICAgICAgICAgb2xkVmFsdWVzW2ldID0gb2xkVmFsdWU7XG4gICAgICAgICAgICBpZiAoIWNoYW5nZVJlYWN0aW9uU2NoZWR1bGVkKSB7XG4gICAgICAgICAgICAgIGNoYW5nZVJlYWN0aW9uU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgc2VsZi4kZXZhbEFzeW5jKHdhdGNoR3JvdXBBY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGRlcmVnaXN0ZXJGbnMucHVzaCh1bndhdGNoRm4pO1xuICAgICAgICB9KTtcblxuICAgICAgICBmdW5jdGlvbiB3YXRjaEdyb3VwQWN0aW9uKCkge1xuICAgICAgICAgIGNoYW5nZVJlYWN0aW9uU2NoZWR1bGVkID0gZmFsc2U7XG5cbiAgICAgICAgICBpZiAoZmlyc3RSdW4pIHtcbiAgICAgICAgICAgIGZpcnN0UnVuID0gZmFsc2U7XG4gICAgICAgICAgICBsaXN0ZW5lcihuZXdWYWx1ZXMsIG5ld1ZhbHVlcywgc2VsZik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlcywgb2xkVmFsdWVzLCBzZWxmKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZGVyZWdpc3RlcldhdGNoR3JvdXAoKSB7XG4gICAgICAgICAgd2hpbGUgKGRlcmVnaXN0ZXJGbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBkZXJlZ2lzdGVyRm5zLnNoaWZ0KCkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9LFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkd2F0Y2hDb2xsZWN0aW9uXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogU2hhbGxvdyB3YXRjaGVzIHRoZSBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdCBhbmQgZmlyZXMgd2hlbmV2ZXIgYW55IG9mIHRoZSBwcm9wZXJ0aWVzIGNoYW5nZVxuICAgICAgICogKGZvciBhcnJheXMsIHRoaXMgaW1wbGllcyB3YXRjaGluZyB0aGUgYXJyYXkgaXRlbXM7IGZvciBvYmplY3QgbWFwcywgdGhpcyBpbXBsaWVzIHdhdGNoaW5nXG4gICAgICAgKiB0aGUgcHJvcGVydGllcykuIElmIGEgY2hhbmdlIGlzIGRldGVjdGVkLCB0aGUgYGxpc3RlbmVyYCBjYWxsYmFjayBpcyBmaXJlZC5cbiAgICAgICAqXG4gICAgICAgKiAtIFRoZSBgb2JqYCBjb2xsZWN0aW9uIGlzIG9ic2VydmVkIHZpYSBzdGFuZGFyZCAkd2F0Y2ggb3BlcmF0aW9uIGFuZCBpcyBleGFtaW5lZCBvbiBldmVyeVxuICAgICAgICogICBjYWxsIHRvICRkaWdlc3QoKSB0byBzZWUgaWYgYW55IGl0ZW1zIGhhdmUgYmVlbiBhZGRlZCwgcmVtb3ZlZCwgb3IgbW92ZWQuXG4gICAgICAgKiAtIFRoZSBgbGlzdGVuZXJgIGlzIGNhbGxlZCB3aGVuZXZlciBhbnl0aGluZyB3aXRoaW4gdGhlIGBvYmpgIGhhcyBjaGFuZ2VkLiBFeGFtcGxlcyBpbmNsdWRlXG4gICAgICAgKiAgIGFkZGluZywgcmVtb3ZpbmcsIGFuZCBtb3ZpbmcgaXRlbXMgYmVsb25naW5nIHRvIGFuIG9iamVjdCBvciBhcnJheS5cbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICogIyBFeGFtcGxlXG4gICAgICAgKiBgYGBqc1xuICAgICAgICAgICRzY29wZS5uYW1lcyA9IFsnaWdvcicsICdtYXRpYXMnLCAnbWlza28nLCAnamFtZXMnXTtcbiAgICAgICAgICAkc2NvcGUuZGF0YUNvdW50ID0gNDtcblxuICAgICAgICAgICRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKCduYW1lcycsIGZ1bmN0aW9uKG5ld05hbWVzLCBvbGROYW1lcykge1xuICAgICAgICAgICAgJHNjb3BlLmRhdGFDb3VudCA9IG5ld05hbWVzLmxlbmd0aDtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGV4cGVjdCgkc2NvcGUuZGF0YUNvdW50KS50b0VxdWFsKDQpO1xuICAgICAgICAgICRzY29wZS4kZGlnZXN0KCk7XG5cbiAgICAgICAgICAvL3N0aWxsIGF0IDQgLi4uIG5vIGNoYW5nZXNcbiAgICAgICAgICBleHBlY3QoJHNjb3BlLmRhdGFDb3VudCkudG9FcXVhbCg0KTtcblxuICAgICAgICAgICRzY29wZS5uYW1lcy5wb3AoKTtcbiAgICAgICAgICAkc2NvcGUuJGRpZ2VzdCgpO1xuXG4gICAgICAgICAgLy9ub3cgdGhlcmUncyBiZWVuIGEgY2hhbmdlXG4gICAgICAgICAgZXhwZWN0KCRzY29wZS5kYXRhQ291bnQpLnRvRXF1YWwoMyk7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd8ZnVuY3Rpb24oc2NvcGUpfSBvYmogRXZhbHVhdGVkIGFzIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LiBUaGVcbiAgICAgICAqICAgIGV4cHJlc3Npb24gdmFsdWUgc2hvdWxkIGV2YWx1YXRlIHRvIGFuIG9iamVjdCBvciBhbiBhcnJheSB3aGljaCBpcyBvYnNlcnZlZCBvbiBlYWNoXG4gICAgICAgKiAgICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3R9IGN5Y2xlLiBBbnkgc2hhbGxvdyBjaGFuZ2Ugd2l0aGluIHRoZVxuICAgICAgICogICAgY29sbGVjdGlvbiB3aWxsIHRyaWdnZXIgYSBjYWxsIHRvIHRoZSBgbGlzdGVuZXJgLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3Q29sbGVjdGlvbiwgb2xkQ29sbGVjdGlvbiwgc2NvcGUpfSBsaXN0ZW5lciBhIGNhbGxiYWNrIGZ1bmN0aW9uIGNhbGxlZFxuICAgICAgICogICAgd2hlbiBhIGNoYW5nZSBpcyBkZXRlY3RlZC5cbiAgICAgICAqICAgIC0gVGhlIGBuZXdDb2xsZWN0aW9uYCBvYmplY3QgaXMgdGhlIG5ld2x5IG1vZGlmaWVkIGRhdGEgb2J0YWluZWQgZnJvbSB0aGUgYG9iamAgZXhwcmVzc2lvblxuICAgICAgICogICAgLSBUaGUgYG9sZENvbGxlY3Rpb25gIG9iamVjdCBpcyBhIGNvcHkgb2YgdGhlIGZvcm1lciBjb2xsZWN0aW9uIGRhdGEuXG4gICAgICAgKiAgICAgIER1ZSB0byBwZXJmb3JtYW5jZSBjb25zaWRlcmF0aW9ucywgdGhlYG9sZENvbGxlY3Rpb25gIHZhbHVlIGlzIGNvbXB1dGVkIG9ubHkgaWYgdGhlXG4gICAgICAgKiAgICAgIGBsaXN0ZW5lcmAgZnVuY3Rpb24gZGVjbGFyZXMgdHdvIG9yIG1vcmUgYXJndW1lbnRzLlxuICAgICAgICogICAgLSBUaGUgYHNjb3BlYCBhcmd1bWVudCByZWZlcnMgdG8gdGhlIGN1cnJlbnQgc2NvcGUuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IFJldHVybnMgYSBkZS1yZWdpc3RyYXRpb24gZnVuY3Rpb24gZm9yIHRoaXMgbGlzdGVuZXIuIFdoZW4gdGhlXG4gICAgICAgKiAgICBkZS1yZWdpc3RyYXRpb24gZnVuY3Rpb24gaXMgZXhlY3V0ZWQsIHRoZSBpbnRlcm5hbCB3YXRjaCBvcGVyYXRpb24gaXMgdGVybWluYXRlZC5cbiAgICAgICAqL1xuICAgICAgJHdhdGNoQ29sbGVjdGlvbjogZnVuY3Rpb24ob2JqLCBsaXN0ZW5lcikge1xuICAgICAgICAkd2F0Y2hDb2xsZWN0aW9uSW50ZXJjZXB0b3IuJHN0YXRlZnVsID0gdHJ1ZTtcblxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIC8vIHRoZSBjdXJyZW50IHZhbHVlLCB1cGRhdGVkIG9uIGVhY2ggZGlydHktY2hlY2sgcnVuXG4gICAgICAgIHZhciBuZXdWYWx1ZTtcbiAgICAgICAgLy8gYSBzaGFsbG93IGNvcHkgb2YgdGhlIG5ld1ZhbHVlIGZyb20gdGhlIGxhc3QgZGlydHktY2hlY2sgcnVuLFxuICAgICAgICAvLyB1cGRhdGVkIHRvIG1hdGNoIG5ld1ZhbHVlIGR1cmluZyBkaXJ0eS1jaGVjayBydW5cbiAgICAgICAgdmFyIG9sZFZhbHVlO1xuICAgICAgICAvLyBhIHNoYWxsb3cgY29weSBvZiB0aGUgbmV3VmFsdWUgZnJvbSB3aGVuIHRoZSBsYXN0IGNoYW5nZSBoYXBwZW5lZFxuICAgICAgICB2YXIgdmVyeU9sZFZhbHVlO1xuICAgICAgICAvLyBvbmx5IHRyYWNrIHZlcnlPbGRWYWx1ZSBpZiB0aGUgbGlzdGVuZXIgaXMgYXNraW5nIGZvciBpdFxuICAgICAgICB2YXIgdHJhY2tWZXJ5T2xkVmFsdWUgPSAobGlzdGVuZXIubGVuZ3RoID4gMSk7XG4gICAgICAgIHZhciBjaGFuZ2VEZXRlY3RlZCA9IDA7XG4gICAgICAgIHZhciBjaGFuZ2VEZXRlY3RvciA9ICRwYXJzZShvYmosICR3YXRjaENvbGxlY3Rpb25JbnRlcmNlcHRvcik7XG4gICAgICAgIHZhciBpbnRlcm5hbEFycmF5ID0gW107XG4gICAgICAgIHZhciBpbnRlcm5hbE9iamVjdCA9IHt9O1xuICAgICAgICB2YXIgaW5pdFJ1biA9IHRydWU7XG4gICAgICAgIHZhciBvbGRMZW5ndGggPSAwO1xuXG4gICAgICAgIGZ1bmN0aW9uICR3YXRjaENvbGxlY3Rpb25JbnRlcmNlcHRvcihfdmFsdWUpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IF92YWx1ZTtcbiAgICAgICAgICB2YXIgbmV3TGVuZ3RoLCBrZXksIGJvdGhOYU4sIG5ld0l0ZW0sIG9sZEl0ZW07XG5cbiAgICAgICAgICAvLyBJZiB0aGUgbmV3IHZhbHVlIGlzIHVuZGVmaW5lZCwgdGhlbiByZXR1cm4gdW5kZWZpbmVkIGFzIHRoZSB3YXRjaCBtYXkgYmUgYSBvbmUtdGltZSB3YXRjaFxuICAgICAgICAgIGlmIChpc1VuZGVmaW5lZChuZXdWYWx1ZSkpIHJldHVybjtcblxuICAgICAgICAgIGlmICghaXNPYmplY3QobmV3VmFsdWUpKSB7IC8vIGlmIHByaW1pdGl2ZVxuICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICBvbGRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheUxpa2UobmV3VmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IGludGVybmFsQXJyYXkpIHtcbiAgICAgICAgICAgICAgLy8gd2UgYXJlIHRyYW5zaXRpb25pbmcgZnJvbSBzb21ldGhpbmcgd2hpY2ggd2FzIG5vdCBhbiBhcnJheSBpbnRvIGFycmF5LlxuICAgICAgICAgICAgICBvbGRWYWx1ZSA9IGludGVybmFsQXJyYXk7XG4gICAgICAgICAgICAgIG9sZExlbmd0aCA9IG9sZFZhbHVlLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5ld0xlbmd0aCA9IG5ld1ZhbHVlLmxlbmd0aDtcblxuICAgICAgICAgICAgaWYgKG9sZExlbmd0aCAhPT0gbmV3TGVuZ3RoKSB7XG4gICAgICAgICAgICAgIC8vIGlmIGxlbmd0aHMgZG8gbm90IG1hdGNoIHdlIG5lZWQgdG8gdHJpZ2dlciBjaGFuZ2Ugbm90aWZpY2F0aW9uXG4gICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICAgIG9sZFZhbHVlLmxlbmd0aCA9IG9sZExlbmd0aCA9IG5ld0xlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvcHkgdGhlIGl0ZW1zIHRvIG9sZFZhbHVlIGFuZCBsb29rIGZvciBjaGFuZ2VzLlxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBvbGRJdGVtID0gb2xkVmFsdWVbaV07XG4gICAgICAgICAgICAgIG5ld0l0ZW0gPSBuZXdWYWx1ZVtpXTtcblxuICAgICAgICAgICAgICBib3RoTmFOID0gKG9sZEl0ZW0gIT09IG9sZEl0ZW0pICYmIChuZXdJdGVtICE9PSBuZXdJdGVtKTtcbiAgICAgICAgICAgICAgaWYgKCFib3RoTmFOICYmIChvbGRJdGVtICE9PSBuZXdJdGVtKSkge1xuICAgICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XG4gICAgICAgICAgICAgICAgb2xkVmFsdWVbaV0gPSBuZXdJdGVtO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gaW50ZXJuYWxPYmplY3QpIHtcbiAgICAgICAgICAgICAgLy8gd2UgYXJlIHRyYW5zaXRpb25pbmcgZnJvbSBzb21ldGhpbmcgd2hpY2ggd2FzIG5vdCBhbiBvYmplY3QgaW50byBvYmplY3QuXG4gICAgICAgICAgICAgIG9sZFZhbHVlID0gaW50ZXJuYWxPYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgb2xkTGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvcHkgdGhlIGl0ZW1zIHRvIG9sZFZhbHVlIGFuZCBsb29rIGZvciBjaGFuZ2VzLlxuICAgICAgICAgICAgbmV3TGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGZvciAoa2V5IGluIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmIChuZXdWYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgbmV3TGVuZ3RoKys7XG4gICAgICAgICAgICAgICAgbmV3SXRlbSA9IG5ld1ZhbHVlW2tleV07XG4gICAgICAgICAgICAgICAgb2xkSXRlbSA9IG9sZFZhbHVlW2tleV07XG5cbiAgICAgICAgICAgICAgICBpZiAoa2V5IGluIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICBib3RoTmFOID0gKG9sZEl0ZW0gIT09IG9sZEl0ZW0pICYmIChuZXdJdGVtICE9PSBuZXdJdGVtKTtcbiAgICAgICAgICAgICAgICAgIGlmICghYm90aE5hTiAmJiAob2xkSXRlbSAhPT0gbmV3SXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWVba2V5XSA9IG5ld0l0ZW07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG9sZExlbmd0aCsrO1xuICAgICAgICAgICAgICAgICAgb2xkVmFsdWVba2V5XSA9IG5ld0l0ZW07XG4gICAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9sZExlbmd0aCA+IG5ld0xlbmd0aCkge1xuICAgICAgICAgICAgICAvLyB3ZSB1c2VkIHRvIGhhdmUgbW9yZSBrZXlzLCBuZWVkIHRvIGZpbmQgdGhlbSBhbmQgZGVzdHJveSB0aGVtLlxuICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xuICAgICAgICAgICAgICBmb3IgKGtleSBpbiBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICghbmV3VmFsdWUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgb2xkTGVuZ3RoLS07XG4gICAgICAgICAgICAgICAgICBkZWxldGUgb2xkVmFsdWVba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNoYW5nZURldGVjdGVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gJHdhdGNoQ29sbGVjdGlvbkFjdGlvbigpIHtcbiAgICAgICAgICBpZiAoaW5pdFJ1bikge1xuICAgICAgICAgICAgaW5pdFJ1biA9IGZhbHNlO1xuICAgICAgICAgICAgbGlzdGVuZXIobmV3VmFsdWUsIG5ld1ZhbHVlLCBzZWxmKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGlzdGVuZXIobmV3VmFsdWUsIHZlcnlPbGRWYWx1ZSwgc2VsZik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gbWFrZSBhIGNvcHkgZm9yIHRoZSBuZXh0IHRpbWUgYSBjb2xsZWN0aW9uIGlzIGNoYW5nZWRcbiAgICAgICAgICBpZiAodHJhY2tWZXJ5T2xkVmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghaXNPYmplY3QobmV3VmFsdWUpKSB7XG4gICAgICAgICAgICAgIC8vcHJpbWl0aXZlXG4gICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5TGlrZShuZXdWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgdmVyeU9sZFZhbHVlID0gbmV3IEFycmF5KG5ld1ZhbHVlLmxlbmd0aCk7XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3VmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWVbaV0gPSBuZXdWYWx1ZVtpXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHsgLy8gaWYgb2JqZWN0XG4gICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZSA9IHt9O1xuICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChuZXdWYWx1ZSwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgdmVyeU9sZFZhbHVlW2tleV0gPSBuZXdWYWx1ZVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLiR3YXRjaChjaGFuZ2VEZXRlY3RvciwgJHdhdGNoQ29sbGVjdGlvbkFjdGlvbik7XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFByb2Nlc3NlcyBhbGwgb2YgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCB3YXRjaGVyc30gb2YgdGhlIGN1cnJlbnQgc2NvcGUgYW5kXG4gICAgICAgKiBpdHMgY2hpbGRyZW4uIEJlY2F1c2UgYSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2hlcn0ncyBsaXN0ZW5lciBjYW4gY2hhbmdlXG4gICAgICAgKiB0aGUgbW9kZWwsIHRoZSBgJGRpZ2VzdCgpYCBrZWVwcyBjYWxsaW5nIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2hlcnN9XG4gICAgICAgKiB1bnRpbCBubyBtb3JlIGxpc3RlbmVycyBhcmUgZmlyaW5nLiBUaGlzIG1lYW5zIHRoYXQgaXQgaXMgcG9zc2libGUgdG8gZ2V0IGludG8gYW4gaW5maW5pdGVcbiAgICAgICAqIGxvb3AuIFRoaXMgZnVuY3Rpb24gd2lsbCB0aHJvdyBgJ01heGltdW0gaXRlcmF0aW9uIGxpbWl0IGV4Y2VlZGVkLidgIGlmIHRoZSBudW1iZXIgb2ZcbiAgICAgICAqIGl0ZXJhdGlvbnMgZXhjZWVkcyAxMC5cbiAgICAgICAqXG4gICAgICAgKiBVc3VhbGx5LCB5b3UgZG9uJ3QgY2FsbCBgJGRpZ2VzdCgpYCBkaXJlY3RseSBpblxuICAgICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NvbnRyb2xsZXIgY29udHJvbGxlcnN9IG9yIGluXG4gICAgICAgKiB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgZGlyZWN0aXZlc30uXG4gICAgICAgKiBJbnN0ZWFkLCB5b3Ugc2hvdWxkIGNhbGwge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGFwcGx5ICRhcHBseSgpfSAodHlwaWNhbGx5IGZyb20gd2l0aGluXG4gICAgICAgKiBhIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSBkaXJlY3RpdmV9KSwgd2hpY2ggd2lsbCBmb3JjZSBhIGAkZGlnZXN0KClgLlxuICAgICAgICpcbiAgICAgICAqIElmIHlvdSB3YW50IHRvIGJlIG5vdGlmaWVkIHdoZW5ldmVyIGAkZGlnZXN0KClgIGlzIGNhbGxlZCxcbiAgICAgICAqIHlvdSBjYW4gcmVnaXN0ZXIgYSBgd2F0Y2hFeHByZXNzaW9uYCBmdW5jdGlvbiB3aXRoXG4gICAgICAgKiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggJHdhdGNoKCl9IHdpdGggbm8gYGxpc3RlbmVyYC5cbiAgICAgICAqXG4gICAgICAgKiBJbiB1bml0IHRlc3RzLCB5b3UgbWF5IG5lZWQgdG8gY2FsbCBgJGRpZ2VzdCgpYCB0byBzaW11bGF0ZSB0aGUgc2NvcGUgbGlmZSBjeWNsZS5cbiAgICAgICAqXG4gICAgICAgKiAjIEV4YW1wbGVcbiAgICAgICAqIGBgYGpzXG4gICAgICAgICAgIHZhciBzY29wZSA9IC4uLjtcbiAgICAgICAgICAgc2NvcGUubmFtZSA9ICdtaXNrbyc7XG4gICAgICAgICAgIHNjb3BlLmNvdW50ZXIgPSAwO1xuXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDApO1xuICAgICAgICAgICBzY29wZS4kd2F0Y2goJ25hbWUnLCBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICBzY29wZS5jb3VudGVyID0gc2NvcGUuY291bnRlciArIDE7XG4gICAgICAgICAgIH0pO1xuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcblxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgIC8vIHRoZSBsaXN0ZW5lciBpcyBhbHdheXMgY2FsbGVkIGR1cmluZyB0aGUgZmlyc3QgJGRpZ2VzdCBsb29wIGFmdGVyIGl0IHdhcyByZWdpc3RlcmVkXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xuXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgLy8gYnV0IG5vdyBpdCB3aWxsIG5vdCBiZSBjYWxsZWQgdW5sZXNzIHRoZSB2YWx1ZSBjaGFuZ2VzXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xuXG4gICAgICAgICAgIHNjb3BlLm5hbWUgPSAnYWRhbSc7XG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMik7XG4gICAgICAgKiBgYGBcbiAgICAgICAqXG4gICAgICAgKi9cbiAgICAgICRkaWdlc3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgd2F0Y2gsIHZhbHVlLCBsYXN0LFxuICAgICAgICAgICAgd2F0Y2hlcnMsXG4gICAgICAgICAgICBsZW5ndGgsXG4gICAgICAgICAgICBkaXJ0eSwgdHRsID0gVFRMLFxuICAgICAgICAgICAgbmV4dCwgY3VycmVudCwgdGFyZ2V0ID0gdGhpcyxcbiAgICAgICAgICAgIHdhdGNoTG9nID0gW10sXG4gICAgICAgICAgICBsb2dJZHgsIGxvZ01zZywgYXN5bmNUYXNrO1xuXG4gICAgICAgIGJlZ2luUGhhc2UoJyRkaWdlc3QnKTtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGNoYW5nZXMgdG8gYnJvd3NlciB1cmwgdGhhdCBoYXBwZW5lZCBpbiBzeW5jIGJlZm9yZSB0aGUgY2FsbCB0byAkZGlnZXN0XG4gICAgICAgICRicm93c2VyLiQkY2hlY2tVcmxDaGFuZ2UoKTtcblxuICAgICAgICBpZiAodGhpcyA9PT0gJHJvb3RTY29wZSAmJiBhcHBseUFzeW5jSWQgIT09IG51bGwpIHtcbiAgICAgICAgICAvLyBJZiB0aGlzIGlzIHRoZSByb290IHNjb3BlLCBhbmQgJGFwcGx5QXN5bmMgaGFzIHNjaGVkdWxlZCBhIGRlZmVycmVkICRhcHBseSgpLCB0aGVuXG4gICAgICAgICAgLy8gY2FuY2VsIHRoZSBzY2hlZHVsZWQgJGFwcGx5IGFuZCBmbHVzaCB0aGUgcXVldWUgb2YgZXhwcmVzc2lvbnMgdG8gYmUgZXZhbHVhdGVkLlxuICAgICAgICAgICRicm93c2VyLmRlZmVyLmNhbmNlbChhcHBseUFzeW5jSWQpO1xuICAgICAgICAgIGZsdXNoQXBwbHlBc3luYygpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSBudWxsO1xuXG4gICAgICAgIGRvIHsgLy8gXCJ3aGlsZSBkaXJ0eVwiIGxvb3BcbiAgICAgICAgICBkaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgIGN1cnJlbnQgPSB0YXJnZXQ7XG5cbiAgICAgICAgICB3aGlsZSAoYXN5bmNRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGFzeW5jVGFzayA9IGFzeW5jUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgYXN5bmNUYXNrLnNjb3BlLiRldmFsKGFzeW5jVGFzay5leHByZXNzaW9uLCBhc3luY1Rhc2subG9jYWxzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0RGlydHlXYXRjaCA9IG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdHJhdmVyc2VTY29wZXNMb29wOlxuICAgICAgICAgIGRvIHsgLy8gXCJ0cmF2ZXJzZSB0aGUgc2NvcGVzXCIgbG9vcFxuICAgICAgICAgICAgaWYgKCh3YXRjaGVycyA9IGN1cnJlbnQuJCR3YXRjaGVycykpIHtcbiAgICAgICAgICAgICAgLy8gcHJvY2VzcyBvdXIgd2F0Y2hlc1xuICAgICAgICAgICAgICBsZW5ndGggPSB3YXRjaGVycy5sZW5ndGg7XG4gICAgICAgICAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICB3YXRjaCA9IHdhdGNoZXJzW2xlbmd0aF07XG4gICAgICAgICAgICAgICAgICAvLyBNb3N0IGNvbW1vbiB3YXRjaGVzIGFyZSBvbiBwcmltaXRpdmVzLCBpbiB3aGljaCBjYXNlIHdlIGNhbiBzaG9ydFxuICAgICAgICAgICAgICAgICAgLy8gY2lyY3VpdCBpdCB3aXRoID09PSBvcGVyYXRvciwgb25seSB3aGVuID09PSBmYWlscyBkbyB3ZSB1c2UgLmVxdWFsc1xuICAgICAgICAgICAgICAgICAgaWYgKHdhdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgPSB3YXRjaC5nZXQoY3VycmVudCkpICE9PSAobGFzdCA9IHdhdGNoLmxhc3QpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhKHdhdGNoLmVxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBlcXVhbHModmFsdWUsIGxhc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgbGFzdCA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBpc05hTih2YWx1ZSkgJiYgaXNOYU4obGFzdCkpKSkge1xuICAgICAgICAgICAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICBsYXN0RGlydHlXYXRjaCA9IHdhdGNoO1xuICAgICAgICAgICAgICAgICAgICAgIHdhdGNoLmxhc3QgPSB3YXRjaC5lcSA/IGNvcHkodmFsdWUsIG51bGwpIDogdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgd2F0Y2guZm4odmFsdWUsICgobGFzdCA9PT0gaW5pdFdhdGNoVmFsKSA/IHZhbHVlIDogbGFzdCksIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0dGwgPCA1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dJZHggPSA0IC0gdHRsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3YXRjaExvZ1tsb2dJZHhdKSB3YXRjaExvZ1tsb2dJZHhdID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRjaExvZ1tsb2dJZHhdLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtc2c6IGlzRnVuY3Rpb24od2F0Y2guZXhwKSA/ICdmbjogJyArICh3YXRjaC5leHAubmFtZSB8fCB3YXRjaC5leHAudG9TdHJpbmcoKSkgOiB3YXRjaC5leHAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbDogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9sZFZhbDogbGFzdFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHdhdGNoID09PSBsYXN0RGlydHlXYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBtb3N0IHJlY2VudGx5IGRpcnR5IHdhdGNoZXIgaXMgbm93IGNsZWFuLCBzaG9ydCBjaXJjdWl0IHNpbmNlIHRoZSByZW1haW5pbmcgd2F0Y2hlcnNcbiAgICAgICAgICAgICAgICAgICAgICAvLyBoYXZlIGFscmVhZHkgYmVlbiB0ZXN0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhayB0cmF2ZXJzZVNjb3Blc0xvb3A7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSW5zYW5pdHkgV2FybmluZzogc2NvcGUgZGVwdGgtZmlyc3QgdHJhdmVyc2FsXG4gICAgICAgICAgICAvLyB5ZXMsIHRoaXMgY29kZSBpcyBhIGJpdCBjcmF6eSwgYnV0IGl0IHdvcmtzIGFuZCB3ZSBoYXZlIHRlc3RzIHRvIHByb3ZlIGl0IVxuICAgICAgICAgICAgLy8gdGhpcyBwaWVjZSBzaG91bGQgYmUga2VwdCBpbiBzeW5jIHdpdGggdGhlIHRyYXZlcnNhbCBpbiAkYnJvYWRjYXN0XG4gICAgICAgICAgICBpZiAoIShuZXh0ID0gKChjdXJyZW50LiQkd2F0Y2hlcnNDb3VudCAmJiBjdXJyZW50LiQkY2hpbGRIZWFkKSB8fFxuICAgICAgICAgICAgICAgIChjdXJyZW50ICE9PSB0YXJnZXQgJiYgY3VycmVudC4kJG5leHRTaWJsaW5nKSkpKSB7XG4gICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICE9PSB0YXJnZXQgJiYgIShuZXh0ID0gY3VycmVudC4kJG5leHRTaWJsaW5nKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IHdoaWxlICgoY3VycmVudCA9IG5leHQpKTtcblxuICAgICAgICAgIC8vIGBicmVhayB0cmF2ZXJzZVNjb3Blc0xvb3A7YCB0YWtlcyB1cyB0byBoZXJlXG5cbiAgICAgICAgICBpZiAoKGRpcnR5IHx8IGFzeW5jUXVldWUubGVuZ3RoKSAmJiAhKHR0bC0tKSkge1xuICAgICAgICAgICAgY2xlYXJQaGFzZSgpO1xuICAgICAgICAgICAgdGhyb3cgJHJvb3RTY29wZU1pbkVycignaW5mZGlnJyxcbiAgICAgICAgICAgICAgICAnezB9ICRkaWdlc3QoKSBpdGVyYXRpb25zIHJlYWNoZWQuIEFib3J0aW5nIVxcbicgK1xuICAgICAgICAgICAgICAgICdXYXRjaGVycyBmaXJlZCBpbiB0aGUgbGFzdCA1IGl0ZXJhdGlvbnM6IHsxfScsXG4gICAgICAgICAgICAgICAgVFRMLCB3YXRjaExvZyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0gd2hpbGUgKGRpcnR5IHx8IGFzeW5jUXVldWUubGVuZ3RoKTtcblxuICAgICAgICBjbGVhclBoYXNlKCk7XG5cbiAgICAgICAgd2hpbGUgKHBvc3REaWdlc3RRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcG9zdERpZ2VzdFF1ZXVlLnNoaWZ0KCkoKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG5cblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZXZlbnRcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3lcbiAgICAgICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHNjb3BlIGJlaW5nIGRlc3Ryb3llZFxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogQnJvYWRjYXN0ZWQgd2hlbiBhIHNjb3BlIGFuZCBpdHMgY2hpbGRyZW4gYXJlIGJlaW5nIGRlc3Ryb3llZC5cbiAgICAgICAqXG4gICAgICAgKiBOb3RlIHRoYXQsIGluIEFuZ3VsYXJKUywgdGhlcmUgaXMgYWxzbyBhIGAkZGVzdHJveWAgalF1ZXJ5IGV2ZW50LCB3aGljaCBjYW4gYmUgdXNlZCB0b1xuICAgICAgICogY2xlYW4gdXAgRE9NIGJpbmRpbmdzIGJlZm9yZSBhbiBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NLlxuICAgICAgICovXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZGVzdHJveVxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJlbW92ZXMgdGhlIGN1cnJlbnQgc2NvcGUgKGFuZCBhbGwgb2YgaXRzIGNoaWxkcmVuKSBmcm9tIHRoZSBwYXJlbnQgc2NvcGUuIFJlbW92YWwgaW1wbGllc1xuICAgICAgICogdGhhdCBjYWxscyB0byB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3QoKX0gd2lsbCBubyBsb25nZXJcbiAgICAgICAqIHByb3BhZ2F0ZSB0byB0aGUgY3VycmVudCBzY29wZSBhbmQgaXRzIGNoaWxkcmVuLiBSZW1vdmFsIGFsc28gaW1wbGllcyB0aGF0IHRoZSBjdXJyZW50XG4gICAgICAgKiBzY29wZSBpcyBlbGlnaWJsZSBmb3IgZ2FyYmFnZSBjb2xsZWN0aW9uLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBgJGRlc3Ryb3koKWAgaXMgdXN1YWxseSB1c2VkIGJ5IGRpcmVjdGl2ZXMgc3VjaCBhc1xuICAgICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1JlcGVhdCBuZ1JlcGVhdH0gZm9yIG1hbmFnaW5nIHRoZVxuICAgICAgICogdW5yb2xsaW5nIG9mIHRoZSBsb29wLlxuICAgICAgICpcbiAgICAgICAqIEp1c3QgYmVmb3JlIGEgc2NvcGUgaXMgZGVzdHJveWVkLCBhIGAkZGVzdHJveWAgZXZlbnQgaXMgYnJvYWRjYXN0ZWQgb24gdGhpcyBzY29wZS5cbiAgICAgICAqIEFwcGxpY2F0aW9uIGNvZGUgY2FuIHJlZ2lzdGVyIGEgYCRkZXN0cm95YCBldmVudCBoYW5kbGVyIHRoYXQgd2lsbCBnaXZlIGl0IGEgY2hhbmNlIHRvXG4gICAgICAgKiBwZXJmb3JtIGFueSBuZWNlc3NhcnkgY2xlYW51cC5cbiAgICAgICAqXG4gICAgICAgKiBOb3RlIHRoYXQsIGluIEFuZ3VsYXJKUywgdGhlcmUgaXMgYWxzbyBhIGAkZGVzdHJveWAgalF1ZXJ5IGV2ZW50LCB3aGljaCBjYW4gYmUgdXNlZCB0b1xuICAgICAgICogY2xlYW4gdXAgRE9NIGJpbmRpbmdzIGJlZm9yZSBhbiBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NLlxuICAgICAgICovXG4gICAgICAkZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFdlIGNhbid0IGRlc3Ryb3kgYSBzY29wZSB0aGF0IGhhcyBiZWVuIGFscmVhZHkgZGVzdHJveWVkLlxuICAgICAgICBpZiAodGhpcy4kJGRlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy4kcGFyZW50O1xuXG4gICAgICAgIHRoaXMuJGJyb2FkY2FzdCgnJGRlc3Ryb3knKTtcbiAgICAgICAgdGhpcy4kJGRlc3Ryb3llZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKHRoaXMgPT09ICRyb290U2NvcGUpIHtcbiAgICAgICAgICAvL1JlbW92ZSBoYW5kbGVycyBhdHRhY2hlZCB0byB3aW5kb3cgd2hlbiAkcm9vdFNjb3BlIGlzIHJlbW92ZWRcbiAgICAgICAgICAkYnJvd3Nlci4kJGFwcGxpY2F0aW9uRGVzdHJveWVkKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpbmNyZW1lbnRXYXRjaGVyc0NvdW50KHRoaXMsIC10aGlzLiQkd2F0Y2hlcnNDb3VudCk7XG4gICAgICAgIGZvciAodmFyIGV2ZW50TmFtZSBpbiB0aGlzLiQkbGlzdGVuZXJDb3VudCkge1xuICAgICAgICAgIGRlY3JlbWVudExpc3RlbmVyQ291bnQodGhpcywgdGhpcy4kJGxpc3RlbmVyQ291bnRbZXZlbnROYW1lXSwgZXZlbnROYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldmVyIGFsbCB0aGUgcmVmZXJlbmNlcyB0byBwYXJlbnQgc2NvcGVzIChhZnRlciB0aGlzIGNsZWFudXAsIHRoZSBjdXJyZW50IHNjb3BlIHNob3VsZFxuICAgICAgICAvLyBub3QgYmUgcmV0YWluZWQgYnkgYW55IG9mIG91ciByZWZlcmVuY2VzIGFuZCBzaG91bGQgYmUgZWxpZ2libGUgZm9yIGdhcmJhZ2UgY29sbGVjdGlvbilcbiAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQuJCRjaGlsZEhlYWQgPT0gdGhpcykgcGFyZW50LiQkY2hpbGRIZWFkID0gdGhpcy4kJG5leHRTaWJsaW5nO1xuICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC4kJGNoaWxkVGFpbCA9PSB0aGlzKSBwYXJlbnQuJCRjaGlsZFRhaWwgPSB0aGlzLiQkcHJldlNpYmxpbmc7XG4gICAgICAgIGlmICh0aGlzLiQkcHJldlNpYmxpbmcpIHRoaXMuJCRwcmV2U2libGluZy4kJG5leHRTaWJsaW5nID0gdGhpcy4kJG5leHRTaWJsaW5nO1xuICAgICAgICBpZiAodGhpcy4kJG5leHRTaWJsaW5nKSB0aGlzLiQkbmV4dFNpYmxpbmcuJCRwcmV2U2libGluZyA9IHRoaXMuJCRwcmV2U2libGluZztcblxuICAgICAgICAvLyBEaXNhYmxlIGxpc3RlbmVycywgd2F0Y2hlcnMgYW5kIGFwcGx5L2RpZ2VzdCBtZXRob2RzXG4gICAgICAgIHRoaXMuJGRlc3Ryb3kgPSB0aGlzLiRkaWdlc3QgPSB0aGlzLiRhcHBseSA9IHRoaXMuJGV2YWxBc3luYyA9IHRoaXMuJGFwcGx5QXN5bmMgPSBub29wO1xuICAgICAgICB0aGlzLiRvbiA9IHRoaXMuJHdhdGNoID0gdGhpcy4kd2F0Y2hHcm91cCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gbm9vcDsgfTtcbiAgICAgICAgdGhpcy4kJGxpc3RlbmVycyA9IHt9O1xuXG4gICAgICAgIC8vIEFsbCBvZiB0aGUgY29kZSBiZWxvdyBpcyBib2d1cyBjb2RlIHRoYXQgd29ya3MgYXJvdW5kIFY4J3MgbWVtb3J5IGxlYWsgdmlhIG9wdGltaXplZCBjb2RlXG4gICAgICAgIC8vIGFuZCBpbmxpbmUgY2FjaGVzLlxuICAgICAgICAvL1xuICAgICAgICAvLyBzZWU6XG4gICAgICAgIC8vIC0gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIwNzMjYzI2XG4gICAgICAgIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvNjc5NCNpc3N1ZWNvbW1lbnQtMzg2NDg5MDlcbiAgICAgICAgLy8gLSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xMzEzI2lzc3VlY29tbWVudC0xMDM3ODQ1MVxuXG4gICAgICAgIHRoaXMuJHBhcmVudCA9IHRoaXMuJCRuZXh0U2libGluZyA9IHRoaXMuJCRwcmV2U2libGluZyA9IHRoaXMuJCRjaGlsZEhlYWQgPVxuICAgICAgICAgICAgdGhpcy4kJGNoaWxkVGFpbCA9IHRoaXMuJHJvb3QgPSB0aGlzLiQkd2F0Y2hlcnMgPSBudWxsO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRldmFsXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogRXhlY3V0ZXMgdGhlIGBleHByZXNzaW9uYCBvbiB0aGUgY3VycmVudCBzY29wZSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LiBBbnkgZXhjZXB0aW9ucyBpblxuICAgICAgICogdGhlIGV4cHJlc3Npb24gYXJlIHByb3BhZ2F0ZWQgKHVuY2F1Z2h0KS4gVGhpcyBpcyB1c2VmdWwgd2hlbiBldmFsdWF0aW5nIEFuZ3VsYXJcbiAgICAgICAqIGV4cHJlc3Npb25zLlxuICAgICAgICpcbiAgICAgICAqICMgRXhhbXBsZVxuICAgICAgICogYGBganNcbiAgICAgICAgICAgdmFyIHNjb3BlID0gbmcuJHJvb3RTY29wZS5TY29wZSgpO1xuICAgICAgICAgICBzY29wZS5hID0gMTtcbiAgICAgICAgICAgc2NvcGUuYiA9IDI7XG5cbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLiRldmFsKCdhK2InKSkudG9FcXVhbCgzKTtcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLiRldmFsKGZ1bmN0aW9uKHNjb3BlKXsgcmV0dXJuIHNjb3BlLmEgKyBzY29wZS5iOyB9KSkudG9FcXVhbCgzKTtcbiAgICAgICAqIGBgYFxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbigpKT19IGV4cHJlc3Npb24gQW4gYW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkLlxuICAgICAgICpcbiAgICAgICAqICAgIC0gYHN0cmluZ2A6IGV4ZWN1dGUgdXNpbmcgdGhlIHJ1bGVzIGFzIGRlZmluZWQgaW4gIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LlxuICAgICAgICogICAgLSBgZnVuY3Rpb24oc2NvcGUpYDogZXhlY3V0ZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgY3VycmVudCBgc2NvcGVgIHBhcmFtZXRlci5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0geyhvYmplY3QpPX0gbG9jYWxzIExvY2FsIHZhcmlhYmxlcyBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW4gc2NvcGUuXG4gICAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdCBvZiBldmFsdWF0aW5nIHRoZSBleHByZXNzaW9uLlxuICAgICAgICovXG4gICAgICAkZXZhbDogZnVuY3Rpb24oZXhwciwgbG9jYWxzKSB7XG4gICAgICAgIHJldHVybiAkcGFyc2UoZXhwcikodGhpcywgbG9jYWxzKTtcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZXZhbEFzeW5jXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogRXhlY3V0ZXMgdGhlIGV4cHJlc3Npb24gb24gdGhlIGN1cnJlbnQgc2NvcGUgYXQgYSBsYXRlciBwb2ludCBpbiB0aW1lLlxuICAgICAgICpcbiAgICAgICAqIFRoZSBgJGV2YWxBc3luY2AgbWFrZXMgbm8gZ3VhcmFudGVlcyBhcyB0byB3aGVuIHRoZSBgZXhwcmVzc2lvbmAgd2lsbCBiZSBleGVjdXRlZCwgb25seVxuICAgICAgICogdGhhdDpcbiAgICAgICAqXG4gICAgICAgKiAgIC0gaXQgd2lsbCBleGVjdXRlIGFmdGVyIHRoZSBmdW5jdGlvbiB0aGF0IHNjaGVkdWxlZCB0aGUgZXZhbHVhdGlvbiAocHJlZmVyYWJseSBiZWZvcmUgRE9NXG4gICAgICAgKiAgICAgcmVuZGVyaW5nKS5cbiAgICAgICAqICAgLSBhdCBsZWFzdCBvbmUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0IGN5Y2xlfSB3aWxsIGJlIHBlcmZvcm1lZCBhZnRlclxuICAgICAgICogICAgIGBleHByZXNzaW9uYCBleGVjdXRpb24uXG4gICAgICAgKlxuICAgICAgICogQW55IGV4Y2VwdGlvbnMgZnJvbSB0aGUgZXhlY3V0aW9uIG9mIHRoZSBleHByZXNzaW9uIGFyZSBmb3J3YXJkZWQgdG8gdGhlXG4gICAgICAgKiB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXG4gICAgICAgKlxuICAgICAgICogX19Ob3RlOl9fIGlmIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG91dHNpZGUgb2YgYSBgJGRpZ2VzdGAgY3ljbGUsIGEgbmV3IGAkZGlnZXN0YCBjeWNsZVxuICAgICAgICogd2lsbCBiZSBzY2hlZHVsZWQuIEhvd2V2ZXIsIGl0IGlzIGVuY291cmFnZWQgdG8gYWx3YXlzIGNhbGwgY29kZSB0aGF0IGNoYW5nZXMgdGhlIG1vZGVsXG4gICAgICAgKiBmcm9tIHdpdGhpbiBhbiBgJGFwcGx5YCBjYWxsLiBUaGF0IGluY2x1ZGVzIGNvZGUgZXZhbHVhdGVkIHZpYSBgJGV2YWxBc3luY2AuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsoc3RyaW5nfGZ1bmN0aW9uKCkpPX0gZXhwcmVzc2lvbiBBbiBhbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQuXG4gICAgICAgKlxuICAgICAgICogICAgLSBgc3RyaW5nYDogZXhlY3V0ZSB1c2luZyB0aGUgcnVsZXMgYXMgZGVmaW5lZCBpbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS5cbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsob2JqZWN0KT19IGxvY2FscyBMb2NhbCB2YXJpYWJsZXMgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluIHNjb3BlLlxuICAgICAgICovXG4gICAgICAkZXZhbEFzeW5jOiBmdW5jdGlvbihleHByLCBsb2NhbHMpIHtcbiAgICAgICAgLy8gaWYgd2UgYXJlIG91dHNpZGUgb2YgYW4gJGRpZ2VzdCBsb29wIGFuZCB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHdlIGFyZSBzY2hlZHVsaW5nIGFzeW5jXG4gICAgICAgIC8vIHRhc2sgYWxzbyBzY2hlZHVsZSBhc3luYyBhdXRvLWZsdXNoXG4gICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlICYmICFhc3luY1F1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGFzeW5jUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgYXN5bmNRdWV1ZS5wdXNoKHtzY29wZTogdGhpcywgZXhwcmVzc2lvbjogZXhwciwgbG9jYWxzOiBsb2NhbHN9KTtcbiAgICAgIH0sXG5cbiAgICAgICQkcG9zdERpZ2VzdDogZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgcG9zdERpZ2VzdFF1ZXVlLnB1c2goZm4pO1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRhcHBseVxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIGAkYXBwbHkoKWAgaXMgdXNlZCB0byBleGVjdXRlIGFuIGV4cHJlc3Npb24gaW4gYW5ndWxhciBmcm9tIG91dHNpZGUgb2YgdGhlIGFuZ3VsYXJcbiAgICAgICAqIGZyYW1ld29yay4gKEZvciBleGFtcGxlIGZyb20gYnJvd3NlciBET00gZXZlbnRzLCBzZXRUaW1lb3V0LCBYSFIgb3IgdGhpcmQgcGFydHkgbGlicmFyaWVzKS5cbiAgICAgICAqIEJlY2F1c2Ugd2UgYXJlIGNhbGxpbmcgaW50byB0aGUgYW5ndWxhciBmcmFtZXdvcmsgd2UgbmVlZCB0byBwZXJmb3JtIHByb3BlciBzY29wZSBsaWZlXG4gICAgICAgKiBjeWNsZSBvZiB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgZXhjZXB0aW9uIGhhbmRsaW5nfSxcbiAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgZXhlY3V0aW5nIHdhdGNoZXN9LlxuICAgICAgICpcbiAgICAgICAqICMjIExpZmUgY3ljbGVcbiAgICAgICAqXG4gICAgICAgKiAjIFBzZXVkby1Db2RlIG9mIGAkYXBwbHkoKWBcbiAgICAgICAqIGBgYGpzXG4gICAgICAgICAgIGZ1bmN0aW9uICRhcHBseShleHByKSB7XG4gICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgIHJldHVybiAkZXZhbChleHByKTtcbiAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgJHJvb3QuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgfVxuICAgICAgICogYGBgXG4gICAgICAgKlxuICAgICAgICpcbiAgICAgICAqIFNjb3BlJ3MgYCRhcHBseSgpYCBtZXRob2QgdHJhbnNpdGlvbnMgdGhyb3VnaCB0aGUgZm9sbG93aW5nIHN0YWdlczpcbiAgICAgICAqXG4gICAgICAgKiAxLiBUaGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgZXhlY3V0ZWQgdXNpbmcgdGhlXG4gICAgICAgKiAgICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZXZhbCAkZXZhbCgpfSBtZXRob2QuXG4gICAgICAgKiAyLiBBbnkgZXhjZXB0aW9ucyBmcm9tIHRoZSBleGVjdXRpb24gb2YgdGhlIGV4cHJlc3Npb24gYXJlIGZvcndhcmRlZCB0byB0aGVcbiAgICAgICAqICAgIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciAkZXhjZXB0aW9uSGFuZGxlcn0gc2VydmljZS5cbiAgICAgICAqIDMuIFRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2h9IGxpc3RlbmVycyBhcmUgZmlyZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlXG4gICAgICAgKiAgICBleHByZXNzaW9uIHdhcyBleGVjdXRlZCB1c2luZyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0KCl9IG1ldGhvZC5cbiAgICAgICAqXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsoc3RyaW5nfGZ1bmN0aW9uKCkpPX0gZXhwIEFuIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZC5cbiAgICAgICAqXG4gICAgICAgKiAgICAtIGBzdHJpbmdgOiBleGVjdXRlIHVzaW5nIHRoZSBydWxlcyBhcyBkZWZpbmVkIGluIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LlxuICAgICAgICogICAgLSBgZnVuY3Rpb24oc2NvcGUpYDogZXhlY3V0ZSB0aGUgZnVuY3Rpb24gd2l0aCBjdXJyZW50IGBzY29wZWAgcGFyYW1ldGVyLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0IG9mIGV2YWx1YXRpbmcgdGhlIGV4cHJlc3Npb24uXG4gICAgICAgKi9cbiAgICAgICRhcHBseTogZnVuY3Rpb24oZXhwcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGJlZ2luUGhhc2UoJyRhcHBseScpO1xuICAgICAgICAgIHJldHVybiB0aGlzLiRldmFsKGV4cHIpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgY2xlYXJQaGFzZSgpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGFwcGx5QXN5bmNcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBTY2hlZHVsZSB0aGUgaW52b2NhdGlvbiBvZiAkYXBwbHkgdG8gb2NjdXIgYXQgYSBsYXRlciB0aW1lLiBUaGUgYWN0dWFsIHRpbWUgZGlmZmVyZW5jZVxuICAgICAgICogdmFyaWVzIGFjcm9zcyBicm93c2VycywgYnV0IGlzIHR5cGljYWxseSBhcm91bmQgfjEwIG1pbGxpc2Vjb25kcy5cbiAgICAgICAqXG4gICAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIHF1ZXVlIHVwIG11bHRpcGxlIGV4cHJlc3Npb25zIHdoaWNoIG5lZWQgdG8gYmUgZXZhbHVhdGVkIGluIHRoZSBzYW1lXG4gICAgICAgKiBkaWdlc3QuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHsoc3RyaW5nfGZ1bmN0aW9uKCkpPX0gZXhwIEFuIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZC5cbiAgICAgICAqXG4gICAgICAgKiAgICAtIGBzdHJpbmdgOiBleGVjdXRlIHVzaW5nIHRoZSBydWxlcyBhcyBkZWZpbmVkIGluIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LlxuICAgICAgICogICAgLSBgZnVuY3Rpb24oc2NvcGUpYDogZXhlY3V0ZSB0aGUgZnVuY3Rpb24gd2l0aCBjdXJyZW50IGBzY29wZWAgcGFyYW1ldGVyLlxuICAgICAgICovXG4gICAgICAkYXBwbHlBc3luYzogZnVuY3Rpb24oZXhwcikge1xuICAgICAgICB2YXIgc2NvcGUgPSB0aGlzO1xuICAgICAgICBleHByICYmIGFwcGx5QXN5bmNRdWV1ZS5wdXNoKCRhcHBseUFzeW5jRXhwcmVzc2lvbik7XG4gICAgICAgIHNjaGVkdWxlQXBwbHlBc3luYygpO1xuXG4gICAgICAgIGZ1bmN0aW9uICRhcHBseUFzeW5jRXhwcmVzc2lvbigpIHtcbiAgICAgICAgICBzY29wZS4kZXZhbChleHByKTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRvblxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIExpc3RlbnMgb24gZXZlbnRzIG9mIGEgZ2l2ZW4gdHlwZS4gU2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRlbWl0ICRlbWl0fSBmb3JcbiAgICAgICAqIGRpc2N1c3Npb24gb2YgZXZlbnQgbGlmZSBjeWNsZS5cbiAgICAgICAqXG4gICAgICAgKiBUaGUgZXZlbnQgbGlzdGVuZXIgZnVuY3Rpb24gZm9ybWF0IGlzOiBgZnVuY3Rpb24oZXZlbnQsIGFyZ3MuLi4pYC4gVGhlIGBldmVudGAgb2JqZWN0XG4gICAgICAgKiBwYXNzZWQgaW50byB0aGUgbGlzdGVuZXIgaGFzIHRoZSBmb2xsb3dpbmcgYXR0cmlidXRlczpcbiAgICAgICAqXG4gICAgICAgKiAgIC0gYHRhcmdldFNjb3BlYCAtIGB7U2NvcGV9YDogdGhlIHNjb3BlIG9uIHdoaWNoIHRoZSBldmVudCB3YXMgYCRlbWl0YC1lZCBvclxuICAgICAgICogICAgIGAkYnJvYWRjYXN0YC1lZC5cbiAgICAgICAqICAgLSBgY3VycmVudFNjb3BlYCAtIGB7U2NvcGV9YDogdGhlIHNjb3BlIHRoYXQgaXMgY3VycmVudGx5IGhhbmRsaW5nIHRoZSBldmVudC4gT25jZSB0aGVcbiAgICAgICAqICAgICBldmVudCBwcm9wYWdhdGVzIHRocm91Z2ggdGhlIHNjb3BlIGhpZXJhcmNoeSwgdGhpcyBwcm9wZXJ0eSBpcyBzZXQgdG8gbnVsbC5cbiAgICAgICAqICAgLSBgbmFtZWAgLSBge3N0cmluZ31gOiBuYW1lIG9mIHRoZSBldmVudC5cbiAgICAgICAqICAgLSBgc3RvcFByb3BhZ2F0aW9uYCAtIGB7ZnVuY3Rpb249fWA6IGNhbGxpbmcgYHN0b3BQcm9wYWdhdGlvbmAgZnVuY3Rpb24gd2lsbCBjYW5jZWxcbiAgICAgICAqICAgICBmdXJ0aGVyIGV2ZW50IHByb3BhZ2F0aW9uIChhdmFpbGFibGUgb25seSBmb3IgZXZlbnRzIHRoYXQgd2VyZSBgJGVtaXRgLWVkKS5cbiAgICAgICAqICAgLSBgcHJldmVudERlZmF1bHRgIC0gYHtmdW5jdGlvbn1gOiBjYWxsaW5nIGBwcmV2ZW50RGVmYXVsdGAgc2V0cyBgZGVmYXVsdFByZXZlbnRlZGAgZmxhZ1xuICAgICAgICogICAgIHRvIHRydWUuXG4gICAgICAgKiAgIC0gYGRlZmF1bHRQcmV2ZW50ZWRgIC0gYHtib29sZWFufWA6IHRydWUgaWYgYHByZXZlbnREZWZhdWx0YCB3YXMgY2FsbGVkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEV2ZW50IG5hbWUgdG8gbGlzdGVuIG9uLlxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbihldmVudCwgLi4uYXJncyl9IGxpc3RlbmVyIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGUgZXZlbnQgaXMgZW1pdHRlZC5cbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGVyZWdpc3RyYXRpb24gZnVuY3Rpb24gZm9yIHRoaXMgbGlzdGVuZXIuXG4gICAgICAgKi9cbiAgICAgICRvbjogZnVuY3Rpb24obmFtZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIG5hbWVkTGlzdGVuZXJzID0gdGhpcy4kJGxpc3RlbmVyc1tuYW1lXTtcbiAgICAgICAgaWYgKCFuYW1lZExpc3RlbmVycykge1xuICAgICAgICAgIHRoaXMuJCRsaXN0ZW5lcnNbbmFtZV0gPSBuYW1lZExpc3RlbmVycyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIG5hbWVkTGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcztcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGlmICghY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0pIHtcbiAgICAgICAgICAgIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0rKztcbiAgICAgICAgfSB3aGlsZSAoKGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQpKTtcblxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgaW5kZXhPZkxpc3RlbmVyID0gbmFtZWRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICAgICAgaWYgKGluZGV4T2ZMaXN0ZW5lciAhPT0gLTEpIHtcbiAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzW2luZGV4T2ZMaXN0ZW5lcl0gPSBudWxsO1xuICAgICAgICAgICAgZGVjcmVtZW50TGlzdGVuZXJDb3VudChzZWxmLCAxLCBuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9LFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZW1pdFxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgYG5hbWVgIHVwd2FyZHMgdGhyb3VnaCB0aGUgc2NvcGUgaGllcmFyY2h5IG5vdGlmeWluZyB0aGVcbiAgICAgICAqIHJlZ2lzdGVyZWQge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufSBsaXN0ZW5lcnMuXG4gICAgICAgKlxuICAgICAgICogVGhlIGV2ZW50IGxpZmUgY3ljbGUgc3RhcnRzIGF0IHRoZSBzY29wZSBvbiB3aGljaCBgJGVtaXRgIHdhcyBjYWxsZWQuIEFsbFxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9uIGxpc3RlbmVyc30gbGlzdGVuaW5nIGZvciBgbmFtZWAgZXZlbnQgb24gdGhpcyBzY29wZSBnZXRcbiAgICAgICAqIG5vdGlmaWVkLiBBZnRlcndhcmRzLCB0aGUgZXZlbnQgdHJhdmVyc2VzIHVwd2FyZHMgdG93YXJkIHRoZSByb290IHNjb3BlIGFuZCBjYWxscyBhbGxcbiAgICAgICAqIHJlZ2lzdGVyZWQgbGlzdGVuZXJzIGFsb25nIHRoZSB3YXkuIFRoZSBldmVudCB3aWxsIHN0b3AgcHJvcGFnYXRpbmcgaWYgb25lIG9mIHRoZSBsaXN0ZW5lcnNcbiAgICAgICAqIGNhbmNlbHMgaXQuXG4gICAgICAgKlxuICAgICAgICogQW55IGV4Y2VwdGlvbiBlbWl0dGVkIGZyb20gdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbiBsaXN0ZW5lcnN9IHdpbGwgYmUgcGFzc2VkXG4gICAgICAgKiBvbnRvIHRoZSB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRXZlbnQgbmFtZSB0byBlbWl0LlxuICAgICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIE9wdGlvbmFsIG9uZSBvciBtb3JlIGFyZ3VtZW50cyB3aGljaCB3aWxsIGJlIHBhc3NlZCBvbnRvIHRoZSBldmVudCBsaXN0ZW5lcnMuXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEV2ZW50IG9iamVjdCAoc2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn0pLlxuICAgICAgICovXG4gICAgICAkZW1pdDogZnVuY3Rpb24obmFtZSwgYXJncykge1xuICAgICAgICB2YXIgZW1wdHkgPSBbXSxcbiAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzLFxuICAgICAgICAgICAgc2NvcGUgPSB0aGlzLFxuICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uID0gZmFsc2UsXG4gICAgICAgICAgICBldmVudCA9IHtcbiAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgdGFyZ2V0U2NvcGU6IHNjb3BlLFxuICAgICAgICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge3N0b3BQcm9wYWdhdGlvbiA9IHRydWU7fSxcbiAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBkZWZhdWx0UHJldmVudGVkOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxpc3RlbmVyQXJncyA9IGNvbmNhdChbZXZlbnRdLCBhcmd1bWVudHMsIDEpLFxuICAgICAgICAgICAgaSwgbGVuZ3RoO1xuXG4gICAgICAgIGRvIHtcbiAgICAgICAgICBuYW1lZExpc3RlbmVycyA9IHNjb3BlLiQkbGlzdGVuZXJzW25hbWVdIHx8IGVtcHR5O1xuICAgICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IHNjb3BlO1xuICAgICAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IG5hbWVkTGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgIC8vIGlmIGxpc3RlbmVycyB3ZXJlIGRlcmVnaXN0ZXJlZCwgZGVmcmFnbWVudCB0aGUgYXJyYXlcbiAgICAgICAgICAgIGlmICghbmFtZWRMaXN0ZW5lcnNbaV0pIHtcbiAgICAgICAgICAgICAgbmFtZWRMaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgIGxlbmd0aC0tO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vYWxsb3cgYWxsIGxpc3RlbmVycyBhdHRhY2hlZCB0byB0aGUgY3VycmVudCBzY29wZSB0byBydW5cbiAgICAgICAgICAgICAgbmFtZWRMaXN0ZW5lcnNbaV0uYXBwbHkobnVsbCwgbGlzdGVuZXJBcmdzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vaWYgYW55IGxpc3RlbmVyIG9uIHRoZSBjdXJyZW50IHNjb3BlIHN0b3BzIHByb3BhZ2F0aW9uLCBwcmV2ZW50IGJ1YmJsaW5nXG4gICAgICAgICAgaWYgKHN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgZXZlbnQuY3VycmVudFNjb3BlID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBldmVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy90cmF2ZXJzZSB1cHdhcmRzXG4gICAgICAgICAgc2NvcGUgPSBzY29wZS4kcGFyZW50O1xuICAgICAgICB9IHdoaWxlIChzY29wZSk7XG5cbiAgICAgICAgZXZlbnQuY3VycmVudFNjb3BlID0gbnVsbDtcblxuICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICB9LFxuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkYnJvYWRjYXN0XG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogRGlzcGF0Y2hlcyBhbiBldmVudCBgbmFtZWAgZG93bndhcmRzIHRvIGFsbCBjaGlsZCBzY29wZXMgKGFuZCB0aGVpciBjaGlsZHJlbikgbm90aWZ5aW5nIHRoZVxuICAgICAgICogcmVnaXN0ZXJlZCB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb259IGxpc3RlbmVycy5cbiAgICAgICAqXG4gICAgICAgKiBUaGUgZXZlbnQgbGlmZSBjeWNsZSBzdGFydHMgYXQgdGhlIHNjb3BlIG9uIHdoaWNoIGAkYnJvYWRjYXN0YCB3YXMgY2FsbGVkLiBBbGxcbiAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbiBsaXN0ZW5lcnN9IGxpc3RlbmluZyBmb3IgYG5hbWVgIGV2ZW50IG9uIHRoaXMgc2NvcGUgZ2V0XG4gICAgICAgKiBub3RpZmllZC4gQWZ0ZXJ3YXJkcywgdGhlIGV2ZW50IHByb3BhZ2F0ZXMgdG8gYWxsIGRpcmVjdCBhbmQgaW5kaXJlY3Qgc2NvcGVzIG9mIHRoZSBjdXJyZW50XG4gICAgICAgKiBzY29wZSBhbmQgY2FsbHMgYWxsIHJlZ2lzdGVyZWQgbGlzdGVuZXJzIGFsb25nIHRoZSB3YXkuIFRoZSBldmVudCBjYW5ub3QgYmUgY2FuY2VsZWQuXG4gICAgICAgKlxuICAgICAgICogQW55IGV4Y2VwdGlvbiBlbWl0dGVkIGZyb20gdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbiBsaXN0ZW5lcnN9IHdpbGwgYmUgcGFzc2VkXG4gICAgICAgKiBvbnRvIHRoZSB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRXZlbnQgbmFtZSB0byBicm9hZGNhc3QuXG4gICAgICAgKiBAcGFyYW0gey4uLip9IGFyZ3MgT3B0aW9uYWwgb25lIG9yIG1vcmUgYXJndW1lbnRzIHdoaWNoIHdpbGwgYmUgcGFzc2VkIG9udG8gdGhlIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgICAqIEByZXR1cm4ge09iamVjdH0gRXZlbnQgb2JqZWN0LCBzZWUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufVxuICAgICAgICovXG4gICAgICAkYnJvYWRjYXN0OiBmdW5jdGlvbihuYW1lLCBhcmdzKSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLFxuICAgICAgICAgICAgY3VycmVudCA9IHRhcmdldCxcbiAgICAgICAgICAgIG5leHQgPSB0YXJnZXQsXG4gICAgICAgICAgICBldmVudCA9IHtcbiAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgdGFyZ2V0U2NvcGU6IHRhcmdldCxcbiAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBkZWZhdWx0UHJldmVudGVkOiBmYWxzZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICBpZiAoIXRhcmdldC4kJGxpc3RlbmVyQ291bnRbbmFtZV0pIHJldHVybiBldmVudDtcblxuICAgICAgICB2YXIgbGlzdGVuZXJBcmdzID0gY29uY2F0KFtldmVudF0sIGFyZ3VtZW50cywgMSksXG4gICAgICAgICAgICBsaXN0ZW5lcnMsIGksIGxlbmd0aDtcblxuICAgICAgICAvL2Rvd24gd2hpbGUgeW91IGNhbiwgdGhlbiB1cCBhbmQgbmV4dCBzaWJsaW5nIG9yIHVwIGFuZCBuZXh0IHNpYmxpbmcgdW50aWwgYmFjayBhdCByb290XG4gICAgICAgIHdoaWxlICgoY3VycmVudCA9IG5leHQpKSB7XG4gICAgICAgICAgZXZlbnQuY3VycmVudFNjb3BlID0gY3VycmVudDtcbiAgICAgICAgICBsaXN0ZW5lcnMgPSBjdXJyZW50LiQkbGlzdGVuZXJzW25hbWVdIHx8IFtdO1xuICAgICAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgLy8gaWYgbGlzdGVuZXJzIHdlcmUgZGVyZWdpc3RlcmVkLCBkZWZyYWdtZW50IHRoZSBhcnJheVxuICAgICAgICAgICAgaWYgKCFsaXN0ZW5lcnNbaV0pIHtcbiAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICBsZW5ndGgtLTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGxpc3RlbmVyc1tpXS5hcHBseShudWxsLCBsaXN0ZW5lckFyZ3MpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBJbnNhbml0eSBXYXJuaW5nOiBzY29wZSBkZXB0aC1maXJzdCB0cmF2ZXJzYWxcbiAgICAgICAgICAvLyB5ZXMsIHRoaXMgY29kZSBpcyBhIGJpdCBjcmF6eSwgYnV0IGl0IHdvcmtzIGFuZCB3ZSBoYXZlIHRlc3RzIHRvIHByb3ZlIGl0IVxuICAgICAgICAgIC8vIHRoaXMgcGllY2Ugc2hvdWxkIGJlIGtlcHQgaW4gc3luYyB3aXRoIHRoZSB0cmF2ZXJzYWwgaW4gJGRpZ2VzdFxuICAgICAgICAgIC8vICh0aG91Z2ggaXQgZGlmZmVycyBkdWUgdG8gaGF2aW5nIHRoZSBleHRyYSBjaGVjayBmb3IgJCRsaXN0ZW5lckNvdW50KVxuICAgICAgICAgIGlmICghKG5leHQgPSAoKGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdICYmIGN1cnJlbnQuJCRjaGlsZEhlYWQpIHx8XG4gICAgICAgICAgICAgIChjdXJyZW50ICE9PSB0YXJnZXQgJiYgY3VycmVudC4kJG5leHRTaWJsaW5nKSkpKSB7XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCAhPT0gdGFyZ2V0ICYmICEobmV4dCA9IGN1cnJlbnQuJCRuZXh0U2libGluZykpIHtcbiAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuJHBhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBldmVudC5jdXJyZW50U2NvcGUgPSBudWxsO1xuICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciAkcm9vdFNjb3BlID0gbmV3IFNjb3BlKCk7XG5cbiAgICAvL1RoZSBpbnRlcm5hbCBxdWV1ZXMuIEV4cG9zZSB0aGVtIG9uIHRoZSAkcm9vdFNjb3BlIGZvciBkZWJ1Z2dpbmcvdGVzdGluZyBwdXJwb3Nlcy5cbiAgICB2YXIgYXN5bmNRdWV1ZSA9ICRyb290U2NvcGUuJCRhc3luY1F1ZXVlID0gW107XG4gICAgdmFyIHBvc3REaWdlc3RRdWV1ZSA9ICRyb290U2NvcGUuJCRwb3N0RGlnZXN0UXVldWUgPSBbXTtcbiAgICB2YXIgYXBwbHlBc3luY1F1ZXVlID0gJHJvb3RTY29wZS4kJGFwcGx5QXN5bmNRdWV1ZSA9IFtdO1xuXG4gICAgcmV0dXJuICRyb290U2NvcGU7XG5cblxuICAgIGZ1bmN0aW9uIGJlZ2luUGhhc2UocGhhc2UpIHtcbiAgICAgIGlmICgkcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgICAgdGhyb3cgJHJvb3RTY29wZU1pbkVycignaW5wcm9nJywgJ3swfSBhbHJlYWR5IGluIHByb2dyZXNzJywgJHJvb3RTY29wZS4kJHBoYXNlKTtcbiAgICAgIH1cblxuICAgICAgJHJvb3RTY29wZS4kJHBoYXNlID0gcGhhc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJQaGFzZSgpIHtcbiAgICAgICRyb290U2NvcGUuJCRwaGFzZSA9IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5jcmVtZW50V2F0Y2hlcnNDb3VudChjdXJyZW50LCBjb3VudCkge1xuICAgICAgZG8ge1xuICAgICAgICBjdXJyZW50LiQkd2F0Y2hlcnNDb3VudCArPSBjb3VudDtcbiAgICAgIH0gd2hpbGUgKChjdXJyZW50ID0gY3VycmVudC4kcGFyZW50KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVjcmVtZW50TGlzdGVuZXJDb3VudChjdXJyZW50LCBjb3VudCwgbmFtZSkge1xuICAgICAgZG8ge1xuICAgICAgICBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSAtPSBjb3VudDtcblxuICAgICAgICBpZiAoY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0gPT09IDApIHtcbiAgICAgICAgICBkZWxldGUgY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKChjdXJyZW50ID0gY3VycmVudC4kcGFyZW50KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZnVuY3Rpb24gdXNlZCBhcyBhbiBpbml0aWFsIHZhbHVlIGZvciB3YXRjaGVycy5cbiAgICAgKiBiZWNhdXNlIGl0J3MgdW5pcXVlIHdlIGNhbiBlYXNpbHkgdGVsbCBpdCBhcGFydCBmcm9tIG90aGVyIHZhbHVlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRXYXRjaFZhbCgpIHt9XG5cbiAgICBmdW5jdGlvbiBmbHVzaEFwcGx5QXN5bmMoKSB7XG4gICAgICB3aGlsZSAoYXBwbHlBc3luY1F1ZXVlLmxlbmd0aCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGFwcGx5QXN5bmNRdWV1ZS5zaGlmdCgpKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXBwbHlBc3luY0lkID0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzY2hlZHVsZUFwcGx5QXN5bmMoKSB7XG4gICAgICBpZiAoYXBwbHlBc3luY0lkID09PSBudWxsKSB7XG4gICAgICAgIGFwcGx5QXN5bmNJZCA9ICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KGZsdXNoQXBwbHlBc3luYyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfV07XG59XG5cbi8qKlxuICogQGRlc2NyaXB0aW9uXG4gKiBQcml2YXRlIHNlcnZpY2UgdG8gc2FuaXRpemUgdXJpcyBmb3IgbGlua3MgYW5kIGltYWdlcy4gVXNlZCBieSAkY29tcGlsZSBhbmQgJHNhbml0aXplLlxuICovXG5mdW5jdGlvbiAkJFNhbml0aXplVXJpUHJvdmlkZXIoKSB7XG4gIHZhciBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCA9IC9eXFxzKihodHRwcz98ZnRwfG1haWx0b3x0ZWx8ZmlsZSk6LyxcbiAgICBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSAvXlxccyooKGh0dHBzP3xmdHB8ZmlsZXxibG9iKTp8ZGF0YTppbWFnZVxcLykvO1xuXG4gIC8qKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmV0cmlldmVzIG9yIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIGZvciB3aGl0ZWxpc3Rpbmcgb2Ygc2FmZVxuICAgKiB1cmxzIGR1cmluZyBhW2hyZWZdIHNhbml0aXphdGlvbi5cbiAgICpcbiAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudCBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cbiAgICpcbiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBhW2hyZWZdIHZpYSBkYXRhLWJpbmRpbmcgaXMgZmlyc3Qgbm9ybWFsaXplZCBhbmQgdHVybmVkIGludG9cbiAgICogYW4gYWJzb2x1dGUgdXJsLiBBZnRlcndhcmRzLCB0aGUgdXJsIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgYGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0YFxuICAgKiByZWd1bGFyIGV4cHJlc3Npb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIHRoZSBvcmlnaW5hbCB1cmwgaXMgd3JpdHRlbiBpbnRvIHRoZSBkb20uIE90aGVyd2lzZSxcbiAgICogdGhlIGFic29sdXRlIHVybCBpcyBwcmVmaXhlZCB3aXRoIGAndW5zYWZlOidgIHN0cmluZyBhbmQgb25seSB0aGVuIGlzIGl0IHdyaXR0ZW4gaW50byB0aGUgRE9NLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlZ0V4cD19IHJlZ2V4cCBOZXcgcmVnZXhwIHRvIHdoaXRlbGlzdCB1cmxzIHdpdGguXG4gICAqIEByZXR1cm5zIHtSZWdFeHB8bmcuJGNvbXBpbGVQcm92aWRlcn0gQ3VycmVudCBSZWdFeHAgaWYgY2FsbGVkIHdpdGhvdXQgdmFsdWUgb3Igc2VsZiBmb3JcbiAgICogICAgY2hhaW5pbmcgb3RoZXJ3aXNlLlxuICAgKi9cbiAgdGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xuICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xuICAgICAgYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSByZWdleHA7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0O1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZXRyaWV2ZXMgb3Igb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIHVzZWQgZm9yIHdoaXRlbGlzdGluZyBvZiBzYWZlXG4gICAqIHVybHMgZHVyaW5nIGltZ1tzcmNdIHNhbml0aXphdGlvbi5cbiAgICpcbiAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudCBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cbiAgICpcbiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBpbWdbc3JjXSB2aWEgZGF0YS1iaW5kaW5nIGlzIGZpcnN0IG5vcm1hbGl6ZWQgYW5kIHR1cm5lZCBpbnRvXG4gICAqIGFuIGFic29sdXRlIHVybC4gQWZ0ZXJ3YXJkcywgdGhlIHVybCBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3RgXG4gICAqIHJlZ3VsYXIgZXhwcmVzc2lvbi4gSWYgYSBtYXRjaCBpcyBmb3VuZCwgdGhlIG9yaWdpbmFsIHVybCBpcyB3cml0dGVuIGludG8gdGhlIGRvbS4gT3RoZXJ3aXNlLFxuICAgKiB0aGUgYWJzb2x1dGUgdXJsIGlzIHByZWZpeGVkIHdpdGggYCd1bnNhZmU6J2Agc3RyaW5nIGFuZCBvbmx5IHRoZW4gaXMgaXQgd3JpdHRlbiBpbnRvIHRoZSBET00uXG4gICAqXG4gICAqIEBwYXJhbSB7UmVnRXhwPX0gcmVnZXhwIE5ldyByZWdleHAgdG8gd2hpdGVsaXN0IHVybHMgd2l0aC5cbiAgICogQHJldHVybnMge1JlZ0V4cHxuZy4kY29tcGlsZVByb3ZpZGVyfSBDdXJyZW50IFJlZ0V4cCBpZiBjYWxsZWQgd2l0aG91dCB2YWx1ZSBvciBzZWxmIGZvclxuICAgKiAgICBjaGFpbmluZyBvdGhlcndpc2UuXG4gICAqL1xuICB0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xuICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xuICAgICAgaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gcmVnZXhwO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3Q7XG4gIH07XG5cbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHNhbml0aXplVXJpKHVyaSwgaXNJbWFnZSkge1xuICAgICAgdmFyIHJlZ2V4ID0gaXNJbWFnZSA/IGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA6IGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0O1xuICAgICAgdmFyIG5vcm1hbGl6ZWRWYWw7XG4gICAgICBub3JtYWxpemVkVmFsID0gdXJsUmVzb2x2ZSh1cmkpLmhyZWY7XG4gICAgICBpZiAobm9ybWFsaXplZFZhbCAhPT0gJycgJiYgIW5vcm1hbGl6ZWRWYWwubWF0Y2gocmVnZXgpKSB7XG4gICAgICAgIHJldHVybiAndW5zYWZlOicgKyBub3JtYWxpemVkVmFsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVyaTtcbiAgICB9O1xuICB9O1xufVxuXG4vKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqXG4gKiAgICAgQW55IGNvbW1pdHMgdG8gdGhpcyBmaWxlIHNob3VsZCBiZSByZXZpZXdlZCB3aXRoIHNlY3VyaXR5IGluIG1pbmQuICAqXG4gKiAgIENoYW5nZXMgdG8gdGhpcyBmaWxlIGNhbiBwb3RlbnRpYWxseSBjcmVhdGUgc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLiAqXG4gKiAgICAgICAgICBBbiBhcHByb3ZhbCBmcm9tIDIgQ29yZSBtZW1iZXJzIHdpdGggaGlzdG9yeSBvZiBtb2RpZnlpbmcgICAgICAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIGZpbGUgaXMgcmVxdWlyZWQuICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKiAgRG9lcyB0aGUgY2hhbmdlIHNvbWVob3cgYWxsb3cgZm9yIGFyYml0cmFyeSBqYXZhc2NyaXB0IHRvIGJlIGV4ZWN1dGVkPyAqXG4gKiAgICBPciBhbGxvd3MgZm9yIHNvbWVvbmUgdG8gY2hhbmdlIHRoZSBwcm90b3R5cGUgb2YgYnVpbHQtaW4gb2JqZWN0cz8gICAqXG4gKiAgICAgT3IgZ2l2ZXMgdW5kZXNpcmVkIGFjY2VzcyB0byB2YXJpYWJsZXMgbGlrZXMgZG9jdW1lbnQgb3Igd2luZG93PyAgICAqXG4gKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqL1xuXG52YXIgJHNjZU1pbkVyciA9IG1pbkVycignJHNjZScpO1xuXG52YXIgU0NFX0NPTlRFWFRTID0ge1xuICBIVE1MOiAnaHRtbCcsXG4gIENTUzogJ2NzcycsXG4gIFVSTDogJ3VybCcsXG4gIC8vIFJFU09VUkNFX1VSTCBpcyBhIHN1YnR5cGUgb2YgVVJMIHVzZWQgaW4gY29udGV4dHMgd2hlcmUgYSBwcml2aWxlZ2VkIHJlc291cmNlIGlzIHNvdXJjZWQgZnJvbSBhXG4gIC8vIHVybC4gIChlLmcuIG5nLWluY2x1ZGUsIHNjcmlwdCBzcmMsIHRlbXBsYXRlVXJsKVxuICBSRVNPVVJDRV9VUkw6ICdyZXNvdXJjZVVybCcsXG4gIEpTOiAnanMnXG59O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvbGxvdy5cblxuZnVuY3Rpb24gYWRqdXN0TWF0Y2hlcihtYXRjaGVyKSB7XG4gIGlmIChtYXRjaGVyID09PSAnc2VsZicpIHtcbiAgICByZXR1cm4gbWF0Y2hlcjtcbiAgfSBlbHNlIGlmIChpc1N0cmluZyhtYXRjaGVyKSkge1xuICAgIC8vIFN0cmluZ3MgbWF0Y2ggZXhhY3RseSBleGNlcHQgZm9yIDIgd2lsZGNhcmRzIC0gJyonIGFuZCAnKionLlxuICAgIC8vICcqJyBtYXRjaGVzIGFueSBjaGFyYWN0ZXIgZXhjZXB0IHRob3NlIGZyb20gdGhlIHNldCAnOi8uPyYnLlxuICAgIC8vICcqKicgbWF0Y2hlcyBhbnkgY2hhcmFjdGVyIChsaWtlIC4qIGluIGEgUmVnRXhwKS5cbiAgICAvLyBNb3JlIHRoYW4gMiAqJ3MgcmFpc2VzIGFuIGVycm9yIGFzIGl0J3MgaWxsIGRlZmluZWQuXG4gICAgaWYgKG1hdGNoZXIuaW5kZXhPZignKioqJykgPiAtMSkge1xuICAgICAgdGhyb3cgJHNjZU1pbkVycignaXdjYXJkJyxcbiAgICAgICAgICAnSWxsZWdhbCBzZXF1ZW5jZSAqKiogaW4gc3RyaW5nIG1hdGNoZXIuICBTdHJpbmc6IHswfScsIG1hdGNoZXIpO1xuICAgIH1cbiAgICBtYXRjaGVyID0gZXNjYXBlRm9yUmVnZXhwKG1hdGNoZXIpLlxuICAgICAgICAgICAgICAgICAgcmVwbGFjZSgnXFxcXCpcXFxcKicsICcuKicpLlxuICAgICAgICAgICAgICAgICAgcmVwbGFjZSgnXFxcXConLCAnW146Ly4/JjtdKicpO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKCdeJyArIG1hdGNoZXIgKyAnJCcpO1xuICB9IGVsc2UgaWYgKGlzUmVnRXhwKG1hdGNoZXIpKSB7XG4gICAgLy8gVGhlIG9ubHkgb3RoZXIgdHlwZSBvZiBtYXRjaGVyIGFsbG93ZWQgaXMgYSBSZWdleHAuXG4gICAgLy8gTWF0Y2ggZW50aXJlIFVSTCAvIGRpc2FsbG93IHBhcnRpYWwgbWF0Y2hlcy5cbiAgICAvLyBGbGFncyBhcmUgcmVzZXQgKGkuZS4gbm8gZ2xvYmFsLCBpZ25vcmVDYXNlIG9yIG11bHRpbGluZSlcbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnXicgKyBtYXRjaGVyLnNvdXJjZSArICckJyk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgJHNjZU1pbkVycignaW1hdGNoZXInLFxuICAgICAgICAnTWF0Y2hlcnMgbWF5IG9ubHkgYmUgXCJzZWxmXCIsIHN0cmluZyBwYXR0ZXJucyBvciBSZWdFeHAgb2JqZWN0cycpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gYWRqdXN0TWF0Y2hlcnMobWF0Y2hlcnMpIHtcbiAgdmFyIGFkanVzdGVkTWF0Y2hlcnMgPSBbXTtcbiAgaWYgKGlzRGVmaW5lZChtYXRjaGVycykpIHtcbiAgICBmb3JFYWNoKG1hdGNoZXJzLCBmdW5jdGlvbihtYXRjaGVyKSB7XG4gICAgICBhZGp1c3RlZE1hdGNoZXJzLnB1c2goYWRqdXN0TWF0Y2hlcihtYXRjaGVyKSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGFkanVzdGVkTWF0Y2hlcnM7XG59XG5cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHNjZURlbGVnYXRlXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIGAkc2NlRGVsZWdhdGVgIGlzIGEgc2VydmljZSB0aGF0IGlzIHVzZWQgYnkgdGhlIGAkc2NlYCBzZXJ2aWNlIHRvIHByb3ZpZGUge0BsaW5rIG5nLiRzY2UgU3RyaWN0XG4gKiBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfSBzZXJ2aWNlcyB0byBBbmd1bGFySlMuXG4gKlxuICogVHlwaWNhbGx5LCB5b3Ugd291bGQgY29uZmlndXJlIG9yIG92ZXJyaWRlIHRoZSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlICRzY2VEZWxlZ2F0ZX0gaW5zdGVhZCBvZlxuICogdGhlIGAkc2NlYCBzZXJ2aWNlIHRvIGN1c3RvbWl6ZSB0aGUgd2F5IFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIHdvcmtzIGluIEFuZ3VsYXJKUy4gIFRoaXMgaXNcbiAqIGJlY2F1c2UsIHdoaWxlIHRoZSBgJHNjZWAgcHJvdmlkZXMgbnVtZXJvdXMgc2hvcnRoYW5kIG1ldGhvZHMsIGV0Yy4sIHlvdSByZWFsbHkgb25seSBuZWVkIHRvXG4gKiBvdmVycmlkZSAzIGNvcmUgZnVuY3Rpb25zIChgdHJ1c3RBc2AsIGBnZXRUcnVzdGVkYCBhbmQgYHZhbHVlT2ZgKSB0byByZXBsYWNlIHRoZSB3YXkgdGhpbmdzXG4gKiB3b3JrIGJlY2F1c2UgYCRzY2VgIGRlbGVnYXRlcyB0byBgJHNjZURlbGVnYXRlYCBmb3IgdGhlc2Ugb3BlcmF0aW9ucy5cbiAqXG4gKiBSZWZlciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIgJHNjZURlbGVnYXRlUHJvdmlkZXJ9IHRvIGNvbmZpZ3VyZSB0aGlzIHNlcnZpY2UuXG4gKlxuICogVGhlIGRlZmF1bHQgaW5zdGFuY2Ugb2YgYCRzY2VEZWxlZ2F0ZWAgc2hvdWxkIHdvcmsgb3V0IG9mIHRoZSBib3ggd2l0aCBsaXR0bGUgcGFpbi4gIFdoaWxlIHlvdVxuICogY2FuIG92ZXJyaWRlIGl0IGNvbXBsZXRlbHkgdG8gY2hhbmdlIHRoZSBiZWhhdmlvciBvZiBgJHNjZWAsIHRoZSBjb21tb24gY2FzZSB3b3VsZFxuICogaW52b2x2ZSBjb25maWd1cmluZyB0aGUge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyICRzY2VEZWxlZ2F0ZVByb3ZpZGVyfSBpbnN0ZWFkIGJ5IHNldHRpbmdcbiAqIHlvdXIgb3duIHdoaXRlbGlzdHMgYW5kIGJsYWNrbGlzdHMgZm9yIHRydXN0aW5nIFVSTHMgdXNlZCBmb3IgbG9hZGluZyBBbmd1bGFySlMgcmVzb3VyY2VzIHN1Y2ggYXNcbiAqIHRlbXBsYXRlcy4gIFJlZmVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdFxuICogJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxXaGl0ZWxpc3R9IGFuZCB7QGxpbmtcbiAqIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0fVxuICovXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkc2NlRGVsZWdhdGVQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhlIGAkc2NlRGVsZWdhdGVQcm92aWRlcmAgcHJvdmlkZXIgYWxsb3dzIGRldmVsb3BlcnMgdG8gY29uZmlndXJlIHRoZSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlXG4gKiAkc2NlRGVsZWdhdGV9IHNlcnZpY2UuICBUaGlzIGFsbG93cyBvbmUgdG8gZ2V0L3NldCB0aGUgd2hpdGVsaXN0cyBhbmQgYmxhY2tsaXN0cyB1c2VkIHRvIGVuc3VyZVxuICogdGhhdCB0aGUgVVJMcyB1c2VkIGZvciBzb3VyY2luZyBBbmd1bGFyIHRlbXBsYXRlcyBhcmUgc2FmZS4gIFJlZmVyIHtAbGlua1xuICogbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3QgJHNjZURlbGVnYXRlUHJvdmlkZXIucmVzb3VyY2VVcmxXaGl0ZWxpc3R9IGFuZFxuICoge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0fVxuICpcbiAqIEZvciB0aGUgZ2VuZXJhbCBkZXRhaWxzIGFib3V0IHRoaXMgc2VydmljZSBpbiBBbmd1bGFyLCByZWFkIHRoZSBtYWluIHBhZ2UgZm9yIHtAbGluayBuZy4kc2NlXG4gKiBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0uXG4gKlxuICogKipFeGFtcGxlKio6ICBDb25zaWRlciB0aGUgZm9sbG93aW5nIGNhc2UuIDxhIG5hbWU9XCJleGFtcGxlXCI+PC9hPlxuICpcbiAqIC0geW91ciBhcHAgaXMgaG9zdGVkIGF0IHVybCBgaHR0cDovL215YXBwLmV4YW1wbGUuY29tL2BcbiAqIC0gYnV0IHNvbWUgb2YgeW91ciB0ZW1wbGF0ZXMgYXJlIGhvc3RlZCBvbiBvdGhlciBkb21haW5zIHlvdSBjb250cm9sIHN1Y2ggYXNcbiAqICAgYGh0dHA6Ly9zcnYwMS5hc3NldHMuZXhhbXBsZS5jb20vYCzCoCBgaHR0cDovL3NydjAyLmFzc2V0cy5leGFtcGxlLmNvbS9gLCBldGMuXG4gKiAtIGFuZCB5b3UgaGF2ZSBhbiBvcGVuIHJlZGlyZWN0IGF0IGBodHRwOi8vbXlhcHAuZXhhbXBsZS5jb20vY2xpY2tUaHJ1Py4uLmAuXG4gKlxuICogSGVyZSBpcyB3aGF0IGEgc2VjdXJlIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgc2NlbmFyaW8gbWlnaHQgbG9vayBsaWtlOlxuICpcbiAqIGBgYFxuICogIGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKS5jb25maWcoZnVuY3Rpb24oJHNjZURlbGVnYXRlUHJvdmlkZXIpIHtcbiAqICAgICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0KFtcbiAqICAgICAgLy8gQWxsb3cgc2FtZSBvcmlnaW4gcmVzb3VyY2UgbG9hZHMuXG4gKiAgICAgICdzZWxmJyxcbiAqICAgICAgLy8gQWxsb3cgbG9hZGluZyBmcm9tIG91ciBhc3NldHMgZG9tYWluLiAgTm90aWNlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gKiBhbmQgKiouXG4gKiAgICAgICdodHRwOi8vc3J2Ki5hc3NldHMuZXhhbXBsZS5jb20vKionXG4gKiAgICBdKTtcbiAqXG4gKiAgICAvLyBUaGUgYmxhY2tsaXN0IG92ZXJyaWRlcyB0aGUgd2hpdGVsaXN0IHNvIHRoZSBvcGVuIHJlZGlyZWN0IGhlcmUgaXMgYmxvY2tlZC5cbiAqICAgICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0KFtcbiAqICAgICAgJ2h0dHA6Ly9teWFwcC5leGFtcGxlLmNvbS9jbGlja1RocnUqKidcbiAqICAgIF0pO1xuICogIH0pO1xuICogYGBgXG4gKi9cblxuZnVuY3Rpb24gJFNjZURlbGVnYXRlUHJvdmlkZXIoKSB7XG4gIHRoaXMuU0NFX0NPTlRFWFRTID0gU0NFX0NPTlRFWFRTO1xuXG4gIC8vIFJlc291cmNlIFVSTHMgY2FuIGFsc28gYmUgdHJ1c3RlZCBieSBwb2xpY3kuXG4gIHZhciByZXNvdXJjZVVybFdoaXRlbGlzdCA9IFsnc2VsZiddLFxuICAgICAgcmVzb3VyY2VVcmxCbGFja2xpc3QgPSBbXTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5PX0gd2hpdGVsaXN0IFdoZW4gcHJvdmlkZWQsIHJlcGxhY2VzIHRoZSByZXNvdXJjZVVybFdoaXRlbGlzdCB3aXRoIHRoZSB2YWx1ZVxuICAgKiAgICAgcHJvdmlkZWQuICBUaGlzIG11c3QgYmUgYW4gYXJyYXkgb3IgbnVsbC4gIEEgc25hcHNob3Qgb2YgdGhpcyBhcnJheSBpcyB1c2VkIHNvIGZ1cnRoZXJcbiAgICogICAgIGNoYW5nZXMgdG8gdGhlIGFycmF5IGFyZSBpZ25vcmVkLlxuICAgKlxuICAgKiAgICAgRm9sbG93IHtAbGluayBuZy4kc2NlI3Jlc291cmNlVXJsUGF0dGVybkl0ZW0gdGhpcyBsaW5rfSBmb3IgYSBkZXNjcmlwdGlvbiBvZiB0aGUgaXRlbXNcbiAgICogICAgIGFsbG93ZWQgaW4gdGhpcyBhcnJheS5cbiAgICpcbiAgICogICAgIE5vdGU6ICoqYW4gZW1wdHkgd2hpdGVsaXN0IGFycmF5IHdpbGwgYmxvY2sgYWxsIFVSTHMqKiFcbiAgICpcbiAgICogQHJldHVybiB7QXJyYXl9IHRoZSBjdXJyZW50bHkgc2V0IHdoaXRlbGlzdCBhcnJheS5cbiAgICpcbiAgICogVGhlICoqZGVmYXVsdCB2YWx1ZSoqIHdoZW4gbm8gd2hpdGVsaXN0IGhhcyBiZWVuIGV4cGxpY2l0bHkgc2V0IGlzIGBbJ3NlbGYnXWAgYWxsb3dpbmcgb25seVxuICAgKiBzYW1lIG9yaWdpbiByZXNvdXJjZSByZXF1ZXN0cy5cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMvR2V0cyB0aGUgd2hpdGVsaXN0IG9mIHRydXN0ZWQgcmVzb3VyY2UgVVJMcy5cbiAgICovXG4gIHRoaXMucmVzb3VyY2VVcmxXaGl0ZWxpc3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICByZXNvdXJjZVVybFdoaXRlbGlzdCA9IGFkanVzdE1hdGNoZXJzKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc291cmNlVXJsV2hpdGVsaXN0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0XG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXk9fSBibGFja2xpc3QgV2hlbiBwcm92aWRlZCwgcmVwbGFjZXMgdGhlIHJlc291cmNlVXJsQmxhY2tsaXN0IHdpdGggdGhlIHZhbHVlXG4gICAqICAgICBwcm92aWRlZC4gIFRoaXMgbXVzdCBiZSBhbiBhcnJheSBvciBudWxsLiAgQSBzbmFwc2hvdCBvZiB0aGlzIGFycmF5IGlzIHVzZWQgc28gZnVydGhlclxuICAgKiAgICAgY2hhbmdlcyB0byB0aGUgYXJyYXkgYXJlIGlnbm9yZWQuXG4gICAqXG4gICAqICAgICBGb2xsb3cge0BsaW5rIG5nLiRzY2UjcmVzb3VyY2VVcmxQYXR0ZXJuSXRlbSB0aGlzIGxpbmt9IGZvciBhIGRlc2NyaXB0aW9uIG9mIHRoZSBpdGVtc1xuICAgKiAgICAgYWxsb3dlZCBpbiB0aGlzIGFycmF5LlxuICAgKlxuICAgKiAgICAgVGhlIHR5cGljYWwgdXNhZ2UgZm9yIHRoZSBibGFja2xpc3QgaXMgdG8gKipibG9ja1xuICAgKiAgICAgW29wZW4gcmVkaXJlY3RzXShodHRwOi8vY3dlLm1pdHJlLm9yZy9kYXRhL2RlZmluaXRpb25zLzYwMS5odG1sKSoqIHNlcnZlZCBieSB5b3VyIGRvbWFpbiBhc1xuICAgKiAgICAgdGhlc2Ugd291bGQgb3RoZXJ3aXNlIGJlIHRydXN0ZWQgYnV0IGFjdHVhbGx5IHJldHVybiBjb250ZW50IGZyb20gdGhlIHJlZGlyZWN0ZWQgZG9tYWluLlxuICAgKlxuICAgKiAgICAgRmluYWxseSwgKip0aGUgYmxhY2tsaXN0IG92ZXJyaWRlcyB0aGUgd2hpdGVsaXN0KiogYW5kIGhhcyB0aGUgZmluYWwgc2F5LlxuICAgKlxuICAgKiBAcmV0dXJuIHtBcnJheX0gdGhlIGN1cnJlbnRseSBzZXQgYmxhY2tsaXN0IGFycmF5LlxuICAgKlxuICAgKiBUaGUgKipkZWZhdWx0IHZhbHVlKiogd2hlbiBubyB3aGl0ZWxpc3QgaGFzIGJlZW4gZXhwbGljaXRseSBzZXQgaXMgdGhlIGVtcHR5IGFycmF5IChpLmUuIHRoZXJlXG4gICAqIGlzIG5vIGJsYWNrbGlzdC4pXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzL0dldHMgdGhlIGJsYWNrbGlzdCBvZiB0cnVzdGVkIHJlc291cmNlIFVSTHMuXG4gICAqL1xuXG4gIHRoaXMucmVzb3VyY2VVcmxCbGFja2xpc3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICByZXNvdXJjZVVybEJsYWNrbGlzdCA9IGFkanVzdE1hdGNoZXJzKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc291cmNlVXJsQmxhY2tsaXN0O1xuICB9O1xuXG4gIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgZnVuY3Rpb24oJGluamVjdG9yKSB7XG5cbiAgICB2YXIgaHRtbFNhbml0aXplciA9IGZ1bmN0aW9uIGh0bWxTYW5pdGl6ZXIoaHRtbCkge1xuICAgICAgdGhyb3cgJHNjZU1pbkVycigndW5zYWZlJywgJ0F0dGVtcHRpbmcgdG8gdXNlIGFuIHVuc2FmZSB2YWx1ZSBpbiBhIHNhZmUgY29udGV4dC4nKTtcbiAgICB9O1xuXG4gICAgaWYgKCRpbmplY3Rvci5oYXMoJyRzYW5pdGl6ZScpKSB7XG4gICAgICBodG1sU2FuaXRpemVyID0gJGluamVjdG9yLmdldCgnJHNhbml0aXplJyk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBtYXRjaFVybChtYXRjaGVyLCBwYXJzZWRVcmwpIHtcbiAgICAgIGlmIChtYXRjaGVyID09PSAnc2VsZicpIHtcbiAgICAgICAgcmV0dXJuIHVybElzU2FtZU9yaWdpbihwYXJzZWRVcmwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZGVmaW5pdGVseSBhIHJlZ2V4LiAgU2VlIGFkanVzdE1hdGNoZXJzKClcbiAgICAgICAgcmV0dXJuICEhbWF0Y2hlci5leGVjKHBhcnNlZFVybC5ocmVmKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1Jlc291cmNlVXJsQWxsb3dlZEJ5UG9saWN5KHVybCkge1xuICAgICAgdmFyIHBhcnNlZFVybCA9IHVybFJlc29sdmUodXJsLnRvU3RyaW5nKCkpO1xuICAgICAgdmFyIGksIG4sIGFsbG93ZWQgPSBmYWxzZTtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IGF0IGxlYXN0IG9uZSBpdGVtIGZyb20gdGhlIHdoaXRlbGlzdCBhbGxvd3MgdGhpcyB1cmwuXG4gICAgICBmb3IgKGkgPSAwLCBuID0gcmVzb3VyY2VVcmxXaGl0ZWxpc3QubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIGlmIChtYXRjaFVybChyZXNvdXJjZVVybFdoaXRlbGlzdFtpXSwgcGFyc2VkVXJsKSkge1xuICAgICAgICAgIGFsbG93ZWQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYWxsb3dlZCkge1xuICAgICAgICAvLyBFbnN1cmUgdGhhdCBubyBpdGVtIGZyb20gdGhlIGJsYWNrbGlzdCBibG9ja2VkIHRoaXMgdXJsLlxuICAgICAgICBmb3IgKGkgPSAwLCBuID0gcmVzb3VyY2VVcmxCbGFja2xpc3QubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgaWYgKG1hdGNoVXJsKHJlc291cmNlVXJsQmxhY2tsaXN0W2ldLCBwYXJzZWRVcmwpKSB7XG4gICAgICAgICAgICBhbGxvd2VkID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhbGxvd2VkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlSG9sZGVyVHlwZShCYXNlKSB7XG4gICAgICB2YXIgaG9sZGVyVHlwZSA9IGZ1bmN0aW9uIFRydXN0ZWRWYWx1ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlKSB7XG4gICAgICAgIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1c3RlZFZhbHVlO1xuICAgICAgICB9O1xuICAgICAgfTtcbiAgICAgIGlmIChCYXNlKSB7XG4gICAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlID0gbmV3IEJhc2UoKTtcbiAgICAgIH1cbiAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiBzY2VWYWx1ZU9mKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO1xuICAgICAgfTtcbiAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gc2NlVG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCkudG9TdHJpbmcoKTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gaG9sZGVyVHlwZTtcbiAgICB9XG5cbiAgICB2YXIgdHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSA9IGdlbmVyYXRlSG9sZGVyVHlwZSgpLFxuICAgICAgICBieVR5cGUgPSB7fTtcblxuICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuSFRNTF0gPSBnZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSk7XG4gICAgYnlUeXBlW1NDRV9DT05URVhUUy5DU1NdID0gZ2VuZXJhdGVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpO1xuICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuVVJMXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTtcbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLkpTXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTtcbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLlJFU09VUkNFX1VSTF0gPSBnZW5lcmF0ZUhvbGRlclR5cGUoYnlUeXBlW1NDRV9DT05URVhUUy5VUkxdKTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlRGVsZWdhdGUjdHJ1c3RBc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBpcyB0cnVzdGVkIGJ5IGFuZ3VsYXIgZm9yIHVzZSBpbiBzcGVjaWZpZWQgc3RyaWN0XG4gICAgICogY29udGV4dHVhbCBlc2NhcGluZyBjb250ZXh0cyAoc3VjaCBhcyBuZy1iaW5kLWh0bWwsIG5nLWluY2x1ZGUsIGFueSBzcmNcbiAgICAgKiBhdHRyaWJ1dGUgaW50ZXJwb2xhdGlvbiwgYW55IGRvbSBldmVudCBiaW5kaW5nIGF0dHJpYnV0ZSBpbnRlcnBvbGF0aW9uXG4gICAgICogc3VjaCBhcyBmb3Igb25jbGljaywgIGV0Yy4pIHRoYXQgdXNlcyB0aGUgcHJvdmlkZWQgdmFsdWUuXG4gICAgICogU2VlIHtAbGluayBuZy4kc2NlICRzY2V9IGZvciBlbmFibGluZyBzdHJpY3QgY29udGV4dHVhbCBlc2NhcGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIGNvbnRleHQgaW4gd2hpY2ggdGhpcyB2YWx1ZSBpcyBzYWZlIGZvciB1c2UuICBlLmcuIHVybCxcbiAgICAgKiAgIHJlc291cmNlVXJsLCBodG1sLCBqcyBhbmQgY3NzLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRoYXQgdGhhdCBzaG91bGQgYmUgY29uc2lkZXJlZCB0cnVzdGVkL3NhZmUuXG4gICAgICogQHJldHVybnMgeyp9IEEgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCB0byBzdGFuZCBpbiBmb3IgdGhlIHByb3ZpZGVkIGB2YWx1ZWAgaW4gcGxhY2VzXG4gICAgICogd2hlcmUgQW5ndWxhciBleHBlY3RzIGEgJHNjZS50cnVzdEFzKCkgcmV0dXJuIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRydXN0QXModHlwZSwgdHJ1c3RlZFZhbHVlKSB7XG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSAoYnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpID8gYnlUeXBlW3R5cGVdIDogbnVsbCk7XG4gICAgICBpZiAoIUNvbnN0cnVjdG9yKSB7XG4gICAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2ljb250ZXh0JyxcbiAgICAgICAgICAgICdBdHRlbXB0ZWQgdG8gdHJ1c3QgYSB2YWx1ZSBpbiBpbnZhbGlkIGNvbnRleHQuIENvbnRleHQ6IHswfTsgVmFsdWU6IHsxfScsXG4gICAgICAgICAgICB0eXBlLCB0cnVzdGVkVmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHRydXN0ZWRWYWx1ZSA9PT0gbnVsbCB8fCB0cnVzdGVkVmFsdWUgPT09IHVuZGVmaW5lZCB8fCB0cnVzdGVkVmFsdWUgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiB0cnVzdGVkVmFsdWU7XG4gICAgICB9XG4gICAgICAvLyBBbGwgdGhlIGN1cnJlbnQgY29udGV4dHMgaW4gU0NFX0NPTlRFWFRTIGhhcHBlbiB0byBiZSBzdHJpbmdzLiAgSW4gb3JkZXIgdG8gYXZvaWQgdHJ1c3RpbmdcbiAgICAgIC8vIG11dGFibGUgb2JqZWN0cywgd2UgZW5zdXJlIGhlcmUgdGhhdCB0aGUgdmFsdWUgcGFzc2VkIGluIGlzIGFjdHVhbGx5IGEgc3RyaW5nLlxuICAgICAgaWYgKHR5cGVvZiB0cnVzdGVkVmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2l0eXBlJyxcbiAgICAgICAgICAgICdBdHRlbXB0ZWQgdG8gdHJ1c3QgYSBub24tc3RyaW5nIHZhbHVlIGluIGEgY29udGVudCByZXF1aXJpbmcgYSBzdHJpbmc6IENvbnRleHQ6IHswfScsXG4gICAgICAgICAgICB0eXBlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IodHJ1c3RlZFZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZURlbGVnYXRlI3ZhbHVlT2ZcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIElmIHRoZSBwYXNzZWQgcGFyYW1ldGVyIGhhZCBiZWVuIHJldHVybmVkIGJ5IGEgcHJpb3IgY2FsbCB0byB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXNcbiAgICAgKiBgJHNjZURlbGVnYXRlLnRydXN0QXNgfSwgcmV0dXJucyB0aGUgdmFsdWUgdGhhdCBoYWQgYmVlbiBwYXNzZWQgdG8ge0BsaW5rXG4gICAgICogbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0uXG4gICAgICpcbiAgICAgKiBJZiB0aGUgcGFzc2VkIHBhcmFtZXRlciBpcyBub3QgYSB2YWx1ZSB0aGF0IGhhZCBiZWVuIHJldHVybmVkIGJ5IHtAbGlua1xuICAgICAqIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LCByZXR1cm5zIGl0IGFzLWlzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcmVzdWx0IG9mIGEgcHJpb3Ige0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9XG4gICAgICogICAgICBjYWxsIG9yIGFueXRoaW5nIGVsc2UuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSBgdmFsdWVgIHRoYXQgd2FzIG9yaWdpbmFsbHkgcHJvdmlkZWQgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXG4gICAgICogICAgIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGlmIGB2YWx1ZWAgaXMgdGhlIHJlc3VsdCBvZiBzdWNoIGEgY2FsbC4gIE90aGVyd2lzZSwgcmV0dXJuc1xuICAgICAqICAgICBgdmFsdWVgIHVuY2hhbmdlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZU9mKG1heWJlVHJ1c3RlZCkge1xuICAgICAgaWYgKG1heWJlVHJ1c3RlZCBpbnN0YW5jZW9mIHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpIHtcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZC4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZURlbGVnYXRlI2dldFRydXN0ZWRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRha2VzIHRoZSByZXN1bHQgb2YgYSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0gY2FsbCBhbmRcbiAgICAgKiByZXR1cm5zIHRoZSBvcmlnaW5hbGx5IHN1cHBsaWVkIHZhbHVlIGlmIHRoZSBxdWVyaWVkIGNvbnRleHQgdHlwZSBpcyBhIHN1cGVydHlwZSBvZiB0aGVcbiAgICAgKiBjcmVhdGVkIHR5cGUuICBJZiB0aGlzIGNvbmRpdGlvbiBpc24ndCBzYXRpc2ZpZWQsIHRocm93cyBhbiBleGNlcHRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUga2luZCBvZiBjb250ZXh0IGluIHdoaWNoIHRoaXMgdmFsdWUgaXMgdG8gYmUgdXNlZC5cbiAgICAgKiBAcGFyYW0geyp9IG1heWJlVHJ1c3RlZCBUaGUgcmVzdWx0IG9mIGEgcHJpb3Ige0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXG4gICAgICogICAgIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGNhbGwuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGUgd2FzIG9yaWdpbmFsbHkgcHJvdmlkZWQgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXG4gICAgICogICAgIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGlmIHZhbGlkIGluIHRoaXMgY29udGV4dC4gIE90aGVyd2lzZSwgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRUcnVzdGVkKHR5cGUsIG1heWJlVHJ1c3RlZCkge1xuICAgICAgaWYgKG1heWJlVHJ1c3RlZCA9PT0gbnVsbCB8fCBtYXliZVRydXN0ZWQgPT09IHVuZGVmaW5lZCB8fCBtYXliZVRydXN0ZWQgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiBtYXliZVRydXN0ZWQ7XG4gICAgICB9XG4gICAgICB2YXIgY29uc3RydWN0b3IgPSAoYnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpID8gYnlUeXBlW3R5cGVdIDogbnVsbCk7XG4gICAgICBpZiAoY29uc3RydWN0b3IgJiYgbWF5YmVUcnVzdGVkIGluc3RhbmNlb2YgY29uc3RydWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZC4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO1xuICAgICAgfVxuICAgICAgLy8gSWYgd2UgZ2V0IGhlcmUsIHRoZW4gd2UgbWF5IG9ubHkgdGFrZSBvbmUgb2YgdHdvIGFjdGlvbnMuXG4gICAgICAvLyAxLiBzYW5pdGl6ZSB0aGUgdmFsdWUgZm9yIHRoZSByZXF1ZXN0ZWQgdHlwZSwgb3JcbiAgICAgIC8vIDIuIHRocm93IGFuIGV4Y2VwdGlvbi5cbiAgICAgIGlmICh0eXBlID09PSBTQ0VfQ09OVEVYVFMuUkVTT1VSQ0VfVVJMKSB7XG4gICAgICAgIGlmIChpc1Jlc291cmNlVXJsQWxsb3dlZEJ5UG9saWN5KG1heWJlVHJ1c3RlZCkpIHtcbiAgICAgICAgICByZXR1cm4gbWF5YmVUcnVzdGVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2luc2VjdXJsJyxcbiAgICAgICAgICAgICAgJ0Jsb2NrZWQgbG9hZGluZyByZXNvdXJjZSBmcm9tIHVybCBub3QgYWxsb3dlZCBieSAkc2NlRGVsZWdhdGUgcG9saWN5LiAgVVJMOiB7MH0nLFxuICAgICAgICAgICAgICBtYXliZVRydXN0ZWQudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gU0NFX0NPTlRFWFRTLkhUTUwpIHtcbiAgICAgICAgcmV0dXJuIGh0bWxTYW5pdGl6ZXIobWF5YmVUcnVzdGVkKTtcbiAgICAgIH1cbiAgICAgIHRocm93ICRzY2VNaW5FcnIoJ3Vuc2FmZScsICdBdHRlbXB0aW5nIHRvIHVzZSBhbiB1bnNhZmUgdmFsdWUgaW4gYSBzYWZlIGNvbnRleHQuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgdHJ1c3RBczogdHJ1c3RBcyxcbiAgICAgICAgICAgICBnZXRUcnVzdGVkOiBnZXRUcnVzdGVkLFxuICAgICAgICAgICAgIHZhbHVlT2Y6IHZhbHVlT2YgfTtcbiAgfV07XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRzY2VQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhlICRzY2VQcm92aWRlciBwcm92aWRlciBhbGxvd3MgZGV2ZWxvcGVycyB0byBjb25maWd1cmUgdGhlIHtAbGluayBuZy4kc2NlICRzY2V9IHNlcnZpY2UuXG4gKiAtICAgZW5hYmxlL2Rpc2FibGUgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgKFNDRSkgaW4gYSBtb2R1bGVcbiAqIC0gICBvdmVycmlkZSB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiB3aXRoIGEgY3VzdG9tIGRlbGVnYXRlXG4gKlxuICogUmVhZCBtb3JlIGFib3V0IHtAbGluayBuZy4kc2NlIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfS5cbiAqL1xuXG4vKiBqc2hpbnQgbWF4bGVuOiBmYWxzZSovXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRzY2VcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogYCRzY2VgIGlzIGEgc2VydmljZSB0aGF0IHByb3ZpZGVzIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIHNlcnZpY2VzIHRvIEFuZ3VsYXJKUy5cbiAqXG4gKiAjIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nXG4gKlxuICogU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgKFNDRSkgaXMgYSBtb2RlIGluIHdoaWNoIEFuZ3VsYXJKUyByZXF1aXJlcyBiaW5kaW5ncyBpbiBjZXJ0YWluXG4gKiBjb250ZXh0cyB0byByZXN1bHQgaW4gYSB2YWx1ZSB0aGF0IGlzIG1hcmtlZCBhcyBzYWZlIHRvIHVzZSBmb3IgdGhhdCBjb250ZXh0LiAgT25lIGV4YW1wbGUgb2ZcbiAqIHN1Y2ggYSBjb250ZXh0IGlzIGJpbmRpbmcgYXJiaXRyYXJ5IGh0bWwgY29udHJvbGxlZCBieSB0aGUgdXNlciB2aWEgYG5nLWJpbmQtaHRtbGAuICBXZSByZWZlclxuICogdG8gdGhlc2UgY29udGV4dHMgYXMgcHJpdmlsZWdlZCBvciBTQ0UgY29udGV4dHMuXG4gKlxuICogQXMgb2YgdmVyc2lvbiAxLjIsIEFuZ3VsYXIgc2hpcHMgd2l0aCBTQ0UgZW5hYmxlZCBieSBkZWZhdWx0LlxuICpcbiAqIE5vdGU6ICBXaGVuIGVuYWJsZWQgKHRoZSBkZWZhdWx0KSwgSUU8MTEgaW4gcXVpcmtzIG1vZGUgaXMgbm90IHN1cHBvcnRlZC4gIEluIHRoaXMgbW9kZSwgSUU8MTEgYWxsb3dcbiAqIG9uZSB0byBleGVjdXRlIGFyYml0cmFyeSBqYXZhc2NyaXB0IGJ5IHRoZSB1c2Ugb2YgdGhlIGV4cHJlc3Npb24oKSBzeW50YXguICBSZWZlclxuICogPGh0dHA6Ly9ibG9ncy5tc2RuLmNvbS9iL2llL2FyY2hpdmUvMjAwOC8xMC8xNi9lbmRpbmctZXhwcmVzc2lvbnMuYXNweD4gdG8gbGVhcm4gbW9yZSBhYm91dCB0aGVtLlxuICogWW91IGNhbiBlbnN1cmUgeW91ciBkb2N1bWVudCBpcyBpbiBzdGFuZGFyZHMgbW9kZSBhbmQgbm90IHF1aXJrcyBtb2RlIGJ5IGFkZGluZyBgPCFkb2N0eXBlIGh0bWw+YFxuICogdG8gdGhlIHRvcCBvZiB5b3VyIEhUTUwgZG9jdW1lbnQuXG4gKlxuICogU0NFIGFzc2lzdHMgaW4gd3JpdGluZyBjb2RlIGluIHdheSB0aGF0IChhKSBpcyBzZWN1cmUgYnkgZGVmYXVsdCBhbmQgKGIpIG1ha2VzIGF1ZGl0aW5nIGZvclxuICogc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzIHN1Y2ggYXMgWFNTLCBjbGlja2phY2tpbmcsIGV0Yy4gYSBsb3QgZWFzaWVyLlxuICpcbiAqIEhlcmUncyBhbiBleGFtcGxlIG9mIGEgYmluZGluZyBpbiBhIHByaXZpbGVnZWQgY29udGV4dDpcbiAqXG4gKiBgYGBcbiAqIDxpbnB1dCBuZy1tb2RlbD1cInVzZXJIdG1sXCIgYXJpYS1sYWJlbD1cIlVzZXIgaW5wdXRcIj5cbiAqIDxkaXYgbmctYmluZC1odG1sPVwidXNlckh0bWxcIj48L2Rpdj5cbiAqIGBgYFxuICpcbiAqIE5vdGljZSB0aGF0IGBuZy1iaW5kLWh0bWxgIGlzIGJvdW5kIHRvIGB1c2VySHRtbGAgY29udHJvbGxlZCBieSB0aGUgdXNlci4gIFdpdGggU0NFXG4gKiBkaXNhYmxlZCwgdGhpcyBhcHBsaWNhdGlvbiBhbGxvd3MgdGhlIHVzZXIgdG8gcmVuZGVyIGFyYml0cmFyeSBIVE1MIGludG8gdGhlIERJVi5cbiAqIEluIGEgbW9yZSByZWFsaXN0aWMgZXhhbXBsZSwgb25lIG1heSBiZSByZW5kZXJpbmcgdXNlciBjb21tZW50cywgYmxvZyBhcnRpY2xlcywgZXRjLiB2aWFcbiAqIGJpbmRpbmdzLiAgKEhUTUwgaXMganVzdCBvbmUgZXhhbXBsZSBvZiBhIGNvbnRleHQgd2hlcmUgcmVuZGVyaW5nIHVzZXIgY29udHJvbGxlZCBpbnB1dCBjcmVhdGVzXG4gKiBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuKVxuICpcbiAqIEZvciB0aGUgY2FzZSBvZiBIVE1MLCB5b3UgbWlnaHQgdXNlIGEgbGlicmFyeSwgZWl0aGVyIG9uIHRoZSBjbGllbnQgc2lkZSwgb3Igb24gdGhlIHNlcnZlciBzaWRlLFxuICogdG8gc2FuaXRpemUgdW5zYWZlIEhUTUwgYmVmb3JlIGJpbmRpbmcgdG8gdGhlIHZhbHVlIGFuZCByZW5kZXJpbmcgaXQgaW4gdGhlIGRvY3VtZW50LlxuICpcbiAqIEhvdyB3b3VsZCB5b3UgZW5zdXJlIHRoYXQgZXZlcnkgcGxhY2UgdGhhdCB1c2VkIHRoZXNlIHR5cGVzIG9mIGJpbmRpbmdzIHdhcyBib3VuZCB0byBhIHZhbHVlIHRoYXRcbiAqIHdhcyBzYW5pdGl6ZWQgYnkgeW91ciBsaWJyYXJ5IChvciByZXR1cm5lZCBhcyBzYWZlIGZvciByZW5kZXJpbmcgYnkgeW91ciBzZXJ2ZXI/KSAgSG93IGNhbiB5b3VcbiAqIGVuc3VyZSB0aGF0IHlvdSBkaWRuJ3QgYWNjaWRlbnRhbGx5IGRlbGV0ZSB0aGUgbGluZSB0aGF0IHNhbml0aXplZCB0aGUgdmFsdWUsIG9yIHJlbmFtZWQgc29tZVxuICogcHJvcGVydGllcy9maWVsZHMgYW5kIGZvcmdvdCB0byB1cGRhdGUgdGhlIGJpbmRpbmcgdG8gdGhlIHNhbml0aXplZCB2YWx1ZT9cbiAqXG4gKiBUbyBiZSBzZWN1cmUgYnkgZGVmYXVsdCwgeW91IHdhbnQgdG8gZW5zdXJlIHRoYXQgYW55IHN1Y2ggYmluZGluZ3MgYXJlIGRpc2FsbG93ZWQgdW5sZXNzIHlvdSBjYW5cbiAqIGRldGVybWluZSB0aGF0IHNvbWV0aGluZyBleHBsaWNpdGx5IHNheXMgaXQncyBzYWZlIHRvIHVzZSBhIHZhbHVlIGZvciBiaW5kaW5nIGluIHRoYXRcbiAqIGNvbnRleHQuICBZb3UgY2FuIHRoZW4gYXVkaXQgeW91ciBjb2RlIChhIHNpbXBsZSBncmVwIHdvdWxkIGRvKSB0byBlbnN1cmUgdGhhdCB0aGlzIGlzIG9ubHkgZG9uZVxuICogZm9yIHRob3NlIHZhbHVlcyB0aGF0IHlvdSBjYW4gZWFzaWx5IHRlbGwgYXJlIHNhZmUgLSBiZWNhdXNlIHRoZXkgd2VyZSByZWNlaXZlZCBmcm9tIHlvdXIgc2VydmVyLFxuICogc2FuaXRpemVkIGJ5IHlvdXIgbGlicmFyeSwgZXRjLiAgWW91IGNhbiBvcmdhbml6ZSB5b3VyIGNvZGViYXNlIHRvIGhlbHAgd2l0aCB0aGlzIC0gcGVyaGFwc1xuICogYWxsb3dpbmcgb25seSB0aGUgZmlsZXMgaW4gYSBzcGVjaWZpYyBkaXJlY3RvcnkgdG8gZG8gdGhpcy4gIEVuc3VyaW5nIHRoYXQgdGhlIGludGVybmFsIEFQSVxuICogZXhwb3NlZCBieSB0aGF0IGNvZGUgZG9lc24ndCBtYXJrdXAgYXJiaXRyYXJ5IHZhbHVlcyBhcyBzYWZlIHRoZW4gYmVjb21lcyBhIG1vcmUgbWFuYWdlYWJsZSB0YXNrLlxuICpcbiAqIEluIHRoZSBjYXNlIG9mIEFuZ3VsYXJKUycgU0NFIHNlcnZpY2UsIG9uZSB1c2VzIHtAbGluayBuZy4kc2NlI3RydXN0QXMgJHNjZS50cnVzdEFzfVxuICogKGFuZCBzaG9ydGhhbmQgbWV0aG9kcyBzdWNoIGFzIHtAbGluayBuZy4kc2NlI3RydXN0QXNIdG1sICRzY2UudHJ1c3RBc0h0bWx9LCBldGMuKSB0b1xuICogb2J0YWluIHZhbHVlcyB0aGF0IHdpbGwgYmUgYWNjZXB0ZWQgYnkgU0NFIC8gcHJpdmlsZWdlZCBjb250ZXh0cy5cbiAqXG4gKlxuICogIyMgSG93IGRvZXMgaXQgd29yaz9cbiAqXG4gKiBJbiBwcml2aWxlZ2VkIGNvbnRleHRzLCBkaXJlY3RpdmVzIGFuZCBjb2RlIHdpbGwgYmluZCB0byB0aGUgcmVzdWx0IG9mIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRcbiAqICRzY2UuZ2V0VHJ1c3RlZChjb250ZXh0LCB2YWx1ZSl9IHJhdGhlciB0aGFuIHRvIHRoZSB2YWx1ZSBkaXJlY3RseS4gIERpcmVjdGl2ZXMgdXNlIHtAbGlua1xuICogbmcuJHNjZSNwYXJzZUFzICRzY2UucGFyc2VBc30gcmF0aGVyIHRoYW4gYCRwYXJzZWAgdG8gd2F0Y2ggYXR0cmlidXRlIGJpbmRpbmdzLCB3aGljaCBwZXJmb3JtcyB0aGVcbiAqIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWQgJHNjZS5nZXRUcnVzdGVkfSBiZWhpbmQgdGhlIHNjZW5lcyBvbiBub24tY29uc3RhbnQgbGl0ZXJhbHMuXG4gKlxuICogQXMgYW4gZXhhbXBsZSwge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0JpbmRIdG1sIG5nQmluZEh0bWx9IHVzZXMge0BsaW5rXG4gKiBuZy4kc2NlI3BhcnNlQXNIdG1sICRzY2UucGFyc2VBc0h0bWwoYmluZGluZyBleHByZXNzaW9uKX0uICBIZXJlJ3MgdGhlIGFjdHVhbCBjb2RlIChzbGlnaHRseVxuICogc2ltcGxpZmllZCk6XG4gKlxuICogYGBgXG4gKiB2YXIgbmdCaW5kSHRtbERpcmVjdGl2ZSA9IFsnJHNjZScsIGZ1bmN0aW9uKCRzY2UpIHtcbiAqICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gKiAgICAgc2NvcGUuJHdhdGNoKCRzY2UucGFyc2VBc0h0bWwoYXR0ci5uZ0JpbmRIdG1sKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAqICAgICAgIGVsZW1lbnQuaHRtbCh2YWx1ZSB8fCAnJyk7XG4gKiAgICAgfSk7XG4gKiAgIH07XG4gKiB9XTtcbiAqIGBgYFxuICpcbiAqICMjIEltcGFjdCBvbiBsb2FkaW5nIHRlbXBsYXRlc1xuICpcbiAqIFRoaXMgYXBwbGllcyBib3RoIHRvIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nSW5jbHVkZSBgbmctaW5jbHVkZWB9IGRpcmVjdGl2ZSBhcyB3ZWxsIGFzXG4gKiBgdGVtcGxhdGVVcmxgJ3Mgc3BlY2lmaWVkIGJ5IHtAbGluayBndWlkZS9kaXJlY3RpdmUgZGlyZWN0aXZlc30uXG4gKlxuICogQnkgZGVmYXVsdCwgQW5ndWxhciBvbmx5IGxvYWRzIHRlbXBsYXRlcyBmcm9tIHRoZSBzYW1lIGRvbWFpbiBhbmQgcHJvdG9jb2wgYXMgdGhlIGFwcGxpY2F0aW9uXG4gKiBkb2N1bWVudC4gIFRoaXMgaXMgZG9uZSBieSBjYWxsaW5nIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRSZXNvdXJjZVVybFxuICogJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmx9IG9uIHRoZSB0ZW1wbGF0ZSBVUkwuICBUbyBsb2FkIHRlbXBsYXRlcyBmcm9tIG90aGVyIGRvbWFpbnMgYW5kL29yXG4gKiBwcm90b2NvbHMsIHlvdSBtYXkgZWl0aGVyIGVpdGhlciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3Qgd2hpdGVsaXN0XG4gKiB0aGVtfSBvciB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzUmVzb3VyY2VVcmwgd3JhcCBpdH0gaW50byBhIHRydXN0ZWQgdmFsdWUuXG4gKlxuICogKlBsZWFzZSBub3RlKjpcbiAqIFRoZSBicm93c2VyJ3NcbiAqIFtTYW1lIE9yaWdpbiBQb2xpY3ldKGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvYnJvd3NlcnNlYy93aWtpL1BhcnQyI1NhbWUtb3JpZ2luX3BvbGljeV9mb3JfWE1MSHR0cFJlcXVlc3QpXG4gKiBhbmQgW0Nyb3NzLU9yaWdpbiBSZXNvdXJjZSBTaGFyaW5nIChDT1JTKV0oaHR0cDovL3d3dy53My5vcmcvVFIvY29ycy8pXG4gKiBwb2xpY3kgYXBwbHkgaW4gYWRkaXRpb24gdG8gdGhpcyBhbmQgbWF5IGZ1cnRoZXIgcmVzdHJpY3Qgd2hldGhlciB0aGUgdGVtcGxhdGUgaXMgc3VjY2Vzc2Z1bGx5XG4gKiBsb2FkZWQuICBUaGlzIG1lYW5zIHRoYXQgd2l0aG91dCB0aGUgcmlnaHQgQ09SUyBwb2xpY3ksIGxvYWRpbmcgdGVtcGxhdGVzIGZyb20gYSBkaWZmZXJlbnQgZG9tYWluXG4gKiB3b24ndCB3b3JrIG9uIGFsbCBicm93c2Vycy4gIEFsc28sIGxvYWRpbmcgdGVtcGxhdGVzIGZyb20gYGZpbGU6Ly9gIFVSTCBkb2VzIG5vdCB3b3JrIG9uIHNvbWVcbiAqIGJyb3dzZXJzLlxuICpcbiAqICMjIFRoaXMgZmVlbHMgbGlrZSB0b28gbXVjaCBvdmVyaGVhZFxuICpcbiAqIEl0J3MgaW1wb3J0YW50IHRvIHJlbWVtYmVyIHRoYXQgU0NFIG9ubHkgYXBwbGllcyB0byBpbnRlcnBvbGF0aW9uIGV4cHJlc3Npb25zLlxuICpcbiAqIElmIHlvdXIgZXhwcmVzc2lvbnMgYXJlIGNvbnN0YW50IGxpdGVyYWxzLCB0aGV5J3JlIGF1dG9tYXRpY2FsbHkgdHJ1c3RlZCBhbmQgeW91IGRvbid0IG5lZWQgdG9cbiAqIGNhbGwgYCRzY2UudHJ1c3RBc2Agb24gdGhlbSAocmVtZW1iZXIgdG8gaW5jbHVkZSB0aGUgYG5nU2FuaXRpemVgIG1vZHVsZSkgKGUuZy5cbiAqIGA8ZGl2IG5nLWJpbmQtaHRtbD1cIic8Yj5pbXBsaWNpdGx5IHRydXN0ZWQ8L2I+J1wiPjwvZGl2PmApIGp1c3Qgd29ya3MuXG4gKlxuICogQWRkaXRpb25hbGx5LCBgYVtocmVmXWAgYW5kIGBpbWdbc3JjXWAgYXV0b21hdGljYWxseSBzYW5pdGl6ZSB0aGVpciBVUkxzIGFuZCBkbyBub3QgcGFzcyB0aGVtXG4gKiB0aHJvdWdoIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWQgJHNjZS5nZXRUcnVzdGVkfS4gIFNDRSBkb2Vzbid0IHBsYXkgYSByb2xlIGhlcmUuXG4gKlxuICogVGhlIGluY2x1ZGVkIHtAbGluayBuZy4kc2NlRGVsZWdhdGUgJHNjZURlbGVnYXRlfSBjb21lcyB3aXRoIHNhbmUgZGVmYXVsdHMgdG8gYWxsb3cgeW91IHRvIGxvYWRcbiAqIHRlbXBsYXRlcyBpbiBgbmctaW5jbHVkZWAgZnJvbSB5b3VyIGFwcGxpY2F0aW9uJ3MgZG9tYWluIHdpdGhvdXQgaGF2aW5nIHRvIGV2ZW4ga25vdyBhYm91dCBTQ0UuXG4gKiBJdCBibG9ja3MgbG9hZGluZyB0ZW1wbGF0ZXMgZnJvbSBvdGhlciBkb21haW5zIG9yIGxvYWRpbmcgdGVtcGxhdGVzIG92ZXIgaHR0cCBmcm9tIGFuIGh0dHBzXG4gKiBzZXJ2ZWQgZG9jdW1lbnQuICBZb3UgY2FuIGNoYW5nZSB0aGVzZSBieSBzZXR0aW5nIHlvdXIgb3duIGN1c3RvbSB7QGxpbmtcbiAqIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0IHdoaXRlbGlzdHN9IGFuZCB7QGxpbmtcbiAqIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0IGJsYWNrbGlzdHN9IGZvciBtYXRjaGluZyBzdWNoIFVSTHMuXG4gKlxuICogVGhpcyBzaWduaWZpY2FudGx5IHJlZHVjZXMgdGhlIG92ZXJoZWFkLiAgSXQgaXMgZmFyIGVhc2llciB0byBwYXkgdGhlIHNtYWxsIG92ZXJoZWFkIGFuZCBoYXZlIGFuXG4gKiBhcHBsaWNhdGlvbiB0aGF0J3Mgc2VjdXJlIGFuZCBjYW4gYmUgYXVkaXRlZCB0byB2ZXJpZnkgdGhhdCB3aXRoIG11Y2ggbW9yZSBlYXNlIHRoYW4gYm9sdGluZ1xuICogc2VjdXJpdHkgb250byBhbiBhcHBsaWNhdGlvbiBsYXRlci5cbiAqXG4gKiA8YSBuYW1lPVwiY29udGV4dHNcIj48L2E+XG4gKiAjIyBXaGF0IHRydXN0ZWQgY29udGV4dCB0eXBlcyBhcmUgc3VwcG9ydGVkP1xuICpcbiAqIHwgQ29udGV4dCAgICAgICAgICAgICB8IE5vdGVzICAgICAgICAgIHxcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLXxcbiAqIHwgYCRzY2UuSFRNTGAgICAgICAgICB8IEZvciBIVE1MIHRoYXQncyBzYWZlIHRvIHNvdXJjZSBpbnRvIHRoZSBhcHBsaWNhdGlvbi4gIFRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQmluZEh0bWwgbmdCaW5kSHRtbH0gZGlyZWN0aXZlIHVzZXMgdGhpcyBjb250ZXh0IGZvciBiaW5kaW5ncy4gSWYgYW4gdW5zYWZlIHZhbHVlIGlzIGVuY291bnRlcmVkIGFuZCB0aGUge0BsaW5rIG5nU2FuaXRpemUgJHNhbml0aXplfSBtb2R1bGUgaXMgcHJlc2VudCB0aGlzIHdpbGwgc2FuaXRpemUgdGhlIHZhbHVlIGluc3RlYWQgb2YgdGhyb3dpbmcgYW4gZXJyb3IuIHxcbiAqIHwgYCRzY2UuQ1NTYCAgICAgICAgICB8IEZvciBDU1MgdGhhdCdzIHNhZmUgdG8gc291cmNlIGludG8gdGhlIGFwcGxpY2F0aW9uLiAgQ3VycmVudGx5IHVudXNlZC4gIEZlZWwgZnJlZSB0byB1c2UgaXQgaW4geW91ciBvd24gZGlyZWN0aXZlcy4gfFxuICogfCBgJHNjZS5VUkxgICAgICAgICAgIHwgRm9yIFVSTHMgdGhhdCBhcmUgc2FmZSB0byBmb2xsb3cgYXMgbGlua3MuICBDdXJyZW50bHkgdW51c2VkIChgPGEgaHJlZj1gIGFuZCBgPGltZyBzcmM9YCBzYW5pdGl6ZSB0aGVpciB1cmxzIGFuZCBkb24ndCBjb25zdGl0dXRlIGFuIFNDRSBjb250ZXh0LiB8XG4gKiB8IGAkc2NlLlJFU09VUkNFX1VSTGAgfCBGb3IgVVJMcyB0aGF0IGFyZSBub3Qgb25seSBzYWZlIHRvIGZvbGxvdyBhcyBsaW5rcywgYnV0IHdob3NlIGNvbnRlbnRzIGFyZSBhbHNvIHNhZmUgdG8gaW5jbHVkZSBpbiB5b3VyIGFwcGxpY2F0aW9uLiAgRXhhbXBsZXMgaW5jbHVkZSBgbmctaW5jbHVkZWAsIGBzcmNgIC8gYG5nU3JjYCBiaW5kaW5ncyBmb3IgdGFncyBvdGhlciB0aGFuIGBJTUdgIChlLmcuIGBJRlJBTUVgLCBgT0JKRUNUYCwgZXRjLikgIDxicj48YnI+Tm90ZSB0aGF0IGAkc2NlLlJFU09VUkNFX1VSTGAgbWFrZXMgYSBzdHJvbmdlciBzdGF0ZW1lbnQgYWJvdXQgdGhlIFVSTCB0aGFuIGAkc2NlLlVSTGAgZG9lcyBhbmQgdGhlcmVmb3JlIGNvbnRleHRzIHJlcXVpcmluZyB2YWx1ZXMgdHJ1c3RlZCBmb3IgYCRzY2UuUkVTT1VSQ0VfVVJMYCBjYW4gYmUgdXNlZCBhbnl3aGVyZSB0aGF0IHZhbHVlcyB0cnVzdGVkIGZvciBgJHNjZS5VUkxgIGFyZSByZXF1aXJlZC4gfFxuICogfCBgJHNjZS5KU2AgICAgICAgICAgIHwgRm9yIEphdmFTY3JpcHQgdGhhdCBpcyBzYWZlIHRvIGV4ZWN1dGUgaW4geW91ciBhcHBsaWNhdGlvbidzIGNvbnRleHQuICBDdXJyZW50bHkgdW51c2VkLiAgRmVlbCBmcmVlIHRvIHVzZSBpdCBpbiB5b3VyIG93biBkaXJlY3RpdmVzLiB8XG4gKlxuICogIyMgRm9ybWF0IG9mIGl0ZW1zIGluIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCByZXNvdXJjZVVybFdoaXRlbGlzdH0ve0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0IEJsYWNrbGlzdH0gPGEgbmFtZT1cInJlc291cmNlVXJsUGF0dGVybkl0ZW1cIj48L2E+XG4gKlxuICogIEVhY2ggZWxlbWVudCBpbiB0aGVzZSBhcnJheXMgbXVzdCBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZzpcbiAqXG4gKiAgLSAqKidzZWxmJyoqXG4gKiAgICAtIFRoZSBzcGVjaWFsICoqc3RyaW5nKiosIGAnc2VsZidgLCBjYW4gYmUgdXNlZCB0byBtYXRjaCBhZ2FpbnN0IGFsbCBVUkxzIG9mIHRoZSAqKnNhbWVcbiAqICAgICAgZG9tYWluKiogYXMgdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50IHVzaW5nIHRoZSAqKnNhbWUgcHJvdG9jb2wqKi5cbiAqICAtICoqU3RyaW5nKiogKGV4Y2VwdCB0aGUgc3BlY2lhbCB2YWx1ZSBgJ3NlbGYnYClcbiAqICAgIC0gVGhlIHN0cmluZyBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGZ1bGwgKm5vcm1hbGl6ZWQgLyBhYnNvbHV0ZSBVUkwqIG9mIHRoZSByZXNvdXJjZVxuICogICAgICBiZWluZyB0ZXN0ZWQgKHN1YnN0cmluZyBtYXRjaGVzIGFyZSBub3QgZ29vZCBlbm91Z2guKVxuICogICAgLSBUaGVyZSBhcmUgZXhhY3RseSAqKnR3byB3aWxkY2FyZCBzZXF1ZW5jZXMqKiAtIGAqYCBhbmQgYCoqYC4gIEFsbCBvdGhlciBjaGFyYWN0ZXJzXG4gKiAgICAgIG1hdGNoIHRoZW1zZWx2ZXMuXG4gKiAgICAtIGAqYDogbWF0Y2hlcyB6ZXJvIG9yIG1vcmUgb2NjdXJyZW5jZXMgb2YgYW55IGNoYXJhY3RlciBvdGhlciB0aGFuIG9uZSBvZiB0aGUgZm9sbG93aW5nIDZcbiAqICAgICAgY2hhcmFjdGVyczogJ2A6YCcsICdgL2AnLCAnYC5gJywgJ2A/YCcsICdgJmAnIGFuZCAnOycuICBJdCdzIGEgdXNlZnVsIHdpbGRjYXJkIGZvciB1c2VcbiAqICAgICAgaW4gYSB3aGl0ZWxpc3QuXG4gKiAgICAtIGAqKmA6IG1hdGNoZXMgemVybyBvciBtb3JlIG9jY3VycmVuY2VzIG9mICphbnkqIGNoYXJhY3Rlci4gIEFzIHN1Y2gsIGl0J3Mgbm90XG4gKiAgICAgIG5vdCBhcHByb3ByaWF0ZSB0byB1c2UgaW4gZm9yIGEgc2NoZW1lLCBkb21haW4sIGV0Yy4gYXMgaXQgd291bGQgbWF0Y2ggdG9vIG11Y2guICAoZS5nLlxuICogICAgICBodHRwOi8vKiouZXhhbXBsZS5jb20vIHdvdWxkIG1hdGNoIGh0dHA6Ly9ldmlsLmNvbS8/aWdub3JlPS5leGFtcGxlLmNvbS8gYW5kIHRoYXQgbWlnaHRcbiAqICAgICAgbm90IGhhdmUgYmVlbiB0aGUgaW50ZW50aW9uLikgIEl0cyB1c2FnZSBhdCB0aGUgdmVyeSBlbmQgb2YgdGhlIHBhdGggaXMgb2suICAoZS5nLlxuICogICAgICBodHRwOi8vZm9vLmV4YW1wbGUuY29tL3RlbXBsYXRlcy8qKikuXG4gKiAgLSAqKlJlZ0V4cCoqICgqc2VlIGNhdmVhdCBiZWxvdyopXG4gKiAgICAtICpDYXZlYXQqOiAgV2hpbGUgcmVndWxhciBleHByZXNzaW9ucyBhcmUgcG93ZXJmdWwgYW5kIG9mZmVyIGdyZWF0IGZsZXhpYmlsaXR5LCAgdGhlaXIgc3ludGF4XG4gKiAgICAgIChhbmQgYWxsIHRoZSBpbmV2aXRhYmxlIGVzY2FwaW5nKSBtYWtlcyB0aGVtICpoYXJkZXIgdG8gbWFpbnRhaW4qLiAgSXQncyBlYXN5IHRvXG4gKiAgICAgIGFjY2lkZW50YWxseSBpbnRyb2R1Y2UgYSBidWcgd2hlbiBvbmUgdXBkYXRlcyBhIGNvbXBsZXggZXhwcmVzc2lvbiAoaW1obywgYWxsIHJlZ2V4ZXMgc2hvdWxkXG4gKiAgICAgIGhhdmUgZ29vZCB0ZXN0IGNvdmVyYWdlLikuICBGb3IgaW5zdGFuY2UsIHRoZSB1c2Ugb2YgYC5gIGluIHRoZSByZWdleCBpcyBjb3JyZWN0IG9ubHkgaW4gYVxuICogICAgICBzbWFsbCBudW1iZXIgb2YgY2FzZXMuICBBIGAuYCBjaGFyYWN0ZXIgaW4gdGhlIHJlZ2V4IHVzZWQgd2hlbiBtYXRjaGluZyB0aGUgc2NoZW1lIG9yIGFcbiAqICAgICAgc3ViZG9tYWluIGNvdWxkIGJlIG1hdGNoZWQgYWdhaW5zdCBhIGA6YCBvciBsaXRlcmFsIGAuYCB0aGF0IHdhcyBsaWtlbHkgbm90IGludGVuZGVkLiAgIEl0XG4gKiAgICAgIGlzIGhpZ2hseSByZWNvbW1lbmRlZCB0byB1c2UgdGhlIHN0cmluZyBwYXR0ZXJucyBhbmQgb25seSBmYWxsIGJhY2sgdG8gcmVndWxhciBleHByZXNzaW9uc1xuICogICAgICBpZiB0aGV5IGFzIGEgbGFzdCByZXNvcnQuXG4gKiAgICAtIFRoZSByZWd1bGFyIGV4cHJlc3Npb24gbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBSZWdFeHAgKGkuZS4gbm90IGEgc3RyaW5nLikgIEl0IGlzXG4gKiAgICAgIG1hdGNoZWQgYWdhaW5zdCB0aGUgKiplbnRpcmUqKiAqbm9ybWFsaXplZCAvIGFic29sdXRlIFVSTCogb2YgdGhlIHJlc291cmNlIGJlaW5nIHRlc3RlZFxuICogICAgICAoZXZlbiB3aGVuIHRoZSBSZWdFeHAgZGlkIG5vdCBoYXZlIHRoZSBgXmAgYW5kIGAkYCBjb2Rlcy4pICBJbiBhZGRpdGlvbiwgYW55IGZsYWdzXG4gKiAgICAgIHByZXNlbnQgb24gdGhlIFJlZ0V4cCAoc3VjaCBhcyBtdWx0aWxpbmUsIGdsb2JhbCwgaWdub3JlQ2FzZSkgYXJlIGlnbm9yZWQuXG4gKiAgICAtIElmIHlvdSBhcmUgZ2VuZXJhdGluZyB5b3VyIEphdmFTY3JpcHQgZnJvbSBzb21lIG90aGVyIHRlbXBsYXRpbmcgZW5naW5lIChub3RcbiAqICAgICAgcmVjb21tZW5kZWQsIGUuZy4gaW4gaXNzdWUgWyM0MDA2XShodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy80MDA2KSksXG4gKiAgICAgIHJlbWVtYmVyIHRvIGVzY2FwZSB5b3VyIHJlZ3VsYXIgZXhwcmVzc2lvbiAoYW5kIGJlIGF3YXJlIHRoYXQgeW91IG1pZ2h0IG5lZWQgbW9yZSB0aGFuXG4gKiAgICAgIG9uZSBsZXZlbCBvZiBlc2NhcGluZyBkZXBlbmRpbmcgb24geW91ciB0ZW1wbGF0aW5nIGVuZ2luZSBhbmQgdGhlIHdheSB5b3UgaW50ZXJwb2xhdGVkXG4gKiAgICAgIHRoZSB2YWx1ZS4pICBEbyBtYWtlIHVzZSBvZiB5b3VyIHBsYXRmb3JtJ3MgZXNjYXBpbmcgbWVjaGFuaXNtIGFzIGl0IG1pZ2h0IGJlIGdvb2RcbiAqICAgICAgZW5vdWdoIGJlZm9yZSBjb2RpbmcgeW91ciBvd24uICBlLmcuIFJ1YnkgaGFzXG4gKiAgICAgIFtSZWdleHAuZXNjYXBlKHN0cildKGh0dHA6Ly93d3cucnVieS1kb2Mub3JnL2NvcmUtMi4wLjAvUmVnZXhwLmh0bWwjbWV0aG9kLWMtZXNjYXBlKVxuICogICAgICBhbmQgUHl0aG9uIGhhcyBbcmUuZXNjYXBlXShodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvcmUuaHRtbCNyZS5lc2NhcGUpLlxuICogICAgICBKYXZhc2NyaXB0IGxhY2tzIGEgc2ltaWxhciBidWlsdCBpbiBmdW5jdGlvbiBmb3IgZXNjYXBpbmcuICBUYWtlIGEgbG9vayBhdCBHb29nbGVcbiAqICAgICAgQ2xvc3VyZSBsaWJyYXJ5J3MgW2dvb2cuc3RyaW5nLnJlZ0V4cEVzY2FwZShzKV0oXG4gKiAgICAgIGh0dHA6Ly9kb2NzLmNsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9naXQvY2xvc3VyZV9nb29nX3N0cmluZ19zdHJpbmcuanMuc291cmNlLmh0bWwjbGluZTk2MikuXG4gKlxuICogUmVmZXIge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyICRzY2VEZWxlZ2F0ZVByb3ZpZGVyfSBmb3IgYW4gZXhhbXBsZS5cbiAqXG4gKiAjIyBTaG93IG1lIGFuIGV4YW1wbGUgdXNpbmcgU0NFLlxuICpcbiAqIDxleGFtcGxlIG1vZHVsZT1cIm15U2NlQXBwXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIj5cbiAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gKiAgIDxkaXYgbmctY29udHJvbGxlcj1cIkFwcENvbnRyb2xsZXIgYXMgbXlDdHJsXCI+XG4gKiAgICAgPGkgbmctYmluZC1odG1sPVwibXlDdHJsLmV4cGxpY2l0bHlUcnVzdGVkSHRtbFwiIGlkPVwiZXhwbGljaXRseVRydXN0ZWRIdG1sXCI+PC9pPjxicj48YnI+XG4gKiAgICAgPGI+VXNlciBjb21tZW50czwvYj48YnI+XG4gKiAgICAgQnkgZGVmYXVsdCwgSFRNTCB0aGF0IGlzbid0IGV4cGxpY2l0bHkgdHJ1c3RlZCAoZS5nLiBBbGljZSdzIGNvbW1lbnQpIGlzIHNhbml0aXplZCB3aGVuXG4gKiAgICAgJHNhbml0aXplIGlzIGF2YWlsYWJsZS4gIElmICRzYW5pdGl6ZSBpc24ndCBhdmFpbGFibGUsIHRoaXMgcmVzdWx0cyBpbiBhbiBlcnJvciBpbnN0ZWFkIG9mIGFuXG4gKiAgICAgZXhwbG9pdC5cbiAqICAgICA8ZGl2IGNsYXNzPVwid2VsbFwiPlxuICogICAgICAgPGRpdiBuZy1yZXBlYXQ9XCJ1c2VyQ29tbWVudCBpbiBteUN0cmwudXNlckNvbW1lbnRzXCI+XG4gKiAgICAgICAgIDxiPnt7dXNlckNvbW1lbnQubmFtZX19PC9iPjpcbiAqICAgICAgICAgPHNwYW4gbmctYmluZC1odG1sPVwidXNlckNvbW1lbnQuaHRtbENvbW1lbnRcIiBjbGFzcz1cImh0bWxDb21tZW50XCI+PC9zcGFuPlxuICogICAgICAgICA8YnI+XG4gKiAgICAgICA8L2Rpdj5cbiAqICAgICA8L2Rpdj5cbiAqICAgPC9kaXY+XG4gKiA8L2ZpbGU+XG4gKlxuICogPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICogICBhbmd1bGFyLm1vZHVsZSgnbXlTY2VBcHAnLCBbJ25nU2FuaXRpemUnXSlcbiAqICAgICAuY29udHJvbGxlcignQXBwQ29udHJvbGxlcicsIFsnJGh0dHAnLCAnJHRlbXBsYXRlQ2FjaGUnLCAnJHNjZScsXG4gKiAgICAgICBmdW5jdGlvbigkaHR0cCwgJHRlbXBsYXRlQ2FjaGUsICRzY2UpIHtcbiAqICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICogICAgICAgICAkaHR0cC5nZXQoXCJ0ZXN0X2RhdGEuanNvblwiLCB7Y2FjaGU6ICR0ZW1wbGF0ZUNhY2hlfSkuc3VjY2VzcyhmdW5jdGlvbih1c2VyQ29tbWVudHMpIHtcbiAqICAgICAgICAgICBzZWxmLnVzZXJDb21tZW50cyA9IHVzZXJDb21tZW50cztcbiAqICAgICAgICAgfSk7XG4gKiAgICAgICAgIHNlbGYuZXhwbGljaXRseVRydXN0ZWRIdG1sID0gJHNjZS50cnVzdEFzSHRtbChcbiAqICAgICAgICAgICAgICc8c3BhbiBvbm1vdXNlb3Zlcj1cInRoaXMudGV4dENvbnRlbnQ9JnF1b3Q7RXhwbGljaXRseSB0cnVzdGVkIEhUTUwgYnlwYXNzZXMgJyArXG4gKiAgICAgICAgICAgICAnc2FuaXRpemF0aW9uLiZxdW90O1wiPkhvdmVyIG92ZXIgdGhpcyB0ZXh0Ljwvc3Bhbj4nKTtcbiAqICAgICAgIH1dKTtcbiAqIDwvZmlsZT5cbiAqXG4gKiA8ZmlsZSBuYW1lPVwidGVzdF9kYXRhLmpzb25cIj5cbiAqIFtcbiAqICAgeyBcIm5hbWVcIjogXCJBbGljZVwiLFxuICogICAgIFwiaHRtbENvbW1lbnRcIjpcbiAqICAgICAgICAgXCI8c3BhbiBvbm1vdXNlb3Zlcj0ndGhpcy50ZXh0Q29udGVudD1cXFwiUFdOM0QhXFxcIic+SXMgPGk+YW55b25lPC9pPiByZWFkaW5nIHRoaXM/PC9zcGFuPlwiXG4gKiAgIH0sXG4gKiAgIHsgXCJuYW1lXCI6IFwiQm9iXCIsXG4gKiAgICAgXCJodG1sQ29tbWVudFwiOiBcIjxpPlllcyE8L2k+ICBBbSBJIHRoZSBvbmx5IG90aGVyIG9uZT9cIlxuICogICB9XG4gKiBdXG4gKiA8L2ZpbGU+XG4gKlxuICogPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICogICBkZXNjcmliZSgnU0NFIGRvYyBkZW1vJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgaXQoJ3Nob3VsZCBzYW5pdGl6ZSB1bnRydXN0ZWQgdmFsdWVzJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCcuaHRtbENvbW1lbnQnKSkuZmlyc3QoKS5nZXRJbm5lckh0bWwoKSlcbiAqICAgICAgICAgICAudG9CZSgnPHNwYW4+SXMgPGk+YW55b25lPC9pPiByZWFkaW5nIHRoaXM/PC9zcGFuPicpO1xuICogICAgIH0pO1xuICpcbiAqICAgICBpdCgnc2hvdWxkIE5PVCBzYW5pdGl6ZSBleHBsaWNpdGx5IHRydXN0ZWQgdmFsdWVzJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZXhwbGljaXRseVRydXN0ZWRIdG1sJykpLmdldElubmVySHRtbCgpKS50b0JlKFxuICogICAgICAgICAgICc8c3BhbiBvbm1vdXNlb3Zlcj1cInRoaXMudGV4dENvbnRlbnQ9JnF1b3Q7RXhwbGljaXRseSB0cnVzdGVkIEhUTUwgYnlwYXNzZXMgJyArXG4gKiAgICAgICAgICAgJ3Nhbml0aXphdGlvbi4mcXVvdDtcIj5Ib3ZlciBvdmVyIHRoaXMgdGV4dC48L3NwYW4+Jyk7XG4gKiAgICAgfSk7XG4gKiAgIH0pO1xuICogPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqXG4gKlxuICogIyMgQ2FuIEkgZGlzYWJsZSBTQ0UgY29tcGxldGVseT9cbiAqXG4gKiBZZXMsIHlvdSBjYW4uICBIb3dldmVyLCB0aGlzIGlzIHN0cm9uZ2x5IGRpc2NvdXJhZ2VkLiAgU0NFIGdpdmVzIHlvdSBhIGxvdCBvZiBzZWN1cml0eSBiZW5lZml0c1xuICogZm9yIGxpdHRsZSBjb2Rpbmcgb3ZlcmhlYWQuICBJdCB3aWxsIGJlIG11Y2ggaGFyZGVyIHRvIHRha2UgYW4gU0NFIGRpc2FibGVkIGFwcGxpY2F0aW9uIGFuZFxuICogZWl0aGVyIHNlY3VyZSBpdCBvbiB5b3VyIG93biBvciBlbmFibGUgU0NFIGF0IGEgbGF0ZXIgc3RhZ2UuICBJdCBtaWdodCBtYWtlIHNlbnNlIHRvIGRpc2FibGUgU0NFXG4gKiBmb3IgY2FzZXMgd2hlcmUgeW91IGhhdmUgYSBsb3Qgb2YgZXhpc3RpbmcgY29kZSB0aGF0IHdhcyB3cml0dGVuIGJlZm9yZSBTQ0Ugd2FzIGludHJvZHVjZWQgYW5kXG4gKiB5b3UncmUgbWlncmF0aW5nIHRoZW0gYSBtb2R1bGUgYXQgYSB0aW1lLlxuICpcbiAqIFRoYXQgc2FpZCwgaGVyZSdzIGhvdyB5b3UgY2FuIGNvbXBsZXRlbHkgZGlzYWJsZSBTQ0U6XG4gKlxuICogYGBgXG4gKiBhbmd1bGFyLm1vZHVsZSgnbXlBcHBXaXRoU2NlRGlzYWJsZWRteUFwcCcsIFtdKS5jb25maWcoZnVuY3Rpb24oJHNjZVByb3ZpZGVyKSB7XG4gKiAgIC8vIENvbXBsZXRlbHkgZGlzYWJsZSBTQ0UuICBGb3IgZGVtb25zdHJhdGlvbiBwdXJwb3NlcyBvbmx5IVxuICogICAvLyBEbyBub3QgdXNlIGluIG5ldyBwcm9qZWN0cy5cbiAqICAgJHNjZVByb3ZpZGVyLmVuYWJsZWQoZmFsc2UpO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKi9cbi8qIGpzaGludCBtYXhsZW46IDEwMCAqL1xuXG5mdW5jdGlvbiAkU2NlUHJvdmlkZXIoKSB7XG4gIHZhciBlbmFibGVkID0gdHJ1ZTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkc2NlUHJvdmlkZXIjZW5hYmxlZFxuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSB2YWx1ZSBJZiBwcm92aWRlZCwgdGhlbiBlbmFibGVzL2Rpc2FibGVzIFNDRS5cbiAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBTQ0UgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogRW5hYmxlcy9kaXNhYmxlcyBTQ0UgYW5kIHJldHVybnMgdGhlIGN1cnJlbnQgdmFsdWUuXG4gICAqL1xuICB0aGlzLmVuYWJsZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBlbmFibGVkID0gISF2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGVuYWJsZWQ7XG4gIH07XG5cblxuICAvKiBEZXNpZ24gbm90ZXMgb24gdGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gZm9yIFNDRS5cbiAgICpcbiAgICogVGhlIEFQSSBjb250cmFjdCBmb3IgdGhlIFNDRSBkZWxlZ2F0ZVxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAqIFRoZSBTQ0UgZGVsZWdhdGUgb2JqZWN0IG11c3QgcHJvdmlkZSB0aGUgZm9sbG93aW5nIDMgbWV0aG9kczpcbiAgICpcbiAgICogLSB0cnVzdEFzKGNvbnRleHRFbnVtLCB2YWx1ZSlcbiAgICogICAgIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gdGVsbCB0aGUgU0NFIHNlcnZpY2UgdGhhdCB0aGUgcHJvdmlkZWQgdmFsdWUgaXMgT0sgdG8gdXNlIGluIHRoZVxuICAgKiAgICAgY29udGV4dHMgc3BlY2lmaWVkIGJ5IGNvbnRleHRFbnVtLiAgSXQgbXVzdCByZXR1cm4gYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBhY2NlcHRlZCBieVxuICAgKiAgICAgZ2V0VHJ1c3RlZCgpIGZvciBhIGNvbXBhdGlibGUgY29udGV4dEVudW0gYW5kIHJldHVybiB0aGlzIHZhbHVlLlxuICAgKlxuICAgKiAtIHZhbHVlT2YodmFsdWUpXG4gICAqICAgICBGb3IgdmFsdWVzIHRoYXQgd2VyZSBub3QgcHJvZHVjZWQgYnkgdHJ1c3RBcygpLCByZXR1cm4gdGhlbSBhcyBpcy4gIEZvciB2YWx1ZXMgdGhhdCB3ZXJlXG4gICAqICAgICBwcm9kdWNlZCBieSB0cnVzdEFzKCksIHJldHVybiB0aGUgY29ycmVzcG9uZGluZyBpbnB1dCB2YWx1ZSB0byB0cnVzdEFzLiAgQmFzaWNhbGx5LCBpZlxuICAgKiAgICAgdHJ1c3RBcyBpcyB3cmFwcGluZyB0aGUgZ2l2ZW4gdmFsdWVzIGludG8gc29tZSB0eXBlLCB0aGlzIG9wZXJhdGlvbiB1bndyYXBzIGl0IHdoZW4gZ2l2ZW5cbiAgICogICAgIHN1Y2ggYSB2YWx1ZS5cbiAgICpcbiAgICogLSBnZXRUcnVzdGVkKGNvbnRleHRFbnVtLCB2YWx1ZSlcbiAgICogICAgIFRoaXMgZnVuY3Rpb24gc2hvdWxkIHJldHVybiB0aGUgYSB2YWx1ZSB0aGF0IGlzIHNhZmUgdG8gdXNlIGluIHRoZSBjb250ZXh0IHNwZWNpZmllZCBieVxuICAgKiAgICAgY29udGV4dEVudW0gb3IgdGhyb3cgYW5kIGV4Y2VwdGlvbiBvdGhlcndpc2UuXG4gICAqXG4gICAqIE5PVEU6IFRoaXMgY29udHJhY3QgZGVsaWJlcmF0ZWx5IGRvZXMgTk9UIHN0YXRlIHRoYXQgdmFsdWVzIHJldHVybmVkIGJ5IHRydXN0QXMoKSBtdXN0IGJlXG4gICAqIG9wYXF1ZSBvciB3cmFwcGVkIGluIHNvbWUgaG9sZGVyIG9iamVjdC4gIFRoYXQgaGFwcGVucyB0byBiZSBhbiBpbXBsZW1lbnRhdGlvbiBkZXRhaWwuICBGb3JcbiAgICogaW5zdGFuY2UsIGFuIGltcGxlbWVudGF0aW9uIGNvdWxkIG1haW50YWluIGEgcmVnaXN0cnkgb2YgYWxsIHRydXN0ZWQgb2JqZWN0cyBieSBjb250ZXh0LiAgSW5cbiAgICogc3VjaCBhIGNhc2UsIHRydXN0QXMoKSB3b3VsZCByZXR1cm4gdGhlIHNhbWUgb2JqZWN0IHRoYXQgd2FzIHBhc3NlZCBpbi4gIGdldFRydXN0ZWQoKSB3b3VsZFxuICAgKiByZXR1cm4gdGhlIHNhbWUgb2JqZWN0IHBhc3NlZCBpbiBpZiBpdCB3YXMgZm91bmQgaW4gdGhlIHJlZ2lzdHJ5IHVuZGVyIGEgY29tcGF0aWJsZSBjb250ZXh0IG9yXG4gICAqIHRocm93IGFuIGV4Y2VwdGlvbiBvdGhlcndpc2UuICBBbiBpbXBsZW1lbnRhdGlvbiBtaWdodCBvbmx5IHdyYXAgdmFsdWVzIHNvbWUgb2YgdGhlIHRpbWUgYmFzZWRcbiAgICogb24gc29tZSBjcml0ZXJpYS4gIGdldFRydXN0ZWQoKSBtaWdodCByZXR1cm4gYSB2YWx1ZSBhbmQgbm90IHRocm93IGFuIGV4Y2VwdGlvbiBmb3Igc3BlY2lhbFxuICAgKiBjb25zdGFudHMgb3Igb2JqZWN0cyBldmVuIGlmIG5vdCB3cmFwcGVkLiAgQWxsIHN1Y2ggaW1wbGVtZW50YXRpb25zIGZ1bGZpbGwgdGhpcyBjb250cmFjdC5cbiAgICpcbiAgICpcbiAgICogQSBub3RlIG9uIHRoZSBpbmhlcml0YW5jZSBtb2RlbCBmb3IgU0NFIGNvbnRleHRzXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgKiBJJ3ZlIHVzZWQgaW5oZXJpdGFuY2UgYW5kIG1hZGUgUkVTT1VSQ0VfVVJMIHdyYXBwZWQgdHlwZXMgYSBzdWJ0eXBlIG9mIFVSTCB3cmFwcGVkIHR5cGVzLiAgVGhpc1xuICAgKiBpcyBwdXJlbHkgYW4gaW1wbGVtZW50YXRpb24gZGV0YWlscy5cbiAgICpcbiAgICogVGhlIGNvbnRyYWN0IGlzIHNpbXBseSB0aGlzOlxuICAgKlxuICAgKiAgICAgZ2V0VHJ1c3RlZCgkc2NlLlJFU09VUkNFX1VSTCwgdmFsdWUpIHN1Y2NlZWRpbmcgaW1wbGllcyB0aGF0IGdldFRydXN0ZWQoJHNjZS5VUkwsIHZhbHVlKVxuICAgKiAgICAgd2lsbCBhbHNvIHN1Y2NlZWQuXG4gICAqXG4gICAqIEluaGVyaXRhbmNlIGhhcHBlbnMgdG8gY2FwdHVyZSB0aGlzIGluIGEgbmF0dXJhbCB3YXkuICBJbiBzb21lIGZ1dHVyZSwgd2VcbiAgICogbWF5IG5vdCB1c2UgaW5oZXJpdGFuY2UgYW55bW9yZS4gIFRoYXQgaXMgT0sgYmVjYXVzZSBubyBjb2RlIG91dHNpZGUgb2ZcbiAgICogc2NlLmpzIGFuZCBzY2VTcGVjcy5qcyB3b3VsZCBuZWVkIHRvIGJlIGF3YXJlIG9mIHRoaXMgZGV0YWlsLlxuICAgKi9cblxuICB0aGlzLiRnZXQgPSBbJyRwYXJzZScsICckc2NlRGVsZWdhdGUnLCBmdW5jdGlvbihcbiAgICAgICAgICAgICAgICAkcGFyc2UsICAgJHNjZURlbGVnYXRlKSB7XG4gICAgLy8gUHJlcmVxOiBFbnN1cmUgdGhhdCB3ZSdyZSBub3QgcnVubmluZyBpbiBJRTwxMSBxdWlya3MgbW9kZS4gIEluIHRoYXQgbW9kZSwgSUUgPCAxMSBhbGxvd1xuICAgIC8vIHRoZSBcImV4cHJlc3Npb24oamF2YXNjcmlwdCBleHByZXNzaW9uKVwiIHN5bnRheCB3aGljaCBpcyBpbnNlY3VyZS5cbiAgICBpZiAoZW5hYmxlZCAmJiBtc2llIDwgOCkge1xuICAgICAgdGhyb3cgJHNjZU1pbkVycignaWVxdWlya3MnLFxuICAgICAgICAnU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgZG9lcyBub3Qgc3VwcG9ydCBJbnRlcm5ldCBFeHBsb3JlciB2ZXJzaW9uIDwgMTEgaW4gcXVpcmtzICcgK1xuICAgICAgICAnbW9kZS4gIFlvdSBjYW4gZml4IHRoaXMgYnkgYWRkaW5nIHRoZSB0ZXh0IDwhZG9jdHlwZSBodG1sPiB0byB0aGUgdG9wIG9mIHlvdXIgSFRNTCAnICtcbiAgICAgICAgJ2RvY3VtZW50LiAgU2VlIGh0dHA6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nLiRzY2UgZm9yIG1vcmUgaW5mb3JtYXRpb24uJyk7XG4gICAgfVxuXG4gICAgdmFyIHNjZSA9IHNoYWxsb3dDb3B5KFNDRV9DT05URVhUUyk7XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNpc0VuYWJsZWRcbiAgICAgKiBAa2luZCBmdW5jdGlvblxuICAgICAqXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBTQ0UgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLiAgSWYgeW91IHdhbnQgdG8gc2V0IHRoZSB2YWx1ZSwgeW91XG4gICAgICogaGF2ZSB0byBkbyBpdCBhdCBtb2R1bGUgY29uZmlnIHRpbWUgb24ge0BsaW5rIG5nLiRzY2VQcm92aWRlciAkc2NlUHJvdmlkZXJ9LlxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogUmV0dXJucyBhIGJvb2xlYW4gaW5kaWNhdGluZyBpZiBTQ0UgaXMgZW5hYmxlZC5cbiAgICAgKi9cbiAgICBzY2UuaXNFbmFibGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZW5hYmxlZDtcbiAgICB9O1xuICAgIHNjZS50cnVzdEFzID0gJHNjZURlbGVnYXRlLnRydXN0QXM7XG4gICAgc2NlLmdldFRydXN0ZWQgPSAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZDtcbiAgICBzY2UudmFsdWVPZiA9ICRzY2VEZWxlZ2F0ZS52YWx1ZU9mO1xuXG4gICAgaWYgKCFlbmFibGVkKSB7XG4gICAgICBzY2UudHJ1c3RBcyA9IHNjZS5nZXRUcnVzdGVkID0gZnVuY3Rpb24odHlwZSwgdmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuICAgICAgc2NlLnZhbHVlT2YgPSBpZGVudGl0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDb252ZXJ0cyBBbmd1bGFyIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGludG8gYSBmdW5jdGlvbi4gIFRoaXMgaXMgbGlrZSB7QGxpbmtcbiAgICAgKiBuZy4kcGFyc2UgJHBhcnNlfSBhbmQgaXMgaWRlbnRpY2FsIHdoZW4gdGhlIGV4cHJlc3Npb24gaXMgYSBsaXRlcmFsIGNvbnN0YW50LiAgT3RoZXJ3aXNlLCBpdFxuICAgICAqIHdyYXBzIHRoZSBleHByZXNzaW9uIGluIGEgY2FsbCB0byB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZCgqdHlwZSosXG4gICAgICogKnJlc3VsdCopfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGtpbmQgb2YgU0NFIGNvbnRleHQgaW4gd2hpY2ggdGhpcyByZXN1bHQgd2lsbCBiZSB1c2VkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcbiAgICAgKlxuICAgICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcbiAgICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cbiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXG4gICAgICogICAgICBgY29udGV4dGAuXG4gICAgICovXG4gICAgc2NlLnBhcnNlQXMgPSBmdW5jdGlvbiBzY2VQYXJzZUFzKHR5cGUsIGV4cHIpIHtcbiAgICAgIHZhciBwYXJzZWQgPSAkcGFyc2UoZXhwcik7XG4gICAgICBpZiAocGFyc2VkLmxpdGVyYWwgJiYgcGFyc2VkLmNvbnN0YW50KSB7XG4gICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJHBhcnNlKGV4cHIsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIHNjZS5nZXRUcnVzdGVkKHR5cGUsIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3RydXN0QXNcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIERlbGVnYXRlcyB0byB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0uICBBcyBzdWNoLFxuICAgICAqIHJldHVybnMgYW4gb2JqZWN0IHRoYXQgaXMgdHJ1c3RlZCBieSBhbmd1bGFyIGZvciB1c2UgaW4gc3BlY2lmaWVkIHN0cmljdCBjb250ZXh0dWFsXG4gICAgICogZXNjYXBpbmcgY29udGV4dHMgKHN1Y2ggYXMgbmctYmluZC1odG1sLCBuZy1pbmNsdWRlLCBhbnkgc3JjIGF0dHJpYnV0ZVxuICAgICAqIGludGVycG9sYXRpb24sIGFueSBkb20gZXZlbnQgYmluZGluZyBhdHRyaWJ1dGUgaW50ZXJwb2xhdGlvbiBzdWNoIGFzIGZvciBvbmNsaWNrLCAgZXRjLilcbiAgICAgKiB0aGF0IHVzZXMgdGhlIHByb3ZpZGVkIHZhbHVlLiAgU2VlICoge0BsaW5rIG5nLiRzY2UgJHNjZX0gZm9yIGVuYWJsaW5nIHN0cmljdCBjb250ZXh0dWFsXG4gICAgICogZXNjYXBpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUga2luZCBvZiBjb250ZXh0IGluIHdoaWNoIHRoaXMgdmFsdWUgaXMgc2FmZSBmb3IgdXNlLiAgZS5nLiB1cmwsXG4gICAgICogICByZXNvdXJjZVVybCwgaHRtbCwganMgYW5kIGNzcy5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0aGF0IHRoYXQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgdHJ1c3RlZC9zYWZlLlxuICAgICAqIEByZXR1cm5zIHsqfSBBIHZhbHVlIHRoYXQgY2FuIGJlIHVzZWQgdG8gc3RhbmQgaW4gZm9yIHRoZSBwcm92aWRlZCBgdmFsdWVgIGluIHBsYWNlc1xuICAgICAqIHdoZXJlIEFuZ3VsYXIgZXhwZWN0cyBhICRzY2UudHJ1c3RBcygpIHJldHVybiB2YWx1ZS5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3RydXN0QXNIdG1sXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc0h0bWwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBcygkc2NlLkhUTUwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB0cnVzdEFzLlxuICAgICAqIEByZXR1cm5zIHsqfSBBbiBvYmplY3QgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRIdG1sXG4gICAgICogICAgICRzY2UuZ2V0VHJ1c3RlZEh0bWwodmFsdWUpfSB0byBvYnRhaW4gdGhlIG9yaWdpbmFsIHZhbHVlLiAgKHByaXZpbGVnZWQgZGlyZWN0aXZlc1xuICAgICAqICAgICBvbmx5IGFjY2VwdCBleHByZXNzaW9ucyB0aGF0IGFyZSBlaXRoZXIgbGl0ZXJhbCBjb25zdGFudHMgb3IgYXJlIHRoZVxuICAgICAqICAgICByZXR1cm4gdmFsdWUgb2Yge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyAkc2NlLnRydXN0QXN9LilcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3RydXN0QXNVcmxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS50cnVzdEFzVXJsKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXMoJHNjZS5VUkwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB0cnVzdEFzLlxuICAgICAqIEByZXR1cm5zIHsqfSBBbiBvYmplY3QgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRVcmxcbiAgICAgKiAgICAgJHNjZS5nZXRUcnVzdGVkVXJsKHZhbHVlKX0gdG8gb2J0YWluIHRoZSBvcmlnaW5hbCB2YWx1ZS4gIChwcml2aWxlZ2VkIGRpcmVjdGl2ZXNcbiAgICAgKiAgICAgb25seSBhY2NlcHQgZXhwcmVzc2lvbnMgdGhhdCBhcmUgZWl0aGVyIGxpdGVyYWwgY29uc3RhbnRzIG9yIGFyZSB0aGVcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlIG9mIHtAbGluayBuZy4kc2NlI3RydXN0QXMgJHNjZS50cnVzdEFzfS4pXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSN0cnVzdEFzUmVzb3VyY2VVcmxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS50cnVzdEFzUmVzb3VyY2VVcmwodmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBcygkc2NlLlJFU09VUkNFX1VSTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHRydXN0QXMuXG4gICAgICogQHJldHVybnMgeyp9IEFuIG9iamVjdCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsXG4gICAgICogICAgICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsKHZhbHVlKX0gdG8gb2J0YWluIHRoZSBvcmlnaW5hbCB2YWx1ZS4gIChwcml2aWxlZ2VkIGRpcmVjdGl2ZXNcbiAgICAgKiAgICAgb25seSBhY2NlcHQgZXhwcmVzc2lvbnMgdGhhdCBhcmUgZWl0aGVyIGxpdGVyYWwgY29uc3RhbnRzIG9yIGFyZSB0aGUgcmV0dXJuXG4gICAgICogICAgIHZhbHVlIG9mIHtAbGluayBuZy4kc2NlI3RydXN0QXMgJHNjZS50cnVzdEFzfS4pXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSN0cnVzdEFzSnNcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS50cnVzdEFzSnModmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBcygkc2NlLkpTLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gdHJ1c3RBcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gQW4gb2JqZWN0IHRoYXQgY2FuIGJlIHBhc3NlZCB0byB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkSnNcbiAgICAgKiAgICAgJHNjZS5nZXRUcnVzdGVkSnModmFsdWUpfSB0byBvYnRhaW4gdGhlIG9yaWdpbmFsIHZhbHVlLiAgKHByaXZpbGVnZWQgZGlyZWN0aXZlc1xuICAgICAqICAgICBvbmx5IGFjY2VwdCBleHByZXNzaW9ucyB0aGF0IGFyZSBlaXRoZXIgbGl0ZXJhbCBjb25zdGFudHMgb3IgYXJlIHRoZVxuICAgICAqICAgICByZXR1cm4gdmFsdWUgb2Yge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyAkc2NlLnRydXN0QXN9LilcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIERlbGVnYXRlcyB0byB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkYH0uICBBcyBzdWNoLFxuICAgICAqIHRha2VzIHRoZSByZXN1bHQgb2YgYSB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzIGAkc2NlLnRydXN0QXNgfSgpIGNhbGwgYW5kIHJldHVybnMgdGhlXG4gICAgICogb3JpZ2luYWxseSBzdXBwbGllZCB2YWx1ZSBpZiB0aGUgcXVlcmllZCBjb250ZXh0IHR5cGUgaXMgYSBzdXBlcnR5cGUgb2YgdGhlIGNyZWF0ZWQgdHlwZS5cbiAgICAgKiBJZiB0aGlzIGNvbmRpdGlvbiBpc24ndCBzYXRpc2ZpZWQsIHRocm93cyBhbiBleGNlcHRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUga2luZCBvZiBjb250ZXh0IGluIHdoaWNoIHRoaXMgdmFsdWUgaXMgdG8gYmUgdXNlZC5cbiAgICAgKiBAcGFyYW0geyp9IG1heWJlVHJ1c3RlZCBUaGUgcmVzdWx0IG9mIGEgcHJpb3Ige0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyBgJHNjZS50cnVzdEFzYH1cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsLlxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgdGhlIHdhcyBvcmlnaW5hbGx5IHByb3ZpZGVkIHRvXG4gICAgICogICAgICAgICAgICAgIHtAbGluayBuZy4kc2NlI3RydXN0QXMgYCRzY2UudHJ1c3RBc2B9IGlmIHZhbGlkIGluIHRoaXMgY29udGV4dC5cbiAgICAgKiAgICAgICAgICAgICAgT3RoZXJ3aXNlLCB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZEh0bWxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkSHRtbCh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkKCRzY2UuSFRNTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2UuZ2V0VHJ1c3RlZGAuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLkhUTUwsIHZhbHVlKWBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRDc3NcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkQ3NzKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5DU1MsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlLmdldFRydXN0ZWRgLlxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5DU1MsIHZhbHVlKWBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRVcmxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkVXJsKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWQoJHNjZS5VUkwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlLmdldFRydXN0ZWRgLlxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5VUkwsIHZhbHVlKWBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRSZXNvdXJjZVVybFxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybCh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWRgLlxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKWBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRKc1xuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRKcyh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkKCRzY2UuSlMsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlLmdldFRydXN0ZWRgLlxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5KUywgdmFsdWUpYFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc0h0bWxcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5wYXJzZUFzSHRtbChleHByZXNzaW9uIHN0cmluZylgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZUFzIGAkc2NlLnBhcnNlQXMoJHNjZS5IVE1MLCB2YWx1ZSlgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gYSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxuICAgICAqXG4gICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xuICAgICAqICAgICAgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxuICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW5cbiAgICAgKiAgICAgIGBjb250ZXh0YC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNDc3NcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5wYXJzZUFzQ3NzKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlQXMgYCRzY2UucGFyc2VBcygkc2NlLkNTUywgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcbiAgICAgKlxuICAgICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcbiAgICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cbiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXG4gICAgICogICAgICBgY29udGV4dGAuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzVXJsXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UucGFyc2VBc1VybCh2YWx1ZSlgIOKGklxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZUFzIGAkc2NlLnBhcnNlQXMoJHNjZS5VUkwsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gICAgICpcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXG4gICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxuICAgICAqICAgICAgYGNvbnRleHRgLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc1Jlc291cmNlVXJsXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UucGFyc2VBc1Jlc291cmNlVXJsKHZhbHVlKWAg4oaSXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlQXMgYCRzY2UucGFyc2VBcygkc2NlLlJFU09VUkNFX1VSTCwgdmFsdWUpYH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcbiAgICAgKlxuICAgICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcbiAgICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cbiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXG4gICAgICogICAgICBgY29udGV4dGAuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzSnNcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5wYXJzZUFzSnModmFsdWUpYCDihpJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuSlMsIHZhbHVlKWB9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XG4gICAgICpcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXG4gICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxuICAgICAqICAgICAgYGNvbnRleHRgLlxuICAgICAqL1xuXG4gICAgLy8gU2hvcnRoYW5kIGRlbGVnYXRpb25zLlxuICAgIHZhciBwYXJzZSA9IHNjZS5wYXJzZUFzLFxuICAgICAgICBnZXRUcnVzdGVkID0gc2NlLmdldFRydXN0ZWQsXG4gICAgICAgIHRydXN0QXMgPSBzY2UudHJ1c3RBcztcblxuICAgIGZvckVhY2goU0NFX0NPTlRFWFRTLCBmdW5jdGlvbihlbnVtVmFsdWUsIG5hbWUpIHtcbiAgICAgIHZhciBsTmFtZSA9IGxvd2VyY2FzZShuYW1lKTtcbiAgICAgIHNjZVtjYW1lbENhc2UoXCJwYXJzZV9hc19cIiArIGxOYW1lKV0gPSBmdW5jdGlvbihleHByKSB7XG4gICAgICAgIHJldHVybiBwYXJzZShlbnVtVmFsdWUsIGV4cHIpO1xuICAgICAgfTtcbiAgICAgIHNjZVtjYW1lbENhc2UoXCJnZXRfdHJ1c3RlZF9cIiArIGxOYW1lKV0gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZ2V0VHJ1c3RlZChlbnVtVmFsdWUsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgICBzY2VbY2FtZWxDYXNlKFwidHJ1c3RfYXNfXCIgKyBsTmFtZSldID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRydXN0QXMoZW51bVZhbHVlLCB2YWx1ZSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNjZTtcbiAgfV07XG59XG5cbi8qKlxuICogISEhIFRoaXMgaXMgYW4gdW5kb2N1bWVudGVkIFwicHJpdmF0ZVwiIHNlcnZpY2UgISEhXG4gKlxuICogQG5hbWUgJHNuaWZmZXJcbiAqIEByZXF1aXJlcyAkd2luZG93XG4gKiBAcmVxdWlyZXMgJGRvY3VtZW50XG4gKlxuICogQHByb3BlcnR5IHtib29sZWFufSBoaXN0b3J5IERvZXMgdGhlIGJyb3dzZXIgc3VwcG9ydCBodG1sNSBoaXN0b3J5IGFwaSA/XG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHRyYW5zaXRpb25zIERvZXMgdGhlIGJyb3dzZXIgc3VwcG9ydCBDU1MgdHJhbnNpdGlvbiBldmVudHMgP1xuICogQHByb3BlcnR5IHtib29sZWFufSBhbmltYXRpb25zIERvZXMgdGhlIGJyb3dzZXIgc3VwcG9ydCBDU1MgYW5pbWF0aW9uIGV2ZW50cyA/XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGlzIGlzIHZlcnkgc2ltcGxlIGltcGxlbWVudGF0aW9uIG9mIHRlc3RpbmcgYnJvd3NlcidzIGZlYXR1cmVzLlxuICovXG5mdW5jdGlvbiAkU25pZmZlclByb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCAnJGRvY3VtZW50JywgZnVuY3Rpb24oJHdpbmRvdywgJGRvY3VtZW50KSB7XG4gICAgdmFyIGV2ZW50U3VwcG9ydCA9IHt9LFxuICAgICAgICBhbmRyb2lkID1cbiAgICAgICAgICB0b0ludCgoL2FuZHJvaWQgKFxcZCspLy5leGVjKGxvd2VyY2FzZSgoJHdpbmRvdy5uYXZpZ2F0b3IgfHwge30pLnVzZXJBZ2VudCkpIHx8IFtdKVsxXSksXG4gICAgICAgIGJveGVlID0gL0JveGVlL2kudGVzdCgoJHdpbmRvdy5uYXZpZ2F0b3IgfHwge30pLnVzZXJBZ2VudCksXG4gICAgICAgIGRvY3VtZW50ID0gJGRvY3VtZW50WzBdIHx8IHt9LFxuICAgICAgICB2ZW5kb3JQcmVmaXgsXG4gICAgICAgIHZlbmRvclJlZ2V4ID0gL14oTW96fHdlYmtpdHxtcykoPz1bQS1aXSkvLFxuICAgICAgICBib2R5U3R5bGUgPSBkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmJvZHkuc3R5bGUsXG4gICAgICAgIHRyYW5zaXRpb25zID0gZmFsc2UsXG4gICAgICAgIGFuaW1hdGlvbnMgPSBmYWxzZSxcbiAgICAgICAgbWF0Y2g7XG5cbiAgICBpZiAoYm9keVN0eWxlKSB7XG4gICAgICBmb3IgKHZhciBwcm9wIGluIGJvZHlTdHlsZSkge1xuICAgICAgICBpZiAobWF0Y2ggPSB2ZW5kb3JSZWdleC5leGVjKHByb3ApKSB7XG4gICAgICAgICAgdmVuZG9yUHJlZml4ID0gbWF0Y2hbMF07XG4gICAgICAgICAgdmVuZG9yUHJlZml4ID0gdmVuZG9yUHJlZml4LnN1YnN0cigwLCAxKS50b1VwcGVyQ2FzZSgpICsgdmVuZG9yUHJlZml4LnN1YnN0cigxKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXZlbmRvclByZWZpeCkge1xuICAgICAgICB2ZW5kb3JQcmVmaXggPSAoJ1dlYmtpdE9wYWNpdHknIGluIGJvZHlTdHlsZSkgJiYgJ3dlYmtpdCc7XG4gICAgICB9XG5cbiAgICAgIHRyYW5zaXRpb25zID0gISEoKCd0cmFuc2l0aW9uJyBpbiBib2R5U3R5bGUpIHx8ICh2ZW5kb3JQcmVmaXggKyAnVHJhbnNpdGlvbicgaW4gYm9keVN0eWxlKSk7XG4gICAgICBhbmltYXRpb25zICA9ICEhKCgnYW5pbWF0aW9uJyBpbiBib2R5U3R5bGUpIHx8ICh2ZW5kb3JQcmVmaXggKyAnQW5pbWF0aW9uJyBpbiBib2R5U3R5bGUpKTtcblxuICAgICAgaWYgKGFuZHJvaWQgJiYgKCF0cmFuc2l0aW9ucyB8fCAgIWFuaW1hdGlvbnMpKSB7XG4gICAgICAgIHRyYW5zaXRpb25zID0gaXNTdHJpbmcoYm9keVN0eWxlLndlYmtpdFRyYW5zaXRpb24pO1xuICAgICAgICBhbmltYXRpb25zID0gaXNTdHJpbmcoYm9keVN0eWxlLndlYmtpdEFuaW1hdGlvbik7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICByZXR1cm4ge1xuICAgICAgLy8gQW5kcm9pZCBoYXMgaGlzdG9yeS5wdXNoU3RhdGUsIGJ1dCBpdCBkb2VzIG5vdCB1cGRhdGUgbG9jYXRpb24gY29ycmVjdGx5XG4gICAgICAvLyBzbyBsZXQncyBub3QgdXNlIHRoZSBoaXN0b3J5IEFQSSBhdCBhbGwuXG4gICAgICAvLyBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvYW5kcm9pZC9pc3N1ZXMvZGV0YWlsP2lkPTE3NDcxXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy85MDRcblxuICAgICAgLy8gb2xkZXIgd2Via2l0IGJyb3dzZXIgKDUzMy45KSBvbiBCb3hlZSBib3ggaGFzIGV4YWN0bHkgdGhlIHNhbWUgcHJvYmxlbSBhcyBBbmRyb2lkIGhhc1xuICAgICAgLy8gc28gbGV0J3Mgbm90IHVzZSB0aGUgaGlzdG9yeSBBUEkgYWxzb1xuICAgICAgLy8gV2UgYXJlIHB1cnBvc2VmdWxseSB1c2luZyBgIShhbmRyb2lkIDwgNClgIHRvIGNvdmVyIHRoZSBjYXNlIHdoZW4gYGFuZHJvaWRgIGlzIHVuZGVmaW5lZFxuICAgICAgLy8ganNoaW50IC1XMDE4XG4gICAgICBoaXN0b3J5OiAhISgkd2luZG93Lmhpc3RvcnkgJiYgJHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSAmJiAhKGFuZHJvaWQgPCA0KSAmJiAhYm94ZWUpLFxuICAgICAgLy8ganNoaW50ICtXMDE4XG4gICAgICBoYXNFdmVudDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgLy8gSUU5IGltcGxlbWVudHMgJ2lucHV0JyBldmVudCBpdCdzIHNvIGZ1YmFyZWQgdGhhdCB3ZSByYXRoZXIgcHJldGVuZCB0aGF0IGl0IGRvZXNuJ3QgaGF2ZVxuICAgICAgICAvLyBpdC4gSW4gcGFydGljdWxhciB0aGUgZXZlbnQgaXMgbm90IGZpcmVkIHdoZW4gYmFja3NwYWNlIG9yIGRlbGV0ZSBrZXkgYXJlIHByZXNzZWQgb3JcbiAgICAgICAgLy8gd2hlbiBjdXQgb3BlcmF0aW9uIGlzIHBlcmZvcm1lZC5cbiAgICAgICAgLy8gSUUxMCsgaW1wbGVtZW50cyAnaW5wdXQnIGV2ZW50IGJ1dCBpdCBlcnJvbmVvdXNseSBmaXJlcyB1bmRlciB2YXJpb3VzIHNpdHVhdGlvbnMsXG4gICAgICAgIC8vIGUuZy4gd2hlbiBwbGFjZWhvbGRlciBjaGFuZ2VzLCBvciBhIGZvcm0gaXMgZm9jdXNlZC5cbiAgICAgICAgaWYgKGV2ZW50ID09PSAnaW5wdXQnICYmIG1zaWUgPD0gMTEpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBpZiAoaXNVbmRlZmluZWQoZXZlbnRTdXBwb3J0W2V2ZW50XSkpIHtcbiAgICAgICAgICB2YXIgZGl2RWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgZXZlbnRTdXBwb3J0W2V2ZW50XSA9ICdvbicgKyBldmVudCBpbiBkaXZFbG07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXZlbnRTdXBwb3J0W2V2ZW50XTtcbiAgICAgIH0sXG4gICAgICBjc3A6IGNzcCgpLFxuICAgICAgdmVuZG9yUHJlZml4OiB2ZW5kb3JQcmVmaXgsXG4gICAgICB0cmFuc2l0aW9uczogdHJhbnNpdGlvbnMsXG4gICAgICBhbmltYXRpb25zOiBhbmltYXRpb25zLFxuICAgICAgYW5kcm9pZDogYW5kcm9pZFxuICAgIH07XG4gIH1dO1xufVxuXG52YXIgJGNvbXBpbGVNaW5FcnIgPSBtaW5FcnIoJyRjb21waWxlJyk7XG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICR0ZW1wbGF0ZVJlcXVlc3RcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgJHRlbXBsYXRlUmVxdWVzdGAgc2VydmljZSBydW5zIHNlY3VyaXR5IGNoZWNrcyB0aGVuIGRvd25sb2FkcyB0aGUgcHJvdmlkZWQgdGVtcGxhdGUgdXNpbmdcbiAqIGAkaHR0cGAgYW5kLCB1cG9uIHN1Y2Nlc3MsIHN0b3JlcyB0aGUgY29udGVudHMgaW5zaWRlIG9mIGAkdGVtcGxhdGVDYWNoZWAuIElmIHRoZSBIVFRQIHJlcXVlc3RcbiAqIGZhaWxzIG9yIHRoZSByZXNwb25zZSBkYXRhIG9mIHRoZSBIVFRQIHJlcXVlc3QgaXMgZW1wdHksIGEgYCRjb21waWxlYCBlcnJvciB3aWxsIGJlIHRocm93biAodGhlXG4gKiBleGNlcHRpb24gY2FuIGJlIHRod2FydGVkIGJ5IHNldHRpbmcgdGhlIDJuZCBwYXJhbWV0ZXIgb2YgdGhlIGZ1bmN0aW9uIHRvIHRydWUpLiBOb3RlIHRoYXQgdGhlXG4gKiBjb250ZW50cyBvZiBgJHRlbXBsYXRlQ2FjaGVgIGFyZSB0cnVzdGVkLCBzbyB0aGUgY2FsbCB0byBgJHNjZS5nZXRUcnVzdGVkVXJsKHRwbClgIGlzIG9taXR0ZWRcbiAqIHdoZW4gYHRwbGAgaXMgb2YgdHlwZSBzdHJpbmcgYW5kIGAkdGVtcGxhdGVDYWNoZWAgaGFzIHRoZSBtYXRjaGluZyBlbnRyeS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xUcnVzdGVkUmVzb3VyY2VVcmx9IHRwbCBUaGUgSFRUUCByZXF1ZXN0IHRlbXBsYXRlIFVSTFxuICogQHBhcmFtIHtib29sZWFuPX0gaWdub3JlUmVxdWVzdEVycm9yIFdoZXRoZXIgb3Igbm90IHRvIGlnbm9yZSB0aGUgZXhjZXB0aW9uIHdoZW4gdGhlIHJlcXVlc3QgZmFpbHMgb3IgdGhlIHRlbXBsYXRlIGlzIGVtcHR5XG4gKlxuICogQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIGZvciB0aGUgSFRUUCByZXNwb25zZSBkYXRhIG9mIHRoZSBnaXZlbiBVUkwuXG4gKlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRvdGFsUGVuZGluZ1JlcXVlc3RzIHRvdGFsIGFtb3VudCBvZiBwZW5kaW5nIHRlbXBsYXRlIHJlcXVlc3RzIGJlaW5nIGRvd25sb2FkZWQuXG4gKi9cbmZ1bmN0aW9uICRUZW1wbGF0ZVJlcXVlc3RQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckdGVtcGxhdGVDYWNoZScsICckaHR0cCcsICckcScsICckc2NlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUsICRodHRwLCAkcSwgJHNjZSkge1xuICAgIGZ1bmN0aW9uIGhhbmRsZVJlcXVlc3RGbih0cGwsIGlnbm9yZVJlcXVlc3RFcnJvcikge1xuICAgICAgaGFuZGxlUmVxdWVzdEZuLnRvdGFsUGVuZGluZ1JlcXVlc3RzKys7XG5cbiAgICAgIC8vIFdlIGNvbnNpZGVyIHRoZSB0ZW1wbGF0ZSBjYWNoZSBob2xkcyBvbmx5IHRydXN0ZWQgdGVtcGxhdGVzLCBzb1xuICAgICAgLy8gdGhlcmUncyBubyBuZWVkIHRvIGdvIHRocm91Z2ggd2hpdGVsaXN0aW5nIGFnYWluIGZvciBrZXlzIHRoYXQgYWxyZWFkeVxuICAgICAgLy8gYXJlIGluY2x1ZGVkIGluIHRoZXJlLiBUaGlzIGFsc28gbWFrZXMgQW5ndWxhciBhY2NlcHQgYW55IHNjcmlwdFxuICAgICAgLy8gZGlyZWN0aXZlLCBubyBtYXR0ZXIgaXRzIG5hbWUuIEhvd2V2ZXIsIHdlIHN0aWxsIG5lZWQgdG8gdW53cmFwIHRydXN0ZWRcbiAgICAgIC8vIHR5cGVzLlxuICAgICAgaWYgKCFpc1N0cmluZyh0cGwpIHx8ICEkdGVtcGxhdGVDYWNoZS5nZXQodHBsKSkge1xuICAgICAgICB0cGwgPSAkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybCh0cGwpO1xuICAgICAgfVxuXG4gICAgICB2YXIgdHJhbnNmb3JtUmVzcG9uc2UgPSAkaHR0cC5kZWZhdWx0cyAmJiAkaHR0cC5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZTtcblxuICAgICAgaWYgKGlzQXJyYXkodHJhbnNmb3JtUmVzcG9uc2UpKSB7XG4gICAgICAgIHRyYW5zZm9ybVJlc3BvbnNlID0gdHJhbnNmb3JtUmVzcG9uc2UuZmlsdGVyKGZ1bmN0aW9uKHRyYW5zZm9ybWVyKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVyICE9PSBkZWZhdWx0SHR0cFJlc3BvbnNlVHJhbnNmb3JtO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAodHJhbnNmb3JtUmVzcG9uc2UgPT09IGRlZmF1bHRIdHRwUmVzcG9uc2VUcmFuc2Zvcm0pIHtcbiAgICAgICAgdHJhbnNmb3JtUmVzcG9uc2UgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgaHR0cE9wdGlvbnMgPSB7XG4gICAgICAgIGNhY2hlOiAkdGVtcGxhdGVDYWNoZSxcbiAgICAgICAgdHJhbnNmb3JtUmVzcG9uc2U6IHRyYW5zZm9ybVJlc3BvbnNlXG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KHRwbCwgaHR0cE9wdGlvbnMpXG4gICAgICAgIFsnZmluYWxseSddKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGhhbmRsZVJlcXVlc3RGbi50b3RhbFBlbmRpbmdSZXF1ZXN0cy0tO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICR0ZW1wbGF0ZUNhY2hlLnB1dCh0cGwsIHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICB9LCBoYW5kbGVFcnJvcik7XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZUVycm9yKHJlc3ApIHtcbiAgICAgICAgaWYgKCFpZ25vcmVSZXF1ZXN0RXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycigndHBsb2FkJywgJ0ZhaWxlZCB0byBsb2FkIHRlbXBsYXRlOiB7MH0gKEhUVFAgc3RhdHVzOiB7MX0gezJ9KScsXG4gICAgICAgICAgICB0cGwsIHJlc3Auc3RhdHVzLCByZXNwLnN0YXR1c1RleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkcS5yZWplY3QocmVzcCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlUmVxdWVzdEZuLnRvdGFsUGVuZGluZ1JlcXVlc3RzID0gMDtcblxuICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0Rm47XG4gIH1dO1xufVxuXG5mdW5jdGlvbiAkJFRlc3RhYmlsaXR5UHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9IFsnJHJvb3RTY29wZScsICckYnJvd3NlcicsICckbG9jYXRpb24nLFxuICAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICAgJGJyb3dzZXIsICAgJGxvY2F0aW9uKSB7XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSAkdGVzdGFiaWxpdHlcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRoZSBwcml2YXRlICQkdGVzdGFiaWxpdHkgc2VydmljZSBwcm92aWRlcyBhIGNvbGxlY3Rpb24gb2YgbWV0aG9kcyBmb3IgdXNlIHdoZW4gZGVidWdnaW5nXG4gICAgICogb3IgYnkgYXV0b21hdGVkIHRlc3QgYW5kIGRlYnVnZ2luZyB0b29scy5cbiAgICAgKi9cbiAgICB2YXIgdGVzdGFiaWxpdHkgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjZmluZEJpbmRpbmdzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGVsZW1lbnRzIHRoYXQgYXJlIGJvdW5kICh2aWEgbmctYmluZCBvciB7e319KVxuICAgICAqIHRvIGV4cHJlc3Npb25zIG1hdGNoaW5nIHRoZSBpbnB1dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCByb290IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFRoZSBiaW5kaW5nIGV4cHJlc3Npb24gdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvcHRfZXhhY3RNYXRjaCBJZiB0cnVlLCBvbmx5IHJldHVybnMgZXhhY3QgbWF0Y2hlc1xuICAgICAqICAgICBmb3IgdGhlIGV4cHJlc3Npb24uIEZpbHRlcnMgYW5kIHdoaXRlc3BhY2UgYXJlIGlnbm9yZWQuXG4gICAgICovXG4gICAgdGVzdGFiaWxpdHkuZmluZEJpbmRpbmdzID0gZnVuY3Rpb24oZWxlbWVudCwgZXhwcmVzc2lvbiwgb3B0X2V4YWN0TWF0Y2gpIHtcbiAgICAgIHZhciBiaW5kaW5ncyA9IGVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmctYmluZGluZycpO1xuICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICAgIGZvckVhY2goYmluZGluZ3MsIGZ1bmN0aW9uKGJpbmRpbmcpIHtcbiAgICAgICAgdmFyIGRhdGFCaW5kaW5nID0gYW5ndWxhci5lbGVtZW50KGJpbmRpbmcpLmRhdGEoJyRiaW5kaW5nJyk7XG4gICAgICAgIGlmIChkYXRhQmluZGluZykge1xuICAgICAgICAgIGZvckVhY2goZGF0YUJpbmRpbmcsIGZ1bmN0aW9uKGJpbmRpbmdOYW1lKSB7XG4gICAgICAgICAgICBpZiAob3B0X2V4YWN0TWF0Y2gpIHtcbiAgICAgICAgICAgICAgdmFyIG1hdGNoZXIgPSBuZXcgUmVnRXhwKCcoXnxcXFxccyknICsgZXNjYXBlRm9yUmVnZXhwKGV4cHJlc3Npb24pICsgJyhcXFxcc3xcXFxcfHwkKScpO1xuICAgICAgICAgICAgICBpZiAobWF0Y2hlci50ZXN0KGJpbmRpbmdOYW1lKSkge1xuICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChiaW5kaW5nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKGJpbmRpbmdOYW1lLmluZGV4T2YoZXhwcmVzc2lvbikgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goYmluZGluZyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgJCR0ZXN0YWJpbGl0eSNmaW5kTW9kZWxzXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGVsZW1lbnRzIHRoYXQgYXJlIHR3by13YXkgZm91bmQgdmlhIG5nLW1vZGVsIHRvXG4gICAgICogZXhwcmVzc2lvbnMgbWF0Y2hpbmcgdGhlIGlucHV0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHJvb3QgdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gVGhlIG1vZGVsIGV4cHJlc3Npb24gdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvcHRfZXhhY3RNYXRjaCBJZiB0cnVlLCBvbmx5IHJldHVybnMgZXhhY3QgbWF0Y2hlc1xuICAgICAqICAgICBmb3IgdGhlIGV4cHJlc3Npb24uXG4gICAgICovXG4gICAgdGVzdGFiaWxpdHkuZmluZE1vZGVscyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV4cHJlc3Npb24sIG9wdF9leGFjdE1hdGNoKSB7XG4gICAgICB2YXIgcHJlZml4ZXMgPSBbJ25nLScsICdkYXRhLW5nLScsICduZ1xcXFw6J107XG4gICAgICBmb3IgKHZhciBwID0gMDsgcCA8IHByZWZpeGVzLmxlbmd0aDsgKytwKSB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVFcXVhbHMgPSBvcHRfZXhhY3RNYXRjaCA/ICc9JyA6ICcqPSc7XG4gICAgICAgIHZhciBzZWxlY3RvciA9ICdbJyArIHByZWZpeGVzW3BdICsgJ21vZGVsJyArIGF0dHJpYnV0ZUVxdWFscyArICdcIicgKyBleHByZXNzaW9uICsgJ1wiXSc7XG4gICAgICAgIHZhciBlbGVtZW50cyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgJCR0ZXN0YWJpbGl0eSNnZXRMb2NhdGlvblxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogU2hvcnRjdXQgZm9yIGdldHRpbmcgdGhlIGxvY2F0aW9uIGluIGEgYnJvd3NlciBhZ25vc3RpYyB3YXkuIFJldHVybnNcbiAgICAgKiAgICAgdGhlIHBhdGgsIHNlYXJjaCwgYW5kIGhhc2guIChlLmcuIC9wYXRoP2E9YiNoYXNoKVxuICAgICAqL1xuICAgIHRlc3RhYmlsaXR5LmdldExvY2F0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJGxvY2F0aW9uLnVybCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I3NldExvY2F0aW9uXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBTaG9ydGN1dCBmb3IgbmF2aWdhdGluZyB0byBhIGxvY2F0aW9uIHdpdGhvdXQgZG9pbmcgYSBmdWxsIHBhZ2UgcmVsb2FkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgbG9jYXRpb24gdXJsIChwYXRoLCBzZWFyY2ggYW5kIGhhc2gsXG4gICAgICogICAgIGUuZy4gL3BhdGg/YT1iI2hhc2gpIHRvIGdvIHRvLlxuICAgICAqL1xuICAgIHRlc3RhYmlsaXR5LnNldExvY2F0aW9uID0gZnVuY3Rpb24odXJsKSB7XG4gICAgICBpZiAodXJsICE9PSAkbG9jYXRpb24udXJsKCkpIHtcbiAgICAgICAgJGxvY2F0aW9uLnVybCh1cmwpO1xuICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgJCR0ZXN0YWJpbGl0eSN3aGVuU3RhYmxlXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBDYWxscyB0aGUgY2FsbGJhY2sgd2hlbiAkdGltZW91dCBhbmQgJGh0dHAgcmVxdWVzdHMgYXJlIGNvbXBsZXRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICovXG4gICAgdGVzdGFiaWxpdHkud2hlblN0YWJsZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAkYnJvd3Nlci5ub3RpZnlXaGVuTm9PdXRzdGFuZGluZ1JlcXVlc3RzKGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRlc3RhYmlsaXR5O1xuICB9XTtcbn1cblxuZnVuY3Rpb24gJFRpbWVvdXRQcm92aWRlcigpIHtcbiAgdGhpcy4kZ2V0ID0gWyckcm9vdFNjb3BlJywgJyRicm93c2VyJywgJyRxJywgJyQkcScsICckZXhjZXB0aW9uSGFuZGxlcicsXG4gICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgICAkYnJvd3NlciwgICAkcSwgICAkJHEsICAgJGV4Y2VwdGlvbkhhbmRsZXIpIHtcblxuICAgIHZhciBkZWZlcnJlZHMgPSB7fTtcblxuXG4gICAgIC8qKlxuICAgICAgKiBAbmdkb2Mgc2VydmljZVxuICAgICAgKiBAbmFtZSAkdGltZW91dFxuICAgICAgKlxuICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICogQW5ndWxhcidzIHdyYXBwZXIgZm9yIGB3aW5kb3cuc2V0VGltZW91dGAuIFRoZSBgZm5gIGZ1bmN0aW9uIGlzIHdyYXBwZWQgaW50byBhIHRyeS9jYXRjaFxuICAgICAgKiBibG9jayBhbmQgZGVsZWdhdGVzIGFueSBleGNlcHRpb25zIHRvXG4gICAgICAqIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciAkZXhjZXB0aW9uSGFuZGxlcn0gc2VydmljZS5cbiAgICAgICpcbiAgICAgICogVGhlIHJldHVybiB2YWx1ZSBvZiBjYWxsaW5nIGAkdGltZW91dGAgaXMgYSBwcm9taXNlLCB3aGljaCB3aWxsIGJlIHJlc29sdmVkIHdoZW5cbiAgICAgICogdGhlIGRlbGF5IGhhcyBwYXNzZWQgYW5kIHRoZSB0aW1lb3V0IGZ1bmN0aW9uLCBpZiBwcm92aWRlZCwgaXMgZXhlY3V0ZWQuXG4gICAgICAqXG4gICAgICAqIFRvIGNhbmNlbCBhIHRpbWVvdXQgcmVxdWVzdCwgY2FsbCBgJHRpbWVvdXQuY2FuY2VsKHByb21pc2UpYC5cbiAgICAgICpcbiAgICAgICogSW4gdGVzdHMgeW91IGNhbiB1c2Uge0BsaW5rIG5nTW9jay4kdGltZW91dCBgJHRpbWVvdXQuZmx1c2goKWB9IHRvXG4gICAgICAqIHN5bmNocm9ub3VzbHkgZmx1c2ggdGhlIHF1ZXVlIG9mIGRlZmVycmVkIGZ1bmN0aW9ucy5cbiAgICAgICpcbiAgICAgICogSWYgeW91IG9ubHkgd2FudCBhIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGFmdGVyIHNvbWUgc3BlY2lmaWVkIGRlbGF5XG4gICAgICAqIHRoZW4geW91IGNhbiBjYWxsIGAkdGltZW91dGAgd2l0aG91dCB0aGUgYGZuYCBmdW5jdGlvbi5cbiAgICAgICpcbiAgICAgICogQHBhcmFtIHtmdW5jdGlvbigpPX0gZm4gQSBmdW5jdGlvbiwgd2hvc2UgZXhlY3V0aW9uIHNob3VsZCBiZSBkZWxheWVkLlxuICAgICAgKiBAcGFyYW0ge251bWJlcj19IFtkZWxheT0wXSBEZWxheSBpbiBtaWxsaXNlY29uZHMuXG4gICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtpbnZva2VBcHBseT10cnVlXSBJZiBzZXQgdG8gYGZhbHNlYCBza2lwcyBtb2RlbCBkaXJ0eSBjaGVja2luZywgb3RoZXJ3aXNlXG4gICAgICAqICAgd2lsbCBpbnZva2UgYGZuYCB3aXRoaW4gdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRhcHBseSAkYXBwbHl9IGJsb2NrLlxuICAgICAgKiBAcGFyYW0gey4uLio9fSBQYXNzIGFkZGl0aW9uYWwgcGFyYW1ldGVycyB0byB0aGUgZXhlY3V0ZWQgZnVuY3Rpb24uXG4gICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aGVuIHRoZSB0aW1lb3V0IGlzIHJlYWNoZWQuIFRoZSB2YWx1ZSB0aGlzXG4gICAgICAqICAgcHJvbWlzZSB3aWxsIGJlIHJlc29sdmVkIHdpdGggaXMgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgYGZuYCBmdW5jdGlvbi5cbiAgICAgICpcbiAgICAgICovXG4gICAgZnVuY3Rpb24gdGltZW91dChmbiwgZGVsYXksIGludm9rZUFwcGx5KSB7XG4gICAgICBpZiAoIWlzRnVuY3Rpb24oZm4pKSB7XG4gICAgICAgIGludm9rZUFwcGx5ID0gZGVsYXk7XG4gICAgICAgIGRlbGF5ID0gZm47XG4gICAgICAgIGZuID0gbm9vcDtcbiAgICAgIH1cblxuICAgICAgdmFyIGFyZ3MgPSBzbGljZUFyZ3MoYXJndW1lbnRzLCAzKSxcbiAgICAgICAgICBza2lwQXBwbHkgPSAoaXNEZWZpbmVkKGludm9rZUFwcGx5KSAmJiAhaW52b2tlQXBwbHkpLFxuICAgICAgICAgIGRlZmVycmVkID0gKHNraXBBcHBseSA/ICQkcSA6ICRxKS5kZWZlcigpLFxuICAgICAgICAgIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlLFxuICAgICAgICAgIHRpbWVvdXRJZDtcblxuICAgICAgdGltZW91dElkID0gJGJyb3dzZXIuZGVmZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShmbi5hcHBseShudWxsLCBhcmdzKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZSk7XG4gICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgZGVsZXRlIGRlZmVycmVkc1twcm9taXNlLiQkdGltZW91dElkXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2tpcEFwcGx5KSAkcm9vdFNjb3BlLiRhcHBseSgpO1xuICAgICAgfSwgZGVsYXkpO1xuXG4gICAgICBwcm9taXNlLiQkdGltZW91dElkID0gdGltZW91dElkO1xuICAgICAgZGVmZXJyZWRzW3RpbWVvdXRJZF0gPSBkZWZlcnJlZDtcblxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuXG5cbiAgICAgLyoqXG4gICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICogQG5hbWUgJHRpbWVvdXQjY2FuY2VsXG4gICAgICAqXG4gICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgKiBDYW5jZWxzIGEgdGFzayBhc3NvY2lhdGVkIHdpdGggdGhlIGBwcm9taXNlYC4gQXMgYSByZXN1bHQgb2YgdGhpcywgdGhlIHByb21pc2Ugd2lsbCBiZVxuICAgICAgKiByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLlxuICAgICAgKlxuICAgICAgKiBAcGFyYW0ge1Byb21pc2U9fSBwcm9taXNlIFByb21pc2UgcmV0dXJuZWQgYnkgdGhlIGAkdGltZW91dGAgZnVuY3Rpb24uXG4gICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdGFzayBoYXNuJ3QgZXhlY3V0ZWQgeWV0IGFuZCB3YXMgc3VjY2Vzc2Z1bGx5XG4gICAgICAqICAgY2FuY2VsZWQuXG4gICAgICAqL1xuICAgIHRpbWVvdXQuY2FuY2VsID0gZnVuY3Rpb24ocHJvbWlzZSkge1xuICAgICAgaWYgKHByb21pc2UgJiYgcHJvbWlzZS4kJHRpbWVvdXRJZCBpbiBkZWZlcnJlZHMpIHtcbiAgICAgICAgZGVmZXJyZWRzW3Byb21pc2UuJCR0aW1lb3V0SWRdLnJlamVjdCgnY2FuY2VsZWQnKTtcbiAgICAgICAgZGVsZXRlIGRlZmVycmVkc1twcm9taXNlLiQkdGltZW91dElkXTtcbiAgICAgICAgcmV0dXJuICRicm93c2VyLmRlZmVyLmNhbmNlbChwcm9taXNlLiQkdGltZW91dElkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRpbWVvdXQ7XG4gIH1dO1xufVxuXG4vLyBOT1RFOiAgVGhlIHVzYWdlIG9mIHdpbmRvdyBhbmQgZG9jdW1lbnQgaW5zdGVhZCBvZiAkd2luZG93IGFuZCAkZG9jdW1lbnQgaGVyZSBpc1xuLy8gZGVsaWJlcmF0ZS4gIFRoaXMgc2VydmljZSBkZXBlbmRzIG9uIHRoZSBzcGVjaWZpYyBiZWhhdmlvciBvZiBhbmNob3Igbm9kZXMgY3JlYXRlZCBieSB0aGVcbi8vIGJyb3dzZXIgKHJlc29sdmluZyBhbmQgcGFyc2luZyBVUkxzKSB0aGF0IGlzIHVubGlrZWx5IHRvIGJlIHByb3ZpZGVkIGJ5IG1vY2sgb2JqZWN0cyBhbmRcbi8vIGNhdXNlIHVzIHRvIGJyZWFrIHRlc3RzLiAgSW4gYWRkaXRpb24sIHdoZW4gdGhlIGJyb3dzZXIgcmVzb2x2ZXMgYSBVUkwgZm9yIFhIUiwgaXRcbi8vIGRvZXNuJ3Qga25vdyBhYm91dCBtb2NrZWQgbG9jYXRpb25zIGFuZCByZXNvbHZlcyBVUkxzIHRvIHRoZSByZWFsIGRvY3VtZW50IC0gd2hpY2ggaXNcbi8vIGV4YWN0bHkgdGhlIGJlaGF2aW9yIG5lZWRlZCBoZXJlLiAgVGhlcmUgaXMgbGl0dGxlIHZhbHVlIGlzIG1vY2tpbmcgdGhlc2Ugb3V0IGZvciB0aGlzXG4vLyBzZXJ2aWNlLlxudmFyIHVybFBhcnNpbmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG52YXIgb3JpZ2luVXJsID0gdXJsUmVzb2x2ZSh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cblxuLyoqXG4gKlxuICogSW1wbGVtZW50YXRpb24gTm90ZXMgZm9yIG5vbi1JRSBicm93c2Vyc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQXNzaWduaW5nIGEgVVJMIHRvIHRoZSBocmVmIHByb3BlcnR5IG9mIGFuIGFuY2hvciBET00gbm9kZSwgZXZlbiBvbmUgYXR0YWNoZWQgdG8gdGhlIERPTSxcbiAqIHJlc3VsdHMgYm90aCBpbiB0aGUgbm9ybWFsaXppbmcgYW5kIHBhcnNpbmcgb2YgdGhlIFVSTC4gIE5vcm1hbGl6aW5nIG1lYW5zIHRoYXQgYSByZWxhdGl2ZVxuICogVVJMIHdpbGwgYmUgcmVzb2x2ZWQgaW50byBhbiBhYnNvbHV0ZSBVUkwgaW4gdGhlIGNvbnRleHQgb2YgdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50LlxuICogUGFyc2luZyBtZWFucyB0aGF0IHRoZSBhbmNob3Igbm9kZSdzIGhvc3QsIGhvc3RuYW1lLCBwcm90b2NvbCwgcG9ydCwgcGF0aG5hbWUgYW5kIHJlbGF0ZWRcbiAqIHByb3BlcnRpZXMgYXJlIGFsbCBwb3B1bGF0ZWQgdG8gcmVmbGVjdCB0aGUgbm9ybWFsaXplZCBVUkwuICBUaGlzIGFwcHJvYWNoIGhhcyB3aWRlXG4gKiBjb21wYXRpYmlsaXR5IC0gU2FmYXJpIDErLCBNb3ppbGxhIDErLCBPcGVyYSA3KyxlIGV0Yy4gIFNlZVxuICogaHR0cDovL3d3dy5hcHRhbmEuY29tL3JlZmVyZW5jZS9odG1sL2FwaS9IVE1MQW5jaG9yRWxlbWVudC5odG1sXG4gKlxuICogSW1wbGVtZW50YXRpb24gTm90ZXMgZm9yIElFXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIElFID49IDggYW5kIDw9IDEwIG5vcm1hbGl6ZXMgdGhlIFVSTCB3aGVuIGFzc2lnbmVkIHRvIHRoZSBhbmNob3Igbm9kZSBzaW1pbGFyIHRvIHRoZSBvdGhlclxuICogYnJvd3NlcnMuICBIb3dldmVyLCB0aGUgcGFyc2VkIGNvbXBvbmVudHMgd2lsbCBub3QgYmUgc2V0IGlmIHRoZSBVUkwgYXNzaWduZWQgZGlkIG5vdCBzcGVjaWZ5XG4gKiB0aGVtLiAgKGUuZy4gaWYgeW91IGFzc2lnbiBhLmhyZWYgPSBcImZvb1wiLCB0aGVuIGEucHJvdG9jb2wsIGEuaG9zdCwgZXRjLiB3aWxsIGJlIGVtcHR5LikgIFdlXG4gKiB3b3JrIGFyb3VuZCB0aGF0IGJ5IHBlcmZvcm1pbmcgdGhlIHBhcnNpbmcgaW4gYSAybmQgc3RlcCBieSB0YWtpbmcgYSBwcmV2aW91c2x5IG5vcm1hbGl6ZWRcbiAqIFVSTCAoZS5nLiBieSBhc3NpZ25pbmcgdG8gYS5ocmVmKSBhbmQgYXNzaWduaW5nIGl0IGEuaHJlZiBhZ2Fpbi4gIFRoaXMgY29ycmVjdGx5IHBvcHVsYXRlcyB0aGVcbiAqIHByb3BlcnRpZXMgc3VjaCBhcyBwcm90b2NvbCwgaG9zdG5hbWUsIHBvcnQsIGV0Yy5cbiAqXG4gKiBJRTcgZG9lcyBub3Qgbm9ybWFsaXplIHRoZSBVUkwgd2hlbiBhc3NpZ25lZCB0byBhbiBhbmNob3Igbm9kZS4gIChBcHBhcmVudGx5LCBpdCBkb2VzLCBpZiBvbmVcbiAqIHVzZXMgdGhlIGlubmVyIEhUTUwgYXBwcm9hY2ggdG8gYXNzaWduIHRoZSBVUkwgYXMgcGFydCBvZiBhbiBIVE1MIHNuaXBwZXQgLVxuICogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDcyNzI5KSAgSG93ZXZlciwgc2V0dGluZyBpbWdbc3JjXSBkb2VzIG5vcm1hbGl6ZSB0aGUgVVJMLlxuICogVW5mb3J0dW5hdGVseSwgc2V0dGluZyBpbWdbc3JjXSB0byBzb21ldGhpbmcgbGlrZSBcImphdmFzY3JpcHQ6Zm9vXCIgb24gSUUgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAqIFNpbmNlIHRoZSBwcmltYXJ5IHVzYWdlIGZvciBub3JtYWxpemluZyBVUkxzIGlzIHRvIHNhbml0aXplIHN1Y2ggVVJMcywgd2UgY2FuJ3QgdXNlIHRoYXRcbiAqIG1ldGhvZCBhbmQgSUUgPCA4IGlzIHVuc3VwcG9ydGVkLlxuICpcbiAqIFJlZmVyZW5jZXM6XG4gKiAgIGh0dHA6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxBbmNob3JFbGVtZW50XG4gKiAgIGh0dHA6Ly93d3cuYXB0YW5hLmNvbS9yZWZlcmVuY2UvaHRtbC9hcGkvSFRNTEFuY2hvckVsZW1lbnQuaHRtbFxuICogICBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcbiAqICAgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9wdWxsLzI5MDJcbiAqICAgaHR0cDovL2phbWVzLnBhZG9sc2V5LmNvbS9qYXZhc2NyaXB0L3BhcnNpbmctdXJscy13aXRoLXRoZS1kb20vXG4gKlxuICogQGtpbmQgZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byBiZSBwYXJzZWQuXG4gKiBAZGVzY3JpcHRpb24gTm9ybWFsaXplcyBhbmQgcGFyc2VzIGEgVVJMLlxuICogQHJldHVybnMge29iamVjdH0gUmV0dXJucyB0aGUgbm9ybWFsaXplZCBVUkwgYXMgYSBkaWN0aW9uYXJ5LlxuICpcbiAqICAgfCBtZW1iZXIgbmFtZSAgIHwgRGVzY3JpcHRpb24gICAgfFxuICogICB8LS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS18XG4gKiAgIHwgaHJlZiAgICAgICAgICB8IEEgbm9ybWFsaXplZCB2ZXJzaW9uIG9mIHRoZSBwcm92aWRlZCBVUkwgaWYgaXQgd2FzIG5vdCBhbiBhYnNvbHV0ZSBVUkwgfFxuICogICB8IHByb3RvY29sICAgICAgfCBUaGUgcHJvdG9jb2wgaW5jbHVkaW5nIHRoZSB0cmFpbGluZyBjb2xvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgfCBob3N0ICAgICAgICAgIHwgVGhlIGhvc3QgYW5kIHBvcnQgKGlmIHRoZSBwb3J0IGlzIG5vbi1kZWZhdWx0KSBvZiB0aGUgbm9ybWFsaXplZFVybCAgICB8XG4gKiAgIHwgc2VhcmNoICAgICAgICB8IFRoZSBzZWFyY2ggcGFyYW1zLCBtaW51cyB0aGUgcXVlc3Rpb24gbWFyayAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICB8IGhhc2ggICAgICAgICAgfCBUaGUgaGFzaCBzdHJpbmcsIG1pbnVzIHRoZSBoYXNoIHN5bWJvbFxuICogICB8IGhvc3RuYW1lICAgICAgfCBUaGUgaG9zdG5hbWVcbiAqICAgfCBwb3J0ICAgICAgICAgIHwgVGhlIHBvcnQsIHdpdGhvdXQgXCI6XCJcbiAqICAgfCBwYXRobmFtZSAgICAgIHwgVGhlIHBhdGhuYW1lLCBiZWdpbm5pbmcgd2l0aCBcIi9cIlxuICpcbiAqL1xuZnVuY3Rpb24gdXJsUmVzb2x2ZSh1cmwpIHtcbiAgdmFyIGhyZWYgPSB1cmw7XG5cbiAgaWYgKG1zaWUpIHtcbiAgICAvLyBOb3JtYWxpemUgYmVmb3JlIHBhcnNlLiAgUmVmZXIgSW1wbGVtZW50YXRpb24gTm90ZXMgb24gd2h5IHRoaXMgaXNcbiAgICAvLyBkb25lIGluIHR3byBzdGVwcyBvbiBJRS5cbiAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIGhyZWYpO1xuICAgIGhyZWYgPSB1cmxQYXJzaW5nTm9kZS5ocmVmO1xuICB9XG5cbiAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG5cbiAgLy8gdXJsUGFyc2luZ05vZGUgcHJvdmlkZXMgdGhlIFVybFV0aWxzIGludGVyZmFjZSAtIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xuICByZXR1cm4ge1xuICAgIGhyZWY6IHVybFBhcnNpbmdOb2RlLmhyZWYsXG4gICAgcHJvdG9jb2w6IHVybFBhcnNpbmdOb2RlLnByb3RvY29sID8gdXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCAnJykgOiAnJyxcbiAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgIHNlYXJjaDogdXJsUGFyc2luZ05vZGUuc2VhcmNoID8gdXJsUGFyc2luZ05vZGUuc2VhcmNoLnJlcGxhY2UoL15cXD8vLCAnJykgOiAnJyxcbiAgICBoYXNoOiB1cmxQYXJzaW5nTm9kZS5oYXNoID8gdXJsUGFyc2luZ05vZGUuaGFzaC5yZXBsYWNlKC9eIy8sICcnKSA6ICcnLFxuICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICBwb3J0OiB1cmxQYXJzaW5nTm9kZS5wb3J0LFxuICAgIHBhdGhuYW1lOiAodXJsUGFyc2luZ05vZGUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpXG4gICAgICA/IHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lXG4gICAgICA6ICcvJyArIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lXG4gIH07XG59XG5cbi8qKlxuICogUGFyc2UgYSByZXF1ZXN0IFVSTCBhbmQgZGV0ZXJtaW5lIHdoZXRoZXIgdGhpcyBpcyBhIHNhbWUtb3JpZ2luIHJlcXVlc3QgYXMgdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gcmVxdWVzdFVybCBUaGUgdXJsIG9mIHRoZSByZXF1ZXN0IGFzIGEgc3RyaW5nIHRoYXQgd2lsbCBiZSByZXNvbHZlZFxuICogb3IgYSBwYXJzZWQgVVJMIG9iamVjdC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSByZXF1ZXN0IGlzIGZvciB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50LlxuICovXG5mdW5jdGlvbiB1cmxJc1NhbWVPcmlnaW4ocmVxdWVzdFVybCkge1xuICB2YXIgcGFyc2VkID0gKGlzU3RyaW5nKHJlcXVlc3RVcmwpKSA/IHVybFJlc29sdmUocmVxdWVzdFVybCkgOiByZXF1ZXN0VXJsO1xuICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVXJsLnByb3RvY29sICYmXG4gICAgICAgICAgcGFyc2VkLmhvc3QgPT09IG9yaWdpblVybC5ob3N0KTtcbn1cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHdpbmRvd1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQSByZWZlcmVuY2UgdG8gdGhlIGJyb3dzZXIncyBgd2luZG93YCBvYmplY3QuIFdoaWxlIGB3aW5kb3dgXG4gKiBpcyBnbG9iYWxseSBhdmFpbGFibGUgaW4gSmF2YVNjcmlwdCwgaXQgY2F1c2VzIHRlc3RhYmlsaXR5IHByb2JsZW1zLCBiZWNhdXNlXG4gKiBpdCBpcyBhIGdsb2JhbCB2YXJpYWJsZS4gSW4gYW5ndWxhciB3ZSBhbHdheXMgcmVmZXIgdG8gaXQgdGhyb3VnaCB0aGVcbiAqIGAkd2luZG93YCBzZXJ2aWNlLCBzbyBpdCBtYXkgYmUgb3ZlcnJpZGRlbiwgcmVtb3ZlZCBvciBtb2NrZWQgZm9yIHRlc3RpbmcuXG4gKlxuICogRXhwcmVzc2lvbnMsIGxpa2UgdGhlIG9uZSBkZWZpbmVkIGZvciB0aGUgYG5nQ2xpY2tgIGRpcmVjdGl2ZSBpbiB0aGUgZXhhbXBsZVxuICogYmVsb3csIGFyZSBldmFsdWF0ZWQgd2l0aCByZXNwZWN0IHRvIHRoZSBjdXJyZW50IHNjb3BlLiAgVGhlcmVmb3JlLCB0aGVyZSBpc1xuICogbm8gcmlzayBvZiBpbmFkdmVydGVudGx5IGNvZGluZyBpbiBhIGRlcGVuZGVuY3kgb24gYSBnbG9iYWwgdmFsdWUgaW4gc3VjaCBhblxuICogZXhwcmVzc2lvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwid2luZG93RXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnd2luZG93RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckd2luZG93JywgZnVuY3Rpb24oJHNjb3BlLCAkd2luZG93KSB7XG4gICAgICAgICAgICAgJHNjb3BlLmdyZWV0aW5nID0gJ0hlbGxvLCBXb3JsZCEnO1xuICAgICAgICAgICAgICRzY29wZS5kb0dyZWV0aW5nID0gZnVuY3Rpb24oZ3JlZXRpbmcpIHtcbiAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZ3JlZXRpbmcpO1xuICAgICAgICAgICAgIH07XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJncmVldGluZ1wiIGFyaWEtbGFiZWw9XCJncmVldGluZ1wiIC8+XG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiZG9HcmVldGluZyhncmVldGluZylcIj5BTEVSVDwvYnV0dG9uPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIGl0KCdzaG91bGQgZGlzcGxheSB0aGUgZ3JlZXRpbmcgaW4gdGhlIGlucHV0IGJveCcsIGZ1bmN0aW9uKCkge1xuICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2dyZWV0aW5nJykpLnNlbmRLZXlzKCdIZWxsbywgRTJFIFRlc3RzJyk7XG4gICAgICAgLy8gSWYgd2UgY2xpY2sgdGhlIGJ1dHRvbiBpdCB3aWxsIGJsb2NrIHRoZSB0ZXN0IHJ1bm5lclxuICAgICAgIC8vIGVsZW1lbnQoJzpidXR0b24nKS5jbGljaygpO1xuICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuZnVuY3Rpb24gJFdpbmRvd1Byb3ZpZGVyKCkge1xuICB0aGlzLiRnZXQgPSB2YWx1ZUZuKHdpbmRvdyk7XG59XG5cbi8qKlxuICogQG5hbWUgJCRjb29raWVSZWFkZXJcbiAqIEByZXF1aXJlcyAkZG9jdW1lbnRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoaXMgaXMgYSBwcml2YXRlIHNlcnZpY2UgZm9yIHJlYWRpbmcgY29va2llcyB1c2VkIGJ5ICRodHRwIGFuZCBuZ0Nvb2tpZXNcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IGEga2V5L3ZhbHVlIG1hcCBvZiB0aGUgY3VycmVudCBjb29raWVzXG4gKi9cbmZ1bmN0aW9uICQkQ29va2llUmVhZGVyKCRkb2N1bWVudCkge1xuICB2YXIgcmF3RG9jdW1lbnQgPSAkZG9jdW1lbnRbMF0gfHwge307XG4gIHZhciBsYXN0Q29va2llcyA9IHt9O1xuICB2YXIgbGFzdENvb2tpZVN0cmluZyA9ICcnO1xuXG4gIGZ1bmN0aW9uIHNhZmVEZWNvZGVVUklDb21wb25lbnQoc3RyKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgY29va2llQXJyYXksIGNvb2tpZSwgaSwgaW5kZXgsIG5hbWU7XG4gICAgdmFyIGN1cnJlbnRDb29raWVTdHJpbmcgPSByYXdEb2N1bWVudC5jb29raWUgfHwgJyc7XG5cbiAgICBpZiAoY3VycmVudENvb2tpZVN0cmluZyAhPT0gbGFzdENvb2tpZVN0cmluZykge1xuICAgICAgbGFzdENvb2tpZVN0cmluZyA9IGN1cnJlbnRDb29raWVTdHJpbmc7XG4gICAgICBjb29raWVBcnJheSA9IGxhc3RDb29raWVTdHJpbmcuc3BsaXQoJzsgJyk7XG4gICAgICBsYXN0Q29va2llcyA9IHt9O1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgY29va2llQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29va2llID0gY29va2llQXJyYXlbaV07XG4gICAgICAgIGluZGV4ID0gY29va2llLmluZGV4T2YoJz0nKTtcbiAgICAgICAgaWYgKGluZGV4ID4gMCkgeyAvL2lnbm9yZSBuYW1lbGVzcyBjb29raWVzXG4gICAgICAgICAgbmFtZSA9IHNhZmVEZWNvZGVVUklDb21wb25lbnQoY29va2llLnN1YnN0cmluZygwLCBpbmRleCkpO1xuICAgICAgICAgIC8vIHRoZSBmaXJzdCB2YWx1ZSB0aGF0IGlzIHNlZW4gZm9yIGEgY29va2llIGlzIHRoZSBtb3N0XG4gICAgICAgICAgLy8gc3BlY2lmaWMgb25lLiAgdmFsdWVzIGZvciB0aGUgc2FtZSBjb29raWUgbmFtZSB0aGF0XG4gICAgICAgICAgLy8gZm9sbG93IGFyZSBmb3IgbGVzcyBzcGVjaWZpYyBwYXRocy5cbiAgICAgICAgICBpZiAobGFzdENvb2tpZXNbbmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGFzdENvb2tpZXNbbmFtZV0gPSBzYWZlRGVjb2RlVVJJQ29tcG9uZW50KGNvb2tpZS5zdWJzdHJpbmcoaW5kZXggKyAxKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsYXN0Q29va2llcztcbiAgfTtcbn1cblxuJCRDb29raWVSZWFkZXIuJGluamVjdCA9IFsnJGRvY3VtZW50J107XG5cbmZ1bmN0aW9uICQkQ29va2llUmVhZGVyUHJvdmlkZXIoKSB7XG4gIHRoaXMuJGdldCA9ICQkQ29va2llUmVhZGVyO1xufVxuXG4vKiBnbG9iYWwgY3VycmVuY3lGaWx0ZXI6IHRydWUsXG4gZGF0ZUZpbHRlcjogdHJ1ZSxcbiBmaWx0ZXJGaWx0ZXI6IHRydWUsXG4ganNvbkZpbHRlcjogdHJ1ZSxcbiBsaW1pdFRvRmlsdGVyOiB0cnVlLFxuIGxvd2VyY2FzZUZpbHRlcjogdHJ1ZSxcbiBudW1iZXJGaWx0ZXI6IHRydWUsXG4gb3JkZXJCeUZpbHRlcjogdHJ1ZSxcbiB1cHBlcmNhc2VGaWx0ZXI6IHRydWUsXG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgcHJvdmlkZXJcbiAqIEBuYW1lICRmaWx0ZXJQcm92aWRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogRmlsdGVycyBhcmUganVzdCBmdW5jdGlvbnMgd2hpY2ggdHJhbnNmb3JtIGlucHV0IHRvIGFuIG91dHB1dC4gSG93ZXZlciBmaWx0ZXJzIG5lZWQgdG8gYmVcbiAqIERlcGVuZGVuY3kgSW5qZWN0ZWQuIFRvIGFjaGlldmUgdGhpcyBhIGZpbHRlciBkZWZpbml0aW9uIGNvbnNpc3RzIG9mIGEgZmFjdG9yeSBmdW5jdGlvbiB3aGljaCBpc1xuICogYW5ub3RhdGVkIHdpdGggZGVwZW5kZW5jaWVzIGFuZCBpcyByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgYSBmaWx0ZXIgZnVuY3Rpb24uXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZToqKiBGaWx0ZXIgbmFtZXMgbXVzdCBiZSB2YWxpZCBhbmd1bGFyIHtAbGluayBleHByZXNzaW9ufSBpZGVudGlmaWVycywgc3VjaCBhcyBgdXBwZXJjYXNlYCBvciBgb3JkZXJCeWAuXG4gKiBOYW1lcyB3aXRoIHNwZWNpYWwgY2hhcmFjdGVycywgc3VjaCBhcyBoeXBoZW5zIGFuZCBkb3RzLCBhcmUgbm90IGFsbG93ZWQuIElmIHlvdSB3aXNoIHRvIG5hbWVzcGFjZVxuICogeW91ciBmaWx0ZXJzLCB0aGVuIHlvdSBjYW4gdXNlIGNhcGl0YWxpemF0aW9uIChgbXlhcHBTdWJzZWN0aW9uRmlsdGVyeGApIG9yIHVuZGVyc2NvcmVzXG4gKiAoYG15YXBwX3N1YnNlY3Rpb25fZmlsdGVyeGApLlxuICogPC9kaXY+XG4gKlxuICogYGBganNcbiAqICAgLy8gRmlsdGVyIHJlZ2lzdHJhdGlvblxuICogICBmdW5jdGlvbiBNeU1vZHVsZSgkcHJvdmlkZSwgJGZpbHRlclByb3ZpZGVyKSB7XG4gKiAgICAgLy8gY3JlYXRlIGEgc2VydmljZSB0byBkZW1vbnN0cmF0ZSBpbmplY3Rpb24gKG5vdCBhbHdheXMgbmVlZGVkKVxuICogICAgICRwcm92aWRlLnZhbHVlKCdncmVldCcsIGZ1bmN0aW9uKG5hbWUpe1xuICogICAgICAgcmV0dXJuICdIZWxsbyAnICsgbmFtZSArICchJztcbiAqICAgICB9KTtcbiAqXG4gKiAgICAgLy8gcmVnaXN0ZXIgYSBmaWx0ZXIgZmFjdG9yeSB3aGljaCB1c2VzIHRoZVxuICogICAgIC8vIGdyZWV0IHNlcnZpY2UgdG8gZGVtb25zdHJhdGUgREkuXG4gKiAgICAgJGZpbHRlclByb3ZpZGVyLnJlZ2lzdGVyKCdncmVldCcsIGZ1bmN0aW9uKGdyZWV0KXtcbiAqICAgICAgIC8vIHJldHVybiB0aGUgZmlsdGVyIGZ1bmN0aW9uIHdoaWNoIHVzZXMgdGhlIGdyZWV0IHNlcnZpY2VcbiAqICAgICAgIC8vIHRvIGdlbmVyYXRlIHNhbHV0YXRpb25cbiAqICAgICAgIHJldHVybiBmdW5jdGlvbih0ZXh0KSB7XG4gKiAgICAgICAgIC8vIGZpbHRlcnMgbmVlZCB0byBiZSBmb3JnaXZpbmcgc28gY2hlY2sgaW5wdXQgdmFsaWRpdHlcbiAqICAgICAgICAgcmV0dXJuIHRleHQgJiYgZ3JlZXQodGV4dCkgfHwgdGV4dDtcbiAqICAgICAgIH07XG4gKiAgICAgfSk7XG4gKiAgIH1cbiAqIGBgYFxuICpcbiAqIFRoZSBmaWx0ZXIgZnVuY3Rpb24gaXMgcmVnaXN0ZXJlZCB3aXRoIHRoZSBgJGluamVjdG9yYCB1bmRlciB0aGUgZmlsdGVyIG5hbWUgc3VmZml4IHdpdGhcbiAqIGBGaWx0ZXJgLlxuICpcbiAqIGBgYGpzXG4gKiAgIGl0KCdzaG91bGQgYmUgdGhlIHNhbWUgaW5zdGFuY2UnLCBpbmplY3QoXG4gKiAgICAgZnVuY3Rpb24oJGZpbHRlclByb3ZpZGVyKSB7XG4gKiAgICAgICAkZmlsdGVyUHJvdmlkZXIucmVnaXN0ZXIoJ3JldmVyc2UnLCBmdW5jdGlvbigpe1xuICogICAgICAgICByZXR1cm4gLi4uO1xuICogICAgICAgfSk7XG4gKiAgICAgfSxcbiAqICAgICBmdW5jdGlvbigkZmlsdGVyLCByZXZlcnNlRmlsdGVyKSB7XG4gKiAgICAgICBleHBlY3QoJGZpbHRlcigncmV2ZXJzZScpKS50b0JlKHJldmVyc2VGaWx0ZXIpO1xuICogICAgIH0pO1xuICogYGBgXG4gKlxuICpcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGhvdyBhbmd1bGFyIGZpbHRlcnMgd29yaywgYW5kIGhvdyB0byBjcmVhdGUgeW91ciBvd24gZmlsdGVycywgc2VlXG4gKiB7QGxpbmsgZ3VpZGUvZmlsdGVyIEZpbHRlcnN9IGluIHRoZSBBbmd1bGFyIERldmVsb3BlciBHdWlkZS5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBzZXJ2aWNlXG4gKiBAbmFtZSAkZmlsdGVyXG4gKiBAa2luZCBmdW5jdGlvblxuICogQGRlc2NyaXB0aW9uXG4gKiBGaWx0ZXJzIGFyZSB1c2VkIGZvciBmb3JtYXR0aW5nIGRhdGEgZGlzcGxheWVkIHRvIHRoZSB1c2VyLlxuICpcbiAqIFRoZSBnZW5lcmFsIHN5bnRheCBpbiB0ZW1wbGF0ZXMgaXMgYXMgZm9sbG93czpcbiAqXG4gKiAgICAgICAgIHt7IGV4cHJlc3Npb24gW3wgZmlsdGVyX25hbWVbOnBhcmFtZXRlcl92YWx1ZV0gLi4uIF0gfX1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBmaWx0ZXIgZnVuY3Rpb24gdG8gcmV0cmlldmVcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSB0aGUgZmlsdGVyIGZ1bmN0aW9uXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbmFtZT1cIiRmaWx0ZXJcIiBtb2R1bGU9XCJmaWx0ZXJFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiTWFpbkN0cmxcIj5cbiAgICAgICAgPGgzPnt7IG9yaWdpbmFsVGV4dCB9fTwvaDM+XG4gICAgICAgIDxoMz57eyBmaWx0ZXJlZFRleHQgfX08L2gzPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG5cbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2ZpbHRlckV4YW1wbGUnLCBbXSlcbiAgICAgIC5jb250cm9sbGVyKCdNYWluQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJGZpbHRlcikge1xuICAgICAgICAkc2NvcGUub3JpZ2luYWxUZXh0ID0gJ2hlbGxvJztcbiAgICAgICAgJHNjb3BlLmZpbHRlcmVkVGV4dCA9ICRmaWx0ZXIoJ3VwcGVyY2FzZScpKCRzY29wZS5vcmlnaW5hbFRleHQpO1xuICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAgKi9cbiRGaWx0ZXJQcm92aWRlci4kaW5qZWN0ID0gWyckcHJvdmlkZSddO1xuZnVuY3Rpb24gJEZpbHRlclByb3ZpZGVyKCRwcm92aWRlKSB7XG4gIHZhciBzdWZmaXggPSAnRmlsdGVyJztcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSAkZmlsdGVyUHJvdmlkZXIjcmVnaXN0ZXJcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIE5hbWUgb2YgdGhlIGZpbHRlciBmdW5jdGlvbiwgb3IgYW4gb2JqZWN0IG1hcCBvZiBmaWx0ZXJzIHdoZXJlXG4gICAqICAgIHRoZSBrZXlzIGFyZSB0aGUgZmlsdGVyIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgZmlsdGVyIGZhY3Rvcmllcy5cbiAgICpcbiAgICogICAgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAgICogICAgKipOb3RlOioqIEZpbHRlciBuYW1lcyBtdXN0IGJlIHZhbGlkIGFuZ3VsYXIge0BsaW5rIGV4cHJlc3Npb259IGlkZW50aWZpZXJzLCBzdWNoIGFzIGB1cHBlcmNhc2VgIG9yIGBvcmRlckJ5YC5cbiAgICogICAgTmFtZXMgd2l0aCBzcGVjaWFsIGNoYXJhY3RlcnMsIHN1Y2ggYXMgaHlwaGVucyBhbmQgZG90cywgYXJlIG5vdCBhbGxvd2VkLiBJZiB5b3Ugd2lzaCB0byBuYW1lc3BhY2VcbiAgICogICAgeW91ciBmaWx0ZXJzLCB0aGVuIHlvdSBjYW4gdXNlIGNhcGl0YWxpemF0aW9uIChgbXlhcHBTdWJzZWN0aW9uRmlsdGVyeGApIG9yIHVuZGVyc2NvcmVzXG4gICAqICAgIChgbXlhcHBfc3Vic2VjdGlvbl9maWx0ZXJ4YCkuXG4gICAqICAgIDwvZGl2PlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZWdpc3RlcmVkIGZpbHRlciBpbnN0YW5jZSwgb3IgaWYgYSBtYXAgb2YgZmlsdGVycyB3YXMgcHJvdmlkZWQgdGhlbiBhIG1hcFxuICAgKiAgICBvZiB0aGUgcmVnaXN0ZXJlZCBmaWx0ZXIgaW5zdGFuY2VzLlxuICAgKi9cbiAgZnVuY3Rpb24gcmVnaXN0ZXIobmFtZSwgZmFjdG9yeSkge1xuICAgIGlmIChpc09iamVjdChuYW1lKSkge1xuICAgICAgdmFyIGZpbHRlcnMgPSB7fTtcbiAgICAgIGZvckVhY2gobmFtZSwgZnVuY3Rpb24oZmlsdGVyLCBrZXkpIHtcbiAgICAgICAgZmlsdGVyc1trZXldID0gcmVnaXN0ZXIoa2V5LCBmaWx0ZXIpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmlsdGVycztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICRwcm92aWRlLmZhY3RvcnkobmFtZSArIHN1ZmZpeCwgZmFjdG9yeSk7XG4gICAgfVxuICB9XG4gIHRoaXMucmVnaXN0ZXIgPSByZWdpc3RlcjtcblxuICB0aGlzLiRnZXQgPSBbJyRpbmplY3RvcicsIGZ1bmN0aW9uKCRpbmplY3Rvcikge1xuICAgIHJldHVybiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICByZXR1cm4gJGluamVjdG9yLmdldChuYW1lICsgc3VmZml4KTtcbiAgICB9O1xuICB9XTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgLyogZ2xvYmFsXG4gICAgY3VycmVuY3lGaWx0ZXI6IGZhbHNlLFxuICAgIGRhdGVGaWx0ZXI6IGZhbHNlLFxuICAgIGZpbHRlckZpbHRlcjogZmFsc2UsXG4gICAganNvbkZpbHRlcjogZmFsc2UsXG4gICAgbGltaXRUb0ZpbHRlcjogZmFsc2UsXG4gICAgbG93ZXJjYXNlRmlsdGVyOiBmYWxzZSxcbiAgICBudW1iZXJGaWx0ZXI6IGZhbHNlLFxuICAgIG9yZGVyQnlGaWx0ZXI6IGZhbHNlLFxuICAgIHVwcGVyY2FzZUZpbHRlcjogZmFsc2UsXG4gICovXG5cbiAgcmVnaXN0ZXIoJ2N1cnJlbmN5JywgY3VycmVuY3lGaWx0ZXIpO1xuICByZWdpc3RlcignZGF0ZScsIGRhdGVGaWx0ZXIpO1xuICByZWdpc3RlcignZmlsdGVyJywgZmlsdGVyRmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ2pzb24nLCBqc29uRmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ2xpbWl0VG8nLCBsaW1pdFRvRmlsdGVyKTtcbiAgcmVnaXN0ZXIoJ2xvd2VyY2FzZScsIGxvd2VyY2FzZUZpbHRlcik7XG4gIHJlZ2lzdGVyKCdudW1iZXInLCBudW1iZXJGaWx0ZXIpO1xuICByZWdpc3Rlcignb3JkZXJCeScsIG9yZGVyQnlGaWx0ZXIpO1xuICByZWdpc3RlcigndXBwZXJjYXNlJywgdXBwZXJjYXNlRmlsdGVyKTtcbn1cblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBmaWx0ZXJcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTZWxlY3RzIGEgc3Vic2V0IG9mIGl0ZW1zIGZyb20gYGFycmF5YCBhbmQgcmV0dXJucyBpdCBhcyBhIG5ldyBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc291cmNlIGFycmF5LlxuICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fGZ1bmN0aW9uKCl9IGV4cHJlc3Npb24gVGhlIHByZWRpY2F0ZSB0byBiZSB1c2VkIGZvciBzZWxlY3RpbmcgaXRlbXMgZnJvbVxuICogICBgYXJyYXlgLlxuICpcbiAqICAgQ2FuIGJlIG9uZSBvZjpcbiAqXG4gKiAgIC0gYHN0cmluZ2A6IFRoZSBzdHJpbmcgaXMgdXNlZCBmb3IgbWF0Y2hpbmcgYWdhaW5zdCB0aGUgY29udGVudHMgb2YgdGhlIGBhcnJheWAuIEFsbCBzdHJpbmdzIG9yXG4gKiAgICAgb2JqZWN0cyB3aXRoIHN0cmluZyBwcm9wZXJ0aWVzIGluIGBhcnJheWAgdGhhdCBtYXRjaCB0aGlzIHN0cmluZyB3aWxsIGJlIHJldHVybmVkLiBUaGlzIGFsc29cbiAqICAgICBhcHBsaWVzIHRvIG5lc3RlZCBvYmplY3QgcHJvcGVydGllcy5cbiAqICAgICBUaGUgcHJlZGljYXRlIGNhbiBiZSBuZWdhdGVkIGJ5IHByZWZpeGluZyB0aGUgc3RyaW5nIHdpdGggYCFgLlxuICpcbiAqICAgLSBgT2JqZWN0YDogQSBwYXR0ZXJuIG9iamVjdCBjYW4gYmUgdXNlZCB0byBmaWx0ZXIgc3BlY2lmaWMgcHJvcGVydGllcyBvbiBvYmplY3RzIGNvbnRhaW5lZFxuICogICAgIGJ5IGBhcnJheWAuIEZvciBleGFtcGxlIGB7bmFtZTpcIk1cIiwgcGhvbmU6XCIxXCJ9YCBwcmVkaWNhdGUgd2lsbCByZXR1cm4gYW4gYXJyYXkgb2YgaXRlbXNcbiAqICAgICB3aGljaCBoYXZlIHByb3BlcnR5IGBuYW1lYCBjb250YWluaW5nIFwiTVwiIGFuZCBwcm9wZXJ0eSBgcGhvbmVgIGNvbnRhaW5pbmcgXCIxXCIuIEEgc3BlY2lhbFxuICogICAgIHByb3BlcnR5IG5hbWUgYCRgIGNhbiBiZSB1c2VkIChhcyBpbiBgeyQ6XCJ0ZXh0XCJ9YCkgdG8gYWNjZXB0IGEgbWF0Y2ggYWdhaW5zdCBhbnlcbiAqICAgICBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0IG9yIGl0cyBuZXN0ZWQgb2JqZWN0IHByb3BlcnRpZXMuIFRoYXQncyBlcXVpdmFsZW50IHRvIHRoZSBzaW1wbGVcbiAqICAgICBzdWJzdHJpbmcgbWF0Y2ggd2l0aCBhIGBzdHJpbmdgIGFzIGRlc2NyaWJlZCBhYm92ZS4gVGhlIHByZWRpY2F0ZSBjYW4gYmUgbmVnYXRlZCBieSBwcmVmaXhpbmdcbiAqICAgICB0aGUgc3RyaW5nIHdpdGggYCFgLlxuICogICAgIEZvciBleGFtcGxlIGB7bmFtZTogXCIhTVwifWAgcHJlZGljYXRlIHdpbGwgcmV0dXJuIGFuIGFycmF5IG9mIGl0ZW1zIHdoaWNoIGhhdmUgcHJvcGVydHkgYG5hbWVgXG4gKiAgICAgbm90IGNvbnRhaW5pbmcgXCJNXCIuXG4gKlxuICogICAgIE5vdGUgdGhhdCBhIG5hbWVkIHByb3BlcnR5IHdpbGwgbWF0Y2ggcHJvcGVydGllcyBvbiB0aGUgc2FtZSBsZXZlbCBvbmx5LCB3aGlsZSB0aGUgc3BlY2lhbFxuICogICAgIGAkYCBwcm9wZXJ0eSB3aWxsIG1hdGNoIHByb3BlcnRpZXMgb24gdGhlIHNhbWUgbGV2ZWwgb3IgZGVlcGVyLiBFLmcuIGFuIGFycmF5IGl0ZW0gbGlrZVxuICogICAgIGB7bmFtZToge2ZpcnN0OiAnSm9obicsIGxhc3Q6ICdEb2UnfX1gIHdpbGwgKipub3QqKiBiZSBtYXRjaGVkIGJ5IGB7bmFtZTogJ0pvaG4nfWAsIGJ1dFxuICogICAgICoqd2lsbCoqIGJlIG1hdGNoZWQgYnkgYHskOiAnSm9obid9YC5cbiAqXG4gKiAgIC0gYGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgYXJyYXkpYDogQSBwcmVkaWNhdGUgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gd3JpdGUgYXJiaXRyYXJ5IGZpbHRlcnMuXG4gKiAgICAgVGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCBmb3IgZWFjaCBlbGVtZW50IG9mIHRoZSBhcnJheSwgd2l0aCB0aGUgZWxlbWVudCwgaXRzIGluZGV4LCBhbmRcbiAqICAgICB0aGUgZW50aXJlIGFycmF5IGl0c2VsZiBhcyBhcmd1bWVudHMuXG4gKlxuICogICAgIFRoZSBmaW5hbCByZXN1bHQgaXMgYW4gYXJyYXkgb2YgdGhvc2UgZWxlbWVudHMgdGhhdCB0aGUgcHJlZGljYXRlIHJldHVybmVkIHRydWUgZm9yLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oYWN0dWFsLCBleHBlY3RlZCl8dHJ1ZXx1bmRlZmluZWR9IGNvbXBhcmF0b3IgQ29tcGFyYXRvciB3aGljaCBpcyB1c2VkIGluXG4gKiAgICAgZGV0ZXJtaW5pbmcgaWYgdGhlIGV4cGVjdGVkIHZhbHVlIChmcm9tIHRoZSBmaWx0ZXIgZXhwcmVzc2lvbikgYW5kIGFjdHVhbCB2YWx1ZSAoZnJvbVxuICogICAgIHRoZSBvYmplY3QgaW4gdGhlIGFycmF5KSBzaG91bGQgYmUgY29uc2lkZXJlZCBhIG1hdGNoLlxuICpcbiAqICAgQ2FuIGJlIG9uZSBvZjpcbiAqXG4gKiAgIC0gYGZ1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpYDpcbiAqICAgICBUaGUgZnVuY3Rpb24gd2lsbCBiZSBnaXZlbiB0aGUgb2JqZWN0IHZhbHVlIGFuZCB0aGUgcHJlZGljYXRlIHZhbHVlIHRvIGNvbXBhcmUgYW5kXG4gKiAgICAgc2hvdWxkIHJldHVybiB0cnVlIGlmIGJvdGggdmFsdWVzIHNob3VsZCBiZSBjb25zaWRlcmVkIGVxdWFsLlxuICpcbiAqICAgLSBgdHJ1ZWA6IEEgc2hvcnRoYW5kIGZvciBgZnVuY3Rpb24oYWN0dWFsLCBleHBlY3RlZCkgeyByZXR1cm4gYW5ndWxhci5lcXVhbHMoYWN0dWFsLCBleHBlY3RlZCl9YC5cbiAqICAgICBUaGlzIGlzIGVzc2VudGlhbGx5IHN0cmljdCBjb21wYXJpc29uIG9mIGV4cGVjdGVkIGFuZCBhY3R1YWwuXG4gKlxuICogICAtIGBmYWxzZXx1bmRlZmluZWRgOiBBIHNob3J0IGhhbmQgZm9yIGEgZnVuY3Rpb24gd2hpY2ggd2lsbCBsb29rIGZvciBhIHN1YnN0cmluZyBtYXRjaCBpbiBjYXNlXG4gKiAgICAgaW5zZW5zaXRpdmUgd2F5LlxuICpcbiAqICAgICBQcmltaXRpdmUgdmFsdWVzIGFyZSBjb252ZXJ0ZWQgdG8gc3RyaW5ncy4gT2JqZWN0cyBhcmUgbm90IGNvbXBhcmVkIGFnYWluc3QgcHJpbWl0aXZlcyxcbiAqICAgICB1bmxlc3MgdGhleSBoYXZlIGEgY3VzdG9tIGB0b1N0cmluZ2AgbWV0aG9kIChlLmcuIGBEYXRlYCBvYmplY3RzKS5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1pbml0PVwiZnJpZW5kcyA9IFt7bmFtZTonSm9obicsIHBob25lOic1NTUtMTI3Nid9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonTWFyeScsIHBob25lOic4MDAtQklHLU1BUlknfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J01pa2UnLCBwaG9uZTonNTU1LTQzMjEnfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J0FkYW0nLCBwaG9uZTonNTU1LTU2NzgnfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J0p1bGllJywgcGhvbmU6JzU1NS04NzY1J30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOidKdWxpZXR0ZScsIHBob25lOic1NTUtNTY3OCd9XVwiPjwvZGl2PlxuXG4gICAgICAgPGxhYmVsPlNlYXJjaDogPGlucHV0IG5nLW1vZGVsPVwic2VhcmNoVGV4dFwiPjwvbGFiZWw+XG4gICAgICAgPHRhYmxlIGlkPVwic2VhcmNoVGV4dFJlc3VsdHNcIj5cbiAgICAgICAgIDx0cj48dGg+TmFtZTwvdGg+PHRoPlBob25lPC90aD48L3RyPlxuICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzIHwgZmlsdGVyOnNlYXJjaFRleHRcIj5cbiAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XG4gICAgICAgICAgIDx0ZD57e2ZyaWVuZC5waG9uZX19PC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgPC90YWJsZT5cbiAgICAgICA8aHI+XG4gICAgICAgPGxhYmVsPkFueTogPGlucHV0IG5nLW1vZGVsPVwic2VhcmNoLiRcIj48L2xhYmVsPiA8YnI+XG4gICAgICAgPGxhYmVsPk5hbWUgb25seSA8aW5wdXQgbmctbW9kZWw9XCJzZWFyY2gubmFtZVwiPjwvbGFiZWw+PGJyPlxuICAgICAgIDxsYWJlbD5QaG9uZSBvbmx5IDxpbnB1dCBuZy1tb2RlbD1cInNlYXJjaC5waG9uZVwiPjwvbGFiZWw+PGJyPlxuICAgICAgIDxsYWJlbD5FcXVhbGl0eSA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJzdHJpY3RcIj48L2xhYmVsPjxicj5cbiAgICAgICA8dGFibGUgaWQ9XCJzZWFyY2hPYmpSZXN1bHRzXCI+XG4gICAgICAgICA8dHI+PHRoPk5hbWU8L3RoPjx0aD5QaG9uZTwvdGg+PC90cj5cbiAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmRPYmogaW4gZnJpZW5kcyB8IGZpbHRlcjpzZWFyY2g6c3RyaWN0XCI+XG4gICAgICAgICAgIDx0ZD57e2ZyaWVuZE9iai5uYW1lfX08L3RkPlxuICAgICAgICAgICA8dGQ+e3tmcmllbmRPYmoucGhvbmV9fTwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgIDwvdGFibGU+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIHZhciBleHBlY3RGcmllbmROYW1lcyA9IGZ1bmN0aW9uKGV4cGVjdGVkTmFtZXMsIGtleSkge1xuICAgICAgICAgZWxlbWVudC5hbGwoYnkucmVwZWF0ZXIoa2V5ICsgJyBpbiBmcmllbmRzJykuY29sdW1uKGtleSArICcubmFtZScpKS50aGVuKGZ1bmN0aW9uKGFycikge1xuICAgICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbih3ZCwgaSkge1xuICAgICAgICAgICAgIGV4cGVjdCh3ZC5nZXRUZXh0KCkpLnRvTWF0Y2goZXhwZWN0ZWROYW1lc1tpXSk7XG4gICAgICAgICAgIH0pO1xuICAgICAgICAgfSk7XG4gICAgICAgfTtcblxuICAgICAgIGl0KCdzaG91bGQgc2VhcmNoIGFjcm9zcyBhbGwgZmllbGRzIHdoZW4gZmlsdGVyaW5nIHdpdGggYSBzdHJpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIHZhciBzZWFyY2hUZXh0ID0gZWxlbWVudChieS5tb2RlbCgnc2VhcmNoVGV4dCcpKTtcbiAgICAgICAgIHNlYXJjaFRleHQuY2xlYXIoKTtcbiAgICAgICAgIHNlYXJjaFRleHQuc2VuZEtleXMoJ20nKTtcbiAgICAgICAgIGV4cGVjdEZyaWVuZE5hbWVzKFsnTWFyeScsICdNaWtlJywgJ0FkYW0nXSwgJ2ZyaWVuZCcpO1xuXG4gICAgICAgICBzZWFyY2hUZXh0LmNsZWFyKCk7XG4gICAgICAgICBzZWFyY2hUZXh0LnNlbmRLZXlzKCc3NicpO1xuICAgICAgICAgZXhwZWN0RnJpZW5kTmFtZXMoWydKb2huJywgJ0p1bGllJ10sICdmcmllbmQnKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgc2VhcmNoIGluIHNwZWNpZmljIGZpZWxkcyB3aGVuIGZpbHRlcmluZyB3aXRoIGEgcHJlZGljYXRlIG9iamVjdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIHNlYXJjaEFueSA9IGVsZW1lbnQoYnkubW9kZWwoJ3NlYXJjaC4kJykpO1xuICAgICAgICAgc2VhcmNoQW55LmNsZWFyKCk7XG4gICAgICAgICBzZWFyY2hBbnkuc2VuZEtleXMoJ2knKTtcbiAgICAgICAgIGV4cGVjdEZyaWVuZE5hbWVzKFsnTWFyeScsICdNaWtlJywgJ0p1bGllJywgJ0p1bGlldHRlJ10sICdmcmllbmRPYmonKTtcbiAgICAgICB9KTtcbiAgICAgICBpdCgnc2hvdWxkIHVzZSBhIGVxdWFsIGNvbXBhcmlzb24gd2hlbiBjb21wYXJhdG9yIGlzIHRydWUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIHZhciBzZWFyY2hOYW1lID0gZWxlbWVudChieS5tb2RlbCgnc2VhcmNoLm5hbWUnKSk7XG4gICAgICAgICB2YXIgc3RyaWN0ID0gZWxlbWVudChieS5tb2RlbCgnc3RyaWN0JykpO1xuICAgICAgICAgc2VhcmNoTmFtZS5jbGVhcigpO1xuICAgICAgICAgc2VhcmNoTmFtZS5zZW5kS2V5cygnSnVsaWUnKTtcbiAgICAgICAgIHN0cmljdC5jbGljaygpO1xuICAgICAgICAgZXhwZWN0RnJpZW5kTmFtZXMoWydKdWxpZSddLCAnZnJpZW5kT2JqJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuZnVuY3Rpb24gZmlsdGVyRmlsdGVyKCkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIGV4cHJlc3Npb24sIGNvbXBhcmF0b3IpIHtcbiAgICBpZiAoIWlzQXJyYXlMaWtlKGFycmF5KSkge1xuICAgICAgaWYgKGFycmF5ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbWluRXJyKCdmaWx0ZXInKSgnbm90YXJyYXknLCAnRXhwZWN0ZWQgYXJyYXkgYnV0IHJlY2VpdmVkOiB7MH0nLCBhcnJheSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGV4cHJlc3Npb25UeXBlID0gZ2V0VHlwZUZvckZpbHRlcihleHByZXNzaW9uKTtcbiAgICB2YXIgcHJlZGljYXRlRm47XG4gICAgdmFyIG1hdGNoQWdhaW5zdEFueVByb3A7XG5cbiAgICBzd2l0Y2ggKGV4cHJlc3Npb25UeXBlKSB7XG4gICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgIHByZWRpY2F0ZUZuID0gZXhwcmVzc2lvbjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIGNhc2UgJ251bGwnOlxuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIG1hdGNoQWdhaW5zdEFueVByb3AgPSB0cnVlO1xuICAgICAgICAvL2pzaGludCAtVzA4NlxuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgLy9qc2hpbnQgK1cwODZcbiAgICAgICAgcHJlZGljYXRlRm4gPSBjcmVhdGVQcmVkaWNhdGVGbihleHByZXNzaW9uLCBjb21wYXJhdG9yLCBtYXRjaEFnYWluc3RBbnlQcm9wKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChhcnJheSwgcHJlZGljYXRlRm4pO1xuICB9O1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciBgZmlsdGVyRmlsdGVyYFxuZnVuY3Rpb24gY3JlYXRlUHJlZGljYXRlRm4oZXhwcmVzc2lvbiwgY29tcGFyYXRvciwgbWF0Y2hBZ2FpbnN0QW55UHJvcCkge1xuICB2YXIgc2hvdWxkTWF0Y2hQcmltaXRpdmVzID0gaXNPYmplY3QoZXhwcmVzc2lvbikgJiYgKCckJyBpbiBleHByZXNzaW9uKTtcbiAgdmFyIHByZWRpY2F0ZUZuO1xuXG4gIGlmIChjb21wYXJhdG9yID09PSB0cnVlKSB7XG4gICAgY29tcGFyYXRvciA9IGVxdWFscztcbiAgfSBlbHNlIGlmICghaXNGdW5jdGlvbihjb21wYXJhdG9yKSkge1xuICAgIGNvbXBhcmF0b3IgPSBmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkKSB7XG4gICAgICBpZiAoaXNVbmRlZmluZWQoYWN0dWFsKSkge1xuICAgICAgICAvLyBObyBzdWJzdHJpbmcgbWF0Y2hpbmcgYWdhaW5zdCBgdW5kZWZpbmVkYFxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoKGFjdHVhbCA9PT0gbnVsbCkgfHwgKGV4cGVjdGVkID09PSBudWxsKSkge1xuICAgICAgICAvLyBObyBzdWJzdHJpbmcgbWF0Y2hpbmcgYWdhaW5zdCBgbnVsbGA7IG9ubHkgbWF0Y2ggYWdhaW5zdCBgbnVsbGBcbiAgICAgICAgcmV0dXJuIGFjdHVhbCA9PT0gZXhwZWN0ZWQ7XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3QoZXhwZWN0ZWQpIHx8IChpc09iamVjdChhY3R1YWwpICYmICFoYXNDdXN0b21Ub1N0cmluZyhhY3R1YWwpKSkge1xuICAgICAgICAvLyBTaG91bGQgbm90IGNvbXBhcmUgcHJpbWl0aXZlcyBhZ2FpbnN0IG9iamVjdHMsIHVubGVzcyB0aGV5IGhhdmUgY3VzdG9tIGB0b1N0cmluZ2AgbWV0aG9kXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgYWN0dWFsID0gbG93ZXJjYXNlKCcnICsgYWN0dWFsKTtcbiAgICAgIGV4cGVjdGVkID0gbG93ZXJjYXNlKCcnICsgZXhwZWN0ZWQpO1xuICAgICAgcmV0dXJuIGFjdHVhbC5pbmRleE9mKGV4cGVjdGVkKSAhPT0gLTE7XG4gICAgfTtcbiAgfVxuXG4gIHByZWRpY2F0ZUZuID0gZnVuY3Rpb24oaXRlbSkge1xuICAgIGlmIChzaG91bGRNYXRjaFByaW1pdGl2ZXMgJiYgIWlzT2JqZWN0KGl0ZW0pKSB7XG4gICAgICByZXR1cm4gZGVlcENvbXBhcmUoaXRlbSwgZXhwcmVzc2lvbi4kLCBjb21wYXJhdG9yLCBmYWxzZSk7XG4gICAgfVxuICAgIHJldHVybiBkZWVwQ29tcGFyZShpdGVtLCBleHByZXNzaW9uLCBjb21wYXJhdG9yLCBtYXRjaEFnYWluc3RBbnlQcm9wKTtcbiAgfTtcblxuICByZXR1cm4gcHJlZGljYXRlRm47XG59XG5cbmZ1bmN0aW9uIGRlZXBDb21wYXJlKGFjdHVhbCwgZXhwZWN0ZWQsIGNvbXBhcmF0b3IsIG1hdGNoQWdhaW5zdEFueVByb3AsIGRvbnRNYXRjaFdob2xlT2JqZWN0KSB7XG4gIHZhciBhY3R1YWxUeXBlID0gZ2V0VHlwZUZvckZpbHRlcihhY3R1YWwpO1xuICB2YXIgZXhwZWN0ZWRUeXBlID0gZ2V0VHlwZUZvckZpbHRlcihleHBlY3RlZCk7XG5cbiAgaWYgKChleHBlY3RlZFR5cGUgPT09ICdzdHJpbmcnKSAmJiAoZXhwZWN0ZWQuY2hhckF0KDApID09PSAnIScpKSB7XG4gICAgcmV0dXJuICFkZWVwQ29tcGFyZShhY3R1YWwsIGV4cGVjdGVkLnN1YnN0cmluZygxKSwgY29tcGFyYXRvciwgbWF0Y2hBZ2FpbnN0QW55UHJvcCk7XG4gIH0gZWxzZSBpZiAoaXNBcnJheShhY3R1YWwpKSB7XG4gICAgLy8gSW4gY2FzZSBgYWN0dWFsYCBpcyBhbiBhcnJheSwgY29uc2lkZXIgaXQgYSBtYXRjaFxuICAgIC8vIGlmIEFOWSBvZiBpdCdzIGl0ZW1zIG1hdGNoZXMgYGV4cGVjdGVkYFxuICAgIHJldHVybiBhY3R1YWwuc29tZShmdW5jdGlvbihpdGVtKSB7XG4gICAgICByZXR1cm4gZGVlcENvbXBhcmUoaXRlbSwgZXhwZWN0ZWQsIGNvbXBhcmF0b3IsIG1hdGNoQWdhaW5zdEFueVByb3ApO1xuICAgIH0pO1xuICB9XG5cbiAgc3dpdGNoIChhY3R1YWxUeXBlKSB7XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIHZhciBrZXk7XG4gICAgICBpZiAobWF0Y2hBZ2FpbnN0QW55UHJvcCkge1xuICAgICAgICBmb3IgKGtleSBpbiBhY3R1YWwpIHtcbiAgICAgICAgICBpZiAoKGtleS5jaGFyQXQoMCkgIT09ICckJykgJiYgZGVlcENvbXBhcmUoYWN0dWFsW2tleV0sIGV4cGVjdGVkLCBjb21wYXJhdG9yLCB0cnVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb250TWF0Y2hXaG9sZU9iamVjdCA/IGZhbHNlIDogZGVlcENvbXBhcmUoYWN0dWFsLCBleHBlY3RlZCwgY29tcGFyYXRvciwgZmFsc2UpO1xuICAgICAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGZvciAoa2V5IGluIGV4cGVjdGVkKSB7XG4gICAgICAgICAgdmFyIGV4cGVjdGVkVmFsID0gZXhwZWN0ZWRba2V5XTtcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihleHBlY3RlZFZhbCkgfHwgaXNVbmRlZmluZWQoZXhwZWN0ZWRWYWwpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgbWF0Y2hBbnlQcm9wZXJ0eSA9IGtleSA9PT0gJyQnO1xuICAgICAgICAgIHZhciBhY3R1YWxWYWwgPSBtYXRjaEFueVByb3BlcnR5ID8gYWN0dWFsIDogYWN0dWFsW2tleV07XG4gICAgICAgICAgaWYgKCFkZWVwQ29tcGFyZShhY3R1YWxWYWwsIGV4cGVjdGVkVmFsLCBjb21wYXJhdG9yLCBtYXRjaEFueVByb3BlcnR5LCBtYXRjaEFueVByb3BlcnR5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb21wYXJhdG9yKGFjdHVhbCwgZXhwZWN0ZWQpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gY29tcGFyYXRvcihhY3R1YWwsIGV4cGVjdGVkKTtcbiAgfVxufVxuXG4vLyBVc2VkIGZvciBlYXNpbHkgZGlmZmVyZW50aWF0aW5nIGJldHdlZW4gYG51bGxgIGFuZCBhY3R1YWwgYG9iamVjdGBcbmZ1bmN0aW9uIGdldFR5cGVGb3JGaWx0ZXIodmFsKSB7XG4gIHJldHVybiAodmFsID09PSBudWxsKSA/ICdudWxsJyA6IHR5cGVvZiB2YWw7XG59XG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgY3VycmVuY3lcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBGb3JtYXRzIGEgbnVtYmVyIGFzIGEgY3VycmVuY3kgKGllICQxLDIzNC41NikuIFdoZW4gbm8gY3VycmVuY3kgc3ltYm9sIGlzIHByb3ZpZGVkLCBkZWZhdWx0XG4gKiBzeW1ib2wgZm9yIGN1cnJlbnQgbG9jYWxlIGlzIHVzZWQuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCBJbnB1dCB0byBmaWx0ZXIuXG4gKiBAcGFyYW0ge3N0cmluZz19IHN5bWJvbCBDdXJyZW5jeSBzeW1ib2wgb3IgaWRlbnRpZmllciB0byBiZSBkaXNwbGF5ZWQuXG4gKiBAcGFyYW0ge251bWJlcj19IGZyYWN0aW9uU2l6ZSBOdW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgdG8gcm91bmQgdGhlIGFtb3VudCB0bywgZGVmYXVsdHMgdG8gZGVmYXVsdCBtYXggZnJhY3Rpb24gc2l6ZSBmb3IgY3VycmVudCBsb2NhbGVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEZvcm1hdHRlZCBudW1iZXIuXG4gKlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJjdXJyZW5jeUV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2N1cnJlbmN5RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5hbW91bnQgPSAxMjM0LjU2O1xuICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJhbW91bnRcIiBhcmlhLWxhYmVsPVwiYW1vdW50XCI+IDxicj5cbiAgICAgICAgIGRlZmF1bHQgY3VycmVuY3kgc3ltYm9sICgkKTogPHNwYW4gaWQ9XCJjdXJyZW5jeS1kZWZhdWx0XCI+e3thbW91bnQgfCBjdXJyZW5jeX19PC9zcGFuPjxicj5cbiAgICAgICAgIGN1c3RvbSBjdXJyZW5jeSBpZGVudGlmaWVyIChVU0QkKTogPHNwYW4gaWQ9XCJjdXJyZW5jeS1jdXN0b21cIj57e2Ftb3VudCB8IGN1cnJlbmN5OlwiVVNEJFwifX08L3NwYW4+XG4gICAgICAgICBubyBmcmFjdGlvbnMgKDApOiA8c3BhbiBpZD1cImN1cnJlbmN5LW5vLWZyYWN0aW9uc1wiPnt7YW1vdW50IHwgY3VycmVuY3k6XCJVU0QkXCI6MH19PC9zcGFuPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGluaXQgd2l0aCAxMjM0LjU2JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktZGVmYXVsdCcpKS5nZXRUZXh0KCkpLnRvQmUoJyQxLDIzNC41NicpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LWN1c3RvbScpKS5nZXRUZXh0KCkpLnRvQmUoJ1VTRCQxLDIzNC41NicpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LW5vLWZyYWN0aW9ucycpKS5nZXRUZXh0KCkpLnRvQmUoJ1VTRCQxLDIzNScpO1xuICAgICAgIH0pO1xuICAgICAgIGl0KCdzaG91bGQgdXBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBpZiAoYnJvd3Nlci5wYXJhbXMuYnJvd3NlciA9PSAnc2FmYXJpJykge1xuICAgICAgICAgICAvLyBTYWZhcmkgZG9lcyBub3QgdW5kZXJzdGFuZCB0aGUgbWludXMga2V5LiBTZWVcbiAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNDgxXG4gICAgICAgICAgIHJldHVybjtcbiAgICAgICAgIH1cbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2Ftb3VudCcpKS5jbGVhcigpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnYW1vdW50JykpLnNlbmRLZXlzKCctMTIzNCcpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LWRlZmF1bHQnKSkuZ2V0VGV4dCgpKS50b0JlKCcoJDEsMjM0LjAwKScpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LWN1c3RvbScpKS5nZXRUZXh0KCkpLnRvQmUoJyhVU0QkMSwyMzQuMDApJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktbm8tZnJhY3Rpb25zJykpLmdldFRleHQoKSkudG9CZSgnKFVTRCQxLDIzNCknKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5jdXJyZW5jeUZpbHRlci4kaW5qZWN0ID0gWyckbG9jYWxlJ107XG5mdW5jdGlvbiBjdXJyZW5jeUZpbHRlcigkbG9jYWxlKSB7XG4gIHZhciBmb3JtYXRzID0gJGxvY2FsZS5OVU1CRVJfRk9STUFUUztcbiAgcmV0dXJuIGZ1bmN0aW9uKGFtb3VudCwgY3VycmVuY3lTeW1ib2wsIGZyYWN0aW9uU2l6ZSkge1xuICAgIGlmIChpc1VuZGVmaW5lZChjdXJyZW5jeVN5bWJvbCkpIHtcbiAgICAgIGN1cnJlbmN5U3ltYm9sID0gZm9ybWF0cy5DVVJSRU5DWV9TWU07XG4gICAgfVxuXG4gICAgaWYgKGlzVW5kZWZpbmVkKGZyYWN0aW9uU2l6ZSkpIHtcbiAgICAgIGZyYWN0aW9uU2l6ZSA9IGZvcm1hdHMuUEFUVEVSTlNbMV0ubWF4RnJhYztcbiAgICB9XG5cbiAgICAvLyBpZiBudWxsIG9yIHVuZGVmaW5lZCBwYXNzIGl0IHRocm91Z2hcbiAgICByZXR1cm4gKGFtb3VudCA9PSBudWxsKVxuICAgICAgICA/IGFtb3VudFxuICAgICAgICA6IGZvcm1hdE51bWJlcihhbW91bnQsIGZvcm1hdHMuUEFUVEVSTlNbMV0sIGZvcm1hdHMuR1JPVVBfU0VQLCBmb3JtYXRzLkRFQ0lNQUxfU0VQLCBmcmFjdGlvblNpemUpLlxuICAgICAgICAgICAgcmVwbGFjZSgvXFx1MDBBNC9nLCBjdXJyZW5jeVN5bWJvbCk7XG4gIH07XG59XG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgbnVtYmVyXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRm9ybWF0cyBhIG51bWJlciBhcyB0ZXh0LlxuICpcbiAqIElmIHRoZSBpbnB1dCBpcyBudWxsIG9yIHVuZGVmaW5lZCwgaXQgd2lsbCBqdXN0IGJlIHJldHVybmVkLlxuICogSWYgdGhlIGlucHV0IGlzIGluZmluaXRlIChJbmZpbml0eS8tSW5maW5pdHkpIHRoZSBJbmZpbml0eSBzeW1ib2wgJ+KInicgaXMgcmV0dXJuZWQuXG4gKiBJZiB0aGUgaW5wdXQgaXMgbm90IGEgbnVtYmVyIGFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZC5cbiAqXG4gKlxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBudW1iZXIgTnVtYmVyIHRvIGZvcm1hdC5cbiAqIEBwYXJhbSB7KG51bWJlcnxzdHJpbmcpPX0gZnJhY3Rpb25TaXplIE51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyB0byByb3VuZCB0aGUgbnVtYmVyIHRvLlxuICogSWYgdGhpcyBpcyBub3QgcHJvdmlkZWQgdGhlbiB0aGUgZnJhY3Rpb24gc2l6ZSBpcyBjb21wdXRlZCBmcm9tIHRoZSBjdXJyZW50IGxvY2FsZSdzIG51bWJlclxuICogZm9ybWF0dGluZyBwYXR0ZXJuLiBJbiB0aGUgY2FzZSBvZiB0aGUgZGVmYXVsdCBsb2NhbGUsIGl0IHdpbGwgYmUgMy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IE51bWJlciByb3VuZGVkIHRvIGRlY2ltYWxQbGFjZXMgYW5kIHBsYWNlcyBhIOKAnCzigJ0gYWZ0ZXIgZWFjaCB0aGlyZCBkaWdpdC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibnVtYmVyRmlsdGVyRXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnbnVtYmVyRmlsdGVyRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS52YWwgPSAxMjM0LjU2Nzg5O1xuICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxsYWJlbD5FbnRlciBudW1iZXI6IDxpbnB1dCBuZy1tb2RlbD0ndmFsJz48L2xhYmVsPjxicj5cbiAgICAgICAgIERlZmF1bHQgZm9ybWF0dGluZzogPHNwYW4gaWQ9J251bWJlci1kZWZhdWx0Jz57e3ZhbCB8IG51bWJlcn19PC9zcGFuPjxicj5cbiAgICAgICAgIE5vIGZyYWN0aW9uczogPHNwYW4+e3t2YWwgfCBudW1iZXI6MH19PC9zcGFuPjxicj5cbiAgICAgICAgIE5lZ2F0aXZlIG51bWJlcjogPHNwYW4+e3stdmFsIHwgbnVtYmVyOjR9fTwvc3Bhbj5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBmb3JtYXQgbnVtYmVycycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ251bWJlci1kZWZhdWx0JykpLmdldFRleHQoKSkudG9CZSgnMSwyMzQuNTY4Jyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd2YWwgfCBudW1iZXI6MCcpKS5nZXRUZXh0KCkpLnRvQmUoJzEsMjM1Jyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCctdmFsIHwgbnVtYmVyOjQnKSkuZ2V0VGV4dCgpKS50b0JlKCctMSwyMzQuNTY3OScpO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3ZhbCcpKS5jbGVhcigpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgndmFsJykpLnNlbmRLZXlzKCczMzc0LjMzMycpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ251bWJlci1kZWZhdWx0JykpLmdldFRleHQoKSkudG9CZSgnMywzNzQuMzMzJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd2YWwgfCBudW1iZXI6MCcpKS5nZXRUZXh0KCkpLnRvQmUoJzMsMzc0Jyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCctdmFsIHwgbnVtYmVyOjQnKSkuZ2V0VGV4dCgpKS50b0JlKCctMywzNzQuMzMzMCcpO1xuICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbm51bWJlckZpbHRlci4kaW5qZWN0ID0gWyckbG9jYWxlJ107XG5mdW5jdGlvbiBudW1iZXJGaWx0ZXIoJGxvY2FsZSkge1xuICB2YXIgZm9ybWF0cyA9ICRsb2NhbGUuTlVNQkVSX0ZPUk1BVFM7XG4gIHJldHVybiBmdW5jdGlvbihudW1iZXIsIGZyYWN0aW9uU2l6ZSkge1xuXG4gICAgLy8gaWYgbnVsbCBvciB1bmRlZmluZWQgcGFzcyBpdCB0aHJvdWdoXG4gICAgcmV0dXJuIChudW1iZXIgPT0gbnVsbClcbiAgICAgICAgPyBudW1iZXJcbiAgICAgICAgOiBmb3JtYXROdW1iZXIobnVtYmVyLCBmb3JtYXRzLlBBVFRFUk5TWzBdLCBmb3JtYXRzLkdST1VQX1NFUCwgZm9ybWF0cy5ERUNJTUFMX1NFUCxcbiAgICAgICAgICAgICAgICAgICAgICAgZnJhY3Rpb25TaXplKTtcbiAgfTtcbn1cblxudmFyIERFQ0lNQUxfU0VQID0gJy4nO1xuZnVuY3Rpb24gZm9ybWF0TnVtYmVyKG51bWJlciwgcGF0dGVybiwgZ3JvdXBTZXAsIGRlY2ltYWxTZXAsIGZyYWN0aW9uU2l6ZSkge1xuICBpZiAoaXNPYmplY3QobnVtYmVyKSkgcmV0dXJuICcnO1xuXG4gIHZhciBpc05lZ2F0aXZlID0gbnVtYmVyIDwgMDtcbiAgbnVtYmVyID0gTWF0aC5hYnMobnVtYmVyKTtcblxuICB2YXIgaXNJbmZpbml0eSA9IG51bWJlciA9PT0gSW5maW5pdHk7XG4gIGlmICghaXNJbmZpbml0eSAmJiAhaXNGaW5pdGUobnVtYmVyKSkgcmV0dXJuICcnO1xuXG4gIHZhciBudW1TdHIgPSBudW1iZXIgKyAnJyxcbiAgICAgIGZvcm1hdGVkVGV4dCA9ICcnLFxuICAgICAgaGFzRXhwb25lbnQgPSBmYWxzZSxcbiAgICAgIHBhcnRzID0gW107XG5cbiAgaWYgKGlzSW5maW5pdHkpIGZvcm1hdGVkVGV4dCA9ICdcXHUyMjFlJztcblxuICBpZiAoIWlzSW5maW5pdHkgJiYgbnVtU3RyLmluZGV4T2YoJ2UnKSAhPT0gLTEpIHtcbiAgICB2YXIgbWF0Y2ggPSBudW1TdHIubWF0Y2goLyhbXFxkXFwuXSspZSgtPykoXFxkKykvKTtcbiAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMl0gPT0gJy0nICYmIG1hdGNoWzNdID4gZnJhY3Rpb25TaXplICsgMSkge1xuICAgICAgbnVtYmVyID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9ybWF0ZWRUZXh0ID0gbnVtU3RyO1xuICAgICAgaGFzRXhwb25lbnQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaXNJbmZpbml0eSAmJiAhaGFzRXhwb25lbnQpIHtcbiAgICB2YXIgZnJhY3Rpb25MZW4gPSAobnVtU3RyLnNwbGl0KERFQ0lNQUxfU0VQKVsxXSB8fCAnJykubGVuZ3RoO1xuXG4gICAgLy8gZGV0ZXJtaW5lIGZyYWN0aW9uU2l6ZSBpZiBpdCBpcyBub3Qgc3BlY2lmaWVkXG4gICAgaWYgKGlzVW5kZWZpbmVkKGZyYWN0aW9uU2l6ZSkpIHtcbiAgICAgIGZyYWN0aW9uU2l6ZSA9IE1hdGgubWluKE1hdGgubWF4KHBhdHRlcm4ubWluRnJhYywgZnJhY3Rpb25MZW4pLCBwYXR0ZXJuLm1heEZyYWMpO1xuICAgIH1cblxuICAgIC8vIHNhZmVseSByb3VuZCBudW1iZXJzIGluIEpTIHdpdGhvdXQgaGl0dGluZyBpbXByZWNpc2lvbnMgb2YgZmxvYXRpbmctcG9pbnQgYXJpdGhtZXRpY3NcbiAgICAvLyBpbnNwaXJlZCBieTpcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3JvdW5kXG4gICAgbnVtYmVyID0gKyhNYXRoLnJvdW5kKCsobnVtYmVyLnRvU3RyaW5nKCkgKyAnZScgKyBmcmFjdGlvblNpemUpKS50b1N0cmluZygpICsgJ2UnICsgLWZyYWN0aW9uU2l6ZSk7XG5cbiAgICB2YXIgZnJhY3Rpb24gPSAoJycgKyBudW1iZXIpLnNwbGl0KERFQ0lNQUxfU0VQKTtcbiAgICB2YXIgd2hvbGUgPSBmcmFjdGlvblswXTtcbiAgICBmcmFjdGlvbiA9IGZyYWN0aW9uWzFdIHx8ICcnO1xuXG4gICAgdmFyIGksIHBvcyA9IDAsXG4gICAgICAgIGxncm91cCA9IHBhdHRlcm4ubGdTaXplLFxuICAgICAgICBncm91cCA9IHBhdHRlcm4uZ1NpemU7XG5cbiAgICBpZiAod2hvbGUubGVuZ3RoID49IChsZ3JvdXAgKyBncm91cCkpIHtcbiAgICAgIHBvcyA9IHdob2xlLmxlbmd0aCAtIGxncm91cDtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBwb3M7IGkrKykge1xuICAgICAgICBpZiAoKHBvcyAtIGkpICUgZ3JvdXAgPT09IDAgJiYgaSAhPT0gMCkge1xuICAgICAgICAgIGZvcm1hdGVkVGV4dCArPSBncm91cFNlcDtcbiAgICAgICAgfVxuICAgICAgICBmb3JtYXRlZFRleHQgKz0gd2hvbGUuY2hhckF0KGkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IHBvczsgaSA8IHdob2xlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoKHdob2xlLmxlbmd0aCAtIGkpICUgbGdyb3VwID09PSAwICYmIGkgIT09IDApIHtcbiAgICAgICAgZm9ybWF0ZWRUZXh0ICs9IGdyb3VwU2VwO1xuICAgICAgfVxuICAgICAgZm9ybWF0ZWRUZXh0ICs9IHdob2xlLmNoYXJBdChpKTtcbiAgICB9XG5cbiAgICAvLyBmb3JtYXQgZnJhY3Rpb24gcGFydC5cbiAgICB3aGlsZSAoZnJhY3Rpb24ubGVuZ3RoIDwgZnJhY3Rpb25TaXplKSB7XG4gICAgICBmcmFjdGlvbiArPSAnMCc7XG4gICAgfVxuXG4gICAgaWYgKGZyYWN0aW9uU2l6ZSAmJiBmcmFjdGlvblNpemUgIT09IFwiMFwiKSBmb3JtYXRlZFRleHQgKz0gZGVjaW1hbFNlcCArIGZyYWN0aW9uLnN1YnN0cigwLCBmcmFjdGlvblNpemUpO1xuICB9IGVsc2Uge1xuICAgIGlmIChmcmFjdGlvblNpemUgPiAwICYmIG51bWJlciA8IDEpIHtcbiAgICAgIGZvcm1hdGVkVGV4dCA9IG51bWJlci50b0ZpeGVkKGZyYWN0aW9uU2l6ZSk7XG4gICAgICBudW1iZXIgPSBwYXJzZUZsb2F0KGZvcm1hdGVkVGV4dCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG51bWJlciA9PT0gMCkge1xuICAgIGlzTmVnYXRpdmUgPSBmYWxzZTtcbiAgfVxuXG4gIHBhcnRzLnB1c2goaXNOZWdhdGl2ZSA/IHBhdHRlcm4ubmVnUHJlIDogcGF0dGVybi5wb3NQcmUsXG4gICAgICAgICAgICAgZm9ybWF0ZWRUZXh0LFxuICAgICAgICAgICAgIGlzTmVnYXRpdmUgPyBwYXR0ZXJuLm5lZ1N1ZiA6IHBhdHRlcm4ucG9zU3VmKTtcbiAgcmV0dXJuIHBhcnRzLmpvaW4oJycpO1xufVxuXG5mdW5jdGlvbiBwYWROdW1iZXIobnVtLCBkaWdpdHMsIHRyaW0pIHtcbiAgdmFyIG5lZyA9ICcnO1xuICBpZiAobnVtIDwgMCkge1xuICAgIG5lZyA9ICAnLSc7XG4gICAgbnVtID0gLW51bTtcbiAgfVxuICBudW0gPSAnJyArIG51bTtcbiAgd2hpbGUgKG51bS5sZW5ndGggPCBkaWdpdHMpIG51bSA9ICcwJyArIG51bTtcbiAgaWYgKHRyaW0pIHtcbiAgICBudW0gPSBudW0uc3Vic3RyKG51bS5sZW5ndGggLSBkaWdpdHMpO1xuICB9XG4gIHJldHVybiBuZWcgKyBudW07XG59XG5cblxuZnVuY3Rpb24gZGF0ZUdldHRlcihuYW1lLCBzaXplLCBvZmZzZXQsIHRyaW0pIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG4gIHJldHVybiBmdW5jdGlvbihkYXRlKSB7XG4gICAgdmFyIHZhbHVlID0gZGF0ZVsnZ2V0JyArIG5hbWVdKCk7XG4gICAgaWYgKG9mZnNldCA+IDAgfHwgdmFsdWUgPiAtb2Zmc2V0KSB7XG4gICAgICB2YWx1ZSArPSBvZmZzZXQ7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PT0gMCAmJiBvZmZzZXQgPT0gLTEyKSB2YWx1ZSA9IDEyO1xuICAgIHJldHVybiBwYWROdW1iZXIodmFsdWUsIHNpemUsIHRyaW0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBkYXRlU3RyR2V0dGVyKG5hbWUsIHNob3J0Rm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oZGF0ZSwgZm9ybWF0cykge1xuICAgIHZhciB2YWx1ZSA9IGRhdGVbJ2dldCcgKyBuYW1lXSgpO1xuICAgIHZhciBnZXQgPSB1cHBlcmNhc2Uoc2hvcnRGb3JtID8gKCdTSE9SVCcgKyBuYW1lKSA6IG5hbWUpO1xuXG4gICAgcmV0dXJuIGZvcm1hdHNbZ2V0XVt2YWx1ZV07XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRpbWVab25lR2V0dGVyKGRhdGUsIGZvcm1hdHMsIG9mZnNldCkge1xuICB2YXIgem9uZSA9IC0xICogb2Zmc2V0O1xuICB2YXIgcGFkZGVkWm9uZSA9ICh6b25lID49IDApID8gXCIrXCIgOiBcIlwiO1xuXG4gIHBhZGRlZFpvbmUgKz0gcGFkTnVtYmVyKE1hdGhbem9uZSA+IDAgPyAnZmxvb3InIDogJ2NlaWwnXSh6b25lIC8gNjApLCAyKSArXG4gICAgICAgICAgICAgICAgcGFkTnVtYmVyKE1hdGguYWJzKHpvbmUgJSA2MCksIDIpO1xuXG4gIHJldHVybiBwYWRkZWRab25lO1xufVxuXG5mdW5jdGlvbiBnZXRGaXJzdFRodXJzZGF5T2ZZZWFyKHllYXIpIHtcbiAgICAvLyAwID0gaW5kZXggb2YgSmFudWFyeVxuICAgIHZhciBkYXlPZldlZWtPbkZpcnN0ID0gKG5ldyBEYXRlKHllYXIsIDAsIDEpKS5nZXREYXkoKTtcbiAgICAvLyA0ID0gaW5kZXggb2YgVGh1cnNkYXkgKCsxIHRvIGFjY291bnQgZm9yIDFzdCA9IDUpXG4gICAgLy8gMTEgPSBpbmRleCBvZiAqbmV4dCogVGh1cnNkYXkgKCsxIGFjY291bnQgZm9yIDFzdCA9IDEyKVxuICAgIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCAwLCAoKGRheU9mV2Vla09uRmlyc3QgPD0gNCkgPyA1IDogMTIpIC0gZGF5T2ZXZWVrT25GaXJzdCk7XG59XG5cbmZ1bmN0aW9uIGdldFRodXJzZGF5VGhpc1dlZWsoZGF0ZXRpbWUpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZXRpbWUuZ2V0RnVsbFllYXIoKSwgZGF0ZXRpbWUuZ2V0TW9udGgoKSxcbiAgICAgIC8vIDQgPSBpbmRleCBvZiBUaHVyc2RheVxuICAgICAgZGF0ZXRpbWUuZ2V0RGF0ZSgpICsgKDQgLSBkYXRldGltZS5nZXREYXkoKSkpO1xufVxuXG5mdW5jdGlvbiB3ZWVrR2V0dGVyKHNpemUpIHtcbiAgIHJldHVybiBmdW5jdGlvbihkYXRlKSB7XG4gICAgICB2YXIgZmlyc3RUaHVycyA9IGdldEZpcnN0VGh1cnNkYXlPZlllYXIoZGF0ZS5nZXRGdWxsWWVhcigpKSxcbiAgICAgICAgIHRoaXNUaHVycyA9IGdldFRodXJzZGF5VGhpc1dlZWsoZGF0ZSk7XG5cbiAgICAgIHZhciBkaWZmID0gK3RoaXNUaHVycyAtICtmaXJzdFRodXJzLFxuICAgICAgICAgcmVzdWx0ID0gMSArIE1hdGgucm91bmQoZGlmZiAvIDYuMDQ4ZTgpOyAvLyA2LjA0OGU4IG1zIHBlciB3ZWVrXG5cbiAgICAgIHJldHVybiBwYWROdW1iZXIocmVzdWx0LCBzaXplKTtcbiAgIH07XG59XG5cbmZ1bmN0aW9uIGFtcG1HZXR0ZXIoZGF0ZSwgZm9ybWF0cykge1xuICByZXR1cm4gZGF0ZS5nZXRIb3VycygpIDwgMTIgPyBmb3JtYXRzLkFNUE1TWzBdIDogZm9ybWF0cy5BTVBNU1sxXTtcbn1cblxuZnVuY3Rpb24gZXJhR2V0dGVyKGRhdGUsIGZvcm1hdHMpIHtcbiAgcmV0dXJuIGRhdGUuZ2V0RnVsbFllYXIoKSA8PSAwID8gZm9ybWF0cy5FUkFTWzBdIDogZm9ybWF0cy5FUkFTWzFdO1xufVxuXG5mdW5jdGlvbiBsb25nRXJhR2V0dGVyKGRhdGUsIGZvcm1hdHMpIHtcbiAgcmV0dXJuIGRhdGUuZ2V0RnVsbFllYXIoKSA8PSAwID8gZm9ybWF0cy5FUkFOQU1FU1swXSA6IGZvcm1hdHMuRVJBTkFNRVNbMV07XG59XG5cbnZhciBEQVRFX0ZPUk1BVFMgPSB7XG4gIHl5eXk6IGRhdGVHZXR0ZXIoJ0Z1bGxZZWFyJywgNCksXG4gICAgeXk6IGRhdGVHZXR0ZXIoJ0Z1bGxZZWFyJywgMiwgMCwgdHJ1ZSksXG4gICAgIHk6IGRhdGVHZXR0ZXIoJ0Z1bGxZZWFyJywgMSksXG4gIE1NTU06IGRhdGVTdHJHZXR0ZXIoJ01vbnRoJyksXG4gICBNTU06IGRhdGVTdHJHZXR0ZXIoJ01vbnRoJywgdHJ1ZSksXG4gICAgTU06IGRhdGVHZXR0ZXIoJ01vbnRoJywgMiwgMSksXG4gICAgIE06IGRhdGVHZXR0ZXIoJ01vbnRoJywgMSwgMSksXG4gICAgZGQ6IGRhdGVHZXR0ZXIoJ0RhdGUnLCAyKSxcbiAgICAgZDogZGF0ZUdldHRlcignRGF0ZScsIDEpLFxuICAgIEhIOiBkYXRlR2V0dGVyKCdIb3VycycsIDIpLFxuICAgICBIOiBkYXRlR2V0dGVyKCdIb3VycycsIDEpLFxuICAgIGhoOiBkYXRlR2V0dGVyKCdIb3VycycsIDIsIC0xMiksXG4gICAgIGg6IGRhdGVHZXR0ZXIoJ0hvdXJzJywgMSwgLTEyKSxcbiAgICBtbTogZGF0ZUdldHRlcignTWludXRlcycsIDIpLFxuICAgICBtOiBkYXRlR2V0dGVyKCdNaW51dGVzJywgMSksXG4gICAgc3M6IGRhdGVHZXR0ZXIoJ1NlY29uZHMnLCAyKSxcbiAgICAgczogZGF0ZUdldHRlcignU2Vjb25kcycsIDEpLFxuICAgICAvLyB3aGlsZSBJU08gODYwMSByZXF1aXJlcyBmcmFjdGlvbnMgdG8gYmUgcHJlZml4ZWQgd2l0aCBgLmAgb3IgYCxgXG4gICAgIC8vIHdlIGNhbiBiZSBqdXN0IHNhZmVseSByZWx5IG9uIHVzaW5nIGBzc3NgIHNpbmNlIHdlIGN1cnJlbnRseSBkb24ndCBzdXBwb3J0IHNpbmdsZSBvciB0d28gZGlnaXQgZnJhY3Rpb25zXG4gICBzc3M6IGRhdGVHZXR0ZXIoJ01pbGxpc2Vjb25kcycsIDMpLFxuICBFRUVFOiBkYXRlU3RyR2V0dGVyKCdEYXknKSxcbiAgIEVFRTogZGF0ZVN0ckdldHRlcignRGF5JywgdHJ1ZSksXG4gICAgIGE6IGFtcG1HZXR0ZXIsXG4gICAgIFo6IHRpbWVab25lR2V0dGVyLFxuICAgIHd3OiB3ZWVrR2V0dGVyKDIpLFxuICAgICB3OiB3ZWVrR2V0dGVyKDEpLFxuICAgICBHOiBlcmFHZXR0ZXIsXG4gICAgIEdHOiBlcmFHZXR0ZXIsXG4gICAgIEdHRzogZXJhR2V0dGVyLFxuICAgICBHR0dHOiBsb25nRXJhR2V0dGVyXG59O1xuXG52YXIgREFURV9GT1JNQVRTX1NQTElUID0gLygoPzpbXnlNZEhobXNhWkV3RyddKyl8KD86Jyg/OlteJ118JycpKicpfCg/OkUrfHkrfE0rfGQrfEgrfGgrfG0rfHMrfGF8WnxHK3x3KykpKC4qKS8sXG4gICAgTlVNQkVSX1NUUklORyA9IC9eXFwtP1xcZCskLztcblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBkYXRlXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogICBGb3JtYXRzIGBkYXRlYCB0byBhIHN0cmluZyBiYXNlZCBvbiB0aGUgcmVxdWVzdGVkIGBmb3JtYXRgLlxuICpcbiAqICAgYGZvcm1hdGAgc3RyaW5nIGNhbiBiZSBjb21wb3NlZCBvZiB0aGUgZm9sbG93aW5nIGVsZW1lbnRzOlxuICpcbiAqICAgKiBgJ3l5eXknYDogNCBkaWdpdCByZXByZXNlbnRhdGlvbiBvZiB5ZWFyIChlLmcuIEFEIDEgPT4gMDAwMSwgQUQgMjAxMCA9PiAyMDEwKVxuICogICAqIGAneXknYDogMiBkaWdpdCByZXByZXNlbnRhdGlvbiBvZiB5ZWFyLCBwYWRkZWQgKDAwLTk5KS4gKGUuZy4gQUQgMjAwMSA9PiAwMSwgQUQgMjAxMCA9PiAxMClcbiAqICAgKiBgJ3knYDogMSBkaWdpdCByZXByZXNlbnRhdGlvbiBvZiB5ZWFyLCBlLmcuIChBRCAxID0+IDEsIEFEIDE5OSA9PiAxOTkpXG4gKiAgICogYCdNTU1NJ2A6IE1vbnRoIGluIHllYXIgKEphbnVhcnktRGVjZW1iZXIpXG4gKiAgICogYCdNTU0nYDogTW9udGggaW4geWVhciAoSmFuLURlYylcbiAqICAgKiBgJ01NJ2A6IE1vbnRoIGluIHllYXIsIHBhZGRlZCAoMDEtMTIpXG4gKiAgICogYCdNJ2A6IE1vbnRoIGluIHllYXIgKDEtMTIpXG4gKiAgICogYCdkZCdgOiBEYXkgaW4gbW9udGgsIHBhZGRlZCAoMDEtMzEpXG4gKiAgICogYCdkJ2A6IERheSBpbiBtb250aCAoMS0zMSlcbiAqICAgKiBgJ0VFRUUnYDogRGF5IGluIFdlZWssKFN1bmRheS1TYXR1cmRheSlcbiAqICAgKiBgJ0VFRSdgOiBEYXkgaW4gV2VlaywgKFN1bi1TYXQpXG4gKiAgICogYCdISCdgOiBIb3VyIGluIGRheSwgcGFkZGVkICgwMC0yMylcbiAqICAgKiBgJ0gnYDogSG91ciBpbiBkYXkgKDAtMjMpXG4gKiAgICogYCdoaCdgOiBIb3VyIGluIEFNL1BNLCBwYWRkZWQgKDAxLTEyKVxuICogICAqIGAnaCdgOiBIb3VyIGluIEFNL1BNLCAoMS0xMilcbiAqICAgKiBgJ21tJ2A6IE1pbnV0ZSBpbiBob3VyLCBwYWRkZWQgKDAwLTU5KVxuICogICAqIGAnbSdgOiBNaW51dGUgaW4gaG91ciAoMC01OSlcbiAqICAgKiBgJ3NzJ2A6IFNlY29uZCBpbiBtaW51dGUsIHBhZGRlZCAoMDAtNTkpXG4gKiAgICogYCdzJ2A6IFNlY29uZCBpbiBtaW51dGUgKDAtNTkpXG4gKiAgICogYCdzc3MnYDogTWlsbGlzZWNvbmQgaW4gc2Vjb25kLCBwYWRkZWQgKDAwMC05OTkpXG4gKiAgICogYCdhJ2A6IEFNL1BNIG1hcmtlclxuICogICAqIGAnWidgOiA0IGRpZ2l0ICgrc2lnbikgcmVwcmVzZW50YXRpb24gb2YgdGhlIHRpbWV6b25lIG9mZnNldCAoLTEyMDAtKzEyMDApXG4gKiAgICogYCd3dydgOiBXZWVrIG9mIHllYXIsIHBhZGRlZCAoMDAtNTMpLiBXZWVrIDAxIGlzIHRoZSB3ZWVrIHdpdGggdGhlIGZpcnN0IFRodXJzZGF5IG9mIHRoZSB5ZWFyXG4gKiAgICogYCd3J2A6IFdlZWsgb2YgeWVhciAoMC01MykuIFdlZWsgMSBpcyB0aGUgd2VlayB3aXRoIHRoZSBmaXJzdCBUaHVyc2RheSBvZiB0aGUgeWVhclxuICogICAqIGAnRydgLCBgJ0dHJ2AsIGAnR0dHJ2A6IFRoZSBhYmJyZXZpYXRlZCBmb3JtIG9mIHRoZSBlcmEgc3RyaW5nIChlLmcuICdBRCcpXG4gKiAgICogYCdHR0dHJ2A6IFRoZSBsb25nIGZvcm0gb2YgdGhlIGVyYSBzdHJpbmcgKGUuZy4gJ0Fubm8gRG9taW5pJylcbiAqXG4gKiAgIGBmb3JtYXRgIHN0cmluZyBjYW4gYWxzbyBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZyBwcmVkZWZpbmVkXG4gKiAgIHtAbGluayBndWlkZS9pMThuIGxvY2FsaXphYmxlIGZvcm1hdHN9OlxuICpcbiAqICAgKiBgJ21lZGl1bSdgOiBlcXVpdmFsZW50IHRvIGAnTU1NIGQsIHkgaDptbTpzcyBhJ2AgZm9yIGVuX1VTIGxvY2FsZVxuICogICAgIChlLmcuIFNlcCAzLCAyMDEwIDEyOjA1OjA4IFBNKVxuICogICAqIGAnc2hvcnQnYDogZXF1aXZhbGVudCB0byBgJ00vZC95eSBoOm1tIGEnYCBmb3IgZW5fVVMgIGxvY2FsZSAoZS5nLiA5LzMvMTAgMTI6MDUgUE0pXG4gKiAgICogYCdmdWxsRGF0ZSdgOiBlcXVpdmFsZW50IHRvIGAnRUVFRSwgTU1NTSBkLCB5J2AgZm9yIGVuX1VTICBsb2NhbGVcbiAqICAgICAoZS5nLiBGcmlkYXksIFNlcHRlbWJlciAzLCAyMDEwKVxuICogICAqIGAnbG9uZ0RhdGUnYDogZXF1aXZhbGVudCB0byBgJ01NTU0gZCwgeSdgIGZvciBlbl9VUyAgbG9jYWxlIChlLmcuIFNlcHRlbWJlciAzLCAyMDEwKVxuICogICAqIGAnbWVkaXVtRGF0ZSdgOiBlcXVpdmFsZW50IHRvIGAnTU1NIGQsIHknYCBmb3IgZW5fVVMgIGxvY2FsZSAoZS5nLiBTZXAgMywgMjAxMClcbiAqICAgKiBgJ3Nob3J0RGF0ZSdgOiBlcXVpdmFsZW50IHRvIGAnTS9kL3l5J2AgZm9yIGVuX1VTIGxvY2FsZSAoZS5nLiA5LzMvMTApXG4gKiAgICogYCdtZWRpdW1UaW1lJ2A6IGVxdWl2YWxlbnQgdG8gYCdoOm1tOnNzIGEnYCBmb3IgZW5fVVMgbG9jYWxlIChlLmcuIDEyOjA1OjA4IFBNKVxuICogICAqIGAnc2hvcnRUaW1lJ2A6IGVxdWl2YWxlbnQgdG8gYCdoOm1tIGEnYCBmb3IgZW5fVVMgbG9jYWxlIChlLmcuIDEyOjA1IFBNKVxuICpcbiAqICAgYGZvcm1hdGAgc3RyaW5nIGNhbiBjb250YWluIGxpdGVyYWwgdmFsdWVzLiBUaGVzZSBuZWVkIHRvIGJlIGVzY2FwZWQgYnkgc3Vycm91bmRpbmcgd2l0aCBzaW5nbGUgcXVvdGVzIChlLmcuXG4gKiAgIGBcImggJ2luIHRoZSBtb3JuaW5nJ1wiYCkuIEluIG9yZGVyIHRvIG91dHB1dCBhIHNpbmdsZSBxdW90ZSwgZXNjYXBlIGl0IC0gaS5lLiwgdHdvIHNpbmdsZSBxdW90ZXMgaW4gYSBzZXF1ZW5jZVxuICogICAoZS5nLiBgXCJoICdvJydjbG9jaydcImApLlxuICpcbiAqIEBwYXJhbSB7KERhdGV8bnVtYmVyfHN0cmluZyl9IGRhdGUgRGF0ZSB0byBmb3JtYXQgZWl0aGVyIGFzIERhdGUgb2JqZWN0LCBtaWxsaXNlY29uZHMgKHN0cmluZyBvclxuICogICAgbnVtYmVyKSBvciB2YXJpb3VzIElTTyA4NjAxIGRhdGV0aW1lIHN0cmluZyBmb3JtYXRzIChlLmcuIHl5eXktTU0tZGRUSEg6bW06c3Muc3NzWiBhbmQgaXRzXG4gKiAgICBzaG9ydGVyIHZlcnNpb25zIGxpa2UgeXl5eS1NTS1kZFRISDptbVosIHl5eXktTU0tZGQgb3IgeXl5eU1NZGRUSEhtbXNzWikuIElmIG5vIHRpbWV6b25lIGlzXG4gKiAgICBzcGVjaWZpZWQgaW4gdGhlIHN0cmluZyBpbnB1dCwgdGhlIHRpbWUgaXMgY29uc2lkZXJlZCB0byBiZSBpbiB0aGUgbG9jYWwgdGltZXpvbmUuXG4gKiBAcGFyYW0ge3N0cmluZz19IGZvcm1hdCBGb3JtYXR0aW5nIHJ1bGVzIChzZWUgRGVzY3JpcHRpb24pLiBJZiBub3Qgc3BlY2lmaWVkLFxuICogICAgYG1lZGl1bURhdGVgIGlzIHVzZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IHRpbWV6b25lIFRpbWV6b25lIHRvIGJlIHVzZWQgZm9yIGZvcm1hdHRpbmcuIEl0IHVuZGVyc3RhbmRzIFVUQy9HTVQgYW5kIHRoZVxuICogICAgY29udGluZW50YWwgVVMgdGltZSB6b25lIGFiYnJldmlhdGlvbnMsIGJ1dCBmb3IgZ2VuZXJhbCB1c2UsIHVzZSBhIHRpbWUgem9uZSBvZmZzZXQsIGZvclxuICogICAgZXhhbXBsZSwgYCcrMDQzMCdgICg0IGhvdXJzLCAzMCBtaW51dGVzIGVhc3Qgb2YgdGhlIEdyZWVud2ljaCBtZXJpZGlhbilcbiAqICAgIElmIG5vdCBzcGVjaWZpZWQsIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3NlciB3aWxsIGJlIHVzZWQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgc3RyaW5nIG9yIHRoZSBpbnB1dCBpZiBpbnB1dCBpcyBub3QgcmVjb2duaXplZCBhcyBkYXRlL21pbGxpcy5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6J21lZGl1bSd9fTwvc3Bhbj46XG4gICAgICAgICAgIDxzcGFuPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6J21lZGl1bSd9fTwvc3Bhbj48YnI+XG4gICAgICAgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6J3l5eXktTU0tZGQgSEg6bW06c3MgWid9fTwvc3Bhbj46XG4gICAgICAgICAgPHNwYW4+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZToneXl5eS1NTS1kZCBISDptbTpzcyBaJ319PC9zcGFuPjxicj5cbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTonTU0vZGQveXl5eSBAIGg6bW1hJ319PC9zcGFuPjpcbiAgICAgICAgICA8c3Bhbj57eycxMjg4MzIzNjIzMDA2JyB8IGRhdGU6J01NL2RkL3l5eXkgQCBoOm1tYSd9fTwvc3Bhbj48YnI+XG4gICAgICAgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6XCJNTS9kZC95eXl5ICdhdCcgaDptbWFcIn19PC9zcGFuPjpcbiAgICAgICAgICA8c3Bhbj57eycxMjg4MzIzNjIzMDA2JyB8IGRhdGU6XCJNTS9kZC95eXl5ICdhdCcgaDptbWFcIn19PC9zcGFuPjxicj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBmb3JtYXQgZGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZyhcIjEyODgzMjM2MjMwMDYgfCBkYXRlOidtZWRpdW0nXCIpKS5nZXRUZXh0KCkpLlxuICAgICAgICAgICAgdG9NYXRjaCgvT2N0IDJcXGQsIDIwMTAgXFxkezEsMn06XFxkezJ9OlxcZHsyfSAoQU18UE0pLyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKFwiMTI4ODMyMzYyMzAwNiB8IGRhdGU6J3l5eXktTU0tZGQgSEg6bW06c3MgWidcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b01hdGNoKC8yMDEwXFwtMTBcXC0yXFxkIFxcZHsyfTpcXGR7Mn06XFxkezJ9IChcXC18XFwrKT9cXGR7NH0vKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoXCInMTI4ODMyMzYyMzAwNicgfCBkYXRlOidNTS9kZC95eXl5IEAgaDptbWEnXCIpKS5nZXRUZXh0KCkpLlxuICAgICAgICAgICAgdG9NYXRjaCgvMTBcXC8yXFxkXFwvMjAxMCBAIFxcZHsxLDJ9OlxcZHsyfShBTXxQTSkvKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoXCInMTI4ODMyMzYyMzAwNicgfCBkYXRlOlxcXCJNTS9kZC95eXl5ICdhdCcgaDptbWFcXFwiXCIpKS5nZXRUZXh0KCkpLlxuICAgICAgICAgICAgdG9NYXRjaCgvMTBcXC8yXFxkXFwvMjAxMCBhdCBcXGR7MSwyfTpcXGR7Mn0oQU18UE0pLyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuZGF0ZUZpbHRlci4kaW5qZWN0ID0gWyckbG9jYWxlJ107XG5mdW5jdGlvbiBkYXRlRmlsdGVyKCRsb2NhbGUpIHtcblxuXG4gIHZhciBSX0lTTzg2MDFfU1RSID0gL14oXFxkezR9KS0/KFxcZFxcZCktPyhcXGRcXGQpKD86VChcXGRcXGQpKD86Oj8oXFxkXFxkKSg/Ojo/KFxcZFxcZCkoPzpcXC4oXFxkKykpPyk/KT8oWnwoWystXSkoXFxkXFxkKTo/KFxcZFxcZCkpPyk/JC87XG4gICAgICAgICAgICAgICAgICAgICAvLyAxICAgICAgICAyICAgICAgIDMgICAgICAgICA0ICAgICAgICAgIDUgICAgICAgICAgNiAgICAgICAgICA3ICAgICAgICAgIDggIDkgICAgIDEwICAgICAgMTFcbiAgZnVuY3Rpb24ganNvblN0cmluZ1RvRGF0ZShzdHJpbmcpIHtcbiAgICB2YXIgbWF0Y2g7XG4gICAgaWYgKG1hdGNoID0gc3RyaW5nLm1hdGNoKFJfSVNPODYwMV9TVFIpKSB7XG4gICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKDApLFxuICAgICAgICAgIHR6SG91ciA9IDAsXG4gICAgICAgICAgdHpNaW4gID0gMCxcbiAgICAgICAgICBkYXRlU2V0dGVyID0gbWF0Y2hbOF0gPyBkYXRlLnNldFVUQ0Z1bGxZZWFyIDogZGF0ZS5zZXRGdWxsWWVhcixcbiAgICAgICAgICB0aW1lU2V0dGVyID0gbWF0Y2hbOF0gPyBkYXRlLnNldFVUQ0hvdXJzIDogZGF0ZS5zZXRIb3VycztcblxuICAgICAgaWYgKG1hdGNoWzldKSB7XG4gICAgICAgIHR6SG91ciA9IHRvSW50KG1hdGNoWzldICsgbWF0Y2hbMTBdKTtcbiAgICAgICAgdHpNaW4gPSB0b0ludChtYXRjaFs5XSArIG1hdGNoWzExXSk7XG4gICAgICB9XG4gICAgICBkYXRlU2V0dGVyLmNhbGwoZGF0ZSwgdG9JbnQobWF0Y2hbMV0pLCB0b0ludChtYXRjaFsyXSkgLSAxLCB0b0ludChtYXRjaFszXSkpO1xuICAgICAgdmFyIGggPSB0b0ludChtYXRjaFs0XSB8fCAwKSAtIHR6SG91cjtcbiAgICAgIHZhciBtID0gdG9JbnQobWF0Y2hbNV0gfHwgMCkgLSB0ek1pbjtcbiAgICAgIHZhciBzID0gdG9JbnQobWF0Y2hbNl0gfHwgMCk7XG4gICAgICB2YXIgbXMgPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoJzAuJyArIChtYXRjaFs3XSB8fCAwKSkgKiAxMDAwKTtcbiAgICAgIHRpbWVTZXR0ZXIuY2FsbChkYXRlLCBoLCBtLCBzLCBtcyk7XG4gICAgICByZXR1cm4gZGF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cmluZztcbiAgfVxuXG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUsIGZvcm1hdCwgdGltZXpvbmUpIHtcbiAgICB2YXIgdGV4dCA9ICcnLFxuICAgICAgICBwYXJ0cyA9IFtdLFxuICAgICAgICBmbiwgbWF0Y2g7XG5cbiAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJ21lZGl1bURhdGUnO1xuICAgIGZvcm1hdCA9ICRsb2NhbGUuREFURVRJTUVfRk9STUFUU1tmb3JtYXRdIHx8IGZvcm1hdDtcbiAgICBpZiAoaXNTdHJpbmcoZGF0ZSkpIHtcbiAgICAgIGRhdGUgPSBOVU1CRVJfU1RSSU5HLnRlc3QoZGF0ZSkgPyB0b0ludChkYXRlKSA6IGpzb25TdHJpbmdUb0RhdGUoZGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKGlzTnVtYmVyKGRhdGUpKSB7XG4gICAgICBkYXRlID0gbmV3IERhdGUoZGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKCFpc0RhdGUoZGF0ZSkgfHwgIWlzRmluaXRlKGRhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuXG4gICAgd2hpbGUgKGZvcm1hdCkge1xuICAgICAgbWF0Y2ggPSBEQVRFX0ZPUk1BVFNfU1BMSVQuZXhlYyhmb3JtYXQpO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHBhcnRzID0gY29uY2F0KHBhcnRzLCBtYXRjaCwgMSk7XG4gICAgICAgIGZvcm1hdCA9IHBhcnRzLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFydHMucHVzaChmb3JtYXQpO1xuICAgICAgICBmb3JtYXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkYXRlVGltZXpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgaWYgKHRpbWV6b25lKSB7XG4gICAgICBkYXRlVGltZXpvbmVPZmZzZXQgPSB0aW1lem9uZVRvT2Zmc2V0KHRpbWV6b25lLCBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkpO1xuICAgICAgZGF0ZSA9IGNvbnZlcnRUaW1lem9uZVRvTG9jYWwoZGF0ZSwgdGltZXpvbmUsIHRydWUpO1xuICAgIH1cbiAgICBmb3JFYWNoKHBhcnRzLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgZm4gPSBEQVRFX0ZPUk1BVFNbdmFsdWVdO1xuICAgICAgdGV4dCArPSBmbiA/IGZuKGRhdGUsICRsb2NhbGUuREFURVRJTUVfRk9STUFUUywgZGF0ZVRpbWV6b25lT2Zmc2V0KVxuICAgICAgICAgICAgICAgICA6IHZhbHVlLnJlcGxhY2UoLyheJ3wnJCkvZywgJycpLnJlcGxhY2UoLycnL2csIFwiJ1wiKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0ZXh0O1xuICB9O1xufVxuXG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUganNvblxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqICAgQWxsb3dzIHlvdSB0byBjb252ZXJ0IGEgSmF2YVNjcmlwdCBvYmplY3QgaW50byBKU09OIHN0cmluZy5cbiAqXG4gKiAgIFRoaXMgZmlsdGVyIGlzIG1vc3RseSB1c2VmdWwgZm9yIGRlYnVnZ2luZy4gV2hlbiB1c2luZyB0aGUgZG91YmxlIGN1cmx5IHt7dmFsdWV9fSBub3RhdGlvblxuICogICB0aGUgYmluZGluZyBpcyBhdXRvbWF0aWNhbGx5IGNvbnZlcnRlZCB0byBKU09OLlxuICpcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IEFueSBKYXZhU2NyaXB0IG9iamVjdCAoaW5jbHVkaW5nIGFycmF5cyBhbmQgcHJpbWl0aXZlIHR5cGVzKSB0byBmaWx0ZXIuXG4gKiBAcGFyYW0ge251bWJlcj19IHNwYWNpbmcgVGhlIG51bWJlciBvZiBzcGFjZXMgdG8gdXNlIHBlciBpbmRlbnRhdGlvbiwgZGVmYXVsdHMgdG8gMi5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEpTT04gc3RyaW5nLlxuICpcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHByZSBpZD1cImRlZmF1bHQtc3BhY2luZ1wiPnt7IHsnbmFtZSc6J3ZhbHVlJ30gfCBqc29uIH19PC9wcmU+XG4gICAgICAgPHByZSBpZD1cImN1c3RvbS1zcGFjaW5nXCI+e3sgeyduYW1lJzondmFsdWUnfSB8IGpzb246NCB9fTwvcHJlPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGpzb25pZnkgZmlsdGVyZWQgb2JqZWN0cycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2RlZmF1bHQtc3BhY2luZycpKS5nZXRUZXh0KCkpLnRvTWF0Y2goL1xce1xcbiAgXCJuYW1lXCI6ID9cInZhbHVlXCJcXG59Lyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VzdG9tLXNwYWNpbmcnKSkuZ2V0VGV4dCgpKS50b01hdGNoKC9cXHtcXG4gICAgXCJuYW1lXCI6ID9cInZhbHVlXCJcXG59Lyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqXG4gKi9cbmZ1bmN0aW9uIGpzb25GaWx0ZXIoKSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QsIHNwYWNpbmcpIHtcbiAgICBpZiAoaXNVbmRlZmluZWQoc3BhY2luZykpIHtcbiAgICAgICAgc3BhY2luZyA9IDI7XG4gICAgfVxuICAgIHJldHVybiB0b0pzb24ob2JqZWN0LCBzcGFjaW5nKTtcbiAgfTtcbn1cblxuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIGxvd2VyY2FzZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqIEBkZXNjcmlwdGlvblxuICogQ29udmVydHMgc3RyaW5nIHRvIGxvd2VyY2FzZS5cbiAqIEBzZWUgYW5ndWxhci5sb3dlcmNhc2VcbiAqL1xudmFyIGxvd2VyY2FzZUZpbHRlciA9IHZhbHVlRm4obG93ZXJjYXNlKTtcblxuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIHVwcGVyY2FzZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqIEBkZXNjcmlwdGlvblxuICogQ29udmVydHMgc3RyaW5nIHRvIHVwcGVyY2FzZS5cbiAqIEBzZWUgYW5ndWxhci51cHBlcmNhc2VcbiAqL1xudmFyIHVwcGVyY2FzZUZpbHRlciA9IHZhbHVlRm4odXBwZXJjYXNlKTtcblxuLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBsaW1pdFRvXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlcyBhIG5ldyBhcnJheSBvciBzdHJpbmcgY29udGFpbmluZyBvbmx5IGEgc3BlY2lmaWVkIG51bWJlciBvZiBlbGVtZW50cy4gVGhlIGVsZW1lbnRzXG4gKiBhcmUgdGFrZW4gZnJvbSBlaXRoZXIgdGhlIGJlZ2lubmluZyBvciB0aGUgZW5kIG9mIHRoZSBzb3VyY2UgYXJyYXksIHN0cmluZyBvciBudW1iZXIsIGFzIHNwZWNpZmllZCBieVxuICogdGhlIHZhbHVlIGFuZCBzaWduIChwb3NpdGl2ZSBvciBuZWdhdGl2ZSkgb2YgYGxpbWl0YC4gSWYgYSBudW1iZXIgaXMgdXNlZCBhcyBpbnB1dCwgaXQgaXNcbiAqIGNvbnZlcnRlZCB0byBhIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ3xudW1iZXJ9IGlucHV0IFNvdXJjZSBhcnJheSwgc3RyaW5nIG9yIG51bWJlciB0byBiZSBsaW1pdGVkLlxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBsaW1pdCBUaGUgbGVuZ3RoIG9mIHRoZSByZXR1cm5lZCBhcnJheSBvciBzdHJpbmcuIElmIHRoZSBgbGltaXRgIG51bWJlclxuICogICAgIGlzIHBvc2l0aXZlLCBgbGltaXRgIG51bWJlciBvZiBpdGVtcyBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHNvdXJjZSBhcnJheS9zdHJpbmcgYXJlIGNvcGllZC5cbiAqICAgICBJZiB0aGUgbnVtYmVyIGlzIG5lZ2F0aXZlLCBgbGltaXRgIG51bWJlciAgb2YgaXRlbXMgZnJvbSB0aGUgZW5kIG9mIHRoZSBzb3VyY2UgYXJyYXkvc3RyaW5nXG4gKiAgICAgYXJlIGNvcGllZC4gVGhlIGBsaW1pdGAgd2lsbCBiZSB0cmltbWVkIGlmIGl0IGV4Y2VlZHMgYGFycmF5Lmxlbmd0aGAuIElmIGBsaW1pdGAgaXMgdW5kZWZpbmVkLFxuICogICAgIHRoZSBpbnB1dCB3aWxsIGJlIHJldHVybmVkIHVuY2hhbmdlZC5cbiAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpPX0gYmVnaW4gSW5kZXggYXQgd2hpY2ggdG8gYmVnaW4gbGltaXRhdGlvbi4gQXMgYSBuZWdhdGl2ZSBpbmRleCwgYGJlZ2luYFxuICogICAgIGluZGljYXRlcyBhbiBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBpbnB1dGAuIERlZmF1bHRzIHRvIGAwYC5cbiAqIEByZXR1cm5zIHtBcnJheXxzdHJpbmd9IEEgbmV3IHN1Yi1hcnJheSBvciBzdWJzdHJpbmcgb2YgbGVuZ3RoIGBsaW1pdGAgb3IgbGVzcyBpZiBpbnB1dCBhcnJheVxuICogICAgIGhhZCBsZXNzIHRoYW4gYGxpbWl0YCBlbGVtZW50cy5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibGltaXRUb0V4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2xpbWl0VG9FeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLm51bWJlcnMgPSBbMSwyLDMsNCw1LDYsNyw4LDldO1xuICAgICAgICAgICAgICRzY29wZS5sZXR0ZXJzID0gXCJhYmNkZWZnaGlcIjtcbiAgICAgICAgICAgICAkc2NvcGUubG9uZ051bWJlciA9IDIzNDU0MzIzNDI7XG4gICAgICAgICAgICAgJHNjb3BlLm51bUxpbWl0ID0gMztcbiAgICAgICAgICAgICAkc2NvcGUubGV0dGVyTGltaXQgPSAzO1xuICAgICAgICAgICAgICRzY29wZS5sb25nTnVtYmVyTGltaXQgPSAzO1xuICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgIExpbWl0IHt7bnVtYmVyc319IHRvOlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBzdGVwPVwiMVwiIG5nLW1vZGVsPVwibnVtTGltaXRcIj5cbiAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICA8cD5PdXRwdXQgbnVtYmVyczoge3sgbnVtYmVycyB8IGxpbWl0VG86bnVtTGltaXQgfX08L3A+XG4gICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICBMaW1pdCB7e2xldHRlcnN9fSB0bzpcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgc3RlcD1cIjFcIiBuZy1tb2RlbD1cImxldHRlckxpbWl0XCI+XG4gICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgPHA+T3V0cHV0IGxldHRlcnM6IHt7IGxldHRlcnMgfCBsaW1pdFRvOmxldHRlckxpbWl0IH19PC9wPlxuICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgTGltaXQge3tsb25nTnVtYmVyfX0gdG86XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIHN0ZXA9XCIxXCIgbmctbW9kZWw9XCJsb25nTnVtYmVyTGltaXRcIj5cbiAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICA8cD5PdXRwdXQgbG9uZyBudW1iZXI6IHt7IGxvbmdOdW1iZXIgfCBsaW1pdFRvOmxvbmdOdW1iZXJMaW1pdCB9fTwvcD5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgdmFyIG51bUxpbWl0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdudW1MaW1pdCcpKTtcbiAgICAgICB2YXIgbGV0dGVyTGltaXRJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2xldHRlckxpbWl0JykpO1xuICAgICAgIHZhciBsb25nTnVtYmVyTGltaXRJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2xvbmdOdW1iZXJMaW1pdCcpKTtcbiAgICAgICB2YXIgbGltaXRlZE51bWJlcnMgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ251bWJlcnMgfCBsaW1pdFRvOm51bUxpbWl0JykpO1xuICAgICAgIHZhciBsaW1pdGVkTGV0dGVycyA9IGVsZW1lbnQoYnkuYmluZGluZygnbGV0dGVycyB8IGxpbWl0VG86bGV0dGVyTGltaXQnKSk7XG4gICAgICAgdmFyIGxpbWl0ZWRMb25nTnVtYmVyID0gZWxlbWVudChieS5iaW5kaW5nKCdsb25nTnVtYmVyIHwgbGltaXRUbzpsb25nTnVtYmVyTGltaXQnKSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIGxpbWl0IHRoZSBudW1iZXIgYXJyYXkgdG8gZmlyc3QgdGhyZWUgaXRlbXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChudW1MaW1pdElucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnMycpO1xuICAgICAgICAgZXhwZWN0KGxldHRlckxpbWl0SW5wdXQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0JlKCczJyk7XG4gICAgICAgICBleHBlY3QobG9uZ051bWJlckxpbWl0SW5wdXQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0JlKCczJyk7XG4gICAgICAgICBleHBlY3QobGltaXRlZE51bWJlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbnVtYmVyczogWzEsMiwzXScpO1xuICAgICAgICAgZXhwZWN0KGxpbWl0ZWRMZXR0ZXJzLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IGxldHRlcnM6IGFiYycpO1xuICAgICAgICAgZXhwZWN0KGxpbWl0ZWRMb25nTnVtYmVyLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IGxvbmcgbnVtYmVyOiAyMzQnKTtcbiAgICAgICB9KTtcblxuICAgICAgIC8vIFRoZXJlIGlzIGEgYnVnIGluIHNhZmFyaSBhbmQgcHJvdHJhY3RvciB0aGF0IGRvZXNuJ3QgbGlrZSB0aGUgbWludXMga2V5XG4gICAgICAgLy8gaXQoJ3Nob3VsZCB1cGRhdGUgdGhlIG91dHB1dCB3aGVuIC0zIGlzIGVudGVyZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAvLyAgIG51bUxpbWl0SW5wdXQuY2xlYXIoKTtcbiAgICAgICAvLyAgIG51bUxpbWl0SW5wdXQuc2VuZEtleXMoJy0zJyk7XG4gICAgICAgLy8gICBsZXR0ZXJMaW1pdElucHV0LmNsZWFyKCk7XG4gICAgICAgLy8gICBsZXR0ZXJMaW1pdElucHV0LnNlbmRLZXlzKCctMycpO1xuICAgICAgIC8vICAgbG9uZ051bWJlckxpbWl0SW5wdXQuY2xlYXIoKTtcbiAgICAgICAvLyAgIGxvbmdOdW1iZXJMaW1pdElucHV0LnNlbmRLZXlzKCctMycpO1xuICAgICAgIC8vICAgZXhwZWN0KGxpbWl0ZWROdW1iZXJzLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IG51bWJlcnM6IFs3LDgsOV0nKTtcbiAgICAgICAvLyAgIGV4cGVjdChsaW1pdGVkTGV0dGVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsZXR0ZXJzOiBnaGknKTtcbiAgICAgICAvLyAgIGV4cGVjdChsaW1pdGVkTG9uZ051bWJlci5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsb25nIG51bWJlcjogMzQyJyk7XG4gICAgICAgLy8gfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIG5vdCBleGNlZWQgdGhlIG1heGltdW0gc2l6ZSBvZiBpbnB1dCBhcnJheScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgbnVtTGltaXRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbnVtTGltaXRJbnB1dC5zZW5kS2V5cygnMTAwJyk7XG4gICAgICAgICBsZXR0ZXJMaW1pdElucHV0LmNsZWFyKCk7XG4gICAgICAgICBsZXR0ZXJMaW1pdElucHV0LnNlbmRLZXlzKCcxMDAnKTtcbiAgICAgICAgIGxvbmdOdW1iZXJMaW1pdElucHV0LmNsZWFyKCk7XG4gICAgICAgICBsb25nTnVtYmVyTGltaXRJbnB1dC5zZW5kS2V5cygnMTAwJyk7XG4gICAgICAgICBleHBlY3QobGltaXRlZE51bWJlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbnVtYmVyczogWzEsMiwzLDQsNSw2LDcsOCw5XScpO1xuICAgICAgICAgZXhwZWN0KGxpbWl0ZWRMZXR0ZXJzLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IGxldHRlcnM6IGFiY2RlZmdoaScpO1xuICAgICAgICAgZXhwZWN0KGxpbWl0ZWRMb25nTnVtYmVyLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IGxvbmcgbnVtYmVyOiAyMzQ1NDMyMzQyJyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiovXG5mdW5jdGlvbiBsaW1pdFRvRmlsdGVyKCkge1xuICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIGxpbWl0LCBiZWdpbikge1xuICAgIGlmIChNYXRoLmFicyhOdW1iZXIobGltaXQpKSA9PT0gSW5maW5pdHkpIHtcbiAgICAgIGxpbWl0ID0gTnVtYmVyKGxpbWl0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGltaXQgPSB0b0ludChsaW1pdCk7XG4gICAgfVxuICAgIGlmIChpc05hTihsaW1pdCkpIHJldHVybiBpbnB1dDtcblxuICAgIGlmIChpc051bWJlcihpbnB1dCkpIGlucHV0ID0gaW5wdXQudG9TdHJpbmcoKTtcbiAgICBpZiAoIWlzQXJyYXkoaW5wdXQpICYmICFpc1N0cmluZyhpbnB1dCkpIHJldHVybiBpbnB1dDtcblxuICAgIGJlZ2luID0gKCFiZWdpbiB8fCBpc05hTihiZWdpbikpID8gMCA6IHRvSW50KGJlZ2luKTtcbiAgICBiZWdpbiA9IChiZWdpbiA8IDAgJiYgYmVnaW4gPj0gLWlucHV0Lmxlbmd0aCkgPyBpbnB1dC5sZW5ndGggKyBiZWdpbiA6IGJlZ2luO1xuXG4gICAgaWYgKGxpbWl0ID49IDApIHtcbiAgICAgIHJldHVybiBpbnB1dC5zbGljZShiZWdpbiwgYmVnaW4gKyBsaW1pdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChiZWdpbiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gaW5wdXQuc2xpY2UobGltaXQsIGlucHV0Lmxlbmd0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaW5wdXQuc2xpY2UoTWF0aC5tYXgoMCwgYmVnaW4gKyBsaW1pdCksIGJlZ2luKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgb3JkZXJCeVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIE9yZGVycyBhIHNwZWNpZmllZCBgYXJyYXlgIGJ5IHRoZSBgZXhwcmVzc2lvbmAgcHJlZGljYXRlLiBJdCBpcyBvcmRlcmVkIGFscGhhYmV0aWNhbGx5XG4gKiBmb3Igc3RyaW5ncyBhbmQgbnVtZXJpY2FsbHkgZm9yIG51bWJlcnMuIE5vdGU6IGlmIHlvdSBub3RpY2UgbnVtYmVycyBhcmUgbm90IGJlaW5nIHNvcnRlZFxuICogYXMgZXhwZWN0ZWQsIG1ha2Ugc3VyZSB0aGV5IGFyZSBhY3R1YWxseSBiZWluZyBzYXZlZCBhcyBudW1iZXJzIGFuZCBub3Qgc3RyaW5ncy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc29ydC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKil8c3RyaW5nfEFycmF5LjwoZnVuY3Rpb24oKil8c3RyaW5nKT49fSBleHByZXNzaW9uIEEgcHJlZGljYXRlIHRvIGJlXG4gKiAgICB1c2VkIGJ5IHRoZSBjb21wYXJhdG9yIHRvIGRldGVybWluZSB0aGUgb3JkZXIgb2YgZWxlbWVudHMuXG4gKlxuICogICAgQ2FuIGJlIG9uZSBvZjpcbiAqXG4gKiAgICAtIGBmdW5jdGlvbmA6IEdldHRlciBmdW5jdGlvbi4gVGhlIHJlc3VsdCBvZiB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgc29ydGVkIHVzaW5nIHRoZVxuICogICAgICBgPGAsIGA9PT1gLCBgPmAgb3BlcmF0b3IuXG4gKiAgICAtIGBzdHJpbmdgOiBBbiBBbmd1bGFyIGV4cHJlc3Npb24uIFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIGlzIHVzZWQgdG8gY29tcGFyZSBlbGVtZW50c1xuICogICAgICAoZm9yIGV4YW1wbGUgYG5hbWVgIHRvIHNvcnQgYnkgYSBwcm9wZXJ0eSBjYWxsZWQgYG5hbWVgIG9yIGBuYW1lLnN1YnN0cigwLCAzKWAgdG8gc29ydCBieVxuICogICAgICAzIGZpcnN0IGNoYXJhY3RlcnMgb2YgYSBwcm9wZXJ0eSBjYWxsZWQgYG5hbWVgKS4gVGhlIHJlc3VsdCBvZiBhIGNvbnN0YW50IGV4cHJlc3Npb25cbiAqICAgICAgaXMgaW50ZXJwcmV0ZWQgYXMgYSBwcm9wZXJ0eSBuYW1lIHRvIGJlIHVzZWQgaW4gY29tcGFyaXNvbnMgKGZvciBleGFtcGxlIGBcInNwZWNpYWwgbmFtZVwiYFxuICogICAgICB0byBzb3J0IG9iamVjdCBieSB0aGUgdmFsdWUgb2YgdGhlaXIgYHNwZWNpYWwgbmFtZWAgcHJvcGVydHkpLiBBbiBleHByZXNzaW9uIGNhbiBiZVxuICogICAgICBvcHRpb25hbGx5IHByZWZpeGVkIHdpdGggYCtgIG9yIGAtYCB0byBjb250cm9sIGFzY2VuZGluZyBvciBkZXNjZW5kaW5nIHNvcnQgb3JkZXJcbiAqICAgICAgKGZvciBleGFtcGxlLCBgK25hbWVgIG9yIGAtbmFtZWApLiBJZiBubyBwcm9wZXJ0eSBpcyBwcm92aWRlZCwgKGUuZy4gYCcrJ2ApIHRoZW4gdGhlIGFycmF5XG4gKiAgICAgIGVsZW1lbnQgaXRzZWxmIGlzIHVzZWQgdG8gY29tcGFyZSB3aGVyZSBzb3J0aW5nLlxuICogICAgLSBgQXJyYXlgOiBBbiBhcnJheSBvZiBmdW5jdGlvbiBvciBzdHJpbmcgcHJlZGljYXRlcy4gVGhlIGZpcnN0IHByZWRpY2F0ZSBpbiB0aGUgYXJyYXlcbiAqICAgICAgaXMgdXNlZCBmb3Igc29ydGluZywgYnV0IHdoZW4gdHdvIGl0ZW1zIGFyZSBlcXVpdmFsZW50LCB0aGUgbmV4dCBwcmVkaWNhdGUgaXMgdXNlZC5cbiAqXG4gKiAgICBJZiB0aGUgcHJlZGljYXRlIGlzIG1pc3Npbmcgb3IgZW1wdHkgdGhlbiBpdCBkZWZhdWx0cyB0byBgJysnYC5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSByZXZlcnNlIFJldmVyc2UgdGhlIG9yZGVyIG9mIHRoZSBhcnJheS5cbiAqIEByZXR1cm5zIHtBcnJheX0gU29ydGVkIGNvcHkgb2YgdGhlIHNvdXJjZSBhcnJheS5cbiAqXG4gKlxuICogQGV4YW1wbGVcbiAqIFRoZSBleGFtcGxlIGJlbG93IGRlbW9uc3RyYXRlcyBhIHNpbXBsZSBuZ1JlcGVhdCwgd2hlcmUgdGhlIGRhdGEgaXMgc29ydGVkXG4gKiBieSBhZ2UgaW4gZGVzY2VuZGluZyBvcmRlciAocHJlZGljYXRlIGlzIHNldCB0byBgJy1hZ2UnYCkuXG4gKiBgcmV2ZXJzZWAgaXMgbm90IHNldCwgd2hpY2ggbWVhbnMgaXQgZGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAgIDxleGFtcGxlIG1vZHVsZT1cIm9yZGVyQnlFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcmRlckJ5RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5mcmllbmRzID1cbiAgICAgICAgICAgICAgICAgW3tuYW1lOidKb2huJywgcGhvbmU6JzU1NS0xMjEyJywgYWdlOjEwfSxcbiAgICAgICAgICAgICAgICAgIHtuYW1lOidNYXJ5JywgcGhvbmU6JzU1NS05ODc2JywgYWdlOjE5fSxcbiAgICAgICAgICAgICAgICAgIHtuYW1lOidNaWtlJywgcGhvbmU6JzU1NS00MzIxJywgYWdlOjIxfSxcbiAgICAgICAgICAgICAgICAgIHtuYW1lOidBZGFtJywgcGhvbmU6JzU1NS01Njc4JywgYWdlOjM1fSxcbiAgICAgICAgICAgICAgICAgIHtuYW1lOidKdWxpZScsIHBob25lOic1NTUtODc2NScsIGFnZToyOX1dO1xuICAgICAgICAgICB9XSk7XG4gICAgICAgPC9zY3JpcHQ+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDx0YWJsZSBjbGFzcz1cImZyaWVuZFwiPlxuICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgPHRoPk5hbWU8L3RoPlxuICAgICAgICAgICAgIDx0aD5QaG9uZSBOdW1iZXI8L3RoPlxuICAgICAgICAgICAgIDx0aD5BZ2U8L3RoPlxuICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICA8dHIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgfCBvcmRlckJ5OictYWdlJ1wiPlxuICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5uYW1lfX08L3RkPlxuICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5waG9uZX19PC90ZD5cbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQuYWdlfX08L3RkPlxuICAgICAgICAgICA8L3RyPlxuICAgICAgICAgPC90YWJsZT5cbiAgICAgICA8L2Rpdj5cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICpcbiAqIFRoZSBwcmVkaWNhdGUgYW5kIHJldmVyc2UgcGFyYW1ldGVycyBjYW4gYmUgY29udHJvbGxlZCBkeW5hbWljYWxseSB0aHJvdWdoIHNjb3BlIHByb3BlcnRpZXMsXG4gKiBhcyBzaG93biBpbiB0aGUgbmV4dCBleGFtcGxlLlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cIm9yZGVyQnlFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcmRlckJ5RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5mcmllbmRzID1cbiAgICAgICAgICAgICAgICAgW3tuYW1lOidKb2huJywgcGhvbmU6JzU1NS0xMjEyJywgYWdlOjEwfSxcbiAgICAgICAgICAgICAgICAgIHtuYW1lOidNYXJ5JywgcGhvbmU6JzU1NS05ODc2JywgYWdlOjE5fSxcbiAgICAgICAgICAgICAgICAgIHtuYW1lOidNaWtlJywgcGhvbmU6JzU1NS00MzIxJywgYWdlOjIxfSxcbiAgICAgICAgICAgICAgICAgIHtuYW1lOidBZGFtJywgcGhvbmU6JzU1NS01Njc4JywgYWdlOjM1fSxcbiAgICAgICAgICAgICAgICAgIHtuYW1lOidKdWxpZScsIHBob25lOic1NTUtODc2NScsIGFnZToyOX1dO1xuICAgICAgICAgICAgICRzY29wZS5wcmVkaWNhdGUgPSAnYWdlJztcbiAgICAgICAgICAgICAkc2NvcGUucmV2ZXJzZSA9IHRydWU7XG4gICAgICAgICAgICAgJHNjb3BlLm9yZGVyID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUucmV2ZXJzZSA9ICgkc2NvcGUucHJlZGljYXRlID09PSBwcmVkaWNhdGUpID8gISRzY29wZS5yZXZlcnNlIDogZmFsc2U7XG4gICAgICAgICAgICAgICAkc2NvcGUucHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgICAgICAgICAgIH07XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+XG4gICAgICAgICAuc29ydG9yZGVyOmFmdGVyIHtcbiAgICAgICAgICAgY29udGVudDogJ1xcMjViMic7XG4gICAgICAgICB9XG4gICAgICAgICAuc29ydG9yZGVyLnJldmVyc2U6YWZ0ZXIge1xuICAgICAgICAgICBjb250ZW50OiAnXFwyNWJjJztcbiAgICAgICAgIH1cbiAgICAgICA8L3N0eWxlPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8cHJlPlNvcnRpbmcgcHJlZGljYXRlID0ge3twcmVkaWNhdGV9fTsgcmV2ZXJzZSA9IHt7cmV2ZXJzZX19PC9wcmU+XG4gICAgICAgICA8aHIvPlxuICAgICAgICAgWyA8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJwcmVkaWNhdGU9JydcIj51bnNvcnRlZDwvYT4gXVxuICAgICAgICAgPHRhYmxlIGNsYXNzPVwiZnJpZW5kXCI+XG4gICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICA8dGg+XG4gICAgICAgICAgICAgICA8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJvcmRlcignbmFtZScpXCI+TmFtZTwvYT5cbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic29ydG9yZGVyXCIgbmctc2hvdz1cInByZWRpY2F0ZSA9PT0gJ25hbWUnXCIgbmctY2xhc3M9XCJ7cmV2ZXJzZTpyZXZlcnNlfVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgIDxhIGhyZWY9XCJcIiBuZy1jbGljaz1cIm9yZGVyKCdwaG9uZScpXCI+UGhvbmUgTnVtYmVyPC9hPlxuICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0b3JkZXJcIiBuZy1zaG93PVwicHJlZGljYXRlID09PSAncGhvbmUnXCIgbmctY2xhc3M9XCJ7cmV2ZXJzZTpyZXZlcnNlfVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgIDx0aD5cbiAgICAgICAgICAgICAgIDxhIGhyZWY9XCJcIiBuZy1jbGljaz1cIm9yZGVyKCdhZ2UnKVwiPkFnZTwvYT5cbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic29ydG9yZGVyXCIgbmctc2hvdz1cInByZWRpY2F0ZSA9PT0gJ2FnZSdcIiBuZy1jbGFzcz1cIntyZXZlcnNlOnJldmVyc2V9XCI+PC9zcGFuPlxuICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kcyB8IG9yZGVyQnk6cHJlZGljYXRlOnJldmVyc2VcIj5cbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQubmFtZX19PC90ZD5cbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQucGhvbmV9fTwvdGQ+XG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLmFnZX19PC90ZD5cbiAgICAgICAgICAgPC90cj5cbiAgICAgICAgIDwvdGFibGU+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqXG4gKiBJdCdzIGFsc28gcG9zc2libGUgdG8gY2FsbCB0aGUgb3JkZXJCeSBmaWx0ZXIgbWFudWFsbHksIGJ5IGluamVjdGluZyBgJGZpbHRlcmAsIHJldHJpZXZpbmcgdGhlXG4gKiBmaWx0ZXIgcm91dGluZSB3aXRoIGAkZmlsdGVyKCdvcmRlckJ5JylgLCBhbmQgY2FsbGluZyB0aGUgcmV0dXJuZWQgZmlsdGVyIHJvdXRpbmUgd2l0aCB0aGVcbiAqIGRlc2lyZWQgcGFyYW1ldGVycy5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIEBleGFtcGxlXG4gIDxleGFtcGxlIG1vZHVsZT1cIm9yZGVyQnlFeGFtcGxlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgIDx0YWJsZSBjbGFzcz1cImZyaWVuZFwiPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0aD48YSBocmVmPVwiXCIgbmctY2xpY2s9XCJyZXZlcnNlPWZhbHNlO29yZGVyKCduYW1lJywgZmFsc2UpXCI+TmFtZTwvYT5cbiAgICAgICAgICAgICAgKDxhIGhyZWY9XCJcIiBuZy1jbGljaz1cIm9yZGVyKCctbmFtZScsZmFsc2UpXCI+XjwvYT4pPC90aD5cbiAgICAgICAgICAgIDx0aD48YSBocmVmPVwiXCIgbmctY2xpY2s9XCJyZXZlcnNlPSFyZXZlcnNlO29yZGVyKCdwaG9uZScsIHJldmVyc2UpXCI+UGhvbmUgTnVtYmVyPC9hPjwvdGg+XG4gICAgICAgICAgICA8dGg+PGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwicmV2ZXJzZT0hcmV2ZXJzZTtvcmRlcignYWdlJyxyZXZlcnNlKVwiPkFnZTwvYT48L3RoPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzXCI+XG4gICAgICAgICAgICA8dGQ+e3tmcmllbmQubmFtZX19PC90ZD5cbiAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5waG9uZX19PC90ZD5cbiAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5hZ2V9fTwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgPC90YWJsZT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cblxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcmRlckJ5RXhhbXBsZScsIFtdKVxuICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckZmlsdGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkZmlsdGVyKSB7XG4gICAgICAgICAgdmFyIG9yZGVyQnkgPSAkZmlsdGVyKCdvcmRlckJ5Jyk7XG4gICAgICAgICAgJHNjb3BlLmZyaWVuZHMgPSBbXG4gICAgICAgICAgICB7IG5hbWU6ICdKb2huJywgICAgcGhvbmU6ICc1NTUtMTIxMicsICAgIGFnZTogMTAgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ01hcnknLCAgICBwaG9uZTogJzU1NS05ODc2JywgICAgYWdlOiAxOSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnTWlrZScsICAgIHBob25lOiAnNTU1LTQzMjEnLCAgICBhZ2U6IDIxIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdBZGFtJywgICAgcGhvbmU6ICc1NTUtNTY3OCcsICAgIGFnZTogMzUgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ0p1bGllJywgICBwaG9uZTogJzU1NS04NzY1JywgICAgYWdlOiAyOSB9XG4gICAgICAgICAgXTtcbiAgICAgICAgICAkc2NvcGUub3JkZXIgPSBmdW5jdGlvbihwcmVkaWNhdGUsIHJldmVyc2UpIHtcbiAgICAgICAgICAgICRzY29wZS5mcmllbmRzID0gb3JkZXJCeSgkc2NvcGUuZnJpZW5kcywgcHJlZGljYXRlLCByZXZlcnNlKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgICRzY29wZS5vcmRlcignLWFnZScsZmFsc2UpO1xuICAgICAgICB9XSk7XG4gICAgPC9maWxlPlxuPC9leGFtcGxlPlxuICovXG5vcmRlckJ5RmlsdGVyLiRpbmplY3QgPSBbJyRwYXJzZSddO1xuZnVuY3Rpb24gb3JkZXJCeUZpbHRlcigkcGFyc2UpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBzb3J0UHJlZGljYXRlLCByZXZlcnNlT3JkZXIpIHtcblxuICAgIGlmICghKGlzQXJyYXlMaWtlKGFycmF5KSkpIHJldHVybiBhcnJheTtcblxuICAgIGlmICghaXNBcnJheShzb3J0UHJlZGljYXRlKSkgeyBzb3J0UHJlZGljYXRlID0gW3NvcnRQcmVkaWNhdGVdOyB9XG4gICAgaWYgKHNvcnRQcmVkaWNhdGUubGVuZ3RoID09PSAwKSB7IHNvcnRQcmVkaWNhdGUgPSBbJysnXTsgfVxuXG4gICAgdmFyIHByZWRpY2F0ZXMgPSBwcm9jZXNzUHJlZGljYXRlcyhzb3J0UHJlZGljYXRlLCByZXZlcnNlT3JkZXIpO1xuXG4gICAgLy8gVGhlIG5leHQgdGhyZWUgbGluZXMgYXJlIGEgdmVyc2lvbiBvZiBhIFN3YXJ0emlhbiBUcmFuc2Zvcm0gaWRpb20gZnJvbSBQZXJsXG4gICAgLy8gKHNvbWV0aW1lcyBjYWxsZWQgdGhlIERlY29yYXRlLVNvcnQtVW5kZWNvcmF0ZSBpZGlvbSlcbiAgICAvLyBTZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU2Nod2FydHppYW5fdHJhbnNmb3JtXG4gICAgdmFyIGNvbXBhcmVWYWx1ZXMgPSBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYXJyYXksIGdldENvbXBhcmlzb25PYmplY3QpO1xuICAgIGNvbXBhcmVWYWx1ZXMuc29ydChkb0NvbXBhcmlzb24pO1xuICAgIGFycmF5ID0gY29tcGFyZVZhbHVlcy5tYXAoZnVuY3Rpb24oaXRlbSkgeyByZXR1cm4gaXRlbS52YWx1ZTsgfSk7XG5cbiAgICByZXR1cm4gYXJyYXk7XG5cbiAgICBmdW5jdGlvbiBnZXRDb21wYXJpc29uT2JqZWN0KHZhbHVlLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBwcmVkaWNhdGVWYWx1ZXM6IHByZWRpY2F0ZXMubWFwKGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgICAgIHJldHVybiBnZXRQcmVkaWNhdGVWYWx1ZShwcmVkaWNhdGUuZ2V0KHZhbHVlKSwgaW5kZXgpO1xuICAgICAgICB9KVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkb0NvbXBhcmlzb24odjEsIHYyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gMDtcbiAgICAgIGZvciAodmFyIGluZGV4PTAsIGxlbmd0aCA9IHByZWRpY2F0ZXMubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgKytpbmRleCkge1xuICAgICAgICByZXN1bHQgPSBjb21wYXJlKHYxLnByZWRpY2F0ZVZhbHVlc1tpbmRleF0sIHYyLnByZWRpY2F0ZVZhbHVlc1tpbmRleF0pICogcHJlZGljYXRlc1tpbmRleF0uZGVzY2VuZGluZztcbiAgICAgICAgaWYgKHJlc3VsdCkgYnJlYWs7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBwcm9jZXNzUHJlZGljYXRlcyhzb3J0UHJlZGljYXRlLCByZXZlcnNlT3JkZXIpIHtcbiAgICByZXZlcnNlT3JkZXIgPSByZXZlcnNlT3JkZXIgPyAtMSA6IDE7XG4gICAgcmV0dXJuIHNvcnRQcmVkaWNhdGUubWFwKGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGRlc2NlbmRpbmcgPSAxLCBnZXQgPSBpZGVudGl0eTtcblxuICAgICAgaWYgKGlzRnVuY3Rpb24ocHJlZGljYXRlKSkge1xuICAgICAgICBnZXQgPSBwcmVkaWNhdGU7XG4gICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKHByZWRpY2F0ZSkpIHtcbiAgICAgICAgaWYgKChwcmVkaWNhdGUuY2hhckF0KDApID09ICcrJyB8fCBwcmVkaWNhdGUuY2hhckF0KDApID09ICctJykpIHtcbiAgICAgICAgICBkZXNjZW5kaW5nID0gcHJlZGljYXRlLmNoYXJBdCgwKSA9PSAnLScgPyAtMSA6IDE7XG4gICAgICAgICAgcHJlZGljYXRlID0gcHJlZGljYXRlLnN1YnN0cmluZygxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJlZGljYXRlICE9PSAnJykge1xuICAgICAgICAgIGdldCA9ICRwYXJzZShwcmVkaWNhdGUpO1xuICAgICAgICAgIGlmIChnZXQuY29uc3RhbnQpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBnZXQoKTtcbiAgICAgICAgICAgIGdldCA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZVtrZXldOyB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHsgZ2V0OiBnZXQsIGRlc2NlbmRpbmc6IGRlc2NlbmRpbmcgKiByZXZlcnNlT3JkZXIgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzUHJpbWl0aXZlKHZhbHVlKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgIGNhc2UgJ251bWJlcic6IC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOiAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvYmplY3RWYWx1ZSh2YWx1ZSwgaW5kZXgpIHtcbiAgICAvLyBJZiBgdmFsdWVPZmAgaXMgYSB2YWxpZCBmdW5jdGlvbiB1c2UgdGhhdFxuICAgIGlmICh0eXBlb2YgdmFsdWUudmFsdWVPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFsdWUgPSB2YWx1ZS52YWx1ZU9mKCk7XG4gICAgICBpZiAoaXNQcmltaXRpdmUodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIC8vIElmIGB0b1N0cmluZ2AgaXMgYSB2YWxpZCBmdW5jdGlvbiBhbmQgbm90IHRoZSBvbmUgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAgdXNlIHRoYXRcbiAgICBpZiAoaGFzQ3VzdG9tVG9TdHJpbmcodmFsdWUpKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICBpZiAoaXNQcmltaXRpdmUodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIC8vIFdlIGhhdmUgYSBiYXNpYyBvYmplY3Qgc28gd2UgdXNlIHRoZSBwb3NpdGlvbiBvZiB0aGUgb2JqZWN0IGluIHRoZSBjb2xsZWN0aW9uXG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UHJlZGljYXRlVmFsdWUodmFsdWUsIGluZGV4KSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICB0eXBlID0gJ3N0cmluZyc7XG4gICAgICB2YWx1ZSA9ICdudWxsJztcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgdmFsdWUgPSBvYmplY3RWYWx1ZSh2YWx1ZSwgaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4geyB2YWx1ZTogdmFsdWUsIHR5cGU6IHR5cGUgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXBhcmUodjEsIHYyKSB7XG4gICAgdmFyIHJlc3VsdCA9IDA7XG4gICAgaWYgKHYxLnR5cGUgPT09IHYyLnR5cGUpIHtcbiAgICAgIGlmICh2MS52YWx1ZSAhPT0gdjIudmFsdWUpIHtcbiAgICAgICAgcmVzdWx0ID0gdjEudmFsdWUgPCB2Mi52YWx1ZSA/IC0xIDogMTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gdjEudHlwZSA8IHYyLnR5cGUgPyAtMSA6IDE7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gbmdEaXJlY3RpdmUoZGlyZWN0aXZlKSB7XG4gIGlmIChpc0Z1bmN0aW9uKGRpcmVjdGl2ZSkpIHtcbiAgICBkaXJlY3RpdmUgPSB7XG4gICAgICBsaW5rOiBkaXJlY3RpdmVcbiAgICB9O1xuICB9XG4gIGRpcmVjdGl2ZS5yZXN0cmljdCA9IGRpcmVjdGl2ZS5yZXN0cmljdCB8fCAnQUMnO1xuICByZXR1cm4gdmFsdWVGbihkaXJlY3RpdmUpO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIGFcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBNb2RpZmllcyB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUgaHRtbCBBIHRhZyBzbyB0aGF0IHRoZSBkZWZhdWx0IGFjdGlvbiBpcyBwcmV2ZW50ZWQgd2hlblxuICogdGhlIGhyZWYgYXR0cmlidXRlIGlzIGVtcHR5LlxuICpcbiAqIFRoaXMgY2hhbmdlIHBlcm1pdHMgdGhlIGVhc3kgY3JlYXRpb24gb2YgYWN0aW9uIGxpbmtzIHdpdGggdGhlIGBuZ0NsaWNrYCBkaXJlY3RpdmVcbiAqIHdpdGhvdXQgY2hhbmdpbmcgdGhlIGxvY2F0aW9uIG9yIGNhdXNpbmcgcGFnZSByZWxvYWRzLCBlLmcuOlxuICogYDxhIGhyZWY9XCJcIiBuZy1jbGljaz1cImxpc3QuYWRkSXRlbSgpXCI+QWRkIEl0ZW08L2E+YFxuICovXG52YXIgaHRtbEFuY2hvckRpcmVjdGl2ZSA9IHZhbHVlRm4oe1xuICByZXN0cmljdDogJ0UnLFxuICBjb21waWxlOiBmdW5jdGlvbihlbGVtZW50LCBhdHRyKSB7XG4gICAgaWYgKCFhdHRyLmhyZWYgJiYgIWF0dHIueGxpbmtIcmVmKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgLy8gSWYgdGhlIGxpbmtlZCBlbGVtZW50IGlzIG5vdCBhbiBhbmNob3IgdGFnIGFueW1vcmUsIGRvIG5vdGhpbmdcbiAgICAgICAgaWYgKGVsZW1lbnRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ2EnKSByZXR1cm47XG5cbiAgICAgICAgLy8gU1ZHQUVsZW1lbnQgZG9lcyBub3QgdXNlIHRoZSBocmVmIGF0dHJpYnV0ZSwgYnV0IHJhdGhlciB0aGUgJ3hsaW5rSHJlZicgYXR0cmlidXRlLlxuICAgICAgICB2YXIgaHJlZiA9IHRvU3RyaW5nLmNhbGwoZWxlbWVudC5wcm9wKCdocmVmJykpID09PSAnW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ10nID9cbiAgICAgICAgICAgICAgICAgICAneGxpbms6aHJlZicgOiAnaHJlZic7XG4gICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAvLyBpZiB3ZSBoYXZlIG5vIGhyZWYgdXJsLCB0aGVuIGRvbid0IG5hdmlnYXRlIGFueXdoZXJlLlxuICAgICAgICAgIGlmICghZWxlbWVudC5hdHRyKGhyZWYpKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxufSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdIcmVmXG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDk5XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2luZyBBbmd1bGFyIG1hcmt1cCBsaWtlIGB7e2hhc2h9fWAgaW4gYW4gaHJlZiBhdHRyaWJ1dGUgd2lsbFxuICogbWFrZSB0aGUgbGluayBnbyB0byB0aGUgd3JvbmcgVVJMIGlmIHRoZSB1c2VyIGNsaWNrcyBpdCBiZWZvcmVcbiAqIEFuZ3VsYXIgaGFzIGEgY2hhbmNlIHRvIHJlcGxhY2UgdGhlIGB7e2hhc2h9fWAgbWFya3VwIHdpdGggaXRzXG4gKiB2YWx1ZS4gVW50aWwgQW5ndWxhciByZXBsYWNlcyB0aGUgbWFya3VwIHRoZSBsaW5rIHdpbGwgYmUgYnJva2VuXG4gKiBhbmQgd2lsbCBtb3N0IGxpa2VseSByZXR1cm4gYSA0MDQgZXJyb3IuIFRoZSBgbmdIcmVmYCBkaXJlY3RpdmVcbiAqIHNvbHZlcyB0aGlzIHByb2JsZW0uXG4gKlxuICogVGhlIHdyb25nIHdheSB0byB3cml0ZSBpdDpcbiAqIGBgYGh0bWxcbiAqIDxhIGhyZWY9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX1cIj5saW5rMTwvYT5cbiAqIGBgYFxuICpcbiAqIFRoZSBjb3JyZWN0IHdheSB0byB3cml0ZSBpdDpcbiAqIGBgYGh0bWxcbiAqIDxhIG5nLWhyZWY9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX1cIj5saW5rMTwvYT5cbiAqIGBgYFxuICpcbiAqIEBlbGVtZW50IEFcbiAqIEBwYXJhbSB7dGVtcGxhdGV9IG5nSHJlZiBhbnkgc3RyaW5nIHdoaWNoIGNhbiBjb250YWluIGB7e319YCBtYXJrdXAuXG4gKlxuICogQGV4YW1wbGVcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyB2YXJpb3VzIGNvbWJpbmF0aW9ucyBvZiBgaHJlZmAsIGBuZy1ocmVmYCBhbmQgYG5nLWNsaWNrYCBhdHRyaWJ1dGVzXG4gKiBpbiBsaW5rcyBhbmQgdGhlaXIgZGlmZmVyZW50IGJlaGF2aW9yczpcbiAgICA8ZXhhbXBsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInZhbHVlXCIgLz48YnIgLz5cbiAgICAgICAgPGEgaWQ9XCJsaW5rLTFcIiBocmVmIG5nLWNsaWNrPVwidmFsdWUgPSAxXCI+bGluayAxPC9hPiAobGluaywgZG9uJ3QgcmVsb2FkKTxiciAvPlxuICAgICAgICA8YSBpZD1cImxpbmstMlwiIGhyZWY9XCJcIiBuZy1jbGljaz1cInZhbHVlID0gMlwiPmxpbmsgMjwvYT4gKGxpbmssIGRvbid0IHJlbG9hZCk8YnIgLz5cbiAgICAgICAgPGEgaWQ9XCJsaW5rLTNcIiBuZy1ocmVmPVwiL3t7JzEyMyd9fVwiPmxpbmsgMzwvYT4gKGxpbmssIHJlbG9hZCEpPGJyIC8+XG4gICAgICAgIDxhIGlkPVwibGluay00XCIgaHJlZj1cIlwiIG5hbWU9XCJ4eFwiIG5nLWNsaWNrPVwidmFsdWUgPSA0XCI+YW5jaG9yPC9hPiAobGluaywgZG9uJ3QgcmVsb2FkKTxiciAvPlxuICAgICAgICA8YSBpZD1cImxpbmstNVwiIG5hbWU9XCJ4eHhcIiBuZy1jbGljaz1cInZhbHVlID0gNVwiPmFuY2hvcjwvYT4gKG5vIGxpbmspPGJyIC8+XG4gICAgICAgIDxhIGlkPVwibGluay02XCIgbmctaHJlZj1cInt7dmFsdWV9fVwiPmxpbms8L2E+IChsaW5rLCBjaGFuZ2UgbG9jYXRpb24pXG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBidXQgbm90IHJlbG9hZCB3aGVuIGhyZWYgd2l0aG91dCB2YWx1ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstMScpKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJzEnKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay0xJykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKCcnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gaHJlZiBlbXB0eSBzdHJpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTInKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCcyJyk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstMicpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9CZSgnJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBhbmQgY2hhbmdlIHVybCB3aGVuIG5nLWhyZWYgc3BlY2lmaWVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstMycpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9NYXRjaCgvXFwvMTIzJC8pO1xuXG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay0zJykpLmNsaWNrKCk7XG5cbiAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBuYXZpZ2F0ZSBhd2F5IGZyb20gYW4gQW5ndWxhciBwYWdlLCBzbyB3ZSBuZWVkXG4gICAgICAgICAgLy8gdG8gdXNlIGJyb3dzZXIuZHJpdmVyIHRvIGdldCB0aGUgYmFzZSB3ZWJkcml2ZXIuXG5cbiAgICAgICAgICBicm93c2VyLndhaXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gYnJvd3Nlci5kcml2ZXIuZ2V0Q3VycmVudFVybCgpLnRoZW4oZnVuY3Rpb24odXJsKSB7XG4gICAgICAgICAgICAgIHJldHVybiB1cmwubWF0Y2goL1xcLzEyMyQvKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIDUwMDAsICdwYWdlIHNob3VsZCBuYXZpZ2F0ZSB0byAvMTIzJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBidXQgbm90IHJlbG9hZCB3aGVuIGhyZWYgZW1wdHkgc3RyaW5nIGFuZCBuYW1lIHNwZWNpZmllZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstNCcpKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJzQnKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay00JykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKCcnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gbm8gaHJlZiBidXQgbmFtZSBzcGVjaWZpZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTUnKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCc1Jyk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstNScpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9CZShudWxsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBvbmx5IGNoYW5nZSB1cmwgd2hlbiBvbmx5IG5nLWhyZWYnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5jbGVhcigpO1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLnNlbmRLZXlzKCc2Jyk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstNicpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9NYXRjaCgvXFwvNiQvKTtcblxuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstNicpKS5jbGljaygpO1xuXG4gICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgd2UgbmF2aWdhdGUgYXdheSBmcm9tIGFuIEFuZ3VsYXIgcGFnZSwgc28gd2UgbmVlZFxuICAgICAgICAgIC8vIHRvIHVzZSBicm93c2VyLmRyaXZlciB0byBnZXQgdGhlIGJhc2Ugd2ViZHJpdmVyLlxuICAgICAgICAgIGJyb3dzZXIud2FpdChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBicm93c2VyLmRyaXZlci5nZXRDdXJyZW50VXJsKCkudGhlbihmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHVybC5tYXRjaCgvXFwvNiQvKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIDUwMDAsICdwYWdlIHNob3VsZCBuYXZpZ2F0ZSB0byAvNicpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1NyY1xuICogQHJlc3RyaWN0IEFcbiAqIEBwcmlvcml0eSA5OVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVXNpbmcgQW5ndWxhciBtYXJrdXAgbGlrZSBge3toYXNofX1gIGluIGEgYHNyY2AgYXR0cmlidXRlIGRvZXNuJ3RcbiAqIHdvcmsgcmlnaHQ6IFRoZSBicm93c2VyIHdpbGwgZmV0Y2ggZnJvbSB0aGUgVVJMIHdpdGggdGhlIGxpdGVyYWxcbiAqIHRleHQgYHt7aGFzaH19YCB1bnRpbCBBbmd1bGFyIHJlcGxhY2VzIHRoZSBleHByZXNzaW9uIGluc2lkZVxuICogYHt7aGFzaH19YC4gVGhlIGBuZ1NyY2AgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0uXG4gKlxuICogVGhlIGJ1Z2d5IHdheSB0byB3cml0ZSBpdDpcbiAqIGBgYGh0bWxcbiAqIDxpbWcgc3JjPVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19XCIgYWx0PVwiRGVzY3JpcHRpb25cIi8+XG4gKiBgYGBcbiAqXG4gKiBUaGUgY29ycmVjdCB3YXkgdG8gd3JpdGUgaXQ6XG4gKiBgYGBodG1sXG4gKiA8aW1nIG5nLXNyYz1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fVwiIGFsdD1cIkRlc2NyaXB0aW9uXCIgLz5cbiAqIGBgYFxuICpcbiAqIEBlbGVtZW50IElNR1xuICogQHBhcmFtIHt0ZW1wbGF0ZX0gbmdTcmMgYW55IHN0cmluZyB3aGljaCBjYW4gY29udGFpbiBge3t9fWAgbWFya3VwLlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdTcmNzZXRcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgOTlcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFVzaW5nIEFuZ3VsYXIgbWFya3VwIGxpa2UgYHt7aGFzaH19YCBpbiBhIGBzcmNzZXRgIGF0dHJpYnV0ZSBkb2Vzbid0XG4gKiB3b3JrIHJpZ2h0OiBUaGUgYnJvd3NlciB3aWxsIGZldGNoIGZyb20gdGhlIFVSTCB3aXRoIHRoZSBsaXRlcmFsXG4gKiB0ZXh0IGB7e2hhc2h9fWAgdW50aWwgQW5ndWxhciByZXBsYWNlcyB0aGUgZXhwcmVzc2lvbiBpbnNpZGVcbiAqIGB7e2hhc2h9fWAuIFRoZSBgbmdTcmNzZXRgIGRpcmVjdGl2ZSBzb2x2ZXMgdGhpcyBwcm9ibGVtLlxuICpcbiAqIFRoZSBidWdneSB3YXkgdG8gd3JpdGUgaXQ6XG4gKiBgYGBodG1sXG4gKiA8aW1nIHNyY3NldD1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fSAyeFwiIGFsdD1cIkRlc2NyaXB0aW9uXCIvPlxuICogYGBgXG4gKlxuICogVGhlIGNvcnJlY3Qgd2F5IHRvIHdyaXRlIGl0OlxuICogYGBgaHRtbFxuICogPGltZyBuZy1zcmNzZXQ9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX0gMnhcIiBhbHQ9XCJEZXNjcmlwdGlvblwiIC8+XG4gKiBgYGBcbiAqXG4gKiBAZWxlbWVudCBJTUdcbiAqIEBwYXJhbSB7dGVtcGxhdGV9IG5nU3Jjc2V0IGFueSBzdHJpbmcgd2hpY2ggY2FuIGNvbnRhaW4gYHt7fX1gIG1hcmt1cC5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nRGlzYWJsZWRcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgMTAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogVGhpcyBkaXJlY3RpdmUgc2V0cyB0aGUgYGRpc2FibGVkYCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQgaWYgdGhlXG4gKiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpbnNpZGUgYG5nRGlzYWJsZWRgIGV2YWx1YXRlcyB0byB0cnV0aHkuXG4gKlxuICogQSBzcGVjaWFsIGRpcmVjdGl2ZSBpcyBuZWNlc3NhcnkgYmVjYXVzZSB3ZSBjYW5ub3QgdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoZSBgZGlzYWJsZWRgXG4gKiBhdHRyaWJ1dGUuICBUaGUgZm9sbG93aW5nIGV4YW1wbGUgd291bGQgbWFrZSB0aGUgYnV0dG9uIGVuYWJsZWQgb24gQ2hyb21lL0ZpcmVmb3hcbiAqIGJ1dCBub3Qgb24gb2xkZXIgSUVzOlxuICpcbiAqIGBgYGh0bWxcbiAqIDwhLS0gU2VlIGJlbG93IGZvciBhbiBleGFtcGxlIG9mIG5nLWRpc2FibGVkIGJlaW5nIHVzZWQgY29ycmVjdGx5IC0tPlxuICogPGRpdiBuZy1pbml0PVwiaXNEaXNhYmxlZCA9IGZhbHNlXCI+XG4gKiAgPGJ1dHRvbiBkaXNhYmxlZD1cInt7aXNEaXNhYmxlZH19XCI+RGlzYWJsZWQ8L2J1dHRvbj5cbiAqIDwvZGl2PlxuICogYGBgXG4gKlxuICogVGhpcyBpcyBiZWNhdXNlIHRoZSBIVE1MIHNwZWNpZmljYXRpb24gZG9lcyBub3QgcmVxdWlyZSBicm93c2VycyB0byBwcmVzZXJ2ZSB0aGUgdmFsdWVzIG9mXG4gKiBib29sZWFuIGF0dHJpYnV0ZXMgc3VjaCBhcyBgZGlzYWJsZWRgIChUaGVpciBwcmVzZW5jZSBtZWFucyB0cnVlIGFuZCB0aGVpciBhYnNlbmNlIG1lYW5zIGZhbHNlLilcbiAqIElmIHdlIHB1dCBhbiBBbmd1bGFyIGludGVycG9sYXRpb24gZXhwcmVzc2lvbiBpbnRvIHN1Y2ggYW4gYXR0cmlidXRlIHRoZW4gdGhlXG4gKiBiaW5kaW5nIGluZm9ybWF0aW9uIHdvdWxkIGJlIGxvc3Qgd2hlbiB0aGUgYnJvd3NlciByZW1vdmVzIHRoZSBhdHRyaWJ1dGUuXG4gKlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxsYWJlbD5DbGljayBtZSB0byB0b2dnbGU6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIj48L2xhYmVsPjxici8+XG4gICAgICAgIDxidXR0b24gbmctbW9kZWw9XCJidXR0b25cIiBuZy1kaXNhYmxlZD1cImNoZWNrZWRcIj5CdXR0b248L2J1dHRvbj5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCB0b2dnbGUgYnV0dG9uJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCdidXR0b24nKSkuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpKS50b0JlRmFsc3koKTtcbiAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2VkJykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCdidXR0b24nKSkuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqXG4gKiBAZWxlbWVudCBJTlBVVFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0Rpc2FibGVkIElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHksXG4gKiAgICAgdGhlbiB0aGUgYGRpc2FibGVkYCBhdHRyaWJ1dGUgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDaGVja2VkXG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDEwMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU2V0cyB0aGUgYGNoZWNrZWRgIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCwgaWYgdGhlIGV4cHJlc3Npb24gaW5zaWRlIGBuZ0NoZWNrZWRgIGlzIHRydXRoeS5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyBkaXJlY3RpdmUgc2hvdWxkIG5vdCBiZSB1c2VkIHRvZ2V0aGVyIHdpdGgge0BsaW5rIG5nTW9kZWwgYG5nTW9kZWxgfSxcbiAqIGFzIHRoaXMgY2FuIGxlYWQgdG8gdW5leHBlY3RlZCBiZWhhdmlvci5cbiAqXG4gKiAjIyMgV2h5IGRvIHdlIG5lZWQgYG5nQ2hlY2tlZGA/XG4gKlxuICogVGhlIEhUTUwgc3BlY2lmaWNhdGlvbiBkb2VzIG5vdCByZXF1aXJlIGJyb3dzZXJzIHRvIHByZXNlcnZlIHRoZSB2YWx1ZXMgb2YgYm9vbGVhbiBhdHRyaWJ1dGVzXG4gKiBzdWNoIGFzIGNoZWNrZWQuIChUaGVpciBwcmVzZW5jZSBtZWFucyB0cnVlIGFuZCB0aGVpciBhYnNlbmNlIG1lYW5zIGZhbHNlLilcbiAqIElmIHdlIHB1dCBhbiBBbmd1bGFyIGludGVycG9sYXRpb24gZXhwcmVzc2lvbiBpbnRvIHN1Y2ggYW4gYXR0cmlidXRlIHRoZW4gdGhlXG4gKiBiaW5kaW5nIGluZm9ybWF0aW9uIHdvdWxkIGJlIGxvc3Qgd2hlbiB0aGUgYnJvd3NlciByZW1vdmVzIHRoZSBhdHRyaWJ1dGUuXG4gKiBUaGUgYG5nQ2hlY2tlZGAgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0gZm9yIHRoZSBgY2hlY2tlZGAgYXR0cmlidXRlLlxuICogVGhpcyBjb21wbGVtZW50YXJ5IGRpcmVjdGl2ZSBpcyBub3QgcmVtb3ZlZCBieSB0aGUgYnJvd3NlciBhbmQgc28gcHJvdmlkZXNcbiAqIGEgcGVybWFuZW50IHJlbGlhYmxlIHBsYWNlIHRvIHN0b3JlIHRoZSBiaW5kaW5nIGluZm9ybWF0aW9uLlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxsYWJlbD5DaGVjayBtZSB0byBjaGVjayBib3RoOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJtYXN0ZXJcIj48L2xhYmVsPjxici8+XG4gICAgICAgIDxpbnB1dCBpZD1cImNoZWNrU2xhdmVcIiB0eXBlPVwiY2hlY2tib3hcIiBuZy1jaGVja2VkPVwibWFzdGVyXCIgYXJpYS1sYWJlbD1cIlNsYXZlIGlucHV0XCI+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgY2hlY2sgYm90aCBjaGVja0JveGVzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2NoZWNrU2xhdmUnKSkuZ2V0QXR0cmlidXRlKCdjaGVja2VkJykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ21hc3RlcicpKS5jbGljaygpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjaGVja1NsYXZlJykpLmdldEF0dHJpYnV0ZSgnY2hlY2tlZCcpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqXG4gKiBAZWxlbWVudCBJTlBVVFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NoZWNrZWQgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcbiAqICAgICB0aGVuIHRoZSBgY2hlY2tlZGAgYXR0cmlidXRlIHdpbGwgYmUgc2V0IG9uIHRoZSBlbGVtZW50XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nUmVhZG9ubHlcbiAqIEByZXN0cmljdCBBXG4gKiBAcHJpb3JpdHkgMTAwXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgSFRNTCBzcGVjaWZpY2F0aW9uIGRvZXMgbm90IHJlcXVpcmUgYnJvd3NlcnMgdG8gcHJlc2VydmUgdGhlIHZhbHVlcyBvZiBib29sZWFuIGF0dHJpYnV0ZXNcbiAqIHN1Y2ggYXMgcmVhZG9ubHkuIChUaGVpciBwcmVzZW5jZSBtZWFucyB0cnVlIGFuZCB0aGVpciBhYnNlbmNlIG1lYW5zIGZhbHNlLilcbiAqIElmIHdlIHB1dCBhbiBBbmd1bGFyIGludGVycG9sYXRpb24gZXhwcmVzc2lvbiBpbnRvIHN1Y2ggYW4gYXR0cmlidXRlIHRoZW4gdGhlXG4gKiBiaW5kaW5nIGluZm9ybWF0aW9uIHdvdWxkIGJlIGxvc3Qgd2hlbiB0aGUgYnJvd3NlciByZW1vdmVzIHRoZSBhdHRyaWJ1dGUuXG4gKiBUaGUgYG5nUmVhZG9ubHlgIGRpcmVjdGl2ZSBzb2x2ZXMgdGhpcyBwcm9ibGVtIGZvciB0aGUgYHJlYWRvbmx5YCBhdHRyaWJ1dGUuXG4gKiBUaGlzIGNvbXBsZW1lbnRhcnkgZGlyZWN0aXZlIGlzIG5vdCByZW1vdmVkIGJ5IHRoZSBicm93c2VyIGFuZCBzbyBwcm92aWRlc1xuICogYSBwZXJtYW5lbnQgcmVsaWFibGUgcGxhY2UgdG8gc3RvcmUgdGhlIGJpbmRpbmcgaW5mb3JtYXRpb24uXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPGxhYmVsPkNoZWNrIG1lIHRvIG1ha2UgdGV4dCByZWFkb25seTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiPjwvbGFiZWw+PGJyLz5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctcmVhZG9ubHk9XCJjaGVja2VkXCIgdmFsdWU9XCJJJ20gQW5ndWxhclwiIGFyaWEtbGFiZWw9XCJSZWFkb25seSBmaWVsZFwiIC8+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgdG9nZ2xlIHJlYWRvbmx5IGF0dHInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ1t0eXBlPVwidGV4dFwiXScpKS5nZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ1t0eXBlPVwidGV4dFwiXScpKS5nZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JykpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICpcbiAqIEBlbGVtZW50IElOUFVUXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nUmVhZG9ubHkgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcbiAqICAgICB0aGVuIHNwZWNpYWwgYXR0cmlidXRlIFwicmVhZG9ubHlcIiB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1NlbGVjdGVkXG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDEwMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIEhUTUwgc3BlY2lmaWNhdGlvbiBkb2VzIG5vdCByZXF1aXJlIGJyb3dzZXJzIHRvIHByZXNlcnZlIHRoZSB2YWx1ZXMgb2YgYm9vbGVhbiBhdHRyaWJ1dGVzXG4gKiBzdWNoIGFzIHNlbGVjdGVkLiAoVGhlaXIgcHJlc2VuY2UgbWVhbnMgdHJ1ZSBhbmQgdGhlaXIgYWJzZW5jZSBtZWFucyBmYWxzZS4pXG4gKiBJZiB3ZSBwdXQgYW4gQW5ndWxhciBpbnRlcnBvbGF0aW9uIGV4cHJlc3Npb24gaW50byBzdWNoIGFuIGF0dHJpYnV0ZSB0aGVuIHRoZVxuICogYmluZGluZyBpbmZvcm1hdGlvbiB3b3VsZCBiZSBsb3N0IHdoZW4gdGhlIGJyb3dzZXIgcmVtb3ZlcyB0aGUgYXR0cmlidXRlLlxuICogVGhlIGBuZ1NlbGVjdGVkYCBkaXJlY3RpdmUgc29sdmVzIHRoaXMgcHJvYmxlbSBmb3IgdGhlIGBzZWxlY3RlZGAgYXR0cmlidXRlLlxuICogVGhpcyBjb21wbGVtZW50YXJ5IGRpcmVjdGl2ZSBpcyBub3QgcmVtb3ZlZCBieSB0aGUgYnJvd3NlciBhbmQgc28gcHJvdmlkZXNcbiAqIGEgcGVybWFuZW50IHJlbGlhYmxlIHBsYWNlIHRvIHN0b3JlIHRoZSBiaW5kaW5nIGluZm9ybWF0aW9uLlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8bGFiZWw+Q2hlY2sgbWUgdG8gc2VsZWN0OiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJzZWxlY3RlZFwiPjwvbGFiZWw+PGJyLz5cbiAgICAgICAgPHNlbGVjdCBhcmlhLWxhYmVsPVwibmdTZWxlY3RlZCBkZW1vXCI+XG4gICAgICAgICAgPG9wdGlvbj5IZWxsbyE8L29wdGlvbj5cbiAgICAgICAgICA8b3B0aW9uIGlkPVwiZ3JlZXRcIiBuZy1zZWxlY3RlZD1cInNlbGVjdGVkXCI+R3JlZXRpbmdzITwvb3B0aW9uPlxuICAgICAgICA8L3NlbGVjdD5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBzZWxlY3QgR3JlZXRpbmdzIScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdncmVldCcpKS5nZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3NlbGVjdGVkJykpLmNsaWNrKCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2dyZWV0JykpLmdldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnKSkudG9CZVRydXRoeSgpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKlxuICogQGVsZW1lbnQgT1BUSU9OXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU2VsZWN0ZWQgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcbiAqICAgICB0aGVuIHNwZWNpYWwgYXR0cmlidXRlIFwic2VsZWN0ZWRcIiB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdPcGVuXG4gKiBAcmVzdHJpY3QgQVxuICogQHByaW9yaXR5IDEwMFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIEhUTUwgc3BlY2lmaWNhdGlvbiBkb2VzIG5vdCByZXF1aXJlIGJyb3dzZXJzIHRvIHByZXNlcnZlIHRoZSB2YWx1ZXMgb2YgYm9vbGVhbiBhdHRyaWJ1dGVzXG4gKiBzdWNoIGFzIG9wZW4uIChUaGVpciBwcmVzZW5jZSBtZWFucyB0cnVlIGFuZCB0aGVpciBhYnNlbmNlIG1lYW5zIGZhbHNlLilcbiAqIElmIHdlIHB1dCBhbiBBbmd1bGFyIGludGVycG9sYXRpb24gZXhwcmVzc2lvbiBpbnRvIHN1Y2ggYW4gYXR0cmlidXRlIHRoZW4gdGhlXG4gKiBiaW5kaW5nIGluZm9ybWF0aW9uIHdvdWxkIGJlIGxvc3Qgd2hlbiB0aGUgYnJvd3NlciByZW1vdmVzIHRoZSBhdHRyaWJ1dGUuXG4gKiBUaGUgYG5nT3BlbmAgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0gZm9yIHRoZSBgb3BlbmAgYXR0cmlidXRlLlxuICogVGhpcyBjb21wbGVtZW50YXJ5IGRpcmVjdGl2ZSBpcyBub3QgcmVtb3ZlZCBieSB0aGUgYnJvd3NlciBhbmQgc28gcHJvdmlkZXNcbiAqIGEgcGVybWFuZW50IHJlbGlhYmxlIHBsYWNlIHRvIHN0b3JlIHRoZSBiaW5kaW5nIGluZm9ybWF0aW9uLlxuICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGU+XG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIDxsYWJlbD5DaGVjayBtZSBjaGVjayBtdWx0aXBsZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwib3BlblwiPjwvbGFiZWw+PGJyLz5cbiAgICAgICAgIDxkZXRhaWxzIGlkPVwiZGV0YWlsc1wiIG5nLW9wZW49XCJvcGVuXCI+XG4gICAgICAgICAgICA8c3VtbWFyeT5TaG93L0hpZGUgbWU8L3N1bW1hcnk+XG4gICAgICAgICA8L2RldGFpbHM+XG4gICAgICAgPC9maWxlPlxuICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgIGl0KCdzaG91bGQgdG9nZ2xlIG9wZW4nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2RldGFpbHMnKSkuZ2V0QXR0cmlidXRlKCdvcGVuJykpLnRvQmVGYWxzeSgpO1xuICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdvcGVuJykpLmNsaWNrKCk7XG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdkZXRhaWxzJykpLmdldEF0dHJpYnV0ZSgnb3BlbicpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgICB9KTtcbiAgICAgICA8L2ZpbGU+XG4gICAgIDwvZXhhbXBsZT5cbiAqXG4gKiBAZWxlbWVudCBERVRBSUxTXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nT3BlbiBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxuICogICAgIHRoZW4gc3BlY2lhbCBhdHRyaWJ1dGUgXCJvcGVuXCIgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcbiAqL1xuXG52YXIgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXMgPSB7fTtcblxuLy8gYm9vbGVhbiBhdHRycyBhcmUgZXZhbHVhdGVkXG5mb3JFYWNoKEJPT0xFQU5fQVRUUiwgZnVuY3Rpb24ocHJvcE5hbWUsIGF0dHJOYW1lKSB7XG4gIC8vIGJpbmRpbmcgdG8gbXVsdGlwbGUgaXMgbm90IHN1cHBvcnRlZFxuICBpZiAocHJvcE5hbWUgPT0gXCJtdWx0aXBsZVwiKSByZXR1cm47XG5cbiAgZnVuY3Rpb24gZGVmYXVsdExpbmtGbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgIHNjb3BlLiR3YXRjaChhdHRyW25vcm1hbGl6ZWRdLCBmdW5jdGlvbiBuZ0Jvb2xlYW5BdHRyV2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgIGF0dHIuJHNldChhdHRyTmFtZSwgISF2YWx1ZSk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgbm9ybWFsaXplZCA9IGRpcmVjdGl2ZU5vcm1hbGl6ZSgnbmctJyArIGF0dHJOYW1lKTtcbiAgdmFyIGxpbmtGbiA9IGRlZmF1bHRMaW5rRm47XG5cbiAgaWYgKHByb3BOYW1lID09PSAnY2hlY2tlZCcpIHtcbiAgICBsaW5rRm4gPSBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgLy8gZW5zdXJpbmcgbmdDaGVja2VkIGRvZXNuJ3QgaW50ZXJmZXJlIHdpdGggbmdNb2RlbCB3aGVuIGJvdGggYXJlIHNldCBvbiB0aGUgc2FtZSBpbnB1dFxuICAgICAgaWYgKGF0dHIubmdNb2RlbCAhPT0gYXR0cltub3JtYWxpemVkXSkge1xuICAgICAgICBkZWZhdWx0TGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRyKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXNbbm9ybWFsaXplZF0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgIHByaW9yaXR5OiAxMDAsXG4gICAgICBsaW5rOiBsaW5rRm5cbiAgICB9O1xuICB9O1xufSk7XG5cbi8vIGFsaWFzZWQgaW5wdXQgYXR0cnMgYXJlIGV2YWx1YXRlZFxuZm9yRWFjaChBTElBU0VEX0FUVFIsIGZ1bmN0aW9uKGh0bWxBdHRyLCBuZ0F0dHIpIHtcbiAgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXNbbmdBdHRyXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcmlvcml0eTogMTAwLFxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgICAgLy9zcGVjaWFsIGNhc2UgbmdQYXR0ZXJuIHdoZW4gYSBsaXRlcmFsIHJlZ3VsYXIgZXhwcmVzc2lvbiB2YWx1ZVxuICAgICAgICAvL2lzIHVzZWQgYXMgdGhlIGV4cHJlc3Npb24gKHRoaXMgd2F5IHdlIGRvbid0IGhhdmUgdG8gd2F0Y2ggYW55dGhpbmcpLlxuICAgICAgICBpZiAobmdBdHRyID09PSBcIm5nUGF0dGVyblwiICYmIGF0dHIubmdQYXR0ZXJuLmNoYXJBdCgwKSA9PSBcIi9cIikge1xuICAgICAgICAgIHZhciBtYXRjaCA9IGF0dHIubmdQYXR0ZXJuLm1hdGNoKFJFR0VYX1NUUklOR19SRUdFWFApO1xuICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgYXR0ci4kc2V0KFwibmdQYXR0ZXJuXCIsIG5ldyBSZWdFeHAobWF0Y2hbMV0sIG1hdGNoWzJdKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJbbmdBdHRyXSwgZnVuY3Rpb24gbmdBdHRyQWxpYXNXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGF0dHIuJHNldChuZ0F0dHIsIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn0pO1xuXG4vLyBuZy1zcmMsIG5nLXNyY3NldCwgbmctaHJlZiBhcmUgaW50ZXJwb2xhdGVkXG5mb3JFYWNoKFsnc3JjJywgJ3NyY3NldCcsICdocmVmJ10sIGZ1bmN0aW9uKGF0dHJOYW1lKSB7XG4gIHZhciBub3JtYWxpemVkID0gZGlyZWN0aXZlTm9ybWFsaXplKCduZy0nICsgYXR0ck5hbWUpO1xuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tub3JtYWxpemVkXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcmlvcml0eTogOTksIC8vIGl0IG5lZWRzIHRvIHJ1biBhZnRlciB0aGUgYXR0cmlidXRlcyBhcmUgaW50ZXJwb2xhdGVkXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgICB2YXIgcHJvcE5hbWUgPSBhdHRyTmFtZSxcbiAgICAgICAgICAgIG5hbWUgPSBhdHRyTmFtZTtcblxuICAgICAgICBpZiAoYXR0ck5hbWUgPT09ICdocmVmJyAmJlxuICAgICAgICAgICAgdG9TdHJpbmcuY2FsbChlbGVtZW50LnByb3AoJ2hyZWYnKSkgPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXScpIHtcbiAgICAgICAgICBuYW1lID0gJ3hsaW5rSHJlZic7XG4gICAgICAgICAgYXR0ci4kYXR0cltuYW1lXSA9ICd4bGluazpocmVmJztcbiAgICAgICAgICBwcm9wTmFtZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBhdHRyLiRvYnNlcnZlKG5vcm1hbGl6ZWQsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGF0dHJOYW1lID09PSAnaHJlZicpIHtcbiAgICAgICAgICAgICAgYXR0ci4kc2V0KG5hbWUsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGF0dHIuJHNldChuYW1lLCB2YWx1ZSk7XG5cbiAgICAgICAgICAvLyBvbiBJRSwgaWYgXCJuZzpzcmNcIiBkaXJlY3RpdmUgZGVjbGFyYXRpb24gaXMgdXNlZCBhbmQgXCJzcmNcIiBhdHRyaWJ1dGUgZG9lc24ndCBleGlzdFxuICAgICAgICAgIC8vIHRoZW4gY2FsbGluZyBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ZvbycpIGRvZXNuJ3QgZG8gYW55dGhpbmcsIHNvIHdlIG5lZWRcbiAgICAgICAgICAvLyB0byBzZXQgdGhlIHByb3BlcnR5IGFzIHdlbGwgdG8gYWNoaWV2ZSB0aGUgZGVzaXJlZCBlZmZlY3QuXG4gICAgICAgICAgLy8gd2UgdXNlIGF0dHJbYXR0ck5hbWVdIHZhbHVlIHNpbmNlICRzZXQgY2FuIHNhbml0aXplIHRoZSB1cmwuXG4gICAgICAgICAgaWYgKG1zaWUgJiYgcHJvcE5hbWUpIGVsZW1lbnQucHJvcChwcm9wTmFtZSwgYXR0cltuYW1lXSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH07XG59KTtcblxuLyogZ2xvYmFsIC1udWxsRm9ybUN0cmwsIC1TVUJNSVRURURfQ0xBU1MsIGFkZFNldFZhbGlkaXR5TWV0aG9kOiB0cnVlXG4gKi9cbnZhciBudWxsRm9ybUN0cmwgPSB7XG4gICRhZGRDb250cm9sOiBub29wLFxuICAkJHJlbmFtZUNvbnRyb2w6IG51bGxGb3JtUmVuYW1lQ29udHJvbCxcbiAgJHJlbW92ZUNvbnRyb2w6IG5vb3AsXG4gICRzZXRWYWxpZGl0eTogbm9vcCxcbiAgJHNldERpcnR5OiBub29wLFxuICAkc2V0UHJpc3RpbmU6IG5vb3AsXG4gICRzZXRTdWJtaXR0ZWQ6IG5vb3Bcbn0sXG5TVUJNSVRURURfQ0xBU1MgPSAnbmctc3VibWl0dGVkJztcblxuZnVuY3Rpb24gbnVsbEZvcm1SZW5hbWVDb250cm9sKGNvbnRyb2wsIG5hbWUpIHtcbiAgY29udHJvbC4kbmFtZSA9IG5hbWU7XG59XG5cbi8qKlxuICogQG5nZG9jIHR5cGVcbiAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXJcbiAqXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRwcmlzdGluZSBUcnVlIGlmIHVzZXIgaGFzIG5vdCBpbnRlcmFjdGVkIHdpdGggdGhlIGZvcm0geWV0LlxuICogQHByb3BlcnR5IHtib29sZWFufSAkZGlydHkgVHJ1ZSBpZiB1c2VyIGhhcyBhbHJlYWR5IGludGVyYWN0ZWQgd2l0aCB0aGUgZm9ybS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHZhbGlkIFRydWUgaWYgYWxsIG9mIHRoZSBjb250YWluaW5nIGZvcm1zIGFuZCBjb250cm9scyBhcmUgdmFsaWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRpbnZhbGlkIFRydWUgaWYgYXQgbGVhc3Qgb25lIGNvbnRhaW5pbmcgY29udHJvbCBvciBmb3JtIGlzIGludmFsaWQuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRzdWJtaXR0ZWQgVHJ1ZSBpZiB1c2VyIGhhcyBzdWJtaXR0ZWQgdGhlIGZvcm0gZXZlbiBpZiBpdHMgaW52YWxpZC5cbiAqXG4gKiBAcHJvcGVydHkge09iamVjdH0gJGVycm9yIElzIGFuIG9iamVjdCBoYXNoLCBjb250YWluaW5nIHJlZmVyZW5jZXMgdG8gY29udHJvbHMgb3JcbiAqICBmb3JtcyB3aXRoIGZhaWxpbmcgdmFsaWRhdG9ycywgd2hlcmU6XG4gKlxuICogIC0ga2V5cyBhcmUgdmFsaWRhdGlvbiB0b2tlbnMgKGVycm9yIG5hbWVzKSxcbiAqICAtIHZhbHVlcyBhcmUgYXJyYXlzIG9mIGNvbnRyb2xzIG9yIGZvcm1zIHRoYXQgaGF2ZSBhIGZhaWxpbmcgdmFsaWRhdG9yIGZvciBnaXZlbiBlcnJvciBuYW1lLlxuICpcbiAqICBCdWlsdC1pbiB2YWxpZGF0aW9uIHRva2VuczpcbiAqXG4gKiAgLSBgZW1haWxgXG4gKiAgLSBgbWF4YFxuICogIC0gYG1heGxlbmd0aGBcbiAqICAtIGBtaW5gXG4gKiAgLSBgbWlubGVuZ3RoYFxuICogIC0gYG51bWJlcmBcbiAqICAtIGBwYXR0ZXJuYFxuICogIC0gYHJlcXVpcmVkYFxuICogIC0gYHVybGBcbiAqICAtIGBkYXRlYFxuICogIC0gYGRhdGV0aW1lbG9jYWxgXG4gKiAgLSBgdGltZWBcbiAqICAtIGB3ZWVrYFxuICogIC0gYG1vbnRoYFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogYEZvcm1Db250cm9sbGVyYCBrZWVwcyB0cmFjayBvZiBhbGwgaXRzIGNvbnRyb2xzIGFuZCBuZXN0ZWQgZm9ybXMgYXMgd2VsbCBhcyB0aGUgc3RhdGUgb2YgdGhlbSxcbiAqIHN1Y2ggYXMgYmVpbmcgdmFsaWQvaW52YWxpZCBvciBkaXJ0eS9wcmlzdGluZS5cbiAqXG4gKiBFYWNoIHtAbGluayBuZy5kaXJlY3RpdmU6Zm9ybSBmb3JtfSBkaXJlY3RpdmUgY3JlYXRlcyBhbiBpbnN0YW5jZVxuICogb2YgYEZvcm1Db250cm9sbGVyYC5cbiAqXG4gKi9cbi8vYXNrcyBmb3IgJHNjb3BlIHRvIGZvb2wgdGhlIEJDIGNvbnRyb2xsZXIgbW9kdWxlXG5Gb3JtQ29udHJvbGxlci4kaW5qZWN0ID0gWyckZWxlbWVudCcsICckYXR0cnMnLCAnJHNjb3BlJywgJyRhbmltYXRlJywgJyRpbnRlcnBvbGF0ZSddO1xuZnVuY3Rpb24gRm9ybUNvbnRyb2xsZXIoZWxlbWVudCwgYXR0cnMsICRzY29wZSwgJGFuaW1hdGUsICRpbnRlcnBvbGF0ZSkge1xuICB2YXIgZm9ybSA9IHRoaXMsXG4gICAgICBjb250cm9scyA9IFtdO1xuXG4gIHZhciBwYXJlbnRGb3JtID0gZm9ybS4kJHBhcmVudEZvcm0gPSBlbGVtZW50LnBhcmVudCgpLmNvbnRyb2xsZXIoJ2Zvcm0nKSB8fCBudWxsRm9ybUN0cmw7XG5cbiAgLy8gaW5pdCBzdGF0ZVxuICBmb3JtLiRlcnJvciA9IHt9O1xuICBmb3JtLiQkc3VjY2VzcyA9IHt9O1xuICBmb3JtLiRwZW5kaW5nID0gdW5kZWZpbmVkO1xuICBmb3JtLiRuYW1lID0gJGludGVycG9sYXRlKGF0dHJzLm5hbWUgfHwgYXR0cnMubmdGb3JtIHx8ICcnKSgkc2NvcGUpO1xuICBmb3JtLiRkaXJ0eSA9IGZhbHNlO1xuICBmb3JtLiRwcmlzdGluZSA9IHRydWU7XG4gIGZvcm0uJHZhbGlkID0gdHJ1ZTtcbiAgZm9ybS4kaW52YWxpZCA9IGZhbHNlO1xuICBmb3JtLiRzdWJtaXR0ZWQgPSBmYWxzZTtcblxuICBwYXJlbnRGb3JtLiRhZGRDb250cm9sKGZvcm0pO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHJvbGxiYWNrVmlld1ZhbHVlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSb2xsYmFjayBhbGwgZm9ybSBjb250cm9scyBwZW5kaW5nIHVwZGF0ZXMgdG8gdGhlIGAkbW9kZWxWYWx1ZWAuXG4gICAqXG4gICAqIFVwZGF0ZXMgbWF5IGJlIHBlbmRpbmcgYnkgYSBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lIGZ1dHVyZVxuICAgKiBldmVudCBkZWZpbmVkIGluIGBuZy1tb2RlbC1vcHRpb25zYC4gVGhpcyBtZXRob2QgaXMgdHlwaWNhbGx5IG5lZWRlZCBieSB0aGUgcmVzZXQgYnV0dG9uIG9mXG4gICAqIGEgZm9ybSB0aGF0IHVzZXMgYG5nLW1vZGVsLW9wdGlvbnNgIHRvIHBlbmQgdXBkYXRlcy5cbiAgICovXG4gIGZvcm0uJHJvbGxiYWNrVmlld1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yRWFjaChjb250cm9scywgZnVuY3Rpb24oY29udHJvbCkge1xuICAgICAgY29udHJvbC4kcm9sbGJhY2tWaWV3VmFsdWUoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRjb21taXRWaWV3VmFsdWVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENvbW1pdCBhbGwgZm9ybSBjb250cm9scyBwZW5kaW5nIHVwZGF0ZXMgdG8gdGhlIGAkbW9kZWxWYWx1ZWAuXG4gICAqXG4gICAqIFVwZGF0ZXMgbWF5IGJlIHBlbmRpbmcgYnkgYSBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lIGZ1dHVyZVxuICAgKiBldmVudCBkZWZpbmVkIGluIGBuZy1tb2RlbC1vcHRpb25zYC4gVGhpcyBtZXRob2QgaXMgcmFyZWx5IG5lZWRlZCBhcyBgTmdNb2RlbENvbnRyb2xsZXJgXG4gICAqIHVzdWFsbHkgaGFuZGxlcyBjYWxsaW5nIHRoaXMgaW4gcmVzcG9uc2UgdG8gaW5wdXQgZXZlbnRzLlxuICAgKi9cbiAgZm9ybS4kY29tbWl0Vmlld1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yRWFjaChjb250cm9scywgZnVuY3Rpb24oY29udHJvbCkge1xuICAgICAgY29udHJvbC4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkYWRkQ29udHJvbFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXIgYSBjb250cm9sIHdpdGggdGhlIGZvcm0uXG4gICAqXG4gICAqIElucHV0IGVsZW1lbnRzIHVzaW5nIG5nTW9kZWxDb250cm9sbGVyIGRvIHRoaXMgYXV0b21hdGljYWxseSB3aGVuIHRoZXkgYXJlIGxpbmtlZC5cbiAgICovXG4gIGZvcm0uJGFkZENvbnRyb2wgPSBmdW5jdGlvbihjb250cm9sKSB7XG4gICAgLy8gQnJlYWtpbmcgY2hhbmdlIC0gYmVmb3JlLCBpbnB1dHMgd2hvc2UgbmFtZSB3YXMgXCJoYXNPd25Qcm9wZXJ0eVwiIHdlcmUgcXVpZXRseSBpZ25vcmVkXG4gICAgLy8gYW5kIG5vdCBhZGRlZCB0byB0aGUgc2NvcGUuICBOb3cgd2UgdGhyb3cgYW4gZXJyb3IuXG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkoY29udHJvbC4kbmFtZSwgJ2lucHV0Jyk7XG4gICAgY29udHJvbHMucHVzaChjb250cm9sKTtcblxuICAgIGlmIChjb250cm9sLiRuYW1lKSB7XG4gICAgICBmb3JtW2NvbnRyb2wuJG5hbWVdID0gY29udHJvbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUHJpdmF0ZSBBUEk6IHJlbmFtZSBhIGZvcm0gY29udHJvbFxuICBmb3JtLiQkcmVuYW1lQ29udHJvbCA9IGZ1bmN0aW9uKGNvbnRyb2wsIG5ld05hbWUpIHtcbiAgICB2YXIgb2xkTmFtZSA9IGNvbnRyb2wuJG5hbWU7XG5cbiAgICBpZiAoZm9ybVtvbGROYW1lXSA9PT0gY29udHJvbCkge1xuICAgICAgZGVsZXRlIGZvcm1bb2xkTmFtZV07XG4gICAgfVxuICAgIGZvcm1bbmV3TmFtZV0gPSBjb250cm9sO1xuICAgIGNvbnRyb2wuJG5hbWUgPSBuZXdOYW1lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHJlbW92ZUNvbnRyb2xcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIERlcmVnaXN0ZXIgYSBjb250cm9sIGZyb20gdGhlIGZvcm0uXG4gICAqXG4gICAqIElucHV0IGVsZW1lbnRzIHVzaW5nIG5nTW9kZWxDb250cm9sbGVyIGRvIHRoaXMgYXV0b21hdGljYWxseSB3aGVuIHRoZXkgYXJlIGRlc3Ryb3llZC5cbiAgICovXG4gIGZvcm0uJHJlbW92ZUNvbnRyb2wgPSBmdW5jdGlvbihjb250cm9sKSB7XG4gICAgaWYgKGNvbnRyb2wuJG5hbWUgJiYgZm9ybVtjb250cm9sLiRuYW1lXSA9PT0gY29udHJvbCkge1xuICAgICAgZGVsZXRlIGZvcm1bY29udHJvbC4kbmFtZV07XG4gICAgfVxuICAgIGZvckVhY2goZm9ybS4kcGVuZGluZywgZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgIGZvcm0uJHNldFZhbGlkaXR5KG5hbWUsIG51bGwsIGNvbnRyb2wpO1xuICAgIH0pO1xuICAgIGZvckVhY2goZm9ybS4kZXJyb3IsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICBmb3JtLiRzZXRWYWxpZGl0eShuYW1lLCBudWxsLCBjb250cm9sKTtcbiAgICB9KTtcbiAgICBmb3JFYWNoKGZvcm0uJCRzdWNjZXNzLCBmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgZm9ybS4kc2V0VmFsaWRpdHkobmFtZSwgbnVsbCwgY29udHJvbCk7XG4gICAgfSk7XG5cbiAgICBhcnJheVJlbW92ZShjb250cm9scywgY29udHJvbCk7XG4gIH07XG5cblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXRWYWxpZGl0eVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgdmFsaWRpdHkgb2YgYSBmb3JtIGNvbnRyb2wuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgYWxzbyBwcm9wYWdhdGUgdG8gcGFyZW50IGZvcm1zLlxuICAgKi9cbiAgYWRkU2V0VmFsaWRpdHlNZXRob2Qoe1xuICAgIGN0cmw6IHRoaXMsXG4gICAgJGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgc2V0OiBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5LCBjb250cm9sbGVyKSB7XG4gICAgICB2YXIgbGlzdCA9IG9iamVjdFtwcm9wZXJ0eV07XG4gICAgICBpZiAoIWxpc3QpIHtcbiAgICAgICAgb2JqZWN0W3Byb3BlcnR5XSA9IFtjb250cm9sbGVyXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBpbmRleCA9IGxpc3QuaW5kZXhPZihjb250cm9sbGVyKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgIGxpc3QucHVzaChjb250cm9sbGVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgdW5zZXQ6IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHksIGNvbnRyb2xsZXIpIHtcbiAgICAgIHZhciBsaXN0ID0gb2JqZWN0W3Byb3BlcnR5XTtcbiAgICAgIGlmICghbGlzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcnJheVJlbW92ZShsaXN0LCBjb250cm9sbGVyKTtcbiAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBkZWxldGUgb2JqZWN0W3Byb3BlcnR5XTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHBhcmVudEZvcm06IHBhcmVudEZvcm0sXG4gICAgJGFuaW1hdGU6ICRhbmltYXRlXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHNldERpcnR5XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHRoZSBmb3JtIHRvIGEgZGlydHkgc3RhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gYWRkIHRoZSAnbmctZGlydHknIGNsYXNzIGFuZCBzZXQgdGhlIGZvcm0gdG8gYSBkaXJ0eVxuICAgKiBzdGF0ZSAobmctZGlydHkgY2xhc3MpLiBUaGlzIG1ldGhvZCB3aWxsIGFsc28gcHJvcGFnYXRlIHRvIHBhcmVudCBmb3Jtcy5cbiAgICovXG4gIGZvcm0uJHNldERpcnR5ID0gZnVuY3Rpb24oKSB7XG4gICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgUFJJU1RJTkVfQ0xBU1MpO1xuICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIERJUlRZX0NMQVNTKTtcbiAgICBmb3JtLiRkaXJ0eSA9IHRydWU7XG4gICAgZm9ybS4kcHJpc3RpbmUgPSBmYWxzZTtcbiAgICBwYXJlbnRGb3JtLiRzZXREaXJ0eSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHNldFByaXN0aW5lXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHRoZSBmb3JtIHRvIGl0cyBwcmlzdGluZSBzdGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlICduZy1kaXJ0eScgY2xhc3MgYW5kIHNldCB0aGUgZm9ybSB0byBpdHMgcHJpc3RpbmVcbiAgICogc3RhdGUgKG5nLXByaXN0aW5lIGNsYXNzKS4gVGhpcyBtZXRob2Qgd2lsbCBhbHNvIHByb3BhZ2F0ZSB0byBhbGwgdGhlIGNvbnRyb2xzIGNvbnRhaW5lZFxuICAgKiBpbiB0aGlzIGZvcm0uXG4gICAqXG4gICAqIFNldHRpbmcgYSBmb3JtIGJhY2sgdG8gYSBwcmlzdGluZSBzdGF0ZSBpcyBvZnRlbiB1c2VmdWwgd2hlbiB3ZSB3YW50IHRvICdyZXVzZScgYSBmb3JtIGFmdGVyXG4gICAqIHNhdmluZyBvciByZXNldHRpbmcgaXQuXG4gICAqL1xuICBmb3JtLiRzZXRQcmlzdGluZSA9IGZ1bmN0aW9uKCkge1xuICAgICRhbmltYXRlLnNldENsYXNzKGVsZW1lbnQsIFBSSVNUSU5FX0NMQVNTLCBESVJUWV9DTEFTUyArICcgJyArIFNVQk1JVFRFRF9DTEFTUyk7XG4gICAgZm9ybS4kZGlydHkgPSBmYWxzZTtcbiAgICBmb3JtLiRwcmlzdGluZSA9IHRydWU7XG4gICAgZm9ybS4kc3VibWl0dGVkID0gZmFsc2U7XG4gICAgZm9yRWFjaChjb250cm9scywgZnVuY3Rpb24oY29udHJvbCkge1xuICAgICAgY29udHJvbC4kc2V0UHJpc3RpbmUoKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXRVbnRvdWNoZWRcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgdGhlIGZvcm0gdG8gaXRzIHVudG91Y2hlZCBzdGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlICduZy10b3VjaGVkJyBjbGFzcyBhbmQgc2V0IHRoZSBmb3JtIGNvbnRyb2xzIHRvIHRoZWlyXG4gICAqIHVudG91Y2hlZCBzdGF0ZSAobmctdW50b3VjaGVkIGNsYXNzKS5cbiAgICpcbiAgICogU2V0dGluZyBhIGZvcm0gY29udHJvbHMgYmFjayB0byB0aGVpciB1bnRvdWNoZWQgc3RhdGUgaXMgb2Z0ZW4gdXNlZnVsIHdoZW4gc2V0dGluZyB0aGUgZm9ybVxuICAgKiBiYWNrIHRvIGl0cyBwcmlzdGluZSBzdGF0ZS5cbiAgICovXG4gIGZvcm0uJHNldFVudG91Y2hlZCA9IGZ1bmN0aW9uKCkge1xuICAgIGZvckVhY2goY29udHJvbHMsIGZ1bmN0aW9uKGNvbnRyb2wpIHtcbiAgICAgIGNvbnRyb2wuJHNldFVudG91Y2hlZCgpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHNldFN1Ym1pdHRlZFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgZm9ybSB0byBpdHMgc3VibWl0dGVkIHN0YXRlLlxuICAgKi9cbiAgZm9ybS4kc2V0U3VibWl0dGVkID0gZnVuY3Rpb24oKSB7XG4gICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgU1VCTUlUVEVEX0NMQVNTKTtcbiAgICBmb3JtLiRzdWJtaXR0ZWQgPSB0cnVlO1xuICAgIHBhcmVudEZvcm0uJHNldFN1Ym1pdHRlZCgpO1xuICB9O1xufVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nRm9ybVxuICogQHJlc3RyaWN0IEVBQ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogTmVzdGFibGUgYWxpYXMgb2Yge0BsaW5rIG5nLmRpcmVjdGl2ZTpmb3JtIGBmb3JtYH0gZGlyZWN0aXZlLiBIVE1MXG4gKiBkb2VzIG5vdCBhbGxvdyBuZXN0aW5nIG9mIGZvcm0gZWxlbWVudHMuIEl0IGlzIHVzZWZ1bCB0byBuZXN0IGZvcm1zLCBmb3IgZXhhbXBsZSBpZiB0aGUgdmFsaWRpdHkgb2YgYVxuICogc3ViLWdyb3VwIG9mIGNvbnRyb2xzIG5lZWRzIHRvIGJlIGRldGVybWluZWQuXG4gKlxuICogTm90ZTogdGhlIHB1cnBvc2Ugb2YgYG5nRm9ybWAgaXMgdG8gZ3JvdXAgY29udHJvbHMsXG4gKiBidXQgbm90IHRvIGJlIGEgcmVwbGFjZW1lbnQgZm9yIHRoZSBgPGZvcm0+YCB0YWcgd2l0aCBhbGwgb2YgaXRzIGNhcGFiaWxpdGllc1xuICogKGUuZy4gcG9zdGluZyB0byB0aGUgc2VydmVyLCAuLi4pLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdGb3JtfG5hbWUgTmFtZSBvZiB0aGUgZm9ybS4gSWYgc3BlY2lmaWVkLCB0aGUgZm9ybSBjb250cm9sbGVyIHdpbGwgYmUgcHVibGlzaGVkIGludG9cbiAqICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkIHNjb3BlLCB1bmRlciB0aGlzIG5hbWUuXG4gKlxuICovXG5cbiAvKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIGZvcm1cbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBEaXJlY3RpdmUgdGhhdCBpbnN0YW50aWF0ZXNcbiAqIHtAbGluayBmb3JtLkZvcm1Db250cm9sbGVyIEZvcm1Db250cm9sbGVyfS5cbiAqXG4gKiBJZiB0aGUgYG5hbWVgIGF0dHJpYnV0ZSBpcyBzcGVjaWZpZWQsIHRoZSBmb3JtIGNvbnRyb2xsZXIgaXMgcHVibGlzaGVkIG9udG8gdGhlIGN1cnJlbnQgc2NvcGUgdW5kZXJcbiAqIHRoaXMgbmFtZS5cbiAqXG4gKiAjIEFsaWFzOiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nRm9ybSBgbmdGb3JtYH1cbiAqXG4gKiBJbiBBbmd1bGFyLCBmb3JtcyBjYW4gYmUgbmVzdGVkLiBUaGlzIG1lYW5zIHRoYXQgdGhlIG91dGVyIGZvcm0gaXMgdmFsaWQgd2hlbiBhbGwgb2YgdGhlIGNoaWxkXG4gKiBmb3JtcyBhcmUgdmFsaWQgYXMgd2VsbC4gSG93ZXZlciwgYnJvd3NlcnMgZG8gbm90IGFsbG93IG5lc3Rpbmcgb2YgYDxmb3JtPmAgZWxlbWVudHMsIHNvXG4gKiBBbmd1bGFyIHByb3ZpZGVzIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nRm9ybSBgbmdGb3JtYH0gZGlyZWN0aXZlIHdoaWNoIGJlaGF2ZXMgaWRlbnRpY2FsbHkgdG9cbiAqIGA8Zm9ybT5gIGJ1dCBjYW4gYmUgbmVzdGVkLiAgVGhpcyBhbGxvd3MgeW91IHRvIGhhdmUgbmVzdGVkIGZvcm1zLCB3aGljaCBpcyB2ZXJ5IHVzZWZ1bCB3aGVuXG4gKiB1c2luZyBBbmd1bGFyIHZhbGlkYXRpb24gZGlyZWN0aXZlcyBpbiBmb3JtcyB0aGF0IGFyZSBkeW5hbWljYWxseSBnZW5lcmF0ZWQgdXNpbmcgdGhlXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IGBuZ1JlcGVhdGB9IGRpcmVjdGl2ZS4gU2luY2UgeW91IGNhbm5vdCBkeW5hbWljYWxseSBnZW5lcmF0ZSB0aGUgYG5hbWVgXG4gKiBhdHRyaWJ1dGUgb2YgaW5wdXQgZWxlbWVudHMgdXNpbmcgaW50ZXJwb2xhdGlvbiwgeW91IGhhdmUgdG8gd3JhcCBlYWNoIHNldCBvZiByZXBlYXRlZCBpbnB1dHMgaW4gYW5cbiAqIGBuZ0Zvcm1gIGRpcmVjdGl2ZSBhbmQgbmVzdCB0aGVzZSBpbiBhbiBvdXRlciBgZm9ybWAgZWxlbWVudC5cbiAqXG4gKlxuICogIyBDU1MgY2xhc3Nlc1xuICogIC0gYG5nLXZhbGlkYCBpcyBzZXQgaWYgdGhlIGZvcm0gaXMgdmFsaWQuXG4gKiAgLSBgbmctaW52YWxpZGAgaXMgc2V0IGlmIHRoZSBmb3JtIGlzIGludmFsaWQuXG4gKiAgLSBgbmctcHJpc3RpbmVgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBwcmlzdGluZS5cbiAqICAtIGBuZy1kaXJ0eWAgaXMgc2V0IGlmIHRoZSBmb3JtIGlzIGRpcnR5LlxuICogIC0gYG5nLXN1Ym1pdHRlZGAgaXMgc2V0IGlmIHRoZSBmb3JtIHdhcyBzdWJtaXR0ZWQuXG4gKlxuICogS2VlcCBpbiBtaW5kIHRoYXQgbmdBbmltYXRlIGNhbiBkZXRlY3QgZWFjaCBvZiB0aGVzZSBjbGFzc2VzIHdoZW4gYWRkZWQgYW5kIHJlbW92ZWQuXG4gKlxuICpcbiAqICMgU3VibWl0dGluZyBhIGZvcm0gYW5kIHByZXZlbnRpbmcgdGhlIGRlZmF1bHQgYWN0aW9uXG4gKlxuICogU2luY2UgdGhlIHJvbGUgb2YgZm9ybXMgaW4gY2xpZW50LXNpZGUgQW5ndWxhciBhcHBsaWNhdGlvbnMgaXMgZGlmZmVyZW50IHRoYW4gaW4gY2xhc3NpY2FsXG4gKiByb3VuZHRyaXAgYXBwcywgaXQgaXMgZGVzaXJhYmxlIGZvciB0aGUgYnJvd3NlciBub3QgdG8gdHJhbnNsYXRlIHRoZSBmb3JtIHN1Ym1pc3Npb24gaW50byBhIGZ1bGxcbiAqIHBhZ2UgcmVsb2FkIHRoYXQgc2VuZHMgdGhlIGRhdGEgdG8gdGhlIHNlcnZlci4gSW5zdGVhZCBzb21lIGphdmFzY3JpcHQgbG9naWMgc2hvdWxkIGJlIHRyaWdnZXJlZFxuICogdG8gaGFuZGxlIHRoZSBmb3JtIHN1Ym1pc3Npb24gaW4gYW4gYXBwbGljYXRpb24tc3BlY2lmaWMgd2F5LlxuICpcbiAqIEZvciB0aGlzIHJlYXNvbiwgQW5ndWxhciBwcmV2ZW50cyB0aGUgZGVmYXVsdCBhY3Rpb24gKGZvcm0gc3VibWlzc2lvbiB0byB0aGUgc2VydmVyKSB1bmxlc3MgdGhlXG4gKiBgPGZvcm0+YCBlbGVtZW50IGhhcyBhbiBgYWN0aW9uYCBhdHRyaWJ1dGUgc3BlY2lmaWVkLlxuICpcbiAqIFlvdSBjYW4gdXNlIG9uZSBvZiB0aGUgZm9sbG93aW5nIHR3byB3YXlzIHRvIHNwZWNpZnkgd2hhdCBqYXZhc2NyaXB0IG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIHdoZW5cbiAqIGEgZm9ybSBpcyBzdWJtaXR0ZWQ6XG4gKlxuICogLSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nU3VibWl0IG5nU3VibWl0fSBkaXJlY3RpdmUgb24gdGhlIGZvcm0gZWxlbWVudFxuICogLSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xpY2sgbmdDbGlja30gZGlyZWN0aXZlIG9uIHRoZSBmaXJzdFxuICAqICBidXR0b24gb3IgaW5wdXQgZmllbGQgb2YgdHlwZSBzdWJtaXQgKGlucHV0W3R5cGU9c3VibWl0XSlcbiAqXG4gKiBUbyBwcmV2ZW50IGRvdWJsZSBleGVjdXRpb24gb2YgdGhlIGhhbmRsZXIsIHVzZSBvbmx5IG9uZSBvZiB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1N1Ym1pdCBuZ1N1Ym1pdH1cbiAqIG9yIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbGljayBuZ0NsaWNrfSBkaXJlY3RpdmVzLlxuICogVGhpcyBpcyBiZWNhdXNlIG9mIHRoZSBmb2xsb3dpbmcgZm9ybSBzdWJtaXNzaW9uIHJ1bGVzIGluIHRoZSBIVE1MIHNwZWNpZmljYXRpb246XG4gKlxuICogLSBJZiBhIGZvcm0gaGFzIG9ubHkgb25lIGlucHV0IGZpZWxkIHRoZW4gaGl0dGluZyBlbnRlciBpbiB0aGlzIGZpZWxkIHRyaWdnZXJzIGZvcm0gc3VibWl0XG4gKiAoYG5nU3VibWl0YClcbiAqIC0gaWYgYSBmb3JtIGhhcyAyKyBpbnB1dCBmaWVsZHMgYW5kIG5vIGJ1dHRvbnMgb3IgaW5wdXRbdHlwZT1zdWJtaXRdIHRoZW4gaGl0dGluZyBlbnRlclxuICogZG9lc24ndCB0cmlnZ2VyIHN1Ym1pdFxuICogLSBpZiBhIGZvcm0gaGFzIG9uZSBvciBtb3JlIGlucHV0IGZpZWxkcyBhbmQgb25lIG9yIG1vcmUgYnV0dG9ucyBvciBpbnB1dFt0eXBlPXN1Ym1pdF0gdGhlblxuICogaGl0dGluZyBlbnRlciBpbiBhbnkgb2YgdGhlIGlucHV0IGZpZWxkcyB3aWxsIHRyaWdnZXIgdGhlIGNsaWNrIGhhbmRsZXIgb24gdGhlICpmaXJzdCogYnV0dG9uIG9yXG4gKiBpbnB1dFt0eXBlPXN1Ym1pdF0gKGBuZ0NsaWNrYCkgKmFuZCogYSBzdWJtaXQgaGFuZGxlciBvbiB0aGUgZW5jbG9zaW5nIGZvcm0gKGBuZ1N1Ym1pdGApXG4gKlxuICogQW55IHBlbmRpbmcgYG5nTW9kZWxPcHRpb25zYCBjaGFuZ2VzIHdpbGwgdGFrZSBwbGFjZSBpbW1lZGlhdGVseSB3aGVuIGFuIGVuY2xvc2luZyBmb3JtIGlzXG4gKiBzdWJtaXR0ZWQuIE5vdGUgdGhhdCBgbmdDbGlja2AgZXZlbnRzIHdpbGwgb2NjdXIgYmVmb3JlIHRoZSBtb2RlbCBpcyB1cGRhdGVkLiBVc2UgYG5nU3VibWl0YFxuICogdG8gaGF2ZSBhY2Nlc3MgdG8gdGhlIHVwZGF0ZWQgbW9kZWwuXG4gKlxuICogIyMgQW5pbWF0aW9uIEhvb2tzXG4gKlxuICogQW5pbWF0aW9ucyBpbiBuZ0Zvcm0gYXJlIHRyaWdnZXJlZCB3aGVuIGFueSBvZiB0aGUgYXNzb2NpYXRlZCBDU1MgY2xhc3NlcyBhcmUgYWRkZWQgYW5kIHJlbW92ZWQuXG4gKiBUaGVzZSBjbGFzc2VzIGFyZTogYC5uZy1wcmlzdGluZWAsIGAubmctZGlydHlgLCBgLm5nLWludmFsaWRgIGFuZCBgLm5nLXZhbGlkYCBhcyB3ZWxsIGFzIGFueVxuICogb3RoZXIgdmFsaWRhdGlvbnMgdGhhdCBhcmUgcGVyZm9ybWVkIHdpdGhpbiB0aGUgZm9ybS4gQW5pbWF0aW9ucyBpbiBuZ0Zvcm0gYXJlIHNpbWlsYXIgdG8gaG93XG4gKiB0aGV5IHdvcmsgaW4gbmdDbGFzcyBhbmQgYW5pbWF0aW9ucyBjYW4gYmUgaG9va2VkIGludG8gdXNpbmcgQ1NTIHRyYW5zaXRpb25zLCBrZXlmcmFtZXMgYXMgd2VsbFxuICogYXMgSlMgYW5pbWF0aW9ucy5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgYSBzaW1wbGUgd2F5IHRvIHV0aWxpemUgQ1NTIHRyYW5zaXRpb25zIHRvIHN0eWxlIGEgZm9ybSBlbGVtZW50XG4gKiB0aGF0IGhhcyBiZWVuIHJlbmRlcmVkIGFzIGludmFsaWQgYWZ0ZXIgaXQgaGFzIGJlZW4gdmFsaWRhdGVkOlxuICpcbiAqIDxwcmU+XG4gKiAvL2JlIHN1cmUgdG8gaW5jbHVkZSBuZ0FuaW1hdGUgYXMgYSBtb2R1bGUgdG8gaG9vayBpbnRvIG1vcmVcbiAqIC8vYWR2YW5jZWQgYW5pbWF0aW9uc1xuICogLm15LWZvcm0ge1xuICogICB0cmFuc2l0aW9uOjAuNXMgbGluZWFyIGFsbDtcbiAqICAgYmFja2dyb3VuZDogd2hpdGU7XG4gKiB9XG4gKiAubXktZm9ybS5uZy1pbnZhbGlkIHtcbiAqICAgYmFja2dyb3VuZDogcmVkO1xuICogICBjb2xvcjp3aGl0ZTtcbiAqIH1cbiAqIDwvcHJlPlxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgZml4QmFzZT1cInRydWVcIiBtb2R1bGU9XCJmb3JtRXhhbXBsZVwiPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8c2NyaXB0PlxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2Zvcm1FeGFtcGxlJywgW10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdGb3JtQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgJHNjb3BlLnVzZXJUeXBlID0gJ2d1ZXN0JztcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxzdHlsZT5cbiAgICAgICAgLm15LWZvcm0ge1xuICAgICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjphbGwgbGluZWFyIDAuNXM7XG4gICAgICAgICAgdHJhbnNpdGlvbjphbGwgbGluZWFyIDAuNXM7XG4gICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLm15LWZvcm0ubmctaW52YWxpZCB7XG4gICAgICAgICAgYmFja2dyb3VuZDogcmVkO1xuICAgICAgICB9XG4gICAgICAgPC9zdHlsZT5cbiAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkZvcm1Db250cm9sbGVyXCIgY2xhc3M9XCJteS1mb3JtXCI+XG4gICAgICAgICB1c2VyVHlwZTogPGlucHV0IG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwidXNlclR5cGVcIiByZXF1aXJlZD5cbiAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlJlcXVpcmVkITwvc3Bhbj48YnI+XG4gICAgICAgICA8Y29kZT51c2VyVHlwZSA9IHt7dXNlclR5cGV9fTwvY29kZT48YnI+XG4gICAgICAgICA8Y29kZT5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L2NvZGU+PGJyPlxuICAgICAgICAgPGNvZGU+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC9jb2RlPjxicj5cbiAgICAgICAgIDxjb2RlPm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvY29kZT48YnI+XG4gICAgICAgICA8Y29kZT5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvY29kZT48YnI+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHVzZXJUeXBlID0gZWxlbWVudChieS5iaW5kaW5nKCd1c2VyVHlwZScpKTtcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG5cbiAgICAgICAgICBleHBlY3QodXNlclR5cGUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2d1ZXN0Jyk7XG4gICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciB1c2VyVHlwZSA9IGVsZW1lbnQoYnkuYmluZGluZygndXNlclR5cGUnKSk7XG4gICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuICAgICAgICAgIHZhciB1c2VySW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyVHlwZScpKTtcblxuICAgICAgICAgIHVzZXJJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIHVzZXJJbnB1dC5zZW5kS2V5cygnJyk7XG5cbiAgICAgICAgICBleHBlY3QodXNlclR5cGUuZ2V0VGV4dCgpKS50b0VxdWFsKCd1c2VyVHlwZSA9Jyk7XG4gICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICB9KTtcbiAgICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIE5hbWUgb2YgdGhlIGZvcm0uIElmIHNwZWNpZmllZCwgdGhlIGZvcm0gY29udHJvbGxlciB3aWxsIGJlIHB1Ymxpc2hlZCBpbnRvXG4gKiAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRlZCBzY29wZSwgdW5kZXIgdGhpcyBuYW1lLlxuICovXG52YXIgZm9ybURpcmVjdGl2ZUZhY3RvcnkgPSBmdW5jdGlvbihpc05nRm9ybSkge1xuICByZXR1cm4gWyckdGltZW91dCcsIGZ1bmN0aW9uKCR0aW1lb3V0KSB7XG4gICAgdmFyIGZvcm1EaXJlY3RpdmUgPSB7XG4gICAgICBuYW1lOiAnZm9ybScsXG4gICAgICByZXN0cmljdDogaXNOZ0Zvcm0gPyAnRUFDJyA6ICdFJyxcbiAgICAgIGNvbnRyb2xsZXI6IEZvcm1Db250cm9sbGVyLFxuICAgICAgY29tcGlsZTogZnVuY3Rpb24gbmdGb3JtQ29tcGlsZShmb3JtRWxlbWVudCwgYXR0cikge1xuICAgICAgICAvLyBTZXR1cCBpbml0aWFsIHN0YXRlIG9mIHRoZSBjb250cm9sXG4gICAgICAgIGZvcm1FbGVtZW50LmFkZENsYXNzKFBSSVNUSU5FX0NMQVNTKS5hZGRDbGFzcyhWQUxJRF9DTEFTUyk7XG5cbiAgICAgICAgdmFyIG5hbWVBdHRyID0gYXR0ci5uYW1lID8gJ25hbWUnIDogKGlzTmdGb3JtICYmIGF0dHIubmdGb3JtID8gJ25nRm9ybScgOiBmYWxzZSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwcmU6IGZ1bmN0aW9uIG5nRm9ybVByZUxpbmsoc2NvcGUsIGZvcm1FbGVtZW50LCBhdHRyLCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAvLyBpZiBgYWN0aW9uYCBhdHRyIGlzIG5vdCBwcmVzZW50IG9uIHRoZSBmb3JtLCBwcmV2ZW50IHRoZSBkZWZhdWx0IGFjdGlvbiAoc3VibWlzc2lvbilcbiAgICAgICAgICAgIGlmICghKCdhY3Rpb24nIGluIGF0dHIpKSB7XG4gICAgICAgICAgICAgIC8vIHdlIGNhbid0IHVzZSBqcSBldmVudHMgYmVjYXVzZSBpZiBhIGZvcm0gaXMgZGVzdHJveWVkIGR1cmluZyBzdWJtaXNzaW9uIHRoZSBkZWZhdWx0XG4gICAgICAgICAgICAgIC8vIGFjdGlvbiBpcyBub3QgcHJldmVudGVkLiBzZWUgIzEyMzhcbiAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgLy8gSUUgOSBpcyBub3QgYWZmZWN0ZWQgYmVjYXVzZSBpdCBkb2Vzbid0IGZpcmUgYSBzdWJtaXQgZXZlbnQgYW5kIHRyeSB0byBkbyBhIGZ1bGxcbiAgICAgICAgICAgICAgLy8gcGFnZSByZWxvYWQgaWYgdGhlIGZvcm0gd2FzIGRlc3Ryb3llZCBieSBzdWJtaXNzaW9uIG9mIHRoZSBmb3JtIHZpYSBhIGNsaWNrIGhhbmRsZXJcbiAgICAgICAgICAgICAgLy8gb24gYSBidXR0b24gaW4gdGhlIGZvcm0uIExvb2tzIGxpa2UgYW4gSUU5IHNwZWNpZmljIGJ1Zy5cbiAgICAgICAgICAgICAgdmFyIGhhbmRsZUZvcm1TdWJtaXNzaW9uID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyLiRjb21taXRWaWV3VmFsdWUoKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuJHNldFN1Ym1pdHRlZCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyRm4oZm9ybUVsZW1lbnRbMF0sICdzdWJtaXQnLCBoYW5kbGVGb3JtU3VibWlzc2lvbik7XG5cbiAgICAgICAgICAgICAgLy8gdW5yZWdpc3RlciB0aGUgcHJldmVudERlZmF1bHQgbGlzdGVuZXIgc28gdGhhdCB3ZSBkb24ndCBub3QgbGVhayBtZW1vcnkgYnV0IGluIGFcbiAgICAgICAgICAgICAgLy8gd2F5IHRoYXQgd2lsbCBhY2hpZXZlIHRoZSBwcmV2ZW50aW9uIG9mIHRoZSBkZWZhdWx0IGFjdGlvbi5cbiAgICAgICAgICAgICAgZm9ybUVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyRm4oZm9ybUVsZW1lbnRbMF0sICdzdWJtaXQnLCBoYW5kbGVGb3JtU3VibWlzc2lvbik7XG4gICAgICAgICAgICAgICAgfSwgMCwgZmFsc2UpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBhcmVudEZvcm1DdHJsID0gY29udHJvbGxlci4kJHBhcmVudEZvcm07XG5cbiAgICAgICAgICAgIGlmIChuYW1lQXR0cikge1xuICAgICAgICAgICAgICBzZXR0ZXIoc2NvcGUsIGNvbnRyb2xsZXIuJG5hbWUsIGNvbnRyb2xsZXIsIGNvbnRyb2xsZXIuJG5hbWUpO1xuICAgICAgICAgICAgICBhdHRyLiRvYnNlcnZlKG5hbWVBdHRyLCBmdW5jdGlvbihuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChjb250cm9sbGVyLiRuYW1lID09PSBuZXdWYWx1ZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNldHRlcihzY29wZSwgY29udHJvbGxlci4kbmFtZSwgdW5kZWZpbmVkLCBjb250cm9sbGVyLiRuYW1lKTtcbiAgICAgICAgICAgICAgICBwYXJlbnRGb3JtQ3RybC4kJHJlbmFtZUNvbnRyb2woY29udHJvbGxlciwgbmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgIHNldHRlcihzY29wZSwgY29udHJvbGxlci4kbmFtZSwgY29udHJvbGxlciwgY29udHJvbGxlci4kbmFtZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9ybUVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHBhcmVudEZvcm1DdHJsLiRyZW1vdmVDb250cm9sKGNvbnRyb2xsZXIpO1xuICAgICAgICAgICAgICBpZiAobmFtZUF0dHIpIHtcbiAgICAgICAgICAgICAgICBzZXR0ZXIoc2NvcGUsIGF0dHJbbmFtZUF0dHJdLCB1bmRlZmluZWQsIGNvbnRyb2xsZXIuJG5hbWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGV4dGVuZChjb250cm9sbGVyLCBudWxsRm9ybUN0cmwpOyAvL3N0b3AgcHJvcGFnYXRpbmcgY2hpbGQgZGVzdHJ1Y3Rpb24gaGFuZGxlcnMgdXB3YXJkc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZm9ybURpcmVjdGl2ZTtcbiAgfV07XG59O1xuXG52YXIgZm9ybURpcmVjdGl2ZSA9IGZvcm1EaXJlY3RpdmVGYWN0b3J5KCk7XG52YXIgbmdGb3JtRGlyZWN0aXZlID0gZm9ybURpcmVjdGl2ZUZhY3RvcnkodHJ1ZSk7XG5cbi8qIGdsb2JhbCBWQUxJRF9DTEFTUzogZmFsc2UsXG4gIElOVkFMSURfQ0xBU1M6IGZhbHNlLFxuICBQUklTVElORV9DTEFTUzogZmFsc2UsXG4gIERJUlRZX0NMQVNTOiBmYWxzZSxcbiAgVU5UT1VDSEVEX0NMQVNTOiBmYWxzZSxcbiAgVE9VQ0hFRF9DTEFTUzogZmFsc2UsXG4gICRuZ01vZGVsTWluRXJyOiBmYWxzZSxcbiovXG5cbi8vIFJlZ2V4IGNvZGUgaXMgb2J0YWluZWQgZnJvbSBTTzogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzE0MzA3MC9qYXZhc2NyaXB0LXJlZ2V4LWlzby1kYXRldGltZSNhbnN3ZXItMzE0MzIzMVxudmFyIElTT19EQVRFX1JFR0VYUCA9IC9cXGR7NH0tWzAxXVxcZC1bMC0zXVxcZFRbMC0yXVxcZDpbMC01XVxcZDpbMC01XVxcZFxcLlxcZCsoWystXVswLTJdXFxkOlswLTVdXFxkfFopLztcbnZhciBVUkxfUkVHRVhQID0gL14oZnRwfGh0dHB8aHR0cHMpOlxcL1xcLyhcXHcrOnswLDF9XFx3KkApPyhcXFMrKSg6WzAtOV0rKT8oXFwvfFxcLyhbXFx3IyE6Lj8rPSYlQCFcXC1cXC9dKSk/JC87XG52YXIgRU1BSUxfUkVHRVhQID0gL15bYS16MC05ISMkJSYnKitcXC89P15fYHt8fX4uLV0rQFthLXowLTldKFthLXowLTktXSpbYS16MC05XSk/KFxcLlthLXowLTldKFthLXowLTktXSpbYS16MC05XSk/KSokL2k7XG52YXIgTlVNQkVSX1JFR0VYUCA9IC9eXFxzKihcXC18XFwrKT8oXFxkK3woXFxkKihcXC5cXGQqKSkpKFtlRV1bKy1dP1xcZCspP1xccyokLztcbnZhciBEQVRFX1JFR0VYUCA9IC9eKFxcZHs0fSktKFxcZHsyfSktKFxcZHsyfSkkLztcbnZhciBEQVRFVElNRUxPQ0FMX1JFR0VYUCA9IC9eKFxcZHs0fSktKFxcZFxcZCktKFxcZFxcZClUKFxcZFxcZCk6KFxcZFxcZCkoPzo6KFxcZFxcZCkoXFwuXFxkezEsM30pPyk/JC87XG52YXIgV0VFS19SRUdFWFAgPSAvXihcXGR7NH0pLVcoXFxkXFxkKSQvO1xudmFyIE1PTlRIX1JFR0VYUCA9IC9eKFxcZHs0fSktKFxcZFxcZCkkLztcbnZhciBUSU1FX1JFR0VYUCA9IC9eKFxcZFxcZCk6KFxcZFxcZCkoPzo6KFxcZFxcZCkoXFwuXFxkezEsM30pPyk/JC87XG5cbnZhciBpbnB1dFR5cGUgPSB7XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFt0ZXh0XVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU3RhbmRhcmQgSFRNTCB0ZXh0IGlucHV0IHdpdGggYW5ndWxhciBkYXRhIGJpbmRpbmcsIGluaGVyaXRlZCBieSBtb3N0IG9mIHRoZSBgaW5wdXRgIGVsZW1lbnRzLlxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXG4gICAqICAgIG1pbmxlbmd0aC5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxuICAgKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2ZcbiAgICogICAgYW55IGxlbmd0aC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBwYXR0ZXJuIFNpbWlsYXIgdG8gYG5nUGF0dGVybmAgZXhjZXB0IHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpcyB0aGUgYWN0dWFsIHN0cmluZ1xuICAgKiAgICB0aGF0IGNvbnRhaW5zIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gYm9keSB0aGF0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgcmVndWxhciBleHByZXNzaW9uXG4gICAqICAgIGFzIGluIHRoZSBuZ1BhdHRlcm4gZGlyZWN0aXZlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB2YWx1ZSBkb2VzIG5vdCBtYXRjaFxuICAgKiAgICBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCwgdGhlbiB0aGlzIGlzIHVzZWQgZGlyZWN0bHkuXG4gICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cFxuICAgKiAgICBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYCBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0b1xuICAgKiAgICBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuPGJyIC8+XG4gICAqICAgICoqTm90ZToqKiBBdm9pZCB1c2luZyB0aGUgYGdgIGZsYWcgb24gdGhlIFJlZ0V4cCwgYXMgaXQgd2lsbCBjYXVzZSBlYWNoIHN1Y2Nlc3NpdmUgc2VhcmNoIHRvXG4gICAqICAgIHN0YXJ0IGF0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzZWFyY2gncyBtYXRjaCwgdGh1cyBub3QgdGFraW5nIHRoZSB3aG9sZSBpbnB1dCB2YWx1ZSBpbnRvXG4gICAqICAgIGFjY291bnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbbmdUcmltPXRydWVdIElmIHNldCB0byBmYWxzZSBBbmd1bGFyIHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgdHJpbSB0aGUgaW5wdXQuXG4gICAqICAgIFRoaXMgcGFyYW1ldGVyIGlzIGlnbm9yZWQgZm9yIGlucHV0W3R5cGU9cGFzc3dvcmRdIGNvbnRyb2xzLCB3aGljaCB3aWxsIG5ldmVyIHRyaW0gdGhlXG4gICAqICAgIGlucHV0LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgICAgPGV4YW1wbGUgbmFtZT1cInRleHQtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwidGV4dElucHV0RXhhbXBsZVwiPlxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3RleHRJbnB1dEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XG4gICAgICAgICAgICAgICAgIHRleHQ6ICdndWVzdCcsXG4gICAgICAgICAgICAgICAgIHdvcmQ6IC9eXFxzKlxcdypcXHMqJC9cbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgIDxsYWJlbD5TaW5nbGUgd29yZDpcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIG5nLXBhdHRlcm49XCJleGFtcGxlLndvcmRcIiByZXF1aXJlZCBuZy10cmltPVwiZmFsc2VcIj5cbiAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucGF0dGVyblwiPlxuICAgICAgICAgICAgICAgU2luZ2xlIHdvcmQgb25seSE8L3NwYW4+XG4gICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICA8dHQ+dGV4dCA9IHt7ZXhhbXBsZS50ZXh0fX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIHZhciB0ZXh0ID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnRleHQnKSk7XG4gICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuICAgICAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2V4YW1wbGUudGV4dCcpKTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2d1ZXN0Jyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcnKTtcblxuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0VxdWFsKCd0ZXh0ID0nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBtdWx0aSB3b3JkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2hlbGxvIHdvcmxkJyk7XG5cbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ3RleHQnOiB0ZXh0SW5wdXRUeXBlLFxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIGlucHV0XG4gICAgICogQG5hbWUgaW5wdXRbZGF0ZV1cbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIElucHV0IHdpdGggZGF0ZSB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gSW4gYnJvd3NlcnMgdGhhdCBkbyBub3QgeWV0IHN1cHBvcnRcbiAgICAgKiB0aGUgSFRNTDUgZGF0ZSBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRleHQgbXVzdCBiZSBlbnRlcmVkIGluIGEgdmFsaWQgSVNPLTg2MDFcbiAgICAgKiBkYXRlIGZvcm1hdCAoeXl5eS1NTS1kZCksIGZvciBleGFtcGxlOiBgMjAwOS0wMS0wNmAuIFNpbmNlIG1hbnlcbiAgICAgKiBtb2Rlcm4gYnJvd3NlcnMgZG8gbm90IHlldCBzdXBwb3J0IHRoaXMgaW5wdXQgdHlwZSwgaXQgaXMgaW1wb3J0YW50IHRvIHByb3ZpZGUgY3VlcyB0byB1c2VycyBvbiB0aGVcbiAgICAgKiBleHBlY3RlZCBpbnB1dCBmb3JtYXQgdmlhIGEgcGxhY2Vob2xkZXIgb3IgbGFiZWwuXG4gICAgICpcbiAgICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXG4gICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuIFRoaXMgbXVzdCBiZSBhXG4gICAgICogdmFsaWQgSVNPIGRhdGUgc3RyaW5nICh5eXl5LU1NLWRkKS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG1heGAuIFRoaXMgbXVzdCBiZVxuICAgICAqIGEgdmFsaWQgSVNPIGRhdGUgc3RyaW5nICh5eXl5LU1NLWRkKS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcbiAgICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgPGV4YW1wbGUgbmFtZT1cImRhdGUtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwiZGF0ZUlucHV0RXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2RhdGVJbnB1dEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgIC5jb250cm9sbGVyKCdEYXRlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgyMDEzLCA5LCAyMilcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XG4gICAgICAgICAgPGxhYmVsIGZvcj1cImV4YW1wbGVJbnB1dFwiPlBpY2sgYSBkYXRlIGluIDIwMTM6PC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBpZD1cImV4YW1wbGVJbnB1dFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS52YWx1ZVwiXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwieXl5eS1NTS1kZFwiIG1pbj1cIjIwMTMtMDEtMDFcIiBtYXg9XCIyMDEzLTEyLTMxXCIgcmVxdWlyZWQgLz5cbiAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XG4gICAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLmRhdGVcIj5cbiAgICAgICAgICAgICAgICBOb3QgYSB2YWxpZCBkYXRlITwvc3Bhbj5cbiAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgIDx0dD52YWx1ZSA9IHt7ZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1NTS1kZFwifX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgICA8L2Zvcm0+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU0tZGRcIicpKTtcbiAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xuXG4gICAgICAgIC8vIGN1cnJlbnRseSBwcm90cmFjdG9yL3dlYmRyaXZlciBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICAgIC8vIHNlbmRpbmcga2V5cyB0byBhbGwga25vd24gSFRNTDUgaW5wdXQgY29udHJvbHNcbiAgICAgICAgLy8gZm9yIHZhcmlvdXMgYnJvd3NlcnMgKHNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy81NjIpLlxuICAgICAgICBmdW5jdGlvbiBzZXRJbnB1dCh2YWwpIHtcbiAgICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFuZCBmb3JjZSB2YWxpZGF0aW9uLlxuICAgICAgICAgIHZhciBzY3IgPSBcInZhciBpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZUlucHV0Jyk7IFwiICtcbiAgICAgICAgICBcImlwdC52YWx1ZSA9ICdcIiArIHZhbCArIFwiJztcIiArXG4gICAgICAgICAgXCJhbmd1bGFyLmVsZW1lbnQoaXB0KS5zY29wZSgpLiRhcHBseShmdW5jdGlvbihzKSB7IHMubXlGb3JtW2lwdC5uYW1lXS4kc2V0Vmlld1ZhbHVlKCdcIiArIHZhbCArIFwiJyk7IH0pO1wiO1xuICAgICAgICAgIGJyb3dzZXIuZXhlY3V0ZVNjcmlwdChzY3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcyMDEzLTEwLTIyJyk7XG4gICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gdHJ1ZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzZXRJbnB1dCgnJyk7XG4gICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNldElucHV0KCcyMDE1LTAxLTAxJyk7XG4gICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgICA8L2V4YW1wbGU+XG4gICAgICovXG4gICdkYXRlJzogY3JlYXRlRGF0ZUlucHV0VHlwZSgnZGF0ZScsIERBVEVfUkVHRVhQLFxuICAgICAgICAgY3JlYXRlRGF0ZVBhcnNlcihEQVRFX1JFR0VYUCwgWyd5eXl5JywgJ01NJywgJ2RkJ10pLFxuICAgICAgICAgJ3l5eXktTU0tZGQnKSxcblxuICAgLyoqXG4gICAgKiBAbmdkb2MgaW5wdXRcbiAgICAqIEBuYW1lIGlucHV0W2RhdGV0aW1lLWxvY2FsXVxuICAgICpcbiAgICAqIEBkZXNjcmlwdGlvblxuICAgICogSW5wdXQgd2l0aCBkYXRldGltZSB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gSW4gYnJvd3NlcnMgdGhhdCBkbyBub3QgeWV0IHN1cHBvcnRcbiAgICAqIHRoZSBIVE1MNSBkYXRlIGlucHV0LCBhIHRleHQgZWxlbWVudCB3aWxsIGJlIHVzZWQuIEluIHRoYXQgY2FzZSwgdGhlIHRleHQgbXVzdCBiZSBlbnRlcmVkIGluIGEgdmFsaWQgSVNPLTg2MDFcbiAgICAqIGxvY2FsIGRhdGV0aW1lIGZvcm1hdCAoeXl5eS1NTS1kZFRISDptbTpzcyksIGZvciBleGFtcGxlOiBgMjAxMC0xMi0yOFQxNDo1NzowMGAuXG4gICAgKlxuICAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIGEgRGF0ZSBvYmplY3QsIG90aGVyd2lzZSBBbmd1bGFyIHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgKlxuICAgICogVGhlIHRpbWV6b25lIHRvIGJlIHVzZWQgdG8gcmVhZC93cml0ZSB0aGUgYERhdGVgIGluc3RhbmNlIGluIHRoZSBtb2RlbCBjYW4gYmUgZGVmaW5lZCB1c2luZ1xuICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxuICAgICpcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC4gVGhpcyBtdXN0IGJlIGFcbiAgICAqIHZhbGlkIElTTyBkYXRldGltZSBmb3JtYXQgKHl5eXktTU0tZGRUSEg6bW06c3MpLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLiBUaGlzIG11c3QgYmVcbiAgICAqIGEgdmFsaWQgSVNPIGRhdGV0aW1lIGZvcm1hdCAoeXl5eS1NTS1kZFRISDptbTpzcykuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAgICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICAqXG4gICAgKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIG5hbWU9XCJkYXRldGltZWxvY2FsLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImRhdGVFeGFtcGxlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxzY3JpcHQ+XG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKCdkYXRlRXhhbXBsZScsIFtdKVxuICAgICAgICAgIC5jb250cm9sbGVyKCdEYXRlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcbiAgICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKDIwMTAsIDExLCAyOCwgMTQsIDU3KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XSk7XG4gICAgICA8L3NjcmlwdD5cbiAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRGF0ZUNvbnRyb2xsZXIgYXMgZGF0ZUN0cmxcIj5cbiAgICAgICAgPGxhYmVsIGZvcj1cImV4YW1wbGVJbnB1dFwiPlBpY2sgYSBkYXRlIGJldHdlZW4gaW4gMjAxMzo8L2xhYmVsPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGV0aW1lLWxvY2FsXCIgaWQ9XCJleGFtcGxlSW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJ5eXl5LU1NLWRkVEhIOm1tOnNzXCIgbWluPVwiMjAwMS0wMS0wMVQwMDowMDowMFwiIG1heD1cIjIwMTMtMTItMzFUMDA6MDA6MDBcIiByZXF1aXJlZCAvPlxuICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLmRhdGV0aW1lbG9jYWxcIj5cbiAgICAgICAgICAgICAgTm90IGEgdmFsaWQgZGF0ZSE8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU0tZGRUSEg6bW06c3NcIn19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgICA8L2Zvcm0+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1NTS1kZFRISDptbTpzc1wiJykpO1xuICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnZXhhbXBsZS52YWx1ZScpKTtcblxuICAgICAgLy8gY3VycmVudGx5IHByb3RyYWN0b3Ivd2ViZHJpdmVyIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgIC8vIHNlbmRpbmcga2V5cyB0byBhbGwga25vd24gSFRNTDUgaW5wdXQgY29udHJvbHNcbiAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy81NjIpLlxuICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XG4gICAgICAgIC8vIHNldCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYW5kIGZvcmNlIHZhbGlkYXRpb24uXG4gICAgICAgIHZhciBzY3IgPSBcInZhciBpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZUlucHV0Jyk7IFwiICtcbiAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xuICAgICAgICBcImFuZ3VsYXIuZWxlbWVudChpcHQpLnNjb3BlKCkuJGFwcGx5KGZ1bmN0aW9uKHMpIHsgcy5teUZvcm1baXB0Lm5hbWVdLiRzZXRWaWV3VmFsdWUoJ1wiICsgdmFsICsgXCInKTsgfSk7XCI7XG4gICAgICAgIGJyb3dzZXIuZXhlY3V0ZVNjcmlwdChzY3IpO1xuICAgICAgfVxuXG4gICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcyMDEwLTEyLTI4VDE0OjU3OjAwJyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0SW5wdXQoJycpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcyMDE1LTAxLTAxVDIzOjU5OjAwJyk7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICAgICovXG4gICdkYXRldGltZS1sb2NhbCc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ2RhdGV0aW1lbG9jYWwnLCBEQVRFVElNRUxPQ0FMX1JFR0VYUCxcbiAgICAgIGNyZWF0ZURhdGVQYXJzZXIoREFURVRJTUVMT0NBTF9SRUdFWFAsIFsneXl5eScsICdNTScsICdkZCcsICdISCcsICdtbScsICdzcycsICdzc3MnXSksXG4gICAgICAneXl5eS1NTS1kZFRISDptbTpzcy5zc3MnKSxcblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W3RpbWVdXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBJbnB1dCB3aXRoIHRpbWUgdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24uIEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHlldCBzdXBwb3J0XG4gICAqIHRoZSBIVE1MNSBkYXRlIGlucHV0LCBhIHRleHQgZWxlbWVudCB3aWxsIGJlIHVzZWQuIEluIHRoYXQgY2FzZSwgdGhlIHRleHQgbXVzdCBiZSBlbnRlcmVkIGluIGEgdmFsaWQgSVNPLTg2MDFcbiAgICogbG9jYWwgdGltZSBmb3JtYXQgKEhIOm1tOnNzKSwgZm9yIGV4YW1wbGU6IGAxNDo1NzowMGAuIE1vZGVsIG11c3QgYmUgYSBEYXRlIG9iamVjdC4gVGhpcyBiaW5kaW5nIHdpbGwgYWx3YXlzIG91dHB1dCBhXG4gICAqIERhdGUgb2JqZWN0IHRvIHRoZSBtb2RlbCBvZiBKYW51YXJ5IDEsIDE5NzAsIG9yIGxvY2FsIGRhdGUgYG5ldyBEYXRlKDE5NzAsIDAsIDEsIEhILCBtbSwgc3MpYC5cbiAgICpcbiAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIGEgRGF0ZSBvYmplY3QsIG90aGVyd2lzZSBBbmd1bGFyIHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAqIEludmFsaWQgYERhdGVgIG9iamVjdHMgKGRhdGVzIHdob3NlIGBnZXRUaW1lKClgIGlzIGBOYU5gKSB3aWxsIGJlIHJlbmRlcmVkIGFzIGFuIGVtcHR5IHN0cmluZy5cbiAgICpcbiAgICogVGhlIHRpbWV6b25lIHRvIGJlIHVzZWQgdG8gcmVhZC93cml0ZSB0aGUgYERhdGVgIGluc3RhbmNlIGluIHRoZSBtb2RlbCBjYW4gYmUgZGVmaW5lZCB1c2luZ1xuICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfS4gQnkgZGVmYXVsdCwgdGhpcyBpcyB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuIFRoaXMgbXVzdCBiZSBhXG4gICAqIHZhbGlkIElTTyB0aW1lIGZvcm1hdCAoSEg6bW06c3MpLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG1heGAuIFRoaXMgbXVzdCBiZSBhXG4gICAqIHZhbGlkIElTTyB0aW1lIGZvcm1hdCAoSEg6bW06c3MpLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZSBuYW1lPVwidGltZS1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJ0aW1lRXhhbXBsZVwiPlxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgPHNjcmlwdD5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCd0aW1lRXhhbXBsZScsIFtdKVxuICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xuICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKDE5NzAsIDAsIDEsIDE0LCA1NywgMClcbiAgICAgICAgICB9O1xuICAgICAgICB9XSk7XG4gICAgIDwvc2NyaXB0PlxuICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XG4gICAgICAgIDxsYWJlbCBmb3I9XCJleGFtcGxlSW5wdXRcIj5QaWNrIGEgYmV0d2VlbiA4YW0gYW5kIDVwbTo8L2xhYmVsPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInRpbWVcIiBpZD1cImV4YW1wbGVJbnB1dFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS52YWx1ZVwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkhIOm1tOnNzXCIgbWluPVwiMDg6MDA6MDBcIiBtYXg9XCIxNzowMDowMFwiIHJlcXVpcmVkIC8+XG4gICAgICAgIDxkaXYgcm9sZT1cImFsZXJ0XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XG4gICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IudGltZVwiPlxuICAgICAgICAgICAgICBOb3QgYSB2YWxpZCBkYXRlITwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDx0dD52YWx1ZSA9IHt7ZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwiSEg6bW06c3NcIn19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgIDwvZm9ybT5cbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwiSEg6bW06c3NcIicpKTtcbiAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2V4YW1wbGUudmFsdWUnKSk7XG5cbiAgICAgIC8vIGN1cnJlbnRseSBwcm90cmFjdG9yL3dlYmRyaXZlciBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICAvLyBzZW5kaW5nIGtleXMgdG8gYWxsIGtub3duIEhUTUw1IGlucHV0IGNvbnRyb2xzXG4gICAgICAvLyBmb3IgdmFyaW91cyBicm93c2VycyAoaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNTYyKS5cbiAgICAgIGZ1bmN0aW9uIHNldElucHV0KHZhbCkge1xuICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFuZCBmb3JjZSB2YWxpZGF0aW9uLlxuICAgICAgICB2YXIgc2NyID0gXCJ2YXIgaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVJbnB1dCcpOyBcIiArXG4gICAgICAgIFwiaXB0LnZhbHVlID0gJ1wiICsgdmFsICsgXCInO1wiICtcbiAgICAgICAgXCJhbmd1bGFyLmVsZW1lbnQoaXB0KS5zY29wZSgpLiRhcHBseShmdW5jdGlvbihzKSB7IHMubXlGb3JtW2lwdC5uYW1lXS4kc2V0Vmlld1ZhbHVlKCdcIiArIHZhbCArIFwiJyk7IH0pO1wiO1xuICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoc2NyKTtcbiAgICAgIH1cblxuICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMTQ6NTc6MDAnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gdHJ1ZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnJyk7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0SW5wdXQoJzIzOjU5OjAwJyk7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICB9KTtcbiAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAgICovXG4gICd0aW1lJzogY3JlYXRlRGF0ZUlucHV0VHlwZSgndGltZScsIFRJTUVfUkVHRVhQLFxuICAgICAgY3JlYXRlRGF0ZVBhcnNlcihUSU1FX1JFR0VYUCwgWydISCcsICdtbScsICdzcycsICdzc3MnXSksXG4gICAgICdISDptbTpzcy5zc3MnKSxcblxuICAgLyoqXG4gICAgKiBAbmdkb2MgaW5wdXRcbiAgICAqIEBuYW1lIGlucHV0W3dlZWtdXG4gICAgKlxuICAgICogQGRlc2NyaXB0aW9uXG4gICAgKiBJbnB1dCB3aXRoIHdlZWstb2YtdGhlLXllYXIgdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24gdG8gRGF0ZS4gSW4gYnJvd3NlcnMgdGhhdCBkbyBub3QgeWV0IHN1cHBvcnRcbiAgICAqIHRoZSBIVE1MNSB3ZWVrIGlucHV0LCBhIHRleHQgZWxlbWVudCB3aWxsIGJlIHVzZWQuIEluIHRoYXQgY2FzZSwgdGhlIHRleHQgbXVzdCBiZSBlbnRlcmVkIGluIGEgdmFsaWQgSVNPLTg2MDFcbiAgICAqIHdlZWsgZm9ybWF0ICh5eXl5LVcjIyksIGZvciBleGFtcGxlOiBgMjAxMy1XMDJgLlxuICAgICpcbiAgICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIERhdGUgb2JqZWN0LCBvdGhlcndpc2UgQW5ndWxhciB3aWxsIHRocm93IGFuIGVycm9yLlxuICAgICogSW52YWxpZCBgRGF0ZWAgb2JqZWN0cyAoZGF0ZXMgd2hvc2UgYGdldFRpbWUoKWAgaXMgYE5hTmApIHdpbGwgYmUgcmVuZGVyZWQgYXMgYW4gZW1wdHkgc3RyaW5nLlxuICAgICpcbiAgICAqIFRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgY2FuIGJlIGRlZmluZWQgdXNpbmdcbiAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9LiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3Nlci5cbiAgICAqXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuIFRoaXMgbXVzdCBiZSBhXG4gICAgKiB2YWxpZCBJU08gd2VlayBmb3JtYXQgKHl5eXktVyMjKS5cbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC4gVGhpcyBtdXN0IGJlXG4gICAgKiBhIHZhbGlkIElTTyB3ZWVrIGZvcm1hdCAoeXl5eS1XIyMpLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAgKlxuICAgICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZSBuYW1lPVwid2Vlay1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJ3ZWVrRXhhbXBsZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8c2NyaXB0PlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ3dlZWtFeGFtcGxlJywgW10pXG4gICAgICAgIC5jb250cm9sbGVyKCdEYXRlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XG4gICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoMjAxMywgMCwgMylcbiAgICAgICAgICB9O1xuICAgICAgICB9XSk7XG4gICAgICA8L3NjcmlwdD5cbiAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRGF0ZUNvbnRyb2xsZXIgYXMgZGF0ZUN0cmxcIj5cbiAgICAgICAgPGxhYmVsPlBpY2sgYSBkYXRlIGJldHdlZW4gaW4gMjAxMzpcbiAgICAgICAgICA8aW5wdXQgaWQ9XCJleGFtcGxlSW5wdXRcIiB0eXBlPVwid2Vla1wiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS52YWx1ZVwiXG4gICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiWVlZWS1XIyNcIiBtaW49XCIyMDEyLVczMlwiXG4gICAgICAgICAgICAgICAgIG1heD1cIjIwMTMtVzUyXCIgcmVxdWlyZWQgLz5cbiAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci53ZWVrXCI+XG4gICAgICAgICAgICAgIE5vdCBhIHZhbGlkIGRhdGUhPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LVd3d1wifX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LVd3d1wiJykpO1xuICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnZXhhbXBsZS52YWx1ZScpKTtcblxuICAgICAgLy8gY3VycmVudGx5IHByb3RyYWN0b3Ivd2ViZHJpdmVyIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgIC8vIHNlbmRpbmcga2V5cyB0byBhbGwga25vd24gSFRNTDUgaW5wdXQgY29udHJvbHNcbiAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy81NjIpLlxuICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XG4gICAgICAgIC8vIHNldCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYW5kIGZvcmNlIHZhbGlkYXRpb24uXG4gICAgICAgIHZhciBzY3IgPSBcInZhciBpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZUlucHV0Jyk7IFwiICtcbiAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xuICAgICAgICBcImFuZ3VsYXIuZWxlbWVudChpcHQpLnNjb3BlKCkuJGFwcGx5KGZ1bmN0aW9uKHMpIHsgcy5teUZvcm1baXB0Lm5hbWVdLiRzZXRWaWV3VmFsdWUoJ1wiICsgdmFsICsgXCInKTsgfSk7XCI7XG4gICAgICAgIGJyb3dzZXIuZXhlY3V0ZVNjcmlwdChzY3IpO1xuICAgICAgfVxuXG4gICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcyMDEzLVcwMScpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSB0cnVlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZXRJbnB1dCgnMjAxNS1XMDEnKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgICA8L2V4YW1wbGU+XG4gICAgKi9cbiAgJ3dlZWsnOiBjcmVhdGVEYXRlSW5wdXRUeXBlKCd3ZWVrJywgV0VFS19SRUdFWFAsIHdlZWtQYXJzZXIsICd5eXl5LVd3dycpLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgaW5wdXRcbiAgICogQG5hbWUgaW5wdXRbbW9udGhdXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBJbnB1dCB3aXRoIG1vbnRoIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxuICAgKiB0aGUgSFRNTDUgbW9udGggaW5wdXQsIGEgdGV4dCBlbGVtZW50IHdpbGwgYmUgdXNlZC4gSW4gdGhhdCBjYXNlLCB0aGUgdGV4dCBtdXN0IGJlIGVudGVyZWQgaW4gYSB2YWxpZCBJU08tODYwMVxuICAgKiBtb250aCBmb3JtYXQgKHl5eXktTU0pLCBmb3IgZXhhbXBsZTogYDIwMDktMDFgLlxuICAgKlxuICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICogSW52YWxpZCBgRGF0ZWAgb2JqZWN0cyAoZGF0ZXMgd2hvc2UgYGdldFRpbWUoKWAgaXMgYE5hTmApIHdpbGwgYmUgcmVuZGVyZWQgYXMgYW4gZW1wdHkgc3RyaW5nLlxuICAgKiBJZiB0aGUgbW9kZWwgaXMgbm90IHNldCB0byB0aGUgZmlyc3Qgb2YgdGhlIG1vbnRoLCB0aGUgbmV4dCB2aWV3IHRvIG1vZGVsIHVwZGF0ZSB3aWxsIHNldCBpdFxuICAgKiB0byB0aGUgZmlyc3Qgb2YgdGhlIG1vbnRoLlxuICAgKlxuICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXG4gICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9LiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3Nlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC4gVGhpcyBtdXN0IGJlXG4gICAqIGEgdmFsaWQgSVNPIG1vbnRoIGZvcm1hdCAoeXl5eS1NTSkuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC4gVGhpcyBtdXN0XG4gICAqIGJlIGEgdmFsaWQgSVNPIG1vbnRoIGZvcm1hdCAoeXl5eS1NTSkuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG5hbWU9XCJtb250aC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJtb250aEV4YW1wbGVcIj5cbiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgIDxzY3JpcHQ+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnbW9udGhFeGFtcGxlJywgW10pXG4gICAgICAgIC5jb250cm9sbGVyKCdEYXRlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XG4gICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoMjAxMywgOSwgMSlcbiAgICAgICAgICB9O1xuICAgICAgICB9XSk7XG4gICAgIDwvc2NyaXB0PlxuICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XG4gICAgICAgPGxhYmVsIGZvcj1cImV4YW1wbGVJbnB1dFwiPlBpY2sgYSBtb250aCBpbiAyMDEzOjwvbGFiZWw+XG4gICAgICAgPGlucHV0IGlkPVwiZXhhbXBsZUlucHV0XCIgdHlwZT1cIm1vbnRoXCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cInl5eXktTU1cIiBtaW49XCIyMDEzLTAxXCIgbWF4PVwiMjAxMy0xMlwiIHJlcXVpcmVkIC8+XG4gICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxuICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLm1vbnRoXCI+XG4gICAgICAgICAgICBOb3QgYSB2YWxpZCBtb250aCE8L3NwYW4+XG4gICAgICAgPC9kaXY+XG4gICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NXCJ9fTwvdHQ+PGJyLz5cbiAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgIDwvZm9ybT5cbiAgIDwvZmlsZT5cbiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1NTVwiJykpO1xuICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xuICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnZXhhbXBsZS52YWx1ZScpKTtcblxuICAgICAgLy8gY3VycmVudGx5IHByb3RyYWN0b3Ivd2ViZHJpdmVyIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgIC8vIHNlbmRpbmcga2V5cyB0byBhbGwga25vd24gSFRNTDUgaW5wdXQgY29udHJvbHNcbiAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy81NjIpLlxuICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XG4gICAgICAgIC8vIHNldCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYW5kIGZvcmNlIHZhbGlkYXRpb24uXG4gICAgICAgIHZhciBzY3IgPSBcInZhciBpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZUlucHV0Jyk7IFwiICtcbiAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xuICAgICAgICBcImFuZ3VsYXIuZWxlbWVudChpcHQpLnNjb3BlKCkuJGFwcGx5KGZ1bmN0aW9uKHMpIHsgcy5teUZvcm1baXB0Lm5hbWVdLiRzZXRWaWV3VmFsdWUoJ1wiICsgdmFsICsgXCInKTsgfSk7XCI7XG4gICAgICAgIGJyb3dzZXIuZXhlY3V0ZVNjcmlwdChzY3IpO1xuICAgICAgfVxuXG4gICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcyMDEzLTEwJyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2V0SW5wdXQoJycpO1xuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldElucHV0KCcyMDE1LTAxJyk7XG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XG4gICAgICB9KTtcbiAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAgICovXG4gICdtb250aCc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ21vbnRoJywgTU9OVEhfUkVHRVhQLFxuICAgICBjcmVhdGVEYXRlUGFyc2VyKE1PTlRIX1JFR0VYUCwgWyd5eXl5JywgJ01NJ10pLFxuICAgICAneXl5eS1NTScpLFxuXG4gIC8qKlxuICAgKiBAbmdkb2MgaW5wdXRcbiAgICogQG5hbWUgaW5wdXRbbnVtYmVyXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGV4dCBpbnB1dCB3aXRoIG51bWJlciB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gU2V0cyB0aGUgYG51bWJlcmAgdmFsaWRhdGlvblxuICAgKiBlcnJvciBpZiBub3QgYSB2YWxpZCBudW1iZXIuXG4gICAqXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBvZiB0eXBlIGBudW1iZXJgIG90aGVyd2lzZSBBbmd1bGFyIHdpbGwgdGhyb3cgYW4gZXJyb3IuXG4gICAqIEJlIGF3YXJlIHRoYXQgYSBzdHJpbmcgY29udGFpbmluZyBhIG51bWJlciBpcyBub3QgZW5vdWdoLiBTZWUgdGhlIHtAbGluayBuZ01vZGVsOm51bWZtdH1cbiAgICogZXJyb3IgZG9jcyBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgYW4gZXhhbXBsZSBvZiBob3cgdG8gY29udmVydCB5b3VyIG1vZGVsIGlmIG5lY2Vzc2FyeS5cbiAgICogPC9kaXY+XG4gICAqXG4gICAqICMjIElzc3VlcyB3aXRoIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvblxuICAgKlxuICAgKiBJbiBicm93c2VycyB0aGF0IGZvbGxvdyB0aGVcbiAgICogW0hUTUw1IHNwZWNpZmljYXRpb25dKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjbnVtYmVyLXN0YXRlLSUyOHR5cGU9bnVtYmVyJTI5KSxcbiAgICogYGlucHV0W251bWJlcl1gIGRvZXMgbm90IHdvcmsgYXMgZXhwZWN0ZWQgd2l0aCB7QGxpbmsgbmdNb2RlbE9wdGlvbnMgYG5nTW9kZWxPcHRpb25zLmFsbG93SW52YWxpZGB9LlxuICAgKiBJZiBhIG5vbi1udW1iZXIgaXMgZW50ZXJlZCBpbiB0aGUgaW5wdXQsIHRoZSBicm93c2VyIHdpbGwgcmVwb3J0IHRoZSB2YWx1ZSBhcyBhbiBlbXB0eSBzdHJpbmcsXG4gICAqIHdoaWNoIG1lYW5zIHRoZSB2aWV3IC8gbW9kZWwgdmFsdWVzIGluIGBuZ01vZGVsYCBhbmQgc3Vic2VxdWVudGx5IHRoZSBzY29wZSB2YWx1ZVxuICAgKiB3aWxsIGFsc28gYmUgYW4gZW1wdHkgc3RyaW5nLlxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyIHRoYW4gYG1heGAuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxuICAgKiAgICBtaW5sZW5ndGguXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cbiAgICogICAgbWF4bGVuZ3RoLiBTZXR0aW5nIHRoZSBhdHRyaWJ1dGUgdG8gYSBuZWdhdGl2ZSBvciBub24tbnVtZXJpYyB2YWx1ZSwgYWxsb3dzIHZpZXcgdmFsdWVzIG9mXG4gICAqICAgIGFueSBsZW5ndGguXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcGF0dGVybiBTaW1pbGFyIHRvIGBuZ1BhdHRlcm5gIGV4Y2VwdCB0aGF0IHRoZSBhdHRyaWJ1dGUgdmFsdWUgaXMgdGhlIGFjdHVhbCBzdHJpbmdcbiAgICogICAgdGhhdCBjb250YWlucyB0aGUgcmVndWxhciBleHByZXNzaW9uIGJvZHkgdGhhdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIHJlZ3VsYXIgZXhwcmVzc2lvblxuICAgKiAgICBhcyBpbiB0aGUgbmdQYXR0ZXJuIGRpcmVjdGl2ZS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1BhdHRlcm4gU2V0cyBgcGF0dGVybmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIG5nTW9kZWwgdmFsdWUgZG9lcyBub3QgbWF0Y2hcbiAgICogICAgYSBSZWdFeHAgZm91bmQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhciBleHByZXNzaW9uIGdpdmVuIGluIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXG4gICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIFJlZ0V4cCBvYmplY3QsIHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZW4gaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBSZWdFeHBcbiAgICogICAgYWZ0ZXIgd3JhcHBpbmcgaXQgaW4gYF5gIGFuZCBgJGAgY2hhcmFjdGVycy4gRm9yIGluc3RhbmNlLCBgXCJhYmNcImAgd2lsbCBiZSBjb252ZXJ0ZWQgdG9cbiAgICogICAgYG5ldyBSZWdFeHAoJ15hYmMkJylgLjxiciAvPlxuICAgKiAgICAqKk5vdGU6KiogQXZvaWQgdXNpbmcgdGhlIGBnYCBmbGFnIG9uIHRoZSBSZWdFeHAsIGFzIGl0IHdpbGwgY2F1c2UgZWFjaCBzdWNjZXNzaXZlIHNlYXJjaCB0b1xuICAgKiAgICBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xuICAgKiAgICBhY2NvdW50LlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICAgIDxleGFtcGxlIG5hbWU9XCJudW1iZXItaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwibnVtYmVyRXhhbXBsZVwiPlxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ251bWJlckV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XG4gICAgICAgICAgICAgICAgIHZhbHVlOiAxMlxuICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICB9XSk7XG4gICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICAgPGxhYmVsPk51bWJlcjpcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS52YWx1ZVwiXG4gICAgICAgICAgICAgICAgICAgIG1pbj1cIjBcIiBtYXg9XCI5OVwiIHJlcXVpcmVkPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgIDxkaXYgcm9sZT1cImFsZXJ0XCI+XG4gICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XG4gICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLm51bWJlclwiPlxuICAgICAgICAgICAgICAgTm90IHZhbGlkIG51bWJlciE8L3NwYW4+XG4gICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWV9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlJykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzEyJyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcnKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcxMjMnKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ251bWJlcic6IG51bWJlcklucHV0VHlwZSxcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgaW5wdXRcbiAgICogQG5hbWUgaW5wdXRbdXJsXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGV4dCBpbnB1dCB3aXRoIFVSTCB2YWxpZGF0aW9uLiBTZXRzIHRoZSBgdXJsYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgY29udGVudCBpcyBub3QgYVxuICAgKiB2YWxpZCBVUkwuXG4gICAqXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gICAqICoqTm90ZToqKiBgaW5wdXRbdXJsXWAgdXNlcyBhIHJlZ2V4IHRvIHZhbGlkYXRlIHVybHMgdGhhdCBpcyBkZXJpdmVkIGZyb20gdGhlIHJlZ2V4XG4gICAqIHVzZWQgaW4gQ2hyb21pdW0uIElmIHlvdSBuZWVkIHN0cmljdGVyIHZhbGlkYXRpb24sIHlvdSBjYW4gdXNlIGBuZy1wYXR0ZXJuYCBvciBtb2RpZnlcbiAgICogdGhlIGJ1aWx0LWluIHZhbGlkYXRvcnMgKHNlZSB0aGUge0BsaW5rIGd1aWRlL2Zvcm1zIEZvcm1zIGd1aWRlfSlcbiAgICogPC9kaXY+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cbiAgICogICAgbWlubGVuZ3RoLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXG4gICAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZlxuICAgKiAgICBhbnkgbGVuZ3RoLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHBhdHRlcm4gU2ltaWxhciB0byBgbmdQYXR0ZXJuYCBleGNlcHQgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlIGlzIHRoZSBhY3R1YWwgc3RyaW5nXG4gICAqICAgIHRoYXQgY29udGFpbnMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBib2R5IHRoYXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSByZWd1bGFyIGV4cHJlc3Npb25cbiAgICogICAgYXMgaW4gdGhlIG5nUGF0dGVybiBkaXJlY3RpdmUuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBuZ01vZGVsIHZhbHVlIGRvZXMgbm90IG1hdGNoXG4gICAqICAgIGEgUmVnRXhwIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwXG4gICAqICAgIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvXG4gICAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cbiAgICogICAgKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cbiAgICogICAgc3RhcnQgYXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHNlYXJjaCdzIG1hdGNoLCB0aHVzIG5vdCB0YWtpbmcgdGhlIHdob2xlIGlucHV0IHZhbHVlIGludG9cbiAgICogICAgYWNjb3VudC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwidXJsLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInVybEV4YW1wbGVcIj5cbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd1cmxFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS51cmwgPSB7XG4gICAgICAgICAgICAgICAgIHRleHQ6ICdodHRwOi8vZ29vZ2xlLmNvbSdcbiAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgIDxsYWJlbD5VUkw6XG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ1cmxcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cInVybC50ZXh0XCIgcmVxdWlyZWQ+XG4gICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IudXJsXCI+XG4gICAgICAgICAgICAgICBOb3QgdmFsaWQgdXJsITwvc3Bhbj5cbiAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgIDx0dD50ZXh0ID0ge3t1cmwudGV4dH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnVybCA9IHt7ISFteUZvcm0uJGVycm9yLnVybH19PC90dD48YnIvPlxuICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgPC9maWxlPlxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgICAgdmFyIHRleHQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3VybC50ZXh0JykpO1xuICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1cmwudGV4dCcpKTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2h0dHA6Ly9nb29nbGUuY29tJyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcnKTtcblxuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0VxdWFsKCd0ZXh0ID0nKTtcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBub3QgdXJsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2JveCcpO1xuXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cbiAgICovXG4gICd1cmwnOiB1cmxJbnB1dFR5cGUsXG5cblxuICAvKipcbiAgICogQG5nZG9jIGlucHV0XG4gICAqIEBuYW1lIGlucHV0W2VtYWlsXVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGV4dCBpbnB1dCB3aXRoIGVtYWlsIHZhbGlkYXRpb24uIFNldHMgdGhlIGBlbWFpbGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgbm90IGEgdmFsaWQgZW1haWxcbiAgICogYWRkcmVzcy5cbiAgICpcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAgICogKipOb3RlOioqIGBpbnB1dFtlbWFpbF1gIHVzZXMgYSByZWdleCB0byB2YWxpZGF0ZSBlbWFpbCBhZGRyZXNzZXMgdGhhdCBpcyBkZXJpdmVkIGZyb20gdGhlIHJlZ2V4XG4gICAqIHVzZWQgaW4gQ2hyb21pdW0uIElmIHlvdSBuZWVkIHN0cmljdGVyIHZhbGlkYXRpb24gKGUuZy4gcmVxdWlyaW5nIGEgdG9wLWxldmVsIGRvbWFpbiksIHlvdSBjYW5cbiAgICogdXNlIGBuZy1wYXR0ZXJuYCBvciBtb2RpZnkgdGhlIGJ1aWx0LWluIHZhbGlkYXRvcnMgKHNlZSB0aGUge0BsaW5rIGd1aWRlL2Zvcm1zIEZvcm1zIGd1aWRlfSlcbiAgICogPC9kaXY+XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cbiAgICogICAgbWlubGVuZ3RoLlxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXG4gICAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZlxuICAgKiAgICBhbnkgbGVuZ3RoLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHBhdHRlcm4gU2ltaWxhciB0byBgbmdQYXR0ZXJuYCBleGNlcHQgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlIGlzIHRoZSBhY3R1YWwgc3RyaW5nXG4gICAqICAgIHRoYXQgY29udGFpbnMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBib2R5IHRoYXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSByZWd1bGFyIGV4cHJlc3Npb25cbiAgICogICAgYXMgaW4gdGhlIG5nUGF0dGVybiBkaXJlY3RpdmUuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBuZ01vZGVsIHZhbHVlIGRvZXMgbm90IG1hdGNoXG4gICAqICAgIGEgUmVnRXhwIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwXG4gICAqICAgIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvXG4gICAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cbiAgICogICAgKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cbiAgICogICAgc3RhcnQgYXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHNlYXJjaCdzIG1hdGNoLCB0aHVzIG5vdCB0YWtpbmcgdGhlIHdob2xlIGlucHV0IHZhbHVlIGludG9cbiAgICogICAgYWNjb3VudC5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwiZW1haWwtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwiZW1haWxFeGFtcGxlXCI+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZW1haWxFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgICRzY29wZS5lbWFpbCA9IHtcbiAgICAgICAgICAgICAgICAgdGV4dDogJ21lQGV4YW1wbGUuY29tJ1xuICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICB9XSk7XG4gICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgICAgIDxsYWJlbD5FbWFpbDpcbiAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZW1haWxcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImVtYWlsLnRleHRcIiByZXF1aXJlZD5cbiAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgIDxkaXYgcm9sZT1cImFsZXJ0XCI+XG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLmVtYWlsXCI+XG4gICAgICAgICAgICAgICAgIE5vdCB2YWxpZCBlbWFpbCE8L3NwYW4+XG4gICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgPHR0PnRleHQgPSB7e2VtYWlsLnRleHR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XG4gICAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IuZW1haWwgPSB7eyEhbXlGb3JtLiRlcnJvci5lbWFpbH19PC90dD48YnIvPlxuICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICA8L2ZpbGU+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgICB2YXIgdGV4dCA9IGVsZW1lbnQoYnkuYmluZGluZygnZW1haWwudGV4dCcpKTtcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XG4gICAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnZW1haWwudGV4dCcpKTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ21lQGV4YW1wbGUuY29tJyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcnKTtcbiAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9FcXVhbCgndGV4dCA9Jyk7XG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbm90IGVtYWlsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ3h4eCcpO1xuXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cbiAgICovXG4gICdlbWFpbCc6IGVtYWlsSW5wdXRUeXBlLFxuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFtyYWRpb11cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEhUTUwgcmFkaW8gYnV0dG9uLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGBuZ01vZGVsYCBleHByZXNzaW9uIHNob3VsZCBiZSBzZXQgd2hlbiBzZWxlY3RlZC5cbiAgICogICAgTm90ZSB0aGF0IGB2YWx1ZWAgb25seSBzdXBwb3J0cyBgc3RyaW5nYCB2YWx1ZXMsIGkuZS4gdGhlIHNjb3BlIG1vZGVsIG5lZWRzIHRvIGJlIGEgc3RyaW5nLFxuICAgKiAgICB0b28uIFVzZSBgbmdWYWx1ZWAgaWYgeW91IG5lZWQgY29tcGxleCBtb2RlbHMgKGBudW1iZXJgLCBgb2JqZWN0YCwgLi4uKS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nVmFsdWUgQW5ndWxhciBleHByZXNzaW9uIHRvIHdoaWNoIGBuZ01vZGVsYCB3aWxsIGJlIGJlIHNldCB3aGVuIHRoZSByYWRpb1xuICAgKiAgICBpcyBzZWxlY3RlZC4gU2hvdWxkIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgYHZhbHVlYCBhdHRyaWJ1dGUgaWYgeW91IG5lZWRcbiAgICogICAgYSBub24tc3RyaW5nIGBuZ01vZGVsYCAoYGJvb2xlYW5gLCBgYXJyYXlgLCAuLi4pLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgICAgPGV4YW1wbGUgbmFtZT1cInJhZGlvLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInJhZGlvRXhhbXBsZVwiPlxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3JhZGlvRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuY29sb3IgPSB7XG4gICAgICAgICAgICAgICAgIG5hbWU6ICdibHVlJ1xuICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICRzY29wZS5zcGVjaWFsVmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgIFwiaWRcIjogXCIxMjM0NVwiLFxuICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IFwiZ3JlZW5cIlxuICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICB9XSk7XG4gICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuZy1tb2RlbD1cImNvbG9yLm5hbWVcIiB2YWx1ZT1cInJlZFwiPlxuICAgICAgICAgICAgIFJlZFxuICAgICAgICAgICA8L2xhYmVsPjxici8+XG4gICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJjb2xvci5uYW1lXCIgbmctdmFsdWU9XCJzcGVjaWFsVmFsdWVcIj5cbiAgICAgICAgICAgICBHcmVlblxuICAgICAgICAgICA8L2xhYmVsPjxici8+XG4gICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJjb2xvci5uYW1lXCIgdmFsdWU9XCJibHVlXCI+XG4gICAgICAgICAgICAgQmx1ZVxuICAgICAgICAgICA8L2xhYmVsPjxici8+XG4gICAgICAgICAgIDx0dD5jb2xvciA9IHt7Y29sb3IubmFtZSB8IGpzb259fTwvdHQ+PGJyLz5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgTm90ZSB0aGF0IGBuZy12YWx1ZT1cInNwZWNpYWxWYWx1ZVwiYCBzZXRzIHJhZGlvIGl0ZW0ncyB2YWx1ZSB0byBiZSB0aGUgdmFsdWUgb2YgYCRzY29wZS5zcGVjaWFsVmFsdWVgLlxuICAgICAgICA8L2ZpbGU+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgICBpdCgnc2hvdWxkIGNoYW5nZSBzdGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNvbG9yID0gZWxlbWVudChieS5iaW5kaW5nKCdjb2xvci5uYW1lJykpO1xuXG4gICAgICAgICAgICBleHBlY3QoY29sb3IuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2JsdWUnKTtcblxuICAgICAgICAgICAgZWxlbWVudC5hbGwoYnkubW9kZWwoJ2NvbG9yLm5hbWUnKSkuZ2V0KDApLmNsaWNrKCk7XG5cbiAgICAgICAgICAgIGV4cGVjdChjb2xvci5nZXRUZXh0KCkpLnRvQ29udGFpbigncmVkJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgIDwvZXhhbXBsZT5cbiAgICovXG4gICdyYWRpbyc6IHJhZGlvSW5wdXRUeXBlLFxuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBpbnB1dFxuICAgKiBAbmFtZSBpbnB1dFtjaGVja2JveF1cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEhUTUwgY2hlY2tib3guXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZ1RydWVWYWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIHNlbGVjdGVkLlxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZ0ZhbHNlVmFsdWUgVGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBleHByZXNzaW9uIHNob3VsZCBiZSBzZXQgd2hlbiBub3Qgc2VsZWN0ZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgICAgPGV4YW1wbGUgbmFtZT1cImNoZWNrYm94LWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImNoZWNrYm94RXhhbXBsZVwiPlxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgPHNjcmlwdD5cbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2NoZWNrYm94RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tib3hNb2RlbCA9IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTEgOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlMiA6ICdZRVMnXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgfV0pO1xuICAgICAgICAgPC9zY3JpcHQ+XG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICAgIDxsYWJlbD5WYWx1ZTE6XG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tib3hNb2RlbC52YWx1ZTFcIj5cbiAgICAgICAgICAgPC9sYWJlbD48YnIvPlxuICAgICAgICAgICA8bGFiZWw+VmFsdWUyOlxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrYm94TW9kZWwudmFsdWUyXCJcbiAgICAgICAgICAgICAgICAgICAgbmctdHJ1ZS12YWx1ZT1cIidZRVMnXCIgbmctZmFsc2UtdmFsdWU9XCInTk8nXCI+XG4gICAgICAgICAgICA8L2xhYmVsPjxici8+XG4gICAgICAgICAgIDx0dD52YWx1ZTEgPSB7e2NoZWNrYm94TW9kZWwudmFsdWUxfX08L3R0Pjxici8+XG4gICAgICAgICAgIDx0dD52YWx1ZTIgPSB7e2NoZWNrYm94TW9kZWwudmFsdWUyfX08L3R0Pjxici8+XG4gICAgICAgICAgPC9mb3JtPlxuICAgICAgICA8L2ZpbGU+XG4gICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgICBpdCgnc2hvdWxkIGNoYW5nZSBzdGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlMSA9IGVsZW1lbnQoYnkuYmluZGluZygnY2hlY2tib3hNb2RlbC52YWx1ZTEnKSk7XG4gICAgICAgICAgICB2YXIgdmFsdWUyID0gZWxlbWVudChieS5iaW5kaW5nKCdjaGVja2JveE1vZGVsLnZhbHVlMicpKTtcblxuICAgICAgICAgICAgZXhwZWN0KHZhbHVlMS5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbHVlMi5nZXRUZXh0KCkpLnRvQ29udGFpbignWUVTJyk7XG5cbiAgICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrYm94TW9kZWwudmFsdWUxJykpLmNsaWNrKCk7XG4gICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2JveE1vZGVsLnZhbHVlMicpKS5jbGljaygpO1xuXG4gICAgICAgICAgICBleHBlY3QodmFsdWUxLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xuICAgICAgICAgICAgZXhwZWN0KHZhbHVlMi5nZXRUZXh0KCkpLnRvQ29udGFpbignTk8nKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAgKi9cbiAgJ2NoZWNrYm94JzogY2hlY2tib3hJbnB1dFR5cGUsXG5cbiAgJ2hpZGRlbic6IG5vb3AsXG4gICdidXR0b24nOiBub29wLFxuICAnc3VibWl0Jzogbm9vcCxcbiAgJ3Jlc2V0Jzogbm9vcCxcbiAgJ2ZpbGUnOiBub29wXG59O1xuXG5mdW5jdGlvbiBzdHJpbmdCYXNlZElucHV0VHlwZShjdHJsKSB7XG4gIGN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSA/IHZhbHVlIDogdmFsdWUudG9TdHJpbmcoKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRleHRJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xuICBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpO1xuICBzdHJpbmdCYXNlZElucHV0VHlwZShjdHJsKTtcbn1cblxuZnVuY3Rpb24gYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7XG4gIHZhciB0eXBlID0gbG93ZXJjYXNlKGVsZW1lbnRbMF0udHlwZSk7XG5cbiAgLy8gSW4gY29tcG9zaXRpb24gbW9kZSwgdXNlcnMgYXJlIHN0aWxsIGlucHV0aW5nIGludGVybWVkaWF0ZSB0ZXh0IGJ1ZmZlcixcbiAgLy8gaG9sZCB0aGUgbGlzdGVuZXIgdW50aWwgY29tcG9zaXRpb24gaXMgZG9uZS5cbiAgLy8gTW9yZSBhYm91dCBjb21wb3NpdGlvbiBldmVudHM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Db21wb3NpdGlvbkV2ZW50XG4gIGlmICghJHNuaWZmZXIuYW5kcm9pZCkge1xuICAgIHZhciBjb21wb3NpbmcgPSBmYWxzZTtcblxuICAgIGVsZW1lbnQub24oJ2NvbXBvc2l0aW9uc3RhcnQnLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICBjb21wb3NpbmcgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgZWxlbWVudC5vbignY29tcG9zaXRpb25lbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGNvbXBvc2luZyA9IGZhbHNlO1xuICAgICAgbGlzdGVuZXIoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICRicm93c2VyLmRlZmVyLmNhbmNlbCh0aW1lb3V0KTtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoY29tcG9zaW5nKSByZXR1cm47XG4gICAgdmFyIHZhbHVlID0gZWxlbWVudC52YWwoKSxcbiAgICAgICAgZXZlbnQgPSBldiAmJiBldi50eXBlO1xuXG4gICAgLy8gQnkgZGVmYXVsdCB3ZSB3aWxsIHRyaW0gdGhlIHZhbHVlXG4gICAgLy8gSWYgdGhlIGF0dHJpYnV0ZSBuZy10cmltIGV4aXN0cyB3ZSB3aWxsIGF2b2lkIHRyaW1taW5nXG4gICAgLy8gSWYgaW5wdXQgdHlwZSBpcyAncGFzc3dvcmQnLCB0aGUgdmFsdWUgaXMgbmV2ZXIgdHJpbW1lZFxuICAgIGlmICh0eXBlICE9PSAncGFzc3dvcmQnICYmICghYXR0ci5uZ1RyaW0gfHwgYXR0ci5uZ1RyaW0gIT09ICdmYWxzZScpKSB7XG4gICAgICB2YWx1ZSA9IHRyaW0odmFsdWUpO1xuICAgIH1cblxuICAgIC8vIElmIGEgY29udHJvbCBpcyBzdWZmZXJpbmcgZnJvbSBiYWQgaW5wdXQgKGR1ZSB0byBuYXRpdmUgdmFsaWRhdG9ycyksIGJyb3dzZXJzIGRpc2NhcmQgaXRzXG4gICAgLy8gdmFsdWUsIHNvIGl0IG1heSBiZSBuZWNlc3NhcnkgdG8gcmV2YWxpZGF0ZSAoYnkgY2FsbGluZyAkc2V0Vmlld1ZhbHVlIGFnYWluKSBldmVuIGlmIHRoZVxuICAgIC8vIGNvbnRyb2wncyB2YWx1ZSBpcyB0aGUgc2FtZSBlbXB0eSB2YWx1ZSB0d2ljZSBpbiBhIHJvdy5cbiAgICBpZiAoY3RybC4kdmlld1ZhbHVlICE9PSB2YWx1ZSB8fCAodmFsdWUgPT09ICcnICYmIGN0cmwuJCRoYXNOYXRpdmVWYWxpZGF0b3JzKSkge1xuICAgICAgY3RybC4kc2V0Vmlld1ZhbHVlKHZhbHVlLCBldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIGlmIHRoZSBicm93c2VyIGRvZXMgc3VwcG9ydCBcImlucHV0XCIgZXZlbnQsIHdlIGFyZSBmaW5lIC0gZXhjZXB0IG9uIElFOSB3aGljaCBkb2Vzbid0IGZpcmUgdGhlXG4gIC8vIGlucHV0IGV2ZW50IG9uIGJhY2tzcGFjZSwgZGVsZXRlIG9yIGN1dFxuICBpZiAoJHNuaWZmZXIuaGFzRXZlbnQoJ2lucHV0JykpIHtcbiAgICBlbGVtZW50Lm9uKCdpbnB1dCcsIGxpc3RlbmVyKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGltZW91dDtcblxuICAgIHZhciBkZWZlckxpc3RlbmVyID0gZnVuY3Rpb24oZXYsIGlucHV0LCBvcmlnVmFsdWUpIHtcbiAgICAgIGlmICghdGltZW91dCkge1xuICAgICAgICB0aW1lb3V0ID0gJGJyb3dzZXIuZGVmZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgaWYgKCFpbnB1dCB8fCBpbnB1dC52YWx1ZSAhPT0gb3JpZ1ZhbHVlKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcihldik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZWxlbWVudC5vbigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIga2V5ID0gZXZlbnQua2V5Q29kZTtcblxuICAgICAgLy8gaWdub3JlXG4gICAgICAvLyAgICBjb21tYW5kICAgICAgICAgICAgbW9kaWZpZXJzICAgICAgICAgICAgICAgICAgIGFycm93c1xuICAgICAgaWYgKGtleSA9PT0gOTEgfHwgKDE1IDwga2V5ICYmIGtleSA8IDE5KSB8fCAoMzcgPD0ga2V5ICYmIGtleSA8PSA0MCkpIHJldHVybjtcblxuICAgICAgZGVmZXJMaXN0ZW5lcihldmVudCwgdGhpcywgdGhpcy52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICAvLyBpZiB1c2VyIG1vZGlmaWVzIGlucHV0IHZhbHVlIHVzaW5nIGNvbnRleHQgbWVudSBpbiBJRSwgd2UgbmVlZCBcInBhc3RlXCIgYW5kIFwiY3V0XCIgZXZlbnRzIHRvIGNhdGNoIGl0XG4gICAgaWYgKCRzbmlmZmVyLmhhc0V2ZW50KCdwYXN0ZScpKSB7XG4gICAgICBlbGVtZW50Lm9uKCdwYXN0ZSBjdXQnLCBkZWZlckxpc3RlbmVyKTtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB1c2VyIHBhc3RlIGludG8gaW5wdXQgdXNpbmcgbW91c2Ugb24gb2xkZXIgYnJvd3NlclxuICAvLyBvciBmb3JtIGF1dG9jb21wbGV0ZSBvbiBuZXdlciBicm93c2VyLCB3ZSBuZWVkIFwiY2hhbmdlXCIgZXZlbnQgdG8gY2F0Y2ggaXRcbiAgZWxlbWVudC5vbignY2hhbmdlJywgbGlzdGVuZXIpO1xuXG4gIGN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgIGVsZW1lbnQudmFsKGN0cmwuJGlzRW1wdHkoY3RybC4kdmlld1ZhbHVlKSA/ICcnIDogY3RybC4kdmlld1ZhbHVlKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gd2Vla1BhcnNlcihpc29XZWVrLCBleGlzdGluZ0RhdGUpIHtcbiAgaWYgKGlzRGF0ZShpc29XZWVrKSkge1xuICAgIHJldHVybiBpc29XZWVrO1xuICB9XG5cbiAgaWYgKGlzU3RyaW5nKGlzb1dlZWspKSB7XG4gICAgV0VFS19SRUdFWFAubGFzdEluZGV4ID0gMDtcbiAgICB2YXIgcGFydHMgPSBXRUVLX1JFR0VYUC5leGVjKGlzb1dlZWspO1xuICAgIGlmIChwYXJ0cykge1xuICAgICAgdmFyIHllYXIgPSArcGFydHNbMV0sXG4gICAgICAgICAgd2VlayA9ICtwYXJ0c1syXSxcbiAgICAgICAgICBob3VycyA9IDAsXG4gICAgICAgICAgbWludXRlcyA9IDAsXG4gICAgICAgICAgc2Vjb25kcyA9IDAsXG4gICAgICAgICAgbWlsbGlzZWNvbmRzID0gMCxcbiAgICAgICAgICBmaXJzdFRodXJzID0gZ2V0Rmlyc3RUaHVyc2RheU9mWWVhcih5ZWFyKSxcbiAgICAgICAgICBhZGREYXlzID0gKHdlZWsgLSAxKSAqIDc7XG5cbiAgICAgIGlmIChleGlzdGluZ0RhdGUpIHtcbiAgICAgICAgaG91cnMgPSBleGlzdGluZ0RhdGUuZ2V0SG91cnMoKTtcbiAgICAgICAgbWludXRlcyA9IGV4aXN0aW5nRGF0ZS5nZXRNaW51dGVzKCk7XG4gICAgICAgIHNlY29uZHMgPSBleGlzdGluZ0RhdGUuZ2V0U2Vjb25kcygpO1xuICAgICAgICBtaWxsaXNlY29uZHMgPSBleGlzdGluZ0RhdGUuZ2V0TWlsbGlzZWNvbmRzKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCAwLCBmaXJzdFRodXJzLmdldERhdGUoKSArIGFkZERheXMsIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBtaWxsaXNlY29uZHMpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBOYU47XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURhdGVQYXJzZXIocmVnZXhwLCBtYXBwaW5nKSB7XG4gIHJldHVybiBmdW5jdGlvbihpc28sIGRhdGUpIHtcbiAgICB2YXIgcGFydHMsIG1hcDtcblxuICAgIGlmIChpc0RhdGUoaXNvKSkge1xuICAgICAgcmV0dXJuIGlzbztcbiAgICB9XG5cbiAgICBpZiAoaXNTdHJpbmcoaXNvKSkge1xuICAgICAgLy8gV2hlbiBhIGRhdGUgaXMgSlNPTidpZmllZCB0byB3cmFwcyBpdHNlbGYgaW5zaWRlIG9mIGFuIGV4dHJhXG4gICAgICAvLyBzZXQgb2YgZG91YmxlIHF1b3Rlcy4gVGhpcyBtYWtlcyB0aGUgZGF0ZSBwYXJzaW5nIGNvZGUgdW5hYmxlXG4gICAgICAvLyB0byBtYXRjaCB0aGUgZGF0ZSBzdHJpbmcgYW5kIHBhcnNlIGl0IGFzIGEgZGF0ZS5cbiAgICAgIGlmIChpc28uY2hhckF0KDApID09ICdcIicgJiYgaXNvLmNoYXJBdChpc28ubGVuZ3RoIC0gMSkgPT0gJ1wiJykge1xuICAgICAgICBpc28gPSBpc28uc3Vic3RyaW5nKDEsIGlzby5sZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIGlmIChJU09fREFURV9SRUdFWFAudGVzdChpc28pKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShpc28pO1xuICAgICAgfVxuICAgICAgcmVnZXhwLmxhc3RJbmRleCA9IDA7XG4gICAgICBwYXJ0cyA9IHJlZ2V4cC5leGVjKGlzbyk7XG5cbiAgICAgIGlmIChwYXJ0cykge1xuICAgICAgICBwYXJ0cy5zaGlmdCgpO1xuICAgICAgICBpZiAoZGF0ZSkge1xuICAgICAgICAgIG1hcCA9IHtcbiAgICAgICAgICAgIHl5eXk6IGRhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICAgIE1NOiBkYXRlLmdldE1vbnRoKCkgKyAxLFxuICAgICAgICAgICAgZGQ6IGRhdGUuZ2V0RGF0ZSgpLFxuICAgICAgICAgICAgSEg6IGRhdGUuZ2V0SG91cnMoKSxcbiAgICAgICAgICAgIG1tOiBkYXRlLmdldE1pbnV0ZXMoKSxcbiAgICAgICAgICAgIHNzOiBkYXRlLmdldFNlY29uZHMoKSxcbiAgICAgICAgICAgIHNzczogZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSAvIDEwMDBcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1hcCA9IHsgeXl5eTogMTk3MCwgTU06IDEsIGRkOiAxLCBISDogMCwgbW06IDAsIHNzOiAwLCBzc3M6IDAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvckVhY2gocGFydHMsIGZ1bmN0aW9uKHBhcnQsIGluZGV4KSB7XG4gICAgICAgICAgaWYgKGluZGV4IDwgbWFwcGluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgIG1hcFttYXBwaW5nW2luZGV4XV0gPSArcGFydDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IERhdGUobWFwLnl5eXksIG1hcC5NTSAtIDEsIG1hcC5kZCwgbWFwLkhILCBtYXAubW0sIG1hcC5zcyB8fCAwLCBtYXAuc3NzICogMTAwMCB8fCAwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gTmFOO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEYXRlSW5wdXRUeXBlKHR5cGUsIHJlZ2V4cCwgcGFyc2VEYXRlLCBmb3JtYXQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGR5bmFtaWNEYXRlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIsICRmaWx0ZXIpIHtcbiAgICBiYWRJbnB1dENoZWNrZXIoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpO1xuICAgIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XG4gICAgdmFyIHRpbWV6b25lID0gY3RybCAmJiBjdHJsLiRvcHRpb25zICYmIGN0cmwuJG9wdGlvbnMudGltZXpvbmU7XG4gICAgdmFyIHByZXZpb3VzRGF0ZTtcblxuICAgIGN0cmwuJCRwYXJzZXJOYW1lID0gdHlwZTtcbiAgICBjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChjdHJsLiRpc0VtcHR5KHZhbHVlKSkgcmV0dXJuIG51bGw7XG4gICAgICBpZiAocmVnZXhwLnRlc3QodmFsdWUpKSB7XG4gICAgICAgIC8vIE5vdGU6IFdlIGNhbm5vdCByZWFkIGN0cmwuJG1vZGVsVmFsdWUsIGFzIHRoZXJlIG1pZ2h0IGJlIGEgZGlmZmVyZW50XG4gICAgICAgIC8vIHBhcnNlci9mb3JtYXR0ZXIgaW4gdGhlIHByb2Nlc3NpbmcgY2hhaW4gc28gdGhhdCB0aGUgbW9kZWxcbiAgICAgICAgLy8gY29udGFpbnMgc29tZSBkaWZmZXJlbnQgZGF0YSBmb3JtYXQhXG4gICAgICAgIHZhciBwYXJzZWREYXRlID0gcGFyc2VEYXRlKHZhbHVlLCBwcmV2aW91c0RhdGUpO1xuICAgICAgICBpZiAodGltZXpvbmUpIHtcbiAgICAgICAgICBwYXJzZWREYXRlID0gY29udmVydFRpbWV6b25lVG9Mb2NhbChwYXJzZWREYXRlLCB0aW1lem9uZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlZERhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0pO1xuXG4gICAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgJiYgIWlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgJG5nTW9kZWxNaW5FcnIoJ2RhdGVmbXQnLCAnRXhwZWN0ZWQgYHswfWAgdG8gYmUgYSBkYXRlJywgdmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKGlzVmFsaWREYXRlKHZhbHVlKSkge1xuICAgICAgICBwcmV2aW91c0RhdGUgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHByZXZpb3VzRGF0ZSAmJiB0aW1lem9uZSkge1xuICAgICAgICAgIHByZXZpb3VzRGF0ZSA9IGNvbnZlcnRUaW1lem9uZVRvTG9jYWwocHJldmlvdXNEYXRlLCB0aW1lem9uZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICRmaWx0ZXIoJ2RhdGUnKSh2YWx1ZSwgZm9ybWF0LCB0aW1lem9uZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmV2aW91c0RhdGUgPSBudWxsO1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoaXNEZWZpbmVkKGF0dHIubWluKSB8fCBhdHRyLm5nTWluKSB7XG4gICAgICB2YXIgbWluVmFsO1xuICAgICAgY3RybC4kdmFsaWRhdG9ycy5taW4gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gIWlzVmFsaWREYXRlKHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtaW5WYWwpIHx8IHBhcnNlRGF0ZSh2YWx1ZSkgPj0gbWluVmFsO1xuICAgICAgfTtcbiAgICAgIGF0dHIuJG9ic2VydmUoJ21pbicsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICBtaW5WYWwgPSBwYXJzZU9ic2VydmVkRGF0ZVZhbHVlKHZhbCk7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoaXNEZWZpbmVkKGF0dHIubWF4KSB8fCBhdHRyLm5nTWF4KSB7XG4gICAgICB2YXIgbWF4VmFsO1xuICAgICAgY3RybC4kdmFsaWRhdG9ycy5tYXggPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gIWlzVmFsaWREYXRlKHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtYXhWYWwpIHx8IHBhcnNlRGF0ZSh2YWx1ZSkgPD0gbWF4VmFsO1xuICAgICAgfTtcbiAgICAgIGF0dHIuJG9ic2VydmUoJ21heCcsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICBtYXhWYWwgPSBwYXJzZU9ic2VydmVkRGF0ZVZhbHVlKHZhbCk7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1ZhbGlkRGF0ZSh2YWx1ZSkge1xuICAgICAgLy8gSW52YWxpZCBEYXRlOiBnZXRUaW1lKCkgcmV0dXJucyBOYU5cbiAgICAgIHJldHVybiB2YWx1ZSAmJiAhKHZhbHVlLmdldFRpbWUgJiYgdmFsdWUuZ2V0VGltZSgpICE9PSB2YWx1ZS5nZXRUaW1lKCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlT2JzZXJ2ZWREYXRlVmFsdWUodmFsKSB7XG4gICAgICByZXR1cm4gaXNEZWZpbmVkKHZhbCkgPyAoaXNEYXRlKHZhbCkgPyB2YWwgOiBwYXJzZURhdGUodmFsKSkgOiB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBiYWRJbnB1dENoZWNrZXIoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpIHtcbiAgdmFyIG5vZGUgPSBlbGVtZW50WzBdO1xuICB2YXIgbmF0aXZlVmFsaWRhdGlvbiA9IGN0cmwuJCRoYXNOYXRpdmVWYWxpZGF0b3JzID0gaXNPYmplY3Qobm9kZS52YWxpZGl0eSk7XG4gIGlmIChuYXRpdmVWYWxpZGF0aW9uKSB7XG4gICAgY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgdmFsaWRpdHkgPSBlbGVtZW50LnByb3AoVkFMSURJVFlfU1RBVEVfUFJPUEVSVFkpIHx8IHt9O1xuICAgICAgLy8gRGV0ZWN0IGJ1ZyBpbiBGRjM1IGZvciBpbnB1dFtlbWFpbF0gKGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTEwNjQ0MzApOlxuICAgICAgLy8gLSBhbHNvIHNldHMgdmFsaWRpdHkuYmFkSW5wdXQgKHNob3VsZCBvbmx5IGJlIHZhbGlkaXR5LnR5cGVNaXNtYXRjaCkuXG4gICAgICAvLyAtIHNlZSBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS9mb3Jtcy5odG1sI2UtbWFpbC1zdGF0ZS0odHlwZT1lbWFpbClcbiAgICAgIC8vIC0gY2FuIGlnbm9yZSB0aGlzIGNhc2UgYXMgd2UgY2FuIHN0aWxsIHJlYWQgb3V0IHRoZSBlcnJvbmVvdXMgZW1haWwuLi5cbiAgICAgIHJldHVybiB2YWxpZGl0eS5iYWRJbnB1dCAmJiAhdmFsaWRpdHkudHlwZU1pc21hdGNoID8gdW5kZWZpbmVkIDogdmFsdWU7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbnVtYmVySW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcbiAgYmFkSW5wdXRDaGVja2VyKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKTtcbiAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcblxuICBjdHJsLiQkcGFyc2VyTmFtZSA9ICdudW1iZXInO1xuICBjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoY3RybC4kaXNFbXB0eSh2YWx1ZSkpICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKE5VTUJFUl9SRUdFWFAudGVzdCh2YWx1ZSkpIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9KTtcblxuICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoIWN0cmwuJGlzRW1wdHkodmFsdWUpKSB7XG4gICAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyAkbmdNb2RlbE1pbkVycignbnVtZm10JywgJ0V4cGVjdGVkIGB7MH1gIHRvIGJlIGEgbnVtYmVyJywgdmFsdWUpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pO1xuXG4gIGlmIChpc0RlZmluZWQoYXR0ci5taW4pIHx8IGF0dHIubmdNaW4pIHtcbiAgICB2YXIgbWluVmFsO1xuICAgIGN0cmwuJHZhbGlkYXRvcnMubWluID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtaW5WYWwpIHx8IHZhbHVlID49IG1pblZhbDtcbiAgICB9O1xuXG4gICAgYXR0ci4kb2JzZXJ2ZSgnbWluJywgZnVuY3Rpb24odmFsKSB7XG4gICAgICBpZiAoaXNEZWZpbmVkKHZhbCkgJiYgIWlzTnVtYmVyKHZhbCkpIHtcbiAgICAgICAgdmFsID0gcGFyc2VGbG9hdCh2YWwsIDEwKTtcbiAgICAgIH1cbiAgICAgIG1pblZhbCA9IGlzTnVtYmVyKHZhbCkgJiYgIWlzTmFOKHZhbCkgPyB2YWwgOiB1bmRlZmluZWQ7XG4gICAgICAvLyBUT0RPKG1hdHNrbyk6IGltcGxlbWVudCB2YWxpZGF0ZUxhdGVyIHRvIHJlZHVjZSBudW1iZXIgb2YgdmFsaWRhdGlvbnNcbiAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoaXNEZWZpbmVkKGF0dHIubWF4KSB8fCBhdHRyLm5nTWF4KSB7XG4gICAgdmFyIG1heFZhbDtcbiAgICBjdHJsLiR2YWxpZGF0b3JzLm1heCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgfHwgaXNVbmRlZmluZWQobWF4VmFsKSB8fCB2YWx1ZSA8PSBtYXhWYWw7XG4gICAgfTtcblxuICAgIGF0dHIuJG9ic2VydmUoJ21heCcsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgaWYgKGlzRGVmaW5lZCh2YWwpICYmICFpc051bWJlcih2YWwpKSB7XG4gICAgICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsLCAxMCk7XG4gICAgICB9XG4gICAgICBtYXhWYWwgPSBpc051bWJlcih2YWwpICYmICFpc05hTih2YWwpID8gdmFsIDogdW5kZWZpbmVkO1xuICAgICAgLy8gVE9ETyhtYXRza28pOiBpbXBsZW1lbnQgdmFsaWRhdGVMYXRlciB0byByZWR1Y2UgbnVtYmVyIG9mIHZhbGlkYXRpb25zXG4gICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVybElucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7XG4gIC8vIE5vdGU6IG5vIGJhZElucHV0Q2hlY2tlciBoZXJlIGJ5IHB1cnBvc2UgYXMgYHVybGAgaXMgb25seSBhIHZhbGlkYXRpb25cbiAgLy8gaW4gYnJvd3NlcnMsIGkuZS4gd2UgY2FuIGFsd2F5cyByZWFkIG91dCBpbnB1dC52YWx1ZSBldmVuIGlmIGl0IGlzIG5vdCB2YWxpZCFcbiAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcbiAgc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCk7XG5cbiAgY3RybC4kJHBhcnNlck5hbWUgPSAndXJsJztcbiAgY3RybC4kdmFsaWRhdG9ycy51cmwgPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcbiAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgfHwgVVJMX1JFR0VYUC50ZXN0KHZhbHVlKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZW1haWxJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xuICAvLyBOb3RlOiBubyBiYWRJbnB1dENoZWNrZXIgaGVyZSBieSBwdXJwb3NlIGFzIGB1cmxgIGlzIG9ubHkgYSB2YWxpZGF0aW9uXG4gIC8vIGluIGJyb3dzZXJzLCBpLmUuIHdlIGNhbiBhbHdheXMgcmVhZCBvdXQgaW5wdXQudmFsdWUgZXZlbiBpZiBpdCBpcyBub3QgdmFsaWQhXG4gIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XG4gIHN0cmluZ0Jhc2VkSW5wdXRUeXBlKGN0cmwpO1xuXG4gIGN0cmwuJCRwYXJzZXJOYW1lID0gJ2VtYWlsJztcbiAgY3RybC4kdmFsaWRhdG9ycy5lbWFpbCA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xuICAgIHZhciB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xuICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBFTUFJTF9SRUdFWFAudGVzdCh2YWx1ZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHJhZGlvSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gIC8vIG1ha2UgdGhlIG5hbWUgdW5pcXVlLCBpZiBub3QgZGVmaW5lZFxuICBpZiAoaXNVbmRlZmluZWQoYXR0ci5uYW1lKSkge1xuICAgIGVsZW1lbnQuYXR0cignbmFtZScsIG5leHRVaWQoKSk7XG4gIH1cblxuICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbihldikge1xuICAgIGlmIChlbGVtZW50WzBdLmNoZWNrZWQpIHtcbiAgICAgIGN0cmwuJHNldFZpZXdWYWx1ZShhdHRyLnZhbHVlLCBldiAmJiBldi50eXBlKTtcbiAgICB9XG4gIH07XG5cbiAgZWxlbWVudC5vbignY2xpY2snLCBsaXN0ZW5lcik7XG5cbiAgY3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZhbHVlID0gYXR0ci52YWx1ZTtcbiAgICBlbGVtZW50WzBdLmNoZWNrZWQgPSAodmFsdWUgPT0gY3RybC4kdmlld1ZhbHVlKTtcbiAgfTtcblxuICBhdHRyLiRvYnNlcnZlKCd2YWx1ZScsIGN0cmwuJHJlbmRlcik7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQ29uc3RhbnRFeHByKCRwYXJzZSwgY29udGV4dCwgbmFtZSwgZXhwcmVzc2lvbiwgZmFsbGJhY2spIHtcbiAgdmFyIHBhcnNlRm47XG4gIGlmIChpc0RlZmluZWQoZXhwcmVzc2lvbikpIHtcbiAgICBwYXJzZUZuID0gJHBhcnNlKGV4cHJlc3Npb24pO1xuICAgIGlmICghcGFyc2VGbi5jb25zdGFudCkge1xuICAgICAgdGhyb3cgbWluRXJyKCduZ01vZGVsJykoJ2NvbnN0ZXhwcicsICdFeHBlY3RlZCBjb25zdGFudCBleHByZXNzaW9uIGZvciBgezB9YCwgYnV0IHNhdyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2B7MX1gLicsIG5hbWUsIGV4cHJlc3Npb24pO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VGbihjb250ZXh0KTtcbiAgfVxuICByZXR1cm4gZmFsbGJhY2s7XG59XG5cbmZ1bmN0aW9uIGNoZWNrYm94SW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIsICRmaWx0ZXIsICRwYXJzZSkge1xuICB2YXIgdHJ1ZVZhbHVlID0gcGFyc2VDb25zdGFudEV4cHIoJHBhcnNlLCBzY29wZSwgJ25nVHJ1ZVZhbHVlJywgYXR0ci5uZ1RydWVWYWx1ZSwgdHJ1ZSk7XG4gIHZhciBmYWxzZVZhbHVlID0gcGFyc2VDb25zdGFudEV4cHIoJHBhcnNlLCBzY29wZSwgJ25nRmFsc2VWYWx1ZScsIGF0dHIubmdGYWxzZVZhbHVlLCBmYWxzZSk7XG5cbiAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24oZXYpIHtcbiAgICBjdHJsLiRzZXRWaWV3VmFsdWUoZWxlbWVudFswXS5jaGVja2VkLCBldiAmJiBldi50eXBlKTtcbiAgfTtcblxuICBlbGVtZW50Lm9uKCdjbGljaycsIGxpc3RlbmVyKTtcblxuICBjdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICBlbGVtZW50WzBdLmNoZWNrZWQgPSBjdHJsLiR2aWV3VmFsdWU7XG4gIH07XG5cbiAgLy8gT3ZlcnJpZGUgdGhlIHN0YW5kYXJkIGAkaXNFbXB0eWAgYmVjYXVzZSB0aGUgJHZpZXdWYWx1ZSBvZiBhbiBlbXB0eSBjaGVja2JveCBpcyBhbHdheXMgc2V0IHRvIGBmYWxzZWBcbiAgLy8gVGhpcyBpcyBiZWNhdXNlIG9mIHRoZSBwYXJzZXIgYmVsb3csIHdoaWNoIGNvbXBhcmVzIHRoZSBgJG1vZGVsVmFsdWVgIHdpdGggYHRydWVWYWx1ZWAgdG8gY29udmVydFxuICAvLyBpdCB0byBhIGJvb2xlYW4uXG4gIGN0cmwuJGlzRW1wdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gZmFsc2U7XG4gIH07XG5cbiAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVxdWFscyh2YWx1ZSwgdHJ1ZVZhbHVlKTtcbiAgfSk7XG5cbiAgY3RybC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID8gdHJ1ZVZhbHVlIDogZmFsc2VWYWx1ZTtcbiAgfSk7XG59XG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSB0ZXh0YXJlYVxuICogQHJlc3RyaWN0IEVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEhUTUwgdGV4dGFyZWEgZWxlbWVudCBjb250cm9sIHdpdGggYW5ndWxhciBkYXRhLWJpbmRpbmcuIFRoZSBkYXRhLWJpbmRpbmcgYW5kIHZhbGlkYXRpb25cbiAqIHByb3BlcnRpZXMgb2YgdGhpcyBlbGVtZW50IGFyZSBleGFjdGx5IHRoZSBzYW1lIGFzIHRob3NlIG9mIHRoZVxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTppbnB1dCBpbnB1dCBlbGVtZW50fS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cbiAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXG4gKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXG4gKiAgICBtaW5sZW5ndGguXG4gKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXG4gKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2YgYW55XG4gKiAgICBsZW5ndGguXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB2YWx1ZSBkb2VzIG5vdCBtYXRjaFxuICogICAgYSBSZWdFeHAgZm91bmQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhciBleHByZXNzaW9uIGdpdmVuIGluIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXG4gKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cbiAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cFxuICogICAgYWZ0ZXIgd3JhcHBpbmcgaXQgaW4gYF5gIGFuZCBgJGAgY2hhcmFjdGVycy4gRm9yIGluc3RhbmNlLCBgXCJhYmNcImAgd2lsbCBiZSBjb252ZXJ0ZWQgdG9cbiAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cbiAqICAgICoqTm90ZToqKiBBdm9pZCB1c2luZyB0aGUgYGdgIGZsYWcgb24gdGhlIFJlZ0V4cCwgYXMgaXQgd2lsbCBjYXVzZSBlYWNoIHN1Y2Nlc3NpdmUgc2VhcmNoIHRvXG4gKiAgICBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xuICogICAgYWNjb3VudC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxuICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IFtuZ1RyaW09dHJ1ZV0gSWYgc2V0IHRvIGZhbHNlIEFuZ3VsYXIgd2lsbCBub3QgYXV0b21hdGljYWxseSB0cmltIHRoZSBpbnB1dC5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgaW5wdXRcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIVE1MIGlucHV0IGVsZW1lbnQgY29udHJvbC4gV2hlbiB1c2VkIHRvZ2V0aGVyIHdpdGgge0BsaW5rIG5nTW9kZWwgYG5nTW9kZWxgfSwgaXQgcHJvdmlkZXMgZGF0YS1iaW5kaW5nLFxuICogaW5wdXQgc3RhdGUgY29udHJvbCwgYW5kIHZhbGlkYXRpb24uXG4gKiBJbnB1dCBjb250cm9sIGZvbGxvd3MgSFRNTDUgaW5wdXQgdHlwZXMgYW5kIHBvbHlmaWxscyB0aGUgSFRNTDUgdmFsaWRhdGlvbiBiZWhhdmlvciBmb3Igb2xkZXIgYnJvd3NlcnMuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZToqKiBOb3QgZXZlcnkgZmVhdHVyZSBvZmZlcmVkIGlzIGF2YWlsYWJsZSBmb3IgYWxsIGlucHV0IHR5cGVzLlxuICogU3BlY2lmaWNhbGx5LCBkYXRhIGJpbmRpbmcgYW5kIGV2ZW50IGhhbmRsaW5nIHZpYSBgbmctbW9kZWxgIGlzIHVuc3VwcG9ydGVkIGZvciBgaW5wdXRbZmlsZV1gLlxuICogPC9kaXY+XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxuICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxuICogQHBhcmFtIHtib29sZWFuPX0gbmdSZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGlmIHNldCB0byB0cnVlXG4gKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxuICogICAgbWlubGVuZ3RoLlxuICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxuICogICAgbWF4bGVuZ3RoLiBTZXR0aW5nIHRoZSBhdHRyaWJ1dGUgdG8gYSBuZWdhdGl2ZSBvciBub24tbnVtZXJpYyB2YWx1ZSwgYWxsb3dzIHZpZXcgdmFsdWVzIG9mIGFueVxuICogICAgbGVuZ3RoLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ1BhdHRlcm4gU2V0cyBgcGF0dGVybmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIG5nTW9kZWwgdmFsdWUgZG9lcyBub3QgbWF0Y2hcbiAqICAgIGEgUmVnRXhwIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxuICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCwgdGhlbiB0aGlzIGlzIHVzZWQgZGlyZWN0bHkuXG4gKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZW4gaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBSZWdFeHBcbiAqICAgIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvXG4gKiAgICBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuPGJyIC8+XG4gKiAgICAqKk5vdGU6KiogQXZvaWQgdXNpbmcgdGhlIGBnYCBmbGFnIG9uIHRoZSBSZWdFeHAsIGFzIGl0IHdpbGwgY2F1c2UgZWFjaCBzdWNjZXNzaXZlIHNlYXJjaCB0b1xuICogICAgc3RhcnQgYXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHNlYXJjaCdzIG1hdGNoLCB0aHVzIG5vdCB0YWtpbmcgdGhlIHdob2xlIGlucHV0IHZhbHVlIGludG9cbiAqICAgIGFjY291bnQuXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcbiAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBbbmdUcmltPXRydWVdIElmIHNldCB0byBmYWxzZSBBbmd1bGFyIHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgdHJpbSB0aGUgaW5wdXQuXG4gKiAgICBUaGlzIHBhcmFtZXRlciBpcyBpZ25vcmVkIGZvciBpbnB1dFt0eXBlPXBhc3N3b3JkXSBjb250cm9scywgd2hpY2ggd2lsbCBuZXZlciB0cmltIHRoZVxuICogICAgaW5wdXQuXG4gKlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZSBuYW1lPVwiaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwiaW5wdXRFeGFtcGxlXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2lucHV0RXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLnVzZXIgPSB7bmFtZTogJ2d1ZXN0JywgbGFzdDogJ3Zpc2l0b3InfTtcbiAgICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiPlxuICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgIFVzZXIgbmFtZTpcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCIgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIiByZXF1aXJlZD5cbiAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS51c2VyTmFtZS4kZXJyb3IucmVxdWlyZWRcIj5cbiAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxuICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICBMYXN0IG5hbWU6XG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJsYXN0TmFtZVwiIG5nLW1vZGVsPVwidXNlci5sYXN0XCJcbiAgICAgICAgICAgICAgbmctbWlubGVuZ3RoPVwiM1wiIG5nLW1heGxlbmd0aD1cIjEwXCI+XG4gICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgIDxkaXYgcm9sZT1cImFsZXJ0XCI+XG4gICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0ubGFzdE5hbWUuJGVycm9yLm1pbmxlbmd0aFwiPlxuICAgICAgICAgICAgICAgVG9vIHNob3J0ITwvc3Bhbj5cbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5sYXN0TmFtZS4kZXJyb3IubWF4bGVuZ3RoXCI+XG4gICAgICAgICAgICAgICBUb28gbG9uZyE8L3NwYW4+XG4gICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgPGhyPlxuICAgICAgICAgPHR0PnVzZXIgPSB7e3VzZXJ9fTwvdHQ+PGJyLz5cbiAgICAgICAgIDx0dD5teUZvcm0udXNlck5hbWUuJHZhbGlkID0ge3tteUZvcm0udXNlck5hbWUuJHZhbGlkfX08L3R0Pjxici8+XG4gICAgICAgICA8dHQ+bXlGb3JtLnVzZXJOYW1lLiRlcnJvciA9IHt7bXlGb3JtLnVzZXJOYW1lLiRlcnJvcn19PC90dD48YnIvPlxuICAgICAgICAgPHR0Pm15Rm9ybS5sYXN0TmFtZS4kdmFsaWQgPSB7e215Rm9ybS5sYXN0TmFtZS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAgICAgICAgIDx0dD5teUZvcm0ubGFzdE5hbWUuJGVycm9yID0ge3tteUZvcm0ubGFzdE5hbWUuJGVycm9yfX08L3R0Pjxici8+XG4gICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxuICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IubWlubGVuZ3RoID0ge3shIW15Rm9ybS4kZXJyb3IubWlubGVuZ3RofX08L3R0Pjxici8+XG4gICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5tYXhsZW5ndGggPSB7eyEhbXlGb3JtLiRlcnJvci5tYXhsZW5ndGh9fTwvdHQ+PGJyLz5cbiAgICAgICA8L2Rpdj5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgdmFyIHVzZXIgPSBlbGVtZW50KGJ5LmV4YWN0QmluZGluZygndXNlcicpKTtcbiAgICAgICAgdmFyIHVzZXJOYW1lVmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS51c2VyTmFtZS4kdmFsaWQnKSk7XG4gICAgICAgIHZhciBsYXN0TmFtZVZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0ubGFzdE5hbWUuJHZhbGlkJykpO1xuICAgICAgICB2YXIgbGFzdE5hbWVFcnJvciA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmxhc3ROYW1lLiRlcnJvcicpKTtcbiAgICAgICAgdmFyIGZvcm1WYWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLiR2YWxpZCcpKTtcbiAgICAgICAgdmFyIHVzZXJOYW1lSW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyLm5hbWUnKSk7XG4gICAgICAgIHZhciB1c2VyTGFzdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXNlci5sYXN0JykpO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7XCJuYW1lXCI6XCJndWVzdFwiLFwibGFzdFwiOlwidmlzaXRvclwifScpO1xuICAgICAgICAgIGV4cGVjdCh1c2VyTmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XG4gICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHkgd2hlbiByZXF1aXJlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHVzZXJOYW1lSW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICB1c2VyTmFtZUlucHV0LnNlbmRLZXlzKCcnKTtcblxuICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7XCJsYXN0XCI6XCJ2aXNpdG9yXCJ9Jyk7XG4gICAgICAgICAgZXhwZWN0KHVzZXJOYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XG4gICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSB2YWxpZCBpZiBlbXB0eSB3aGVuIG1pbiBsZW5ndGggaXMgc2V0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuc2VuZEtleXMoJycpO1xuXG4gICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3tcIm5hbWVcIjpcImd1ZXN0XCIsXCJsYXN0XCI6XCJcIn0nKTtcbiAgICAgICAgICBleHBlY3QobGFzdE5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICAgICAgICAgIGV4cGVjdChmb3JtVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGxlc3MgdGhhbiByZXF1aXJlZCBtaW4gbGVuZ3RoJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuc2VuZEtleXMoJ3h4Jyk7XG5cbiAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigne1wibmFtZVwiOlwiZ3Vlc3RcIn0nKTtcbiAgICAgICAgICBleHBlY3QobGFzdE5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICBleHBlY3QobGFzdE5hbWVFcnJvci5nZXRUZXh0KCkpLnRvQ29udGFpbignbWlubGVuZ3RoJyk7XG4gICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGxvbmdlciB0aGFuIG1heCBsZW5ndGgnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB1c2VyTGFzdElucHV0LmNsZWFyKCk7XG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5zZW5kS2V5cygnc29tZSByaWRpY3Vsb3VzbHkgbG9uZyBuYW1lJyk7XG5cbiAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigne1wibmFtZVwiOlwiZ3Vlc3RcIn0nKTtcbiAgICAgICAgICBleHBlY3QobGFzdE5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgICBleHBlY3QobGFzdE5hbWVFcnJvci5nZXRUZXh0KCkpLnRvQ29udGFpbignbWF4bGVuZ3RoJyk7XG4gICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAgICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICovXG52YXIgaW5wdXREaXJlY3RpdmUgPSBbJyRicm93c2VyJywgJyRzbmlmZmVyJywgJyRmaWx0ZXInLCAnJHBhcnNlJyxcbiAgICBmdW5jdGlvbigkYnJvd3NlciwgJHNuaWZmZXIsICRmaWx0ZXIsICRwYXJzZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVxdWlyZTogWyc/bmdNb2RlbCddLFxuICAgIGxpbms6IHtcbiAgICAgIHByZTogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgICAgIGlmIChjdHJsc1swXSkge1xuICAgICAgICAgIChpbnB1dFR5cGVbbG93ZXJjYXNlKGF0dHIudHlwZSldIHx8IGlucHV0VHlwZS50ZXh0KShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHNbMF0sICRzbmlmZmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYnJvd3NlciwgJGZpbHRlciwgJHBhcnNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbn1dO1xuXG5cblxudmFyIENPTlNUQU5UX1ZBTFVFX1JFR0VYUCA9IC9eKHRydWV8ZmFsc2V8XFxkKykkLztcbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdWYWx1ZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQmluZHMgdGhlIGdpdmVuIGV4cHJlc3Npb24gdG8gdGhlIHZhbHVlIG9mIGA8b3B0aW9uPmAgb3Ige0BsaW5rIGlucHV0W3JhZGlvXSBgaW5wdXRbcmFkaW9dYH0sXG4gKiBzbyB0aGF0IHdoZW4gdGhlIGVsZW1lbnQgaXMgc2VsZWN0ZWQsIHRoZSB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9IG9mIHRoYXQgZWxlbWVudCBpcyBzZXQgdG9cbiAqIHRoZSBib3VuZCB2YWx1ZS5cbiAqXG4gKiBgbmdWYWx1ZWAgaXMgdXNlZnVsIHdoZW4gZHluYW1pY2FsbHkgZ2VuZXJhdGluZyBsaXN0cyBvZiByYWRpbyBidXR0b25zIHVzaW5nXG4gKiB7QGxpbmsgbmdSZXBlYXQgYG5nUmVwZWF0YH0sIGFzIHNob3duIGJlbG93LlxuICpcbiAqIExpa2V3aXNlLCBgbmdWYWx1ZWAgY2FuIGJlIHVzZWQgdG8gZ2VuZXJhdGUgYDxvcHRpb24+YCBlbGVtZW50cyBmb3JcbiAqIHRoZSB7QGxpbmsgc2VsZWN0IGBzZWxlY3RgfSBlbGVtZW50LiBJbiB0aGF0IGNhc2UgaG93ZXZlciwgb25seSBzdHJpbmdzIGFyZSBzdXBwb3J0ZWRcbiAqIGZvciB0aGUgYHZhbHVlIGBhdHRyaWJ1dGUsIHNvIHRoZSByZXN1bHRpbmcgYG5nTW9kZWxgIHdpbGwgYWx3YXlzIGJlIGEgc3RyaW5nLlxuICogU3VwcG9ydCBmb3IgYHNlbGVjdGAgbW9kZWxzIHdpdGggbm9uLXN0cmluZyB2YWx1ZXMgaXMgYXZhaWxhYmxlIHZpYSBgbmdPcHRpb25zYC5cbiAqXG4gKiBAZWxlbWVudCBpbnB1dFxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ1ZhbHVlIGFuZ3VsYXIgZXhwcmVzc2lvbiwgd2hvc2UgdmFsdWUgd2lsbCBiZSBib3VuZCB0byB0aGUgYHZhbHVlYCBhdHRyaWJ1dGVcbiAqICAgb2YgdGhlIGBpbnB1dGAgZWxlbWVudFxuICpcbiAqIEBleGFtcGxlXG4gICAgPGV4YW1wbGUgbmFtZT1cIm5nVmFsdWUtZGlyZWN0aXZlXCIgbW9kdWxlPVwidmFsdWVFeGFtcGxlXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3ZhbHVlRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydwaXp6YScsICd1bmljb3JucycsICdyb2JvdHMnXTtcbiAgICAgICAgICAgICAgJHNjb3BlLm15ID0geyBmYXZvcml0ZTogJ3VuaWNvcm5zJyB9O1xuICAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgICA8Zm9ybSBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICA8aDI+V2hpY2ggaXMgeW91ciBmYXZvcml0ZT88L2gyPlxuICAgICAgICAgICAgPGxhYmVsIG5nLXJlcGVhdD1cIm5hbWUgaW4gbmFtZXNcIiBmb3I9XCJ7e25hbWV9fVwiPlxuICAgICAgICAgICAgICB7e25hbWV9fVxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwibXkuZmF2b3JpdGVcIlxuICAgICAgICAgICAgICAgICAgICAgbmctdmFsdWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgIGlkPVwie3tuYW1lfX1cIlxuICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImZhdm9yaXRlXCI+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDxkaXY+WW91IGNob3NlIHt7bXkuZmF2b3JpdGV9fTwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIHZhciBmYXZvcml0ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnbXkuZmF2b3JpdGUnKSk7XG5cbiAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZXhwZWN0KGZhdm9yaXRlLmdldFRleHQoKSkudG9Db250YWluKCd1bmljb3JucycpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCBiaW5kIHRoZSB2YWx1ZXMgdG8gdGhlIGlucHV0cycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5Lm1vZGVsKCdteS5mYXZvcml0ZScpKS5nZXQoMCkuY2xpY2soKTtcbiAgICAgICAgICBleHBlY3QoZmF2b3JpdGUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3BpenphJyk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nVmFsdWVEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHByaW9yaXR5OiAxMDAsXG4gICAgY29tcGlsZTogZnVuY3Rpb24odHBsLCB0cGxBdHRyKSB7XG4gICAgICBpZiAoQ09OU1RBTlRfVkFMVUVfUkVHRVhQLnRlc3QodHBsQXR0ci5uZ1ZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmdWYWx1ZUNvbnN0YW50TGluayhzY29wZSwgZWxtLCBhdHRyKSB7XG4gICAgICAgICAgYXR0ci4kc2V0KCd2YWx1ZScsIHNjb3BlLiRldmFsKGF0dHIubmdWYWx1ZSkpO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nVmFsdWVMaW5rKHNjb3BlLCBlbG0sIGF0dHIpIHtcbiAgICAgICAgICBzY29wZS4kd2F0Y2goYXR0ci5uZ1ZhbHVlLCBmdW5jdGlvbiB2YWx1ZVdhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBhdHRyLiRzZXQoJ3ZhbHVlJywgdmFsdWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdCaW5kXG4gKiBAcmVzdHJpY3QgQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdCaW5kYCBhdHRyaWJ1dGUgdGVsbHMgQW5ndWxhciB0byByZXBsYWNlIHRoZSB0ZXh0IGNvbnRlbnQgb2YgdGhlIHNwZWNpZmllZCBIVE1MIGVsZW1lbnRcbiAqIHdpdGggdGhlIHZhbHVlIG9mIGEgZ2l2ZW4gZXhwcmVzc2lvbiwgYW5kIHRvIHVwZGF0ZSB0aGUgdGV4dCBjb250ZW50IHdoZW4gdGhlIHZhbHVlIG9mIHRoYXRcbiAqIGV4cHJlc3Npb24gY2hhbmdlcy5cbiAqXG4gKiBUeXBpY2FsbHksIHlvdSBkb24ndCB1c2UgYG5nQmluZGAgZGlyZWN0bHksIGJ1dCBpbnN0ZWFkIHlvdSB1c2UgdGhlIGRvdWJsZSBjdXJseSBtYXJrdXAgbGlrZVxuICogYHt7IGV4cHJlc3Npb24gfX1gIHdoaWNoIGlzIHNpbWlsYXIgYnV0IGxlc3MgdmVyYm9zZS5cbiAqXG4gKiBJdCBpcyBwcmVmZXJhYmxlIHRvIHVzZSBgbmdCaW5kYCBpbnN0ZWFkIG9mIGB7eyBleHByZXNzaW9uIH19YCBpZiBhIHRlbXBsYXRlIGlzIG1vbWVudGFyaWx5XG4gKiBkaXNwbGF5ZWQgYnkgdGhlIGJyb3dzZXIgaW4gaXRzIHJhdyBzdGF0ZSBiZWZvcmUgQW5ndWxhciBjb21waWxlcyBpdC4gU2luY2UgYG5nQmluZGAgaXMgYW5cbiAqIGVsZW1lbnQgYXR0cmlidXRlLCBpdCBtYWtlcyB0aGUgYmluZGluZ3MgaW52aXNpYmxlIHRvIHRoZSB1c2VyIHdoaWxlIHRoZSBwYWdlIGlzIGxvYWRpbmcuXG4gKlxuICogQW4gYWx0ZXJuYXRpdmUgc29sdXRpb24gdG8gdGhpcyBwcm9ibGVtIHdvdWxkIGJlIHVzaW5nIHRoZVxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Nsb2FrIG5nQ2xvYWt9IGRpcmVjdGl2ZS5cbiAqXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQmluZCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogRW50ZXIgYSBuYW1lIGluIHRoZSBMaXZlIFByZXZpZXcgdGV4dCBib3g7IHRoZSBncmVldGluZyBiZWxvdyB0aGUgdGV4dCBib3ggY2hhbmdlcyBpbnN0YW50bHkuXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJiaW5kRXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnYmluZEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICAkc2NvcGUubmFtZSA9ICdXaGlybGVkJztcbiAgICAgICAgICAgfV0pO1xuICAgICAgIDwvc2NyaXB0PlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8bGFiZWw+RW50ZXIgbmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJuYW1lXCI+PC9sYWJlbD48YnI+XG4gICAgICAgICBIZWxsbyA8c3BhbiBuZy1iaW5kPVwibmFtZVwiPjwvc3Bhbj4hXG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctYmluZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIG5hbWVJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ25hbWUnKSk7XG5cbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ25hbWUnKSkuZ2V0VGV4dCgpKS50b0JlKCdXaGlybGVkJyk7XG4gICAgICAgICBuYW1lSW5wdXQuY2xlYXIoKTtcbiAgICAgICAgIG5hbWVJbnB1dC5zZW5kS2V5cygnd29ybGQnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ25hbWUnKSkuZ2V0VGV4dCgpKS50b0JlKCd3b3JsZCcpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0JpbmREaXJlY3RpdmUgPSBbJyRjb21waWxlJywgZnVuY3Rpb24oJGNvbXBpbGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0FDJyxcbiAgICBjb21waWxlOiBmdW5jdGlvbiBuZ0JpbmRDb21waWxlKHRlbXBsYXRlRWxlbWVudCkge1xuICAgICAgJGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3ModGVtcGxhdGVFbGVtZW50KTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZ0JpbmRMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0luZm8oZWxlbWVudCwgYXR0ci5uZ0JpbmQpO1xuICAgICAgICBlbGVtZW50ID0gZWxlbWVudFswXTtcbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdCaW5kLCBmdW5jdGlvbiBuZ0JpbmRXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gJycgOiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdCaW5kVGVtcGxhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdCaW5kVGVtcGxhdGVgIGRpcmVjdGl2ZSBzcGVjaWZpZXMgdGhhdCB0aGUgZWxlbWVudFxuICogdGV4dCBjb250ZW50IHNob3VsZCBiZSByZXBsYWNlZCB3aXRoIHRoZSBpbnRlcnBvbGF0aW9uIG9mIHRoZSB0ZW1wbGF0ZVxuICogaW4gdGhlIGBuZ0JpbmRUZW1wbGF0ZWAgYXR0cmlidXRlLlxuICogVW5saWtlIGBuZ0JpbmRgLCB0aGUgYG5nQmluZFRlbXBsYXRlYCBjYW4gY29udGFpbiBtdWx0aXBsZSBge3tgIGB9fWBcbiAqIGV4cHJlc3Npb25zLiBUaGlzIGRpcmVjdGl2ZSBpcyBuZWVkZWQgc2luY2Ugc29tZSBIVE1MIGVsZW1lbnRzXG4gKiAoc3VjaCBhcyBUSVRMRSBhbmQgT1BUSU9OKSBjYW5ub3QgY29udGFpbiBTUEFOIGVsZW1lbnRzLlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtzdHJpbmd9IG5nQmluZFRlbXBsYXRlIHRlbXBsYXRlIG9mIGZvcm1cbiAqICAgPHR0Pnt7PC90dD4gPHR0PmV4cHJlc3Npb248L3R0PiA8dHQ+fX08L3R0PiB0byBldmFsLlxuICpcbiAqIEBleGFtcGxlXG4gKiBUcnkgaXQgaGVyZTogZW50ZXIgdGV4dCBpbiB0ZXh0IGJveCBhbmQgd2F0Y2ggdGhlIGdyZWV0aW5nIGNoYW5nZS5cbiAgIDxleGFtcGxlIG1vZHVsZT1cImJpbmRFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdiaW5kRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICRzY29wZS5zYWx1dGF0aW9uID0gJ0hlbGxvJztcbiAgICAgICAgICAgICAkc2NvcGUubmFtZSA9ICdXb3JsZCc7XG4gICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8bGFiZWw+U2FsdXRhdGlvbjogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJzYWx1dGF0aW9uXCI+PC9sYWJlbD48YnI+XG4gICAgICAgIDxsYWJlbD5OYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm5hbWVcIj48L2xhYmVsPjxicj5cbiAgICAgICAgPHByZSBuZy1iaW5kLXRlbXBsYXRlPVwie3tzYWx1dGF0aW9ufX0ge3tuYW1lfX0hXCI+PC9wcmU+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctYmluZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIHNhbHV0YXRpb25FbGVtID0gZWxlbWVudChieS5iaW5kaW5nKCdzYWx1dGF0aW9uJykpO1xuICAgICAgICAgdmFyIHNhbHV0YXRpb25JbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3NhbHV0YXRpb24nKSk7XG4gICAgICAgICB2YXIgbmFtZUlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbmFtZScpKTtcblxuICAgICAgICAgZXhwZWN0KHNhbHV0YXRpb25FbGVtLmdldFRleHQoKSkudG9CZSgnSGVsbG8gV29ybGQhJyk7XG5cbiAgICAgICAgIHNhbHV0YXRpb25JbnB1dC5jbGVhcigpO1xuICAgICAgICAgc2FsdXRhdGlvbklucHV0LnNlbmRLZXlzKCdHcmVldGluZ3MnKTtcbiAgICAgICAgIG5hbWVJbnB1dC5jbGVhcigpO1xuICAgICAgICAgbmFtZUlucHV0LnNlbmRLZXlzKCd1c2VyJyk7XG5cbiAgICAgICAgIGV4cGVjdChzYWx1dGF0aW9uRWxlbS5nZXRUZXh0KCkpLnRvQmUoJ0dyZWV0aW5ncyB1c2VyIScpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSA9IFsnJGludGVycG9sYXRlJywgJyRjb21waWxlJywgZnVuY3Rpb24oJGludGVycG9sYXRlLCAkY29tcGlsZSkge1xuICByZXR1cm4ge1xuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nQmluZFRlbXBsYXRlQ29tcGlsZSh0ZW1wbGF0ZUVsZW1lbnQpIHtcbiAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRlbXBsYXRlRWxlbWVudCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gbmdCaW5kVGVtcGxhdGVMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgIHZhciBpbnRlcnBvbGF0ZUZuID0gJGludGVycG9sYXRlKGVsZW1lbnQuYXR0cihhdHRyLiRhdHRyLm5nQmluZFRlbXBsYXRlKSk7XG4gICAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0luZm8oZWxlbWVudCwgaW50ZXJwb2xhdGVGbi5leHByZXNzaW9ucyk7XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50WzBdO1xuICAgICAgICBhdHRyLiRvYnNlcnZlKCduZ0JpbmRUZW1wbGF0ZScsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHZhbHVlID09PSB1bmRlZmluZWQgPyAnJyA6IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0JpbmRIdG1sXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBFdmFsdWF0ZXMgdGhlIGV4cHJlc3Npb24gYW5kIGluc2VydHMgdGhlIHJlc3VsdGluZyBIVE1MIGludG8gdGhlIGVsZW1lbnQgaW4gYSBzZWN1cmUgd2F5LiBCeSBkZWZhdWx0LFxuICogdGhlIHJlc3VsdGluZyBIVE1MIGNvbnRlbnQgd2lsbCBiZSBzYW5pdGl6ZWQgdXNpbmcgdGhlIHtAbGluayBuZ1Nhbml0aXplLiRzYW5pdGl6ZSAkc2FuaXRpemV9IHNlcnZpY2UuXG4gKiBUbyB1dGlsaXplIHRoaXMgZnVuY3Rpb25hbGl0eSwgZW5zdXJlIHRoYXQgYCRzYW5pdGl6ZWAgaXMgYXZhaWxhYmxlLCBmb3IgZXhhbXBsZSwgYnkgaW5jbHVkaW5nIHtAbGlua1xuICogbmdTYW5pdGl6ZX0gaW4geW91ciBtb2R1bGUncyBkZXBlbmRlbmNpZXMgKG5vdCBpbiBjb3JlIEFuZ3VsYXIpLiBJbiBvcmRlciB0byB1c2Uge0BsaW5rIG5nU2FuaXRpemV9XG4gKiBpbiB5b3VyIG1vZHVsZSdzIGRlcGVuZGVuY2llcywgeW91IG5lZWQgdG8gaW5jbHVkZSBcImFuZ3VsYXItc2FuaXRpemUuanNcIiBpbiB5b3VyIGFwcGxpY2F0aW9uLlxuICpcbiAqIFlvdSBtYXkgYWxzbyBieXBhc3Mgc2FuaXRpemF0aW9uIGZvciB2YWx1ZXMgeW91IGtub3cgYXJlIHNhZmUuIFRvIGRvIHNvLCBiaW5kIHRvXG4gKiBhbiBleHBsaWNpdGx5IHRydXN0ZWQgdmFsdWUgdmlhIHtAbGluayBuZy4kc2NlI3RydXN0QXNIdG1sICRzY2UudHJ1c3RBc0h0bWx9LiAgU2VlIHRoZSBleGFtcGxlXG4gKiB1bmRlciB7QGxpbmsgbmcuJHNjZSNzaG93LW1lLWFuLWV4YW1wbGUtdXNpbmctc2NlLSBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0uXG4gKlxuICogTm90ZTogSWYgYSBgJHNhbml0aXplYCBzZXJ2aWNlIGlzIHVuYXZhaWxhYmxlIGFuZCB0aGUgYm91bmQgdmFsdWUgaXNuJ3QgZXhwbGljaXRseSB0cnVzdGVkLCB5b3VcbiAqIHdpbGwgaGF2ZSBhbiBleGNlcHRpb24gKGluc3RlYWQgb2YgYW4gZXhwbG9pdC4pXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQmluZEh0bWwge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUuXG4gKlxuICogQGV4YW1wbGVcblxuICAgPGV4YW1wbGUgbW9kdWxlPVwiYmluZEh0bWxFeGFtcGxlXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICA8cCBuZy1iaW5kLWh0bWw9XCJteUhUTUxcIj48L3A+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cblxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ2JpbmRIdG1sRXhhbXBsZScsIFsnbmdTYW5pdGl6ZSddKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgJHNjb3BlLm15SFRNTCA9XG4gICAgICAgICAgICAgICdJIGFtIGFuIDxjb2RlPkhUTUw8L2NvZGU+c3RyaW5nIHdpdGggJyArXG4gICAgICAgICAgICAgICc8YSBocmVmPVwiI1wiPmxpbmtzITwvYT4gYW5kIG90aGVyIDxlbT5zdHVmZjwvZW0+JztcbiAgICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWJpbmQtaHRtbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbXlIVE1MJykpLmdldFRleHQoKSkudG9CZShcbiAgICAgICAgICAgICAnSSBhbSBhbiBIVE1Mc3RyaW5nIHdpdGggbGlua3MhIGFuZCBvdGhlciBzdHVmZicpO1xuICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0JpbmRIdG1sRGlyZWN0aXZlID0gWyckc2NlJywgJyRwYXJzZScsICckY29tcGlsZScsIGZ1bmN0aW9uKCRzY2UsICRwYXJzZSwgJGNvbXBpbGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nQmluZEh0bWxDb21waWxlKHRFbGVtZW50LCB0QXR0cnMpIHtcbiAgICAgIHZhciBuZ0JpbmRIdG1sR2V0dGVyID0gJHBhcnNlKHRBdHRycy5uZ0JpbmRIdG1sKTtcbiAgICAgIHZhciBuZ0JpbmRIdG1sV2F0Y2ggPSAkcGFyc2UodEF0dHJzLm5nQmluZEh0bWwsIGZ1bmN0aW9uIGdldFN0cmluZ1ZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAodmFsdWUgfHwgJycpLnRvU3RyaW5nKCk7XG4gICAgICB9KTtcbiAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRFbGVtZW50KTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nQmluZEh0bWxMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0luZm8oZWxlbWVudCwgYXR0ci5uZ0JpbmRIdG1sKTtcblxuICAgICAgICBzY29wZS4kd2F0Y2gobmdCaW5kSHRtbFdhdGNoLCBmdW5jdGlvbiBuZ0JpbmRIdG1sV2F0Y2hBY3Rpb24oKSB7XG4gICAgICAgICAgLy8gd2UgcmUtZXZhbHVhdGUgdGhlIGV4cHIgYmVjYXVzZSB3ZSB3YW50IGEgVHJ1c3RlZFZhbHVlSG9sZGVyVHlwZVxuICAgICAgICAgIC8vIGZvciAkc2NlLCBub3QgYSBzdHJpbmdcbiAgICAgICAgICBlbGVtZW50Lmh0bWwoJHNjZS5nZXRUcnVzdGVkSHRtbChuZ0JpbmRIdG1sR2V0dGVyKHNjb3BlKSkgfHwgJycpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDaGFuZ2VcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEV2YWx1YXRlIHRoZSBnaXZlbiBleHByZXNzaW9uIHdoZW4gdGhlIHVzZXIgY2hhbmdlcyB0aGUgaW5wdXQuXG4gKiBUaGUgZXhwcmVzc2lvbiBpcyBldmFsdWF0ZWQgaW1tZWRpYXRlbHksIHVubGlrZSB0aGUgSmF2YVNjcmlwdCBvbmNoYW5nZSBldmVudFxuICogd2hpY2ggb25seSB0cmlnZ2VycyBhdCB0aGUgZW5kIG9mIGEgY2hhbmdlICh1c3VhbGx5LCB3aGVuIHRoZSB1c2VyIGxlYXZlcyB0aGVcbiAqIGZvcm0gZWxlbWVudCBvciBwcmVzc2VzIHRoZSByZXR1cm4ga2V5KS5cbiAqXG4gKiBUaGUgYG5nQ2hhbmdlYCBleHByZXNzaW9uIGlzIG9ubHkgZXZhbHVhdGVkIHdoZW4gYSBjaGFuZ2UgaW4gdGhlIGlucHV0IHZhbHVlIGNhdXNlc1xuICogYSBuZXcgdmFsdWUgdG8gYmUgY29tbWl0dGVkIHRvIHRoZSBtb2RlbC5cbiAqXG4gKiBJdCB3aWxsIG5vdCBiZSBldmFsdWF0ZWQ6XG4gKiAqIGlmIHRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBgJHBhcnNlcnNgIHRyYW5zZm9ybWF0aW9uIHBpcGVsaW5lIGhhcyBub3QgY2hhbmdlZFxuICogKiBpZiB0aGUgaW5wdXQgaGFzIGNvbnRpbnVlZCB0byBiZSBpbnZhbGlkIHNpbmNlIHRoZSBtb2RlbCB3aWxsIHN0YXkgYG51bGxgXG4gKiAqIGlmIHRoZSBtb2RlbCBpcyBjaGFuZ2VkIHByb2dyYW1tYXRpY2FsbHkgYW5kIG5vdCBieSBhIGNoYW5nZSB0byB0aGUgaW5wdXQgdmFsdWVcbiAqXG4gKlxuICogTm90ZSwgdGhpcyBkaXJlY3RpdmUgcmVxdWlyZXMgYG5nTW9kZWxgIHRvIGJlIHByZXNlbnQuXG4gKlxuICogQGVsZW1lbnQgaW5wdXRcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDaGFuZ2Uge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvbiBjaGFuZ2VcbiAqIGluIGlucHV0IHZhbHVlLlxuICpcbiAqIEBleGFtcGxlXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdDaGFuZ2UtZGlyZWN0aXZlXCIgbW9kdWxlPVwiY2hhbmdlRXhhbXBsZVwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxzY3JpcHQ+XG4gKiAgICAgICBhbmd1bGFyLm1vZHVsZSgnY2hhbmdlRXhhbXBsZScsIFtdKVxuICogICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgICAgICRzY29wZS5jb3VudGVyID0gMDtcbiAqICAgICAgICAgICAkc2NvcGUuY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICAgICAkc2NvcGUuY291bnRlcisrO1xuICogICAgICAgICAgIH07XG4gKiAgICAgICAgIH1dKTtcbiAqICAgICA8L3NjcmlwdD5cbiAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY29uZmlybWVkXCIgbmctY2hhbmdlPVwiY2hhbmdlKClcIiBpZD1cIm5nLWNoYW5nZS1leGFtcGxlMVwiIC8+XG4gKiAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjb25maXJtZWRcIiBpZD1cIm5nLWNoYW5nZS1leGFtcGxlMlwiIC8+XG4gKiAgICAgICA8bGFiZWwgZm9yPVwibmctY2hhbmdlLWV4YW1wbGUyXCI+Q29uZmlybWVkPC9sYWJlbD48YnIgLz5cbiAqICAgICAgIDx0dD5kZWJ1ZyA9IHt7Y29uZmlybWVkfX08L3R0Pjxici8+XG4gKiAgICAgICA8dHQ+Y291bnRlciA9IHt7Y291bnRlcn19PC90dD48YnIvPlxuICogICAgIDwvZGl2PlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgICB2YXIgY291bnRlciA9IGVsZW1lbnQoYnkuYmluZGluZygnY291bnRlcicpKTtcbiAqICAgICB2YXIgZGVidWcgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvbmZpcm1lZCcpKTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbiBpZiBjaGFuZ2luZyBmcm9tIHZpZXcnLCBmdW5jdGlvbigpIHtcbiAqICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9Db250YWluKCcwJyk7XG4gKlxuICogICAgICAgZWxlbWVudChieS5pZCgnbmctY2hhbmdlLWV4YW1wbGUxJykpLmNsaWNrKCk7XG4gKlxuICogICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzEnKTtcbiAqICAgICAgIGV4cGVjdChkZWJ1Zy5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICogICAgIH0pO1xuICpcbiAqICAgICBpdCgnc2hvdWxkIG5vdCBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbiBpZiBjaGFuZ2luZyBmcm9tIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICBlbGVtZW50KGJ5LmlkKCduZy1jaGFuZ2UtZXhhbXBsZTInKSkuY2xpY2soKTtcblxuICogICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzAnKTtcbiAqICAgICAgIGV4cGVjdChkZWJ1Zy5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICogICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0NoYW5nZURpcmVjdGl2ZSA9IHZhbHVlRm4oe1xuICByZXN0cmljdDogJ0EnLFxuICByZXF1aXJlOiAnbmdNb2RlbCcsXG4gIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XG4gICAgY3RybC4kdmlld0NoYW5nZUxpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgc2NvcGUuJGV2YWwoYXR0ci5uZ0NoYW5nZSk7XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBjbGFzc0RpcmVjdGl2ZShuYW1lLCBzZWxlY3Rvcikge1xuICBuYW1lID0gJ25nQ2xhc3MnICsgbmFtZTtcbiAgcmV0dXJuIFsnJGFuaW1hdGUnLCBmdW5jdGlvbigkYW5pbWF0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0FDJyxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgIHZhciBvbGRWYWw7XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJbbmFtZV0sIG5nQ2xhc3NXYXRjaEFjdGlvbiwgdHJ1ZSk7XG5cbiAgICAgICAgYXR0ci4kb2JzZXJ2ZSgnY2xhc3MnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIG5nQ2xhc3NXYXRjaEFjdGlvbihzY29wZS4kZXZhbChhdHRyW25hbWVdKSk7XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgaWYgKG5hbWUgIT09ICduZ0NsYXNzJykge1xuICAgICAgICAgIHNjb3BlLiR3YXRjaCgnJGluZGV4JywgZnVuY3Rpb24oJGluZGV4LCBvbGQkaW5kZXgpIHtcbiAgICAgICAgICAgIC8vIGpzaGludCBiaXR3aXNlOiBmYWxzZVxuICAgICAgICAgICAgdmFyIG1vZCA9ICRpbmRleCAmIDE7XG4gICAgICAgICAgICBpZiAobW9kICE9PSAob2xkJGluZGV4ICYgMSkpIHtcbiAgICAgICAgICAgICAgdmFyIGNsYXNzZXMgPSBhcnJheUNsYXNzZXMoc2NvcGUuJGV2YWwoYXR0cltuYW1lXSkpO1xuICAgICAgICAgICAgICBtb2QgPT09IHNlbGVjdG9yID9cbiAgICAgICAgICAgICAgICBhZGRDbGFzc2VzKGNsYXNzZXMpIDpcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzc2VzKGNsYXNzZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkQ2xhc3NlcyhjbGFzc2VzKSB7XG4gICAgICAgICAgdmFyIG5ld0NsYXNzZXMgPSBkaWdlc3RDbGFzc0NvdW50cyhjbGFzc2VzLCAxKTtcbiAgICAgICAgICBhdHRyLiRhZGRDbGFzcyhuZXdDbGFzc2VzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMoY2xhc3Nlcykge1xuICAgICAgICAgIHZhciBuZXdDbGFzc2VzID0gZGlnZXN0Q2xhc3NDb3VudHMoY2xhc3NlcywgLTEpO1xuICAgICAgICAgIGF0dHIuJHJlbW92ZUNsYXNzKG5ld0NsYXNzZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZGlnZXN0Q2xhc3NDb3VudHMoY2xhc3NlcywgY291bnQpIHtcbiAgICAgICAgICAvLyBVc2UgY3JlYXRlTWFwKCkgdG8gcHJldmVudCBjbGFzcyBhc3N1bXB0aW9ucyBpbnZvbHZpbmcgcHJvcGVydHlcbiAgICAgICAgICAvLyBuYW1lcyBpbiBPYmplY3QucHJvdG90eXBlXG4gICAgICAgICAgdmFyIGNsYXNzQ291bnRzID0gZWxlbWVudC5kYXRhKCckY2xhc3NDb3VudHMnKSB8fCBjcmVhdGVNYXAoKTtcbiAgICAgICAgICB2YXIgY2xhc3Nlc1RvVXBkYXRlID0gW107XG4gICAgICAgICAgZm9yRWFjaChjbGFzc2VzLCBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIGlmIChjb3VudCA+IDAgfHwgY2xhc3NDb3VudHNbY2xhc3NOYW1lXSkge1xuICAgICAgICAgICAgICBjbGFzc0NvdW50c1tjbGFzc05hbWVdID0gKGNsYXNzQ291bnRzW2NsYXNzTmFtZV0gfHwgMCkgKyBjb3VudDtcbiAgICAgICAgICAgICAgaWYgKGNsYXNzQ291bnRzW2NsYXNzTmFtZV0gPT09ICsoY291bnQgPiAwKSkge1xuICAgICAgICAgICAgICAgIGNsYXNzZXNUb1VwZGF0ZS5wdXNoKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBlbGVtZW50LmRhdGEoJyRjbGFzc0NvdW50cycsIGNsYXNzQ291bnRzKTtcbiAgICAgICAgICByZXR1cm4gY2xhc3Nlc1RvVXBkYXRlLmpvaW4oJyAnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUNsYXNzZXMob2xkQ2xhc3NlcywgbmV3Q2xhc3Nlcykge1xuICAgICAgICAgIHZhciB0b0FkZCA9IGFycmF5RGlmZmVyZW5jZShuZXdDbGFzc2VzLCBvbGRDbGFzc2VzKTtcbiAgICAgICAgICB2YXIgdG9SZW1vdmUgPSBhcnJheURpZmZlcmVuY2Uob2xkQ2xhc3NlcywgbmV3Q2xhc3Nlcyk7XG4gICAgICAgICAgdG9BZGQgPSBkaWdlc3RDbGFzc0NvdW50cyh0b0FkZCwgMSk7XG4gICAgICAgICAgdG9SZW1vdmUgPSBkaWdlc3RDbGFzc0NvdW50cyh0b1JlbW92ZSwgLTEpO1xuICAgICAgICAgIGlmICh0b0FkZCAmJiB0b0FkZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIHRvQWRkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRvUmVtb3ZlICYmIHRvUmVtb3ZlLmxlbmd0aCkge1xuICAgICAgICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoZWxlbWVudCwgdG9SZW1vdmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG5nQ2xhc3NXYXRjaEFjdGlvbihuZXdWYWwpIHtcbiAgICAgICAgICBpZiAoc2VsZWN0b3IgPT09IHRydWUgfHwgc2NvcGUuJGluZGV4ICUgMiA9PT0gc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHZhciBuZXdDbGFzc2VzID0gYXJyYXlDbGFzc2VzKG5ld1ZhbCB8fCBbXSk7XG4gICAgICAgICAgICBpZiAoIW9sZFZhbCkge1xuICAgICAgICAgICAgICBhZGRDbGFzc2VzKG5ld0NsYXNzZXMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghZXF1YWxzKG5ld1ZhbCxvbGRWYWwpKSB7XG4gICAgICAgICAgICAgIHZhciBvbGRDbGFzc2VzID0gYXJyYXlDbGFzc2VzKG9sZFZhbCk7XG4gICAgICAgICAgICAgIHVwZGF0ZUNsYXNzZXMob2xkQ2xhc3NlcywgbmV3Q2xhc3Nlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIG9sZFZhbCA9IHNoYWxsb3dDb3B5KG5ld1ZhbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gYXJyYXlEaWZmZXJlbmNlKHRva2VuczEsIHRva2VuczIpIHtcbiAgICAgIHZhciB2YWx1ZXMgPSBbXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRva2VuczEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHRva2VuID0gdG9rZW5zMVtpXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0b2tlbnMyLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgaWYgKHRva2VuID09IHRva2VuczJbal0pIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlcy5wdXNoKHRva2VuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXJyYXlDbGFzc2VzKGNsYXNzVmFsKSB7XG4gICAgICB2YXIgY2xhc3NlcyA9IFtdO1xuICAgICAgaWYgKGlzQXJyYXkoY2xhc3NWYWwpKSB7XG4gICAgICAgIGZvckVhY2goY2xhc3NWYWwsIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICBjbGFzc2VzID0gY2xhc3Nlcy5jb25jYXQoYXJyYXlDbGFzc2VzKHYpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbGFzc2VzO1xuICAgICAgfSBlbHNlIGlmIChpc1N0cmluZyhjbGFzc1ZhbCkpIHtcbiAgICAgICAgcmV0dXJuIGNsYXNzVmFsLnNwbGl0KCcgJyk7XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGNsYXNzVmFsKSkge1xuICAgICAgICBmb3JFYWNoKGNsYXNzVmFsLCBmdW5jdGlvbih2LCBrKSB7XG4gICAgICAgICAgaWYgKHYpIHtcbiAgICAgICAgICAgIGNsYXNzZXMgPSBjbGFzc2VzLmNvbmNhdChrLnNwbGl0KCcgJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjbGFzc2VzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNsYXNzVmFsO1xuICAgIH1cbiAgfV07XG59XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDbGFzc1xuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQ2xhc3NgIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIGR5bmFtaWNhbGx5IHNldCBDU1MgY2xhc3NlcyBvbiBhbiBIVE1MIGVsZW1lbnQgYnkgZGF0YWJpbmRpbmdcbiAqIGFuIGV4cHJlc3Npb24gdGhhdCByZXByZXNlbnRzIGFsbCBjbGFzc2VzIHRvIGJlIGFkZGVkLlxuICpcbiAqIFRoZSBkaXJlY3RpdmUgb3BlcmF0ZXMgaW4gdGhyZWUgZGlmZmVyZW50IHdheXMsIGRlcGVuZGluZyBvbiB3aGljaCBvZiB0aHJlZSB0eXBlcyB0aGUgZXhwcmVzc2lvblxuICogZXZhbHVhdGVzIHRvOlxuICpcbiAqIDEuIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlIHN0cmluZyBzaG91bGQgYmUgb25lIG9yIG1vcmUgc3BhY2UtZGVsaW1pdGVkIGNsYXNzXG4gKiBuYW1lcy5cbiAqXG4gKiAyLiBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYW4gb2JqZWN0LCB0aGVuIGZvciBlYWNoIGtleS12YWx1ZSBwYWlyIG9mIHRoZVxuICogb2JqZWN0IHdpdGggYSB0cnV0aHkgdmFsdWUgdGhlIGNvcnJlc3BvbmRpbmcga2V5IGlzIHVzZWQgYXMgYSBjbGFzcyBuYW1lLlxuICpcbiAqIDMuIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhbiBhcnJheSwgZWFjaCBlbGVtZW50IG9mIHRoZSBhcnJheSBzaG91bGQgZWl0aGVyIGJlIGEgc3RyaW5nIGFzIGluXG4gKiB0eXBlIDEgb3IgYW4gb2JqZWN0IGFzIGluIHR5cGUgMi4gVGhpcyBtZWFucyB0aGF0IHlvdSBjYW4gbWl4IHN0cmluZ3MgYW5kIG9iamVjdHMgdG9nZXRoZXIgaW4gYW4gYXJyYXlcbiAqIHRvIGdpdmUgeW91IG1vcmUgY29udHJvbCBvdmVyIHdoYXQgQ1NTIGNsYXNzZXMgYXBwZWFyLiBTZWUgdGhlIGNvZGUgYmVsb3cgZm9yIGFuIGV4YW1wbGUgb2YgdGhpcy5cbiAqXG4gKlxuICogVGhlIGRpcmVjdGl2ZSB3b24ndCBhZGQgZHVwbGljYXRlIGNsYXNzZXMgaWYgYSBwYXJ0aWN1bGFyIGNsYXNzIHdhcyBhbHJlYWR5IHNldC5cbiAqXG4gKiBXaGVuIHRoZSBleHByZXNzaW9uIGNoYW5nZXMsIHRoZSBwcmV2aW91c2x5IGFkZGVkIGNsYXNzZXMgYXJlIHJlbW92ZWQgYW5kIG9ubHkgdGhlbiBhcmUgdGhlXG4gKiBuZXcgY2xhc3NlcyBhZGRlZC5cbiAqXG4gKiBAYW5pbWF0aW9uc1xuICogKiphZGQqKiAtIGhhcHBlbnMganVzdCBiZWZvcmUgdGhlIGNsYXNzIGlzIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnRzXG4gKlxuICogKipyZW1vdmUqKiAtIGhhcHBlbnMganVzdCBiZWZvcmUgdGhlIGNsYXNzIGlzIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudFxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NsYXNzIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWwuIFRoZSByZXN1bHRcbiAqICAgb2YgdGhlIGV2YWx1YXRpb24gY2FuIGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyBzcGFjZSBkZWxpbWl0ZWQgY2xhc3NcbiAqICAgbmFtZXMsIGFuIGFycmF5LCBvciBhIG1hcCBvZiBjbGFzcyBuYW1lcyB0byBib29sZWFuIHZhbHVlcy4gSW4gdGhlIGNhc2Ugb2YgYSBtYXAsIHRoZVxuICogICBuYW1lcyBvZiB0aGUgcHJvcGVydGllcyB3aG9zZSB2YWx1ZXMgYXJlIHRydXRoeSB3aWxsIGJlIGFkZGVkIGFzIGNzcyBjbGFzc2VzIHRvIHRoZVxuICogICBlbGVtZW50LlxuICpcbiAqIEBleGFtcGxlIEV4YW1wbGUgdGhhdCBkZW1vbnN0cmF0ZXMgYmFzaWMgYmluZGluZ3MgdmlhIG5nQ2xhc3MgZGlyZWN0aXZlLlxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHAgbmctY2xhc3M9XCJ7c3RyaWtlOiBkZWxldGVkLCBib2xkOiBpbXBvcnRhbnQsICdoYXMtZXJyb3InOiBlcnJvcn1cIj5NYXAgU3ludGF4IEV4YW1wbGU8L3A+XG4gICAgICAgPGxhYmVsPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImRlbGV0ZWRcIj5cbiAgICAgICAgICBkZWxldGVkIChhcHBseSBcInN0cmlrZVwiIGNsYXNzKVxuICAgICAgIDwvbGFiZWw+PGJyPlxuICAgICAgIDxsYWJlbD5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJpbXBvcnRhbnRcIj5cbiAgICAgICAgICBpbXBvcnRhbnQgKGFwcGx5IFwiYm9sZFwiIGNsYXNzKVxuICAgICAgIDwvbGFiZWw+PGJyPlxuICAgICAgIDxsYWJlbD5cbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJlcnJvclwiPlxuICAgICAgICAgIGVycm9yIChhcHBseSBcImhhcy1lcnJvclwiIGNsYXNzKVxuICAgICAgIDwvbGFiZWw+XG4gICAgICAgPGhyPlxuICAgICAgIDxwIG5nLWNsYXNzPVwic3R5bGVcIj5Vc2luZyBTdHJpbmcgU3ludGF4PC9wPlxuICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwic3R5bGVcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGU6IGJvbGQgc3RyaWtlIHJlZFwiIGFyaWEtbGFiZWw9XCJUeXBlOiBib2xkIHN0cmlrZSByZWRcIj5cbiAgICAgICA8aHI+XG4gICAgICAgPHAgbmctY2xhc3M9XCJbc3R5bGUxLCBzdHlsZTIsIHN0eWxlM11cIj5Vc2luZyBBcnJheSBTeW50YXg8L3A+XG4gICAgICAgPGlucHV0IG5nLW1vZGVsPVwic3R5bGUxXCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkXCIgYXJpYS1sYWJlbD1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWRcIj48YnI+XG4gICAgICAgPGlucHV0IG5nLW1vZGVsPVwic3R5bGUyXCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkXCIgYXJpYS1sYWJlbD1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWQgMlwiPjxicj5cbiAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJzdHlsZTNcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWRcIiBhcmlhLWxhYmVsPVwiVHlwZTogYm9sZCwgc3RyaWtlIG9yIHJlZCAzXCI+PGJyPlxuICAgICAgIDxocj5cbiAgICAgICA8cCBuZy1jbGFzcz1cIltzdHlsZTQsIHtvcmFuZ2U6IHdhcm5pbmd9XVwiPlVzaW5nIEFycmF5IGFuZCBNYXAgU3ludGF4PC9wPlxuICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInN0eWxlNFwiIHBsYWNlaG9sZGVyPVwiVHlwZTogYm9sZCwgc3RyaWtlXCIgYXJpYS1sYWJlbD1cIlR5cGU6IGJvbGQsIHN0cmlrZVwiPjxicj5cbiAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwid2FybmluZ1wiPiB3YXJuaW5nIChhcHBseSBcIm9yYW5nZVwiIGNsYXNzKTwvbGFiZWw+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5zdHJpa2Uge1xuICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcbiAgICAgICB9XG4gICAgICAgLmJvbGQge1xuICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICB9XG4gICAgICAgLnJlZCB7XG4gICAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgfVxuICAgICAgIC5oYXMtZXJyb3Ige1xuICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB5ZWxsb3c7XG4gICAgICAgfVxuICAgICAgIC5vcmFuZ2Uge1xuICAgICAgICAgICBjb2xvcjogb3JhbmdlO1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgdmFyIHBzID0gZWxlbWVudC5hbGwoYnkuY3NzKCdwJykpO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBsZXQgeW91IHRvZ2dsZSB0aGUgY2xhc3MnLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QudG9NYXRjaCgvYm9sZC8pO1xuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QudG9NYXRjaCgvaGFzLWVycm9yLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2ltcG9ydGFudCcpKS5jbGljaygpO1xuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b01hdGNoKC9ib2xkLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2Vycm9yJykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QocHMuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvTWF0Y2goL2hhcy1lcnJvci8pO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCBsZXQgeW91IHRvZ2dsZSBzdHJpbmcgZXhhbXBsZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KHBzLmdldCgxKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUnKSkuY2xlYXIoKTtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3N0eWxlJykpLnNlbmRLZXlzKCdyZWQnKTtcbiAgICAgICAgIGV4cGVjdChwcy5nZXQoMSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCdyZWQnKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdhcnJheSBleGFtcGxlIHNob3VsZCBoYXZlIDMgY2xhc3NlcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KHBzLmdldCgyKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUxJykpLnNlbmRLZXlzKCdib2xkJyk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZTInKSkuc2VuZEtleXMoJ3N0cmlrZScpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUzJykpLnNlbmRLZXlzKCdyZWQnKTtcbiAgICAgICAgIGV4cGVjdChwcy5nZXQoMikuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCdib2xkIHN0cmlrZSByZWQnKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdhcnJheSB3aXRoIG1hcCBleGFtcGxlIHNob3VsZCBoYXZlIDIgY2xhc3NlcycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KHBzLmxhc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGU0JykpLnNlbmRLZXlzKCdib2xkJyk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd3YXJuaW5nJykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QocHMubGFzdCgpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9CZSgnYm9sZCBvcmFuZ2UnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuXG4gICAjIyBBbmltYXRpb25zXG5cbiAgIFRoZSBleGFtcGxlIGJlbG93IGRlbW9uc3RyYXRlcyBob3cgdG8gcGVyZm9ybSBhbmltYXRpb25zIHVzaW5nIG5nQ2xhc3MuXG5cbiAgIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IGlkPVwic2V0YnRuXCIgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwic2V0XCIgbmctY2xpY2s9XCJteVZhcj0nbXktY2xhc3MnXCI+XG4gICAgICA8aW5wdXQgaWQ9XCJjbGVhcmJ0blwiIHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cImNsZWFyXCIgbmctY2xpY2s9XCJteVZhcj0nJ1wiPlxuICAgICAgPGJyPlxuICAgICAgPHNwYW4gY2xhc3M9XCJiYXNlLWNsYXNzXCIgbmctY2xhc3M9XCJteVZhclwiPlNhbXBsZSBUZXh0PC9zcGFuPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAuYmFzZS1jbGFzcyB7XG4gICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcbiAgICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcbiAgICAgICB9XG5cbiAgICAgICAuYmFzZS1jbGFzcy5teS1jbGFzcyB7XG4gICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgZm9udC1zaXplOjNlbTtcbiAgICAgICB9XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctY2xhc3MnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLmJhc2UtY2xhc3MnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QuXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ3NldGJ0bicpKS5jbGljaygpO1xuXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJy5iYXNlLWNsYXNzJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XG5cbiAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2NsZWFyYnRuJykpLmNsaWNrKCk7XG5cbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLmJhc2UtY2xhc3MnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QuXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cblxuXG4gICAjIyBuZ0NsYXNzIGFuZCBwcmUtZXhpc3RpbmcgQ1NTMyBUcmFuc2l0aW9ucy9BbmltYXRpb25zXG4gICBUaGUgbmdDbGFzcyBkaXJlY3RpdmUgc3RpbGwgc3VwcG9ydHMgQ1NTMyBUcmFuc2l0aW9ucy9BbmltYXRpb25zIGV2ZW4gaWYgdGhleSBkbyBub3QgZm9sbG93IHRoZSBuZ0FuaW1hdGUgQ1NTIG5hbWluZyBzdHJ1Y3R1cmUuXG4gICBVcG9uIGFuaW1hdGlvbiBuZ0FuaW1hdGUgd2lsbCBhcHBseSBzdXBwbGVtZW50YXJ5IENTUyBjbGFzc2VzIHRvIHRyYWNrIHRoZSBzdGFydCBhbmQgZW5kIG9mIGFuIGFuaW1hdGlvbiwgYnV0IHRoaXMgd2lsbCBub3QgaGluZGVyXG4gICBhbnkgcHJlLWV4aXN0aW5nIENTUyB0cmFuc2l0aW9ucyBhbHJlYWR5IG9uIHRoZSBlbGVtZW50LiBUbyBnZXQgYW4gaWRlYSBvZiB3aGF0IGhhcHBlbnMgZHVyaW5nIGEgY2xhc3MtYmFzZWQgYW5pbWF0aW9uLCBiZSBzdXJlXG4gICB0byB2aWV3IHRoZSBzdGVwIGJ5IHN0ZXAgZGV0YWlscyBvZiB7QGxpbmsgJGFuaW1hdGUjYWRkQ2xhc3MgJGFuaW1hdGUuYWRkQ2xhc3N9IGFuZFxuICAge0BsaW5rICRhbmltYXRlI3JlbW92ZUNsYXNzICRhbmltYXRlLnJlbW92ZUNsYXNzfS5cbiAqL1xudmFyIG5nQ2xhc3NEaXJlY3RpdmUgPSBjbGFzc0RpcmVjdGl2ZSgnJywgdHJ1ZSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDbGFzc09kZFxuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQ2xhc3NPZGRgIGFuZCBgbmdDbGFzc0V2ZW5gIGRpcmVjdGl2ZXMgd29yayBleGFjdGx5IGFzXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xhc3MgbmdDbGFzc30sIGV4Y2VwdCB0aGV5IHdvcmsgaW5cbiAqIGNvbmp1bmN0aW9uIHdpdGggYG5nUmVwZWF0YCBhbmQgdGFrZSBlZmZlY3Qgb25seSBvbiBvZGQgKGV2ZW4pIHJvd3MuXG4gKlxuICogVGhpcyBkaXJlY3RpdmUgY2FuIGJlIGFwcGxpZWQgb25seSB3aXRoaW4gdGhlIHNjb3BlIG9mIGFuXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fS5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDbGFzc09kZCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLiBUaGUgcmVzdWx0XG4gKiAgIG9mIHRoZSBldmFsdWF0aW9uIGNhbiBiZSBhIHN0cmluZyByZXByZXNlbnRpbmcgc3BhY2UgZGVsaW1pdGVkIGNsYXNzIG5hbWVzIG9yIGFuIGFycmF5LlxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPG9sIG5nLWluaXQ9XCJuYW1lcz1bJ0pvaG4nLCAnTWFyeScsICdDYXRlJywgJ1N1eiddXCI+XG4gICAgICAgICAgPGxpIG5nLXJlcGVhdD1cIm5hbWUgaW4gbmFtZXNcIj5cbiAgICAgICAgICAgPHNwYW4gbmctY2xhc3Mtb2RkPVwiJ29kZCdcIiBuZy1jbGFzcy1ldmVuPVwiJ2V2ZW4nXCI+XG4gICAgICAgICAgICAge3tuYW1lfX1cbiAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvb2w+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgIC5vZGQge1xuICAgICAgICAgY29sb3I6IHJlZDtcbiAgICAgICB9XG4gICAgICAgLmV2ZW4ge1xuICAgICAgICAgY29sb3I6IGJsdWU7XG4gICAgICAgfVxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWNsYXNzLW9kZCBhbmQgbmctY2xhc3MtZXZlbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkucmVwZWF0ZXIoJ25hbWUgaW4gbmFtZXMnKS5yb3coMCkuY29sdW1uKCduYW1lJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXG4gICAgICAgICAgIHRvTWF0Y2goL29kZC8pO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkucmVwZWF0ZXIoJ25hbWUgaW4gbmFtZXMnKS5yb3coMSkuY29sdW1uKCduYW1lJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXG4gICAgICAgICAgIHRvTWF0Y2goL2V2ZW4vKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdDbGFzc09kZERpcmVjdGl2ZSA9IGNsYXNzRGlyZWN0aXZlKCdPZGQnLCAwKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NsYXNzRXZlblxuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nQ2xhc3NPZGRgIGFuZCBgbmdDbGFzc0V2ZW5gIGRpcmVjdGl2ZXMgd29yayBleGFjdGx5IGFzXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xhc3MgbmdDbGFzc30sIGV4Y2VwdCB0aGV5IHdvcmsgaW5cbiAqIGNvbmp1bmN0aW9uIHdpdGggYG5nUmVwZWF0YCBhbmQgdGFrZSBlZmZlY3Qgb25seSBvbiBvZGQgKGV2ZW4pIHJvd3MuXG4gKlxuICogVGhpcyBkaXJlY3RpdmUgY2FuIGJlIGFwcGxpZWQgb25seSB3aXRoaW4gdGhlIHNjb3BlIG9mIGFuXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fS5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDbGFzc0V2ZW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC4gVGhlXG4gKiAgIHJlc3VsdCBvZiB0aGUgZXZhbHVhdGlvbiBjYW4gYmUgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHNwYWNlIGRlbGltaXRlZCBjbGFzcyBuYW1lcyBvciBhbiBhcnJheS5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxvbCBuZy1pbml0PVwibmFtZXM9WydKb2huJywgJ01hcnknLCAnQ2F0ZScsICdTdXonXVwiPlxuICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJuYW1lIGluIG5hbWVzXCI+XG4gICAgICAgICAgIDxzcGFuIG5nLWNsYXNzLW9kZD1cIidvZGQnXCIgbmctY2xhc3MtZXZlbj1cIidldmVuJ1wiPlxuICAgICAgICAgICAgIHt7bmFtZX19ICZuYnNwOyAmbmJzcDsgJm5ic3A7XG4gICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICA8L29sPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICAub2RkIHtcbiAgICAgICAgIGNvbG9yOiByZWQ7XG4gICAgICAgfVxuICAgICAgIC5ldmVuIHtcbiAgICAgICAgIGNvbG9yOiBibHVlO1xuICAgICAgIH1cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1jbGFzcy1vZGQgYW5kIG5nLWNsYXNzLWV2ZW4nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LnJlcGVhdGVyKCduYW1lIGluIG5hbWVzJykucm93KDApLmNvbHVtbignbmFtZScpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxuICAgICAgICAgICB0b01hdGNoKC9vZGQvKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LnJlcGVhdGVyKCduYW1lIGluIG5hbWVzJykucm93KDEpLmNvbHVtbignbmFtZScpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxuICAgICAgICAgICB0b01hdGNoKC9ldmVuLyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nQ2xhc3NFdmVuRGlyZWN0aXZlID0gY2xhc3NEaXJlY3RpdmUoJ0V2ZW4nLCAxKTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0Nsb2FrXG4gKiBAcmVzdHJpY3QgQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdDbG9ha2AgZGlyZWN0aXZlIGlzIHVzZWQgdG8gcHJldmVudCB0aGUgQW5ndWxhciBodG1sIHRlbXBsYXRlIGZyb20gYmVpbmcgYnJpZWZseVxuICogZGlzcGxheWVkIGJ5IHRoZSBicm93c2VyIGluIGl0cyByYXcgKHVuY29tcGlsZWQpIGZvcm0gd2hpbGUgeW91ciBhcHBsaWNhdGlvbiBpcyBsb2FkaW5nLiBVc2UgdGhpc1xuICogZGlyZWN0aXZlIHRvIGF2b2lkIHRoZSB1bmRlc2lyYWJsZSBmbGlja2VyIGVmZmVjdCBjYXVzZWQgYnkgdGhlIGh0bWwgdGVtcGxhdGUgZGlzcGxheS5cbiAqXG4gKiBUaGUgZGlyZWN0aXZlIGNhbiBiZSBhcHBsaWVkIHRvIHRoZSBgPGJvZHk+YCBlbGVtZW50LCBidXQgdGhlIHByZWZlcnJlZCB1c2FnZSBpcyB0byBhcHBseVxuICogbXVsdGlwbGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZXMgdG8gc21hbGwgcG9ydGlvbnMgb2YgdGhlIHBhZ2UgdG8gcGVybWl0IHByb2dyZXNzaXZlIHJlbmRlcmluZ1xuICogb2YgdGhlIGJyb3dzZXIgdmlldy5cbiAqXG4gKiBgbmdDbG9ha2Agd29ya3MgaW4gY29vcGVyYXRpb24gd2l0aCB0aGUgZm9sbG93aW5nIGNzcyBydWxlIGVtYmVkZGVkIHdpdGhpbiBgYW5ndWxhci5qc2AgYW5kXG4gKiBgYW5ndWxhci5taW4uanNgLlxuICogRm9yIENTUCBtb2RlIHBsZWFzZSBhZGQgYGFuZ3VsYXItY3NwLmNzc2AgdG8geW91ciBodG1sIGZpbGUgKHNlZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ3NwIG5nQ3NwfSkuXG4gKlxuICogYGBgY3NzXG4gKiBbbmdcXDpjbG9ha10sIFtuZy1jbG9ha10sIFtkYXRhLW5nLWNsb2FrXSwgW3gtbmctY2xvYWtdLCAubmctY2xvYWssIC54LW5nLWNsb2FrIHtcbiAqICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICogfVxuICogYGBgXG4gKlxuICogV2hlbiB0aGlzIGNzcyBydWxlIGlzIGxvYWRlZCBieSB0aGUgYnJvd3NlciwgYWxsIGh0bWwgZWxlbWVudHMgKGluY2x1ZGluZyB0aGVpciBjaGlsZHJlbikgdGhhdFxuICogYXJlIHRhZ2dlZCB3aXRoIHRoZSBgbmdDbG9ha2AgZGlyZWN0aXZlIGFyZSBoaWRkZW4uIFdoZW4gQW5ndWxhciBlbmNvdW50ZXJzIHRoaXMgZGlyZWN0aXZlXG4gKiBkdXJpbmcgdGhlIGNvbXBpbGF0aW9uIG9mIHRoZSB0ZW1wbGF0ZSBpdCBkZWxldGVzIHRoZSBgbmdDbG9ha2AgZWxlbWVudCBhdHRyaWJ1dGUsIG1ha2luZ1xuICogdGhlIGNvbXBpbGVkIGVsZW1lbnQgdmlzaWJsZS5cbiAqXG4gKiBGb3IgdGhlIGJlc3QgcmVzdWx0LCB0aGUgYGFuZ3VsYXIuanNgIHNjcmlwdCBtdXN0IGJlIGxvYWRlZCBpbiB0aGUgaGVhZCBzZWN0aW9uIG9mIHRoZSBodG1sXG4gKiBkb2N1bWVudDsgYWx0ZXJuYXRpdmVseSwgdGhlIGNzcyBydWxlIGFib3ZlIG11c3QgYmUgaW5jbHVkZWQgaW4gdGhlIGV4dGVybmFsIHN0eWxlc2hlZXQgb2YgdGhlXG4gKiBhcHBsaWNhdGlvbi5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxkaXYgaWQ9XCJ0ZW1wbGF0ZTFcIiBuZy1jbG9haz57eyAnaGVsbG8nIH19PC9kaXY+XG4gICAgICAgIDxkaXYgaWQ9XCJ0ZW1wbGF0ZTJcIiBjbGFzcz1cIm5nLWNsb2FrXCI+e3sgJ3dvcmxkJyB9fTwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIHJlbW92ZSB0aGUgdGVtcGxhdGUgZGlyZWN0aXZlIGFuZCBjc3MgY2xhc3MnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdCgkKCcjdGVtcGxhdGUxJykuZ2V0QXR0cmlidXRlKCduZy1jbG9haycpKS5cbiAgICAgICAgICAgdG9CZU51bGwoKTtcbiAgICAgICAgIGV4cGVjdCgkKCcjdGVtcGxhdGUyJykuZ2V0QXR0cmlidXRlKCduZy1jbG9haycpKS5cbiAgICAgICAgICAgdG9CZU51bGwoKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICpcbiAqL1xudmFyIG5nQ2xvYWtEaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7XG4gIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICBhdHRyLiRzZXQoJ25nQ2xvYWsnLCB1bmRlZmluZWQpO1xuICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ25nLWNsb2FrJyk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nQ29udHJvbGxlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0NvbnRyb2xsZXJgIGRpcmVjdGl2ZSBhdHRhY2hlcyBhIGNvbnRyb2xsZXIgY2xhc3MgdG8gdGhlIHZpZXcuIFRoaXMgaXMgYSBrZXkgYXNwZWN0IG9mIGhvdyBhbmd1bGFyXG4gKiBzdXBwb3J0cyB0aGUgcHJpbmNpcGxlcyBiZWhpbmQgdGhlIE1vZGVsLVZpZXctQ29udHJvbGxlciBkZXNpZ24gcGF0dGVybi5cbiAqXG4gKiBNVkMgY29tcG9uZW50cyBpbiBhbmd1bGFyOlxuICpcbiAqICogTW9kZWwg4oCUIE1vZGVscyBhcmUgdGhlIHByb3BlcnRpZXMgb2YgYSBzY29wZTsgc2NvcGVzIGFyZSBhdHRhY2hlZCB0byB0aGUgRE9NIHdoZXJlIHNjb3BlIHByb3BlcnRpZXNcbiAqICAgYXJlIGFjY2Vzc2VkIHRocm91Z2ggYmluZGluZ3MuXG4gKiAqIFZpZXcg4oCUIFRoZSB0ZW1wbGF0ZSAoSFRNTCB3aXRoIGRhdGEgYmluZGluZ3MpIHRoYXQgaXMgcmVuZGVyZWQgaW50byB0aGUgVmlldy5cbiAqICogQ29udHJvbGxlciDigJQgVGhlIGBuZ0NvbnRyb2xsZXJgIGRpcmVjdGl2ZSBzcGVjaWZpZXMgYSBDb250cm9sbGVyIGNsYXNzOyB0aGUgY2xhc3MgY29udGFpbnMgYnVzaW5lc3NcbiAqICAgbG9naWMgYmVoaW5kIHRoZSBhcHBsaWNhdGlvbiB0byBkZWNvcmF0ZSB0aGUgc2NvcGUgd2l0aCBmdW5jdGlvbnMgYW5kIHZhbHVlc1xuICpcbiAqIE5vdGUgdGhhdCB5b3UgY2FuIGFsc28gYXR0YWNoIGNvbnRyb2xsZXJzIHRvIHRoZSBET00gYnkgZGVjbGFyaW5nIGl0IGluIGEgcm91dGUgZGVmaW5pdGlvblxuICogdmlhIHRoZSB7QGxpbmsgbmdSb3V0ZS4kcm91dGUgJHJvdXRlfSBzZXJ2aWNlLiBBIGNvbW1vbiBtaXN0YWtlIGlzIHRvIGRlY2xhcmUgdGhlIGNvbnRyb2xsZXJcbiAqIGFnYWluIHVzaW5nIGBuZy1jb250cm9sbGVyYCBpbiB0aGUgdGVtcGxhdGUgaXRzZWxmLiAgVGhpcyB3aWxsIGNhdXNlIHRoZSBjb250cm9sbGVyIHRvIGJlIGF0dGFjaGVkXG4gKiBhbmQgZXhlY3V0ZWQgdHdpY2UuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAc2NvcGVcbiAqIEBwcmlvcml0eSA1MDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDb250cm9sbGVyIE5hbWUgb2YgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiByZWdpc3RlcmVkIHdpdGggdGhlIGN1cnJlbnRcbiAqIHtAbGluayBuZy4kY29udHJvbGxlclByb3ZpZGVyICRjb250cm9sbGVyUHJvdmlkZXJ9IG9yIGFuIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259XG4gKiB0aGF0IG9uIHRoZSBjdXJyZW50IHNjb3BlIGV2YWx1YXRlcyB0byBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICpcbiAqIFRoZSBjb250cm9sbGVyIGluc3RhbmNlIGNhbiBiZSBwdWJsaXNoZWQgaW50byBhIHNjb3BlIHByb3BlcnR5IGJ5IHNwZWNpZnlpbmdcbiAqIGBuZy1jb250cm9sbGVyPVwiYXMgcHJvcGVydHlOYW1lXCJgLlxuICpcbiAqIElmIHRoZSBjdXJyZW50IGAkY29udHJvbGxlclByb3ZpZGVyYCBpcyBjb25maWd1cmVkIHRvIHVzZSBnbG9iYWxzICh2aWFcbiAqIHtAbGluayBuZy4kY29udHJvbGxlclByb3ZpZGVyI2FsbG93R2xvYmFscyBgJGNvbnRyb2xsZXJQcm92aWRlci5hbGxvd0dsb2JhbHMoKWAgfSksIHRoaXMgbWF5XG4gKiBhbHNvIGJlIHRoZSBuYW1lIG9mIGEgZ2xvYmFsbHkgYWNjZXNzaWJsZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiAobm90IHJlY29tbWVuZGVkKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogSGVyZSBpcyBhIHNpbXBsZSBmb3JtIGZvciBlZGl0aW5nIHVzZXIgY29udGFjdCBpbmZvcm1hdGlvbi4gQWRkaW5nLCByZW1vdmluZywgY2xlYXJpbmcsIGFuZFxuICogZ3JlZXRpbmcgYXJlIG1ldGhvZHMgZGVjbGFyZWQgb24gdGhlIGNvbnRyb2xsZXIgKHNlZSBzb3VyY2UgdGFiKS4gVGhlc2UgbWV0aG9kcyBjYW5cbiAqIGVhc2lseSBiZSBjYWxsZWQgZnJvbSB0aGUgYW5ndWxhciBtYXJrdXAuIEFueSBjaGFuZ2VzIHRvIHRoZSBkYXRhIGFyZSBhdXRvbWF0aWNhbGx5IHJlZmxlY3RlZFxuICogaW4gdGhlIFZpZXcgd2l0aG91dCB0aGUgbmVlZCBmb3IgYSBtYW51YWwgdXBkYXRlLlxuICpcbiAqIFR3byBkaWZmZXJlbnQgZGVjbGFyYXRpb24gc3R5bGVzIGFyZSBpbmNsdWRlZCBiZWxvdzpcbiAqXG4gKiAqIG9uZSBiaW5kcyBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGRpcmVjdGx5IG9udG8gdGhlIGNvbnRyb2xsZXIgdXNpbmcgYHRoaXNgOlxuICogYG5nLWNvbnRyb2xsZXI9XCJTZXR0aW5nc0NvbnRyb2xsZXIxIGFzIHNldHRpbmdzXCJgXG4gKiAqIG9uZSBpbmplY3RzIGAkc2NvcGVgIGludG8gdGhlIGNvbnRyb2xsZXI6XG4gKiBgbmctY29udHJvbGxlcj1cIlNldHRpbmdzQ29udHJvbGxlcjJcImBcbiAqXG4gKiBUaGUgc2Vjb25kIG9wdGlvbiBpcyBtb3JlIGNvbW1vbiBpbiB0aGUgQW5ndWxhciBjb21tdW5pdHksIGFuZCBpcyBnZW5lcmFsbHkgdXNlZCBpbiBib2lsZXJwbGF0ZXNcbiAqIGFuZCBpbiB0aGlzIGd1aWRlLiBIb3dldmVyLCB0aGVyZSBhcmUgYWR2YW50YWdlcyB0byBiaW5kaW5nIHByb3BlcnRpZXMgZGlyZWN0bHkgdG8gdGhlIGNvbnRyb2xsZXJcbiAqIGFuZCBhdm9pZGluZyBzY29wZS5cbiAqXG4gKiAqIFVzaW5nIGBjb250cm9sbGVyIGFzYCBtYWtlcyBpdCBvYnZpb3VzIHdoaWNoIGNvbnRyb2xsZXIgeW91IGFyZSBhY2Nlc3NpbmcgaW4gdGhlIHRlbXBsYXRlIHdoZW5cbiAqIG11bHRpcGxlIGNvbnRyb2xsZXJzIGFwcGx5IHRvIGFuIGVsZW1lbnQuXG4gKiAqIElmIHlvdSBhcmUgd3JpdGluZyB5b3VyIGNvbnRyb2xsZXJzIGFzIGNsYXNzZXMgeW91IGhhdmUgZWFzaWVyIGFjY2VzcyB0byB0aGUgcHJvcGVydGllcyBhbmRcbiAqIG1ldGhvZHMsIHdoaWNoIHdpbGwgYXBwZWFyIG9uIHRoZSBzY29wZSwgZnJvbSBpbnNpZGUgdGhlIGNvbnRyb2xsZXIgY29kZS5cbiAqICogU2luY2UgdGhlcmUgaXMgYWx3YXlzIGEgYC5gIGluIHRoZSBiaW5kaW5ncywgeW91IGRvbid0IGhhdmUgdG8gd29ycnkgYWJvdXQgcHJvdG90eXBhbFxuICogaW5oZXJpdGFuY2UgbWFza2luZyBwcmltaXRpdmVzLlxuICpcbiAqIFRoaXMgZXhhbXBsZSBkZW1vbnN0cmF0ZXMgdGhlIGBjb250cm9sbGVyIGFzYCBzeW50YXguXG4gKlxuICogPGV4YW1wbGUgbmFtZT1cIm5nQ29udHJvbGxlckFzXCIgbW9kdWxlPVwiY29udHJvbGxlckFzRXhhbXBsZVwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgPGRpdiBpZD1cImN0cmwtYXMtZXhtcGxcIiBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMSBhcyBzZXR0aW5nc1wiPlxuICogICAgICA8bGFiZWw+TmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJzZXR0aW5ncy5uYW1lXCIvPjwvbGFiZWw+XG4gKiAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzZXR0aW5ncy5ncmVldCgpXCI+Z3JlZXQ8L2J1dHRvbj48YnIvPlxuICogICAgICBDb250YWN0OlxuICogICAgICA8dWw+XG4gKiAgICAgICAgPGxpIG5nLXJlcGVhdD1cImNvbnRhY3QgaW4gc2V0dGluZ3MuY29udGFjdHNcIj5cbiAqICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJjb250YWN0LnR5cGVcIiBhcmlhLWxhYmVsPVwiQ29udGFjdCBtZXRob2RcIiBpZD1cInNlbGVjdF97eyRpbmRleH19XCI+XG4gKiAgICAgICAgICAgICA8b3B0aW9uPnBob25lPC9vcHRpb24+XG4gKiAgICAgICAgICAgICA8b3B0aW9uPmVtYWlsPC9vcHRpb24+XG4gKiAgICAgICAgICA8L3NlbGVjdD5cbiAqICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwiY29udGFjdC52YWx1ZVwiIGFyaWEtbGFiZWxsZWRieT1cInNlbGVjdF97eyRpbmRleH19XCIgLz5cbiAqICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzZXR0aW5ncy5jbGVhckNvbnRhY3QoY29udGFjdClcIj5jbGVhcjwvYnV0dG9uPlxuICogICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNldHRpbmdzLnJlbW92ZUNvbnRhY3QoY29udGFjdClcIiBhcmlhLWxhYmVsPVwiUmVtb3ZlXCI+WDwvYnV0dG9uPlxuICogICAgICAgIDwvbGk+XG4gKiAgICAgICAgPGxpPjxidXR0b24gbmctY2xpY2s9XCJzZXR0aW5ncy5hZGRDb250YWN0KClcIj5hZGQ8L2J1dHRvbj48L2xpPlxuICogICAgIDwvdWw+XG4gKiAgICA8L2Rpdj5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XG4gKiAgICBhbmd1bGFyLm1vZHVsZSgnY29udHJvbGxlckFzRXhhbXBsZScsIFtdKVxuICogICAgICAuY29udHJvbGxlcignU2V0dGluZ3NDb250cm9sbGVyMScsIFNldHRpbmdzQ29udHJvbGxlcjEpO1xuICpcbiAqICAgIGZ1bmN0aW9uIFNldHRpbmdzQ29udHJvbGxlcjEoKSB7XG4gKiAgICAgIHRoaXMubmFtZSA9IFwiSm9obiBTbWl0aFwiO1xuICogICAgICB0aGlzLmNvbnRhY3RzID0gW1xuICogICAgICAgIHt0eXBlOiAncGhvbmUnLCB2YWx1ZTogJzQwOCA1NTUgMTIxMid9LFxuICogICAgICAgIHt0eXBlOiAnZW1haWwnLCB2YWx1ZTogJ2pvaG4uc21pdGhAZXhhbXBsZS5vcmcnfSBdO1xuICogICAgfVxuICpcbiAqICAgIFNldHRpbmdzQ29udHJvbGxlcjEucHJvdG90eXBlLmdyZWV0ID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgIGFsZXJ0KHRoaXMubmFtZSk7XG4gKiAgICB9O1xuICpcbiAqICAgIFNldHRpbmdzQ29udHJvbGxlcjEucHJvdG90eXBlLmFkZENvbnRhY3QgPSBmdW5jdGlvbigpIHtcbiAqICAgICAgdGhpcy5jb250YWN0cy5wdXNoKHt0eXBlOiAnZW1haWwnLCB2YWx1ZTogJ3lvdXJuYW1lQGV4YW1wbGUub3JnJ30pO1xuICogICAgfTtcbiAqXG4gKiAgICBTZXR0aW5nc0NvbnRyb2xsZXIxLnByb3RvdHlwZS5yZW1vdmVDb250YWN0ID0gZnVuY3Rpb24oY29udGFjdFRvUmVtb3ZlKSB7XG4gKiAgICAgdmFyIGluZGV4ID0gdGhpcy5jb250YWN0cy5pbmRleE9mKGNvbnRhY3RUb1JlbW92ZSk7XG4gKiAgICAgIHRoaXMuY29udGFjdHMuc3BsaWNlKGluZGV4LCAxKTtcbiAqICAgIH07XG4gKlxuICogICAgU2V0dGluZ3NDb250cm9sbGVyMS5wcm90b3R5cGUuY2xlYXJDb250YWN0ID0gZnVuY3Rpb24oY29udGFjdCkge1xuICogICAgICBjb250YWN0LnR5cGUgPSAncGhvbmUnO1xuICogICAgICBjb250YWN0LnZhbHVlID0gJyc7XG4gKiAgICB9O1xuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgICBpdCgnc2hvdWxkIGNoZWNrIGNvbnRyb2xsZXIgYXMnLCBmdW5jdGlvbigpIHtcbiAqICAgICAgIHZhciBjb250YWluZXIgPSBlbGVtZW50KGJ5LmlkKCdjdHJsLWFzLWV4bXBsJykpO1xuICogICAgICAgICBleHBlY3QoY29udGFpbmVyLmVsZW1lbnQoYnkubW9kZWwoJ3NldHRpbmdzLm5hbWUnKSlcbiAqICAgICAgICAgICAuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0JlKCdKb2huIFNtaXRoJyk7XG4gKlxuICogICAgICAgdmFyIGZpcnN0UmVwZWF0ID1cbiAqICAgICAgICAgICBjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBzZXR0aW5ncy5jb250YWN0cycpLnJvdygwKSk7XG4gKiAgICAgICB2YXIgc2Vjb25kUmVwZWF0ID1cbiAqICAgICAgICAgICBjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBzZXR0aW5ncy5jb250YWN0cycpLnJvdygxKSk7XG4gKlxuICogICAgICAgZXhwZWN0KGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxuICogICAgICAgICAgIC50b0JlKCc0MDggNTU1IDEyMTInKTtcbiAqXG4gKiAgICAgICBleHBlY3Qoc2Vjb25kUmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxuICogICAgICAgICAgIC50b0JlKCdqb2huLnNtaXRoQGV4YW1wbGUub3JnJyk7XG4gKlxuICogICAgICAgZmlyc3RSZXBlYXQuZWxlbWVudChieS5idXR0b25UZXh0KCdjbGVhcicpKS5jbGljaygpO1xuICpcbiAqICAgICAgIGV4cGVjdChmaXJzdFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgICAudG9CZSgnJyk7XG4gKlxuICogICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkuYnV0dG9uVGV4dCgnYWRkJykpLmNsaWNrKCk7XG4gKlxuICogICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIHNldHRpbmdzLmNvbnRhY3RzJykucm93KDIpKVxuICogICAgICAgICAgIC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpXG4gKiAgICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgICAudG9CZSgneW91cm5hbWVAZXhhbXBsZS5vcmcnKTtcbiAqICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqIFRoaXMgZXhhbXBsZSBkZW1vbnN0cmF0ZXMgdGhlIFwiYXR0YWNoIHRvIGAkc2NvcGVgXCIgc3R5bGUgb2YgY29udHJvbGxlci5cbiAqXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdDb250cm9sbGVyXCIgbW9kdWxlPVwiY29udHJvbGxlckV4YW1wbGVcIj5cbiAqICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICA8ZGl2IGlkPVwiY3RybC1leG1wbFwiIG5nLWNvbnRyb2xsZXI9XCJTZXR0aW5nc0NvbnRyb2xsZXIyXCI+XG4gKiAgICAgPGxhYmVsPk5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibmFtZVwiLz48L2xhYmVsPlxuICogICAgIDxidXR0b24gbmctY2xpY2s9XCJncmVldCgpXCI+Z3JlZXQ8L2J1dHRvbj48YnIvPlxuICogICAgIENvbnRhY3Q6XG4gKiAgICAgPHVsPlxuICogICAgICAgPGxpIG5nLXJlcGVhdD1cImNvbnRhY3QgaW4gY29udGFjdHNcIj5cbiAqICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cImNvbnRhY3QudHlwZVwiIGlkPVwic2VsZWN0X3t7JGluZGV4fX1cIj5cbiAqICAgICAgICAgICAgPG9wdGlvbj5waG9uZTwvb3B0aW9uPlxuICogICAgICAgICAgICA8b3B0aW9uPmVtYWlsPC9vcHRpb24+XG4gKiAgICAgICAgIDwvc2VsZWN0PlxuICogICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImNvbnRhY3QudmFsdWVcIiBhcmlhLWxhYmVsbGVkYnk9XCJzZWxlY3Rfe3skaW5kZXh9fVwiIC8+XG4gKiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjbGVhckNvbnRhY3QoY29udGFjdClcIj5jbGVhcjwvYnV0dG9uPlxuICogICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwicmVtb3ZlQ29udGFjdChjb250YWN0KVwiPlg8L2J1dHRvbj5cbiAqICAgICAgIDwvbGk+XG4gKiAgICAgICA8bGk+WyA8YnV0dG9uIG5nLWNsaWNrPVwiYWRkQ29udGFjdCgpXCI+YWRkPC9idXR0b24+IF08L2xpPlxuICogICAgPC91bD5cbiAqICAgPC9kaXY+XG4gKiAgPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICAgYW5ndWxhci5tb2R1bGUoJ2NvbnRyb2xsZXJFeGFtcGxlJywgW10pXG4gKiAgICAgLmNvbnRyb2xsZXIoJ1NldHRpbmdzQ29udHJvbGxlcjInLCBbJyRzY29wZScsIFNldHRpbmdzQ29udHJvbGxlcjJdKTtcbiAqXG4gKiAgIGZ1bmN0aW9uIFNldHRpbmdzQ29udHJvbGxlcjIoJHNjb3BlKSB7XG4gKiAgICAgJHNjb3BlLm5hbWUgPSBcIkpvaG4gU21pdGhcIjtcbiAqICAgICAkc2NvcGUuY29udGFjdHMgPSBbXG4gKiAgICAgICB7dHlwZToncGhvbmUnLCB2YWx1ZTonNDA4IDU1NSAxMjEyJ30sXG4gKiAgICAgICB7dHlwZTonZW1haWwnLCB2YWx1ZTonam9obi5zbWl0aEBleGFtcGxlLm9yZyd9IF07XG4gKlxuICogICAgICRzY29wZS5ncmVldCA9IGZ1bmN0aW9uKCkge1xuICogICAgICAgYWxlcnQoJHNjb3BlLm5hbWUpO1xuICogICAgIH07XG4gKlxuICogICAgICRzY29wZS5hZGRDb250YWN0ID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgICAkc2NvcGUuY29udGFjdHMucHVzaCh7dHlwZTonZW1haWwnLCB2YWx1ZToneW91cm5hbWVAZXhhbXBsZS5vcmcnfSk7XG4gKiAgICAgfTtcbiAqXG4gKiAgICAgJHNjb3BlLnJlbW92ZUNvbnRhY3QgPSBmdW5jdGlvbihjb250YWN0VG9SZW1vdmUpIHtcbiAqICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5jb250YWN0cy5pbmRleE9mKGNvbnRhY3RUb1JlbW92ZSk7XG4gKiAgICAgICAkc2NvcGUuY29udGFjdHMuc3BsaWNlKGluZGV4LCAxKTtcbiAqICAgICB9O1xuICpcbiAqICAgICAkc2NvcGUuY2xlYXJDb250YWN0ID0gZnVuY3Rpb24oY29udGFjdCkge1xuICogICAgICAgY29udGFjdC50eXBlID0gJ3Bob25lJztcbiAqICAgICAgIGNvbnRhY3QudmFsdWUgPSAnJztcbiAqICAgICB9O1xuICogICB9XG4gKiAgPC9maWxlPlxuICogIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgIGl0KCdzaG91bGQgY2hlY2sgY29udHJvbGxlcicsIGZ1bmN0aW9uKCkge1xuICogICAgICB2YXIgY29udGFpbmVyID0gZWxlbWVudChieS5pZCgnY3RybC1leG1wbCcpKTtcbiAqXG4gKiAgICAgIGV4cGVjdChjb250YWluZXIuZWxlbWVudChieS5tb2RlbCgnbmFtZScpKVxuICogICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnSm9obiBTbWl0aCcpO1xuICpcbiAqICAgICAgdmFyIGZpcnN0UmVwZWF0ID1cbiAqICAgICAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIGNvbnRhY3RzJykucm93KDApKTtcbiAqICAgICAgdmFyIHNlY29uZFJlcGVhdCA9XG4gKiAgICAgICAgICBjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBjb250YWN0cycpLnJvdygxKSk7XG4gKlxuICogICAgICBleHBlY3QoZmlyc3RSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXG4gKiAgICAgICAgICAudG9CZSgnNDA4IDU1NSAxMjEyJyk7XG4gKiAgICAgIGV4cGVjdChzZWNvbmRSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXG4gKiAgICAgICAgICAudG9CZSgnam9obi5zbWl0aEBleGFtcGxlLm9yZycpO1xuICpcbiAqICAgICAgZmlyc3RSZXBlYXQuZWxlbWVudChieS5idXR0b25UZXh0KCdjbGVhcicpKS5jbGljaygpO1xuICpcbiAqICAgICAgZXhwZWN0KGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxuICogICAgICAgICAgLnRvQmUoJycpO1xuICpcbiAqICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkuYnV0dG9uVGV4dCgnYWRkJykpLmNsaWNrKCk7XG4gKlxuICogICAgICBleHBlY3QoY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gY29udGFjdHMnKS5yb3coMikpXG4gKiAgICAgICAgICAuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKVxuICogICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcbiAqICAgICAgICAgIC50b0JlKCd5b3VybmFtZUBleGFtcGxlLm9yZycpO1xuICogICAgfSk7XG4gKiAgPC9maWxlPlxuICo8L2V4YW1wbGU+XG5cbiAqL1xudmFyIG5nQ29udHJvbGxlckRpcmVjdGl2ZSA9IFtmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHNjb3BlOiB0cnVlLFxuICAgIGNvbnRyb2xsZXI6ICdAJyxcbiAgICBwcmlvcml0eTogNTAwXG4gIH07XG59XTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NzcFxuICpcbiAqIEBlbGVtZW50IGh0bWxcbiAqIEBkZXNjcmlwdGlvblxuICogRW5hYmxlcyBbQ1NQIChDb250ZW50IFNlY3VyaXR5IFBvbGljeSldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL1NlY3VyaXR5L0NTUCkgc3VwcG9ydC5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSB3aGVuIGRldmVsb3BpbmcgdGhpbmdzIGxpa2UgR29vZ2xlIENocm9tZSBFeHRlbnNpb25zIG9yIFVuaXZlcnNhbCBXaW5kb3dzIEFwcHMuXG4gKlxuICogQ1NQIGZvcmJpZHMgYXBwcyB0byB1c2UgYGV2YWxgIG9yIGBGdW5jdGlvbihzdHJpbmcpYCBnZW5lcmF0ZWQgZnVuY3Rpb25zIChhbW9uZyBvdGhlciB0aGluZ3MpLlxuICogRm9yIEFuZ3VsYXIgdG8gYmUgQ1NQIGNvbXBhdGlibGUgdGhlcmUgYXJlIG9ubHkgdHdvIHRoaW5ncyB0aGF0IHdlIG5lZWQgdG8gZG8gZGlmZmVyZW50bHk6XG4gKlxuICogLSBkb24ndCB1c2UgYEZ1bmN0aW9uYCBjb25zdHJ1Y3RvciB0byBnZW5lcmF0ZSBvcHRpbWl6ZWQgdmFsdWUgZ2V0dGVyc1xuICogLSBkb24ndCBpbmplY3QgY3VzdG9tIHN0eWxlc2hlZXQgaW50byB0aGUgZG9jdW1lbnRcbiAqXG4gKiBBbmd1bGFySlMgdXNlcyBgRnVuY3Rpb24oc3RyaW5nKWAgZ2VuZXJhdGVkIGZ1bmN0aW9ucyBhcyBhIHNwZWVkIG9wdGltaXphdGlvbi4gQXBwbHlpbmcgdGhlIGBuZ0NzcGBcbiAqIGRpcmVjdGl2ZSB3aWxsIGNhdXNlIEFuZ3VsYXIgdG8gdXNlIENTUCBjb21wYXRpYmlsaXR5IG1vZGUuIFdoZW4gdGhpcyBtb2RlIGlzIG9uIEFuZ3VsYXJKUyB3aWxsXG4gKiBldmFsdWF0ZSBhbGwgZXhwcmVzc2lvbnMgdXAgdG8gMzAlIHNsb3dlciB0aGFuIGluIG5vbi1DU1AgbW9kZSwgYnV0IG5vIHNlY3VyaXR5IHZpb2xhdGlvbnMgd2lsbFxuICogYmUgcmFpc2VkLlxuICpcbiAqIENTUCBmb3JiaWRzIEphdmFTY3JpcHQgdG8gaW5saW5lIHN0eWxlc2hlZXQgcnVsZXMuIEluIG5vbiBDU1AgbW9kZSBBbmd1bGFyIGF1dG9tYXRpY2FsbHlcbiAqIGluY2x1ZGVzIHNvbWUgQ1NTIHJ1bGVzIChlLmcuIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbG9hayBuZ0Nsb2FrfSkuXG4gKiBUbyBtYWtlIHRob3NlIGRpcmVjdGl2ZXMgd29yayBpbiBDU1AgbW9kZSwgaW5jbHVkZSB0aGUgYGFuZ3VsYXItY3NwLmNzc2AgbWFudWFsbHkuXG4gKlxuICogQW5ndWxhciB0cmllcyB0byBhdXRvZGV0ZWN0IGlmIENTUCBpcyBhY3RpdmUgYW5kIGF1dG9tYXRpY2FsbHkgdHVybiBvbiB0aGUgQ1NQLXNhZmUgbW9kZS4gVGhpc1xuICogYXV0b2RldGVjdGlvbiBob3dldmVyIHRyaWdnZXJzIGEgQ1NQIGVycm9yIHRvIGJlIGxvZ2dlZCBpbiB0aGUgY29uc29sZTpcbiAqXG4gKiBgYGBcbiAqIFJlZnVzZWQgdG8gZXZhbHVhdGUgYSBzdHJpbmcgYXMgSmF2YVNjcmlwdCBiZWNhdXNlICd1bnNhZmUtZXZhbCcgaXMgbm90IGFuIGFsbG93ZWQgc291cmNlIG9mXG4gKiBzY3JpcHQgaW4gdGhlIGZvbGxvd2luZyBDb250ZW50IFNlY3VyaXR5IFBvbGljeSBkaXJlY3RpdmU6IFwiZGVmYXVsdC1zcmMgJ3NlbGYnXCIuIE5vdGUgdGhhdFxuICogJ3NjcmlwdC1zcmMnIHdhcyBub3QgZXhwbGljaXRseSBzZXQsIHNvICdkZWZhdWx0LXNyYycgaXMgdXNlZCBhcyBhIGZhbGxiYWNrLlxuICogYGBgXG4gKlxuICogVGhpcyBlcnJvciBpcyBoYXJtbGVzcyBidXQgYW5ub3lpbmcuIFRvIHByZXZlbnQgdGhlIGVycm9yIGZyb20gc2hvd2luZyB1cCwgcHV0IHRoZSBgbmdDc3BgXG4gKiBkaXJlY3RpdmUgb24gdGhlIHJvb3QgZWxlbWVudCBvZiB0aGUgYXBwbGljYXRpb24gb3Igb24gdGhlIGBhbmd1bGFyLmpzYCBzY3JpcHQgdGFnLCB3aGljaGV2ZXJcbiAqIGFwcGVhcnMgZmlyc3QgaW4gdGhlIGh0bWwgZG9jdW1lbnQuXG4gKlxuICogKk5vdGU6IFRoaXMgZGlyZWN0aXZlIGlzIG9ubHkgYXZhaWxhYmxlIGluIHRoZSBgbmctY3NwYCBhbmQgYGRhdGEtbmctY3NwYCBhdHRyaWJ1dGUgZm9ybS4qXG4gKlxuICogQGV4YW1wbGVcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgdG8gYXBwbHkgdGhlIGBuZ0NzcGAgZGlyZWN0aXZlIHRvIHRoZSBgaHRtbGAgdGFnLlxuICAgYGBgaHRtbFxuICAgICA8IWRvY3R5cGUgaHRtbD5cbiAgICAgPGh0bWwgbmctYXBwIG5nLWNzcD5cbiAgICAgLi4uXG4gICAgIC4uLlxuICAgICA8L2h0bWw+XG4gICBgYGBcbiAgKiBAZXhhbXBsZVxuICAgICAgLy8gTm90ZTogdGhlIHN1ZmZpeCBgLmNzcGAgaW4gdGhlIGV4YW1wbGUgbmFtZSB0cmlnZ2Vyc1xuICAgICAgLy8gY3NwIG1vZGUgaW4gb3VyIGh0dHAgc2VydmVyIVxuICAgICAgPGV4YW1wbGUgbmFtZT1cImV4YW1wbGUuY3NwXCIgbW9kdWxlPVwiY3NwRXhhbXBsZVwiIG5nLWNzcD1cInRydWVcIj5cbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJNYWluQ29udHJvbGxlciBhcyBjdHJsXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiY3RybC5pbmMoKVwiIGlkPVwiaW5jXCI+SW5jcmVtZW50PC9idXR0b24+XG4gICAgICAgICAgICAgIDxzcGFuIGlkPVwiY291bnRlclwiPlxuICAgICAgICAgICAgICAgIHt7Y3RybC5jb3VudGVyfX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjdHJsLmV2aWwoKVwiIGlkPVwiZXZpbFwiPkV2aWw8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJldmlsRXJyb3JcIj5cbiAgICAgICAgICAgICAgICB7e2N0cmwuZXZpbEVycm9yfX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnY3NwRXhhbXBsZScsIFtdKVxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdNYWluQ29udHJvbGxlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnRlciA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuY291bnRlcisrO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5ldmlsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAvLyBqc2hpbnQgZXZpbDp0cnVlXG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBldmFsKCcxKzInKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmlsRXJyb3IgPSBlLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgIDwvZmlsZT5cbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgICAgIHZhciB1dGlsLCB3ZWJkcml2ZXI7XG5cbiAgICAgICAgICB2YXIgaW5jQnRuID0gZWxlbWVudChieS5pZCgnaW5jJykpO1xuICAgICAgICAgIHZhciBjb3VudGVyID0gZWxlbWVudChieS5pZCgnY291bnRlcicpKTtcbiAgICAgICAgICB2YXIgZXZpbEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2V2aWwnKSk7XG4gICAgICAgICAgdmFyIGV2aWxFcnJvciA9IGVsZW1lbnQoYnkuaWQoJ2V2aWxFcnJvcicpKTtcblxuICAgICAgICAgIGZ1bmN0aW9uIGdldEFuZENsZWFyU2V2ZXJlRXJyb3JzKCkge1xuICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXIubWFuYWdlKCkubG9ncygpLmdldCgnYnJvd3NlcicpLnRoZW4oZnVuY3Rpb24oYnJvd3NlckxvZykge1xuICAgICAgICAgICAgICByZXR1cm4gYnJvd3NlckxvZy5maWx0ZXIoZnVuY3Rpb24obG9nRW50cnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9nRW50cnkubGV2ZWwudmFsdWUgPiB3ZWJkcml2ZXIubG9nZ2luZy5MZXZlbC5XQVJOSU5HLnZhbHVlO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGNsZWFyRXJyb3JzKCkge1xuICAgICAgICAgICAgZ2V0QW5kQ2xlYXJTZXZlcmVFcnJvcnMoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBleHBlY3ROb0Vycm9ycygpIHtcbiAgICAgICAgICAgIGdldEFuZENsZWFyU2V2ZXJlRXJyb3JzKCkudGhlbihmdW5jdGlvbihmaWx0ZXJlZExvZykge1xuICAgICAgICAgICAgICBleHBlY3QoZmlsdGVyZWRMb2cubGVuZ3RoKS50b0VxdWFsKDApO1xuICAgICAgICAgICAgICBpZiAoZmlsdGVyZWRMb2cubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Jyb3dzZXIgY29uc29sZSBlcnJvcnM6ICcgKyB1dGlsLmluc3BlY3QoZmlsdGVyZWRMb2cpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gZXhwZWN0RXJyb3IocmVnZXgpIHtcbiAgICAgICAgICAgIGdldEFuZENsZWFyU2V2ZXJlRXJyb3JzKCkudGhlbihmdW5jdGlvbihmaWx0ZXJlZExvZykge1xuICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgZmlsdGVyZWRMb2cuZm9yRWFjaChmdW5jdGlvbihsb2cpIHtcbiAgICAgICAgICAgICAgICBpZiAobG9nLm1lc3NhZ2UubWF0Y2gocmVnZXgpKSB7XG4gICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZXhwZWN0ZWQgYW4gZXJyb3IgdGhhdCBtYXRjaGVzICcgKyByZWdleCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJlZm9yZUVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB1dGlsID0gcmVxdWlyZSgndXRpbCcpO1xuICAgICAgICAgICAgd2ViZHJpdmVyID0gcmVxdWlyZSgncHJvdHJhY3Rvci9ub2RlX21vZHVsZXMvc2VsZW5pdW0td2ViZHJpdmVyJyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBGb3Igbm93LCB3ZSBvbmx5IHRlc3Qgb24gQ2hyb21lLFxuICAgICAgICAgIC8vIGFzIFNhZmFyaSBkb2VzIG5vdCBsb2FkIHRoZSBwYWdlIHdpdGggUHJvdHJhY3RvcidzIGluamVjdGVkIHNjcmlwdHMsXG4gICAgICAgICAgLy8gYW5kIEZpcmVmb3ggd2ViZHJpdmVyIGFsd2F5cyBkaXNhYmxlcyBjb250ZW50IHNlY3VyaXR5IHBvbGljeSAoIzYzNTgpXG4gICAgICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgIT09ICdjaHJvbWUnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaXQoJ3Nob3VsZCBub3QgcmVwb3J0IGVycm9ycyB3aGVuIHRoZSBwYWdlIGlzIGxvYWRlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gY2xlYXIgZXJyb3JzIHNvIHdlIGFyZSBub3QgZGVwZW5kZW50IG9uIHByZXZpb3VzIHRlc3RzXG4gICAgICAgICAgICBjbGVhckVycm9ycygpO1xuICAgICAgICAgICAgLy8gTmVlZCB0byByZWxvYWQgdGhlIHBhZ2UgYXMgdGhlIHBhZ2UgaXMgYWxyZWFkeSBsb2FkZWQgd2hlblxuICAgICAgICAgICAgLy8gd2UgY29tZSBoZXJlXG4gICAgICAgICAgICBicm93c2VyLmRyaXZlci5nZXRDdXJyZW50VXJsKCkudGhlbihmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgICAgICAgYnJvd3Nlci5nZXQodXJsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZXhwZWN0Tm9FcnJvcnMoKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGl0KCdzaG91bGQgZXZhbHVhdGUgZXhwcmVzc2lvbnMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9FcXVhbCgnMCcpO1xuICAgICAgICAgICAgaW5jQnRuLmNsaWNrKCk7XG4gICAgICAgICAgICBleHBlY3QoY291bnRlci5nZXRUZXh0KCkpLnRvRXF1YWwoJzEnKTtcbiAgICAgICAgICAgIGV4cGVjdE5vRXJyb3JzKCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpdCgnc2hvdWxkIHRocm93IGFuZCByZXBvcnQgYW4gZXJyb3Igd2hlbiB1c2luZyBcImV2YWxcIicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZXZpbEJ0bi5jbGljaygpO1xuICAgICAgICAgICAgZXhwZWN0KGV2aWxFcnJvci5nZXRUZXh0KCkpLnRvTWF0Y2goL0NvbnRlbnQgU2VjdXJpdHkgUG9saWN5Lyk7XG4gICAgICAgICAgICBleHBlY3RFcnJvcigvQ29udGVudCBTZWN1cml0eSBQb2xpY3kvKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgPC9maWxlPlxuICAgICAgPC9leGFtcGxlPlxuICAqL1xuXG4vLyBuZ0NzcCBpcyBub3QgaW1wbGVtZW50ZWQgYXMgYSBwcm9wZXIgZGlyZWN0aXZlIGFueSBtb3JlLCBiZWNhdXNlIHdlIG5lZWQgaXQgYmUgcHJvY2Vzc2VkIHdoaWxlIHdlXG4vLyBib290c3RyYXAgdGhlIHN5c3RlbSAoYmVmb3JlICRwYXJzZSBpcyBpbnN0YW50aWF0ZWQpLCBmb3IgdGhpcyByZWFzb24gd2UganVzdCBoYXZlXG4vLyB0aGUgY3NwLmlzQWN0aXZlKCkgZm4gdGhhdCBsb29rcyBmb3IgbmctY3NwIGF0dHJpYnV0ZSBhbnl3aGVyZSBpbiB0aGUgY3VycmVudCBkb2NcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NsaWNrXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgbmdDbGljayBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciB3aGVuXG4gKiBhbiBlbGVtZW50IGlzIGNsaWNrZWQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NsaWNrIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGNsaWNrLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnRcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPHNwYW4+XG4gICAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgIDwvc3Bhbj5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1jbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnY291bnQnKSkuZ2V0VGV4dCgpKS50b01hdGNoKCcwJyk7XG4gICAgICAgICBlbGVtZW50KGJ5LmNzcygnYnV0dG9uJykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdjb3VudCcpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJzEnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG4vKlxuICogQSBjb2xsZWN0aW9uIG9mIGRpcmVjdGl2ZXMgdGhhdCBhbGxvd3MgY3JlYXRpb24gb2YgY3VzdG9tIGV2ZW50IGhhbmRsZXJzIHRoYXQgYXJlIGRlZmluZWQgYXNcbiAqIGFuZ3VsYXIgZXhwcmVzc2lvbnMgYW5kIGFyZSBjb21waWxlZCBhbmQgZXhlY3V0ZWQgd2l0aGluIHRoZSBjdXJyZW50IHNjb3BlLlxuICovXG52YXIgbmdFdmVudERpcmVjdGl2ZXMgPSB7fTtcblxuLy8gRm9yIGV2ZW50cyB0aGF0IG1pZ2h0IGZpcmUgc3luY2hyb25vdXNseSBkdXJpbmcgRE9NIG1hbmlwdWxhdGlvblxuLy8gd2UgbmVlZCB0byBleGVjdXRlIHRoZWlyIGV2ZW50IGhhbmRsZXJzIGFzeW5jaHJvbm91c2x5IHVzaW5nICRldmFsQXN5bmMsXG4vLyBzbyB0aGF0IHRoZXkgYXJlIG5vdCBleGVjdXRlZCBpbiBhbiBpbmNvbnNpc3RlbnQgc3RhdGUuXG52YXIgZm9yY2VBc3luY0V2ZW50cyA9IHtcbiAgJ2JsdXInOiB0cnVlLFxuICAnZm9jdXMnOiB0cnVlXG59O1xuZm9yRWFjaChcbiAgJ2NsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZW1vdmUgbW91c2VlbnRlciBtb3VzZWxlYXZlIGtleWRvd24ga2V5dXAga2V5cHJlc3Mgc3VibWl0IGZvY3VzIGJsdXIgY29weSBjdXQgcGFzdGUnLnNwbGl0KCcgJyksXG4gIGZ1bmN0aW9uKGV2ZW50TmFtZSkge1xuICAgIHZhciBkaXJlY3RpdmVOYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKCduZy0nICsgZXZlbnROYW1lKTtcbiAgICBuZ0V2ZW50RGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXSA9IFsnJHBhcnNlJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbigkcGFyc2UsICRyb290U2NvcGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uKCRlbGVtZW50LCBhdHRyKSB7XG4gICAgICAgICAgLy8gV2UgZXhwb3NlIHRoZSBwb3dlcmZ1bCAkZXZlbnQgb2JqZWN0IG9uIHRoZSBzY29wZSB0aGF0IHByb3ZpZGVzIGFjY2VzcyB0byB0aGUgV2luZG93LFxuICAgICAgICAgIC8vIGV0Yy4gdGhhdCBpc24ndCBwcm90ZWN0ZWQgYnkgdGhlIGZhc3QgcGF0aHMgaW4gJHBhcnNlLiAgV2UgZXhwbGljaXRseSByZXF1ZXN0IGJldHRlclxuICAgICAgICAgIC8vIGNoZWNrcyBhdCB0aGUgY29zdCBvZiBzcGVlZCBzaW5jZSBldmVudCBoYW5kbGVyIGV4cHJlc3Npb25zIGFyZSBub3QgZXhlY3V0ZWQgYXNcbiAgICAgICAgICAvLyBmcmVxdWVudGx5IGFzIHJlZ3VsYXIgY2hhbmdlIGRldGVjdGlvbi5cbiAgICAgICAgICB2YXIgZm4gPSAkcGFyc2UoYXR0cltkaXJlY3RpdmVOYW1lXSwgLyogaW50ZXJjZXB0b3JGbiAqLyBudWxsLCAvKiBleHBlbnNpdmVDaGVja3MgKi8gdHJ1ZSk7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nRXZlbnRIYW5kbGVyKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50Lm9uKGV2ZW50TmFtZSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZm4oc2NvcGUsIHskZXZlbnQ6ZXZlbnR9KTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgaWYgKGZvcmNlQXN5bmNFdmVudHNbZXZlbnROYW1lXSAmJiAkcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgICAgICAgICAgICBzY29wZS4kZXZhbEFzeW5jKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoY2FsbGJhY2spO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dO1xuICB9XG4pO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nRGJsY2xpY2tcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdEYmxjbGlja2AgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gc3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gYSBkYmxjbGljayBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nRGJsY2xpY2sge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogYSBkYmxjbGljay4gKFRoZSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgKVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctZGJsY2xpY2s9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudCAob24gZG91YmxlIGNsaWNrKVxuICAgICAgPC9idXR0b24+XG4gICAgICBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNb3VzZWRvd25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBuZ01vdXNlZG93biBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZWRvd24gZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlZG93biB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBtb3VzZWRvd24uICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctbW91c2Vkb3duPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKG9uIG1vdXNlIGRvd24pXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vdXNldXBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNldXAgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNldXAge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogbW91c2V1cC4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZXVwPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKG9uIG1vdXNlIHVwKVxuICAgICAgPC9idXR0b24+XG4gICAgICBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW91c2VvdmVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZW92ZXIgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlb3ZlciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBtb3VzZW92ZXIuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxidXR0b24gbmctbW91c2VvdmVyPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKHdoZW4gbW91c2UgaXMgb3ZlcilcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTW91c2VlbnRlclxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2VlbnRlciBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2VlbnRlciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBtb3VzZWVudGVyLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8YnV0dG9uIG5nLW1vdXNlZW50ZXI9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudCAod2hlbiBtb3VzZSBlbnRlcnMpXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vdXNlbGVhdmVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlbGVhdmUgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlbGVhdmUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogbW91c2VsZWF2ZS4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZWxlYXZlPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAgICBJbmNyZW1lbnQgKHdoZW4gbW91c2UgbGVhdmVzKVxuICAgICAgPC9idXR0b24+XG4gICAgICBjb3VudDoge3tjb3VudH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNb3VzZW1vdmVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlbW92ZSBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2Vtb3ZlIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIG1vdXNlbW92ZS4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZW1vdmU9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XG4gICAgICAgIEluY3JlbWVudCAod2hlbiBtb3VzZSBtb3ZlcylcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nS2V5ZG93blxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24ga2V5ZG93biBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nS2V5ZG93biB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBrZXlkb3duLiAoRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YCBhbmQgY2FuIGJlIGludGVycm9nYXRlZCBmb3Iga2V5Q29kZSwgYWx0S2V5LCBldGMuKVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxpbnB1dCBuZy1rZXlkb3duPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAga2V5IGRvd24gY291bnQ6IHt7Y291bnR9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nS2V5dXBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGtleXVwIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdLZXl1cCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBrZXl1cC4gKEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGAgYW5kIGNhbiBiZSBpbnRlcnJvZ2F0ZWQgZm9yIGtleUNvZGUsIGFsdEtleSwgZXRjLilcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHA+VHlwaW5nIGluIHRoZSBpbnB1dCBib3ggYmVsb3cgdXBkYXRlcyB0aGUga2V5IGNvdW50PC9wPlxuICAgICAgIDxpbnB1dCBuZy1rZXl1cD1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj4ga2V5IHVwIGNvdW50OiB7e2NvdW50fX1cblxuICAgICAgIDxwPlR5cGluZyBpbiB0aGUgaW5wdXQgYm94IGJlbG93IHVwZGF0ZXMgdGhlIGtleWNvZGU8L3A+XG4gICAgICAgPGlucHV0IG5nLWtleXVwPVwiZXZlbnQ9JGV2ZW50XCI+XG4gICAgICAgPHA+ZXZlbnQga2V5Q29kZToge3sgZXZlbnQua2V5Q29kZSB9fTwvcD5cbiAgICAgICA8cD5ldmVudCBhbHRLZXk6IHt7IGV2ZW50LmFsdEtleSB9fTwvcD5cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0tleXByZXNzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBrZXlwcmVzcyBldmVudC5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdLZXlwcmVzcyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBrZXlwcmVzcy4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH1cbiAqIGFuZCBjYW4gYmUgaW50ZXJyb2dhdGVkIGZvciBrZXlDb2RlLCBhbHRLZXksIGV0Yy4pXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGlucHV0IG5nLWtleXByZXNzPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxuICAgICAga2V5IHByZXNzIGNvdW50OiB7e2NvdW50fX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1N1Ym1pdFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRW5hYmxlcyBiaW5kaW5nIGFuZ3VsYXIgZXhwcmVzc2lvbnMgdG8gb25zdWJtaXQgZXZlbnRzLlxuICpcbiAqIEFkZGl0aW9uYWxseSBpdCBwcmV2ZW50cyB0aGUgZGVmYXVsdCBhY3Rpb24gKHdoaWNoIGZvciBmb3JtIG1lYW5zIHNlbmRpbmcgdGhlIHJlcXVlc3QgdG8gdGhlXG4gKiBzZXJ2ZXIgYW5kIHJlbG9hZGluZyB0aGUgY3VycmVudCBwYWdlKSwgYnV0IG9ubHkgaWYgdGhlIGZvcm0gZG9lcyBub3QgY29udGFpbiBgYWN0aW9uYCxcbiAqIGBkYXRhLWFjdGlvbmAsIG9yIGB4LWFjdGlvbmAgYXR0cmlidXRlcy5cbiAqXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxuICogKipXYXJuaW5nOioqIEJlIGNhcmVmdWwgbm90IHRvIGNhdXNlIFwiZG91YmxlLXN1Ym1pc3Npb25cIiBieSB1c2luZyBib3RoIHRoZSBgbmdDbGlja2AgYW5kXG4gKiBgbmdTdWJtaXRgIGhhbmRsZXJzIHRvZ2V0aGVyLiBTZWUgdGhlXG4gKiB7QGxpbmsgZm9ybSNzdWJtaXR0aW5nLWEtZm9ybS1hbmQtcHJldmVudGluZy10aGUtZGVmYXVsdC1hY3Rpb24gYGZvcm1gIGRpcmVjdGl2ZSBkb2N1bWVudGF0aW9ufVxuICogZm9yIGEgZGV0YWlsZWQgZGlzY3Vzc2lvbiBvZiB3aGVuIGBuZ1N1Ym1pdGAgbWF5IGJlIHRyaWdnZXJlZC5cbiAqIDwvZGl2PlxuICpcbiAqIEBlbGVtZW50IGZvcm1cbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU3VibWl0IHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWwuXG4gKiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwic3VibWl0RXhhbXBsZVwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPHNjcmlwdD5cbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3N1Ym1pdEV4YW1wbGUnLCBbXSlcbiAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgJHNjb3BlLmxpc3QgPSBbXTtcbiAgICAgICAgICAgICRzY29wZS50ZXh0ID0gJ2hlbGxvJztcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKCRzY29wZS50ZXh0KSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmxpc3QucHVzaCh0aGlzLnRleHQpO1xuICAgICAgICAgICAgICAgICRzY29wZS50ZXh0ID0gJyc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfV0pO1xuICAgICAgPC9zY3JpcHQ+XG4gICAgICA8Zm9ybSBuZy1zdWJtaXQ9XCJzdWJtaXQoKVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICBFbnRlciB0ZXh0IGFuZCBoaXQgZW50ZXI6XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidGV4dFwiIG5hbWU9XCJ0ZXh0XCIgLz5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJzdWJtaXRcIiBpZD1cInN1Ym1pdFwiIHZhbHVlPVwiU3VibWl0XCIgLz5cbiAgICAgICAgPHByZT5saXN0PXt7bGlzdH19PC9wcmU+XG4gICAgICA8L2Zvcm0+XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctc3VibWl0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdsaXN0JykpLmdldFRleHQoKSkudG9CZSgnbGlzdD1bXScpO1xuICAgICAgICAgZWxlbWVudChieS5jc3MoJyNzdWJtaXQnKSkuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QnKSkuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2hlbGxvJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndGV4dCcpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJycpO1xuICAgICAgIH0pO1xuICAgICAgIGl0KCdzaG91bGQgaWdub3JlIGVtcHR5IHN0cmluZ3MnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QnKSkuZ2V0VGV4dCgpKS50b0JlKCdsaXN0PVtdJyk7XG4gICAgICAgICBlbGVtZW50KGJ5LmNzcygnI3N1Ym1pdCcpKS5jbGljaygpO1xuICAgICAgICAgZWxlbWVudChieS5jc3MoJyNzdWJtaXQnKSkuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QnKSkuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2hlbGxvJyk7XG4gICAgICAgIH0pO1xuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0ZvY3VzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBmb2N1cyBldmVudC5cbiAqXG4gKiBOb3RlOiBBcyB0aGUgYGZvY3VzYCBldmVudCBpcyBleGVjdXRlZCBzeW5jaHJvbm91c2x5IHdoZW4gY2FsbGluZyBgaW5wdXQuZm9jdXMoKWBcbiAqIEFuZ3VsYXJKUyBleGVjdXRlcyB0aGUgZXhwcmVzc2lvbiB1c2luZyBgc2NvcGUuJGV2YWxBc3luY2AgaWYgdGhlIGV2ZW50IGlzIGZpcmVkXG4gKiBkdXJpbmcgYW4gYCRhcHBseWAgdG8gZW5zdXJlIGEgY29uc2lzdGVudCBzdGF0ZS5cbiAqXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0ZvY3VzIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGZvY3VzLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcbiAqXG4gKiBAZXhhbXBsZVxuICogU2VlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbGljayBuZ0NsaWNrfVxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdCbHVyXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBibHVyIGV2ZW50LlxuICpcbiAqIEEgW2JsdXIgZXZlbnRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0V2ZW50cy9ibHVyKSBmaXJlcyB3aGVuXG4gKiBhbiBlbGVtZW50IGhhcyBsb3N0IGZvY3VzLlxuICpcbiAqIE5vdGU6IEFzIHRoZSBgYmx1cmAgZXZlbnQgaXMgZXhlY3V0ZWQgc3luY2hyb25vdXNseSBhbHNvIGR1cmluZyBET00gbWFuaXB1bGF0aW9uc1xuICogKGUuZy4gcmVtb3ZpbmcgYSBmb2N1c3NlZCBpbnB1dCksXG4gKiBBbmd1bGFySlMgZXhlY3V0ZXMgdGhlIGV4cHJlc3Npb24gdXNpbmcgYHNjb3BlLiRldmFsQXN5bmNgIGlmIHRoZSBldmVudCBpcyBmaXJlZFxuICogZHVyaW5nIGFuIGAkYXBwbHlgIHRvIGVuc3VyZSBhIGNvbnNpc3RlbnQgc3RhdGUuXG4gKlxuICogQGVsZW1lbnQgd2luZG93LCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdCbHVyIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGJsdXIuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gKiBTZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0NvcHlcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGNvcHkgZXZlbnQuXG4gKlxuICogQGVsZW1lbnQgd2luZG93LCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYVxuICogQHByaW9yaXR5IDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDb3B5IHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cbiAqIGNvcHkuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxpbnB1dCBuZy1jb3B5PVwiY29waWVkPXRydWVcIiBuZy1pbml0PVwiY29waWVkPWZhbHNlOyB2YWx1ZT0nY29weSBtZSdcIiBuZy1tb2RlbD1cInZhbHVlXCI+XG4gICAgICBjb3BpZWQ6IHt7Y29waWVkfX1cbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdDdXRcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGN1dCBldmVudC5cbiAqXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXG4gKiBAcHJpb3JpdHkgMFxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0N1dCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXG4gKiBjdXQuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxpbnB1dCBuZy1jdXQ9XCJjdXQ9dHJ1ZVwiIG5nLWluaXQ9XCJjdXQ9ZmFsc2U7IHZhbHVlPSdjdXQgbWUnXCIgbmctbW9kZWw9XCJ2YWx1ZVwiPlxuICAgICAgY3V0OiB7e2N1dH19XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nUGFzdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIHBhc3RlIGV2ZW50LlxuICpcbiAqIEBlbGVtZW50IHdpbmRvdywgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGFcbiAqIEBwcmlvcml0eSAwXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nUGFzdGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxuICogcGFzdGUuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxuICpcbiAqIEBleGFtcGxlXG4gICA8ZXhhbXBsZT5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxpbnB1dCBuZy1wYXN0ZT1cInBhc3RlPXRydWVcIiBuZy1pbml0PVwicGFzdGU9ZmFsc2VcIiBwbGFjZWhvbGRlcj0ncGFzdGUgaGVyZSc+XG4gICAgICBwYXN0ZWQ6IHt7cGFzdGV9fVxuICAgICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0lmXG4gKiBAcmVzdHJpY3QgQVxuICogQG11bHRpRWxlbWVudFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0lmYCBkaXJlY3RpdmUgcmVtb3ZlcyBvciByZWNyZWF0ZXMgYSBwb3J0aW9uIG9mIHRoZSBET00gdHJlZSBiYXNlZCBvbiBhblxuICoge2V4cHJlc3Npb259LiBJZiB0aGUgZXhwcmVzc2lvbiBhc3NpZ25lZCB0byBgbmdJZmAgZXZhbHVhdGVzIHRvIGEgZmFsc2VcbiAqIHZhbHVlIHRoZW4gdGhlIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00sIG90aGVyd2lzZSBhIGNsb25lIG9mIHRoZVxuICogZWxlbWVudCBpcyByZWluc2VydGVkIGludG8gdGhlIERPTS5cbiAqXG4gKiBgbmdJZmAgZGlmZmVycyBmcm9tIGBuZ1Nob3dgIGFuZCBgbmdIaWRlYCBpbiB0aGF0IGBuZ0lmYCBjb21wbGV0ZWx5IHJlbW92ZXMgYW5kIHJlY3JlYXRlcyB0aGVcbiAqIGVsZW1lbnQgaW4gdGhlIERPTSByYXRoZXIgdGhhbiBjaGFuZ2luZyBpdHMgdmlzaWJpbGl0eSB2aWEgdGhlIGBkaXNwbGF5YCBjc3MgcHJvcGVydHkuICBBIGNvbW1vblxuICogY2FzZSB3aGVuIHRoaXMgZGlmZmVyZW5jZSBpcyBzaWduaWZpY2FudCBpcyB3aGVuIHVzaW5nIGNzcyBzZWxlY3RvcnMgdGhhdCByZWx5IG9uIGFuIGVsZW1lbnQnc1xuICogcG9zaXRpb24gd2l0aGluIHRoZSBET00sIHN1Y2ggYXMgdGhlIGA6Zmlyc3QtY2hpbGRgIG9yIGA6bGFzdC1jaGlsZGAgcHNldWRvLWNsYXNzZXMuXG4gKlxuICogTm90ZSB0aGF0IHdoZW4gYW4gZWxlbWVudCBpcyByZW1vdmVkIHVzaW5nIGBuZ0lmYCBpdHMgc2NvcGUgaXMgZGVzdHJveWVkIGFuZCBhIG5ldyBzY29wZVxuICogaXMgY3JlYXRlZCB3aGVuIHRoZSBlbGVtZW50IGlzIHJlc3RvcmVkLiAgVGhlIHNjb3BlIGNyZWF0ZWQgd2l0aGluIGBuZ0lmYCBpbmhlcml0cyBmcm9tXG4gKiBpdHMgcGFyZW50IHNjb3BlIHVzaW5nXG4gKiBbcHJvdG90eXBhbCBpbmhlcml0YW5jZV0oaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy93aWtpL1VuZGVyc3RhbmRpbmctU2NvcGVzI2phdmFzY3JpcHQtcHJvdG90eXBhbC1pbmhlcml0YW5jZSkuXG4gKiBBbiBpbXBvcnRhbnQgaW1wbGljYXRpb24gb2YgdGhpcyBpcyBpZiBgbmdNb2RlbGAgaXMgdXNlZCB3aXRoaW4gYG5nSWZgIHRvIGJpbmQgdG9cbiAqIGEgamF2YXNjcmlwdCBwcmltaXRpdmUgZGVmaW5lZCBpbiB0aGUgcGFyZW50IHNjb3BlLiBJbiB0aGlzIGNhc2UgYW55IG1vZGlmaWNhdGlvbnMgbWFkZSB0byB0aGVcbiAqIHZhcmlhYmxlIHdpdGhpbiB0aGUgY2hpbGQgc2NvcGUgd2lsbCBvdmVycmlkZSAoaGlkZSkgdGhlIHZhbHVlIGluIHRoZSBwYXJlbnQgc2NvcGUuXG4gKlxuICogQWxzbywgYG5nSWZgIHJlY3JlYXRlcyBlbGVtZW50cyB1c2luZyB0aGVpciBjb21waWxlZCBzdGF0ZS4gQW4gZXhhbXBsZSBvZiB0aGlzIGJlaGF2aW9yXG4gKiBpcyBpZiBhbiBlbGVtZW50J3MgY2xhc3MgYXR0cmlidXRlIGlzIGRpcmVjdGx5IG1vZGlmaWVkIGFmdGVyIGl0J3MgY29tcGlsZWQsIHVzaW5nIHNvbWV0aGluZyBsaWtlXG4gKiBqUXVlcnkncyBgLmFkZENsYXNzKClgIG1ldGhvZCwgYW5kIHRoZSBlbGVtZW50IGlzIGxhdGVyIHJlbW92ZWQuIFdoZW4gYG5nSWZgIHJlY3JlYXRlcyB0aGUgZWxlbWVudFxuICogdGhlIGFkZGVkIGNsYXNzIHdpbGwgYmUgbG9zdCBiZWNhdXNlIHRoZSBvcmlnaW5hbCBjb21waWxlZCBzdGF0ZSBpcyB1c2VkIHRvIHJlZ2VuZXJhdGUgdGhlIGVsZW1lbnQuXG4gKlxuICogQWRkaXRpb25hbGx5LCB5b3UgY2FuIHByb3ZpZGUgYW5pbWF0aW9ucyB2aWEgdGhlIGBuZ0FuaW1hdGVgIG1vZHVsZSB0byBhbmltYXRlIHRoZSBgZW50ZXJgXG4gKiBhbmQgYGxlYXZlYCBlZmZlY3RzLlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiBlbnRlciAtIGhhcHBlbnMganVzdCBhZnRlciB0aGUgYG5nSWZgIGNvbnRlbnRzIGNoYW5nZSBhbmQgYSBuZXcgRE9NIGVsZW1lbnQgaXMgY3JlYXRlZCBhbmQgaW5qZWN0ZWQgaW50byB0aGUgYG5nSWZgIGNvbnRhaW5lclxuICogbGVhdmUgLSBoYXBwZW5zIGp1c3QgYmVmb3JlIHRoZSBgbmdJZmAgY29udGVudHMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAc2NvcGVcbiAqIEBwcmlvcml0eSA2MDBcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdJZiBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgZmFsc3kgdGhlblxuICogICAgIHRoZSBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NIHRyZWUuIElmIGl0IGlzIHRydXRoeSBhIGNvcHkgb2YgdGhlIGNvbXBpbGVkXG4gKiAgICAgZWxlbWVudCBpcyBhZGRlZCB0byB0aGUgRE9NIHRyZWUuXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxsYWJlbD5DbGljayBtZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiIG5nLWluaXQ9XCJjaGVja2VkPXRydWVcIiAvPjwvbGFiZWw+PGJyLz5cbiAgICAgIFNob3cgd2hlbiBjaGVja2VkOlxuICAgICAgPHNwYW4gbmctaWY9XCJjaGVja2VkXCIgY2xhc3M9XCJhbmltYXRlLWlmXCI+XG4gICAgICAgIFRoaXMgaXMgcmVtb3ZlZCB3aGVuIHRoZSBjaGVja2JveCBpcyB1bmNoZWNrZWQuXG4gICAgICA8L3NwYW4+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxuICAgICAgLmFuaW1hdGUtaWYge1xuICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xuICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xuICAgICAgICBwYWRkaW5nOjEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLWlmLm5nLWVudGVyLCAuYW5pbWF0ZS1pZi5uZy1sZWF2ZSB7XG4gICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAwLjVzO1xuICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLWlmLm5nLWVudGVyLFxuICAgICAgLmFuaW1hdGUtaWYubmctbGVhdmUubmctbGVhdmUtYWN0aXZlIHtcbiAgICAgICAgb3BhY2l0eTowO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1pZi5uZy1sZWF2ZSxcbiAgICAgIC5hbmltYXRlLWlmLm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7XG4gICAgICAgIG9wYWNpdHk6MTtcbiAgICAgIH1cbiAgICA8L2ZpbGU+XG4gIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nSWZEaXJlY3RpdmUgPSBbJyRhbmltYXRlJywgZnVuY3Rpb24oJGFuaW1hdGUpIHtcbiAgcmV0dXJuIHtcbiAgICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxuICAgIHByaW9yaXR5OiA2MDAsXG4gICAgdGVybWluYWw6IHRydWUsXG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAkJHRsYjogdHJ1ZSxcbiAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0ciwgY3RybCwgJHRyYW5zY2x1ZGUpIHtcbiAgICAgICAgdmFyIGJsb2NrLCBjaGlsZFNjb3BlLCBwcmV2aW91c0VsZW1lbnRzO1xuICAgICAgICAkc2NvcGUuJHdhdGNoKCRhdHRyLm5nSWYsIGZ1bmN0aW9uIG5nSWZXYXRjaEFjdGlvbih2YWx1ZSkge1xuXG4gICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIWNoaWxkU2NvcGUpIHtcbiAgICAgICAgICAgICAgJHRyYW5zY2x1ZGUoZnVuY3Rpb24oY2xvbmUsIG5ld1Njb3BlKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRTY29wZSA9IG5ld1Njb3BlO1xuICAgICAgICAgICAgICAgIGNsb25lW2Nsb25lLmxlbmd0aCsrXSA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJyBlbmQgbmdJZjogJyArICRhdHRyLm5nSWYgKyAnICcpO1xuICAgICAgICAgICAgICAgIC8vIE5vdGU6IFdlIG9ubHkgbmVlZCB0aGUgZmlyc3QvbGFzdCBub2RlIG9mIHRoZSBjbG9uZWQgbm9kZXMuXG4gICAgICAgICAgICAgICAgLy8gSG93ZXZlciwgd2UgbmVlZCB0byBrZWVwIHRoZSByZWZlcmVuY2UgdG8gdGhlIGpxbGl0ZSB3cmFwcGVyIGFzIGl0IG1pZ2h0IGJlIGNoYW5nZWQgbGF0ZXJcbiAgICAgICAgICAgICAgICAvLyBieSBhIGRpcmVjdGl2ZSB3aXRoIHRlbXBsYXRlVXJsIHdoZW4gaXRzIHRlbXBsYXRlIGFycml2ZXMuXG4gICAgICAgICAgICAgICAgYmxvY2sgPSB7XG4gICAgICAgICAgICAgICAgICBjbG9uZTogY2xvbmVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCAkZWxlbWVudC5wYXJlbnQoKSwgJGVsZW1lbnQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHByZXZpb3VzRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50cy5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50cyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hpbGRTY29wZSkge1xuICAgICAgICAgICAgICBjaGlsZFNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgICAgICAgIGNoaWxkU2NvcGUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJsb2NrKSB7XG4gICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudHMgPSBnZXRCbG9ja05vZGVzKGJsb2NrLmNsb25lKTtcbiAgICAgICAgICAgICAgJGFuaW1hdGUubGVhdmUocHJldmlvdXNFbGVtZW50cykudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnRzID0gbnVsbDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJsb2NrID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nSW5jbHVkZVxuICogQHJlc3RyaWN0IEVDQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRmV0Y2hlcywgY29tcGlsZXMgYW5kIGluY2x1ZGVzIGFuIGV4dGVybmFsIEhUTUwgZnJhZ21lbnQuXG4gKlxuICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIFVSTCBpcyByZXN0cmljdGVkIHRvIHRoZSBzYW1lIGRvbWFpbiBhbmQgcHJvdG9jb2wgYXMgdGhlXG4gKiBhcHBsaWNhdGlvbiBkb2N1bWVudC4gVGhpcyBpcyBkb25lIGJ5IGNhbGxpbmcge0BsaW5rICRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsXG4gKiAkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybH0gb24gaXQuIFRvIGxvYWQgdGVtcGxhdGVzIGZyb20gb3RoZXIgZG9tYWlucyBvciBwcm90b2NvbHNcbiAqIHlvdSBtYXkgZWl0aGVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCB3aGl0ZWxpc3QgdGhlbX0gb3JcbiAqIHtAbGluayAkc2NlI3RydXN0QXNSZXNvdXJjZVVybCB3cmFwIHRoZW19IGFzIHRydXN0ZWQgdmFsdWVzLiBSZWZlciB0byBBbmd1bGFyJ3Mge0BsaW5rXG4gKiBuZy4kc2NlIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nfS5cbiAqXG4gKiBJbiBhZGRpdGlvbiwgdGhlIGJyb3dzZXInc1xuICogW1NhbWUgT3JpZ2luIFBvbGljeV0oaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9icm93c2Vyc2VjL3dpa2kvUGFydDIjU2FtZS1vcmlnaW5fcG9saWN5X2Zvcl9YTUxIdHRwUmVxdWVzdClcbiAqIGFuZCBbQ3Jvc3MtT3JpZ2luIFJlc291cmNlIFNoYXJpbmcgKENPUlMpXShodHRwOi8vd3d3LnczLm9yZy9UUi9jb3JzLylcbiAqIHBvbGljeSBtYXkgZnVydGhlciByZXN0cmljdCB3aGV0aGVyIHRoZSB0ZW1wbGF0ZSBpcyBzdWNjZXNzZnVsbHkgbG9hZGVkLlxuICogRm9yIGV4YW1wbGUsIGBuZ0luY2x1ZGVgIHdvbid0IHdvcmsgZm9yIGNyb3NzLWRvbWFpbiByZXF1ZXN0cyBvbiBhbGwgYnJvd3NlcnMgYW5kIGZvciBgZmlsZTovL2BcbiAqIGFjY2VzcyBvbiBzb21lIGJyb3dzZXJzLlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiBlbnRlciAtIGFuaW1hdGlvbiBpcyB1c2VkIHRvIGJyaW5nIG5ldyBjb250ZW50IGludG8gdGhlIGJyb3dzZXIuXG4gKiBsZWF2ZSAtIGFuaW1hdGlvbiBpcyB1c2VkIHRvIGFuaW1hdGUgZXhpc3RpbmcgY29udGVudCBhd2F5LlxuICpcbiAqIFRoZSBlbnRlciBhbmQgbGVhdmUgYW5pbWF0aW9uIG9jY3VyIGNvbmN1cnJlbnRseS5cbiAqXG4gKiBAc2NvcGVcbiAqIEBwcmlvcml0eSA0MDBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdJbmNsdWRlfHNyYyBhbmd1bGFyIGV4cHJlc3Npb24gZXZhbHVhdGluZyB0byBVUkwuIElmIHRoZSBzb3VyY2UgaXMgYSBzdHJpbmcgY29uc3RhbnQsXG4gKiAgICAgICAgICAgICAgICAgbWFrZSBzdXJlIHlvdSB3cmFwIGl0IGluICoqc2luZ2xlKiogcXVvdGVzLCBlLmcuIGBzcmM9XCInbXlQYXJ0aWFsVGVtcGxhdGUuaHRtbCdcImAuXG4gKiBAcGFyYW0ge3N0cmluZz19IG9ubG9hZCBFeHByZXNzaW9uIHRvIGV2YWx1YXRlIHdoZW4gYSBuZXcgcGFydGlhbCBpcyBsb2FkZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBhdXRvc2Nyb2xsIFdoZXRoZXIgYG5nSW5jbHVkZWAgc2hvdWxkIGNhbGwge0BsaW5rIG5nLiRhbmNob3JTY3JvbGxcbiAqICAgICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbH0gdG8gc2Nyb2xsIHRoZSB2aWV3cG9ydCBhZnRlciB0aGUgY29udGVudCBpcyBsb2FkZWQuXG4gKlxuICogICAgICAgICAgICAgICAgICAtIElmIHRoZSBhdHRyaWJ1dGUgaXMgbm90IHNldCwgZGlzYWJsZSBzY3JvbGxpbmcuXG4gKiAgICAgICAgICAgICAgICAgIC0gSWYgdGhlIGF0dHJpYnV0ZSBpcyBzZXQgd2l0aG91dCB2YWx1ZSwgZW5hYmxlIHNjcm9sbGluZy5cbiAqICAgICAgICAgICAgICAgICAgLSBPdGhlcndpc2UgZW5hYmxlIHNjcm9sbGluZyBvbmx5IGlmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnV0aHkgdmFsdWUuXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGUgbW9kdWxlPVwiaW5jbHVkZUV4YW1wbGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJ0ZW1wbGF0ZVwiIG5nLW9wdGlvbnM9XCJ0Lm5hbWUgZm9yIHQgaW4gdGVtcGxhdGVzXCI+XG4gICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj4oYmxhbmspPC9vcHRpb24+XG4gICAgICAgPC9zZWxlY3Q+XG4gICAgICAgdXJsIG9mIHRoZSB0ZW1wbGF0ZTogPGNvZGU+e3t0ZW1wbGF0ZS51cmx9fTwvY29kZT5cbiAgICAgICA8aHIvPlxuICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZS1hbmltYXRlLWNvbnRhaW5lclwiPlxuICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlLWFuaW1hdGVcIiBuZy1pbmNsdWRlPVwidGVtcGxhdGUudXJsXCI+PC9kaXY+XG4gICAgICAgPC9kaXY+XG4gICAgIDwvZGl2PlxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICBhbmd1bGFyLm1vZHVsZSgnaW5jbHVkZUV4YW1wbGUnLCBbJ25nQW5pbWF0ZSddKVxuICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS50ZW1wbGF0ZXMgPVxuICAgICAgICAgICAgWyB7IG5hbWU6ICd0ZW1wbGF0ZTEuaHRtbCcsIHVybDogJ3RlbXBsYXRlMS5odG1sJ30sXG4gICAgICAgICAgICAgIHsgbmFtZTogJ3RlbXBsYXRlMi5odG1sJywgdXJsOiAndGVtcGxhdGUyLmh0bWwnfSBdO1xuICAgICAgICAgICRzY29wZS50ZW1wbGF0ZSA9ICRzY29wZS50ZW1wbGF0ZXNbMF07XG4gICAgICAgIH1dKTtcbiAgICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJ0ZW1wbGF0ZTEuaHRtbFwiPlxuICAgICAgQ29udGVudCBvZiB0ZW1wbGF0ZTEuaHRtbFxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwidGVtcGxhdGUyLmh0bWxcIj5cbiAgICAgIENvbnRlbnQgb2YgdGVtcGxhdGUyLmh0bWxcbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XG4gICAgICAuc2xpZGUtYW5pbWF0ZS1jb250YWluZXIge1xuICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcbiAgICAgICAgYmFja2dyb3VuZDp3aGl0ZTtcbiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCBibGFjaztcbiAgICAgICAgaGVpZ2h0OjQwcHg7XG4gICAgICAgIG92ZXJmbG93OmhpZGRlbjtcbiAgICAgIH1cblxuICAgICAgLnNsaWRlLWFuaW1hdGUge1xuICAgICAgICBwYWRkaW5nOjEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5zbGlkZS1hbmltYXRlLm5nLWVudGVyLCAuc2xpZGUtYW5pbWF0ZS5uZy1sZWF2ZSB7XG4gICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAwLjVzO1xuICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XG5cbiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgICAgIHRvcDowO1xuICAgICAgICBsZWZ0OjA7XG4gICAgICAgIHJpZ2h0OjA7XG4gICAgICAgIGJvdHRvbTowO1xuICAgICAgICBkaXNwbGF5OmJsb2NrO1xuICAgICAgICBwYWRkaW5nOjEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5zbGlkZS1hbmltYXRlLm5nLWVudGVyIHtcbiAgICAgICAgdG9wOi01MHB4O1xuICAgICAgfVxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcbiAgICAgICAgdG9wOjA7XG4gICAgICB9XG5cbiAgICAgIC5zbGlkZS1hbmltYXRlLm5nLWxlYXZlIHtcbiAgICAgICAgdG9wOjA7XG4gICAgICB9XG4gICAgICAuc2xpZGUtYW5pbWF0ZS5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUge1xuICAgICAgICB0b3A6NTBweDtcbiAgICAgIH1cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIHRlbXBsYXRlU2VsZWN0ID0gZWxlbWVudChieS5tb2RlbCgndGVtcGxhdGUnKSk7XG4gICAgICB2YXIgaW5jbHVkZUVsZW0gPSBlbGVtZW50KGJ5LmNzcygnW25nLWluY2x1ZGVdJykpO1xuXG4gICAgICBpdCgnc2hvdWxkIGxvYWQgdGVtcGxhdGUxLmh0bWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KGluY2x1ZGVFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvQ29udGVudCBvZiB0ZW1wbGF0ZTEuaHRtbC8pO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgbG9hZCB0ZW1wbGF0ZTIuaHRtbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoYnJvd3Nlci5wYXJhbXMuYnJvd3NlciA9PSAnZmlyZWZveCcpIHtcbiAgICAgICAgICAvLyBGaXJlZm94IGNhbid0IGhhbmRsZSB1c2luZyBzZWxlY3RzXG4gICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzQ4MFxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0ZW1wbGF0ZVNlbGVjdC5jbGljaygpO1xuICAgICAgICB0ZW1wbGF0ZVNlbGVjdC5hbGwoYnkuY3NzKCdvcHRpb24nKSkuZ2V0KDIpLmNsaWNrKCk7XG4gICAgICAgIGV4cGVjdChpbmNsdWRlRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL0NvbnRlbnQgb2YgdGVtcGxhdGUyLmh0bWwvKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGNoYW5nZSB0byBibGFuaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoYnJvd3Nlci5wYXJhbXMuYnJvd3NlciA9PSAnZmlyZWZveCcpIHtcbiAgICAgICAgICAvLyBGaXJlZm94IGNhbid0IGhhbmRsZSB1c2luZyBzZWxlY3RzXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBsYXRlU2VsZWN0LmNsaWNrKCk7XG4gICAgICAgIHRlbXBsYXRlU2VsZWN0LmFsbChieS5jc3MoJ29wdGlvbicpKS5nZXQoMCkuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KGluY2x1ZGVFbGVtLmlzUHJlc2VudCgpKS50b0JlKGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG5cblxuLyoqXG4gKiBAbmdkb2MgZXZlbnRcbiAqIEBuYW1lIG5nSW5jbHVkZSMkaW5jbHVkZUNvbnRlbnRSZXF1ZXN0ZWRcbiAqIEBldmVudFR5cGUgZW1pdCBvbiB0aGUgc2NvcGUgbmdJbmNsdWRlIHdhcyBkZWNsYXJlZCBpblxuICogQGRlc2NyaXB0aW9uXG4gKiBFbWl0dGVkIGV2ZXJ5IHRpbWUgdGhlIG5nSW5jbHVkZSBjb250ZW50IGlzIHJlcXVlc3RlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYW5ndWxhckV2ZW50IFN5bnRoZXRpYyBldmVudCBvYmplY3QuXG4gKiBAcGFyYW0ge1N0cmluZ30gc3JjIFVSTCBvZiBjb250ZW50IHRvIGxvYWQuXG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBldmVudFxuICogQG5hbWUgbmdJbmNsdWRlIyRpbmNsdWRlQ29udGVudExvYWRlZFxuICogQGV2ZW50VHlwZSBlbWl0IG9uIHRoZSBjdXJyZW50IG5nSW5jbHVkZSBzY29wZVxuICogQGRlc2NyaXB0aW9uXG4gKiBFbWl0dGVkIGV2ZXJ5IHRpbWUgdGhlIG5nSW5jbHVkZSBjb250ZW50IGlzIHJlbG9hZGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVVJMIG9mIGNvbnRlbnQgdG8gbG9hZC5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIGV2ZW50XG4gKiBAbmFtZSBuZ0luY2x1ZGUjJGluY2x1ZGVDb250ZW50RXJyb3JcbiAqIEBldmVudFR5cGUgZW1pdCBvbiB0aGUgc2NvcGUgbmdJbmNsdWRlIHdhcyBkZWNsYXJlZCBpblxuICogQGRlc2NyaXB0aW9uXG4gKiBFbWl0dGVkIHdoZW4gYSB0ZW1wbGF0ZSBIVFRQIHJlcXVlc3QgeWllbGRzIGFuIGVycm9uZW91cyByZXNwb25zZSAoc3RhdHVzIDwgMjAwIHx8IHN0YXR1cyA+IDI5OSlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYW5ndWxhckV2ZW50IFN5bnRoZXRpYyBldmVudCBvYmplY3QuXG4gKiBAcGFyYW0ge1N0cmluZ30gc3JjIFVSTCBvZiBjb250ZW50IHRvIGxvYWQuXG4gKi9cbnZhciBuZ0luY2x1ZGVEaXJlY3RpdmUgPSBbJyR0ZW1wbGF0ZVJlcXVlc3QnLCAnJGFuY2hvclNjcm9sbCcsICckYW5pbWF0ZScsXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbigkdGVtcGxhdGVSZXF1ZXN0LCAgICRhbmNob3JTY3JvbGwsICAgJGFuaW1hdGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VDQScsXG4gICAgcHJpb3JpdHk6IDQwMCxcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiAnZWxlbWVudCcsXG4gICAgY29udHJvbGxlcjogYW5ndWxhci5ub29wLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHZhciBzcmNFeHAgPSBhdHRyLm5nSW5jbHVkZSB8fCBhdHRyLnNyYyxcbiAgICAgICAgICBvbmxvYWRFeHAgPSBhdHRyLm9ubG9hZCB8fCAnJyxcbiAgICAgICAgICBhdXRvU2Nyb2xsRXhwID0gYXR0ci5hdXRvc2Nyb2xsO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsICRlbGVtZW50LCAkYXR0ciwgY3RybCwgJHRyYW5zY2x1ZGUpIHtcbiAgICAgICAgdmFyIGNoYW5nZUNvdW50ZXIgPSAwLFxuICAgICAgICAgICAgY3VycmVudFNjb3BlLFxuICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50LFxuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQ7XG5cbiAgICAgICAgdmFyIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAocHJldmlvdXNFbGVtZW50KSB7XG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY3VycmVudFNjb3BlKSB7XG4gICAgICAgICAgICBjdXJyZW50U2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjdXJyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgJGFuaW1hdGUubGVhdmUoY3VycmVudEVsZW1lbnQpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudCA9IGN1cnJlbnRFbGVtZW50O1xuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzY29wZS4kd2F0Y2goc3JjRXhwLCBmdW5jdGlvbiBuZ0luY2x1ZGVXYXRjaEFjdGlvbihzcmMpIHtcbiAgICAgICAgICB2YXIgYWZ0ZXJBbmltYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQoYXV0b1Njcm9sbEV4cCkgJiYgKCFhdXRvU2Nyb2xsRXhwIHx8IHNjb3BlLiRldmFsKGF1dG9TY3JvbGxFeHApKSkge1xuICAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICB2YXIgdGhpc0NoYW5nZUlkID0gKytjaGFuZ2VDb3VudGVyO1xuXG4gICAgICAgICAgaWYgKHNyYykge1xuICAgICAgICAgICAgLy9zZXQgdGhlIDJuZCBwYXJhbSB0byB0cnVlIHRvIGlnbm9yZSB0aGUgdGVtcGxhdGUgcmVxdWVzdCBlcnJvciBzbyB0aGF0IHRoZSBpbm5lclxuICAgICAgICAgICAgLy9jb250ZW50cyBhbmQgc2NvcGUgY2FuIGJlIGNsZWFuZWQgdXAuXG4gICAgICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0KHNyYywgdHJ1ZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICBpZiAodGhpc0NoYW5nZUlkICE9PSBjaGFuZ2VDb3VudGVyKSByZXR1cm47XG4gICAgICAgICAgICAgIHZhciBuZXdTY29wZSA9IHNjb3BlLiRuZXcoKTtcbiAgICAgICAgICAgICAgY3RybC50ZW1wbGF0ZSA9IHJlc3BvbnNlO1xuXG4gICAgICAgICAgICAgIC8vIE5vdGU6IFRoaXMgd2lsbCBhbHNvIGxpbmsgYWxsIGNoaWxkcmVuIG9mIG5nLWluY2x1ZGUgdGhhdCB3ZXJlIGNvbnRhaW5lZCBpbiB0aGUgb3JpZ2luYWxcbiAgICAgICAgICAgICAgLy8gaHRtbC4gSWYgdGhhdCBjb250ZW50IGNvbnRhaW5zIGNvbnRyb2xsZXJzLCAuLi4gdGhleSBjb3VsZCBwb2xsdXRlL2NoYW5nZSB0aGUgc2NvcGUuXG4gICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHVzaW5nIG5nLWluY2x1ZGUgb24gYW4gZWxlbWVudCB3aXRoIGFkZGl0aW9uYWwgY29udGVudCBkb2VzIG5vdCBtYWtlIHNlbnNlLi4uXG4gICAgICAgICAgICAgIC8vIE5vdGU6IFdlIGNhbid0IHJlbW92ZSB0aGVtIGluIHRoZSBjbG9uZUF0dGNoRm4gb2YgJHRyYW5zY2x1ZGUgYXMgdGhhdFxuICAgICAgICAgICAgICAvLyBmdW5jdGlvbiBpcyBjYWxsZWQgYmVmb3JlIGxpbmtpbmcgdGhlIGNvbnRlbnQsIHdoaWNoIHdvdWxkIGFwcGx5IGNoaWxkXG4gICAgICAgICAgICAgIC8vIGRpcmVjdGl2ZXMgdG8gbm9uIGV4aXN0aW5nIGVsZW1lbnRzLlxuICAgICAgICAgICAgICB2YXIgY2xvbmUgPSAkdHJhbnNjbHVkZShuZXdTY29wZSwgZnVuY3Rpb24oY2xvbmUpIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7XG4gICAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2xvbmUsIG51bGwsICRlbGVtZW50KS50aGVuKGFmdGVyQW5pbWF0aW9uKTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY3VycmVudFNjb3BlID0gbmV3U2NvcGU7XG4gICAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gY2xvbmU7XG5cbiAgICAgICAgICAgICAgY3VycmVudFNjb3BlLiRlbWl0KCckaW5jbHVkZUNvbnRlbnRMb2FkZWQnLCBzcmMpO1xuICAgICAgICAgICAgICBzY29wZS4kZXZhbChvbmxvYWRFeHApO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzQ2hhbmdlSWQgPT09IGNoYW5nZUNvdW50ZXIpIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7XG4gICAgICAgICAgICAgICAgc2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudEVycm9yJywgc3JjKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50UmVxdWVzdGVkJywgc3JjKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xuICAgICAgICAgICAgY3RybC50ZW1wbGF0ZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cbi8vIFRoaXMgZGlyZWN0aXZlIGlzIGNhbGxlZCBkdXJpbmcgdGhlICR0cmFuc2NsdWRlIGNhbGwgb2YgdGhlIGZpcnN0IGBuZ0luY2x1ZGVgIGRpcmVjdGl2ZS5cbi8vIEl0IHdpbGwgcmVwbGFjZSBhbmQgY29tcGlsZSB0aGUgY29udGVudCBvZiB0aGUgZWxlbWVudCB3aXRoIHRoZSBsb2FkZWQgdGVtcGxhdGUuXG4vLyBXZSBuZWVkIHRoaXMgZGlyZWN0aXZlIHNvIHRoYXQgdGhlIGVsZW1lbnQgY29udGVudCBpcyBhbHJlYWR5IGZpbGxlZCB3aGVuXG4vLyB0aGUgbGluayBmdW5jdGlvbiBvZiBhbm90aGVyIGRpcmVjdGl2ZSBvbiB0aGUgc2FtZSBlbGVtZW50IGFzIG5nSW5jbHVkZVxuLy8gaXMgY2FsbGVkLlxudmFyIG5nSW5jbHVkZUZpbGxDb250ZW50RGlyZWN0aXZlID0gWyckY29tcGlsZScsXG4gIGZ1bmN0aW9uKCRjb21waWxlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnRUNBJyxcbiAgICAgIHByaW9yaXR5OiAtNDAwLFxuICAgICAgcmVxdWlyZTogJ25nSW5jbHVkZScsXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgJGVsZW1lbnQsICRhdHRyLCBjdHJsKSB7XG4gICAgICAgIGlmICgvU1ZHLy50ZXN0KCRlbGVtZW50WzBdLnRvU3RyaW5nKCkpKSB7XG4gICAgICAgICAgLy8gV2ViS2l0OiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM1Njk4IC0tLSBTVkcgZWxlbWVudHMgZG8gbm90XG4gICAgICAgICAgLy8gc3VwcG9ydCBpbm5lckhUTUwsIHNvIGRldGVjdCB0aGlzIGhlcmUgYW5kIHRyeSB0byBnZW5lcmF0ZSB0aGUgY29udGVudHNcbiAgICAgICAgICAvLyBzcGVjaWFsbHkuXG4gICAgICAgICAgJGVsZW1lbnQuZW1wdHkoKTtcbiAgICAgICAgICAkY29tcGlsZShqcUxpdGVCdWlsZEZyYWdtZW50KGN0cmwudGVtcGxhdGUsIGRvY3VtZW50KS5jaGlsZE5vZGVzKShzY29wZSxcbiAgICAgICAgICAgICAgZnVuY3Rpb24gbmFtZXNwYWNlQWRhcHRlZENsb25lKGNsb25lKSB7XG4gICAgICAgICAgICAkZWxlbWVudC5hcHBlbmQoY2xvbmUpO1xuICAgICAgICAgIH0sIHtmdXR1cmVQYXJlbnRFbGVtZW50OiAkZWxlbWVudH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgICRlbGVtZW50Lmh0bWwoY3RybC50ZW1wbGF0ZSk7XG4gICAgICAgICRjb21waWxlKCRlbGVtZW50LmNvbnRlbnRzKCkpKHNjb3BlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0luaXRcbiAqIEByZXN0cmljdCBBQ1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ0luaXRgIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIGV2YWx1YXRlIGFuIGV4cHJlc3Npb24gaW4gdGhlXG4gKiBjdXJyZW50IHNjb3BlLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIj5cbiAqIFRoZSBvbmx5IGFwcHJvcHJpYXRlIHVzZSBvZiBgbmdJbml0YCBpcyBmb3IgYWxpYXNpbmcgc3BlY2lhbCBwcm9wZXJ0aWVzIG9mXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IGBuZ1JlcGVhdGB9LCBhcyBzZWVuIGluIHRoZSBkZW1vIGJlbG93LiBCZXNpZGVzIHRoaXMgY2FzZSwgeW91XG4gKiBzaG91bGQgdXNlIHtAbGluayBndWlkZS9jb250cm9sbGVyIGNvbnRyb2xsZXJzfSByYXRoZXIgdGhhbiBgbmdJbml0YFxuICogdG8gaW5pdGlhbGl6ZSB2YWx1ZXMgb24gYSBzY29wZS5cbiAqIDwvZGl2PlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAqICoqTm90ZSoqOiBJZiB5b3UgaGF2ZSBhc3NpZ25tZW50IGluIGBuZ0luaXRgIGFsb25nIHdpdGgge0BsaW5rIG5nLiRmaWx0ZXIgYCRmaWx0ZXJgfSwgbWFrZVxuICogc3VyZSB5b3UgaGF2ZSBwYXJlbnRoZXNpcyBmb3IgY29ycmVjdCBwcmVjZWRlbmNlOlxuICogPHByZSBjbGFzcz1cInByZXR0eXByaW50XCI+XG4gKiBgPGRpdiBuZy1pbml0PVwidGVzdDEgPSAoZGF0YSB8IG9yZGVyQnk6J25hbWUnKVwiPjwvZGl2PmBcbiAqIDwvcHJlPlxuICogPC9kaXY+XG4gKlxuICogQHByaW9yaXR5IDQ1MFxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0luaXQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwiaW5pdEV4YW1wbGVcIj5cbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgIDxzY3JpcHQ+XG4gICAgIGFuZ3VsYXIubW9kdWxlKCdpbml0RXhhbXBsZScsIFtdKVxuICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAkc2NvcGUubGlzdCA9IFtbJ2EnLCAnYiddLCBbJ2MnLCAnZCddXTtcbiAgICAgICB9XSk7XG4gICA8L3NjcmlwdD5cbiAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgIDxkaXYgbmctcmVwZWF0PVwiaW5uZXJMaXN0IGluIGxpc3RcIiBuZy1pbml0PVwib3V0ZXJJbmRleCA9ICRpbmRleFwiPlxuICAgICAgIDxkaXYgbmctcmVwZWF0PVwidmFsdWUgaW4gaW5uZXJMaXN0XCIgbmctaW5pdD1cImlubmVySW5kZXggPSAkaW5kZXhcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImV4YW1wbGUtaW5pdFwiPmxpc3RbIHt7b3V0ZXJJbmRleH19IF1bIHt7aW5uZXJJbmRleH19IF0gPSB7e3ZhbHVlfX07PC9zcGFuPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2Rpdj5cbiAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGFsaWFzIGluZGV4IHBvc2l0aW9ucycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgdmFyIGVsZW1lbnRzID0gZWxlbWVudC5hbGwoYnkuY3NzKCcuZXhhbXBsZS1pbml0JykpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnRzLmdldCgwKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3RbIDAgXVsgMCBdID0gYTsnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50cy5nZXQoMSkuZ2V0VGV4dCgpKS50b0JlKCdsaXN0WyAwIF1bIDEgXSA9IGI7Jyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudHMuZ2V0KDIpLmdldFRleHQoKSkudG9CZSgnbGlzdFsgMSBdWyAwIF0gPSBjOycpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnRzLmdldCgzKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3RbIDEgXVsgMSBdID0gZDsnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdJbml0RGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xuICBwcmlvcml0eTogNDUwLFxuICBjb21waWxlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJlOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgc2NvcGUuJGV2YWwoYXR0cnMubmdJbml0KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ0xpc3RcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRleHQgaW5wdXQgdGhhdCBjb252ZXJ0cyBiZXR3ZWVuIGEgZGVsaW1pdGVkIHN0cmluZyBhbmQgYW4gYXJyYXkgb2Ygc3RyaW5ncy4gVGhlIGRlZmF1bHRcbiAqIGRlbGltaXRlciBpcyBhIGNvbW1hIGZvbGxvd2VkIGJ5IGEgc3BhY2UgLSBlcXVpdmFsZW50IHRvIGBuZy1saXN0PVwiLCBcImAuIFlvdSBjYW4gc3BlY2lmeSBhIGN1c3RvbVxuICogZGVsaW1pdGVyIGFzIHRoZSB2YWx1ZSBvZiB0aGUgYG5nTGlzdGAgYXR0cmlidXRlIC0gZm9yIGV4YW1wbGUsIGBuZy1saXN0PVwiIHwgXCJgLlxuICpcbiAqIFRoZSBiZWhhdmlvdXIgb2YgdGhlIGRpcmVjdGl2ZSBpcyBhZmZlY3RlZCBieSB0aGUgdXNlIG9mIHRoZSBgbmdUcmltYCBhdHRyaWJ1dGUuXG4gKiAqIElmIGBuZ1RyaW1gIGlzIHNldCB0byBgXCJmYWxzZVwiYCB0aGVuIHdoaXRlc3BhY2UgYXJvdW5kIGJvdGggdGhlIHNlcGFyYXRvciBhbmQgZWFjaFxuICogICBsaXN0IGl0ZW0gaXMgcmVzcGVjdGVkLiBUaGlzIGltcGxpZXMgdGhhdCB0aGUgdXNlciBvZiB0aGUgZGlyZWN0aXZlIGlzIHJlc3BvbnNpYmxlIGZvclxuICogICBkZWFsaW5nIHdpdGggd2hpdGVzcGFjZSBidXQgYWxzbyBhbGxvd3MgeW91IHRvIHVzZSB3aGl0ZXNwYWNlIGFzIGEgZGVsaW1pdGVyLCBzdWNoIGFzIGFcbiAqICAgdGFiIG9yIG5ld2xpbmUgY2hhcmFjdGVyLlxuICogKiBPdGhlcndpc2Ugd2hpdGVzcGFjZSBhcm91bmQgdGhlIGRlbGltaXRlciBpcyBpZ25vcmVkIHdoZW4gc3BsaXR0aW5nIChhbHRob3VnaCBpdCBpcyByZXNwZWN0ZWRcbiAqICAgd2hlbiBqb2luaW5nIHRoZSBsaXN0IGl0ZW1zIGJhY2sgdG9nZXRoZXIpIGFuZCB3aGl0ZXNwYWNlIGFyb3VuZCBlYWNoIGxpc3QgaXRlbSBpcyBzdHJpcHBlZFxuICogICBiZWZvcmUgaXQgaXMgYWRkZWQgdG8gdGhlIG1vZGVsLlxuICpcbiAqICMjIyBFeGFtcGxlIHdpdGggVmFsaWRhdGlvblxuICpcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0xpc3QtZGlyZWN0aXZlXCIgbW9kdWxlPVwibGlzdEV4YW1wbGVcIj5cbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICogICAgICBhbmd1bGFyLm1vZHVsZSgnbGlzdEV4YW1wbGUnLCBbXSlcbiAqICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICogICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydtb3JwaGV1cycsICduZW8nLCAndHJpbml0eSddO1xuICogICAgICAgIH1dKTtcbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICogICAgICA8bGFiZWw+TGlzdDogPGlucHV0IG5hbWU9XCJuYW1lc0lucHV0XCIgbmctbW9kZWw9XCJuYW1lc1wiIG5nLWxpc3QgcmVxdWlyZWQ+PC9sYWJlbD5cbiAqICAgICAgPHNwYW4gcm9sZT1cImFsZXJ0XCI+XG4gKiAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0ubmFtZXNJbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cbiAqICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XG4gKiAgICAgIDwvc3Bhbj5cbiAqICAgICAgPGJyPlxuICogICAgICA8dHQ+bmFtZXMgPSB7e25hbWVzfX08L3R0Pjxici8+XG4gKiAgICAgIDx0dD5teUZvcm0ubmFtZXNJbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5uYW1lc0lucHV0LiR2YWxpZH19PC90dD48YnIvPlxuICogICAgICA8dHQ+bXlGb3JtLm5hbWVzSW5wdXQuJGVycm9yID0ge3tteUZvcm0ubmFtZXNJbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cbiAqICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cbiAqICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxuICogICAgIDwvZm9ybT5cbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgICAgdmFyIGxpc3RJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ25hbWVzJykpO1xuICogICAgIHZhciBuYW1lcyA9IGVsZW1lbnQoYnkuZXhhY3RCaW5kaW5nKCduYW1lcycpKTtcbiAqICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5uYW1lc0lucHV0LiR2YWxpZCcpKTtcbiAqICAgICB2YXIgZXJyb3IgPSBlbGVtZW50KGJ5LmNzcygnc3Bhbi5lcnJvcicpKTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICBleHBlY3QobmFtZXMuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ1tcIm1vcnBoZXVzXCIsXCJuZW9cIixcInRyaW5pdHlcIl0nKTtcbiAqICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xuICogICAgICAgZXhwZWN0KGVycm9yLmdldENzc1ZhbHVlKCdkaXNwbGF5JykpLnRvQmUoJ25vbmUnKTtcbiAqICAgICB9KTtcbiAqXG4gKiAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICBsaXN0SW5wdXQuY2xlYXIoKTtcbiAqICAgICAgIGxpc3RJbnB1dC5zZW5kS2V5cygnJyk7XG4gKlxuICogICAgICAgZXhwZWN0KG5hbWVzLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcbiAqICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcbiAqICAgICAgIGV4cGVjdChlcnJvci5nZXRDc3NWYWx1ZSgnZGlzcGxheScpKS5ub3QudG9CZSgnbm9uZScpO1xuICogICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogIyMjIEV4YW1wbGUgLSBzcGxpdHRpbmcgb24gd2hpdGVzcGFjZVxuICogPGV4YW1wbGUgbmFtZT1cIm5nTGlzdC1kaXJlY3RpdmUtbmV3bGluZXNcIj5cbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAqICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cImxpc3RcIiBuZy1saXN0PVwiJiMxMDtcIiBuZy10cmltPVwiZmFsc2VcIj48L3RleHRhcmVhPlxuICogICAgPHByZT57eyBsaXN0IHwganNvbiB9fTwvcHJlPlxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAqICAgICBpdChcInNob3VsZCBzcGxpdCB0aGUgdGV4dCBieSBuZXdsaW5lc1wiLCBmdW5jdGlvbigpIHtcbiAqICAgICAgIHZhciBsaXN0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdsaXN0JykpO1xuICogICAgICAgdmFyIG91dHB1dCA9IGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCB8IGpzb24nKSk7XG4gKiAgICAgICBsaXN0SW5wdXQuc2VuZEtleXMoJ2FiY1xcbmRlZlxcbmdoaScpO1xuICogICAgICAgZXhwZWN0KG91dHB1dC5nZXRUZXh0KCkpLnRvQ29udGFpbignW1xcbiAgXCJhYmNcIixcXG4gIFwiZGVmXCIsXFxuICBcImdoaVwiXFxuXScpO1xuICogICAgIH0pO1xuICogICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKlxuICogQGVsZW1lbnQgaW5wdXRcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdMaXN0IG9wdGlvbmFsIGRlbGltaXRlciB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIHNwbGl0IHRoZSB2YWx1ZS5cbiAqL1xudmFyIG5nTGlzdERpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcHJpb3JpdHk6IDEwMCxcbiAgICByZXF1aXJlOiAnbmdNb2RlbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpIHtcbiAgICAgIC8vIFdlIHdhbnQgdG8gY29udHJvbCB3aGl0ZXNwYWNlIHRyaW1taW5nIHNvIHdlIHVzZSB0aGlzIGNvbnZvbHV0ZWQgYXBwcm9hY2hcbiAgICAgIC8vIHRvIGFjY2VzcyB0aGUgbmdMaXN0IGF0dHJpYnV0ZSwgd2hpY2ggZG9lc24ndCBwcmUtdHJpbSB0aGUgYXR0cmlidXRlXG4gICAgICB2YXIgbmdMaXN0ID0gZWxlbWVudC5hdHRyKGF0dHIuJGF0dHIubmdMaXN0KSB8fCAnLCAnO1xuICAgICAgdmFyIHRyaW1WYWx1ZXMgPSBhdHRyLm5nVHJpbSAhPT0gJ2ZhbHNlJztcbiAgICAgIHZhciBzZXBhcmF0b3IgPSB0cmltVmFsdWVzID8gdHJpbShuZ0xpc3QpIDogbmdMaXN0O1xuXG4gICAgICB2YXIgcGFyc2UgPSBmdW5jdGlvbih2aWV3VmFsdWUpIHtcbiAgICAgICAgLy8gSWYgdGhlIHZpZXdWYWx1ZSBpcyBpbnZhbGlkIChzYXkgcmVxdWlyZWQgYnV0IGVtcHR5KSBpdCB3aWxsIGJlIGB1bmRlZmluZWRgXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZCh2aWV3VmFsdWUpKSByZXR1cm47XG5cbiAgICAgICAgdmFyIGxpc3QgPSBbXTtcblxuICAgICAgICBpZiAodmlld1ZhbHVlKSB7XG4gICAgICAgICAgZm9yRWFjaCh2aWV3VmFsdWUuc3BsaXQoc2VwYXJhdG9yKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkgbGlzdC5wdXNoKHRyaW1WYWx1ZXMgPyB0cmltKHZhbHVlKSA6IHZhbHVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgICAgfTtcblxuICAgICAgY3RybC4kcGFyc2Vycy5wdXNoKHBhcnNlKTtcbiAgICAgIGN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUuam9pbihuZ0xpc3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBPdmVycmlkZSB0aGUgc3RhbmRhcmQgJGlzRW1wdHkgYmVjYXVzZSBhbiBlbXB0eSBhcnJheSBtZWFucyB0aGUgaW5wdXQgaXMgZW1wdHkuXG4gICAgICBjdHJsLiRpc0VtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZSB8fCAhdmFsdWUubGVuZ3RoO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuXG4vKiBnbG9iYWwgVkFMSURfQ0xBU1M6IHRydWUsXG4gIElOVkFMSURfQ0xBU1M6IHRydWUsXG4gIFBSSVNUSU5FX0NMQVNTOiB0cnVlLFxuICBESVJUWV9DTEFTUzogdHJ1ZSxcbiAgVU5UT1VDSEVEX0NMQVNTOiB0cnVlLFxuICBUT1VDSEVEX0NMQVNTOiB0cnVlLFxuKi9cblxudmFyIFZBTElEX0NMQVNTID0gJ25nLXZhbGlkJyxcbiAgICBJTlZBTElEX0NMQVNTID0gJ25nLWludmFsaWQnLFxuICAgIFBSSVNUSU5FX0NMQVNTID0gJ25nLXByaXN0aW5lJyxcbiAgICBESVJUWV9DTEFTUyA9ICduZy1kaXJ0eScsXG4gICAgVU5UT1VDSEVEX0NMQVNTID0gJ25nLXVudG91Y2hlZCcsXG4gICAgVE9VQ0hFRF9DTEFTUyA9ICduZy10b3VjaGVkJyxcbiAgICBQRU5ESU5HX0NMQVNTID0gJ25nLXBlbmRpbmcnO1xuXG5cbnZhciAkbmdNb2RlbE1pbkVyciA9IG5ldyBtaW5FcnIoJ25nTW9kZWwnKTtcblxuLyoqXG4gKiBAbmdkb2MgdHlwZVxuICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlclxuICpcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAkdmlld1ZhbHVlIEFjdHVhbCBzdHJpbmcgdmFsdWUgaW4gdGhlIHZpZXcuXG4gKiBAcHJvcGVydHkgeyp9ICRtb2RlbFZhbHVlIFRoZSB2YWx1ZSBpbiB0aGUgbW9kZWwgdGhhdCB0aGUgY29udHJvbCBpcyBib3VuZCB0by5cbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEZ1bmN0aW9uPn0gJHBhcnNlcnMgQXJyYXkgb2YgZnVuY3Rpb25zIHRvIGV4ZWN1dGUsIGFzIGEgcGlwZWxpbmUsIHdoZW5ldmVyXG4gICAgICAgdGhlIGNvbnRyb2wgcmVhZHMgdmFsdWUgZnJvbSB0aGUgRE9NLiBUaGUgZnVuY3Rpb25zIGFyZSBjYWxsZWQgaW4gYXJyYXkgb3JkZXIsIGVhY2ggcGFzc2luZ1xuICAgICAgIGl0cyByZXR1cm4gdmFsdWUgdGhyb3VnaCB0byB0aGUgbmV4dC4gVGhlIGxhc3QgcmV0dXJuIHZhbHVlIGlzIGZvcndhcmRlZCB0byB0aGVcbiAgICAgICB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmFsaWRhdG9ycyBgJHZhbGlkYXRvcnNgfSBjb2xsZWN0aW9uLlxuXG5QYXJzZXJzIGFyZSB1c2VkIHRvIHNhbml0aXplIC8gY29udmVydCB0aGUge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZVxuYCR2aWV3VmFsdWVgfS5cblxuUmV0dXJuaW5nIGB1bmRlZmluZWRgIGZyb20gYSBwYXJzZXIgbWVhbnMgYSBwYXJzZSBlcnJvciBvY2N1cnJlZC4gSW4gdGhhdCBjYXNlLFxubm8ge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRvcnMgYCR2YWxpZGF0b3JzYH0gd2lsbCBydW4gYW5kIHRoZSBgbmdNb2RlbGBcbndpbGwgYmUgc2V0IHRvIGB1bmRlZmluZWRgIHVubGVzcyB7QGxpbmsgbmdNb2RlbE9wdGlvbnMgYG5nTW9kZWxPcHRpb25zLmFsbG93SW52YWxpZGB9XG5pcyBzZXQgdG8gYHRydWVgLiBUaGUgcGFyc2UgZXJyb3IgaXMgc3RvcmVkIGluIGBuZ01vZGVsLiRlcnJvci5wYXJzZWAuXG5cbiAqXG4gKiBAcHJvcGVydHkge0FycmF5LjxGdW5jdGlvbj59ICRmb3JtYXR0ZXJzIEFycmF5IG9mIGZ1bmN0aW9ucyB0byBleGVjdXRlLCBhcyBhIHBpcGVsaW5lLCB3aGVuZXZlclxuICAgICAgIHRoZSBtb2RlbCB2YWx1ZSBjaGFuZ2VzLiBUaGUgZnVuY3Rpb25zIGFyZSBjYWxsZWQgaW4gcmV2ZXJzZSBhcnJheSBvcmRlciwgZWFjaCBwYXNzaW5nIHRoZSB2YWx1ZSB0aHJvdWdoIHRvIHRoZVxuICAgICAgIG5leHQuIFRoZSBsYXN0IHJldHVybiB2YWx1ZSBpcyB1c2VkIGFzIHRoZSBhY3R1YWwgRE9NIHZhbHVlLlxuICAgICAgIFVzZWQgdG8gZm9ybWF0IC8gY29udmVydCB2YWx1ZXMgZm9yIGRpc3BsYXkgaW4gdGhlIGNvbnRyb2wuXG4gKiBgYGBqc1xuICogZnVuY3Rpb24gZm9ybWF0dGVyKHZhbHVlKSB7XG4gKiAgIGlmICh2YWx1ZSkge1xuICogICAgIHJldHVybiB2YWx1ZS50b1VwcGVyQ2FzZSgpO1xuICogICB9XG4gKiB9XG4gKiBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZm9ybWF0dGVyKTtcbiAqIGBgYFxuICpcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uPn0gJHZhbGlkYXRvcnMgQSBjb2xsZWN0aW9uIG9mIHZhbGlkYXRvcnMgdGhhdCBhcmUgYXBwbGllZFxuICogICAgICB3aGVuZXZlciB0aGUgbW9kZWwgdmFsdWUgY2hhbmdlcy4gVGhlIGtleSB2YWx1ZSB3aXRoaW4gdGhlIG9iamVjdCByZWZlcnMgdG8gdGhlIG5hbWUgb2YgdGhlXG4gKiAgICAgIHZhbGlkYXRvciB3aGlsZSB0aGUgZnVuY3Rpb24gcmVmZXJzIHRvIHRoZSB2YWxpZGF0aW9uIG9wZXJhdGlvbi4gVGhlIHZhbGlkYXRpb24gb3BlcmF0aW9uIGlzXG4gKiAgICAgIHByb3ZpZGVkIHdpdGggdGhlIG1vZGVsIHZhbHVlIGFzIGFuIGFyZ3VtZW50IGFuZCBtdXN0IHJldHVybiBhIHRydWUgb3IgZmFsc2UgdmFsdWUgZGVwZW5kaW5nXG4gKiAgICAgIG9uIHRoZSByZXNwb25zZSBvZiB0aGF0IHZhbGlkYXRpb24uXG4gKlxuICogYGBganNcbiAqIG5nTW9kZWwuJHZhbGlkYXRvcnMudmFsaWRDaGFyYWN0ZXJzID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gKiAgIHZhciB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xuICogICByZXR1cm4gL1swLTldKy8udGVzdCh2YWx1ZSkgJiZcbiAqICAgICAgICAgIC9bYS16XSsvLnRlc3QodmFsdWUpICYmXG4gKiAgICAgICAgICAvW0EtWl0rLy50ZXN0KHZhbHVlKSAmJlxuICogICAgICAgICAgL1xcVysvLnRlc3QodmFsdWUpO1xuICogfTtcbiAqIGBgYFxuICpcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uPn0gJGFzeW5jVmFsaWRhdG9ycyBBIGNvbGxlY3Rpb24gb2YgdmFsaWRhdGlvbnMgdGhhdCBhcmUgZXhwZWN0ZWQgdG9cbiAqICAgICAgcGVyZm9ybSBhbiBhc3luY2hyb25vdXMgdmFsaWRhdGlvbiAoZS5nLiBhIEhUVFAgcmVxdWVzdCkuIFRoZSB2YWxpZGF0aW9uIGZ1bmN0aW9uIHRoYXQgaXMgcHJvdmlkZWRcbiAqICAgICAgaXMgZXhwZWN0ZWQgdG8gcmV0dXJuIGEgcHJvbWlzZSB3aGVuIGl0IGlzIHJ1biBkdXJpbmcgdGhlIG1vZGVsIHZhbGlkYXRpb24gcHJvY2Vzcy4gT25jZSB0aGUgcHJvbWlzZVxuICogICAgICBpcyBkZWxpdmVyZWQgdGhlbiB0aGUgdmFsaWRhdGlvbiBzdGF0dXMgd2lsbCBiZSBzZXQgdG8gdHJ1ZSB3aGVuIGZ1bGZpbGxlZCBhbmQgZmFsc2Ugd2hlbiByZWplY3RlZC5cbiAqICAgICAgV2hlbiB0aGUgYXN5bmNocm9ub3VzIHZhbGlkYXRvcnMgYXJlIHRyaWdnZXJlZCwgZWFjaCBvZiB0aGUgdmFsaWRhdG9ycyB3aWxsIHJ1biBpbiBwYXJhbGxlbCBhbmQgdGhlIG1vZGVsXG4gKiAgICAgIHZhbHVlIHdpbGwgb25seSBiZSB1cGRhdGVkIG9uY2UgYWxsIHZhbGlkYXRvcnMgaGF2ZSBiZWVuIGZ1bGZpbGxlZC4gQXMgbG9uZyBhcyBhbiBhc3luY2hyb25vdXMgdmFsaWRhdG9yXG4gKiAgICAgIGlzIHVuZnVsZmlsbGVkLCBpdHMga2V5IHdpbGwgYmUgYWRkZWQgdG8gdGhlIGNvbnRyb2xsZXJzIGAkcGVuZGluZ2AgcHJvcGVydHkuIEFsc28sIGFsbCBhc3luY2hyb25vdXMgdmFsaWRhdG9yc1xuICogICAgICB3aWxsIG9ubHkgcnVuIG9uY2UgYWxsIHN5bmNocm9ub3VzIHZhbGlkYXRvcnMgaGF2ZSBwYXNzZWQuXG4gKlxuICogUGxlYXNlIG5vdGUgdGhhdCBpZiAkaHR0cCBpcyB1c2VkIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRoYXQgdGhlIHNlcnZlciByZXR1cm5zIGEgc3VjY2VzcyBIVFRQIHJlc3BvbnNlIGNvZGVcbiAqIGluIG9yZGVyIHRvIGZ1bGZpbGwgdGhlIHZhbGlkYXRpb24gYW5kIGEgc3RhdHVzIGxldmVsIG9mIGA0eHhgIGluIG9yZGVyIHRvIHJlamVjdCB0aGUgdmFsaWRhdGlvbi5cbiAqXG4gKiBgYGBqc1xuICogbmdNb2RlbC4kYXN5bmNWYWxpZGF0b3JzLnVuaXF1ZVVzZXJuYW1lID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gKiAgIHZhciB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xuICpcbiAqICAgLy8gTG9va3VwIHVzZXIgYnkgdXNlcm5hbWVcbiAqICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy8nICsgdmFsdWUpLlxuICogICAgICB0aGVuKGZ1bmN0aW9uIHJlc29sdmVkKCkge1xuICogICAgICAgIC8vdXNlcm5hbWUgZXhpc3RzLCB0aGlzIG1lYW5zIHZhbGlkYXRpb24gZmFpbHNcbiAqICAgICAgICByZXR1cm4gJHEucmVqZWN0KCdleGlzdHMnKTtcbiAqICAgICAgfSwgZnVuY3Rpb24gcmVqZWN0ZWQoKSB7XG4gKiAgICAgICAgLy91c2VybmFtZSBkb2VzIG5vdCBleGlzdCwgdGhlcmVmb3JlIHRoaXMgdmFsaWRhdGlvbiBwYXNzZXNcbiAqICAgICAgICByZXR1cm4gdHJ1ZTtcbiAqICAgICAgfSk7XG4gKiB9O1xuICogYGBgXG4gKlxuICogQHByb3BlcnR5IHtBcnJheS48RnVuY3Rpb24+fSAkdmlld0NoYW5nZUxpc3RlbmVycyBBcnJheSBvZiBmdW5jdGlvbnMgdG8gZXhlY3V0ZSB3aGVuZXZlciB0aGVcbiAqICAgICB2aWV3IHZhbHVlIGhhcyBjaGFuZ2VkLiBJdCBpcyBjYWxsZWQgd2l0aCBubyBhcmd1bWVudHMsIGFuZCBpdHMgcmV0dXJuIHZhbHVlIGlzIGlnbm9yZWQuXG4gKiAgICAgVGhpcyBjYW4gYmUgdXNlZCBpbiBwbGFjZSBvZiBhZGRpdGlvbmFsICR3YXRjaGVzIGFnYWluc3QgdGhlIG1vZGVsIHZhbHVlLlxuICpcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSAkZXJyb3IgQW4gb2JqZWN0IGhhc2ggd2l0aCBhbGwgZmFpbGluZyB2YWxpZGF0b3IgaWRzIGFzIGtleXMuXG4gKiBAcHJvcGVydHkge09iamVjdH0gJHBlbmRpbmcgQW4gb2JqZWN0IGhhc2ggd2l0aCBhbGwgcGVuZGluZyB2YWxpZGF0b3IgaWRzIGFzIGtleXMuXG4gKlxuICogQHByb3BlcnR5IHtib29sZWFufSAkdW50b3VjaGVkIFRydWUgaWYgY29udHJvbCBoYXMgbm90IGxvc3QgZm9jdXMgeWV0LlxuICogQHByb3BlcnR5IHtib29sZWFufSAkdG91Y2hlZCBUcnVlIGlmIGNvbnRyb2wgaGFzIGxvc3QgZm9jdXMuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRwcmlzdGluZSBUcnVlIGlmIHVzZXIgaGFzIG5vdCBpbnRlcmFjdGVkIHdpdGggdGhlIGNvbnRyb2wgeWV0LlxuICogQHByb3BlcnR5IHtib29sZWFufSAkZGlydHkgVHJ1ZSBpZiB1c2VyIGhhcyBhbHJlYWR5IGludGVyYWN0ZWQgd2l0aCB0aGUgY29udHJvbC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHZhbGlkIFRydWUgaWYgdGhlcmUgaXMgbm8gZXJyb3IuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRpbnZhbGlkIFRydWUgaWYgYXQgbGVhc3Qgb25lIGVycm9yIG9uIHRoZSBjb250cm9sLlxuICogQHByb3BlcnR5IHtzdHJpbmd9ICRuYW1lIFRoZSBuYW1lIGF0dHJpYnV0ZSBvZiB0aGUgY29udHJvbC5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBgTmdNb2RlbENvbnRyb2xsZXJgIHByb3ZpZGVzIEFQSSBmb3IgdGhlIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0gZGlyZWN0aXZlLlxuICogVGhlIGNvbnRyb2xsZXIgY29udGFpbnMgc2VydmljZXMgZm9yIGRhdGEtYmluZGluZywgdmFsaWRhdGlvbiwgQ1NTIHVwZGF0ZXMsIGFuZCB2YWx1ZSBmb3JtYXR0aW5nXG4gKiBhbmQgcGFyc2luZy4gSXQgcHVycG9zZWZ1bGx5IGRvZXMgbm90IGNvbnRhaW4gYW55IGxvZ2ljIHdoaWNoIGRlYWxzIHdpdGggRE9NIHJlbmRlcmluZyBvclxuICogbGlzdGVuaW5nIHRvIERPTSBldmVudHMuXG4gKiBTdWNoIERPTSByZWxhdGVkIGxvZ2ljIHNob3VsZCBiZSBwcm92aWRlZCBieSBvdGhlciBkaXJlY3RpdmVzIHdoaWNoIG1ha2UgdXNlIG9mXG4gKiBgTmdNb2RlbENvbnRyb2xsZXJgIGZvciBkYXRhLWJpbmRpbmcgdG8gY29udHJvbCBlbGVtZW50cy5cbiAqIEFuZ3VsYXIgcHJvdmlkZXMgdGhpcyBET00gbG9naWMgZm9yIG1vc3Qge0BsaW5rIGlucHV0IGBpbnB1dGB9IGVsZW1lbnRzLlxuICogQXQgdGhlIGVuZCBvZiB0aGlzIHBhZ2UgeW91IGNhbiBmaW5kIGEge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjY3VzdG9tLWNvbnRyb2wtZXhhbXBsZVxuICogY3VzdG9tIGNvbnRyb2wgZXhhbXBsZX0gdGhhdCB1c2VzIGBuZ01vZGVsQ29udHJvbGxlcmAgdG8gYmluZCB0byBgY29udGVudGVkaXRhYmxlYCBlbGVtZW50cy5cbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIEN1c3RvbSBDb250cm9sIEV4YW1wbGVcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgdG8gdXNlIGBOZ01vZGVsQ29udHJvbGxlcmAgd2l0aCBhIGN1c3RvbSBjb250cm9sIHRvIGFjaGlldmVcbiAqIGRhdGEtYmluZGluZy4gTm90aWNlIGhvdyBkaWZmZXJlbnQgZGlyZWN0aXZlcyAoYGNvbnRlbnRlZGl0YWJsZWAsIGBuZy1tb2RlbGAsIGFuZCBgcmVxdWlyZWRgKVxuICogY29sbGFib3JhdGUgdG9nZXRoZXIgdG8gYWNoaWV2ZSB0aGUgZGVzaXJlZCByZXN1bHQuXG4gKlxuICogYGNvbnRlbnRlZGl0YWJsZWAgaXMgYW4gSFRNTDUgYXR0cmlidXRlLCB3aGljaCB0ZWxscyB0aGUgYnJvd3NlciB0byBsZXQgdGhlIGVsZW1lbnRcbiAqIGNvbnRlbnRzIGJlIGVkaXRlZCBpbiBwbGFjZSBieSB0aGUgdXNlci5cbiAqXG4gKiBXZSBhcmUgdXNpbmcgdGhlIHtAbGluayBuZy5zZXJ2aWNlOiRzY2UgJHNjZX0gc2VydmljZSBoZXJlIGFuZCBpbmNsdWRlIHRoZSB7QGxpbmsgbmdTYW5pdGl6ZSAkc2FuaXRpemV9XG4gKiBtb2R1bGUgdG8gYXV0b21hdGljYWxseSByZW1vdmUgXCJiYWRcIiBjb250ZW50IGxpa2UgaW5saW5lIGV2ZW50IGxpc3RlbmVyIChlLmcuIGA8c3BhbiBvbmNsaWNrPVwiLi4uXCI+YCkuXG4gKiBIb3dldmVyLCBhcyB3ZSBhcmUgdXNpbmcgYCRzY2VgIHRoZSBtb2RlbCBjYW4gc3RpbGwgZGVjaWRlIHRvIHByb3ZpZGUgdW5zYWZlIGNvbnRlbnQgaWYgaXQgbWFya3NcbiAqIHRoYXQgY29udGVudCB1c2luZyB0aGUgYCRzY2VgIHNlcnZpY2UuXG4gKlxuICogPGV4YW1wbGUgbmFtZT1cIk5nTW9kZWxDb250cm9sbGVyXCIgbW9kdWxlPVwiY3VzdG9tQ29udHJvbFwiIGRlcHM9XCJhbmd1bGFyLXNhbml0aXplLmpzXCI+XG4gICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxuICAgICAgW2NvbnRlbnRlZGl0YWJsZV0ge1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDIwcHg7XG4gICAgICB9XG5cbiAgICAgIC5uZy1pbnZhbGlkIHtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmVkO1xuICAgICAgfVxuXG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdjdXN0b21Db250cm9sJywgWyduZ1Nhbml0aXplJ10pLlxuICAgICAgICBkaXJlY3RpdmUoJ2NvbnRlbnRlZGl0YWJsZScsIFsnJHNjZScsIGZ1bmN0aW9uKCRzY2UpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJywgLy8gb25seSBhY3RpdmF0ZSBvbiBlbGVtZW50IGF0dHJpYnV0ZVxuICAgICAgICAgICAgcmVxdWlyZTogJz9uZ01vZGVsJywgLy8gZ2V0IGEgaG9sZCBvZiBOZ01vZGVsQ29udHJvbGxlclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XG4gICAgICAgICAgICAgIGlmICghbmdNb2RlbCkgcmV0dXJuOyAvLyBkbyBub3RoaW5nIGlmIG5vIG5nLW1vZGVsXG5cbiAgICAgICAgICAgICAgLy8gU3BlY2lmeSBob3cgVUkgc2hvdWxkIGJlIHVwZGF0ZWRcbiAgICAgICAgICAgICAgbmdNb2RlbC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5odG1sKCRzY2UuZ2V0VHJ1c3RlZEh0bWwobmdNb2RlbC4kdmlld1ZhbHVlIHx8ICcnKSk7XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgLy8gTGlzdGVuIGZvciBjaGFuZ2UgZXZlbnRzIHRvIGVuYWJsZSBiaW5kaW5nXG4gICAgICAgICAgICAgIGVsZW1lbnQub24oJ2JsdXIga2V5dXAgY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuJGV2YWxBc3luYyhyZWFkKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJlYWQoKTsgLy8gaW5pdGlhbGl6ZVxuXG4gICAgICAgICAgICAgIC8vIFdyaXRlIGRhdGEgdG8gdGhlIG1vZGVsXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIHJlYWQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSBlbGVtZW50Lmh0bWwoKTtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHdlIGNsZWFyIHRoZSBjb250ZW50IGVkaXRhYmxlIHRoZSBicm93c2VyIGxlYXZlcyBhIDxicj4gYmVoaW5kXG4gICAgICAgICAgICAgICAgLy8gSWYgc3RyaXAtYnIgYXR0cmlidXRlIGlzIHByb3ZpZGVkIHRoZW4gd2Ugc3RyaXAgdGhpcyBvdXRcbiAgICAgICAgICAgICAgICBpZiAoIGF0dHJzLnN0cmlwQnIgJiYgaHRtbCA9PSAnPGJyPicgKSB7XG4gICAgICAgICAgICAgICAgICBodG1sID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5nTW9kZWwuJHNldFZpZXdWYWx1ZShodG1sKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1dKTtcbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIj5cbiAgICAgICA8ZGl2IGNvbnRlbnRlZGl0YWJsZVxuICAgICAgICAgICAgbmFtZT1cIm15V2lkZ2V0XCIgbmctbW9kZWw9XCJ1c2VyQ29udGVudFwiXG4gICAgICAgICAgICBzdHJpcC1icj1cInRydWVcIlxuICAgICAgICAgICAgcmVxdWlyZWQ+Q2hhbmdlIG1lITwvZGl2PlxuICAgICAgICA8c3BhbiBuZy1zaG93PVwibXlGb3JtLm15V2lkZ2V0LiRlcnJvci5yZXF1aXJlZFwiPlJlcXVpcmVkITwvc3Bhbj5cbiAgICAgICA8aHI+XG4gICAgICAgPHRleHRhcmVhIG5nLW1vZGVsPVwidXNlckNvbnRlbnRcIiBhcmlhLWxhYmVsPVwiRHluYW1pYyB0ZXh0YXJlYVwiPjwvdGV4dGFyZWE+XG4gICAgICA8L2Zvcm0+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICBpdCgnc2hvdWxkIGRhdGEtYmluZCBhbmQgYmVjb21lIGludmFsaWQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09ICdzYWZhcmknIHx8IGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT0gJ2ZpcmVmb3gnKSB7XG4gICAgICAgIC8vIFNhZmFyaURyaXZlciBjYW4ndCBoYW5kbGUgY29udGVudGVkaXRhYmxlXG4gICAgICAgIC8vIGFuZCBGaXJlZm94IGRyaXZlciBjYW4ndCBjbGVhciBjb250ZW50ZWRpdGFibGVzIHZlcnkgd2VsbFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgY29udGVudEVkaXRhYmxlID0gZWxlbWVudChieS5jc3MoJ1tjb250ZW50ZWRpdGFibGVdJykpO1xuICAgICAgdmFyIGNvbnRlbnQgPSAnQ2hhbmdlIG1lISc7XG5cbiAgICAgIGV4cGVjdChjb250ZW50RWRpdGFibGUuZ2V0VGV4dCgpKS50b0VxdWFsKGNvbnRlbnQpO1xuXG4gICAgICBjb250ZW50RWRpdGFibGUuY2xlYXIoKTtcbiAgICAgIGNvbnRlbnRFZGl0YWJsZS5zZW5kS2V5cyhwcm90cmFjdG9yLktleS5CQUNLX1NQQUNFKTtcbiAgICAgIGV4cGVjdChjb250ZW50RWRpdGFibGUuZ2V0VGV4dCgpKS50b0VxdWFsKCcnKTtcbiAgICAgIGV4cGVjdChjb250ZW50RWRpdGFibGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b01hdGNoKC9uZy1pbnZhbGlkLXJlcXVpcmVkLyk7XG4gICAgfSk7XG4gICAgPC9maWxlPlxuICogPC9leGFtcGxlPlxuICpcbiAqXG4gKi9cbnZhciBOZ01vZGVsQ29udHJvbGxlciA9IFsnJHNjb3BlJywgJyRleGNlcHRpb25IYW5kbGVyJywgJyRhdHRycycsICckZWxlbWVudCcsICckcGFyc2UnLCAnJGFuaW1hdGUnLCAnJHRpbWVvdXQnLCAnJHJvb3RTY29wZScsICckcScsICckaW50ZXJwb2xhdGUnLFxuICAgIGZ1bmN0aW9uKCRzY29wZSwgJGV4Y2VwdGlvbkhhbmRsZXIsICRhdHRyLCAkZWxlbWVudCwgJHBhcnNlLCAkYW5pbWF0ZSwgJHRpbWVvdXQsICRyb290U2NvcGUsICRxLCAkaW50ZXJwb2xhdGUpIHtcbiAgdGhpcy4kdmlld1ZhbHVlID0gTnVtYmVyLk5hTjtcbiAgdGhpcy4kbW9kZWxWYWx1ZSA9IE51bWJlci5OYU47XG4gIHRoaXMuJCRyYXdNb2RlbFZhbHVlID0gdW5kZWZpbmVkOyAvLyBzdG9yZXMgdGhlIHBhcnNlZCBtb2RlbFZhbHVlIC8gbW9kZWwgc2V0IGZyb20gc2NvcGUgcmVnYXJkbGVzcyBvZiB2YWxpZGl0eS5cbiAgdGhpcy4kdmFsaWRhdG9ycyA9IHt9O1xuICB0aGlzLiRhc3luY1ZhbGlkYXRvcnMgPSB7fTtcbiAgdGhpcy4kcGFyc2VycyA9IFtdO1xuICB0aGlzLiRmb3JtYXR0ZXJzID0gW107XG4gIHRoaXMuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMgPSBbXTtcbiAgdGhpcy4kdW50b3VjaGVkID0gdHJ1ZTtcbiAgdGhpcy4kdG91Y2hlZCA9IGZhbHNlO1xuICB0aGlzLiRwcmlzdGluZSA9IHRydWU7XG4gIHRoaXMuJGRpcnR5ID0gZmFsc2U7XG4gIHRoaXMuJHZhbGlkID0gdHJ1ZTtcbiAgdGhpcy4kaW52YWxpZCA9IGZhbHNlO1xuICB0aGlzLiRlcnJvciA9IHt9OyAvLyBrZWVwIGludmFsaWQga2V5cyBoZXJlXG4gIHRoaXMuJCRzdWNjZXNzID0ge307IC8vIGtlZXAgdmFsaWQga2V5cyBoZXJlXG4gIHRoaXMuJHBlbmRpbmcgPSB1bmRlZmluZWQ7IC8vIGtlZXAgcGVuZGluZyBrZXlzIGhlcmVcbiAgdGhpcy4kbmFtZSA9ICRpbnRlcnBvbGF0ZSgkYXR0ci5uYW1lIHx8ICcnLCBmYWxzZSkoJHNjb3BlKTtcblxuXG4gIHZhciBwYXJzZWROZ01vZGVsID0gJHBhcnNlKCRhdHRyLm5nTW9kZWwpLFxuICAgICAgcGFyc2VkTmdNb2RlbEFzc2lnbiA9IHBhcnNlZE5nTW9kZWwuYXNzaWduLFxuICAgICAgbmdNb2RlbEdldCA9IHBhcnNlZE5nTW9kZWwsXG4gICAgICBuZ01vZGVsU2V0ID0gcGFyc2VkTmdNb2RlbEFzc2lnbixcbiAgICAgIHBlbmRpbmdEZWJvdW5jZSA9IG51bGwsXG4gICAgICBwYXJzZXJWYWxpZCxcbiAgICAgIGN0cmwgPSB0aGlzO1xuXG4gIHRoaXMuJCRzZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGN0cmwuJG9wdGlvbnMgPSBvcHRpb25zO1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZ2V0dGVyU2V0dGVyKSB7XG4gICAgICB2YXIgaW52b2tlTW9kZWxHZXR0ZXIgPSAkcGFyc2UoJGF0dHIubmdNb2RlbCArICcoKScpLFxuICAgICAgICAgIGludm9rZU1vZGVsU2V0dGVyID0gJHBhcnNlKCRhdHRyLm5nTW9kZWwgKyAnKCQkJHApJyk7XG5cbiAgICAgIG5nTW9kZWxHZXQgPSBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgdmFyIG1vZGVsVmFsdWUgPSBwYXJzZWROZ01vZGVsKCRzY29wZSk7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG1vZGVsVmFsdWUpKSB7XG4gICAgICAgICAgbW9kZWxWYWx1ZSA9IGludm9rZU1vZGVsR2V0dGVyKCRzY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1vZGVsVmFsdWU7XG4gICAgICB9O1xuICAgICAgbmdNb2RlbFNldCA9IGZ1bmN0aW9uKCRzY29wZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ocGFyc2VkTmdNb2RlbCgkc2NvcGUpKSkge1xuICAgICAgICAgIGludm9rZU1vZGVsU2V0dGVyKCRzY29wZSwgeyQkJHA6IGN0cmwuJG1vZGVsVmFsdWV9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJzZWROZ01vZGVsQXNzaWduKCRzY29wZSwgY3RybC4kbW9kZWxWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICghcGFyc2VkTmdNb2RlbC5hc3NpZ24pIHtcbiAgICAgIHRocm93ICRuZ01vZGVsTWluRXJyKCdub25hc3NpZ24nLCBcIkV4cHJlc3Npb24gJ3swfScgaXMgbm9uLWFzc2lnbmFibGUuIEVsZW1lbnQ6IHsxfVwiLFxuICAgICAgICAgICRhdHRyLm5nTW9kZWwsIHN0YXJ0aW5nVGFnKCRlbGVtZW50KSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHJlbmRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ2FsbGVkIHdoZW4gdGhlIHZpZXcgbmVlZHMgdG8gYmUgdXBkYXRlZC4gSXQgaXMgZXhwZWN0ZWQgdGhhdCB0aGUgdXNlciBvZiB0aGUgbmctbW9kZWxcbiAgICogZGlyZWN0aXZlIHdpbGwgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgKlxuICAgKiBUaGUgYCRyZW5kZXIoKWAgbWV0aG9kIGlzIGludm9rZWQgaW4gdGhlIGZvbGxvd2luZyBzaXR1YXRpb25zOlxuICAgKlxuICAgKiAqIGAkcm9sbGJhY2tWaWV3VmFsdWUoKWAgaXMgY2FsbGVkLiAgSWYgd2UgYXJlIHJvbGxpbmcgYmFjayB0aGUgdmlldyB2YWx1ZSB0byB0aGUgbGFzdFxuICAgKiAgIGNvbW1pdHRlZCB2YWx1ZSB0aGVuIGAkcmVuZGVyKClgIGlzIGNhbGxlZCB0byB1cGRhdGUgdGhlIGlucHV0IGNvbnRyb2wuXG4gICAqICogVGhlIHZhbHVlIHJlZmVyZW5jZWQgYnkgYG5nLW1vZGVsYCBpcyBjaGFuZ2VkIHByb2dyYW1tYXRpY2FsbHkgYW5kIGJvdGggdGhlIGAkbW9kZWxWYWx1ZWAgYW5kXG4gICAqICAgdGhlIGAkdmlld1ZhbHVlYCBhcmUgZGlmZmVyZW50IGZyb20gbGFzdCB0aW1lLlxuICAgKlxuICAgKiBTaW5jZSBgbmctbW9kZWxgIGRvZXMgbm90IGRvIGEgZGVlcCB3YXRjaCwgYCRyZW5kZXIoKWAgaXMgb25seSBpbnZva2VkIGlmIHRoZSB2YWx1ZXMgb2ZcbiAgICogYCRtb2RlbFZhbHVlYCBhbmQgYCR2aWV3VmFsdWVgIGFyZSBhY3R1YWxseSBkaWZmZXJlbnQgZnJvbSB0aGVpciBwcmV2aW91cyB2YWx1ZS4gSWYgYCRtb2RlbFZhbHVlYFxuICAgKiBvciBgJHZpZXdWYWx1ZWAgYXJlIG9iamVjdHMgKHJhdGhlciB0aGFuIGEgc3RyaW5nIG9yIG51bWJlcikgdGhlbiBgJHJlbmRlcigpYCB3aWxsIG5vdCBiZVxuICAgKiBpbnZva2VkIGlmIHlvdSBvbmx5IGNoYW5nZSBhIHByb3BlcnR5IG9uIHRoZSBvYmplY3RzLlxuICAgKi9cbiAgdGhpcy4kcmVuZGVyID0gbm9vcDtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRpc0VtcHR5XG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIHdlIG5lZWQgdG8gZGV0ZXJtaW5lIGlmIHRoZSB2YWx1ZSBvZiBhbiBpbnB1dCBpcyBlbXB0eS5cbiAgICpcbiAgICogRm9yIGluc3RhbmNlLCB0aGUgcmVxdWlyZWQgZGlyZWN0aXZlIGRvZXMgdGhpcyB0byB3b3JrIG91dCBpZiB0aGUgaW5wdXQgaGFzIGRhdGEgb3Igbm90LlxuICAgKlxuICAgKiBUaGUgZGVmYXVsdCBgJGlzRW1wdHlgIGZ1bmN0aW9uIGNoZWNrcyB3aGV0aGVyIHRoZSB2YWx1ZSBpcyBgdW5kZWZpbmVkYCwgYCcnYCwgYG51bGxgIG9yIGBOYU5gLlxuICAgKlxuICAgKiBZb3UgY2FuIG92ZXJyaWRlIHRoaXMgZm9yIGlucHV0IGRpcmVjdGl2ZXMgd2hvc2UgY29uY2VwdCBvZiBiZWluZyBlbXB0eSBpcyBkaWZmZXJlbnQgZnJvbSB0aGVcbiAgICogZGVmYXVsdC4gVGhlIGBjaGVja2JveElucHV0VHlwZWAgZGlyZWN0aXZlIGRvZXMgdGhpcyBiZWNhdXNlIGluIGl0cyBjYXNlIGEgdmFsdWUgb2YgYGZhbHNlYFxuICAgKiBpbXBsaWVzIGVtcHR5LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgaW5wdXQgdG8gY2hlY2sgZm9yIGVtcHRpbmVzcy5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBcImVtcHR5XCIuXG4gICAqL1xuICB0aGlzLiRpc0VtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gaXNVbmRlZmluZWQodmFsdWUpIHx8IHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWU7XG4gIH07XG5cbiAgdmFyIHBhcmVudEZvcm0gPSAkZWxlbWVudC5pbmhlcml0ZWREYXRhKCckZm9ybUNvbnRyb2xsZXInKSB8fCBudWxsRm9ybUN0cmwsXG4gICAgICBjdXJyZW50VmFsaWRhdGlvblJ1bklkID0gMDtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRWYWxpZGl0eVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ2hhbmdlIHRoZSB2YWxpZGl0eSBzdGF0ZSwgYW5kIG5vdGlmeSB0aGUgZm9ybS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB3aXRoaW4gJHBhcnNlcnMvJGZvcm1hdHRlcnMgb3IgYSBjdXN0b20gdmFsaWRhdGlvbiBpbXBsZW1lbnRhdGlvbi5cbiAgICogSG93ZXZlciwgaW4gbW9zdCBjYXNlcyBpdCBzaG91bGQgYmUgc3VmZmljaWVudCB0byB1c2UgdGhlIGBuZ01vZGVsLiR2YWxpZGF0b3JzYCBhbmRcbiAgICogYG5nTW9kZWwuJGFzeW5jVmFsaWRhdG9yc2AgY29sbGVjdGlvbnMgd2hpY2ggd2lsbCBjYWxsIGAkc2V0VmFsaWRpdHlgIGF1dG9tYXRpY2FsbHkuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWxpZGF0aW9uRXJyb3JLZXkgTmFtZSBvZiB0aGUgdmFsaWRhdG9yLiBUaGUgYHZhbGlkYXRpb25FcnJvcktleWAgd2lsbCBiZSBhc3NpZ25lZFxuICAgKiAgICAgICAgdG8gZWl0aGVyIGAkZXJyb3JbdmFsaWRhdGlvbkVycm9yS2V5XWAgb3IgYCRwZW5kaW5nW3ZhbGlkYXRpb25FcnJvcktleV1gXG4gICAqICAgICAgICAoZm9yIHVuZnVsZmlsbGVkIGAkYXN5bmNWYWxpZGF0b3JzYCksIHNvIHRoYXQgaXQgaXMgYXZhaWxhYmxlIGZvciBkYXRhLWJpbmRpbmcuXG4gICAqICAgICAgICBUaGUgYHZhbGlkYXRpb25FcnJvcktleWAgc2hvdWxkIGJlIGluIGNhbWVsQ2FzZSBhbmQgd2lsbCBnZXQgY29udmVydGVkIGludG8gZGFzaC1jYXNlXG4gICAqICAgICAgICBmb3IgY2xhc3MgbmFtZS4gRXhhbXBsZTogYG15RXJyb3JgIHdpbGwgcmVzdWx0IGluIGBuZy12YWxpZC1teS1lcnJvcmAgYW5kIGBuZy1pbnZhbGlkLW15LWVycm9yYFxuICAgKiAgICAgICAgY2xhc3MgYW5kIGNhbiBiZSBib3VuZCB0byBhcyAgYHt7c29tZUZvcm0uc29tZUNvbnRyb2wuJGVycm9yLm15RXJyb3J9fWAgLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzVmFsaWQgV2hldGhlciB0aGUgY3VycmVudCBzdGF0ZSBpcyB2YWxpZCAodHJ1ZSksIGludmFsaWQgKGZhbHNlKSwgcGVuZGluZyAodW5kZWZpbmVkKSxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIG9yIHNraXBwZWQgKG51bGwpLiBQZW5kaW5nIGlzIHVzZWQgZm9yIHVuZnVsZmlsbGVkIGAkYXN5bmNWYWxpZGF0b3JzYC5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIFNraXBwZWQgaXMgdXNlZCBieSBBbmd1bGFyIHdoZW4gdmFsaWRhdG9ycyBkbyBub3QgcnVuIGJlY2F1c2Ugb2YgcGFyc2UgZXJyb3JzIGFuZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiBgJGFzeW5jVmFsaWRhdG9yc2AgZG8gbm90IHJ1biBiZWNhdXNlIGFueSBvZiB0aGUgYCR2YWxpZGF0b3JzYCBmYWlsZWQuXG4gICAqL1xuICBhZGRTZXRWYWxpZGl0eU1ldGhvZCh7XG4gICAgY3RybDogdGhpcyxcbiAgICAkZWxlbWVudDogJGVsZW1lbnQsXG4gICAgc2V0OiBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgICBvYmplY3RbcHJvcGVydHldID0gdHJ1ZTtcbiAgICB9LFxuICAgIHVuc2V0OiBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgICBkZWxldGUgb2JqZWN0W3Byb3BlcnR5XTtcbiAgICB9LFxuICAgIHBhcmVudEZvcm06IHBhcmVudEZvcm0sXG4gICAgJGFuaW1hdGU6ICRhbmltYXRlXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFByaXN0aW5lXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIHRoZSBjb250cm9sIHRvIGl0cyBwcmlzdGluZSBzdGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlIGBuZy1kaXJ0eWAgY2xhc3MgYW5kIHNldCB0aGUgY29udHJvbCB0byBpdHMgcHJpc3RpbmVcbiAgICogc3RhdGUgKGBuZy1wcmlzdGluZWAgY2xhc3MpLiBBIG1vZGVsIGlzIGNvbnNpZGVyZWQgdG8gYmUgcHJpc3RpbmUgd2hlbiB0aGUgY29udHJvbFxuICAgKiBoYXMgbm90IGJlZW4gY2hhbmdlZCBmcm9tIHdoZW4gZmlyc3QgY29tcGlsZWQuXG4gICAqL1xuICB0aGlzLiRzZXRQcmlzdGluZSA9IGZ1bmN0aW9uKCkge1xuICAgIGN0cmwuJGRpcnR5ID0gZmFsc2U7XG4gICAgY3RybC4kcHJpc3RpbmUgPSB0cnVlO1xuICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKCRlbGVtZW50LCBESVJUWV9DTEFTUyk7XG4gICAgJGFuaW1hdGUuYWRkQ2xhc3MoJGVsZW1lbnQsIFBSSVNUSU5FX0NMQVNTKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIG1ldGhvZFxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXREaXJ0eVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgY29udHJvbCB0byBpdHMgZGlydHkgc3RhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSBgbmctcHJpc3RpbmVgIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzIGRpcnR5XG4gICAqIHN0YXRlIChgbmctZGlydHlgIGNsYXNzKS4gQSBtb2RlbCBpcyBjb25zaWRlcmVkIHRvIGJlIGRpcnR5IHdoZW4gdGhlIGNvbnRyb2wgaGFzIGJlZW4gY2hhbmdlZFxuICAgKiBmcm9tIHdoZW4gZmlyc3QgY29tcGlsZWQuXG4gICAqL1xuICB0aGlzLiRzZXREaXJ0eSA9IGZ1bmN0aW9uKCkge1xuICAgIGN0cmwuJGRpcnR5ID0gdHJ1ZTtcbiAgICBjdHJsLiRwcmlzdGluZSA9IGZhbHNlO1xuICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKCRlbGVtZW50LCBQUklTVElORV9DTEFTUyk7XG4gICAgJGFuaW1hdGUuYWRkQ2xhc3MoJGVsZW1lbnQsIERJUlRZX0NMQVNTKTtcbiAgICBwYXJlbnRGb3JtLiRzZXREaXJ0eSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFVudG91Y2hlZFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgY29udHJvbCB0byBpdHMgdW50b3VjaGVkIHN0YXRlLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgYG5nLXRvdWNoZWRgIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzXG4gICAqIHVudG91Y2hlZCBzdGF0ZSAoYG5nLXVudG91Y2hlZGAgY2xhc3MpLiBVcG9uIGNvbXBpbGF0aW9uLCBhIG1vZGVsIGlzIHNldCBhcyB1bnRvdWNoZWRcbiAgICogYnkgZGVmYXVsdCwgaG93ZXZlciB0aGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIHJlc3RvcmUgdGhhdCBzdGF0ZSBpZiB0aGUgbW9kZWwgaGFzXG4gICAqIGFscmVhZHkgYmVlbiB0b3VjaGVkIGJ5IHRoZSB1c2VyLlxuICAgKi9cbiAgdGhpcy4kc2V0VW50b3VjaGVkID0gZnVuY3Rpb24oKSB7XG4gICAgY3RybC4kdG91Y2hlZCA9IGZhbHNlO1xuICAgIGN0cmwuJHVudG91Y2hlZCA9IHRydWU7XG4gICAgJGFuaW1hdGUuc2V0Q2xhc3MoJGVsZW1lbnQsIFVOVE9VQ0hFRF9DTEFTUywgVE9VQ0hFRF9DTEFTUyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0VG91Y2hlZFxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2V0cyB0aGUgY29udHJvbCB0byBpdHMgdG91Y2hlZCBzdGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlIGBuZy11bnRvdWNoZWRgIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzXG4gICAqIHRvdWNoZWQgc3RhdGUgKGBuZy10b3VjaGVkYCBjbGFzcykuIEEgbW9kZWwgaXMgY29uc2lkZXJlZCB0byBiZSB0b3VjaGVkIHdoZW4gdGhlIHVzZXIgaGFzXG4gICAqIGZpcnN0IGZvY3VzZWQgdGhlIGNvbnRyb2wgZWxlbWVudCBhbmQgdGhlbiBzaGlmdGVkIGZvY3VzIGF3YXkgZnJvbSB0aGUgY29udHJvbCAoYmx1ciBldmVudCkuXG4gICAqL1xuICB0aGlzLiRzZXRUb3VjaGVkID0gZnVuY3Rpb24oKSB7XG4gICAgY3RybC4kdG91Y2hlZCA9IHRydWU7XG4gICAgY3RybC4kdW50b3VjaGVkID0gZmFsc2U7XG4gICAgJGFuaW1hdGUuc2V0Q2xhc3MoJGVsZW1lbnQsIFRPVUNIRURfQ0xBU1MsIFVOVE9VQ0hFRF9DTEFTUyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkcm9sbGJhY2tWaWV3VmFsdWVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIENhbmNlbCBhbiB1cGRhdGUgYW5kIHJlc2V0IHRoZSBpbnB1dCBlbGVtZW50J3MgdmFsdWUgdG8gcHJldmVudCBhbiB1cGRhdGUgdG8gdGhlIGAkbW9kZWxWYWx1ZWAsXG4gICAqIHdoaWNoIG1heSBiZSBjYXVzZWQgYnkgYSBwZW5kaW5nIGRlYm91bmNlZCBldmVudCBvciBiZWNhdXNlIHRoZSBpbnB1dCBpcyB3YWl0aW5nIGZvciBhIHNvbWVcbiAgICogZnV0dXJlIGV2ZW50LlxuICAgKlxuICAgKiBJZiB5b3UgaGF2ZSBhbiBpbnB1dCB0aGF0IHVzZXMgYG5nLW1vZGVsLW9wdGlvbnNgIHRvIHNldCB1cCBkZWJvdW5jZWQgZXZlbnRzIG9yIGV2ZW50cyBzdWNoXG4gICAqIGFzIGJsdXIgeW91IGNhbiBoYXZlIGEgc2l0dWF0aW9uIHdoZXJlIHRoZXJlIGlzIGEgcGVyaW9kIHdoZW4gdGhlIGAkdmlld1ZhbHVlYFxuICAgKiBpcyBvdXQgb2Ygc3luY2ggd2l0aCB0aGUgbmdNb2RlbCdzIGAkbW9kZWxWYWx1ZWAuXG4gICAqXG4gICAqIEluIHRoaXMgY2FzZSwgeW91IGNhbiBydW4gaW50byBkaWZmaWN1bHRpZXMgaWYgeW91IHRyeSB0byB1cGRhdGUgdGhlIG5nTW9kZWwncyBgJG1vZGVsVmFsdWVgXG4gICAqIHByb2dyYW1tYXRpY2FsbHkgYmVmb3JlIHRoZXNlIGRlYm91bmNlZC9mdXR1cmUgZXZlbnRzIGhhdmUgcmVzb2x2ZWQvb2NjdXJyZWQsIGJlY2F1c2UgQW5ndWxhcidzXG4gICAqIGRpcnR5IGNoZWNraW5nIG1lY2hhbmlzbSBpcyBub3QgYWJsZSB0byB0ZWxsIHdoZXRoZXIgdGhlIG1vZGVsIGhhcyBhY3R1YWxseSBjaGFuZ2VkIG9yIG5vdC5cbiAgICpcbiAgICogVGhlIGAkcm9sbGJhY2tWaWV3VmFsdWUoKWAgbWV0aG9kIHNob3VsZCBiZSBjYWxsZWQgYmVmb3JlIHByb2dyYW1tYXRpY2FsbHkgY2hhbmdpbmcgdGhlIG1vZGVsIG9mIGFuXG4gICAqIGlucHV0IHdoaWNoIG1heSBoYXZlIHN1Y2ggZXZlbnRzIHBlbmRpbmcuIFRoaXMgaXMgaW1wb3J0YW50IGluIG9yZGVyIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZVxuICAgKiBpbnB1dCBmaWVsZCB3aWxsIGJlIHVwZGF0ZWQgd2l0aCB0aGUgbmV3IG1vZGVsIHZhbHVlIGFuZCBhbnkgcGVuZGluZyBvcGVyYXRpb25zIGFyZSBjYW5jZWxsZWQuXG4gICAqXG4gICAqIDxleGFtcGxlIG5hbWU9XCJuZy1tb2RlbC1jYW5jZWwtdXBkYXRlXCIgbW9kdWxlPVwiY2FuY2VsLXVwZGF0ZS1leGFtcGxlXCI+XG4gICAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICAgKiAgICAgYW5ndWxhci5tb2R1bGUoJ2NhbmNlbC11cGRhdGUtZXhhbXBsZScsIFtdKVxuICAgKlxuICAgKiAgICAgLmNvbnRyb2xsZXIoJ0NhbmNlbFVwZGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgKiAgICAgICAkc2NvcGUucmVzZXRXaXRoQ2FuY2VsID0gZnVuY3Rpb24oZSkge1xuICAgKiAgICAgICAgIGlmIChlLmtleUNvZGUgPT0gMjcpIHtcbiAgICogICAgICAgICAgICRzY29wZS5teUZvcm0ubXlJbnB1dDEuJHJvbGxiYWNrVmlld1ZhbHVlKCk7XG4gICAqICAgICAgICAgICAkc2NvcGUubXlWYWx1ZSA9ICcnO1xuICAgKiAgICAgICAgIH1cbiAgICogICAgICAgfTtcbiAgICogICAgICAgJHNjb3BlLnJlc2V0V2l0aG91dENhbmNlbCA9IGZ1bmN0aW9uKGUpIHtcbiAgICogICAgICAgICBpZiAoZS5rZXlDb2RlID09IDI3KSB7XG4gICAqICAgICAgICAgICAkc2NvcGUubXlWYWx1ZSA9ICcnO1xuICAgKiAgICAgICAgIH1cbiAgICogICAgICAgfTtcbiAgICogICAgIH1dKTtcbiAgICogICA8L2ZpbGU+XG4gICAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkNhbmNlbFVwZGF0ZUNvbnRyb2xsZXJcIj5cbiAgICogICAgICAgPHA+VHJ5IHR5cGluZyBzb21ldGhpbmcgaW4gZWFjaCBpbnB1dC4gIFNlZSB0aGF0IHRoZSBtb2RlbCBvbmx5IHVwZGF0ZXMgd2hlbiB5b3VcbiAgICogICAgICAgICAgYmx1ciBvZmYgdGhlIGlucHV0LlxuICAgKiAgICAgICAgPC9wPlxuICAgKiAgICAgICAgPHA+Tm93IHNlZSB3aGF0IGhhcHBlbnMgaWYgeW91IHN0YXJ0IHR5cGluZyB0aGVuIHByZXNzIHRoZSBFc2NhcGUga2V5PC9wPlxuICAgKlxuICAgKiAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctbW9kZWwtb3B0aW9ucz1cInsgdXBkYXRlT246ICdibHVyJyB9XCI+XG4gICAqICAgICAgICAgPHAgaWQ9XCJpbnB1dERlc2NyaXB0aW9uMVwiPldpdGggJHJvbGxiYWNrVmlld1ZhbHVlKCk8L3A+XG4gICAqICAgICAgICAgPGlucHV0IG5hbWU9XCJteUlucHV0MVwiIGFyaWEtZGVzY3JpYmVkYnk9XCJpbnB1dERlc2NyaXB0aW9uMVwiIG5nLW1vZGVsPVwibXlWYWx1ZVwiXG4gICAqICAgICAgICAgICAgICAgIG5nLWtleWRvd249XCJyZXNldFdpdGhDYW5jZWwoJGV2ZW50KVwiPjxici8+XG4gICAqICAgICAgICAgbXlWYWx1ZTogXCJ7eyBteVZhbHVlIH19XCJcbiAgICpcbiAgICogICAgICAgICA8cCBpZD1cImlucHV0RGVzY3JpcHRpb24yXCI+V2l0aG91dCAkcm9sbGJhY2tWaWV3VmFsdWUoKTwvcD5cbiAgICogICAgICAgICA8aW5wdXQgbmFtZT1cIm15SW5wdXQyXCIgYXJpYS1kZXNjcmliZWRieT1cImlucHV0RGVzY3JpcHRpb24yXCIgbmctbW9kZWw9XCJteVZhbHVlXCJcbiAgICogICAgICAgICAgICAgICAgbmcta2V5ZG93bj1cInJlc2V0V2l0aG91dENhbmNlbCgkZXZlbnQpXCI+PGJyLz5cbiAgICogICAgICAgICBteVZhbHVlOiBcInt7IG15VmFsdWUgfX1cIlxuICAgKiAgICAgICA8L2Zvcm0+XG4gICAqICAgICA8L2Rpdj5cbiAgICogICA8L2ZpbGU+XG4gICAqIDwvZXhhbXBsZT5cbiAgICovXG4gIHRoaXMuJHJvbGxiYWNrVmlld1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgJHRpbWVvdXQuY2FuY2VsKHBlbmRpbmdEZWJvdW5jZSk7XG4gICAgY3RybC4kdmlld1ZhbHVlID0gY3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU7XG4gICAgY3RybC4kcmVuZGVyKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmFsaWRhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJ1bnMgZWFjaCBvZiB0aGUgcmVnaXN0ZXJlZCB2YWxpZGF0b3JzIChmaXJzdCBzeW5jaHJvbm91cyB2YWxpZGF0b3JzIGFuZCB0aGVuXG4gICAqIGFzeW5jaHJvbm91cyB2YWxpZGF0b3JzKS5cbiAgICogSWYgdGhlIHZhbGlkaXR5IGNoYW5nZXMgdG8gaW52YWxpZCwgdGhlIG1vZGVsIHdpbGwgYmUgc2V0IHRvIGB1bmRlZmluZWRgLFxuICAgKiB1bmxlc3Mge0BsaW5rIG5nTW9kZWxPcHRpb25zIGBuZ01vZGVsT3B0aW9ucy5hbGxvd0ludmFsaWRgfSBpcyBgdHJ1ZWAuXG4gICAqIElmIHRoZSB2YWxpZGl0eSBjaGFuZ2VzIHRvIHZhbGlkLCBpdCB3aWxsIHNldCB0aGUgbW9kZWwgdG8gdGhlIGxhc3QgYXZhaWxhYmxlIHZhbGlkXG4gICAqIGAkbW9kZWxWYWx1ZWAsIGkuZS4gZWl0aGVyIHRoZSBsYXN0IHBhcnNlZCB2YWx1ZSBvciB0aGUgbGFzdCB2YWx1ZSBzZXQgZnJvbSB0aGUgc2NvcGUuXG4gICAqL1xuICB0aGlzLiR2YWxpZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIGlnbm9yZSAkdmFsaWRhdGUgYmVmb3JlIG1vZGVsIGlzIGluaXRpYWxpemVkXG4gICAgaWYgKGlzTnVtYmVyKGN0cmwuJG1vZGVsVmFsdWUpICYmIGlzTmFOKGN0cmwuJG1vZGVsVmFsdWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHZpZXdWYWx1ZSA9IGN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlO1xuICAgIC8vIE5vdGU6IHdlIHVzZSB0aGUgJCRyYXdNb2RlbFZhbHVlIGFzICRtb2RlbFZhbHVlIG1pZ2h0IGhhdmUgYmVlblxuICAgIC8vIHNldCB0byB1bmRlZmluZWQgZHVyaW5nIGEgdmlldyAtPiBtb2RlbCB1cGRhdGUgdGhhdCBmb3VuZCB2YWxpZGF0aW9uXG4gICAgLy8gZXJyb3JzLiBXZSBjYW4ndCBwYXJzZSB0aGUgdmlldyBoZXJlLCBzaW5jZSB0aGF0IGNvdWxkIGNoYW5nZVxuICAgIC8vIHRoZSBtb2RlbCBhbHRob3VnaCBuZWl0aGVyIHZpZXdWYWx1ZSBub3IgdGhlIG1vZGVsIG9uIHRoZSBzY29wZSBjaGFuZ2VkXG4gICAgdmFyIG1vZGVsVmFsdWUgPSBjdHJsLiQkcmF3TW9kZWxWYWx1ZTtcblxuICAgIHZhciBwcmV2VmFsaWQgPSBjdHJsLiR2YWxpZDtcbiAgICB2YXIgcHJldk1vZGVsVmFsdWUgPSBjdHJsLiRtb2RlbFZhbHVlO1xuXG4gICAgdmFyIGFsbG93SW52YWxpZCA9IGN0cmwuJG9wdGlvbnMgJiYgY3RybC4kb3B0aW9ucy5hbGxvd0ludmFsaWQ7XG5cbiAgICBjdHJsLiQkcnVuVmFsaWRhdG9ycyhtb2RlbFZhbHVlLCB2aWV3VmFsdWUsIGZ1bmN0aW9uKGFsbFZhbGlkKSB7XG4gICAgICAvLyBJZiB0aGVyZSB3YXMgbm8gY2hhbmdlIGluIHZhbGlkaXR5LCBkb24ndCB1cGRhdGUgdGhlIG1vZGVsXG4gICAgICAvLyBUaGlzIHByZXZlbnRzIGNoYW5naW5nIGFuIGludmFsaWQgbW9kZWxWYWx1ZSB0byB1bmRlZmluZWRcbiAgICAgIGlmICghYWxsb3dJbnZhbGlkICYmIHByZXZWYWxpZCAhPT0gYWxsVmFsaWQpIHtcbiAgICAgICAgLy8gTm90ZTogRG9uJ3QgY2hlY2sgY3RybC4kdmFsaWQgaGVyZSwgYXMgd2UgY291bGQgaGF2ZVxuICAgICAgICAvLyBleHRlcm5hbCB2YWxpZGF0b3JzIChlLmcuIGNhbGN1bGF0ZWQgb24gdGhlIHNlcnZlciksXG4gICAgICAgIC8vIHRoYXQganVzdCBjYWxsICRzZXRWYWxpZGl0eSBhbmQgbmVlZCB0aGUgbW9kZWwgdmFsdWVcbiAgICAgICAgLy8gdG8gY2FsY3VsYXRlIHRoZWlyIHZhbGlkaXR5LlxuICAgICAgICBjdHJsLiRtb2RlbFZhbHVlID0gYWxsVmFsaWQgPyBtb2RlbFZhbHVlIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChjdHJsLiRtb2RlbFZhbHVlICE9PSBwcmV2TW9kZWxWYWx1ZSkge1xuICAgICAgICAgIGN0cmwuJCR3cml0ZU1vZGVsVG9TY29wZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfTtcblxuICB0aGlzLiQkcnVuVmFsaWRhdG9ycyA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSwgZG9uZUNhbGxiYWNrKSB7XG4gICAgY3VycmVudFZhbGlkYXRpb25SdW5JZCsrO1xuICAgIHZhciBsb2NhbFZhbGlkYXRpb25SdW5JZCA9IGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQ7XG5cbiAgICAvLyBjaGVjayBwYXJzZXIgZXJyb3JcbiAgICBpZiAoIXByb2Nlc3NQYXJzZUVycm9ycygpKSB7XG4gICAgICB2YWxpZGF0aW9uRG9uZShmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghcHJvY2Vzc1N5bmNWYWxpZGF0b3JzKCkpIHtcbiAgICAgIHZhbGlkYXRpb25Eb25lKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcHJvY2Vzc0FzeW5jVmFsaWRhdG9ycygpO1xuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc1BhcnNlRXJyb3JzKCkge1xuICAgICAgdmFyIGVycm9yS2V5ID0gY3RybC4kJHBhcnNlck5hbWUgfHwgJ3BhcnNlJztcbiAgICAgIGlmIChwYXJzZXJWYWxpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNldFZhbGlkaXR5KGVycm9yS2V5LCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghcGFyc2VyVmFsaWQpIHtcbiAgICAgICAgICBmb3JFYWNoKGN0cmwuJHZhbGlkYXRvcnMsIGZ1bmN0aW9uKHYsIG5hbWUpIHtcbiAgICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIG51bGwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGZvckVhY2goY3RybC4kYXN5bmNWYWxpZGF0b3JzLCBmdW5jdGlvbih2LCBuYW1lKSB7XG4gICAgICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCBudWxsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgdGhlIHBhcnNlIGVycm9yIGxhc3QsIHRvIHByZXZlbnQgdW5zZXR0aW5nIGl0LCBzaG91bGQgYSAkdmFsaWRhdG9ycyBrZXkgPT0gcGFyc2VyTmFtZVxuICAgICAgICBzZXRWYWxpZGl0eShlcnJvcktleSwgcGFyc2VyVmFsaWQpO1xuICAgICAgICByZXR1cm4gcGFyc2VyVmFsaWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzU3luY1ZhbGlkYXRvcnMoKSB7XG4gICAgICB2YXIgc3luY1ZhbGlkYXRvcnNWYWxpZCA9IHRydWU7XG4gICAgICBmb3JFYWNoKGN0cmwuJHZhbGlkYXRvcnMsIGZ1bmN0aW9uKHZhbGlkYXRvciwgbmFtZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gdmFsaWRhdG9yKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSk7XG4gICAgICAgIHN5bmNWYWxpZGF0b3JzVmFsaWQgPSBzeW5jVmFsaWRhdG9yc1ZhbGlkICYmIHJlc3VsdDtcbiAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgcmVzdWx0KTtcbiAgICAgIH0pO1xuICAgICAgaWYgKCFzeW5jVmFsaWRhdG9yc1ZhbGlkKSB7XG4gICAgICAgIGZvckVhY2goY3RybC4kYXN5bmNWYWxpZGF0b3JzLCBmdW5jdGlvbih2LCBuYW1lKSB7XG4gICAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgbnVsbCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzQXN5bmNWYWxpZGF0b3JzKCkge1xuICAgICAgdmFyIHZhbGlkYXRvclByb21pc2VzID0gW107XG4gICAgICB2YXIgYWxsVmFsaWQgPSB0cnVlO1xuICAgICAgZm9yRWFjaChjdHJsLiRhc3luY1ZhbGlkYXRvcnMsIGZ1bmN0aW9uKHZhbGlkYXRvciwgbmFtZSkge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IHZhbGlkYXRvcihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpO1xuICAgICAgICBpZiAoIWlzUHJvbWlzZUxpa2UocHJvbWlzZSkpIHtcbiAgICAgICAgICB0aHJvdyAkbmdNb2RlbE1pbkVycihcIiRhc3luY1ZhbGlkYXRvcnNcIixcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgYXN5bmNocm9ub3VzIHZhbGlkYXRvciB0byByZXR1cm4gYSBwcm9taXNlIGJ1dCBnb3QgJ3swfScgaW5zdGVhZC5cIiwgcHJvbWlzZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgdW5kZWZpbmVkKTtcbiAgICAgICAgdmFsaWRhdG9yUHJvbWlzZXMucHVzaChwcm9taXNlLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgdHJ1ZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgYWxsVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCBmYWxzZSk7XG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKCF2YWxpZGF0b3JQcm9taXNlcy5sZW5ndGgpIHtcbiAgICAgICAgdmFsaWRhdGlvbkRvbmUodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkcS5hbGwodmFsaWRhdG9yUHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFsaWRhdGlvbkRvbmUoYWxsVmFsaWQpO1xuICAgICAgICB9LCBub29wKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRWYWxpZGl0eShuYW1lLCBpc1ZhbGlkKSB7XG4gICAgICBpZiAobG9jYWxWYWxpZGF0aW9uUnVuSWQgPT09IGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQpIHtcbiAgICAgICAgY3RybC4kc2V0VmFsaWRpdHkobmFtZSwgaXNWYWxpZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmFsaWRhdGlvbkRvbmUoYWxsVmFsaWQpIHtcbiAgICAgIGlmIChsb2NhbFZhbGlkYXRpb25SdW5JZCA9PT0gY3VycmVudFZhbGlkYXRpb25SdW5JZCkge1xuXG4gICAgICAgIGRvbmVDYWxsYmFjayhhbGxWYWxpZCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJGNvbW1pdFZpZXdWYWx1ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogQ29tbWl0IGEgcGVuZGluZyB1cGRhdGUgdG8gdGhlIGAkbW9kZWxWYWx1ZWAuXG4gICAqXG4gICAqIFVwZGF0ZXMgbWF5IGJlIHBlbmRpbmcgYnkgYSBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lIGZ1dHVyZVxuICAgKiBldmVudCBkZWZpbmVkIGluIGBuZy1tb2RlbC1vcHRpb25zYC4gdGhpcyBtZXRob2QgaXMgcmFyZWx5IG5lZWRlZCBhcyBgTmdNb2RlbENvbnRyb2xsZXJgXG4gICAqIHVzdWFsbHkgaGFuZGxlcyBjYWxsaW5nIHRoaXMgaW4gcmVzcG9uc2UgdG8gaW5wdXQgZXZlbnRzLlxuICAgKi9cbiAgdGhpcy4kY29tbWl0Vmlld1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZpZXdWYWx1ZSA9IGN0cmwuJHZpZXdWYWx1ZTtcblxuICAgICR0aW1lb3V0LmNhbmNlbChwZW5kaW5nRGVib3VuY2UpO1xuXG4gICAgLy8gSWYgdGhlIHZpZXcgdmFsdWUgaGFzIG5vdCBjaGFuZ2VkIHRoZW4gd2Ugc2hvdWxkIGp1c3QgZXhpdCwgZXhjZXB0IGluIHRoZSBjYXNlIHdoZXJlIHRoZXJlIGlzXG4gICAgLy8gYSBuYXRpdmUgdmFsaWRhdG9yIG9uIHRoZSBlbGVtZW50LiBJbiB0aGlzIGNhc2UgdGhlIHZhbGlkYXRpb24gc3RhdGUgbWF5IGhhdmUgY2hhbmdlZCBldmVuIHRob3VnaFxuICAgIC8vIHRoZSB2aWV3VmFsdWUgaGFzIHN0YXllZCBlbXB0eS5cbiAgICBpZiAoY3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUgPT09IHZpZXdWYWx1ZSAmJiAodmlld1ZhbHVlICE9PSAnJyB8fCAhY3RybC4kJGhhc05hdGl2ZVZhbGlkYXRvcnMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlID0gdmlld1ZhbHVlO1xuXG4gICAgLy8gY2hhbmdlIHRvIGRpcnR5XG4gICAgaWYgKGN0cmwuJHByaXN0aW5lKSB7XG4gICAgICB0aGlzLiRzZXREaXJ0eSgpO1xuICAgIH1cbiAgICB0aGlzLiQkcGFyc2VBbmRWYWxpZGF0ZSgpO1xuICB9O1xuXG4gIHRoaXMuJCRwYXJzZUFuZFZhbGlkYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZpZXdWYWx1ZSA9IGN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlO1xuICAgIHZhciBtb2RlbFZhbHVlID0gdmlld1ZhbHVlO1xuICAgIHBhcnNlclZhbGlkID0gaXNVbmRlZmluZWQobW9kZWxWYWx1ZSkgPyB1bmRlZmluZWQgOiB0cnVlO1xuXG4gICAgaWYgKHBhcnNlclZhbGlkKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN0cmwuJHBhcnNlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbW9kZWxWYWx1ZSA9IGN0cmwuJHBhcnNlcnNbaV0obW9kZWxWYWx1ZSk7XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChtb2RlbFZhbHVlKSkge1xuICAgICAgICAgIHBhcnNlclZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzTnVtYmVyKGN0cmwuJG1vZGVsVmFsdWUpICYmIGlzTmFOKGN0cmwuJG1vZGVsVmFsdWUpKSB7XG4gICAgICAvLyBjdHJsLiRtb2RlbFZhbHVlIGhhcyBub3QgYmVlbiB0b3VjaGVkIHlldC4uLlxuICAgICAgY3RybC4kbW9kZWxWYWx1ZSA9IG5nTW9kZWxHZXQoJHNjb3BlKTtcbiAgICB9XG4gICAgdmFyIHByZXZNb2RlbFZhbHVlID0gY3RybC4kbW9kZWxWYWx1ZTtcbiAgICB2YXIgYWxsb3dJbnZhbGlkID0gY3RybC4kb3B0aW9ucyAmJiBjdHJsLiRvcHRpb25zLmFsbG93SW52YWxpZDtcbiAgICBjdHJsLiQkcmF3TW9kZWxWYWx1ZSA9IG1vZGVsVmFsdWU7XG5cbiAgICBpZiAoYWxsb3dJbnZhbGlkKSB7XG4gICAgICBjdHJsLiRtb2RlbFZhbHVlID0gbW9kZWxWYWx1ZTtcbiAgICAgIHdyaXRlVG9Nb2RlbElmTmVlZGVkKCk7XG4gICAgfVxuXG4gICAgLy8gUGFzcyB0aGUgJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlIGhlcmUsIGJlY2F1c2UgdGhlIGNhY2hlZCB2aWV3VmFsdWUgbWlnaHQgYmUgb3V0IG9mIGRhdGUuXG4gICAgLy8gVGhpcyBjYW4gaGFwcGVuIGlmIGUuZy4gJHNldFZpZXdWYWx1ZSBpcyBjYWxsZWQgZnJvbSBpbnNpZGUgYSBwYXJzZXJcbiAgICBjdHJsLiQkcnVuVmFsaWRhdG9ycyhtb2RlbFZhbHVlLCBjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSwgZnVuY3Rpb24oYWxsVmFsaWQpIHtcbiAgICAgIGlmICghYWxsb3dJbnZhbGlkKSB7XG4gICAgICAgIC8vIE5vdGU6IERvbid0IGNoZWNrIGN0cmwuJHZhbGlkIGhlcmUsIGFzIHdlIGNvdWxkIGhhdmVcbiAgICAgICAgLy8gZXh0ZXJuYWwgdmFsaWRhdG9ycyAoZS5nLiBjYWxjdWxhdGVkIG9uIHRoZSBzZXJ2ZXIpLFxuICAgICAgICAvLyB0aGF0IGp1c3QgY2FsbCAkc2V0VmFsaWRpdHkgYW5kIG5lZWQgdGhlIG1vZGVsIHZhbHVlXG4gICAgICAgIC8vIHRvIGNhbGN1bGF0ZSB0aGVpciB2YWxpZGl0eS5cbiAgICAgICAgY3RybC4kbW9kZWxWYWx1ZSA9IGFsbFZhbGlkID8gbW9kZWxWYWx1ZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgd3JpdGVUb01vZGVsSWZOZWVkZWQoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHdyaXRlVG9Nb2RlbElmTmVlZGVkKCkge1xuICAgICAgaWYgKGN0cmwuJG1vZGVsVmFsdWUgIT09IHByZXZNb2RlbFZhbHVlKSB7XG4gICAgICAgIGN0cmwuJCR3cml0ZU1vZGVsVG9TY29wZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB0aGlzLiQkd3JpdGVNb2RlbFRvU2NvcGUgPSBmdW5jdGlvbigpIHtcbiAgICBuZ01vZGVsU2V0KCRzY29wZSwgY3RybC4kbW9kZWxWYWx1ZSk7XG4gICAgZm9yRWFjaChjdHJsLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLCBmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGlzdGVuZXIoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0Vmlld1ZhbHVlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBVcGRhdGUgdGhlIHZpZXcgdmFsdWUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhbiBpbnB1dCBkaXJlY3RpdmUgd2FudCB0byBjaGFuZ2UgdGhlIHZpZXcgdmFsdWU7IHR5cGljYWxseSxcbiAgICogdGhpcyBpcyBkb25lIGZyb20gd2l0aGluIGEgRE9NIGV2ZW50IGhhbmRsZXIuXG4gICAqXG4gICAqIEZvciBleGFtcGxlIHtAbGluayBuZy5kaXJlY3RpdmU6aW5wdXQgaW5wdXR9IGNhbGxzIGl0IHdoZW4gdGhlIHZhbHVlIG9mIHRoZSBpbnB1dCBjaGFuZ2VzIGFuZFxuICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOnNlbGVjdCBzZWxlY3R9IGNhbGxzIGl0IHdoZW4gYW4gb3B0aW9uIGlzIHNlbGVjdGVkLlxuICAgKlxuICAgKiBJZiB0aGUgbmV3IGB2YWx1ZWAgaXMgYW4gb2JqZWN0IChyYXRoZXIgdGhhbiBhIHN0cmluZyBvciBhIG51bWJlciksIHdlIHNob3VsZCBtYWtlIGEgY29weSBvZiB0aGVcbiAgICogb2JqZWN0IGJlZm9yZSBwYXNzaW5nIGl0IHRvIGAkc2V0Vmlld1ZhbHVlYC4gIFRoaXMgaXMgYmVjYXVzZSBgbmdNb2RlbGAgZG9lcyBub3QgcGVyZm9ybSBhIGRlZXBcbiAgICogd2F0Y2ggb2Ygb2JqZWN0cywgaXQgb25seSBsb29rcyBmb3IgYSBjaGFuZ2Ugb2YgaWRlbnRpdHkuIElmIHlvdSBvbmx5IGNoYW5nZSB0aGUgcHJvcGVydHkgb2ZcbiAgICogdGhlIG9iamVjdCB0aGVuIG5nTW9kZWwgd2lsbCBub3QgcmVhbGlzZSB0aGF0IHRoZSBvYmplY3QgaGFzIGNoYW5nZWQgYW5kIHdpbGwgbm90IGludm9rZSB0aGVcbiAgICogYCRwYXJzZXJzYCBhbmQgYCR2YWxpZGF0b3JzYCBwaXBlbGluZXMuXG4gICAqXG4gICAqIEZvciB0aGlzIHJlYXNvbiwgeW91IHNob3VsZCBub3QgY2hhbmdlIHByb3BlcnRpZXMgb2YgdGhlIGNvcHkgb25jZSBpdCBoYXMgYmVlbiBwYXNzZWQgdG9cbiAgICogYCRzZXRWaWV3VmFsdWVgLiBPdGhlcndpc2UgeW91IG1heSBjYXVzZSB0aGUgbW9kZWwgdmFsdWUgb24gdGhlIHNjb3BlIHRvIGNoYW5nZSBpbmNvcnJlY3RseS5cbiAgICpcbiAgICogV2hlbiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQsIHRoZSBuZXcgYHZhbHVlYCB3aWxsIGJlIHN0YWdlZCBmb3IgY29tbWl0dGluZyB0aHJvdWdoIHRoZSBgJHBhcnNlcnNgXG4gICAqIGFuZCBgJHZhbGlkYXRvcnNgIHBpcGVsaW5lcy4gSWYgdGhlcmUgYXJlIG5vIHNwZWNpYWwge0BsaW5rIG5nTW9kZWxPcHRpb25zfSBzcGVjaWZpZWQgdGhlbiB0aGUgc3RhZ2VkXG4gICAqIHZhbHVlIHNlbnQgZGlyZWN0bHkgZm9yIHByb2Nlc3NpbmcsIGZpbmFsbHkgdG8gYmUgYXBwbGllZCB0byBgJG1vZGVsVmFsdWVgIGFuZCB0aGVuIHRoZVxuICAgKiAqKmV4cHJlc3Npb24qKiBzcGVjaWZpZWQgaW4gdGhlIGBuZy1tb2RlbGAgYXR0cmlidXRlLlxuICAgKlxuICAgKiBMYXN0bHksIGFsbCB0aGUgcmVnaXN0ZXJlZCBjaGFuZ2UgbGlzdGVuZXJzLCBpbiB0aGUgYCR2aWV3Q2hhbmdlTGlzdGVuZXJzYCBsaXN0LCBhcmUgY2FsbGVkLlxuICAgKlxuICAgKiBJbiBjYXNlIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfSBkaXJlY3RpdmUgaXMgdXNlZCB3aXRoIGB1cGRhdGVPbmBcbiAgICogYW5kIHRoZSBgZGVmYXVsdGAgdHJpZ2dlciBpcyBub3QgbGlzdGVkLCBhbGwgdGhvc2UgYWN0aW9ucyB3aWxsIHJlbWFpbiBwZW5kaW5nIHVudGlsIG9uZSBvZiB0aGVcbiAgICogYHVwZGF0ZU9uYCBldmVudHMgaXMgdHJpZ2dlcmVkIG9uIHRoZSBET00gZWxlbWVudC5cbiAgICogQWxsIHRoZXNlIGFjdGlvbnMgd2lsbCBiZSBkZWJvdW5jZWQgaWYgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9XG4gICAqIGRpcmVjdGl2ZSBpcyB1c2VkIHdpdGggYSBjdXN0b20gZGVib3VuY2UgZm9yIHRoaXMgcGFydGljdWxhciBldmVudC5cbiAgICpcbiAgICogTm90ZSB0aGF0IGNhbGxpbmcgdGhpcyBmdW5jdGlvbiBkb2VzIG5vdCB0cmlnZ2VyIGEgYCRkaWdlc3RgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVmFsdWUgZnJvbSB0aGUgdmlldy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRyaWdnZXIgRXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhlIHVwZGF0ZS5cbiAgICovXG4gIHRoaXMuJHNldFZpZXdWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlLCB0cmlnZ2VyKSB7XG4gICAgY3RybC4kdmlld1ZhbHVlID0gdmFsdWU7XG4gICAgaWYgKCFjdHJsLiRvcHRpb25zIHx8IGN0cmwuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0KSB7XG4gICAgICBjdHJsLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQodHJpZ2dlcik7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdCA9IGZ1bmN0aW9uKHRyaWdnZXIpIHtcbiAgICB2YXIgZGVib3VuY2VEZWxheSA9IDAsXG4gICAgICAgIG9wdGlvbnMgPSBjdHJsLiRvcHRpb25zLFxuICAgICAgICBkZWJvdW5jZTtcblxuICAgIGlmIChvcHRpb25zICYmIGlzRGVmaW5lZChvcHRpb25zLmRlYm91bmNlKSkge1xuICAgICAgZGVib3VuY2UgPSBvcHRpb25zLmRlYm91bmNlO1xuICAgICAgaWYgKGlzTnVtYmVyKGRlYm91bmNlKSkge1xuICAgICAgICBkZWJvdW5jZURlbGF5ID0gZGVib3VuY2U7XG4gICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGRlYm91bmNlW3RyaWdnZXJdKSkge1xuICAgICAgICBkZWJvdW5jZURlbGF5ID0gZGVib3VuY2VbdHJpZ2dlcl07XG4gICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGRlYm91bmNlWydkZWZhdWx0J10pKSB7XG4gICAgICAgIGRlYm91bmNlRGVsYXkgPSBkZWJvdW5jZVsnZGVmYXVsdCddO1xuICAgICAgfVxuICAgIH1cblxuICAgICR0aW1lb3V0LmNhbmNlbChwZW5kaW5nRGVib3VuY2UpO1xuICAgIGlmIChkZWJvdW5jZURlbGF5KSB7XG4gICAgICBwZW5kaW5nRGVib3VuY2UgPSAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgY3RybC4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICB9LCBkZWJvdW5jZURlbGF5KTtcbiAgICB9IGVsc2UgaWYgKCRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgY3RybC4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIGN0cmwuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIG1vZGVsIC0+IHZhbHVlXG4gIC8vIE5vdGU6IHdlIGNhbm5vdCB1c2UgYSBub3JtYWwgc2NvcGUuJHdhdGNoIGFzIHdlIHdhbnQgdG8gZGV0ZWN0IHRoZSBmb2xsb3dpbmc6XG4gIC8vIDEuIHNjb3BlIHZhbHVlIGlzICdhJ1xuICAvLyAyLiB1c2VyIGVudGVycyAnYidcbiAgLy8gMy4gbmctY2hhbmdlIGtpY2tzIGluIGFuZCByZXZlcnRzIHNjb3BlIHZhbHVlIHRvICdhJ1xuICAvLyAgICAtPiBzY29wZSB2YWx1ZSBkaWQgbm90IGNoYW5nZSBzaW5jZSB0aGUgbGFzdCBkaWdlc3QgYXNcbiAgLy8gICAgICAgbmctY2hhbmdlIGV4ZWN1dGVzIGluIGFwcGx5IHBoYXNlXG4gIC8vIDQuIHZpZXcgc2hvdWxkIGJlIGNoYW5nZWQgYmFjayB0byAnYSdcbiAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiBuZ01vZGVsV2F0Y2goKSB7XG4gICAgdmFyIG1vZGVsVmFsdWUgPSBuZ01vZGVsR2V0KCRzY29wZSk7XG5cbiAgICAvLyBpZiBzY29wZSBtb2RlbCB2YWx1ZSBhbmQgbmdNb2RlbCB2YWx1ZSBhcmUgb3V0IG9mIHN5bmNcbiAgICAvLyBUT0RPKHBlcmYpOiB3aHkgbm90IG1vdmUgdGhpcyB0byB0aGUgYWN0aW9uIGZuP1xuICAgIGlmIChtb2RlbFZhbHVlICE9PSBjdHJsLiRtb2RlbFZhbHVlICYmXG4gICAgICAgLy8gY2hlY2tzIGZvciBOYU4gaXMgbmVlZGVkIHRvIGFsbG93IHNldHRpbmcgdGhlIG1vZGVsIHRvIE5hTiB3aGVuIHRoZXJlJ3MgYW4gYXN5bmNWYWxpZGF0b3JcbiAgICAgICAoY3RybC4kbW9kZWxWYWx1ZSA9PT0gY3RybC4kbW9kZWxWYWx1ZSB8fCBtb2RlbFZhbHVlID09PSBtb2RlbFZhbHVlKVxuICAgICkge1xuICAgICAgY3RybC4kbW9kZWxWYWx1ZSA9IGN0cmwuJCRyYXdNb2RlbFZhbHVlID0gbW9kZWxWYWx1ZTtcbiAgICAgIHBhcnNlclZhbGlkID0gdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgZm9ybWF0dGVycyA9IGN0cmwuJGZvcm1hdHRlcnMsXG4gICAgICAgICAgaWR4ID0gZm9ybWF0dGVycy5sZW5ndGg7XG5cbiAgICAgIHZhciB2aWV3VmFsdWUgPSBtb2RlbFZhbHVlO1xuICAgICAgd2hpbGUgKGlkeC0tKSB7XG4gICAgICAgIHZpZXdWYWx1ZSA9IGZvcm1hdHRlcnNbaWR4XSh2aWV3VmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKGN0cmwuJHZpZXdWYWx1ZSAhPT0gdmlld1ZhbHVlKSB7XG4gICAgICAgIGN0cmwuJHZpZXdWYWx1ZSA9IGN0cmwuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlID0gdmlld1ZhbHVlO1xuICAgICAgICBjdHJsLiRyZW5kZXIoKTtcblxuICAgICAgICBjdHJsLiQkcnVuVmFsaWRhdG9ycyhtb2RlbFZhbHVlLCB2aWV3VmFsdWUsIG5vb3ApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtb2RlbFZhbHVlO1xuICB9KTtcbn1dO1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdNb2RlbFxuICpcbiAqIEBlbGVtZW50IGlucHV0XG4gKiBAcHJpb3JpdHkgMVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGhlIGBuZ01vZGVsYCBkaXJlY3RpdmUgYmluZHMgYW4gYGlucHV0YCxgc2VsZWN0YCwgYHRleHRhcmVhYCAob3IgY3VzdG9tIGZvcm0gY29udHJvbCkgdG8gYVxuICogcHJvcGVydHkgb24gdGhlIHNjb3BlIHVzaW5nIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIE5nTW9kZWxDb250cm9sbGVyfSxcbiAqIHdoaWNoIGlzIGNyZWF0ZWQgYW5kIGV4cG9zZWQgYnkgdGhpcyBkaXJlY3RpdmUuXG4gKlxuICogYG5nTW9kZWxgIGlzIHJlc3BvbnNpYmxlIGZvcjpcbiAqXG4gKiAtIEJpbmRpbmcgdGhlIHZpZXcgaW50byB0aGUgbW9kZWwsIHdoaWNoIG90aGVyIGRpcmVjdGl2ZXMgc3VjaCBhcyBgaW5wdXRgLCBgdGV4dGFyZWFgIG9yIGBzZWxlY3RgXG4gKiAgIHJlcXVpcmUuXG4gKiAtIFByb3ZpZGluZyB2YWxpZGF0aW9uIGJlaGF2aW9yIChpLmUuIHJlcXVpcmVkLCBudW1iZXIsIGVtYWlsLCB1cmwpLlxuICogLSBLZWVwaW5nIHRoZSBzdGF0ZSBvZiB0aGUgY29udHJvbCAodmFsaWQvaW52YWxpZCwgZGlydHkvcHJpc3RpbmUsIHRvdWNoZWQvdW50b3VjaGVkLCB2YWxpZGF0aW9uIGVycm9ycykuXG4gKiAtIFNldHRpbmcgcmVsYXRlZCBjc3MgY2xhc3NlcyBvbiB0aGUgZWxlbWVudCAoYG5nLXZhbGlkYCwgYG5nLWludmFsaWRgLCBgbmctZGlydHlgLCBgbmctcHJpc3RpbmVgLCBgbmctdG91Y2hlZGAsIGBuZy11bnRvdWNoZWRgKSBpbmNsdWRpbmcgYW5pbWF0aW9ucy5cbiAqIC0gUmVnaXN0ZXJpbmcgdGhlIGNvbnRyb2wgd2l0aCBpdHMgcGFyZW50IHtAbGluayBuZy5kaXJlY3RpdmU6Zm9ybSBmb3JtfS5cbiAqXG4gKiBOb3RlOiBgbmdNb2RlbGAgd2lsbCB0cnkgdG8gYmluZCB0byB0aGUgcHJvcGVydHkgZ2l2ZW4gYnkgZXZhbHVhdGluZyB0aGUgZXhwcmVzc2lvbiBvbiB0aGVcbiAqIGN1cnJlbnQgc2NvcGUuIElmIHRoZSBwcm9wZXJ0eSBkb2Vzbid0IGFscmVhZHkgZXhpc3Qgb24gdGhpcyBzY29wZSwgaXQgd2lsbCBiZSBjcmVhdGVkXG4gKiBpbXBsaWNpdGx5IGFuZCBhZGRlZCB0byB0aGUgc2NvcGUuXG4gKlxuICogRm9yIGJlc3QgcHJhY3RpY2VzIG9uIHVzaW5nIGBuZ01vZGVsYCwgc2VlOlxuICpcbiAqICAtIFtVbmRlcnN0YW5kaW5nIFNjb3Blc10oaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy93aWtpL1VuZGVyc3RhbmRpbmctU2NvcGVzKVxuICpcbiAqIEZvciBiYXNpYyBleGFtcGxlcywgaG93IHRvIHVzZSBgbmdNb2RlbGAsIHNlZTpcbiAqXG4gKiAgLSB7QGxpbmsgbmcuZGlyZWN0aXZlOmlucHV0IGlucHV0fVxuICogICAgLSB7QGxpbmsgaW5wdXRbdGV4dF0gdGV4dH1cbiAqICAgIC0ge0BsaW5rIGlucHV0W2NoZWNrYm94XSBjaGVja2JveH1cbiAqICAgIC0ge0BsaW5rIGlucHV0W3JhZGlvXSByYWRpb31cbiAqICAgIC0ge0BsaW5rIGlucHV0W251bWJlcl0gbnVtYmVyfVxuICogICAgLSB7QGxpbmsgaW5wdXRbZW1haWxdIGVtYWlsfVxuICogICAgLSB7QGxpbmsgaW5wdXRbdXJsXSB1cmx9XG4gKiAgICAtIHtAbGluayBpbnB1dFtkYXRlXSBkYXRlfVxuICogICAgLSB7QGxpbmsgaW5wdXRbZGF0ZXRpbWUtbG9jYWxdIGRhdGV0aW1lLWxvY2FsfVxuICogICAgLSB7QGxpbmsgaW5wdXRbdGltZV0gdGltZX1cbiAqICAgIC0ge0BsaW5rIGlucHV0W21vbnRoXSBtb250aH1cbiAqICAgIC0ge0BsaW5rIGlucHV0W3dlZWtdIHdlZWt9XG4gKiAgLSB7QGxpbmsgbmcuZGlyZWN0aXZlOnNlbGVjdCBzZWxlY3R9XG4gKiAgLSB7QGxpbmsgbmcuZGlyZWN0aXZlOnRleHRhcmVhIHRleHRhcmVhfVxuICpcbiAqICMgQ1NTIGNsYXNzZXNcbiAqIFRoZSBmb2xsb3dpbmcgQ1NTIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCByZW1vdmVkIG9uIHRoZSBhc3NvY2lhdGVkIGlucHV0L3NlbGVjdC90ZXh0YXJlYSBlbGVtZW50XG4gKiBkZXBlbmRpbmcgb24gdGhlIHZhbGlkaXR5IG9mIHRoZSBtb2RlbC5cbiAqXG4gKiAgLSBgbmctdmFsaWRgOiB0aGUgbW9kZWwgaXMgdmFsaWRcbiAqICAtIGBuZy1pbnZhbGlkYDogdGhlIG1vZGVsIGlzIGludmFsaWRcbiAqICAtIGBuZy12YWxpZC1ba2V5XWA6IGZvciBlYWNoIHZhbGlkIGtleSBhZGRlZCBieSBgJHNldFZhbGlkaXR5YFxuICogIC0gYG5nLWludmFsaWQtW2tleV1gOiBmb3IgZWFjaCBpbnZhbGlkIGtleSBhZGRlZCBieSBgJHNldFZhbGlkaXR5YFxuICogIC0gYG5nLXByaXN0aW5lYDogdGhlIGNvbnRyb2wgaGFzbid0IGJlZW4gaW50ZXJhY3RlZCB3aXRoIHlldFxuICogIC0gYG5nLWRpcnR5YDogdGhlIGNvbnRyb2wgaGFzIGJlZW4gaW50ZXJhY3RlZCB3aXRoXG4gKiAgLSBgbmctdG91Y2hlZGA6IHRoZSBjb250cm9sIGhhcyBiZWVuIGJsdXJyZWRcbiAqICAtIGBuZy11bnRvdWNoZWRgOiB0aGUgY29udHJvbCBoYXNuJ3QgYmVlbiBibHVycmVkXG4gKiAgLSBgbmctcGVuZGluZ2A6IGFueSBgJGFzeW5jVmFsaWRhdG9yc2AgYXJlIHVuZnVsZmlsbGVkXG4gKlxuICogS2VlcCBpbiBtaW5kIHRoYXQgbmdBbmltYXRlIGNhbiBkZXRlY3QgZWFjaCBvZiB0aGVzZSBjbGFzc2VzIHdoZW4gYWRkZWQgYW5kIHJlbW92ZWQuXG4gKlxuICogIyMgQW5pbWF0aW9uIEhvb2tzXG4gKlxuICogQW5pbWF0aW9ucyB3aXRoaW4gbW9kZWxzIGFyZSB0cmlnZ2VyZWQgd2hlbiBhbnkgb2YgdGhlIGFzc29jaWF0ZWQgQ1NTIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCByZW1vdmVkXG4gKiBvbiB0aGUgaW5wdXQgZWxlbWVudCB3aGljaCBpcyBhdHRhY2hlZCB0byB0aGUgbW9kZWwuIFRoZXNlIGNsYXNzZXMgYXJlOiBgLm5nLXByaXN0aW5lYCwgYC5uZy1kaXJ0eWAsXG4gKiBgLm5nLWludmFsaWRgIGFuZCBgLm5nLXZhbGlkYCBhcyB3ZWxsIGFzIGFueSBvdGhlciB2YWxpZGF0aW9ucyB0aGF0IGFyZSBwZXJmb3JtZWQgb24gdGhlIG1vZGVsIGl0c2VsZi5cbiAqIFRoZSBhbmltYXRpb25zIHRoYXQgYXJlIHRyaWdnZXJlZCB3aXRoaW4gbmdNb2RlbCBhcmUgc2ltaWxhciB0byBob3cgdGhleSB3b3JrIGluIG5nQ2xhc3MgYW5kXG4gKiBhbmltYXRpb25zIGNhbiBiZSBob29rZWQgaW50byB1c2luZyBDU1MgdHJhbnNpdGlvbnMsIGtleWZyYW1lcyBhcyB3ZWxsIGFzIEpTIGFuaW1hdGlvbnMuXG4gKlxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGEgc2ltcGxlIHdheSB0byB1dGlsaXplIENTUyB0cmFuc2l0aW9ucyB0byBzdHlsZSBhbiBpbnB1dCBlbGVtZW50XG4gKiB0aGF0IGhhcyBiZWVuIHJlbmRlcmVkIGFzIGludmFsaWQgYWZ0ZXIgaXQgaGFzIGJlZW4gdmFsaWRhdGVkOlxuICpcbiAqIDxwcmU+XG4gKiAvL2JlIHN1cmUgdG8gaW5jbHVkZSBuZ0FuaW1hdGUgYXMgYSBtb2R1bGUgdG8gaG9vayBpbnRvIG1vcmVcbiAqIC8vYWR2YW5jZWQgYW5pbWF0aW9uc1xuICogLm15LWlucHV0IHtcbiAqICAgdHJhbnNpdGlvbjowLjVzIGxpbmVhciBhbGw7XG4gKiAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICogfVxuICogLm15LWlucHV0Lm5nLWludmFsaWQge1xuICogICBiYWNrZ3JvdW5kOiByZWQ7XG4gKiAgIGNvbG9yOndoaXRlO1xuICogfVxuICogPC9wcmU+XG4gKlxuICogQGV4YW1wbGVcbiAqIDxleGFtcGxlIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiIGZpeEJhc2U9XCJ0cnVlXCIgbW9kdWxlPVwiaW5wdXRFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2lucHV0RXhhbXBsZScsIFtdKVxuICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICAkc2NvcGUudmFsID0gJzEnO1xuICAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8c3R5bGU+XG4gICAgICAgICAubXktaW5wdXQge1xuICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xuICAgICAgICAgICB0cmFuc2l0aW9uOmFsbCBsaW5lYXIgMC41cztcbiAgICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgICB9XG4gICAgICAgICAubXktaW5wdXQubmctaW52YWxpZCB7XG4gICAgICAgICAgIGNvbG9yOndoaXRlO1xuICAgICAgICAgICBiYWNrZ3JvdW5kOiByZWQ7XG4gICAgICAgICB9XG4gICAgICAgPC9zdHlsZT5cbiAgICAgICA8cCBpZD1cImlucHV0RGVzY3JpcHRpb25cIj5cbiAgICAgICAgVXBkYXRlIGlucHV0IHRvIHNlZSB0cmFuc2l0aW9ucyB3aGVuIHZhbGlkL2ludmFsaWQuXG4gICAgICAgIEludGVnZXIgaXMgYSB2YWxpZCB2YWx1ZS5cbiAgICAgICA8L3A+XG4gICAgICAgPGZvcm0gbmFtZT1cInRlc3RGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJ2YWxcIiBuZy1wYXR0ZXJuPVwiL15cXGQrJC9cIiBuYW1lPVwiYW5pbVwiIGNsYXNzPVwibXktaW5wdXRcIlxuICAgICAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJpbnB1dERlc2NyaXB0aW9uXCIgLz5cbiAgICAgICA8L2Zvcm0+XG4gICAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKiAjIyBCaW5kaW5nIHRvIGEgZ2V0dGVyL3NldHRlclxuICpcbiAqIFNvbWV0aW1lcyBpdCdzIGhlbHBmdWwgdG8gYmluZCBgbmdNb2RlbGAgdG8gYSBnZXR0ZXIvc2V0dGVyIGZ1bmN0aW9uLiAgQSBnZXR0ZXIvc2V0dGVyIGlzIGFcbiAqIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtb2RlbCB3aGVuIGNhbGxlZCB3aXRoIHplcm8gYXJndW1lbnRzLCBhbmQgc2V0c1xuICogdGhlIGludGVybmFsIHN0YXRlIG9mIGEgbW9kZWwgd2hlbiBjYWxsZWQgd2l0aCBhbiBhcmd1bWVudC4gSXQncyBzb21ldGltZXMgdXNlZnVsIHRvIHVzZSB0aGlzXG4gKiBmb3IgbW9kZWxzIHRoYXQgaGF2ZSBhbiBpbnRlcm5hbCByZXByZXNlbnRhdGlvbiB0aGF0J3MgZGlmZmVyZW50IGZyb20gd2hhdCB0aGUgbW9kZWwgZXhwb3Nlc1xuICogdG8gdGhlIHZpZXcuXG4gKlxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj5cbiAqICoqQmVzdCBQcmFjdGljZToqKiBJdCdzIGJlc3QgdG8ga2VlcCBnZXR0ZXJzIGZhc3QgYmVjYXVzZSBBbmd1bGFyIGlzIGxpa2VseSB0byBjYWxsIHRoZW0gbW9yZVxuICogZnJlcXVlbnRseSB0aGFuIG90aGVyIHBhcnRzIG9mIHlvdXIgY29kZS5cbiAqIDwvZGl2PlxuICpcbiAqIFlvdSB1c2UgdGhpcyBiZWhhdmlvciBieSBhZGRpbmcgYG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGdldHRlclNldHRlcjogdHJ1ZSB9XCJgIHRvIGFuIGVsZW1lbnQgdGhhdFxuICogaGFzIGBuZy1tb2RlbGAgYXR0YWNoZWQgdG8gaXQuIFlvdSBjYW4gYWxzbyBhZGQgYG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGdldHRlclNldHRlcjogdHJ1ZSB9XCJgIHRvXG4gKiBhIGA8Zm9ybT5gLCB3aGljaCB3aWxsIGVuYWJsZSB0aGlzIGJlaGF2aW9yIGZvciBhbGwgYDxpbnB1dD5gcyB3aXRoaW4gaXQuIFNlZVxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBgbmdNb2RlbE9wdGlvbnNgfSBmb3IgbW9yZS5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIHVzZSBgbmdNb2RlbGAgd2l0aCBhIGdldHRlci9zZXR0ZXI6XG4gKlxuICogQGV4YW1wbGVcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ01vZGVsLWdldHRlci1zZXR0ZXJcIiBtb2R1bGU9XCJnZXR0ZXJTZXR0ZXJFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgIDxmb3JtIG5hbWU9XCJ1c2VyRm9ybVwiPlxuICAgICAgICAgICA8bGFiZWw+TmFtZTpcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIlxuICAgICAgICAgICAgICAgICAgICBuZy1tb2RlbD1cInVzZXIubmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGdldHRlclNldHRlcjogdHJ1ZSB9XCIgLz5cbiAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgIDxwcmU+dXNlci5uYW1lID0gPHNwYW4gbmctYmluZD1cInVzZXIubmFtZSgpXCI+PC9zcGFuPjwvcHJlPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnZ2V0dGVyU2V0dGVyRXhhbXBsZScsIFtdKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgdmFyIF9uYW1lID0gJ0JyaWFuJztcbiAgICAgICAgICAgJHNjb3BlLnVzZXIgPSB7XG4gICAgICAgICAgICAgbmFtZTogZnVuY3Rpb24obmV3TmFtZSkge1xuICAgICAgICAgICAgICAvLyBOb3RlIHRoYXQgbmV3TmFtZSBjYW4gYmUgdW5kZWZpbmVkIGZvciB0d28gcmVhc29uczpcbiAgICAgICAgICAgICAgLy8gMS4gQmVjYXVzZSBpdCBpcyBjYWxsZWQgYXMgYSBnZXR0ZXIgYW5kIHRodXMgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzXG4gICAgICAgICAgICAgIC8vIDIuIEJlY2F1c2UgdGhlIHByb3BlcnR5IHNob3VsZCBhY3R1YWxseSBiZSBzZXQgdG8gdW5kZWZpbmVkLiBUaGlzIGhhcHBlbnMgZS5nLiBpZiB0aGVcbiAgICAgICAgICAgICAgLy8gICAgaW5wdXQgaXMgaW52YWxpZFxuICAgICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChfbmFtZSA9IG5ld05hbWUpIDogX25hbWU7XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICB9O1xuICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gKiA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ01vZGVsRGlyZWN0aXZlID0gWyckcm9vdFNjb3BlJywgZnVuY3Rpb24oJHJvb3RTY29wZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogWyduZ01vZGVsJywgJ14/Zm9ybScsICdeP25nTW9kZWxPcHRpb25zJ10sXG4gICAgY29udHJvbGxlcjogTmdNb2RlbENvbnRyb2xsZXIsXG4gICAgLy8gUHJlbGluayBuZWVkcyB0byBydW4gYmVmb3JlIGFueSBpbnB1dCBkaXJlY3RpdmVcbiAgICAvLyBzbyB0aGF0IHdlIGNhbiBzZXQgdGhlIE5nTW9kZWxPcHRpb25zIGluIE5nTW9kZWxDb250cm9sbGVyXG4gICAgLy8gYmVmb3JlIGFueW9uZSBlbHNlIHVzZXMgaXQuXG4gICAgcHJpb3JpdHk6IDEsXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdNb2RlbENvbXBpbGUoZWxlbWVudCkge1xuICAgICAgLy8gU2V0dXAgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgY29udHJvbFxuICAgICAgZWxlbWVudC5hZGRDbGFzcyhQUklTVElORV9DTEFTUykuYWRkQ2xhc3MoVU5UT1VDSEVEX0NMQVNTKS5hZGRDbGFzcyhWQUxJRF9DTEFTUyk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByZTogZnVuY3Rpb24gbmdNb2RlbFByZUxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgICAgICAgdmFyIG1vZGVsQ3RybCA9IGN0cmxzWzBdLFxuICAgICAgICAgICAgICBmb3JtQ3RybCA9IGN0cmxzWzFdIHx8IG51bGxGb3JtQ3RybDtcblxuICAgICAgICAgIG1vZGVsQ3RybC4kJHNldE9wdGlvbnMoY3RybHNbMl0gJiYgY3RybHNbMl0uJG9wdGlvbnMpO1xuXG4gICAgICAgICAgLy8gbm90aWZ5IG90aGVycywgZXNwZWNpYWxseSBwYXJlbnQgZm9ybXNcbiAgICAgICAgICBmb3JtQ3RybC4kYWRkQ29udHJvbChtb2RlbEN0cmwpO1xuXG4gICAgICAgICAgYXR0ci4kb2JzZXJ2ZSgnbmFtZScsIGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICBpZiAobW9kZWxDdHJsLiRuYW1lICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICBmb3JtQ3RybC4kJHJlbmFtZUNvbnRyb2wobW9kZWxDdHJsLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmb3JtQ3RybC4kcmVtb3ZlQ29udHJvbChtb2RlbEN0cmwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBwb3N0OiBmdW5jdGlvbiBuZ01vZGVsUG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG4gICAgICAgICAgdmFyIG1vZGVsQ3RybCA9IGN0cmxzWzBdO1xuICAgICAgICAgIGlmIChtb2RlbEN0cmwuJG9wdGlvbnMgJiYgbW9kZWxDdHJsLiRvcHRpb25zLnVwZGF0ZU9uKSB7XG4gICAgICAgICAgICBlbGVtZW50Lm9uKG1vZGVsQ3RybC4kb3B0aW9ucy51cGRhdGVPbiwgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICAgICAgbW9kZWxDdHJsLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQoZXYgJiYgZXYudHlwZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbGVtZW50Lm9uKCdibHVyJywgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICAgIGlmIChtb2RlbEN0cmwuJHRvdWNoZWQpIHJldHVybjtcblxuICAgICAgICAgICAgaWYgKCRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgICBzY29wZS4kZXZhbEFzeW5jKG1vZGVsQ3RybC4kc2V0VG91Y2hlZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzY29wZS4kYXBwbHkobW9kZWxDdHJsLiRzZXRUb3VjaGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59XTtcblxudmFyIERFRkFVTFRfUkVHRVhQID0gLyhcXHMrfF4pZGVmYXVsdChcXHMrfCQpLztcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ01vZGVsT3B0aW9uc1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQWxsb3dzIHR1bmluZyBob3cgbW9kZWwgdXBkYXRlcyBhcmUgZG9uZS4gVXNpbmcgYG5nTW9kZWxPcHRpb25zYCB5b3UgY2FuIHNwZWNpZnkgYSBjdXN0b20gbGlzdCBvZlxuICogZXZlbnRzIHRoYXQgd2lsbCB0cmlnZ2VyIGEgbW9kZWwgdXBkYXRlIGFuZC9vciBhIGRlYm91bmNpbmcgZGVsYXkgc28gdGhhdCB0aGUgYWN0dWFsIHVwZGF0ZSBvbmx5XG4gKiB0YWtlcyBwbGFjZSB3aGVuIGEgdGltZXIgZXhwaXJlczsgdGhpcyB0aW1lciB3aWxsIGJlIHJlc2V0IGFmdGVyIGFub3RoZXIgY2hhbmdlIHRha2VzIHBsYWNlLlxuICpcbiAqIEdpdmVuIHRoZSBuYXR1cmUgb2YgYG5nTW9kZWxPcHRpb25zYCwgdGhlIHZhbHVlIGRpc3BsYXllZCBpbnNpZGUgaW5wdXQgZmllbGRzIGluIHRoZSB2aWV3IG1pZ2h0XG4gKiBiZSBkaWZmZXJlbnQgZnJvbSB0aGUgdmFsdWUgaW4gdGhlIGFjdHVhbCBtb2RlbC4gVGhpcyBtZWFucyB0aGF0IGlmIHlvdSB1cGRhdGUgdGhlIG1vZGVsIHlvdVxuICogc2hvdWxkIGFsc28gaW52b2tlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIGAkcm9sbGJhY2tWaWV3VmFsdWVgfSBvbiB0aGUgcmVsZXZhbnQgaW5wdXQgZmllbGQgaW5cbiAqIG9yZGVyIHRvIG1ha2Ugc3VyZSBpdCBpcyBzeW5jaHJvbml6ZWQgd2l0aCB0aGUgbW9kZWwgYW5kIHRoYXQgYW55IGRlYm91bmNlZCBhY3Rpb24gaXMgY2FuY2VsZWQuXG4gKlxuICogVGhlIGVhc2llc3Qgd2F5IHRvIHJlZmVyZW5jZSB0aGUgY29udHJvbCdzIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIGAkcm9sbGJhY2tWaWV3VmFsdWVgfVxuICogbWV0aG9kIGlzIGJ5IG1ha2luZyBzdXJlIHRoZSBpbnB1dCBpcyBwbGFjZWQgaW5zaWRlIGEgZm9ybSB0aGF0IGhhcyBhIGBuYW1lYCBhdHRyaWJ1dGUuIFRoaXMgaXNcbiAqIGltcG9ydGFudCBiZWNhdXNlIGBmb3JtYCBjb250cm9sbGVycyBhcmUgcHVibGlzaGVkIHRvIHRoZSByZWxhdGVkIHNjb3BlIHVuZGVyIHRoZSBuYW1lIGluIHRoZWlyXG4gKiBgbmFtZWAgYXR0cmlidXRlLlxuICpcbiAqIEFueSBwZW5kaW5nIGNoYW5nZXMgd2lsbCB0YWtlIHBsYWNlIGltbWVkaWF0ZWx5IHdoZW4gYW4gZW5jbG9zaW5nIGZvcm0gaXMgc3VibWl0dGVkIHZpYSB0aGVcbiAqIGBzdWJtaXRgIGV2ZW50LiBOb3RlIHRoYXQgYG5nQ2xpY2tgIGV2ZW50cyB3aWxsIG9jY3VyIGJlZm9yZSB0aGUgbW9kZWwgaXMgdXBkYXRlZC4gVXNlIGBuZ1N1Ym1pdGBcbiAqIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSB1cGRhdGVkIG1vZGVsLlxuICpcbiAqIGBuZ01vZGVsT3B0aW9uc2AgaGFzIGFuIGVmZmVjdCBvbiB0aGUgZWxlbWVudCBpdCdzIGRlY2xhcmVkIG9uIGFuZCBpdHMgZGVzY2VuZGFudHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG5nTW9kZWxPcHRpb25zIG9wdGlvbnMgdG8gYXBwbHkgdG8gdGhlIGN1cnJlbnQgbW9kZWwuIFZhbGlkIGtleXMgYXJlOlxuICogICAtIGB1cGRhdGVPbmA6IHN0cmluZyBzcGVjaWZ5aW5nIHdoaWNoIGV2ZW50IHNob3VsZCB0aGUgaW5wdXQgYmUgYm91bmQgdG8uIFlvdSBjYW4gc2V0IHNldmVyYWxcbiAqICAgICBldmVudHMgdXNpbmcgYW4gc3BhY2UgZGVsaW1pdGVkIGxpc3QuIFRoZXJlIGlzIGEgc3BlY2lhbCBldmVudCBjYWxsZWQgYGRlZmF1bHRgIHRoYXRcbiAqICAgICBtYXRjaGVzIHRoZSBkZWZhdWx0IGV2ZW50cyBiZWxvbmdpbmcgb2YgdGhlIGNvbnRyb2wuXG4gKiAgIC0gYGRlYm91bmNlYDogaW50ZWdlciB2YWx1ZSB3aGljaCBjb250YWlucyB0aGUgZGVib3VuY2UgbW9kZWwgdXBkYXRlIHZhbHVlIGluIG1pbGxpc2Vjb25kcy4gQVxuICogICAgIHZhbHVlIG9mIDAgdHJpZ2dlcnMgYW4gaW1tZWRpYXRlIHVwZGF0ZS4gSWYgYW4gb2JqZWN0IGlzIHN1cHBsaWVkIGluc3RlYWQsIHlvdSBjYW4gc3BlY2lmeSBhXG4gKiAgICAgY3VzdG9tIHZhbHVlIGZvciBlYWNoIGV2ZW50LiBGb3IgZXhhbXBsZTpcbiAqICAgICBgbmctbW9kZWwtb3B0aW9ucz1cInsgdXBkYXRlT246ICdkZWZhdWx0IGJsdXInLCBkZWJvdW5jZTogeyAnZGVmYXVsdCc6IDUwMCwgJ2JsdXInOiAwIH0gfVwiYFxuICogICAtIGBhbGxvd0ludmFsaWRgOiBib29sZWFuIHZhbHVlIHdoaWNoIGluZGljYXRlcyB0aGF0IHRoZSBtb2RlbCBjYW4gYmUgc2V0IHdpdGggdmFsdWVzIHRoYXQgZGlkXG4gKiAgICAgbm90IHZhbGlkYXRlIGNvcnJlY3RseSBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHNldHRpbmcgdGhlIG1vZGVsIHRvIHVuZGVmaW5lZC5cbiAqICAgLSBgZ2V0dGVyU2V0dGVyYDogYm9vbGVhbiB2YWx1ZSB3aGljaCBkZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IHRvIHRyZWF0IGZ1bmN0aW9ucyBib3VuZCB0b1xuICAgICAgIGBuZ01vZGVsYCBhcyBnZXR0ZXJzL3NldHRlcnMuXG4gKiAgIC0gYHRpbWV6b25lYDogRGVmaW5lcyB0aGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGZvclxuICogICAgIGA8aW5wdXQgdHlwZT1cImRhdGVcIj5gLCBgPGlucHV0IHR5cGU9XCJ0aW1lXCI+YCwgLi4uIC4gSXQgdW5kZXJzdGFuZHMgVVRDL0dNVCBhbmQgdGhlXG4gKiAgICAgY29udGluZW50YWwgVVMgdGltZSB6b25lIGFiYnJldmlhdGlvbnMsIGJ1dCBmb3IgZ2VuZXJhbCB1c2UsIHVzZSBhIHRpbWUgem9uZSBvZmZzZXQsIGZvclxuICogICAgIGV4YW1wbGUsIGAnKzA0MzAnYCAoNCBob3VycywgMzAgbWludXRlcyBlYXN0IG9mIHRoZSBHcmVlbndpY2ggbWVyaWRpYW4pXG4gKiAgICAgSWYgbm90IHNwZWNpZmllZCwgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyIHdpbGwgYmUgdXNlZC5cbiAqXG4gKiBAZXhhbXBsZVxuXG4gIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gb3ZlcnJpZGUgaW1tZWRpYXRlIHVwZGF0ZXMuIENoYW5nZXMgb24gdGhlIGlucHV0cyB3aXRoaW4gdGhlXG4gIGZvcm0gd2lsbCB1cGRhdGUgdGhlIG1vZGVsIG9ubHkgd2hlbiB0aGUgY29udHJvbCBsb3NlcyBmb2N1cyAoYmx1ciBldmVudCkuIElmIGBlc2NhcGVgIGtleSBpc1xuICBwcmVzc2VkIHdoaWxlIHRoZSBpbnB1dCBmaWVsZCBpcyBmb2N1c2VkLCB0aGUgdmFsdWUgaXMgcmVzZXQgdG8gdGhlIHZhbHVlIGluIHRoZSBjdXJyZW50IG1vZGVsLlxuXG4gIDxleGFtcGxlIG5hbWU9XCJuZ01vZGVsT3B0aW9ucy1kaXJlY3RpdmUtYmx1clwiIG1vZHVsZT1cIm9wdGlvbnNFeGFtcGxlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgIDxmb3JtIG5hbWU9XCJ1c2VyRm9ybVwiPlxuICAgICAgICAgIDxsYWJlbD5OYW1lOlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCJcbiAgICAgICAgICAgICAgICAgICBuZy1tb2RlbD1cInVzZXIubmFtZVwiXG4gICAgICAgICAgICAgICAgICAgbmctbW9kZWwtb3B0aW9ucz1cInsgdXBkYXRlT246ICdibHVyJyB9XCJcbiAgICAgICAgICAgICAgICAgICBuZy1rZXl1cD1cImNhbmNlbCgkZXZlbnQpXCIgLz5cbiAgICAgICAgICA8L2xhYmVsPjxiciAvPlxuICAgICAgICAgIDxsYWJlbD5PdGhlciBkYXRhOlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1c2VyLmRhdGFcIiAvPlxuICAgICAgICAgIDwvbGFiZWw+PGJyIC8+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgICAgPHByZT51c2VyLm5hbWUgPSA8c3BhbiBuZy1iaW5kPVwidXNlci5uYW1lXCI+PC9zcGFuPjwvcHJlPlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcHRpb25zRXhhbXBsZScsIFtdKVxuICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS51c2VyID0geyBuYW1lOiAnc2F5JywgZGF0YTogJycgfTtcblxuICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDI3KSB7XG4gICAgICAgICAgICAgICRzY29wZS51c2VyRm9ybS51c2VyTmFtZS4kcm9sbGJhY2tWaWV3VmFsdWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XSk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciBtb2RlbCA9IGVsZW1lbnQoYnkuYmluZGluZygndXNlci5uYW1lJykpO1xuICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXNlci5uYW1lJykpO1xuICAgICAgdmFyIG90aGVyID0gZWxlbWVudChieS5tb2RlbCgndXNlci5kYXRhJykpO1xuXG4gICAgICBpdCgnc2hvdWxkIGFsbG93IGN1c3RvbSBldmVudHMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaW5wdXQuc2VuZEtleXMoJyBoZWxsbycpO1xuICAgICAgICBpbnB1dC5jbGljaygpO1xuICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0VxdWFsKCdzYXknKTtcbiAgICAgICAgb3RoZXIuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkudG9FcXVhbCgnc2F5IGhlbGxvJyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCAkcm9sbGJhY2tWaWV3VmFsdWUgd2hlbiBtb2RlbCBjaGFuZ2VzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlucHV0LnNlbmRLZXlzKCcgaGVsbG8nKTtcbiAgICAgICAgZXhwZWN0KGlucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnc2F5IGhlbGxvJyk7XG4gICAgICAgIGlucHV0LnNlbmRLZXlzKHByb3RyYWN0b3IuS2V5LkVTQ0FQRSk7XG4gICAgICAgIGV4cGVjdChpbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJ3NheScpO1xuICAgICAgICBvdGhlci5jbGljaygpO1xuICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0VxdWFsKCdzYXknKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuXG4gIFRoaXMgb25lIHNob3dzIGhvdyB0byBkZWJvdW5jZSBtb2RlbCBjaGFuZ2VzLiBNb2RlbCB3aWxsIGJlIHVwZGF0ZWQgb25seSAxIHNlYyBhZnRlciBsYXN0IGNoYW5nZS5cbiAgSWYgdGhlIGBDbGVhcmAgYnV0dG9uIGlzIHByZXNzZWQsIGFueSBkZWJvdW5jZWQgYWN0aW9uIGlzIGNhbmNlbGVkIGFuZCB0aGUgdmFsdWUgYmVjb21lcyBlbXB0eS5cblxuICA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbE9wdGlvbnMtZGlyZWN0aXZlLWRlYm91bmNlXCIgbW9kdWxlPVwib3B0aW9uc0V4YW1wbGVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XG4gICAgICAgICAgPGxhYmVsPk5hbWU6XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIlxuICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwidXNlci5uYW1lXCJcbiAgICAgICAgICAgICAgICAgICBuZy1tb2RlbC1vcHRpb25zPVwieyBkZWJvdW5jZTogMTAwMCB9XCIgLz5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJ1c2VyRm9ybS51c2VyTmFtZS4kcm9sbGJhY2tWaWV3VmFsdWUoKTsgdXNlci5uYW1lPScnXCI+Q2xlYXI8L2J1dHRvbj5cbiAgICAgICAgICA8YnIgLz5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgICA8cHJlPnVzZXIubmFtZSA9IDxzcGFuIG5nLWJpbmQ9XCJ1c2VyLm5hbWVcIj48L3NwYW4+PC9wcmU+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ29wdGlvbnNFeGFtcGxlJywgW10pXG4gICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgJHNjb3BlLnVzZXIgPSB7IG5hbWU6ICdzYXknIH07XG4gICAgICAgIH1dKTtcbiAgICA8L2ZpbGU+XG4gIDwvZXhhbXBsZT5cblxuICBUaGlzIG9uZSBzaG93cyBob3cgdG8gYmluZCB0byBnZXR0ZXIvc2V0dGVyczpcblxuICA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbE9wdGlvbnMtZGlyZWN0aXZlLWdldHRlci1zZXR0ZXJcIiBtb2R1bGU9XCJnZXR0ZXJTZXR0ZXJFeGFtcGxlXCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgIDxmb3JtIG5hbWU9XCJ1c2VyRm9ybVwiPlxuICAgICAgICAgIDxsYWJlbD5OYW1lOlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCJcbiAgICAgICAgICAgICAgICAgICBuZy1tb2RlbD1cInVzZXIubmFtZVwiXG4gICAgICAgICAgICAgICAgICAgbmctbW9kZWwtb3B0aW9ucz1cInsgZ2V0dGVyU2V0dGVyOiB0cnVlIH1cIiAvPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgICAgPHByZT51c2VyLm5hbWUgPSA8c3BhbiBuZy1iaW5kPVwidXNlci5uYW1lKClcIj48L3NwYW4+PC9wcmU+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2dldHRlclNldHRlckV4YW1wbGUnLCBbXSlcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICB2YXIgX25hbWUgPSAnQnJpYW4nO1xuICAgICAgICAgICRzY29wZS51c2VyID0ge1xuICAgICAgICAgICAgbmFtZTogZnVuY3Rpb24obmV3TmFtZSkge1xuICAgICAgICAgICAgICAvLyBOb3RlIHRoYXQgbmV3TmFtZSBjYW4gYmUgdW5kZWZpbmVkIGZvciB0d28gcmVhc29uczpcbiAgICAgICAgICAgICAgLy8gMS4gQmVjYXVzZSBpdCBpcyBjYWxsZWQgYXMgYSBnZXR0ZXIgYW5kIHRodXMgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzXG4gICAgICAgICAgICAgIC8vIDIuIEJlY2F1c2UgdGhlIHByb3BlcnR5IHNob3VsZCBhY3R1YWxseSBiZSBzZXQgdG8gdW5kZWZpbmVkLiBUaGlzIGhhcHBlbnMgZS5nLiBpZiB0aGVcbiAgICAgICAgICAgICAgLy8gICAgaW5wdXQgaXMgaW52YWxpZFxuICAgICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChfbmFtZSA9IG5ld05hbWUpIDogX25hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfV0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG52YXIgbmdNb2RlbE9wdGlvbnNEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyRhdHRycycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICB0aGlzLiRvcHRpb25zID0gY29weSgkc2NvcGUuJGV2YWwoJGF0dHJzLm5nTW9kZWxPcHRpb25zKSk7XG4gICAgICAvLyBBbGxvdyBhZGRpbmcvb3ZlcnJpZGluZyBib3VuZCBldmVudHNcbiAgICAgIGlmICh0aGlzLiRvcHRpb25zLnVwZGF0ZU9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQgPSBmYWxzZTtcbiAgICAgICAgLy8gZXh0cmFjdCBcImRlZmF1bHRcIiBwc2V1ZG8tZXZlbnQgZnJvbSBsaXN0IG9mIGV2ZW50cyB0aGF0IGNhbiB0cmlnZ2VyIGEgbW9kZWwgdXBkYXRlXG4gICAgICAgIHRoaXMuJG9wdGlvbnMudXBkYXRlT24gPSB0cmltKHRoaXMuJG9wdGlvbnMudXBkYXRlT24ucmVwbGFjZShERUZBVUxUX1JFR0VYUCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGhhdC4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiAnICc7XG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XVxuICB9O1xufTtcblxuXG5cbi8vIGhlbHBlciBtZXRob2RzXG5mdW5jdGlvbiBhZGRTZXRWYWxpZGl0eU1ldGhvZChjb250ZXh0KSB7XG4gIHZhciBjdHJsID0gY29udGV4dC5jdHJsLFxuICAgICAgJGVsZW1lbnQgPSBjb250ZXh0LiRlbGVtZW50LFxuICAgICAgY2xhc3NDYWNoZSA9IHt9LFxuICAgICAgc2V0ID0gY29udGV4dC5zZXQsXG4gICAgICB1bnNldCA9IGNvbnRleHQudW5zZXQsXG4gICAgICBwYXJlbnRGb3JtID0gY29udGV4dC5wYXJlbnRGb3JtLFxuICAgICAgJGFuaW1hdGUgPSBjb250ZXh0LiRhbmltYXRlO1xuXG4gIGNsYXNzQ2FjaGVbSU5WQUxJRF9DTEFTU10gPSAhKGNsYXNzQ2FjaGVbVkFMSURfQ0xBU1NdID0gJGVsZW1lbnQuaGFzQ2xhc3MoVkFMSURfQ0xBU1MpKTtcblxuICBjdHJsLiRzZXRWYWxpZGl0eSA9IHNldFZhbGlkaXR5O1xuXG4gIGZ1bmN0aW9uIHNldFZhbGlkaXR5KHZhbGlkYXRpb25FcnJvcktleSwgc3RhdGUsIGNvbnRyb2xsZXIpIHtcbiAgICBpZiAoc3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgY3JlYXRlQW5kU2V0KCckcGVuZGluZycsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVuc2V0QW5kQ2xlYW51cCgnJHBlbmRpbmcnLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xuICAgIH1cbiAgICBpZiAoIWlzQm9vbGVhbihzdGF0ZSkpIHtcbiAgICAgIHVuc2V0KGN0cmwuJGVycm9yLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xuICAgICAgdW5zZXQoY3RybC4kJHN1Y2Nlc3MsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICB1bnNldChjdHJsLiRlcnJvciwgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcbiAgICAgICAgc2V0KGN0cmwuJCRzdWNjZXNzLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0KGN0cmwuJGVycm9yLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xuICAgICAgICB1bnNldChjdHJsLiQkc3VjY2VzcywgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGN0cmwuJHBlbmRpbmcpIHtcbiAgICAgIGNhY2hlZFRvZ2dsZUNsYXNzKFBFTkRJTkdfQ0xBU1MsIHRydWUpO1xuICAgICAgY3RybC4kdmFsaWQgPSBjdHJsLiRpbnZhbGlkID0gdW5kZWZpbmVkO1xuICAgICAgdG9nZ2xlVmFsaWRhdGlvbkNzcygnJywgbnVsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhY2hlZFRvZ2dsZUNsYXNzKFBFTkRJTkdfQ0xBU1MsIGZhbHNlKTtcbiAgICAgIGN0cmwuJHZhbGlkID0gaXNPYmplY3RFbXB0eShjdHJsLiRlcnJvcik7XG4gICAgICBjdHJsLiRpbnZhbGlkID0gIWN0cmwuJHZhbGlkO1xuICAgICAgdG9nZ2xlVmFsaWRhdGlvbkNzcygnJywgY3RybC4kdmFsaWQpO1xuICAgIH1cblxuICAgIC8vIHJlLXJlYWQgdGhlIHN0YXRlIGFzIHRoZSBzZXQvdW5zZXQgbWV0aG9kcyBjb3VsZCBoYXZlXG4gICAgLy8gY29tYmluZWQgc3RhdGUgaW4gY3RybC4kZXJyb3JbdmFsaWRhdGlvbkVycm9yXSAodXNlZCBmb3IgZm9ybXMpLFxuICAgIC8vIHdoZXJlIHNldHRpbmcvdW5zZXR0aW5nIG9ubHkgaW5jcmVtZW50cy9kZWNyZW1lbnRzIHRoZSB2YWx1ZSxcbiAgICAvLyBhbmQgZG9lcyBub3QgcmVwbGFjZSBpdC5cbiAgICB2YXIgY29tYmluZWRTdGF0ZTtcbiAgICBpZiAoY3RybC4kcGVuZGluZyAmJiBjdHJsLiRwZW5kaW5nW3ZhbGlkYXRpb25FcnJvcktleV0pIHtcbiAgICAgIGNvbWJpbmVkU3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmIChjdHJsLiRlcnJvclt2YWxpZGF0aW9uRXJyb3JLZXldKSB7XG4gICAgICBjb21iaW5lZFN0YXRlID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChjdHJsLiQkc3VjY2Vzc1t2YWxpZGF0aW9uRXJyb3JLZXldKSB7XG4gICAgICBjb21iaW5lZFN0YXRlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tYmluZWRTdGF0ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgdG9nZ2xlVmFsaWRhdGlvbkNzcyh2YWxpZGF0aW9uRXJyb3JLZXksIGNvbWJpbmVkU3RhdGUpO1xuICAgIHBhcmVudEZvcm0uJHNldFZhbGlkaXR5KHZhbGlkYXRpb25FcnJvcktleSwgY29tYmluZWRTdGF0ZSwgY3RybCk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVBbmRTZXQobmFtZSwgdmFsdWUsIGNvbnRyb2xsZXIpIHtcbiAgICBpZiAoIWN0cmxbbmFtZV0pIHtcbiAgICAgIGN0cmxbbmFtZV0gPSB7fTtcbiAgICB9XG4gICAgc2V0KGN0cmxbbmFtZV0sIHZhbHVlLCBjb250cm9sbGVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVuc2V0QW5kQ2xlYW51cChuYW1lLCB2YWx1ZSwgY29udHJvbGxlcikge1xuICAgIGlmIChjdHJsW25hbWVdKSB7XG4gICAgICB1bnNldChjdHJsW25hbWVdLCB2YWx1ZSwgY29udHJvbGxlcik7XG4gICAgfVxuICAgIGlmIChpc09iamVjdEVtcHR5KGN0cmxbbmFtZV0pKSB7XG4gICAgICBjdHJsW25hbWVdID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNhY2hlZFRvZ2dsZUNsYXNzKGNsYXNzTmFtZSwgc3dpdGNoVmFsdWUpIHtcbiAgICBpZiAoc3dpdGNoVmFsdWUgJiYgIWNsYXNzQ2FjaGVbY2xhc3NOYW1lXSkge1xuICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoJGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICBjbGFzc0NhY2hlW2NsYXNzTmFtZV0gPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoIXN3aXRjaFZhbHVlICYmIGNsYXNzQ2FjaGVbY2xhc3NOYW1lXSkge1xuICAgICAgJGFuaW1hdGUucmVtb3ZlQ2xhc3MoJGVsZW1lbnQsIGNsYXNzTmFtZSk7XG4gICAgICBjbGFzc0NhY2hlW2NsYXNzTmFtZV0gPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0b2dnbGVWYWxpZGF0aW9uQ3NzKHZhbGlkYXRpb25FcnJvcktleSwgaXNWYWxpZCkge1xuICAgIHZhbGlkYXRpb25FcnJvcktleSA9IHZhbGlkYXRpb25FcnJvcktleSA/ICctJyArIHNuYWtlX2Nhc2UodmFsaWRhdGlvbkVycm9yS2V5LCAnLScpIDogJyc7XG5cbiAgICBjYWNoZWRUb2dnbGVDbGFzcyhWQUxJRF9DTEFTUyArIHZhbGlkYXRpb25FcnJvcktleSwgaXNWYWxpZCA9PT0gdHJ1ZSk7XG4gICAgY2FjaGVkVG9nZ2xlQ2xhc3MoSU5WQUxJRF9DTEFTUyArIHZhbGlkYXRpb25FcnJvcktleSwgaXNWYWxpZCA9PT0gZmFsc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0RW1wdHkob2JqKSB7XG4gIGlmIChvYmopIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nTm9uQmluZGFibGVcbiAqIEByZXN0cmljdCBBQ1xuICogQHByaW9yaXR5IDEwMDBcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBgbmdOb25CaW5kYWJsZWAgZGlyZWN0aXZlIHRlbGxzIEFuZ3VsYXIgbm90IHRvIGNvbXBpbGUgb3IgYmluZCB0aGUgY29udGVudHMgb2YgdGhlIGN1cnJlbnRcbiAqIERPTSBlbGVtZW50LiBUaGlzIGlzIHVzZWZ1bCBpZiB0aGUgZWxlbWVudCBjb250YWlucyB3aGF0IGFwcGVhcnMgdG8gYmUgQW5ndWxhciBkaXJlY3RpdmVzIGFuZFxuICogYmluZGluZ3MgYnV0IHdoaWNoIHNob3VsZCBiZSBpZ25vcmVkIGJ5IEFuZ3VsYXIuIFRoaXMgY291bGQgYmUgdGhlIGNhc2UgaWYgeW91IGhhdmUgYSBzaXRlIHRoYXRcbiAqIGRpc3BsYXlzIHNuaXBwZXRzIG9mIGNvZGUsIGZvciBpbnN0YW5jZS5cbiAqXG4gKiBAZWxlbWVudCBBTllcbiAqXG4gKiBAZXhhbXBsZVxuICogSW4gdGhpcyBleGFtcGxlIHRoZXJlIGFyZSB0d28gbG9jYXRpb25zIHdoZXJlIGEgc2ltcGxlIGludGVycG9sYXRpb24gYmluZGluZyAoYHt7fX1gKSBpcyBwcmVzZW50LFxuICogYnV0IHRoZSBvbmUgd3JhcHBlZCBpbiBgbmdOb25CaW5kYWJsZWAgaXMgbGVmdCBhbG9uZS5cbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlPlxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgICAgPGRpdj5Ob3JtYWw6IHt7MSArIDJ9fTwvZGl2PlxuICAgICAgICA8ZGl2IG5nLW5vbi1iaW5kYWJsZT5JZ25vcmVkOiB7ezEgKyAyfX08L2Rpdj5cbiAgICAgIDwvZmlsZT5cbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLW5vbi1iaW5kYWJsZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnMSArIDInKSkuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzMnKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50LmFsbChieS5jc3MoJ2RpdicpKS5sYXN0KCkuZ2V0VGV4dCgpKS50b01hdGNoKC8xIFxcKyAyLyk7XG4gICAgICAgfSk7XG4gICAgICA8L2ZpbGU+XG4gICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdOb25CaW5kYWJsZURpcmVjdGl2ZSA9IG5nRGlyZWN0aXZlKHsgdGVybWluYWw6IHRydWUsIHByaW9yaXR5OiAxMDAwIH0pO1xuXG4vKiBnbG9iYWwganFMaXRlUmVtb3ZlICovXG5cbnZhciBuZ09wdGlvbnNNaW5FcnIgPSBtaW5FcnIoJ25nT3B0aW9ucycpO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nT3B0aW9uc1xuICogQHJlc3RyaWN0IEFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBUaGUgYG5nT3B0aW9uc2AgYXR0cmlidXRlIGNhbiBiZSB1c2VkIHRvIGR5bmFtaWNhbGx5IGdlbmVyYXRlIGEgbGlzdCBvZiBgPG9wdGlvbj5gXG4gKiBlbGVtZW50cyBmb3IgdGhlIGA8c2VsZWN0PmAgZWxlbWVudCB1c2luZyB0aGUgYXJyYXkgb3Igb2JqZWN0IG9idGFpbmVkIGJ5IGV2YWx1YXRpbmcgdGhlXG4gKiBgbmdPcHRpb25zYCBjb21wcmVoZW5zaW9uIGV4cHJlc3Npb24uXG4gKlxuICogSW4gbWFueSBjYXNlcywgYG5nUmVwZWF0YCBjYW4gYmUgdXNlZCBvbiBgPG9wdGlvbj5gIGVsZW1lbnRzIGluc3RlYWQgb2YgYG5nT3B0aW9uc2AgdG8gYWNoaWV2ZSBhXG4gKiBzaW1pbGFyIHJlc3VsdC4gSG93ZXZlciwgYG5nT3B0aW9uc2AgcHJvdmlkZXMgc29tZSBiZW5lZml0cyBzdWNoIGFzIHJlZHVjaW5nIG1lbW9yeSBhbmRcbiAqIGluY3JlYXNpbmcgc3BlZWQgYnkgbm90IGNyZWF0aW5nIGEgbmV3IHNjb3BlIGZvciBlYWNoIHJlcGVhdGVkIGluc3RhbmNlLCBhcyB3ZWxsIGFzIHByb3ZpZGluZ1xuICogbW9yZSBmbGV4aWJpbGl0eSBpbiBob3cgdGhlIGA8c2VsZWN0PmAncyBtb2RlbCBpcyBhc3NpZ25lZCB2aWEgdGhlIGBzZWxlY3RgICoqYGFzYCoqIHBhcnQgb2YgdGhlXG4gKiBjb21wcmVoZW5zaW9uIGV4cHJlc3Npb24uIGBuZ09wdGlvbnNgIHNob3VsZCBiZSB1c2VkIHdoZW4gdGhlIGA8c2VsZWN0PmAgbW9kZWwgbmVlZHMgdG8gYmUgYm91bmRcbiAqICB0byBhIG5vbi1zdHJpbmcgdmFsdWUuIFRoaXMgaXMgYmVjYXVzZSBhbiBvcHRpb24gZWxlbWVudCBjYW4gb25seSBiZSBib3VuZCB0byBzdHJpbmcgdmFsdWVzIGF0XG4gKiBwcmVzZW50LlxuICpcbiAqIFdoZW4gYW4gaXRlbSBpbiB0aGUgYDxzZWxlY3Q+YCBtZW51IGlzIHNlbGVjdGVkLCB0aGUgYXJyYXkgZWxlbWVudCBvciBvYmplY3QgcHJvcGVydHlcbiAqIHJlcHJlc2VudGVkIGJ5IHRoZSBzZWxlY3RlZCBvcHRpb24gd2lsbCBiZSBib3VuZCB0byB0aGUgbW9kZWwgaWRlbnRpZmllZCBieSB0aGUgYG5nTW9kZWxgXG4gKiBkaXJlY3RpdmUuXG4gKlxuICogT3B0aW9uYWxseSwgYSBzaW5nbGUgaGFyZC1jb2RlZCBgPG9wdGlvbj5gIGVsZW1lbnQsIHdpdGggdGhlIHZhbHVlIHNldCB0byBhbiBlbXB0eSBzdHJpbmcsIGNhblxuICogYmUgbmVzdGVkIGludG8gdGhlIGA8c2VsZWN0PmAgZWxlbWVudC4gVGhpcyBlbGVtZW50IHdpbGwgdGhlbiByZXByZXNlbnQgdGhlIGBudWxsYCBvciBcIm5vdCBzZWxlY3RlZFwiXG4gKiBvcHRpb24uIFNlZSBleGFtcGxlIGJlbG93IGZvciBkZW1vbnN0cmF0aW9uLlxuICpcbiAqICMjIENvbXBsZXggTW9kZWxzIChvYmplY3RzIG9yIGNvbGxlY3Rpb25zKVxuICpcbiAqICoqTm90ZToqKiBCeSBkZWZhdWx0LCBgbmdNb2RlbGAgd2F0Y2hlcyB0aGUgbW9kZWwgYnkgcmVmZXJlbmNlLCBub3QgdmFsdWUuIFRoaXMgaXMgaW1wb3J0YW50IHdoZW5cbiAqIGJpbmRpbmcgYW55IGlucHV0IGRpcmVjdGl2ZSB0byBhIG1vZGVsIHRoYXQgaXMgYW4gb2JqZWN0IG9yIGEgY29sbGVjdGlvbi5cbiAqXG4gKiBTaW5jZSB0aGlzIGlzIGEgY29tbW9uIHNpdHVhdGlvbiBmb3IgYG5nT3B0aW9uc2AgdGhlIGRpcmVjdGl2ZSBhZGRpdGlvbmFsbHkgd2F0Y2hlcyB0aGUgbW9kZWwgdXNpbmdcbiAqIGAkd2F0Y2hDb2xsZWN0aW9uYCB3aGVuIHRoZSBzZWxlY3QgaGFzIHRoZSBgbXVsdGlwbGVgIGF0dHJpYnV0ZSBvciB3aGVuIHRoZXJlIGlzIGEgYHRyYWNrIGJ5YCBjbGF1c2UgaW5cbiAqIHRoZSBvcHRpb25zIGV4cHJlc3Npb24uIFRoaXMgYWxsb3dzIG5nT3B0aW9ucyB0byB0cmlnZ2VyIGEgcmUtcmVuZGVyaW5nIG9mIHRoZSBvcHRpb25zIGV2ZW4gaWYgdGhlIGFjdHVhbFxuICogb2JqZWN0L2NvbGxlY3Rpb24gaGFzIG5vdCBjaGFuZ2VkIGlkZW50aXR5IGJ1dCBvbmx5IGEgcHJvcGVydHkgb24gdGhlIG9iamVjdCBvciBhbiBpdGVtIGluIHRoZSBjb2xsZWN0aW9uXG4gKiBjaGFuZ2VzLlxuICpcbiAqIE5vdGUgdGhhdCBgJHdhdGNoQ29sbGVjdGlvbmAgZG9lcyBhIHNoYWxsb3cgY29tcGFyaXNvbiBvZiB0aGUgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IChvciB0aGUgaXRlbXMgaW4gdGhlIGNvbGxlY3Rpb25cbiAqIGlmIHRoZSBtb2RlbCBpcyBhbiBhcnJheSkuIFRoaXMgbWVhbnMgdGhhdCBjaGFuZ2luZyBhIHByb3BlcnR5IGRlZXBlciBpbnNpZGUgdGhlIG9iamVjdC9jb2xsZWN0aW9uIHRoYXQgdGhlXG4gKiBmaXJzdCBsZXZlbCB3aWxsIG5vdCB0cmlnZ2VyIGEgcmUtcmVuZGVyaW5nLlxuICpcbiAqXG4gKiAjIyBgc2VsZWN0YCAqKmBhc2AqKlxuICpcbiAqIFVzaW5nIGBzZWxlY3RgICoqYGFzYCoqIHdpbGwgYmluZCB0aGUgcmVzdWx0IG9mIHRoZSBgc2VsZWN0YCBleHByZXNzaW9uIHRvIHRoZSBtb2RlbCwgYnV0XG4gKiB0aGUgdmFsdWUgb2YgdGhlIGA8c2VsZWN0PmAgYW5kIGA8b3B0aW9uPmAgaHRtbCBlbGVtZW50cyB3aWxsIGJlIGVpdGhlciB0aGUgaW5kZXggKGZvciBhcnJheSBkYXRhIHNvdXJjZXMpXG4gKiBvciBwcm9wZXJ0eSBuYW1lIChmb3Igb2JqZWN0IGRhdGEgc291cmNlcykgb2YgdGhlIHZhbHVlIHdpdGhpbiB0aGUgY29sbGVjdGlvbi4gSWYgYSAqKmB0cmFjayBieWAqKiBleHByZXNzaW9uXG4gKiBpcyB1c2VkLCB0aGUgcmVzdWx0IG9mIHRoYXQgZXhwcmVzc2lvbiB3aWxsIGJlIHNldCBhcyB0aGUgdmFsdWUgb2YgdGhlIGBvcHRpb25gIGFuZCBgc2VsZWN0YCBlbGVtZW50cy5cbiAqXG4gKlxuICogIyMjIGBzZWxlY3RgICoqYGFzYCoqIGFuZCAqKmB0cmFjayBieWAqKlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiBEbyBub3QgdXNlIGBzZWxlY3RgICoqYGFzYCoqIGFuZCAqKmB0cmFjayBieWAqKiBpbiB0aGUgc2FtZSBleHByZXNzaW9uLiBUaGV5IGFyZSBub3QgZGVzaWduZWQgdG8gd29yayB0b2dldGhlci5cbiAqIDwvZGl2PlxuICpcbiAqIENvbnNpZGVyIHRoZSBmb2xsb3dpbmcgZXhhbXBsZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8c2VsZWN0IG5nLW9wdGlvbnM9XCJpdGVtLnN1Ykl0ZW0gYXMgaXRlbS5sYWJlbCBmb3IgaXRlbSBpbiB2YWx1ZXMgdHJhY2sgYnkgaXRlbS5pZFwiIG5nLW1vZGVsPVwic2VsZWN0ZWRcIj5cbiAqIGBgYFxuICpcbiAqIGBgYGpzXG4gKiAkc2NvcGUudmFsdWVzID0gW3tcbiAqICAgaWQ6IDEsXG4gKiAgIGxhYmVsOiAnYUxhYmVsJyxcbiAqICAgc3ViSXRlbTogeyBuYW1lOiAnYVN1Ykl0ZW0nIH1cbiAqIH0sIHtcbiAqICAgaWQ6IDIsXG4gKiAgIGxhYmVsOiAnYkxhYmVsJyxcbiAqICAgc3ViSXRlbTogeyBuYW1lOiAnYlN1Ykl0ZW0nIH1cbiAqIH1dO1xuICpcbiAqICRzY29wZS5zZWxlY3RlZCA9IHsgbmFtZTogJ2FTdWJJdGVtJyB9O1xuICogYGBgXG4gKlxuICogV2l0aCB0aGUgcHVycG9zZSBvZiBwcmVzZXJ2aW5nIHRoZSBzZWxlY3Rpb24sIHRoZSAqKmB0cmFjayBieWAqKiBleHByZXNzaW9uIGlzIGFsd2F5cyBhcHBsaWVkIHRvIHRoZSBlbGVtZW50XG4gKiBvZiB0aGUgZGF0YSBzb3VyY2UgKHRvIGBpdGVtYCBpbiB0aGlzIGV4YW1wbGUpLiBUbyBjYWxjdWxhdGUgd2hldGhlciBhbiBlbGVtZW50IGlzIHNlbGVjdGVkLCB3ZSBkbyB0aGVcbiAqIGZvbGxvd2luZzpcbiAqXG4gKiAxLiBBcHBseSAqKmB0cmFjayBieWAqKiB0byB0aGUgZWxlbWVudHMgaW4gdGhlIGFycmF5LiBJbiB0aGUgZXhhbXBsZTogYFsxLCAyXWBcbiAqIDIuIEFwcGx5ICoqYHRyYWNrIGJ5YCoqIHRvIHRoZSBhbHJlYWR5IHNlbGVjdGVkIHZhbHVlIGluIGBuZ01vZGVsYC5cbiAqICAgIEluIHRoZSBleGFtcGxlOiB0aGlzIGlzIG5vdCBwb3NzaWJsZSBhcyAqKmB0cmFjayBieWAqKiByZWZlcnMgdG8gYGl0ZW0uaWRgLCBidXQgdGhlIHNlbGVjdGVkXG4gKiAgICB2YWx1ZSBmcm9tIGBuZ01vZGVsYCBpcyBge25hbWU6ICdhU3ViSXRlbSd9YCwgc28gdGhlICoqYHRyYWNrIGJ5YCoqIGV4cHJlc3Npb24gaXMgYXBwbGllZCB0b1xuICogICAgYSB3cm9uZyBvYmplY3QsIHRoZSBzZWxlY3RlZCBlbGVtZW50IGNhbid0IGJlIGZvdW5kLCBgPHNlbGVjdD5gIGlzIGFsd2F5cyByZXNldCB0byB0aGUgXCJub3RcbiAqICAgIHNlbGVjdGVkXCIgb3B0aW9uLlxuICpcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXG4gKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFRoZSBjb250cm9sIGlzIGNvbnNpZGVyZWQgdmFsaWQgb25seSBpZiB2YWx1ZSBpcyBlbnRlcmVkLlxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXG4gKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxuICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXG4gKiBAcGFyYW0ge2NvbXByZWhlbnNpb25fZXhwcmVzc2lvbj19IG5nT3B0aW9ucyBpbiBvbmUgb2YgdGhlIGZvbGxvd2luZyBmb3JtczpcbiAqXG4gKiAgICogZm9yIGFycmF5IGRhdGEgc291cmNlczpcbiAqICAgICAqIGBsYWJlbGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YFxuICogICAgICogYHNlbGVjdGAgKipgYXNgKiogYGxhYmVsYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgXG4gKiAgICAgKiBgbGFiZWxgICoqYGdyb3VwIGJ5YCoqIGBncm91cGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YFxuICogICAgICogYGxhYmVsYCAqKmBkaXNhYmxlIHdoZW5gKiogYGRpc2FibGVgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWBcbiAqICAgICAqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgICoqYHRyYWNrIGJ5YCoqIGB0cmFja2V4cHJgXG4gKiAgICAgKiBgbGFiZWxgICoqYGRpc2FibGUgd2hlbmAqKiBgZGlzYWJsZWAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YCAqKmB0cmFjayBieWAqKiBgdHJhY2tleHByYFxuICogICAgICogYGxhYmVsYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgIHwgb3JkZXJCeTpgb3JkZXJleHByYCAqKmB0cmFjayBieWAqKiBgdHJhY2tleHByYFxuICogICAgICAgIChmb3IgaW5jbHVkaW5nIGEgZmlsdGVyIHdpdGggYHRyYWNrIGJ5YClcbiAqICAgKiBmb3Igb2JqZWN0IGRhdGEgc291cmNlczpcbiAqICAgICAqIGBsYWJlbGAgKipgZm9yIChgKipga2V5YCAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXG4gKiAgICAgKiBgc2VsZWN0YCAqKmBhc2AqKiBgbGFiZWxgICoqYGZvciAoYCoqYGtleWAgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxuICogICAgICogYGxhYmVsYCAqKmBncm91cCBieWAqKiBgZ3JvdXBgICoqYGZvciAoYCoqYGtleWAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXG4gKiAgICAgKiBgbGFiZWxgICoqYGRpc2FibGUgd2hlbmAqKiBgZGlzYWJsZWAgKipgZm9yIChgKipga2V5YCoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcbiAqICAgICAqIGBzZWxlY3RgICoqYGFzYCoqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYFxuICogICAgICAgICAqKmBmb3JgIGAoYCoqYGtleWAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXG4gKiAgICAgKiBgc2VsZWN0YCAqKmBhc2AqKiBgbGFiZWxgICoqYGRpc2FibGUgd2hlbmAqKiBgZGlzYWJsZWBcbiAqICAgICAgICAgKipgZm9yYCBgKGAqKmBrZXlgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxuICpcbiAqIFdoZXJlOlxuICpcbiAqICAgKiBgYXJyYXlgIC8gYG9iamVjdGA6IGFuIGV4cHJlc3Npb24gd2hpY2ggZXZhbHVhdGVzIHRvIGFuIGFycmF5IC8gb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqICAgKiBgdmFsdWVgOiBsb2NhbCB2YXJpYWJsZSB3aGljaCB3aWxsIHJlZmVyIHRvIGVhY2ggaXRlbSBpbiB0aGUgYGFycmF5YCBvciBlYWNoIHByb3BlcnR5IHZhbHVlXG4gKiAgICAgIG9mIGBvYmplY3RgIGR1cmluZyBpdGVyYXRpb24uXG4gKiAgICogYGtleWA6IGxvY2FsIHZhcmlhYmxlIHdoaWNoIHdpbGwgcmVmZXIgdG8gYSBwcm9wZXJ0eSBuYW1lIGluIGBvYmplY3RgIGR1cmluZyBpdGVyYXRpb24uXG4gKiAgICogYGxhYmVsYDogVGhlIHJlc3VsdCBvZiB0aGlzIGV4cHJlc3Npb24gd2lsbCBiZSB0aGUgbGFiZWwgZm9yIGA8b3B0aW9uPmAgZWxlbWVudC4gVGhlXG4gKiAgICAgYGV4cHJlc3Npb25gIHdpbGwgbW9zdCBsaWtlbHkgcmVmZXIgdG8gdGhlIGB2YWx1ZWAgdmFyaWFibGUgKGUuZy4gYHZhbHVlLnByb3BlcnR5TmFtZWApLlxuICogICAqIGBzZWxlY3RgOiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiB3aWxsIGJlIGJvdW5kIHRvIHRoZSBtb2RlbCBvZiB0aGUgcGFyZW50IGA8c2VsZWN0PmBcbiAqICAgICAgZWxlbWVudC4gSWYgbm90IHNwZWNpZmllZCwgYHNlbGVjdGAgZXhwcmVzc2lvbiB3aWxsIGRlZmF1bHQgdG8gYHZhbHVlYC5cbiAqICAgKiBgZ3JvdXBgOiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiB3aWxsIGJlIHVzZWQgdG8gZ3JvdXAgb3B0aW9ucyB1c2luZyB0aGUgYDxvcHRncm91cD5gXG4gKiAgICAgIERPTSBlbGVtZW50LlxuICogICAqIGBkaXNhYmxlYDogVGhlIHJlc3VsdCBvZiB0aGlzIGV4cHJlc3Npb24gd2lsbCBiZSB1c2VkIHRvIGRpc2FibGUgdGhlIHJlbmRlcmVkIGA8b3B0aW9uPmBcbiAqICAgICAgZWxlbWVudC4gUmV0dXJuIGB0cnVlYCB0byBkaXNhYmxlLlxuICogICAqIGB0cmFja2V4cHJgOiBVc2VkIHdoZW4gd29ya2luZyB3aXRoIGFuIGFycmF5IG9mIG9iamVjdHMuIFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmVcbiAqICAgICAgdXNlZCB0byBpZGVudGlmeSB0aGUgb2JqZWN0cyBpbiB0aGUgYXJyYXkuIFRoZSBgdHJhY2tleHByYCB3aWxsIG1vc3QgbGlrZWx5IHJlZmVyIHRvIHRoZVxuICogICAgIGB2YWx1ZWAgdmFyaWFibGUgKGUuZy4gYHZhbHVlLnByb3BlcnR5TmFtZWApLiBXaXRoIHRoaXMgdGhlIHNlbGVjdGlvbiBpcyBwcmVzZXJ2ZWRcbiAqICAgICAgZXZlbiB3aGVuIHRoZSBvcHRpb25zIGFyZSByZWNyZWF0ZWQgKGUuZy4gcmVsb2FkZWQgZnJvbSB0aGUgc2VydmVyKS5cbiAqXG4gKiBAZXhhbXBsZVxuICAgIDxleGFtcGxlIG1vZHVsZT1cInNlbGVjdEV4YW1wbGVcIj5cbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgIDxzY3JpcHQ+XG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKCdzZWxlY3RFeGFtcGxlJywgW10pXG4gICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICRzY29wZS5jb2xvcnMgPSBbXG4gICAgICAgICAgICAgIHtuYW1lOidibGFjaycsIHNoYWRlOidkYXJrJ30sXG4gICAgICAgICAgICAgIHtuYW1lOid3aGl0ZScsIHNoYWRlOidsaWdodCcsIG5vdEFuT3B0aW9uOiB0cnVlfSxcbiAgICAgICAgICAgICAge25hbWU6J3JlZCcsIHNoYWRlOidkYXJrJ30sXG4gICAgICAgICAgICAgIHtuYW1lOidibHVlJywgc2hhZGU6J2RhcmsnLCBub3RBbk9wdGlvbjogdHJ1ZX0sXG4gICAgICAgICAgICAgIHtuYW1lOid5ZWxsb3cnLCBzaGFkZTonbGlnaHQnLCBub3RBbk9wdGlvbjogZmFsc2V9XG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgJHNjb3BlLm15Q29sb3IgPSAkc2NvcGUuY29sb3JzWzJdOyAvLyByZWRcbiAgICAgICAgICB9XSk7XG4gICAgICAgIDwvc2NyaXB0PlxuICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJjb2xvciBpbiBjb2xvcnNcIj5cbiAgICAgICAgICAgICAgPGxhYmVsPk5hbWU6IDxpbnB1dCBuZy1tb2RlbD1cImNvbG9yLm5hbWVcIj48L2xhYmVsPlxuICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY29sb3Iubm90QW5PcHRpb25cIj4gRGlzYWJsZWQ/PC9sYWJlbD5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImNvbG9ycy5zcGxpY2UoJGluZGV4LCAxKVwiIGFyaWEtbGFiZWw9XCJSZW1vdmVcIj5YPC9idXR0b24+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiY29sb3JzLnB1c2goe30pXCI+YWRkPC9idXR0b24+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPGhyLz5cbiAgICAgICAgICA8bGFiZWw+Q29sb3IgKG51bGwgbm90IGFsbG93ZWQpOlxuICAgICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cIm15Q29sb3JcIiBuZy1vcHRpb25zPVwiY29sb3IubmFtZSBmb3IgY29sb3IgaW4gY29sb3JzXCI+PC9zZWxlY3Q+XG4gICAgICAgICAgPC9sYWJlbD48YnIvPlxuICAgICAgICAgIDxsYWJlbD5Db2xvciAobnVsbCBhbGxvd2VkKTpcbiAgICAgICAgICA8c3BhbiAgY2xhc3M9XCJudWxsYWJsZVwiPlxuICAgICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cIm15Q29sb3JcIiBuZy1vcHRpb25zPVwiY29sb3IubmFtZSBmb3IgY29sb3IgaW4gY29sb3JzXCI+XG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj4tLSBjaG9vc2UgY29sb3IgLS08L29wdGlvbj5cbiAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgIDwvc3Bhbj48L2xhYmVsPjxici8+XG5cbiAgICAgICAgICA8bGFiZWw+Q29sb3IgZ3JvdXBlZCBieSBzaGFkZTpcbiAgICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJteUNvbG9yXCIgbmctb3B0aW9ucz1cImNvbG9yLm5hbWUgZ3JvdXAgYnkgY29sb3Iuc2hhZGUgZm9yIGNvbG9yIGluIGNvbG9yc1wiPlxuICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgPC9sYWJlbD48YnIvPlxuXG4gICAgICAgICAgPGxhYmVsPkNvbG9yIGdyb3VwZWQgYnkgc2hhZGUsIHdpdGggc29tZSBkaXNhYmxlZDpcbiAgICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJteUNvbG9yXCJcbiAgICAgICAgICAgICAgICAgIG5nLW9wdGlvbnM9XCJjb2xvci5uYW1lIGdyb3VwIGJ5IGNvbG9yLnNoYWRlIGRpc2FibGUgd2hlbiBjb2xvci5ub3RBbk9wdGlvbiBmb3IgY29sb3IgaW4gY29sb3JzXCI+XG4gICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICA8L2xhYmVsPjxici8+XG5cblxuXG4gICAgICAgICAgU2VsZWN0IDxidXR0b24gbmctY2xpY2s9XCJteUNvbG9yID0geyBuYW1lOidub3QgaW4gbGlzdCcsIHNoYWRlOiAnb3RoZXInIH1cIj5ib2d1czwvYnV0dG9uPi5cbiAgICAgICAgICA8YnIvPlxuICAgICAgICAgIDxoci8+XG4gICAgICAgICAgQ3VycmVudGx5IHNlbGVjdGVkOiB7eyB7c2VsZWN0ZWRfY29sb3I6bXlDb2xvcn0gfX1cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiYm9yZGVyOnNvbGlkIDFweCBibGFjazsgaGVpZ2h0OjIwcHhcIlxuICAgICAgICAgICAgICAgbmctc3R5bGU9XCJ7J2JhY2tncm91bmQtY29sb3InOm15Q29sb3IubmFtZX1cIj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLW9wdGlvbnMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygne3NlbGVjdGVkX2NvbG9yOm15Q29sb3J9JykpLmdldFRleHQoKSkudG9NYXRjaCgncmVkJyk7XG4gICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5Lm1vZGVsKCdteUNvbG9yJykpLmZpcnN0KCkuY2xpY2soKTtcbiAgICAgICAgICAgZWxlbWVudC5hbGwoYnkuY3NzKCdzZWxlY3RbbmctbW9kZWw9XCJteUNvbG9yXCJdIG9wdGlvbicpKS5maXJzdCgpLmNsaWNrKCk7XG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3tzZWxlY3RlZF9jb2xvcjpteUNvbG9yfScpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJ2JsYWNrJyk7XG4gICAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCcubnVsbGFibGUgc2VsZWN0W25nLW1vZGVsPVwibXlDb2xvclwiXScpKS5jbGljaygpO1xuICAgICAgICAgICBlbGVtZW50LmFsbChieS5jc3MoJy5udWxsYWJsZSBzZWxlY3RbbmctbW9kZWw9XCJteUNvbG9yXCJdIG9wdGlvbicpKS5maXJzdCgpLmNsaWNrKCk7XG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3tzZWxlY3RlZF9jb2xvcjpteUNvbG9yfScpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJ251bGwnKTtcbiAgICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xuXG4vLyBqc2hpbnQgbWF4bGVuOiBmYWxzZVxuLy8gICAgICAgICAgICAgICAgICAgICAvLzAwMDAxMTExMTExMTExMDAwMDAwMDAwMDAyMjIyMjIyMjIyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMzMzMzMzMzMzMzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA0NDQ0NDQ0NDQ0NDAwMDAwMDAwMDAwMDA1NTU1NTU1NTU1NTU1NTUwMDAwMDAwMDA2NjY2NjY2NjY2NjY2NjYwMDAwMDAwNzc3Nzc3Nzc3Nzc3Nzc3MDAwMDAwMDAwMDAwMDAwODg4ODg4ODg4ODAwMDAwMDAwMDAwMDAwMDAwMDA5OTk5OTk5OTk5XG52YXIgTkdfT1BUSU9OU19SRUdFWFAgPSAvXlxccyooW1xcc1xcU10rPykoPzpcXHMrYXNcXHMrKFtcXHNcXFNdKz8pKT8oPzpcXHMrZ3JvdXBcXHMrYnlcXHMrKFtcXHNcXFNdKz8pKT8oPzpcXHMrZGlzYWJsZVxccyt3aGVuXFxzKyhbXFxzXFxTXSs/KSk/XFxzK2ZvclxccysoPzooW1xcJFxcd11bXFwkXFx3XSopfCg/OlxcKFxccyooW1xcJFxcd11bXFwkXFx3XSopXFxzKixcXHMqKFtcXCRcXHddW1xcJFxcd10qKVxccypcXCkpKVxccytpblxccysoW1xcc1xcU10rPykoPzpcXHMrdHJhY2tcXHMrYnlcXHMrKFtcXHNcXFNdKz8pKT8kLztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDE6IHZhbHVlIGV4cHJlc3Npb24gKHZhbHVlRm4pXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAyOiBsYWJlbCBleHByZXNzaW9uIChkaXNwbGF5Rm4pXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAzOiBncm91cCBieSBleHByZXNzaW9uIChncm91cEJ5Rm4pXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA0OiBkaXNhYmxlIHdoZW4gZXhwcmVzc2lvbiAoZGlzYWJsZVdoZW5GbilcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDU6IGFycmF5IGl0ZW0gdmFyaWFibGUgbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gNjogb2JqZWN0IGl0ZW0ga2V5IHZhcmlhYmxlIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDc6IG9iamVjdCBpdGVtIHZhbHVlIHZhcmlhYmxlIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDg6IGNvbGxlY3Rpb24gZXhwcmVzc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gOTogdHJhY2sgYnkgZXhwcmVzc2lvblxuLy8ganNoaW50IG1heGxlbjogMTAwXG5cblxudmFyIG5nT3B0aW9uc0RpcmVjdGl2ZSA9IFsnJGNvbXBpbGUnLCAnJHBhcnNlJywgZnVuY3Rpb24oJGNvbXBpbGUsICRwYXJzZSkge1xuXG4gIGZ1bmN0aW9uIHBhcnNlT3B0aW9uc0V4cHJlc3Npb24ob3B0aW9uc0V4cCwgc2VsZWN0RWxlbWVudCwgc2NvcGUpIHtcblxuICAgIHZhciBtYXRjaCA9IG9wdGlvbnNFeHAubWF0Y2goTkdfT1BUSU9OU19SRUdFWFApO1xuICAgIGlmICghKG1hdGNoKSkge1xuICAgICAgdGhyb3cgbmdPcHRpb25zTWluRXJyKCdpZXhwJyxcbiAgICAgICAgXCJFeHBlY3RlZCBleHByZXNzaW9uIGluIGZvcm0gb2YgXCIgK1xuICAgICAgICBcIidfc2VsZWN0XyAoYXMgX2xhYmVsXyk/IGZvciAoX2tleV8sKT9fdmFsdWVfIGluIF9jb2xsZWN0aW9uXydcIiArXG4gICAgICAgIFwiIGJ1dCBnb3QgJ3swfScuIEVsZW1lbnQ6IHsxfVwiLFxuICAgICAgICBvcHRpb25zRXhwLCBzdGFydGluZ1RhZyhzZWxlY3RFbGVtZW50KSk7XG4gICAgfVxuXG4gICAgLy8gRXh0cmFjdCB0aGUgcGFydHMgZnJvbSB0aGUgbmdPcHRpb25zIGV4cHJlc3Npb25cblxuICAgIC8vIFRoZSB2YXJpYWJsZSBuYW1lIGZvciB0aGUgdmFsdWUgb2YgdGhlIGl0ZW0gaW4gdGhlIGNvbGxlY3Rpb25cbiAgICB2YXIgdmFsdWVOYW1lID0gbWF0Y2hbNV0gfHwgbWF0Y2hbN107XG4gICAgLy8gVGhlIHZhcmlhYmxlIG5hbWUgZm9yIHRoZSBrZXkgb2YgdGhlIGl0ZW0gaW4gdGhlIGNvbGxlY3Rpb25cbiAgICB2YXIga2V5TmFtZSA9IG1hdGNoWzZdO1xuXG4gICAgLy8gQW4gZXhwcmVzc2lvbiB0aGF0IGdlbmVyYXRlcyB0aGUgdmlld1ZhbHVlIGZvciBhbiBvcHRpb24gaWYgdGhlcmUgaXMgYSBsYWJlbCBleHByZXNzaW9uXG4gICAgdmFyIHNlbGVjdEFzID0gLyBhcyAvLnRlc3QobWF0Y2hbMF0pICYmIG1hdGNoWzFdO1xuICAgIC8vIEFuIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIHRvIHRyYWNrIHRoZSBpZCBvZiBlYWNoIG9iamVjdCBpbiB0aGUgb3B0aW9ucyBjb2xsZWN0aW9uXG4gICAgdmFyIHRyYWNrQnkgPSBtYXRjaFs5XTtcbiAgICAvLyBBbiBleHByZXNzaW9uIHRoYXQgZ2VuZXJhdGVzIHRoZSB2aWV3VmFsdWUgZm9yIGFuIG9wdGlvbiBpZiB0aGVyZSBpcyBubyBsYWJlbCBleHByZXNzaW9uXG4gICAgdmFyIHZhbHVlRm4gPSAkcGFyc2UobWF0Y2hbMl0gPyBtYXRjaFsxXSA6IHZhbHVlTmFtZSk7XG4gICAgdmFyIHNlbGVjdEFzRm4gPSBzZWxlY3RBcyAmJiAkcGFyc2Uoc2VsZWN0QXMpO1xuICAgIHZhciB2aWV3VmFsdWVGbiA9IHNlbGVjdEFzRm4gfHwgdmFsdWVGbjtcbiAgICB2YXIgdHJhY2tCeUZuID0gdHJhY2tCeSAmJiAkcGFyc2UodHJhY2tCeSk7XG5cbiAgICAvLyBHZXQgdGhlIHZhbHVlIGJ5IHdoaWNoIHdlIGFyZSBnb2luZyB0byB0cmFjayB0aGUgb3B0aW9uXG4gICAgLy8gaWYgd2UgaGF2ZSBhIHRyYWNrRm4gdGhlbiB1c2UgdGhhdCAocGFzc2luZyBzY29wZSBhbmQgbG9jYWxzKVxuICAgIC8vIG90aGVyd2lzZSBqdXN0IGhhc2ggdGhlIGdpdmVuIHZpZXdWYWx1ZVxuICAgIHZhciBnZXRUcmFja0J5VmFsdWVGbiA9IHRyYWNrQnkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24odmFsdWUsIGxvY2FscykgeyByZXR1cm4gdHJhY2tCeUZuKHNjb3BlLCBsb2NhbHMpOyB9IDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldEhhc2hPZlZhbHVlKHZhbHVlKSB7IHJldHVybiBoYXNoS2V5KHZhbHVlKTsgfTtcbiAgICB2YXIgZ2V0VHJhY2tCeVZhbHVlID0gZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgcmV0dXJuIGdldFRyYWNrQnlWYWx1ZUZuKHZhbHVlLCBnZXRMb2NhbHModmFsdWUsIGtleSkpO1xuICAgIH07XG5cbiAgICB2YXIgZGlzcGxheUZuID0gJHBhcnNlKG1hdGNoWzJdIHx8IG1hdGNoWzFdKTtcbiAgICB2YXIgZ3JvdXBCeUZuID0gJHBhcnNlKG1hdGNoWzNdIHx8ICcnKTtcbiAgICB2YXIgZGlzYWJsZVdoZW5GbiA9ICRwYXJzZShtYXRjaFs0XSB8fCAnJyk7XG4gICAgdmFyIHZhbHVlc0ZuID0gJHBhcnNlKG1hdGNoWzhdKTtcblxuICAgIHZhciBsb2NhbHMgPSB7fTtcbiAgICB2YXIgZ2V0TG9jYWxzID0ga2V5TmFtZSA/IGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgIGxvY2Fsc1trZXlOYW1lXSA9IGtleTtcbiAgICAgIGxvY2Fsc1t2YWx1ZU5hbWVdID0gdmFsdWU7XG4gICAgICByZXR1cm4gbG9jYWxzO1xuICAgIH0gOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgbG9jYWxzW3ZhbHVlTmFtZV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiBsb2NhbHM7XG4gICAgfTtcblxuXG4gICAgZnVuY3Rpb24gT3B0aW9uKHNlbGVjdFZhbHVlLCB2aWV3VmFsdWUsIGxhYmVsLCBncm91cCwgZGlzYWJsZWQpIHtcbiAgICAgIHRoaXMuc2VsZWN0VmFsdWUgPSBzZWxlY3RWYWx1ZTtcbiAgICAgIHRoaXMudmlld1ZhbHVlID0gdmlld1ZhbHVlO1xuICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsO1xuICAgICAgdGhpcy5ncm91cCA9IGdyb3VwO1xuICAgICAgdGhpcy5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldE9wdGlvblZhbHVlc0tleXMob3B0aW9uVmFsdWVzKSB7XG4gICAgICB2YXIgb3B0aW9uVmFsdWVzS2V5cztcblxuICAgICAgaWYgKCFrZXlOYW1lICYmIGlzQXJyYXlMaWtlKG9wdGlvblZhbHVlcykpIHtcbiAgICAgICAgb3B0aW9uVmFsdWVzS2V5cyA9IG9wdGlvblZhbHVlcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGlmIG9iamVjdCwgZXh0cmFjdCBrZXlzLCBpbiBlbnVtZXJhdGlvbiBvcmRlciwgdW5zb3J0ZWRcbiAgICAgICAgb3B0aW9uVmFsdWVzS2V5cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpdGVtS2V5IGluIG9wdGlvblZhbHVlcykge1xuICAgICAgICAgIGlmIChvcHRpb25WYWx1ZXMuaGFzT3duUHJvcGVydHkoaXRlbUtleSkgJiYgaXRlbUtleS5jaGFyQXQoMCkgIT09ICckJykge1xuICAgICAgICAgICAgb3B0aW9uVmFsdWVzS2V5cy5wdXNoKGl0ZW1LZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9wdGlvblZhbHVlc0tleXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRyYWNrQnk6IHRyYWNrQnksXG4gICAgICBnZXRUcmFja0J5VmFsdWU6IGdldFRyYWNrQnlWYWx1ZSxcbiAgICAgIGdldFdhdGNoYWJsZXM6ICRwYXJzZSh2YWx1ZXNGbiwgZnVuY3Rpb24ob3B0aW9uVmFsdWVzKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIGNvbGxlY3Rpb24gb2YgdGhpbmdzIHRoYXQgd2Ugd291bGQgbGlrZSB0byB3YXRjaCAod2F0Y2hlZEFycmF5KVxuICAgICAgICAvLyBzbyB0aGF0IHRoZXkgY2FuIGFsbCBiZSB3YXRjaGVkIHVzaW5nIGEgc2luZ2xlICR3YXRjaENvbGxlY3Rpb25cbiAgICAgICAgLy8gdGhhdCBvbmx5IHJ1bnMgdGhlIGhhbmRsZXIgb25jZSBpZiBhbnl0aGluZyBjaGFuZ2VzXG4gICAgICAgIHZhciB3YXRjaGVkQXJyYXkgPSBbXTtcbiAgICAgICAgb3B0aW9uVmFsdWVzID0gb3B0aW9uVmFsdWVzIHx8IFtdO1xuXG4gICAgICAgIHZhciBvcHRpb25WYWx1ZXNLZXlzID0gZ2V0T3B0aW9uVmFsdWVzS2V5cyhvcHRpb25WYWx1ZXMpO1xuICAgICAgICB2YXIgb3B0aW9uVmFsdWVzTGVuZ3RoID0gb3B0aW9uVmFsdWVzS2V5cy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBvcHRpb25WYWx1ZXNMZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICB2YXIga2V5ID0gKG9wdGlvblZhbHVlcyA9PT0gb3B0aW9uVmFsdWVzS2V5cykgPyBpbmRleCA6IG9wdGlvblZhbHVlc0tleXNbaW5kZXhdO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IG9wdGlvblZhbHVlc1trZXldO1xuXG4gICAgICAgICAgdmFyIGxvY2FscyA9IGdldExvY2FscyhvcHRpb25WYWx1ZXNba2V5XSwga2V5KTtcbiAgICAgICAgICB2YXIgc2VsZWN0VmFsdWUgPSBnZXRUcmFja0J5VmFsdWVGbihvcHRpb25WYWx1ZXNba2V5XSwgbG9jYWxzKTtcbiAgICAgICAgICB3YXRjaGVkQXJyYXkucHVzaChzZWxlY3RWYWx1ZSk7XG5cbiAgICAgICAgICAvLyBPbmx5IG5lZWQgdG8gd2F0Y2ggdGhlIGRpc3BsYXlGbiBpZiB0aGVyZSBpcyBhIHNwZWNpZmljIGxhYmVsIGV4cHJlc3Npb25cbiAgICAgICAgICBpZiAobWF0Y2hbMl0gfHwgbWF0Y2hbMV0pIHtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IGRpc3BsYXlGbihzY29wZSwgbG9jYWxzKTtcbiAgICAgICAgICAgIHdhdGNoZWRBcnJheS5wdXNoKGxhYmVsKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBPbmx5IG5lZWQgdG8gd2F0Y2ggdGhlIGRpc2FibGVXaGVuRm4gaWYgdGhlcmUgaXMgYSBzcGVjaWZpYyBkaXNhYmxlIGV4cHJlc3Npb25cbiAgICAgICAgICBpZiAobWF0Y2hbNF0pIHtcbiAgICAgICAgICAgIHZhciBkaXNhYmxlV2hlbiA9IGRpc2FibGVXaGVuRm4oc2NvcGUsIGxvY2Fscyk7XG4gICAgICAgICAgICB3YXRjaGVkQXJyYXkucHVzaChkaXNhYmxlV2hlbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3YXRjaGVkQXJyYXk7XG4gICAgICB9KSxcblxuICAgICAgZ2V0T3B0aW9uczogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIG9wdGlvbkl0ZW1zID0gW107XG4gICAgICAgIHZhciBzZWxlY3RWYWx1ZU1hcCA9IHt9O1xuXG4gICAgICAgIC8vIFRoZSBvcHRpb24gdmFsdWVzIHdlcmUgYWxyZWFkeSBjb21wdXRlZCBpbiB0aGUgYGdldFdhdGNoYWJsZXNgIGZuLFxuICAgICAgICAvLyB3aGljaCBtdXN0IGhhdmUgYmVlbiBjYWxsZWQgdG8gdHJpZ2dlciBgZ2V0T3B0aW9uc2BcbiAgICAgICAgdmFyIG9wdGlvblZhbHVlcyA9IHZhbHVlc0ZuKHNjb3BlKSB8fCBbXTtcbiAgICAgICAgdmFyIG9wdGlvblZhbHVlc0tleXMgPSBnZXRPcHRpb25WYWx1ZXNLZXlzKG9wdGlvblZhbHVlcyk7XG4gICAgICAgIHZhciBvcHRpb25WYWx1ZXNMZW5ndGggPSBvcHRpb25WYWx1ZXNLZXlzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgb3B0aW9uVmFsdWVzTGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgdmFyIGtleSA9IChvcHRpb25WYWx1ZXMgPT09IG9wdGlvblZhbHVlc0tleXMpID8gaW5kZXggOiBvcHRpb25WYWx1ZXNLZXlzW2luZGV4XTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBvcHRpb25WYWx1ZXNba2V5XTtcbiAgICAgICAgICB2YXIgbG9jYWxzID0gZ2V0TG9jYWxzKHZhbHVlLCBrZXkpO1xuICAgICAgICAgIHZhciB2aWV3VmFsdWUgPSB2aWV3VmFsdWVGbihzY29wZSwgbG9jYWxzKTtcbiAgICAgICAgICB2YXIgc2VsZWN0VmFsdWUgPSBnZXRUcmFja0J5VmFsdWVGbih2aWV3VmFsdWUsIGxvY2Fscyk7XG4gICAgICAgICAgdmFyIGxhYmVsID0gZGlzcGxheUZuKHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgIHZhciBncm91cCA9IGdyb3VwQnlGbihzY29wZSwgbG9jYWxzKTtcbiAgICAgICAgICB2YXIgZGlzYWJsZWQgPSBkaXNhYmxlV2hlbkZuKHNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgIHZhciBvcHRpb25JdGVtID0gbmV3IE9wdGlvbihzZWxlY3RWYWx1ZSwgdmlld1ZhbHVlLCBsYWJlbCwgZ3JvdXAsIGRpc2FibGVkKTtcblxuICAgICAgICAgIG9wdGlvbkl0ZW1zLnB1c2gob3B0aW9uSXRlbSk7XG4gICAgICAgICAgc2VsZWN0VmFsdWVNYXBbc2VsZWN0VmFsdWVdID0gb3B0aW9uSXRlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaXRlbXM6IG9wdGlvbkl0ZW1zLFxuICAgICAgICAgIHNlbGVjdFZhbHVlTWFwOiBzZWxlY3RWYWx1ZU1hcCxcbiAgICAgICAgICBnZXRPcHRpb25Gcm9tVmlld1ZhbHVlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdFZhbHVlTWFwW2dldFRyYWNrQnlWYWx1ZSh2YWx1ZSldO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbjogZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgdmlld1ZhbHVlIGNvdWxkIGJlIGFuIG9iamVjdCB0aGF0IG1heSBiZSBtdXRhdGVkIGJ5IHRoZSBhcHBsaWNhdGlvbixcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gbWFrZSBhIGNvcHkgYW5kIG5vdCByZXR1cm4gdGhlIHJlZmVyZW5jZSB0byB0aGUgdmFsdWUgb24gdGhlIG9wdGlvbi5cbiAgICAgICAgICAgIHJldHVybiB0cmFja0J5ID8gYW5ndWxhci5jb3B5KG9wdGlvbi52aWV3VmFsdWUpIDogb3B0aW9uLnZpZXdWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG5cbiAgLy8gd2UgY2FuJ3QganVzdCBqcUxpdGUoJzxvcHRpb24+Jykgc2luY2UganFMaXRlIGlzIG5vdCBzbWFydCBlbm91Z2hcbiAgLy8gdG8gY3JlYXRlIGl0IGluIDxzZWxlY3Q+IGFuZCBJRSBiYXJmcyBvdGhlcndpc2UuXG4gIHZhciBvcHRpb25UZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpLFxuICAgICAgb3B0R3JvdXBUZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGdyb3VwJyk7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgIHJlcXVpcmU6IFsnc2VsZWN0JywgJz9uZ01vZGVsJ10sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIHNlbGVjdEVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XG5cbiAgICAgIC8vIGlmIG5nTW9kZWwgaXMgbm90IGRlZmluZWQsIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmdcbiAgICAgIHZhciBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuICAgICAgaWYgKCFuZ01vZGVsQ3RybCkgcmV0dXJuO1xuXG4gICAgICB2YXIgc2VsZWN0Q3RybCA9IGN0cmxzWzBdO1xuICAgICAgdmFyIG11bHRpcGxlID0gYXR0ci5tdWx0aXBsZTtcblxuICAgICAgLy8gVGhlIGVtcHR5T3B0aW9uIGFsbG93cyB0aGUgYXBwbGljYXRpb24gZGV2ZWxvcGVyIHRvIHByb3ZpZGUgdGhlaXIgb3duIGN1c3RvbSBcImVtcHR5XCJcbiAgICAgIC8vIG9wdGlvbiB3aGVuIHRoZSB2aWV3VmFsdWUgZG9lcyBub3QgbWF0Y2ggYW55IG9mIHRoZSBvcHRpb24gdmFsdWVzLlxuICAgICAgdmFyIGVtcHR5T3B0aW9uO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGNoaWxkcmVuID0gc2VsZWN0RWxlbWVudC5jaGlsZHJlbigpLCBpaSA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgaWYgKGNoaWxkcmVuW2ldLnZhbHVlID09PSAnJykge1xuICAgICAgICAgIGVtcHR5T3B0aW9uID0gY2hpbGRyZW4uZXEoaSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHByb3ZpZGVkRW1wdHlPcHRpb24gPSAhIWVtcHR5T3B0aW9uO1xuXG4gICAgICB2YXIgdW5rbm93bk9wdGlvbiA9IGpxTGl0ZShvcHRpb25UZW1wbGF0ZS5jbG9uZU5vZGUoZmFsc2UpKTtcbiAgICAgIHVua25vd25PcHRpb24udmFsKCc/Jyk7XG5cbiAgICAgIHZhciBvcHRpb25zO1xuICAgICAgdmFyIG5nT3B0aW9ucyA9IHBhcnNlT3B0aW9uc0V4cHJlc3Npb24oYXR0ci5uZ09wdGlvbnMsIHNlbGVjdEVsZW1lbnQsIHNjb3BlKTtcblxuXG4gICAgICB2YXIgcmVuZGVyRW1wdHlPcHRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFwcm92aWRlZEVtcHR5T3B0aW9uKSB7XG4gICAgICAgICAgc2VsZWN0RWxlbWVudC5wcmVwZW5kKGVtcHR5T3B0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxlY3RFbGVtZW50LnZhbCgnJyk7XG4gICAgICAgIGVtcHR5T3B0aW9uLnByb3AoJ3NlbGVjdGVkJywgdHJ1ZSk7IC8vIG5lZWRlZCBmb3IgSUVcbiAgICAgICAgZW1wdHlPcHRpb24uYXR0cignc2VsZWN0ZWQnLCB0cnVlKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciByZW1vdmVFbXB0eU9wdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXByb3ZpZGVkRW1wdHlPcHRpb24pIHtcbiAgICAgICAgICBlbXB0eU9wdGlvbi5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuXG4gICAgICB2YXIgcmVuZGVyVW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxlY3RFbGVtZW50LnByZXBlbmQodW5rbm93bk9wdGlvbik7XG4gICAgICAgIHNlbGVjdEVsZW1lbnQudmFsKCc/Jyk7XG4gICAgICAgIHVua25vd25PcHRpb24ucHJvcCgnc2VsZWN0ZWQnLCB0cnVlKTsgLy8gbmVlZGVkIGZvciBJRVxuICAgICAgICB1bmtub3duT3B0aW9uLmF0dHIoJ3NlbGVjdGVkJywgdHJ1ZSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgcmVtb3ZlVW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB1bmtub3duT3B0aW9uLnJlbW92ZSgpO1xuICAgICAgfTtcblxuXG4gICAgICAvLyBVcGRhdGUgdGhlIGNvbnRyb2xsZXIgbWV0aG9kcyBmb3IgbXVsdGlwbGUgc2VsZWN0YWJsZSBvcHRpb25zXG4gICAgICBpZiAoIW11bHRpcGxlKSB7XG5cbiAgICAgICAgc2VsZWN0Q3RybC53cml0ZVZhbHVlID0gZnVuY3Rpb24gd3JpdGVOZ09wdGlvbnNWYWx1ZSh2YWx1ZSkge1xuICAgICAgICAgIHZhciBvcHRpb24gPSBvcHRpb25zLmdldE9wdGlvbkZyb21WaWV3VmFsdWUodmFsdWUpO1xuXG4gICAgICAgICAgaWYgKG9wdGlvbiAmJiAhb3B0aW9uLmRpc2FibGVkKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0RWxlbWVudFswXS52YWx1ZSAhPT0gb3B0aW9uLnNlbGVjdFZhbHVlKSB7XG4gICAgICAgICAgICAgIHJlbW92ZVVua25vd25PcHRpb24oKTtcbiAgICAgICAgICAgICAgcmVtb3ZlRW1wdHlPcHRpb24oKTtcblxuICAgICAgICAgICAgICBzZWxlY3RFbGVtZW50WzBdLnZhbHVlID0gb3B0aW9uLnNlbGVjdFZhbHVlO1xuICAgICAgICAgICAgICBvcHRpb24uZWxlbWVudC5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgIG9wdGlvbi5lbGVtZW50LnNldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnLCAnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHByb3ZpZGVkRW1wdHlPcHRpb24pIHtcbiAgICAgICAgICAgICAgcmVtb3ZlVW5rbm93bk9wdGlvbigpO1xuICAgICAgICAgICAgICByZW5kZXJFbXB0eU9wdGlvbigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVtb3ZlRW1wdHlPcHRpb24oKTtcbiAgICAgICAgICAgICAgcmVuZGVyVW5rbm93bk9wdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzZWxlY3RDdHJsLnJlYWRWYWx1ZSA9IGZ1bmN0aW9uIHJlYWROZ09wdGlvbnNWYWx1ZSgpIHtcblxuICAgICAgICAgIHZhciBzZWxlY3RlZE9wdGlvbiA9IG9wdGlvbnMuc2VsZWN0VmFsdWVNYXBbc2VsZWN0RWxlbWVudC52YWwoKV07XG5cbiAgICAgICAgICBpZiAoc2VsZWN0ZWRPcHRpb24gJiYgIXNlbGVjdGVkT3B0aW9uLmRpc2FibGVkKSB7XG4gICAgICAgICAgICByZW1vdmVFbXB0eU9wdGlvbigpO1xuICAgICAgICAgICAgcmVtb3ZlVW5rbm93bk9wdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbihzZWxlY3RlZE9wdGlvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBgdHJhY2sgYnlgIHRoZW4gd2UgbXVzdCB3YXRjaCB0aGUgdHJhY2tlZCB2YWx1ZSBvbiB0aGUgbW9kZWxcbiAgICAgICAgLy8gc2luY2UgbmdNb2RlbCBvbmx5IHdhdGNoZXMgZm9yIG9iamVjdCBpZGVudGl0eSBjaGFuZ2VcbiAgICAgICAgaWYgKG5nT3B0aW9ucy50cmFja0J5KSB7XG4gICAgICAgICAgc2NvcGUuJHdhdGNoKFxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7IHJldHVybiBuZ09wdGlvbnMuZ2V0VHJhY2tCeVZhbHVlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpOyB9LFxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7IG5nTW9kZWxDdHJsLiRyZW5kZXIoKTsgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIHtcblxuICAgICAgICBuZ01vZGVsQ3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuICF2YWx1ZSB8fCB2YWx1ZS5sZW5ndGggPT09IDA7XG4gICAgICAgIH07XG5cblxuICAgICAgICBzZWxlY3RDdHJsLndyaXRlVmFsdWUgPSBmdW5jdGlvbiB3cml0ZU5nT3B0aW9uc011bHRpcGxlKHZhbHVlKSB7XG4gICAgICAgICAgb3B0aW9ucy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgICAgb3B0aW9uLmVsZW1lbnQuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgIHZhciBvcHRpb24gPSBvcHRpb25zLmdldE9wdGlvbkZyb21WaWV3VmFsdWUoaXRlbSk7XG4gICAgICAgICAgICAgIGlmIChvcHRpb24gJiYgIW9wdGlvbi5kaXNhYmxlZCkgb3B0aW9uLmVsZW1lbnQuc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG5cbiAgICAgICAgc2VsZWN0Q3RybC5yZWFkVmFsdWUgPSBmdW5jdGlvbiByZWFkTmdPcHRpb25zTXVsdGlwbGUoKSB7XG4gICAgICAgICAgdmFyIHNlbGVjdGVkVmFsdWVzID0gc2VsZWN0RWxlbWVudC52YWwoKSB8fCBbXSxcbiAgICAgICAgICAgICAgc2VsZWN0aW9ucyA9IFtdO1xuXG4gICAgICAgICAgZm9yRWFjaChzZWxlY3RlZFZhbHVlcywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb24gPSBvcHRpb25zLnNlbGVjdFZhbHVlTWFwW3ZhbHVlXTtcbiAgICAgICAgICAgIGlmICghb3B0aW9uLmRpc2FibGVkKSBzZWxlY3Rpb25zLnB1c2gob3B0aW9ucy5nZXRWaWV3VmFsdWVGcm9tT3B0aW9uKG9wdGlvbikpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIHNlbGVjdGlvbnM7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gSWYgd2UgYXJlIHVzaW5nIGB0cmFjayBieWAgdGhlbiB3ZSBtdXN0IHdhdGNoIHRoZXNlIHRyYWNrZWQgdmFsdWVzIG9uIHRoZSBtb2RlbFxuICAgICAgICAvLyBzaW5jZSBuZ01vZGVsIG9ubHkgd2F0Y2hlcyBmb3Igb2JqZWN0IGlkZW50aXR5IGNoYW5nZVxuICAgICAgICBpZiAobmdPcHRpb25zLnRyYWNrQnkpIHtcblxuICAgICAgICAgIHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoaXNBcnJheShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKSkge1xuICAgICAgICAgICAgICByZXR1cm4gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZS5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmdPcHRpb25zLmdldFRyYWNrQnlWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH1cbiAgICAgIH1cblxuXG4gICAgICBpZiAocHJvdmlkZWRFbXB0eU9wdGlvbikge1xuXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gcmVtb3ZlIGl0IGJlZm9yZSBjYWxsaW5nIHNlbGVjdEVsZW1lbnQuZW1wdHkoKSBiZWNhdXNlIG90aGVyd2lzZSBJRSB3aWxsXG4gICAgICAgIC8vIHJlbW92ZSB0aGUgbGFiZWwgZnJvbSB0aGUgZWxlbWVudC4gd3RmP1xuICAgICAgICBlbXB0eU9wdGlvbi5yZW1vdmUoKTtcblxuICAgICAgICAvLyBjb21waWxlIHRoZSBlbGVtZW50IHNpbmNlIHRoZXJlIG1pZ2h0IGJlIGJpbmRpbmdzIGluIGl0XG4gICAgICAgICRjb21waWxlKGVtcHR5T3B0aW9uKShzY29wZSk7XG5cbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBjbGFzcywgd2hpY2ggaXMgYWRkZWQgYXV0b21hdGljYWxseSBiZWNhdXNlIHdlIHJlY29tcGlsZSB0aGUgZWxlbWVudCBhbmQgaXRcbiAgICAgICAgLy8gYmVjb21lcyB0aGUgY29tcGlsYXRpb24gcm9vdFxuICAgICAgICBlbXB0eU9wdGlvbi5yZW1vdmVDbGFzcygnbmctc2NvcGUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVtcHR5T3B0aW9uID0ganFMaXRlKG9wdGlvblRlbXBsYXRlLmNsb25lTm9kZShmYWxzZSkpO1xuICAgICAgfVxuXG4gICAgICAvLyBXZSBuZWVkIHRvIGRvIHRoaXMgaGVyZSB0byBlbnN1cmUgdGhhdCB0aGUgb3B0aW9ucyBvYmplY3QgaXMgZGVmaW5lZFxuICAgICAgLy8gd2hlbiB3ZSBmaXJzdCBoaXQgaXQgaW4gd3JpdGVOZ09wdGlvbnNWYWx1ZVxuICAgICAgdXBkYXRlT3B0aW9ucygpO1xuXG4gICAgICAvLyBXZSB3aWxsIHJlLXJlbmRlciB0aGUgb3B0aW9uIGVsZW1lbnRzIGlmIHRoZSBvcHRpb24gdmFsdWVzIG9yIGxhYmVscyBjaGFuZ2VcbiAgICAgIHNjb3BlLiR3YXRjaENvbGxlY3Rpb24obmdPcHRpb25zLmdldFdhdGNoYWJsZXMsIHVwZGF0ZU9wdGlvbnMpO1xuXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVPcHRpb25FbGVtZW50KG9wdGlvbiwgZWxlbWVudCkge1xuICAgICAgICBvcHRpb24uZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIGVsZW1lbnQuZGlzYWJsZWQgPSBvcHRpb24uZGlzYWJsZWQ7XG4gICAgICAgIGlmIChvcHRpb24udmFsdWUgIT09IGVsZW1lbnQudmFsdWUpIGVsZW1lbnQudmFsdWUgPSBvcHRpb24uc2VsZWN0VmFsdWU7XG4gICAgICAgIGlmIChvcHRpb24ubGFiZWwgIT09IGVsZW1lbnQubGFiZWwpIHtcbiAgICAgICAgICBlbGVtZW50LmxhYmVsID0gb3B0aW9uLmxhYmVsO1xuICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBvcHRpb24ubGFiZWw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYWRkT3JSZXVzZUVsZW1lbnQocGFyZW50LCBjdXJyZW50LCB0eXBlLCB0ZW1wbGF0ZUVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQ7XG4gICAgICAgIC8vIENoZWNrIHdoZXRoZXIgd2UgY2FuIHJldXNlIHRoZSBuZXh0IGVsZW1lbnRcbiAgICAgICAgaWYgKGN1cnJlbnQgJiYgbG93ZXJjYXNlKGN1cnJlbnQubm9kZU5hbWUpID09PSB0eXBlKSB7XG4gICAgICAgICAgLy8gVGhlIG5leHQgZWxlbWVudCBpcyB0aGUgcmlnaHQgdHlwZSBzbyByZXVzZSBpdFxuICAgICAgICAgIGVsZW1lbnQgPSBjdXJyZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFRoZSBuZXh0IGVsZW1lbnQgaXMgbm90IHRoZSByaWdodCB0eXBlIHNvIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgICBlbGVtZW50ID0gdGVtcGxhdGVFbGVtZW50LmNsb25lTm9kZShmYWxzZSk7XG4gICAgICAgICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICAgICAgICAvLyBUaGVyZSBhcmUgbm8gbW9yZSBlbGVtZW50cyBzbyBqdXN0IGFwcGVuZCBpdCB0byB0aGUgc2VsZWN0XG4gICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRoZSBuZXh0IGVsZW1lbnQgaXMgbm90IGEgZ3JvdXAgc28gaW5zZXJ0IHRoZSBuZXcgb25lXG4gICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGVsZW1lbnQsIGN1cnJlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgIH1cblxuXG4gICAgICBmdW5jdGlvbiByZW1vdmVFeGNlc3NFbGVtZW50cyhjdXJyZW50KSB7XG4gICAgICAgIHZhciBuZXh0O1xuICAgICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICAgIG5leHQgPSBjdXJyZW50Lm5leHRTaWJsaW5nO1xuICAgICAgICAgIGpxTGl0ZVJlbW92ZShjdXJyZW50KTtcbiAgICAgICAgICBjdXJyZW50ID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuXG5cbiAgICAgIGZ1bmN0aW9uIHNraXBFbXB0eUFuZFVua25vd25PcHRpb25zKGN1cnJlbnQpIHtcbiAgICAgICAgdmFyIGVtcHR5T3B0aW9uXyA9IGVtcHR5T3B0aW9uICYmIGVtcHR5T3B0aW9uWzBdO1xuICAgICAgICB2YXIgdW5rbm93bk9wdGlvbl8gPSB1bmtub3duT3B0aW9uICYmIHVua25vd25PcHRpb25bMF07XG5cbiAgICAgICAgaWYgKGVtcHR5T3B0aW9uXyB8fCB1bmtub3duT3B0aW9uXykge1xuICAgICAgICAgIHdoaWxlIChjdXJyZW50ICYmXG4gICAgICAgICAgICAgICAgKGN1cnJlbnQgPT09IGVtcHR5T3B0aW9uXyB8fFxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPT09IHVua25vd25PcHRpb25fKSkge1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgfVxuXG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnMoKSB7XG5cbiAgICAgICAgdmFyIHByZXZpb3VzVmFsdWUgPSBvcHRpb25zICYmIHNlbGVjdEN0cmwucmVhZFZhbHVlKCk7XG5cbiAgICAgICAgb3B0aW9ucyA9IG5nT3B0aW9ucy5nZXRPcHRpb25zKCk7XG5cbiAgICAgICAgdmFyIGdyb3VwTWFwID0ge307XG4gICAgICAgIHZhciBjdXJyZW50RWxlbWVudCA9IHNlbGVjdEVsZW1lbnRbMF0uZmlyc3RDaGlsZDtcblxuICAgICAgICAvLyBFbnN1cmUgdGhhdCB0aGUgZW1wdHkgb3B0aW9uIGlzIGFsd2F5cyB0aGVyZSBpZiBpdCB3YXMgZXhwbGljaXRseSBwcm92aWRlZFxuICAgICAgICBpZiAocHJvdmlkZWRFbXB0eU9wdGlvbikge1xuICAgICAgICAgIHNlbGVjdEVsZW1lbnQucHJlcGVuZChlbXB0eU9wdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50RWxlbWVudCA9IHNraXBFbXB0eUFuZFVua25vd25PcHRpb25zKGN1cnJlbnRFbGVtZW50KTtcblxuICAgICAgICBvcHRpb25zLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gdXBkYXRlT3B0aW9uKG9wdGlvbikge1xuICAgICAgICAgIHZhciBncm91cDtcbiAgICAgICAgICB2YXIgZ3JvdXBFbGVtZW50O1xuICAgICAgICAgIHZhciBvcHRpb25FbGVtZW50O1xuXG4gICAgICAgICAgaWYgKG9wdGlvbi5ncm91cCkge1xuXG4gICAgICAgICAgICAvLyBUaGlzIG9wdGlvbiBpcyB0byBsaXZlIGluIGEgZ3JvdXBcbiAgICAgICAgICAgIC8vIFNlZSBpZiB3ZSBoYXZlIGFscmVhZHkgY3JlYXRlZCB0aGlzIGdyb3VwXG4gICAgICAgICAgICBncm91cCA9IGdyb3VwTWFwW29wdGlvbi5ncm91cF07XG5cbiAgICAgICAgICAgIGlmICghZ3JvdXApIHtcblxuICAgICAgICAgICAgICAvLyBXZSBoYXZlIG5vdCBhbHJlYWR5IGNyZWF0ZWQgdGhpcyBncm91cFxuICAgICAgICAgICAgICBncm91cEVsZW1lbnQgPSBhZGRPclJldXNlRWxlbWVudChzZWxlY3RFbGVtZW50WzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29wdGdyb3VwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0R3JvdXBUZW1wbGF0ZSk7XG4gICAgICAgICAgICAgIC8vIE1vdmUgdG8gdGhlIG5leHQgZWxlbWVudFxuICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGdyb3VwRWxlbWVudC5uZXh0U2libGluZztcblxuICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGxhYmVsIG9uIHRoZSBncm91cCBlbGVtZW50XG4gICAgICAgICAgICAgIGdyb3VwRWxlbWVudC5sYWJlbCA9IG9wdGlvbi5ncm91cDtcblxuICAgICAgICAgICAgICAvLyBTdG9yZSBpdCBmb3IgdXNlIGxhdGVyXG4gICAgICAgICAgICAgIGdyb3VwID0gZ3JvdXBNYXBbb3B0aW9uLmdyb3VwXSA9IHtcbiAgICAgICAgICAgICAgICBncm91cEVsZW1lbnQ6IGdyb3VwRWxlbWVudCxcbiAgICAgICAgICAgICAgICBjdXJyZW50T3B0aW9uRWxlbWVudDogZ3JvdXBFbGVtZW50LmZpcnN0Q2hpbGRcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTbyBub3cgd2UgaGF2ZSBhIGdyb3VwIGZvciB0aGlzIG9wdGlvbiB3ZSBhZGQgdGhlIG9wdGlvbiB0byB0aGUgZ3JvdXBcbiAgICAgICAgICAgIG9wdGlvbkVsZW1lbnQgPSBhZGRPclJldXNlRWxlbWVudChncm91cC5ncm91cEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXAuY3VycmVudE9wdGlvbkVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29wdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uVGVtcGxhdGUpO1xuICAgICAgICAgICAgdXBkYXRlT3B0aW9uRWxlbWVudChvcHRpb24sIG9wdGlvbkVsZW1lbnQpO1xuICAgICAgICAgICAgLy8gTW92ZSB0byB0aGUgbmV4dCBlbGVtZW50XG4gICAgICAgICAgICBncm91cC5jdXJyZW50T3B0aW9uRWxlbWVudCA9IG9wdGlvbkVsZW1lbnQubmV4dFNpYmxpbmc7XG5cbiAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAvLyBUaGlzIG9wdGlvbiBpcyBub3QgaW4gYSBncm91cFxuICAgICAgICAgICAgb3B0aW9uRWxlbWVudCA9IGFkZE9yUmV1c2VFbGVtZW50KHNlbGVjdEVsZW1lbnRbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29wdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uVGVtcGxhdGUpO1xuICAgICAgICAgICAgdXBkYXRlT3B0aW9uRWxlbWVudChvcHRpb24sIG9wdGlvbkVsZW1lbnQpO1xuICAgICAgICAgICAgLy8gTW92ZSB0byB0aGUgbmV4dCBlbGVtZW50XG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IG9wdGlvbkVsZW1lbnQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICAgIC8vIE5vdyByZW1vdmUgYWxsIGV4Y2VzcyBvcHRpb25zIGFuZCBncm91cFxuICAgICAgICBPYmplY3Qua2V5cyhncm91cE1hcCkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICByZW1vdmVFeGNlc3NFbGVtZW50cyhncm91cE1hcFtrZXldLmN1cnJlbnRPcHRpb25FbGVtZW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlbW92ZUV4Y2Vzc0VsZW1lbnRzKGN1cnJlbnRFbGVtZW50KTtcblxuICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoZSB2YWx1ZSBoYXMgY2hhbmdlZCBkdWUgdG8gdGhlIHVwZGF0ZSB0byB0aGUgb3B0aW9uc1xuICAgICAgICBpZiAoIW5nTW9kZWxDdHJsLiRpc0VtcHR5KHByZXZpb3VzVmFsdWUpKSB7XG4gICAgICAgICAgdmFyIG5leHRWYWx1ZSA9IHNlbGVjdEN0cmwucmVhZFZhbHVlKCk7XG4gICAgICAgICAgaWYgKG5nT3B0aW9ucy50cmFja0J5ID8gIWVxdWFscyhwcmV2aW91c1ZhbHVlLCBuZXh0VmFsdWUpIDogcHJldmlvdXNWYWx1ZSAhPT0gbmV4dFZhbHVlKSB7XG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG5leHRWYWx1ZSk7XG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nUGx1cmFsaXplXG4gKiBAcmVzdHJpY3QgRUFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIGBuZ1BsdXJhbGl6ZWAgaXMgYSBkaXJlY3RpdmUgdGhhdCBkaXNwbGF5cyBtZXNzYWdlcyBhY2NvcmRpbmcgdG8gZW4tVVMgbG9jYWxpemF0aW9uIHJ1bGVzLlxuICogVGhlc2UgcnVsZXMgYXJlIGJ1bmRsZWQgd2l0aCBhbmd1bGFyLmpzLCBidXQgY2FuIGJlIG92ZXJyaWRkZW5cbiAqIChzZWUge0BsaW5rIGd1aWRlL2kxOG4gQW5ndWxhciBpMThufSBkZXYgZ3VpZGUpLiBZb3UgY29uZmlndXJlIG5nUGx1cmFsaXplIGRpcmVjdGl2ZVxuICogYnkgc3BlY2lmeWluZyB0aGUgbWFwcGluZ3MgYmV0d2VlblxuICogW3BsdXJhbCBjYXRlZ29yaWVzXShodHRwOi8vdW5pY29kZS5vcmcvcmVwb3MvY2xkci10bXAvdHJ1bmsvZGlmZi9zdXBwbGVtZW50YWwvbGFuZ3VhZ2VfcGx1cmFsX3J1bGVzLmh0bWwpXG4gKiBhbmQgdGhlIHN0cmluZ3MgdG8gYmUgZGlzcGxheWVkLlxuICpcbiAqICMgUGx1cmFsIGNhdGVnb3JpZXMgYW5kIGV4cGxpY2l0IG51bWJlciBydWxlc1xuICogVGhlcmUgYXJlIHR3b1xuICogW3BsdXJhbCBjYXRlZ29yaWVzXShodHRwOi8vdW5pY29kZS5vcmcvcmVwb3MvY2xkci10bXAvdHJ1bmsvZGlmZi9zdXBwbGVtZW50YWwvbGFuZ3VhZ2VfcGx1cmFsX3J1bGVzLmh0bWwpXG4gKiBpbiBBbmd1bGFyJ3MgZGVmYXVsdCBlbi1VUyBsb2NhbGU6IFwib25lXCIgYW5kIFwib3RoZXJcIi5cbiAqXG4gKiBXaGlsZSBhIHBsdXJhbCBjYXRlZ29yeSBtYXkgbWF0Y2ggbWFueSBudW1iZXJzIChmb3IgZXhhbXBsZSwgaW4gZW4tVVMgbG9jYWxlLCBcIm90aGVyXCIgY2FuIG1hdGNoXG4gKiBhbnkgbnVtYmVyIHRoYXQgaXMgbm90IDEpLCBhbiBleHBsaWNpdCBudW1iZXIgcnVsZSBjYW4gb25seSBtYXRjaCBvbmUgbnVtYmVyLiBGb3IgZXhhbXBsZSwgdGhlXG4gKiBleHBsaWNpdCBudW1iZXIgcnVsZSBmb3IgXCIzXCIgbWF0Y2hlcyB0aGUgbnVtYmVyIDMuIFRoZXJlIGFyZSBleGFtcGxlcyBvZiBwbHVyYWwgY2F0ZWdvcmllc1xuICogYW5kIGV4cGxpY2l0IG51bWJlciBydWxlcyB0aHJvdWdob3V0IHRoZSByZXN0IG9mIHRoaXMgZG9jdW1lbnRhdGlvbi5cbiAqXG4gKiAjIENvbmZpZ3VyaW5nIG5nUGx1cmFsaXplXG4gKiBZb3UgY29uZmlndXJlIG5nUGx1cmFsaXplIGJ5IHByb3ZpZGluZyAyIGF0dHJpYnV0ZXM6IGBjb3VudGAgYW5kIGB3aGVuYC5cbiAqIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIG9wdGlvbmFsIGF0dHJpYnV0ZSwgYG9mZnNldGAuXG4gKlxuICogVGhlIHZhbHVlIG9mIHRoZSBgY291bnRgIGF0dHJpYnV0ZSBjYW4gYmUgZWl0aGVyIGEgc3RyaW5nIG9yIGFuIHtAbGluayBndWlkZS9leHByZXNzaW9uXG4gKiBBbmd1bGFyIGV4cHJlc3Npb259OyB0aGVzZSBhcmUgZXZhbHVhdGVkIG9uIHRoZSBjdXJyZW50IHNjb3BlIGZvciBpdHMgYm91bmQgdmFsdWUuXG4gKlxuICogVGhlIGB3aGVuYCBhdHRyaWJ1dGUgc3BlY2lmaWVzIHRoZSBtYXBwaW5ncyBiZXR3ZWVuIHBsdXJhbCBjYXRlZ29yaWVzIGFuZCB0aGUgYWN0dWFsXG4gKiBzdHJpbmcgdG8gYmUgZGlzcGxheWVkLiBUaGUgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZSBzaG91bGQgYmUgYSBKU09OIG9iamVjdC5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIGNvbmZpZ3VyZSBuZ1BsdXJhbGl6ZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8bmctcGx1cmFsaXplIGNvdW50PVwicGVyc29uQ291bnRcIlxuICAgICAgICAgICAgICAgICB3aGVuPVwieycwJzogJ05vYm9keSBpcyB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnb25lJzogJzEgcGVyc29uIGlzIHZpZXdpbmcuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICdvdGhlcic6ICd7fSBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cbiAqIDwvbmctcGx1cmFsaXplPlxuICpgYGBcbiAqXG4gKiBJbiB0aGUgZXhhbXBsZSwgYFwiMDogTm9ib2R5IGlzIHZpZXdpbmcuXCJgIGlzIGFuIGV4cGxpY2l0IG51bWJlciBydWxlLiBJZiB5b3UgZGlkIG5vdFxuICogc3BlY2lmeSB0aGlzIHJ1bGUsIDAgd291bGQgYmUgbWF0Y2hlZCB0byB0aGUgXCJvdGhlclwiIGNhdGVnb3J5IGFuZCBcIjAgcGVvcGxlIGFyZSB2aWV3aW5nXCJcbiAqIHdvdWxkIGJlIHNob3duIGluc3RlYWQgb2YgXCJOb2JvZHkgaXMgdmlld2luZ1wiLiBZb3UgY2FuIHNwZWNpZnkgYW4gZXhwbGljaXQgbnVtYmVyIHJ1bGUgZm9yXG4gKiBvdGhlciBudW1iZXJzLCBmb3IgZXhhbXBsZSAxMiwgc28gdGhhdCBpbnN0ZWFkIG9mIHNob3dpbmcgXCIxMiBwZW9wbGUgYXJlIHZpZXdpbmdcIiwgeW91IGNhblxuICogc2hvdyBcImEgZG96ZW4gcGVvcGxlIGFyZSB2aWV3aW5nXCIuXG4gKlxuICogWW91IGNhbiB1c2UgYSBzZXQgb2YgY2xvc2VkIGJyYWNlcyAoYHt9YCkgYXMgYSBwbGFjZWhvbGRlciBmb3IgdGhlIG51bWJlciB0aGF0IHlvdSB3YW50IHN1YnN0aXR1dGVkXG4gKiBpbnRvIHBsdXJhbGl6ZWQgc3RyaW5ncy4gSW4gdGhlIHByZXZpb3VzIGV4YW1wbGUsIEFuZ3VsYXIgd2lsbCByZXBsYWNlIGB7fWAgd2l0aFxuICogPHNwYW4gbmctbm9uLWJpbmRhYmxlPmB7e3BlcnNvbkNvdW50fX1gPC9zcGFuPi4gVGhlIGNsb3NlZCBicmFjZXMgYHt9YCBpcyBhIHBsYWNlaG9sZGVyXG4gKiBmb3IgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7bnVtYmVyRXhwcmVzc2lvbn19PC9zcGFuPi5cbiAqXG4gKiBJZiBubyBydWxlIGlzIGRlZmluZWQgZm9yIGEgY2F0ZWdvcnksIHRoZW4gYW4gZW1wdHkgc3RyaW5nIGlzIGRpc3BsYXllZCBhbmQgYSB3YXJuaW5nIGlzIGdlbmVyYXRlZC5cbiAqIE5vdGUgdGhhdCBzb21lIGxvY2FsZXMgZGVmaW5lIG1vcmUgY2F0ZWdvcmllcyB0aGFuIGBvbmVgIGFuZCBgb3RoZXJgLiBGb3IgZXhhbXBsZSwgZnItZnIgZGVmaW5lcyBgZmV3YCBhbmQgYG1hbnlgLlxuICpcbiAqICMgQ29uZmlndXJpbmcgbmdQbHVyYWxpemUgd2l0aCBvZmZzZXRcbiAqIFRoZSBgb2Zmc2V0YCBhdHRyaWJ1dGUgYWxsb3dzIGZ1cnRoZXIgY3VzdG9taXphdGlvbiBvZiBwbHVyYWxpemVkIHRleHQsIHdoaWNoIGNhbiByZXN1bHQgaW5cbiAqIGEgYmV0dGVyIHVzZXIgZXhwZXJpZW5jZS4gRm9yIGV4YW1wbGUsIGluc3RlYWQgb2YgdGhlIG1lc3NhZ2UgXCI0IHBlb3BsZSBhcmUgdmlld2luZyB0aGlzIGRvY3VtZW50XCIsXG4gKiB5b3UgbWlnaHQgZGlzcGxheSBcIkpvaG4sIEthdGUgYW5kIDIgb3RoZXJzIGFyZSB2aWV3aW5nIHRoaXMgZG9jdW1lbnRcIi5cbiAqIFRoZSBvZmZzZXQgYXR0cmlidXRlIGFsbG93cyB5b3UgdG8gb2Zmc2V0IGEgbnVtYmVyIGJ5IGFueSBkZXNpcmVkIHZhbHVlLlxuICogTGV0J3MgdGFrZSBhIGxvb2sgYXQgYW4gZXhhbXBsZTpcbiAqXG4gKiBgYGBodG1sXG4gKiA8bmctcGx1cmFsaXplIGNvdW50PVwicGVyc29uQ291bnRcIiBvZmZzZXQ9MlxuICogICAgICAgICAgICAgICB3aGVuPVwieycwJzogJ05vYm9keSBpcyB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnMSc6ICd7e3BlcnNvbjF9fSBpcyB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnMic6ICd7e3BlcnNvbjF9fSBhbmQge3twZXJzb24yfX0gYXJlIHZpZXdpbmcuJyxcbiAqICAgICAgICAgICAgICAgICAgICAgICdvbmUnOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCBvbmUgb3RoZXIgcGVyc29uIGFyZSB2aWV3aW5nLicsXG4gKiAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCB7fSBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cbiAqIDwvbmctcGx1cmFsaXplPlxuICogYGBgXG4gKlxuICogTm90aWNlIHRoYXQgd2UgYXJlIHN0aWxsIHVzaW5nIHR3byBwbHVyYWwgY2F0ZWdvcmllcyhvbmUsIG90aGVyKSwgYnV0IHdlIGFkZGVkXG4gKiB0aHJlZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgMCwgMSBhbmQgMi5cbiAqIFdoZW4gb25lIHBlcnNvbiwgcGVyaGFwcyBKb2huLCB2aWV3cyB0aGUgZG9jdW1lbnQsIFwiSm9obiBpcyB2aWV3aW5nXCIgd2lsbCBiZSBzaG93bi5cbiAqIFdoZW4gdGhyZWUgcGVvcGxlIHZpZXcgdGhlIGRvY3VtZW50LCBubyBleHBsaWNpdCBudW1iZXIgcnVsZSBpcyBmb3VuZCwgc29cbiAqIGFuIG9mZnNldCBvZiAyIGlzIHRha2VuIG9mZiAzLCBhbmQgQW5ndWxhciB1c2VzIDEgdG8gZGVjaWRlIHRoZSBwbHVyYWwgY2F0ZWdvcnkuXG4gKiBJbiB0aGlzIGNhc2UsIHBsdXJhbCBjYXRlZ29yeSAnb25lJyBpcyBtYXRjaGVkIGFuZCBcIkpvaG4sIE1hcnkgYW5kIG9uZSBvdGhlciBwZXJzb24gYXJlIHZpZXdpbmdcIlxuICogaXMgc2hvd24uXG4gKlxuICogTm90ZSB0aGF0IHdoZW4geW91IHNwZWNpZnkgb2Zmc2V0cywgeW91IG11c3QgcHJvdmlkZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgZm9yXG4gKiBudW1iZXJzIGZyb20gMCB1cCB0byBhbmQgaW5jbHVkaW5nIHRoZSBvZmZzZXQuIElmIHlvdSB1c2UgYW4gb2Zmc2V0IG9mIDMsIGZvciBleGFtcGxlLFxuICogeW91IG11c3QgcHJvdmlkZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgZm9yIDAsIDEsIDIgYW5kIDMuIFlvdSBtdXN0IGFsc28gcHJvdmlkZSBwbHVyYWwgc3RyaW5ncyBmb3JcbiAqIHBsdXJhbCBjYXRlZ29yaWVzIFwib25lXCIgYW5kIFwib3RoZXJcIi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xleHByZXNzaW9ufSBjb3VudCBUaGUgdmFyaWFibGUgdG8gYmUgYm91bmQgdG8uXG4gKiBAcGFyYW0ge3N0cmluZ30gd2hlbiBUaGUgbWFwcGluZyBiZXR3ZWVuIHBsdXJhbCBjYXRlZ29yeSB0byBpdHMgY29ycmVzcG9uZGluZyBzdHJpbmdzLlxuICogQHBhcmFtIHtudW1iZXI9fSBvZmZzZXQgT2Zmc2V0IHRvIGRlZHVjdCBmcm9tIHRoZSB0b3RhbCBudW1iZXIuXG4gKlxuICogQGV4YW1wbGVcbiAgICA8ZXhhbXBsZSBtb2R1bGU9XCJwbHVyYWxpemVFeGFtcGxlXCI+XG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8c2NyaXB0PlxuICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdwbHVyYWxpemVFeGFtcGxlJywgW10pXG4gICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAkc2NvcGUucGVyc29uMSA9ICdJZ29yJztcbiAgICAgICAgICAgICAgJHNjb3BlLnBlcnNvbjIgPSAnTWlza28nO1xuICAgICAgICAgICAgICAkc2NvcGUucGVyc29uQ291bnQgPSAxO1xuICAgICAgICAgICAgfV0pO1xuICAgICAgICA8L3NjcmlwdD5cbiAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgICA8bGFiZWw+UGVyc29uIDE6PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJwZXJzb24xXCIgdmFsdWU9XCJJZ29yXCIgLz48L2xhYmVsPjxici8+XG4gICAgICAgICAgPGxhYmVsPlBlcnNvbiAyOjxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwicGVyc29uMlwiIHZhbHVlPVwiTWlza29cIiAvPjwvbGFiZWw+PGJyLz5cbiAgICAgICAgICA8bGFiZWw+TnVtYmVyIG9mIFBlb3BsZTo8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInBlcnNvbkNvdW50XCIgdmFsdWU9XCIxXCIgLz48L2xhYmVsPjxici8+XG5cbiAgICAgICAgICA8IS0tLSBFeGFtcGxlIHdpdGggc2ltcGxlIHBsdXJhbGl6YXRpb24gcnVsZXMgZm9yIGVuIGxvY2FsZSAtLS0+XG4gICAgICAgICAgV2l0aG91dCBPZmZzZXQ6XG4gICAgICAgICAgPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb25lJzogJzEgcGVyc29uIGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne30gcGVvcGxlIGFyZSB2aWV3aW5nLid9XCI+XG4gICAgICAgICAgPC9uZy1wbHVyYWxpemU+PGJyPlxuXG4gICAgICAgICAgPCEtLS0gRXhhbXBsZSB3aXRoIG9mZnNldCAtLS0+XG4gICAgICAgICAgV2l0aCBPZmZzZXQoMik6XG4gICAgICAgICAgPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCIgb2Zmc2V0PTJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnMSc6ICd7e3BlcnNvbjF9fSBpcyB2aWV3aW5nLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzInOiAne3twZXJzb24xfX0gYW5kIHt7cGVyc29uMn19IGFyZSB2aWV3aW5nLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29uZSc6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIG9uZSBvdGhlciBwZXJzb24gYXJlIHZpZXdpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCB7fSBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cbiAgICAgICAgICA8L25nLXBsdXJhbGl6ZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2ZpbGU+XG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICAgIGl0KCdzaG91bGQgc2hvdyBjb3JyZWN0IHBsdXJhbGl6ZWQgc3RyaW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHdpdGhvdXRPZmZzZXQgPSBlbGVtZW50LmFsbChieS5jc3MoJ25nLXBsdXJhbGl6ZScpKS5nZXQoMCk7XG4gICAgICAgICAgdmFyIHdpdGhPZmZzZXQgPSBlbGVtZW50LmFsbChieS5jc3MoJ25nLXBsdXJhbGl6ZScpKS5nZXQoMSk7XG4gICAgICAgICAgdmFyIGNvdW50SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb25Db3VudCcpKTtcblxuICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnMSBwZXJzb24gaXMgdmlld2luZy4nKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgaXMgdmlld2luZy4nKTtcblxuICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCcwJyk7XG5cbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ05vYm9keSBpcyB2aWV3aW5nLicpO1xuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnTm9ib2R5IGlzIHZpZXdpbmcuJyk7XG5cbiAgICAgICAgICBjb3VudElucHV0LmNsZWFyKCk7XG4gICAgICAgICAgY291bnRJbnB1dC5zZW5kS2V5cygnMicpO1xuXG4gICAgICAgICAgZXhwZWN0KHdpdGhvdXRPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCcyIHBlb3BsZSBhcmUgdmlld2luZy4nKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgYW5kIE1pc2tvIGFyZSB2aWV3aW5nLicpO1xuXG4gICAgICAgICAgY291bnRJbnB1dC5jbGVhcigpO1xuICAgICAgICAgIGNvdW50SW5wdXQuc2VuZEtleXMoJzMnKTtcblxuICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnMyBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XG4gICAgICAgICAgZXhwZWN0KHdpdGhPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCdJZ29yLCBNaXNrbyBhbmQgb25lIG90aGVyIHBlcnNvbiBhcmUgdmlld2luZy4nKTtcblxuICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTtcbiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCc0Jyk7XG5cbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJzQgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnSWdvciwgTWlza28gYW5kIDIgb3RoZXIgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCBzaG93IGRhdGEtYm91bmQgbmFtZXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgd2l0aE9mZnNldCA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnbmctcGx1cmFsaXplJykpLmdldCgxKTtcbiAgICAgICAgICB2YXIgcGVyc29uQ291bnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb25Db3VudCcpKTtcbiAgICAgICAgICB2YXIgcGVyc29uMSA9IGVsZW1lbnQoYnkubW9kZWwoJ3BlcnNvbjEnKSk7XG4gICAgICAgICAgdmFyIHBlcnNvbjIgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb24yJykpO1xuICAgICAgICAgIHBlcnNvbkNvdW50LmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uQ291bnQuc2VuZEtleXMoJzQnKTtcbiAgICAgICAgICBwZXJzb24xLmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uMS5zZW5kS2V5cygnRGknKTtcbiAgICAgICAgICBwZXJzb24yLmNsZWFyKCk7XG4gICAgICAgICAgcGVyc29uMi5zZW5kS2V5cygnVm9qdGEnKTtcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0RpLCBWb2p0YSBhbmQgMiBvdGhlciBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XG4gICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nUGx1cmFsaXplRGlyZWN0aXZlID0gWyckbG9jYWxlJywgJyRpbnRlcnBvbGF0ZScsICckbG9nJywgZnVuY3Rpb24oJGxvY2FsZSwgJGludGVycG9sYXRlLCAkbG9nKSB7XG4gIHZhciBCUkFDRSA9IC97fS9nLFxuICAgICAgSVNfV0hFTiA9IC9ed2hlbihNaW51cyk/KC4rKSQvO1xuXG4gIHJldHVybiB7XG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHZhciBudW1iZXJFeHAgPSBhdHRyLmNvdW50LFxuICAgICAgICAgIHdoZW5FeHAgPSBhdHRyLiRhdHRyLndoZW4gJiYgZWxlbWVudC5hdHRyKGF0dHIuJGF0dHIud2hlbiksIC8vIHdlIGhhdmUge3t9fSBpbiBhdHRyc1xuICAgICAgICAgIG9mZnNldCA9IGF0dHIub2Zmc2V0IHx8IDAsXG4gICAgICAgICAgd2hlbnMgPSBzY29wZS4kZXZhbCh3aGVuRXhwKSB8fCB7fSxcbiAgICAgICAgICB3aGVuc0V4cEZucyA9IHt9LFxuICAgICAgICAgIHN0YXJ0U3ltYm9sID0gJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCksXG4gICAgICAgICAgZW5kU3ltYm9sID0gJGludGVycG9sYXRlLmVuZFN5bWJvbCgpLFxuICAgICAgICAgIGJyYWNlUmVwbGFjZW1lbnQgPSBzdGFydFN5bWJvbCArIG51bWJlckV4cCArICctJyArIG9mZnNldCArIGVuZFN5bWJvbCxcbiAgICAgICAgICB3YXRjaFJlbW92ZXIgPSBhbmd1bGFyLm5vb3AsXG4gICAgICAgICAgbGFzdENvdW50O1xuXG4gICAgICBmb3JFYWNoKGF0dHIsIGZ1bmN0aW9uKGV4cHJlc3Npb24sIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgdmFyIHRtcE1hdGNoID0gSVNfV0hFTi5leGVjKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICBpZiAodG1wTWF0Y2gpIHtcbiAgICAgICAgICB2YXIgd2hlbktleSA9ICh0bXBNYXRjaFsxXSA/ICctJyA6ICcnKSArIGxvd2VyY2FzZSh0bXBNYXRjaFsyXSk7XG4gICAgICAgICAgd2hlbnNbd2hlbktleV0gPSBlbGVtZW50LmF0dHIoYXR0ci4kYXR0clthdHRyaWJ1dGVOYW1lXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZm9yRWFjaCh3aGVucywgZnVuY3Rpb24oZXhwcmVzc2lvbiwga2V5KSB7XG4gICAgICAgIHdoZW5zRXhwRm5zW2tleV0gPSAkaW50ZXJwb2xhdGUoZXhwcmVzc2lvbi5yZXBsYWNlKEJSQUNFLCBicmFjZVJlcGxhY2VtZW50KSk7XG5cbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS4kd2F0Y2gobnVtYmVyRXhwLCBmdW5jdGlvbiBuZ1BsdXJhbGl6ZVdhdGNoQWN0aW9uKG5ld1ZhbCkge1xuICAgICAgICB2YXIgY291bnQgPSBwYXJzZUZsb2F0KG5ld1ZhbCk7XG4gICAgICAgIHZhciBjb3VudElzTmFOID0gaXNOYU4oY291bnQpO1xuXG4gICAgICAgIGlmICghY291bnRJc05hTiAmJiAhKGNvdW50IGluIHdoZW5zKSkge1xuICAgICAgICAgIC8vIElmIGFuIGV4cGxpY2l0IG51bWJlciBydWxlIHN1Y2ggYXMgMSwgMiwgMy4uLiBpcyBkZWZpbmVkLCBqdXN0IHVzZSBpdC5cbiAgICAgICAgICAvLyBPdGhlcndpc2UsIGNoZWNrIGl0IGFnYWluc3QgcGx1cmFsaXphdGlvbiBydWxlcyBpbiAkbG9jYWxlIHNlcnZpY2UuXG4gICAgICAgICAgY291bnQgPSAkbG9jYWxlLnBsdXJhbENhdChjb3VudCAtIG9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBib3RoIGBjb3VudGAgYW5kIGBsYXN0Q291bnRgIGFyZSBOYU4sIHdlIGRvbid0IG5lZWQgdG8gcmUtcmVnaXN0ZXIgYSB3YXRjaC5cbiAgICAgICAgLy8gSW4gSlMgYE5hTiAhPT0gTmFOYCwgc28gd2UgaGF2ZSB0byBleGxpY2l0bHkgY2hlY2suXG4gICAgICAgIGlmICgoY291bnQgIT09IGxhc3RDb3VudCkgJiYgIShjb3VudElzTmFOICYmIGlzTnVtYmVyKGxhc3RDb3VudCkgJiYgaXNOYU4obGFzdENvdW50KSkpIHtcbiAgICAgICAgICB3YXRjaFJlbW92ZXIoKTtcbiAgICAgICAgICB2YXIgd2hlbkV4cEZuID0gd2hlbnNFeHBGbnNbY291bnRdO1xuICAgICAgICAgIGlmIChpc1VuZGVmaW5lZCh3aGVuRXhwRm4pKSB7XG4gICAgICAgICAgICBpZiAobmV3VmFsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgJGxvZy5kZWJ1ZyhcIm5nUGx1cmFsaXplOiBubyBydWxlIGRlZmluZWQgZm9yICdcIiArIGNvdW50ICsgXCInIGluIFwiICsgd2hlbkV4cCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3YXRjaFJlbW92ZXIgPSBub29wO1xuICAgICAgICAgICAgdXBkYXRlRWxlbWVudFRleHQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2F0Y2hSZW1vdmVyID0gc2NvcGUuJHdhdGNoKHdoZW5FeHBGbiwgdXBkYXRlRWxlbWVudFRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsYXN0Q291bnQgPSBjb3VudDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUVsZW1lbnRUZXh0KG5ld1RleHQpIHtcbiAgICAgICAgZWxlbWVudC50ZXh0KG5ld1RleHQgfHwgJycpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1dO1xuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIG5nUmVwZWF0XG4gKiBAbXVsdGlFbGVtZW50XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nUmVwZWF0YCBkaXJlY3RpdmUgaW5zdGFudGlhdGVzIGEgdGVtcGxhdGUgb25jZSBwZXIgaXRlbSBmcm9tIGEgY29sbGVjdGlvbi4gRWFjaCB0ZW1wbGF0ZVxuICogaW5zdGFuY2UgZ2V0cyBpdHMgb3duIHNjb3BlLCB3aGVyZSB0aGUgZ2l2ZW4gbG9vcCB2YXJpYWJsZSBpcyBzZXQgdG8gdGhlIGN1cnJlbnQgY29sbGVjdGlvbiBpdGVtLFxuICogYW5kIGAkaW5kZXhgIGlzIHNldCB0byB0aGUgaXRlbSBpbmRleCBvciBrZXkuXG4gKlxuICogU3BlY2lhbCBwcm9wZXJ0aWVzIGFyZSBleHBvc2VkIG9uIHRoZSBsb2NhbCBzY29wZSBvZiBlYWNoIHRlbXBsYXRlIGluc3RhbmNlLCBpbmNsdWRpbmc6XG4gKlxuICogfCBWYXJpYWJsZSAgfCBUeXBlICAgICAgICAgICAgfCBEZXRhaWxzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfC0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICogfCBgJGluZGV4YCAgfCB7QHR5cGUgbnVtYmVyfSAgfCBpdGVyYXRvciBvZmZzZXQgb2YgdGhlIHJlcGVhdGVkIGVsZW1lbnQgKDAuLmxlbmd0aC0xKSAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCBgJGZpcnN0YCAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSByZXBlYXRlZCBlbGVtZW50IGlzIGZpcnN0IGluIHRoZSBpdGVyYXRvci4gICAgICAgICAgICAgICAgICAgICAgfFxuICogfCBgJG1pZGRsZWAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSByZXBlYXRlZCBlbGVtZW50IGlzIGJldHdlZW4gdGhlIGZpcnN0IGFuZCBsYXN0IGluIHRoZSBpdGVyYXRvci4gfFxuICogfCBgJGxhc3RgICAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSByZXBlYXRlZCBlbGVtZW50IGlzIGxhc3QgaW4gdGhlIGl0ZXJhdG9yLiAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCBgJGV2ZW5gICAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSBpdGVyYXRvciBwb3NpdGlvbiBgJGluZGV4YCBpcyBldmVuIChvdGhlcndpc2UgZmFsc2UpLiAgICAgICAgICAgfFxuICogfCBgJG9kZGAgICAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSBpdGVyYXRvciBwb3NpdGlvbiBgJGluZGV4YCBpcyBvZGQgKG90aGVyd2lzZSBmYWxzZSkuICAgICAgICAgICAgfFxuICpcbiAqIENyZWF0aW5nIGFsaWFzZXMgZm9yIHRoZXNlIHByb3BlcnRpZXMgaXMgcG9zc2libGUgd2l0aCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nSW5pdCBgbmdJbml0YH0uXG4gKiBUaGlzIG1heSBiZSB1c2VmdWwgd2hlbiwgZm9yIGluc3RhbmNlLCBuZXN0aW5nIG5nUmVwZWF0cy5cbiAqXG4gKlxuICogIyBJdGVyYXRpbmcgb3ZlciBvYmplY3QgcHJvcGVydGllc1xuICpcbiAqIEl0IGlzIHBvc3NpYmxlIHRvIGdldCBgbmdSZXBlYXRgIHRvIGl0ZXJhdGUgb3ZlciB0aGUgcHJvcGVydGllcyBvZiBhbiBvYmplY3QgdXNpbmcgdGhlIGZvbGxvd2luZ1xuICogc3ludGF4OlxuICpcbiAqIGBgYGpzXG4gKiA8ZGl2IG5nLXJlcGVhdD1cIihrZXksIHZhbHVlKSBpbiBteU9ialwiPiAuLi4gPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBZb3UgbmVlZCB0byBiZSBhd2FyZSB0aGF0IHRoZSBKYXZhU2NyaXB0IHNwZWNpZmljYXRpb24gZG9lcyBub3QgZGVmaW5lIHRoZSBvcmRlciBvZiBrZXlzXG4gKiByZXR1cm5lZCBmb3IgYW4gb2JqZWN0LiAoVG8gbWl0aWdhdGUgdGhpcyBpbiBBbmd1bGFyIDEuMyB0aGUgYG5nUmVwZWF0YCBkaXJlY3RpdmVcbiAqIHVzZWQgdG8gc29ydCB0aGUga2V5cyBhbHBoYWJldGljYWxseS4pXG4gKlxuICogVmVyc2lvbiAxLjQgcmVtb3ZlZCB0aGUgYWxwaGFiZXRpYyBzb3J0aW5nLiBXZSBub3cgcmVseSBvbiB0aGUgb3JkZXIgcmV0dXJuZWQgYnkgdGhlIGJyb3dzZXJcbiAqIHdoZW4gcnVubmluZyBgZm9yIGtleSBpbiBteU9iamAuIEl0IHNlZW1zIHRoYXQgYnJvd3NlcnMgZ2VuZXJhbGx5IGZvbGxvdyB0aGUgc3RyYXRlZ3kgb2YgcHJvdmlkaW5nXG4gKiBrZXlzIGluIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IHdlcmUgZGVmaW5lZCwgYWx0aG91Z2ggdGhlcmUgYXJlIGV4Y2VwdGlvbnMgd2hlbiBrZXlzIGFyZSBkZWxldGVkXG4gKiBhbmQgcmVpbnN0YXRlZC4gU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL09wZXJhdG9ycy9kZWxldGUjQ3Jvc3MtYnJvd3Nlcl9pc3N1ZXNcbiAqXG4gKiBJZiB0aGlzIGlzIG5vdCBkZXNpcmVkLCB0aGUgcmVjb21tZW5kZWQgd29ya2Fyb3VuZCBpcyB0byBjb252ZXJ0IHlvdXIgb2JqZWN0IGludG8gYW4gYXJyYXlcbiAqIHRoYXQgaXMgc29ydGVkIGludG8gdGhlIG9yZGVyIHRoYXQgeW91IHByZWZlciBiZWZvcmUgcHJvdmlkaW5nIGl0IHRvIGBuZ1JlcGVhdGAuICBZb3UgY291bGRcbiAqIGRvIHRoaXMgd2l0aCBhIGZpbHRlciBzdWNoIGFzIFt0b0FycmF5RmlsdGVyXShodHRwOi8vbmdtb2R1bGVzLm9yZy9tb2R1bGVzL2FuZ3VsYXItdG9BcnJheUZpbHRlcilcbiAqIG9yIGltcGxlbWVudCBhIGAkd2F0Y2hgIG9uIHRoZSBvYmplY3QgeW91cnNlbGYuXG4gKlxuICpcbiAqICMgVHJhY2tpbmcgYW5kIER1cGxpY2F0ZXNcbiAqXG4gKiBXaGVuIHRoZSBjb250ZW50cyBvZiB0aGUgY29sbGVjdGlvbiBjaGFuZ2UsIGBuZ1JlcGVhdGAgbWFrZXMgdGhlIGNvcnJlc3BvbmRpbmcgY2hhbmdlcyB0byB0aGUgRE9NOlxuICpcbiAqICogV2hlbiBhbiBpdGVtIGlzIGFkZGVkLCBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgdGVtcGxhdGUgaXMgYWRkZWQgdG8gdGhlIERPTS5cbiAqICogV2hlbiBhbiBpdGVtIGlzIHJlbW92ZWQsIGl0cyB0ZW1wbGF0ZSBpbnN0YW5jZSBpcyByZW1vdmVkIGZyb20gdGhlIERPTS5cbiAqICogV2hlbiBpdGVtcyBhcmUgcmVvcmRlcmVkLCB0aGVpciByZXNwZWN0aXZlIHRlbXBsYXRlcyBhcmUgcmVvcmRlcmVkIGluIHRoZSBET00uXG4gKlxuICogQnkgZGVmYXVsdCwgYG5nUmVwZWF0YCBkb2VzIG5vdCBhbGxvdyBkdXBsaWNhdGUgaXRlbXMgaW4gYXJyYXlzLiBUaGlzIGlzIGJlY2F1c2Ugd2hlblxuICogdGhlcmUgYXJlIGR1cGxpY2F0ZXMsIGl0IGlzIG5vdCBwb3NzaWJsZSB0byBtYWludGFpbiBhIG9uZS10by1vbmUgbWFwcGluZyBiZXR3ZWVuIGNvbGxlY3Rpb25cbiAqIGl0ZW1zIGFuZCBET00gZWxlbWVudHMuXG4gKlxuICogSWYgeW91IGRvIG5lZWQgdG8gcmVwZWF0IGR1cGxpY2F0ZSBpdGVtcywgeW91IGNhbiBzdWJzdGl0dXRlIHRoZSBkZWZhdWx0IHRyYWNraW5nIGJlaGF2aW9yXG4gKiB3aXRoIHlvdXIgb3duIHVzaW5nIHRoZSBgdHJhY2sgYnlgIGV4cHJlc3Npb24uXG4gKlxuICogRm9yIGV4YW1wbGUsIHlvdSBtYXkgdHJhY2sgaXRlbXMgYnkgdGhlIGluZGV4IG9mIGVhY2ggaXRlbSBpbiB0aGUgY29sbGVjdGlvbiwgdXNpbmcgdGhlXG4gKiBzcGVjaWFsIHNjb3BlIHByb3BlcnR5IGAkaW5kZXhgOlxuICogYGBgaHRtbFxuICogICAgPGRpdiBuZy1yZXBlYXQ9XCJuIGluIFs0MiwgNDIsIDQzLCA0M10gdHJhY2sgYnkgJGluZGV4XCI+XG4gKiAgICAgIHt7bn19XG4gKiAgICA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFlvdSBtYXkgdXNlIGFyYml0cmFyeSBleHByZXNzaW9ucyBpbiBgdHJhY2sgYnlgLCBpbmNsdWRpbmcgcmVmZXJlbmNlcyB0byBjdXN0b20gZnVuY3Rpb25zXG4gKiBvbiB0aGUgc2NvcGU6XG4gKiBgYGBodG1sXG4gKiAgICA8ZGl2IG5nLXJlcGVhdD1cIm4gaW4gWzQyLCA0MiwgNDMsIDQzXSB0cmFjayBieSBteVRyYWNraW5nRnVuY3Rpb24obilcIj5cbiAqICAgICAge3tufX1cbiAqICAgIDwvZGl2PlxuICogYGBgXG4gKlxuICogSWYgeW91IGFyZSB3b3JraW5nIHdpdGggb2JqZWN0cyB0aGF0IGhhdmUgYW4gaWRlbnRpZmllciBwcm9wZXJ0eSwgeW91IGNhbiB0cmFja1xuICogYnkgdGhlIGlkZW50aWZpZXIgaW5zdGVhZCBvZiB0aGUgd2hvbGUgb2JqZWN0LiBTaG91bGQgeW91IHJlbG9hZCB5b3VyIGRhdGEgbGF0ZXIsIGBuZ1JlcGVhdGBcbiAqIHdpbGwgbm90IGhhdmUgdG8gcmVidWlsZCB0aGUgRE9NIGVsZW1lbnRzIGZvciBpdGVtcyBpdCBoYXMgYWxyZWFkeSByZW5kZXJlZCwgZXZlbiBpZiB0aGVcbiAqIEphdmFTY3JpcHQgb2JqZWN0cyBpbiB0aGUgY29sbGVjdGlvbiBoYXZlIGJlZW4gc3Vic3RpdHV0ZWQgZm9yIG5ldyBvbmVzOlxuICogYGBgaHRtbFxuICogICAgPGRpdiBuZy1yZXBlYXQ9XCJtb2RlbCBpbiBjb2xsZWN0aW9uIHRyYWNrIGJ5IG1vZGVsLmlkXCI+XG4gKiAgICAgIHt7bW9kZWwubmFtZX19XG4gKiAgICA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIFdoZW4gbm8gYHRyYWNrIGJ5YCBleHByZXNzaW9uIGlzIHByb3ZpZGVkLCBpdCBpcyBlcXVpdmFsZW50IHRvIHRyYWNraW5nIGJ5IHRoZSBidWlsdC1pblxuICogYCRpZGAgZnVuY3Rpb24sIHdoaWNoIHRyYWNrcyBpdGVtcyBieSB0aGVpciBpZGVudGl0eTpcbiAqIGBgYGh0bWxcbiAqICAgIDxkaXYgbmctcmVwZWF0PVwib2JqIGluIGNvbGxlY3Rpb24gdHJhY2sgYnkgJGlkKG9iailcIj5cbiAqICAgICAge3tvYmoucHJvcH19XG4gKiAgICA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gKiAqKk5vdGU6KiogYHRyYWNrIGJ5YCBtdXN0IGFsd2F5cyBiZSB0aGUgbGFzdCBleHByZXNzaW9uOlxuICogPC9kaXY+XG4gKiBgYGBcbiAqIDxkaXYgbmctcmVwZWF0PVwibW9kZWwgaW4gY29sbGVjdGlvbiB8IG9yZGVyQnk6ICdpZCcgYXMgZmlsdGVyZWRfcmVzdWx0IHRyYWNrIGJ5IG1vZGVsLmlkXCI+XG4gKiAgICAge3ttb2RlbC5uYW1lfX1cbiAqIDwvZGl2PlxuICogYGBgXG4gKlxuICogIyBTcGVjaWFsIHJlcGVhdCBzdGFydCBhbmQgZW5kIHBvaW50c1xuICogVG8gcmVwZWF0IGEgc2VyaWVzIG9mIGVsZW1lbnRzIGluc3RlYWQgb2YganVzdCBvbmUgcGFyZW50IGVsZW1lbnQsIG5nUmVwZWF0IChhcyB3ZWxsIGFzIG90aGVyIG5nIGRpcmVjdGl2ZXMpIHN1cHBvcnRzIGV4dGVuZGluZ1xuICogdGhlIHJhbmdlIG9mIHRoZSByZXBlYXRlciBieSBkZWZpbmluZyBleHBsaWNpdCBzdGFydCBhbmQgZW5kIHBvaW50cyBieSB1c2luZyAqKm5nLXJlcGVhdC1zdGFydCoqIGFuZCAqKm5nLXJlcGVhdC1lbmQqKiByZXNwZWN0aXZlbHkuXG4gKiBUaGUgKipuZy1yZXBlYXQtc3RhcnQqKiBkaXJlY3RpdmUgd29ya3MgdGhlIHNhbWUgYXMgKipuZy1yZXBlYXQqKiwgYnV0IHdpbGwgcmVwZWF0IGFsbCB0aGUgSFRNTCBjb2RlIChpbmNsdWRpbmcgdGhlIHRhZyBpdCdzIGRlZmluZWQgb24pXG4gKiB1cCB0byBhbmQgaW5jbHVkaW5nIHRoZSBlbmRpbmcgSFRNTCB0YWcgd2hlcmUgKipuZy1yZXBlYXQtZW5kKiogaXMgcGxhY2VkLlxuICpcbiAqIFRoZSBleGFtcGxlIGJlbG93IG1ha2VzIHVzZSBvZiB0aGlzIGZlYXR1cmU6XG4gKiBgYGBodG1sXG4gKiAgIDxoZWFkZXIgbmctcmVwZWF0LXN0YXJ0PVwiaXRlbSBpbiBpdGVtc1wiPlxuICogICAgIEhlYWRlciB7eyBpdGVtIH19XG4gKiAgIDwvaGVhZGVyPlxuICogICA8ZGl2IGNsYXNzPVwiYm9keVwiPlxuICogICAgIEJvZHkge3sgaXRlbSB9fVxuICogICA8L2Rpdj5cbiAqICAgPGZvb3RlciBuZy1yZXBlYXQtZW5kPlxuICogICAgIEZvb3RlciB7eyBpdGVtIH19XG4gKiAgIDwvZm9vdGVyPlxuICogYGBgXG4gKlxuICogQW5kIHdpdGggYW4gaW5wdXQgb2Yge0B0eXBlIFsnQScsJ0InXX0gZm9yIHRoZSBpdGVtcyB2YXJpYWJsZSBpbiB0aGUgZXhhbXBsZSBhYm92ZSwgdGhlIG91dHB1dCB3aWxsIGV2YWx1YXRlIHRvOlxuICogYGBgaHRtbFxuICogICA8aGVhZGVyPlxuICogICAgIEhlYWRlciBBXG4gKiAgIDwvaGVhZGVyPlxuICogICA8ZGl2IGNsYXNzPVwiYm9keVwiPlxuICogICAgIEJvZHkgQVxuICogICA8L2Rpdj5cbiAqICAgPGZvb3Rlcj5cbiAqICAgICBGb290ZXIgQVxuICogICA8L2Zvb3Rlcj5cbiAqICAgPGhlYWRlcj5cbiAqICAgICBIZWFkZXIgQlxuICogICA8L2hlYWRlcj5cbiAqICAgPGRpdiBjbGFzcz1cImJvZHlcIj5cbiAqICAgICBCb2R5IEJcbiAqICAgPC9kaXY+XG4gKiAgIDxmb290ZXI+XG4gKiAgICAgRm9vdGVyIEJcbiAqICAgPC9mb290ZXI+XG4gKiBgYGBcbiAqXG4gKiBUaGUgY3VzdG9tIHN0YXJ0IGFuZCBlbmQgcG9pbnRzIGZvciBuZ1JlcGVhdCBhbHNvIHN1cHBvcnQgYWxsIG90aGVyIEhUTUwgZGlyZWN0aXZlIHN5bnRheCBmbGF2b3JzIHByb3ZpZGVkIGluIEFuZ3VsYXJKUyAoc3VjaFxuICogYXMgKipkYXRhLW5nLXJlcGVhdC1zdGFydCoqLCAqKngtbmctcmVwZWF0LXN0YXJ0KiogYW5kICoqbmc6cmVwZWF0LXN0YXJ0KiopLlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiAqKi5lbnRlcioqIC0gd2hlbiBhIG5ldyBpdGVtIGlzIGFkZGVkIHRvIHRoZSBsaXN0IG9yIHdoZW4gYW4gaXRlbSBpcyByZXZlYWxlZCBhZnRlciBhIGZpbHRlclxuICpcbiAqICoqLmxlYXZlKiogLSB3aGVuIGFuIGl0ZW0gaXMgcmVtb3ZlZCBmcm9tIHRoZSBsaXN0IG9yIHdoZW4gYW4gaXRlbSBpcyBmaWx0ZXJlZCBvdXRcbiAqXG4gKiAqKi5tb3ZlKiogLSB3aGVuIGFuIGFkamFjZW50IGl0ZW0gaXMgZmlsdGVyZWQgb3V0IGNhdXNpbmcgYSByZW9yZGVyIG9yIHdoZW4gdGhlIGl0ZW0gY29udGVudHMgYXJlIHJlb3JkZXJlZFxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHNjb3BlXG4gKiBAcHJpb3JpdHkgMTAwMFxuICogQHBhcmFtIHtyZXBlYXRfZXhwcmVzc2lvbn0gbmdSZXBlYXQgVGhlIGV4cHJlc3Npb24gaW5kaWNhdGluZyBob3cgdG8gZW51bWVyYXRlIGEgY29sbGVjdGlvbi4gVGhlc2VcbiAqICAgZm9ybWF0cyBhcmUgY3VycmVudGx5IHN1cHBvcnRlZDpcbiAqXG4gKiAgICogYHZhcmlhYmxlIGluIGV4cHJlc3Npb25gIOKAkyB3aGVyZSB2YXJpYWJsZSBpcyB0aGUgdXNlciBkZWZpbmVkIGxvb3AgdmFyaWFibGUgYW5kIGBleHByZXNzaW9uYFxuICogICAgIGlzIGEgc2NvcGUgZXhwcmVzc2lvbiBnaXZpbmcgdGhlIGNvbGxlY3Rpb24gdG8gZW51bWVyYXRlLlxuICpcbiAqICAgICBGb3IgZXhhbXBsZTogYGFsYnVtIGluIGFydGlzdC5hbGJ1bXNgLlxuICpcbiAqICAgKiBgKGtleSwgdmFsdWUpIGluIGV4cHJlc3Npb25gIOKAkyB3aGVyZSBga2V5YCBhbmQgYHZhbHVlYCBjYW4gYmUgYW55IHVzZXIgZGVmaW5lZCBpZGVudGlmaWVycyxcbiAqICAgICBhbmQgYGV4cHJlc3Npb25gIGlzIHRoZSBzY29wZSBleHByZXNzaW9uIGdpdmluZyB0aGUgY29sbGVjdGlvbiB0byBlbnVtZXJhdGUuXG4gKlxuICogICAgIEZvciBleGFtcGxlOiBgKG5hbWUsIGFnZSkgaW4geydhZGFtJzoxMCwgJ2FtYWxpZSc6MTJ9YC5cbiAqXG4gKiAgICogYHZhcmlhYmxlIGluIGV4cHJlc3Npb24gdHJhY2sgYnkgdHJhY2tpbmdfZXhwcmVzc2lvbmAg4oCTIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIG9wdGlvbmFsIHRyYWNraW5nIGV4cHJlc3Npb25cbiAqICAgICB3aGljaCBjYW4gYmUgdXNlZCB0byBhc3NvY2lhdGUgdGhlIG9iamVjdHMgaW4gdGhlIGNvbGxlY3Rpb24gd2l0aCB0aGUgRE9NIGVsZW1lbnRzLiBJZiBubyB0cmFja2luZyBleHByZXNzaW9uXG4gKiAgICAgaXMgc3BlY2lmaWVkLCBuZy1yZXBlYXQgYXNzb2NpYXRlcyBlbGVtZW50cyBieSBpZGVudGl0eS4gSXQgaXMgYW4gZXJyb3IgdG8gaGF2ZVxuICogICAgIG1vcmUgdGhhbiBvbmUgdHJhY2tpbmcgZXhwcmVzc2lvbiB2YWx1ZSByZXNvbHZlIHRvIHRoZSBzYW1lIGtleS4gKFRoaXMgd291bGQgbWVhbiB0aGF0IHR3byBkaXN0aW5jdCBvYmplY3RzIGFyZVxuICogICAgIG1hcHBlZCB0byB0aGUgc2FtZSBET00gZWxlbWVudCwgd2hpY2ggaXMgbm90IHBvc3NpYmxlLilcbiAqXG4gKiAgICAgTm90ZSB0aGF0IHRoZSB0cmFja2luZyBleHByZXNzaW9uIG11c3QgY29tZSBsYXN0LCBhZnRlciBhbnkgZmlsdGVycywgYW5kIHRoZSBhbGlhcyBleHByZXNzaW9uLlxuICpcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXNgIGlzIGVxdWl2YWxlbnQgdG8gYGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgJGlkKGl0ZW0pYC4gVGhpcyBpbXBsaWVzIHRoYXQgdGhlIERPTSBlbGVtZW50c1xuICogICAgIHdpbGwgYmUgYXNzb2NpYXRlZCBieSBpdGVtIGlkZW50aXR5IGluIHRoZSBhcnJheS5cbiAqXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHRyYWNrIGJ5ICRpZChpdGVtKWAuIEEgYnVpbHQgaW4gYCRpZCgpYCBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBhc3NpZ24gYSB1bmlxdWVcbiAqICAgICBgJCRoYXNoS2V5YCBwcm9wZXJ0eSB0byBlYWNoIGl0ZW0gaW4gdGhlIGFycmF5LiBUaGlzIHByb3BlcnR5IGlzIHRoZW4gdXNlZCBhcyBhIGtleSB0byBhc3NvY2lhdGVkIERPTSBlbGVtZW50c1xuICogICAgIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgaXRlbSBpbiB0aGUgYXJyYXkgYnkgaWRlbnRpdHkuIE1vdmluZyB0aGUgc2FtZSBvYmplY3QgaW4gYXJyYXkgd291bGQgbW92ZSB0aGUgRE9NXG4gKiAgICAgZWxlbWVudCBpbiB0aGUgc2FtZSB3YXkgaW4gdGhlIERPTS5cbiAqXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHRyYWNrIGJ5IGl0ZW0uaWRgIGlzIGEgdHlwaWNhbCBwYXR0ZXJuIHdoZW4gdGhlIGl0ZW1zIGNvbWUgZnJvbSB0aGUgZGF0YWJhc2UuIEluIHRoaXNcbiAqICAgICBjYXNlIHRoZSBvYmplY3QgaWRlbnRpdHkgZG9lcyBub3QgbWF0dGVyLiBUd28gb2JqZWN0cyBhcmUgY29uc2lkZXJlZCBlcXVpdmFsZW50IGFzIGxvbmcgYXMgdGhlaXIgYGlkYFxuICogICAgIHByb3BlcnR5IGlzIHNhbWUuXG4gKlxuICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtcyB8IGZpbHRlcjpzZWFyY2hUZXh0IHRyYWNrIGJ5IGl0ZW0uaWRgIGlzIGEgcGF0dGVybiB0aGF0IG1pZ2h0IGJlIHVzZWQgdG8gYXBwbHkgYSBmaWx0ZXJcbiAqICAgICB0byBpdGVtcyBpbiBjb25qdW5jdGlvbiB3aXRoIGEgdHJhY2tpbmcgZXhwcmVzc2lvbi5cbiAqXG4gKiAgICogYHZhcmlhYmxlIGluIGV4cHJlc3Npb24gYXMgYWxpYXNfZXhwcmVzc2lvbmAg4oCTIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIG9wdGlvbmFsIGFsaWFzIGV4cHJlc3Npb24gd2hpY2ggd2lsbCB0aGVuIHN0b3JlIHRoZVxuICogICAgIGludGVybWVkaWF0ZSByZXN1bHRzIG9mIHRoZSByZXBlYXRlciBhZnRlciB0aGUgZmlsdGVycyBoYXZlIGJlZW4gYXBwbGllZC4gVHlwaWNhbGx5IHRoaXMgaXMgdXNlZCB0byByZW5kZXIgYSBzcGVjaWFsIG1lc3NhZ2VcbiAqICAgICB3aGVuIGEgZmlsdGVyIGlzIGFjdGl2ZSBvbiB0aGUgcmVwZWF0ZXIsIGJ1dCB0aGUgZmlsdGVyZWQgcmVzdWx0IHNldCBpcyBlbXB0eS5cbiAqXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHwgZmlsdGVyOnggYXMgcmVzdWx0c2Agd2lsbCBzdG9yZSB0aGUgZnJhZ21lbnQgb2YgdGhlIHJlcGVhdGVkIGl0ZW1zIGFzIGByZXN1bHRzYCwgYnV0IG9ubHkgYWZ0ZXJcbiAqICAgICB0aGUgaXRlbXMgaGF2ZSBiZWVuIHByb2Nlc3NlZCB0aHJvdWdoIHRoZSBmaWx0ZXIuXG4gKlxuICogICAgIFBsZWFzZSBub3RlIHRoYXQgYGFzIFt2YXJpYWJsZSBuYW1lXSBpcyBub3QgYW4gb3BlcmF0b3IgYnV0IHJhdGhlciBhIHBhcnQgb2YgbmdSZXBlYXQgbWljcm8tc3ludGF4IHNvIGl0IGNhbiBiZSB1c2VkIG9ubHkgYXQgdGhlIGVuZFxuICogICAgIChhbmQgbm90IGFzIG9wZXJhdG9yLCBpbnNpZGUgYW4gZXhwcmVzc2lvbikuXG4gKlxuICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtcyB8IGZpbHRlciA6IHggfCBvcmRlckJ5IDogb3JkZXIgfCBsaW1pdFRvIDogbGltaXQgYXMgcmVzdWx0c2AgLlxuICpcbiAqIEBleGFtcGxlXG4gKiBUaGlzIGV4YW1wbGUgaW5pdGlhbGl6ZXMgdGhlIHNjb3BlIHRvIGEgbGlzdCBvZiBuYW1lcyBhbmRcbiAqIHRoZW4gdXNlcyBgbmdSZXBlYXRgIHRvIGRpc3BsYXkgZXZlcnkgcGVyc29uOlxuICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FuaW1hdGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1pbml0PVwiZnJpZW5kcyA9IFtcbiAgICAgICAge25hbWU6J0pvaG4nLCBhZ2U6MjUsIGdlbmRlcjonYm95J30sXG4gICAgICAgIHtuYW1lOidKZXNzaWUnLCBhZ2U6MzAsIGdlbmRlcjonZ2lybCd9LFxuICAgICAgICB7bmFtZTonSm9oYW5uYScsIGFnZToyOCwgZ2VuZGVyOidnaXJsJ30sXG4gICAgICAgIHtuYW1lOidKb3knLCBhZ2U6MTUsIGdlbmRlcjonZ2lybCd9LFxuICAgICAgICB7bmFtZTonTWFyeScsIGFnZToyOCwgZ2VuZGVyOidnaXJsJ30sXG4gICAgICAgIHtuYW1lOidQZXRlcicsIGFnZTo5NSwgZ2VuZGVyOidib3knfSxcbiAgICAgICAge25hbWU6J1NlYmFzdGlhbicsIGFnZTo1MCwgZ2VuZGVyOidib3knfSxcbiAgICAgICAge25hbWU6J0VyaWthJywgYWdlOjI3LCBnZW5kZXI6J2dpcmwnfSxcbiAgICAgICAge25hbWU6J1BhdHJpY2snLCBhZ2U6NDAsIGdlbmRlcjonYm95J30sXG4gICAgICAgIHtuYW1lOidTYW1hbnRoYScsIGFnZTo2MCwgZ2VuZGVyOidnaXJsJ31cbiAgICAgIF1cIj5cbiAgICAgICAgSSBoYXZlIHt7ZnJpZW5kcy5sZW5ndGh9fSBmcmllbmRzLiBUaGV5IGFyZTpcbiAgICAgICAgPGlucHV0IHR5cGU9XCJzZWFyY2hcIiBuZy1tb2RlbD1cInFcIiBwbGFjZWhvbGRlcj1cImZpbHRlciBmcmllbmRzLi4uXCIgYXJpYS1sYWJlbD1cImZpbHRlciBmcmllbmRzXCIgLz5cbiAgICAgICAgPHVsIGNsYXNzPVwiZXhhbXBsZS1hbmltYXRlLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxsaSBjbGFzcz1cImFuaW1hdGUtcmVwZWF0XCIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgfCBmaWx0ZXI6cSBhcyByZXN1bHRzXCI+XG4gICAgICAgICAgICBbe3skaW5kZXggKyAxfX1dIHt7ZnJpZW5kLm5hbWV9fSB3aG8gaXMge3tmcmllbmQuYWdlfX0geWVhcnMgb2xkLlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgPGxpIGNsYXNzPVwiYW5pbWF0ZS1yZXBlYXRcIiBuZy1pZj1cInJlc3VsdHMubGVuZ3RoID09IDBcIj5cbiAgICAgICAgICAgIDxzdHJvbmc+Tm8gcmVzdWx0cyBmb3VuZC4uLjwvc3Ryb25nPlxuICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XG4gICAgICAuZXhhbXBsZS1hbmltYXRlLWNvbnRhaW5lciB7XG4gICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XG4gICAgICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7XG4gICAgICAgIGxpc3Qtc3R5bGU6bm9uZTtcbiAgICAgICAgbWFyZ2luOjA7XG4gICAgICAgIHBhZGRpbmc6MCAxMHB4O1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQge1xuICAgICAgICBsaW5lLWhlaWdodDo0MHB4O1xuICAgICAgICBsaXN0LXN0eWxlOm5vbmU7XG4gICAgICAgIGJveC1zaXppbmc6Ym9yZGVyLWJveDtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLW1vdmUsXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctZW50ZXIsXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbGVhdmUge1xuICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xuICAgICAgICB0cmFuc2l0aW9uOmFsbCBsaW5lYXIgMC41cztcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSxcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1tb3ZlLFxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWVudGVyIHtcbiAgICAgICAgb3BhY2l0eTowO1xuICAgICAgICBtYXgtaGVpZ2h0OjA7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1sZWF2ZSxcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1tb3ZlLm5nLW1vdmUtYWN0aXZlLFxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7XG4gICAgICAgIG9wYWNpdHk6MTtcbiAgICAgICAgbWF4LWhlaWdodDo0MHB4O1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgZnJpZW5kcyA9IGVsZW1lbnQuYWxsKGJ5LnJlcGVhdGVyKCdmcmllbmQgaW4gZnJpZW5kcycpKTtcblxuICAgICAgaXQoJ3Nob3VsZCByZW5kZXIgaW5pdGlhbCBkYXRhIHNldCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QoZnJpZW5kcy5jb3VudCgpKS50b0JlKDEwKTtcbiAgICAgICAgZXhwZWN0KGZyaWVuZHMuZ2V0KDApLmdldFRleHQoKSkudG9FcXVhbCgnWzFdIEpvaG4gd2hvIGlzIDI1IHllYXJzIG9sZC4nKTtcbiAgICAgICAgZXhwZWN0KGZyaWVuZHMuZ2V0KDEpLmdldFRleHQoKSkudG9FcXVhbCgnWzJdIEplc3NpZSB3aG8gaXMgMzAgeWVhcnMgb2xkLicpO1xuICAgICAgICBleHBlY3QoZnJpZW5kcy5sYXN0KCkuZ2V0VGV4dCgpKS50b0VxdWFsKCdbMTBdIFNhbWFudGhhIHdobyBpcyA2MCB5ZWFycyBvbGQuJyk7XG4gICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2ZyaWVuZHMubGVuZ3RoJykpLmdldFRleHQoKSlcbiAgICAgICAgICAgIC50b01hdGNoKFwiSSBoYXZlIDEwIGZyaWVuZHMuIFRoZXkgYXJlOlwiKTtcbiAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUgcmVwZWF0ZXIgd2hlbiBmaWx0ZXIgcHJlZGljYXRlIGNoYW5nZXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChmcmllbmRzLmNvdW50KCkpLnRvQmUoMTApO1xuXG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdxJykpLnNlbmRLZXlzKCdtYScpO1xuXG4gICAgICAgICBleHBlY3QoZnJpZW5kcy5jb3VudCgpKS50b0JlKDIpO1xuICAgICAgICAgZXhwZWN0KGZyaWVuZHMuZ2V0KDApLmdldFRleHQoKSkudG9FcXVhbCgnWzFdIE1hcnkgd2hvIGlzIDI4IHllYXJzIG9sZC4nKTtcbiAgICAgICAgIGV4cGVjdChmcmllbmRzLmxhc3QoKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1syXSBTYW1hbnRoYSB3aG8gaXMgNjAgeWVhcnMgb2xkLicpO1xuICAgICAgIH0pO1xuICAgICAgPC9maWxlPlxuICAgIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nUmVwZWF0RGlyZWN0aXZlID0gWyckcGFyc2UnLCAnJGFuaW1hdGUnLCBmdW5jdGlvbigkcGFyc2UsICRhbmltYXRlKSB7XG4gIHZhciBOR19SRU1PVkVEID0gJyQkTkdfUkVNT1ZFRCc7XG4gIHZhciBuZ1JlcGVhdE1pbkVyciA9IG1pbkVycignbmdSZXBlYXQnKTtcblxuICB2YXIgdXBkYXRlU2NvcGUgPSBmdW5jdGlvbihzY29wZSwgaW5kZXgsIHZhbHVlSWRlbnRpZmllciwgdmFsdWUsIGtleUlkZW50aWZpZXIsIGtleSwgYXJyYXlMZW5ndGgpIHtcbiAgICAvLyBUT0RPKHBlcmYpOiBnZW5lcmF0ZSBzZXR0ZXJzIHRvIHNoYXZlIG9mZiB+NDBtcyBvciAxLTEuNSVcbiAgICBzY29wZVt2YWx1ZUlkZW50aWZpZXJdID0gdmFsdWU7XG4gICAgaWYgKGtleUlkZW50aWZpZXIpIHNjb3BlW2tleUlkZW50aWZpZXJdID0ga2V5O1xuICAgIHNjb3BlLiRpbmRleCA9IGluZGV4O1xuICAgIHNjb3BlLiRmaXJzdCA9IChpbmRleCA9PT0gMCk7XG4gICAgc2NvcGUuJGxhc3QgPSAoaW5kZXggPT09IChhcnJheUxlbmd0aCAtIDEpKTtcbiAgICBzY29wZS4kbWlkZGxlID0gIShzY29wZS4kZmlyc3QgfHwgc2NvcGUuJGxhc3QpO1xuICAgIC8vIGpzaGludCBiaXR3aXNlOiBmYWxzZVxuICAgIHNjb3BlLiRvZGQgPSAhKHNjb3BlLiRldmVuID0gKGluZGV4JjEpID09PSAwKTtcbiAgICAvLyBqc2hpbnQgYml0d2lzZTogdHJ1ZVxuICB9O1xuXG4gIHZhciBnZXRCbG9ja1N0YXJ0ID0gZnVuY3Rpb24oYmxvY2spIHtcbiAgICByZXR1cm4gYmxvY2suY2xvbmVbMF07XG4gIH07XG5cbiAgdmFyIGdldEJsb2NrRW5kID0gZnVuY3Rpb24oYmxvY2spIHtcbiAgICByZXR1cm4gYmxvY2suY2xvbmVbYmxvY2suY2xvbmUubGVuZ3RoIC0gMV07XG4gIH07XG5cblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbXVsdGlFbGVtZW50OiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcbiAgICBwcmlvcml0eTogMTAwMCxcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcbiAgICAkJHRsYjogdHJ1ZSxcbiAgICBjb21waWxlOiBmdW5jdGlvbiBuZ1JlcGVhdENvbXBpbGUoJGVsZW1lbnQsICRhdHRyKSB7XG4gICAgICB2YXIgZXhwcmVzc2lvbiA9ICRhdHRyLm5nUmVwZWF0O1xuICAgICAgdmFyIG5nUmVwZWF0RW5kQ29tbWVudCA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJyBlbmQgbmdSZXBlYXQ6ICcgKyBleHByZXNzaW9uICsgJyAnKTtcblxuICAgICAgdmFyIG1hdGNoID0gZXhwcmVzc2lvbi5tYXRjaCgvXlxccyooW1xcc1xcU10rPylcXHMraW5cXHMrKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/KD86XFxzK3RyYWNrXFxzK2J5XFxzKyhbXFxzXFxTXSs/KSk/XFxzKiQvKTtcblxuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICB0aHJvdyBuZ1JlcGVhdE1pbkVycignaWV4cCcsIFwiRXhwZWN0ZWQgZXhwcmVzc2lvbiBpbiBmb3JtIG9mICdfaXRlbV8gaW4gX2NvbGxlY3Rpb25fWyB0cmFjayBieSBfaWRfXScgYnV0IGdvdCAnezB9Jy5cIixcbiAgICAgICAgICAgIGV4cHJlc3Npb24pO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGhzID0gbWF0Y2hbMV07XG4gICAgICB2YXIgcmhzID0gbWF0Y2hbMl07XG4gICAgICB2YXIgYWxpYXNBcyA9IG1hdGNoWzNdO1xuICAgICAgdmFyIHRyYWNrQnlFeHAgPSBtYXRjaFs0XTtcblxuICAgICAgbWF0Y2ggPSBsaHMubWF0Y2goL14oPzooXFxzKltcXCRcXHddKyl8XFwoXFxzKihbXFwkXFx3XSspXFxzKixcXHMqKFtcXCRcXHddKylcXHMqXFwpKSQvKTtcblxuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICB0aHJvdyBuZ1JlcGVhdE1pbkVycignaWlkZXhwJywgXCInX2l0ZW1fJyBpbiAnX2l0ZW1fIGluIF9jb2xsZWN0aW9uXycgc2hvdWxkIGJlIGFuIGlkZW50aWZpZXIgb3IgJyhfa2V5XywgX3ZhbHVlXyknIGV4cHJlc3Npb24sIGJ1dCBnb3QgJ3swfScuXCIsXG4gICAgICAgICAgICBsaHMpO1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlSWRlbnRpZmllciA9IG1hdGNoWzNdIHx8IG1hdGNoWzFdO1xuICAgICAgdmFyIGtleUlkZW50aWZpZXIgPSBtYXRjaFsyXTtcblxuICAgICAgaWYgKGFsaWFzQXMgJiYgKCEvXlskYS16QS1aX11bJGEtekEtWjAtOV9dKiQvLnRlc3QoYWxpYXNBcykgfHxcbiAgICAgICAgICAvXihudWxsfHVuZGVmaW5lZHx0aGlzfFxcJGluZGV4fFxcJGZpcnN0fFxcJG1pZGRsZXxcXCRsYXN0fFxcJGV2ZW58XFwkb2RkfFxcJHBhcmVudHxcXCRyb290fFxcJGlkKSQvLnRlc3QoYWxpYXNBcykpKSB7XG4gICAgICAgIHRocm93IG5nUmVwZWF0TWluRXJyKCdiYWRpZGVudCcsIFwiYWxpYXMgJ3swfScgaXMgaW52YWxpZCAtLS0gbXVzdCBiZSBhIHZhbGlkIEpTIGlkZW50aWZpZXIgd2hpY2ggaXMgbm90IGEgcmVzZXJ2ZWQgbmFtZS5cIixcbiAgICAgICAgICBhbGlhc0FzKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRyYWNrQnlFeHBHZXR0ZXIsIHRyYWNrQnlJZEV4cEZuLCB0cmFja0J5SWRBcnJheUZuLCB0cmFja0J5SWRPYmpGbjtcbiAgICAgIHZhciBoYXNoRm5Mb2NhbHMgPSB7JGlkOiBoYXNoS2V5fTtcblxuICAgICAgaWYgKHRyYWNrQnlFeHApIHtcbiAgICAgICAgdHJhY2tCeUV4cEdldHRlciA9ICRwYXJzZSh0cmFja0J5RXhwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYWNrQnlJZEFycmF5Rm4gPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGhhc2hLZXkodmFsdWUpO1xuICAgICAgICB9O1xuICAgICAgICB0cmFja0J5SWRPYmpGbiA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZ1JlcGVhdExpbmsoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHIsIGN0cmwsICR0cmFuc2NsdWRlKSB7XG5cbiAgICAgICAgaWYgKHRyYWNrQnlFeHBHZXR0ZXIpIHtcbiAgICAgICAgICB0cmFja0J5SWRFeHBGbiA9IGZ1bmN0aW9uKGtleSwgdmFsdWUsIGluZGV4KSB7XG4gICAgICAgICAgICAvLyBhc3NpZ24ga2V5LCB2YWx1ZSwgYW5kICRpbmRleCB0byB0aGUgbG9jYWxzIHNvIHRoYXQgdGhleSBjYW4gYmUgdXNlZCBpbiBoYXNoIGZ1bmN0aW9uc1xuICAgICAgICAgICAgaWYgKGtleUlkZW50aWZpZXIpIGhhc2hGbkxvY2Fsc1trZXlJZGVudGlmaWVyXSA9IGtleTtcbiAgICAgICAgICAgIGhhc2hGbkxvY2Fsc1t2YWx1ZUlkZW50aWZpZXJdID0gdmFsdWU7XG4gICAgICAgICAgICBoYXNoRm5Mb2NhbHMuJGluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICByZXR1cm4gdHJhY2tCeUV4cEdldHRlcigkc2NvcGUsIGhhc2hGbkxvY2Fscyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0b3JlIGEgbGlzdCBvZiBlbGVtZW50cyBmcm9tIHByZXZpb3VzIHJ1bi4gVGhpcyBpcyBhIGhhc2ggd2hlcmUga2V5IGlzIHRoZSBpdGVtIGZyb20gdGhlXG4gICAgICAgIC8vIGl0ZXJhdG9yLCBhbmQgdGhlIHZhbHVlIGlzIG9iamVjdHMgd2l0aCBmb2xsb3dpbmcgcHJvcGVydGllcy5cbiAgICAgICAgLy8gICAtIHNjb3BlOiBib3VuZCBzY29wZVxuICAgICAgICAvLyAgIC0gZWxlbWVudDogcHJldmlvdXMgZWxlbWVudC5cbiAgICAgICAgLy8gICAtIGluZGV4OiBwb3NpdGlvblxuICAgICAgICAvL1xuICAgICAgICAvLyBXZSBhcmUgdXNpbmcgbm8tcHJvdG8gb2JqZWN0IHNvIHRoYXQgd2UgZG9uJ3QgbmVlZCB0byBndWFyZCBhZ2FpbnN0IGluaGVyaXRlZCBwcm9wcyB2aWFcbiAgICAgICAgLy8gaGFzT3duUHJvcGVydHkuXG4gICAgICAgIHZhciBsYXN0QmxvY2tNYXAgPSBjcmVhdGVNYXAoKTtcblxuICAgICAgICAvL3dhdGNoIHByb3BzXG4gICAgICAgICRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKHJocywgZnVuY3Rpb24gbmdSZXBlYXRBY3Rpb24oY29sbGVjdGlvbikge1xuICAgICAgICAgIHZhciBpbmRleCwgbGVuZ3RoLFxuICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSAkZWxlbWVudFswXSwgICAgIC8vIG5vZGUgdGhhdCBjbG9uZWQgbm9kZXMgc2hvdWxkIGJlIGluc2VydGVkIGFmdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5pdGlhbGl6ZWQgdG8gdGhlIGNvbW1lbnQgbm9kZSBhbmNob3JcbiAgICAgICAgICAgICAgbmV4dE5vZGUsXG4gICAgICAgICAgICAgIC8vIFNhbWUgYXMgbGFzdEJsb2NrTWFwIGJ1dCBpdCBoYXMgdGhlIGN1cnJlbnQgc3RhdGUuIEl0IHdpbGwgYmVjb21lIHRoZVxuICAgICAgICAgICAgICAvLyBsYXN0QmxvY2tNYXAgb24gdGhlIG5leHQgaXRlcmF0aW9uLlxuICAgICAgICAgICAgICBuZXh0QmxvY2tNYXAgPSBjcmVhdGVNYXAoKSxcbiAgICAgICAgICAgICAgY29sbGVjdGlvbkxlbmd0aCxcbiAgICAgICAgICAgICAga2V5LCB2YWx1ZSwgLy8ga2V5L3ZhbHVlIG9mIGl0ZXJhdGlvblxuICAgICAgICAgICAgICB0cmFja0J5SWQsXG4gICAgICAgICAgICAgIHRyYWNrQnlJZEZuLFxuICAgICAgICAgICAgICBjb2xsZWN0aW9uS2V5cyxcbiAgICAgICAgICAgICAgYmxvY2ssICAgICAgIC8vIGxhc3Qgb2JqZWN0IGluZm9ybWF0aW9uIHtzY29wZSwgZWxlbWVudCwgaWR9XG4gICAgICAgICAgICAgIG5leHRCbG9ja09yZGVyLFxuICAgICAgICAgICAgICBlbGVtZW50c1RvUmVtb3ZlO1xuXG4gICAgICAgICAgaWYgKGFsaWFzQXMpIHtcbiAgICAgICAgICAgICRzY29wZVthbGlhc0FzXSA9IGNvbGxlY3Rpb247XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgICBjb2xsZWN0aW9uS2V5cyA9IGNvbGxlY3Rpb247XG4gICAgICAgICAgICB0cmFja0J5SWRGbiA9IHRyYWNrQnlJZEV4cEZuIHx8IHRyYWNrQnlJZEFycmF5Rm47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYWNrQnlJZEZuID0gdHJhY2tCeUlkRXhwRm4gfHwgdHJhY2tCeUlkT2JqRm47XG4gICAgICAgICAgICAvLyBpZiBvYmplY3QsIGV4dHJhY3Qga2V5cywgaW4gZW51bWVyYXRpb24gb3JkZXIsIHVuc29ydGVkXG4gICAgICAgICAgICBjb2xsZWN0aW9uS2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaXRlbUtleSBpbiBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICAgIGlmIChjb2xsZWN0aW9uLmhhc093blByb3BlcnR5KGl0ZW1LZXkpICYmIGl0ZW1LZXkuY2hhckF0KDApICE9PSAnJCcpIHtcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uS2V5cy5wdXNoKGl0ZW1LZXkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29sbGVjdGlvbkxlbmd0aCA9IGNvbGxlY3Rpb25LZXlzLmxlbmd0aDtcbiAgICAgICAgICBuZXh0QmxvY2tPcmRlciA9IG5ldyBBcnJheShjb2xsZWN0aW9uTGVuZ3RoKTtcblxuICAgICAgICAgIC8vIGxvY2F0ZSBleGlzdGluZyBpdGVtc1xuICAgICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGNvbGxlY3Rpb25MZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGtleSA9IChjb2xsZWN0aW9uID09PSBjb2xsZWN0aW9uS2V5cykgPyBpbmRleCA6IGNvbGxlY3Rpb25LZXlzW2luZGV4XTtcbiAgICAgICAgICAgIHZhbHVlID0gY29sbGVjdGlvbltrZXldO1xuICAgICAgICAgICAgdHJhY2tCeUlkID0gdHJhY2tCeUlkRm4oa2V5LCB2YWx1ZSwgaW5kZXgpO1xuICAgICAgICAgICAgaWYgKGxhc3RCbG9ja01hcFt0cmFja0J5SWRdKSB7XG4gICAgICAgICAgICAgIC8vIGZvdW5kIHByZXZpb3VzbHkgc2VlbiBibG9ja1xuICAgICAgICAgICAgICBibG9jayA9IGxhc3RCbG9ja01hcFt0cmFja0J5SWRdO1xuICAgICAgICAgICAgICBkZWxldGUgbGFzdEJsb2NrTWFwW3RyYWNrQnlJZF07XG4gICAgICAgICAgICAgIG5leHRCbG9ja01hcFt0cmFja0J5SWRdID0gYmxvY2s7XG4gICAgICAgICAgICAgIG5leHRCbG9ja09yZGVyW2luZGV4XSA9IGJsb2NrO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuZXh0QmxvY2tNYXBbdHJhY2tCeUlkXSkge1xuICAgICAgICAgICAgICAvLyBpZiBjb2xsaXNpb24gZGV0ZWN0ZWQuIHJlc3RvcmUgbGFzdEJsb2NrTWFwIGFuZCB0aHJvdyBhbiBlcnJvclxuICAgICAgICAgICAgICBmb3JFYWNoKG5leHRCbG9ja09yZGVyLCBmdW5jdGlvbihibG9jaykge1xuICAgICAgICAgICAgICAgIGlmIChibG9jayAmJiBibG9jay5zY29wZSkgbGFzdEJsb2NrTWFwW2Jsb2NrLmlkXSA9IGJsb2NrO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgdGhyb3cgbmdSZXBlYXRNaW5FcnIoJ2R1cGVzJyxcbiAgICAgICAgICAgICAgICAgIFwiRHVwbGljYXRlcyBpbiBhIHJlcGVhdGVyIGFyZSBub3QgYWxsb3dlZC4gVXNlICd0cmFjayBieScgZXhwcmVzc2lvbiB0byBzcGVjaWZ5IHVuaXF1ZSBrZXlzLiBSZXBlYXRlcjogezB9LCBEdXBsaWNhdGUga2V5OiB7MX0sIER1cGxpY2F0ZSB2YWx1ZTogezJ9XCIsXG4gICAgICAgICAgICAgICAgICBleHByZXNzaW9uLCB0cmFja0J5SWQsIHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIG5ldyBuZXZlciBiZWZvcmUgc2VlbiBibG9ja1xuICAgICAgICAgICAgICBuZXh0QmxvY2tPcmRlcltpbmRleF0gPSB7aWQ6IHRyYWNrQnlJZCwgc2NvcGU6IHVuZGVmaW5lZCwgY2xvbmU6IHVuZGVmaW5lZH07XG4gICAgICAgICAgICAgIG5leHRCbG9ja01hcFt0cmFja0J5SWRdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyByZW1vdmUgbGVmdG92ZXIgaXRlbXNcbiAgICAgICAgICBmb3IgKHZhciBibG9ja0tleSBpbiBsYXN0QmxvY2tNYXApIHtcbiAgICAgICAgICAgIGJsb2NrID0gbGFzdEJsb2NrTWFwW2Jsb2NrS2V5XTtcbiAgICAgICAgICAgIGVsZW1lbnRzVG9SZW1vdmUgPSBnZXRCbG9ja05vZGVzKGJsb2NrLmNsb25lKTtcbiAgICAgICAgICAgICRhbmltYXRlLmxlYXZlKGVsZW1lbnRzVG9SZW1vdmUpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRzVG9SZW1vdmVbMF0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAvLyBpZiB0aGUgZWxlbWVudCB3YXMgbm90IHJlbW92ZWQgeWV0IGJlY2F1c2Ugb2YgcGVuZGluZyBhbmltYXRpb24sIG1hcmsgaXQgYXMgZGVsZXRlZFxuICAgICAgICAgICAgICAvLyBzbyB0aGF0IHdlIGNhbiBpZ25vcmUgaXQgbGF0ZXJcbiAgICAgICAgICAgICAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IGVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzVG9SZW1vdmVbaW5kZXhdW05HX1JFTU9WRURdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmxvY2suc2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyB3ZSBhcmUgbm90IHVzaW5nIGZvckVhY2ggZm9yIHBlcmYgcmVhc29ucyAodHJ5aW5nIHRvIGF2b2lkICNjYWxsKVxuICAgICAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGNvbGxlY3Rpb25MZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGtleSA9IChjb2xsZWN0aW9uID09PSBjb2xsZWN0aW9uS2V5cykgPyBpbmRleCA6IGNvbGxlY3Rpb25LZXlzW2luZGV4XTtcbiAgICAgICAgICAgIHZhbHVlID0gY29sbGVjdGlvbltrZXldO1xuICAgICAgICAgICAgYmxvY2sgPSBuZXh0QmxvY2tPcmRlcltpbmRleF07XG5cbiAgICAgICAgICAgIGlmIChibG9jay5zY29wZSkge1xuICAgICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGFscmVhZHkgc2VlbiB0aGlzIG9iamVjdCwgdGhlbiB3ZSBuZWVkIHRvIHJldXNlIHRoZVxuICAgICAgICAgICAgICAvLyBhc3NvY2lhdGVkIHNjb3BlL2VsZW1lbnRcblxuICAgICAgICAgICAgICBuZXh0Tm9kZSA9IHByZXZpb3VzTm9kZTtcblxuICAgICAgICAgICAgICAvLyBza2lwIG5vZGVzIHRoYXQgYXJlIGFscmVhZHkgcGVuZGluZyByZW1vdmFsIHZpYSBsZWF2ZSBhbmltYXRpb25cbiAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dE5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgIH0gd2hpbGUgKG5leHROb2RlICYmIG5leHROb2RlW05HX1JFTU9WRURdKTtcblxuICAgICAgICAgICAgICBpZiAoZ2V0QmxvY2tTdGFydChibG9jaykgIT0gbmV4dE5vZGUpIHtcbiAgICAgICAgICAgICAgICAvLyBleGlzdGluZyBpdGVtIHdoaWNoIGdvdCBtb3ZlZFxuICAgICAgICAgICAgICAgICRhbmltYXRlLm1vdmUoZ2V0QmxvY2tOb2RlcyhibG9jay5jbG9uZSksIG51bGwsIGpxTGl0ZShwcmV2aW91c05vZGUpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSBnZXRCbG9ja0VuZChibG9jayk7XG4gICAgICAgICAgICAgIHVwZGF0ZVNjb3BlKGJsb2NrLnNjb3BlLCBpbmRleCwgdmFsdWVJZGVudGlmaWVyLCB2YWx1ZSwga2V5SWRlbnRpZmllciwga2V5LCBjb2xsZWN0aW9uTGVuZ3RoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIG5ldyBpdGVtIHdoaWNoIHdlIGRvbid0IGtub3cgYWJvdXRcbiAgICAgICAgICAgICAgJHRyYW5zY2x1ZGUoZnVuY3Rpb24gbmdSZXBlYXRUcmFuc2NsdWRlKGNsb25lLCBzY29wZSkge1xuICAgICAgICAgICAgICAgIGJsb2NrLnNjb3BlID0gc2NvcGU7XG4gICAgICAgICAgICAgICAgLy8gaHR0cDovL2pzcGVyZi5jb20vY2xvbmUtdnMtY3JlYXRlY29tbWVudFxuICAgICAgICAgICAgICAgIHZhciBlbmROb2RlID0gbmdSZXBlYXRFbmRDb21tZW50LmNsb25lTm9kZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgY2xvbmVbY2xvbmUubGVuZ3RoKytdID0gZW5kTm9kZTtcblxuICAgICAgICAgICAgICAgIC8vIFRPRE8ocGVyZik6IHN1cHBvcnQgbmFrZWQgcHJldmlvdXNOb2RlIGluIGBlbnRlcmAgdG8gYXZvaWQgY3JlYXRpb24gb2YganFMaXRlIHdyYXBwZXI/XG4gICAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2xvbmUsIG51bGwsIGpxTGl0ZShwcmV2aW91c05vZGUpKTtcbiAgICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSBlbmROb2RlO1xuICAgICAgICAgICAgICAgIC8vIE5vdGU6IFdlIG9ubHkgbmVlZCB0aGUgZmlyc3QvbGFzdCBub2RlIG9mIHRoZSBjbG9uZWQgbm9kZXMuXG4gICAgICAgICAgICAgICAgLy8gSG93ZXZlciwgd2UgbmVlZCB0byBrZWVwIHRoZSByZWZlcmVuY2UgdG8gdGhlIGpxbGl0ZSB3cmFwcGVyIGFzIGl0IG1pZ2h0IGJlIGNoYW5nZWQgbGF0ZXJcbiAgICAgICAgICAgICAgICAvLyBieSBhIGRpcmVjdGl2ZSB3aXRoIHRlbXBsYXRlVXJsIHdoZW4gaXRzIHRlbXBsYXRlIGFycml2ZXMuXG4gICAgICAgICAgICAgICAgYmxvY2suY2xvbmUgPSBjbG9uZTtcbiAgICAgICAgICAgICAgICBuZXh0QmxvY2tNYXBbYmxvY2suaWRdID0gYmxvY2s7XG4gICAgICAgICAgICAgICAgdXBkYXRlU2NvcGUoYmxvY2suc2NvcGUsIGluZGV4LCB2YWx1ZUlkZW50aWZpZXIsIHZhbHVlLCBrZXlJZGVudGlmaWVyLCBrZXksIGNvbGxlY3Rpb25MZW5ndGgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgbGFzdEJsb2NrTWFwID0gbmV4dEJsb2NrTWFwO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufV07XG5cbnZhciBOR19ISURFX0NMQVNTID0gJ25nLWhpZGUnO1xudmFyIE5HX0hJREVfSU5fUFJPR1JFU1NfQ0xBU1MgPSAnbmctaGlkZS1hbmltYXRlJztcbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdTaG93XG4gKiBAbXVsdGlFbGVtZW50XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nU2hvd2AgZGlyZWN0aXZlIHNob3dzIG9yIGhpZGVzIHRoZSBnaXZlbiBIVE1MIGVsZW1lbnQgYmFzZWQgb24gdGhlIGV4cHJlc3Npb25cbiAqIHByb3ZpZGVkIHRvIHRoZSBgbmdTaG93YCBhdHRyaWJ1dGUuIFRoZSBlbGVtZW50IGlzIHNob3duIG9yIGhpZGRlbiBieSByZW1vdmluZyBvciBhZGRpbmdcbiAqIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBvbnRvIHRoZSBlbGVtZW50LiBUaGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MgaXMgcHJlZGVmaW5lZFxuICogaW4gQW5ndWxhckpTIGFuZCBzZXRzIHRoZSBkaXNwbGF5IHN0eWxlIHRvIG5vbmUgKHVzaW5nIGFuICFpbXBvcnRhbnQgZmxhZykuXG4gKiBGb3IgQ1NQIG1vZGUgcGxlYXNlIGFkZCBgYW5ndWxhci1jc3AuY3NzYCB0byB5b3VyIGh0bWwgZmlsZSAoc2VlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDc3AgbmdDc3B9KS5cbiAqXG4gKiBgYGBodG1sXG4gKiA8IS0tIHdoZW4gJHNjb3BlLm15VmFsdWUgaXMgdHJ1dGh5IChlbGVtZW50IGlzIHZpc2libGUpIC0tPlxuICogPGRpdiBuZy1zaG93PVwibXlWYWx1ZVwiPjwvZGl2PlxuICpcbiAqIDwhLS0gd2hlbiAkc2NvcGUubXlWYWx1ZSBpcyBmYWxzeSAoZWxlbWVudCBpcyBoaWRkZW4pIC0tPlxuICogPGRpdiBuZy1zaG93PVwibXlWYWx1ZVwiIGNsYXNzPVwibmctaGlkZVwiPjwvZGl2PlxuICogYGBgXG4gKlxuICogV2hlbiB0aGUgYG5nU2hvd2AgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBmYWxzeSB2YWx1ZSB0aGVuIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyBhZGRlZCB0byB0aGUgY2xhc3NcbiAqIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCBjYXVzaW5nIGl0IHRvIGJlY29tZSBoaWRkZW4uIFdoZW4gdHJ1dGh5LCB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MgaXMgcmVtb3ZlZFxuICogZnJvbSB0aGUgZWxlbWVudCBjYXVzaW5nIHRoZSBlbGVtZW50IG5vdCB0byBhcHBlYXIgaGlkZGVuLlxuICpcbiAqICMjIFdoeSBpcyAhaW1wb3J0YW50IHVzZWQ/XG4gKlxuICogWW91IG1heSBiZSB3b25kZXJpbmcgd2h5ICFpbXBvcnRhbnQgaXMgdXNlZCBmb3IgdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzLiBUaGlzIGlzIGJlY2F1c2UgdGhlIGAubmctaGlkZWAgc2VsZWN0b3JcbiAqIGNhbiBiZSBlYXNpbHkgb3ZlcnJpZGRlbiBieSBoZWF2aWVyIHNlbGVjdG9ycy4gRm9yIGV4YW1wbGUsIHNvbWV0aGluZyBhcyBzaW1wbGVcbiAqIGFzIGNoYW5naW5nIHRoZSBkaXNwbGF5IHN0eWxlIG9uIGEgSFRNTCBsaXN0IGl0ZW0gd291bGQgbWFrZSBoaWRkZW4gZWxlbWVudHMgYXBwZWFyIHZpc2libGUuXG4gKiBUaGlzIGFsc28gYmVjb21lcyBhIGJpZ2dlciBpc3N1ZSB3aGVuIGRlYWxpbmcgd2l0aCBDU1MgZnJhbWV3b3Jrcy5cbiAqXG4gKiBCeSB1c2luZyAhaW1wb3J0YW50LCB0aGUgc2hvdyBhbmQgaGlkZSBiZWhhdmlvciB3aWxsIHdvcmsgYXMgZXhwZWN0ZWQgZGVzcGl0ZSBhbnkgY2xhc2ggYmV0d2VlbiBDU1Mgc2VsZWN0b3JcbiAqIHNwZWNpZmljaXR5ICh3aGVuICFpbXBvcnRhbnQgaXNuJ3QgdXNlZCB3aXRoIGFueSBjb25mbGljdGluZyBzdHlsZXMpLiBJZiBhIGRldmVsb3BlciBjaG9vc2VzIHRvIG92ZXJyaWRlIHRoZVxuICogc3R5bGluZyB0byBjaGFuZ2UgaG93IHRvIGhpZGUgYW4gZWxlbWVudCB0aGVuIGl0IGlzIGp1c3QgYSBtYXR0ZXIgb2YgdXNpbmcgIWltcG9ydGFudCBpbiB0aGVpciBvd24gQ1NTIGNvZGUuXG4gKlxuICogIyMjIE92ZXJyaWRpbmcgYC5uZy1oaWRlYFxuICpcbiAqIEJ5IGRlZmF1bHQsIHRoZSBgLm5nLWhpZGVgIGNsYXNzIHdpbGwgc3R5bGUgdGhlIGVsZW1lbnQgd2l0aCBgZGlzcGxheTogbm9uZSFpbXBvcnRhbnRgLiBJZiB5b3Ugd2lzaCB0byBjaGFuZ2VcbiAqIHRoZSBoaWRlIGJlaGF2aW9yIHdpdGggbmdTaG93L25nSGlkZSB0aGVuIHRoaXMgY2FuIGJlIGFjaGlldmVkIGJ5IHJlc3RhdGluZyB0aGUgc3R5bGVzIGZvciB0aGUgYC5uZy1oaWRlYFxuICogY2xhc3MgQ1NTLiBOb3RlIHRoYXQgdGhlIHNlbGVjdG9yIHRoYXQgbmVlZHMgdG8gYmUgdXNlZCBpcyBhY3R1YWxseSBgLm5nLWhpZGU6bm90KC5uZy1oaWRlLWFuaW1hdGUpYCB0byBjb3BlXG4gKiB3aXRoIGV4dHJhIGFuaW1hdGlvbiBjbGFzc2VzIHRoYXQgY2FuIGJlIGFkZGVkLlxuICpcbiAqIGBgYGNzc1xuICogLm5nLWhpZGU6bm90KC5uZy1oaWRlLWFuaW1hdGUpIHtcbiAqICAgLyYjNDI7IHRoaXMgaXMganVzdCBhbm90aGVyIGZvcm0gb2YgaGlkaW5nIGFuIGVsZW1lbnQgJiM0MjsvXG4gKiAgIGRpc3BsYXk6IGJsb2NrIWltcG9ydGFudDtcbiAqICAgcG9zaXRpb246IGFic29sdXRlO1xuICogICB0b3A6IC05OTk5cHg7XG4gKiAgIGxlZnQ6IC05OTk5cHg7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBCeSBkZWZhdWx0IHlvdSBkb24ndCBuZWVkIHRvIG92ZXJyaWRlIGluIENTUyBhbnl0aGluZyBhbmQgdGhlIGFuaW1hdGlvbnMgd2lsbCB3b3JrIGFyb3VuZCB0aGUgZGlzcGxheSBzdHlsZS5cbiAqXG4gKiAjIyBBIG5vdGUgYWJvdXQgYW5pbWF0aW9ucyB3aXRoIGBuZ1Nob3dgXG4gKlxuICogQW5pbWF0aW9ucyBpbiBuZ1Nob3cvbmdIaWRlIHdvcmsgd2l0aCB0aGUgc2hvdyBhbmQgaGlkZSBldmVudHMgdGhhdCBhcmUgdHJpZ2dlcmVkIHdoZW4gdGhlIGRpcmVjdGl2ZSBleHByZXNzaW9uXG4gKiBpcyB0cnVlIGFuZCBmYWxzZS4gVGhpcyBzeXN0ZW0gd29ya3MgbGlrZSB0aGUgYW5pbWF0aW9uIHN5c3RlbSBwcmVzZW50IHdpdGggbmdDbGFzcyBleGNlcHQgdGhhdFxuICogeW91IG11c3QgYWxzbyBpbmNsdWRlIHRoZSAhaW1wb3J0YW50IGZsYWcgdG8gb3ZlcnJpZGUgdGhlIGRpc3BsYXkgcHJvcGVydHlcbiAqIHNvIHRoYXQgeW91IGNhbiBwZXJmb3JtIGFuIGFuaW1hdGlvbiB3aGVuIHRoZSBlbGVtZW50IGlzIGhpZGRlbiBkdXJpbmcgdGhlIHRpbWUgb2YgdGhlIGFuaW1hdGlvbi5cbiAqXG4gKiBgYGBjc3NcbiAqIC8vXG4gKiAvL2Egd29ya2luZyBleGFtcGxlIGNhbiBiZSBmb3VuZCBhdCB0aGUgYm90dG9tIG9mIHRoaXMgcGFnZVxuICogLy9cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkLCAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZSB7XG4gKiAgIC8mIzQyOyB0aGlzIGlzIHJlcXVpcmVkIGFzIG9mIDEuM3ggdG8gcHJvcGVybHlcbiAqICAgICAgYXBwbHkgYWxsIHN0eWxpbmcgaW4gYSBzaG93L2hpZGUgYW5pbWF0aW9uICYjNDI7L1xuICogICB0cmFuc2l0aW9uOiAwcyBsaW5lYXIgYWxsO1xuICogfVxuICpcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkLWFjdGl2ZSxcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlLWFjdGl2ZSB7XG4gKiAgIC8mIzQyOyB0aGUgdHJhbnNpdGlvbiBpcyBkZWZpbmVkIGluIHRoZSBhY3RpdmUgY2xhc3MgJiM0MjsvXG4gKiAgIHRyYW5zaXRpb246IDFzIGxpbmVhciBhbGw7XG4gKiB9XG4gKlxuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQgeyAuLi4gfVxuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQubmctaGlkZS1hZGQtYWN0aXZlIHsgLi4uIH1cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlIHsgLi4uIH1cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlLm5nLWhpZGUtcmVtb3ZlLWFjdGl2ZSB7IC4uLiB9XG4gKiBgYGBcbiAqXG4gKiBLZWVwIGluIG1pbmQgdGhhdCwgYXMgb2YgQW5ndWxhckpTIHZlcnNpb24gMS4zLjAtYmV0YS4xMSwgdGhlcmUgaXMgbm8gbmVlZCB0byBjaGFuZ2UgdGhlIGRpc3BsYXlcbiAqIHByb3BlcnR5IHRvIGJsb2NrIGR1cmluZyBhbmltYXRpb24gc3RhdGVzLS1uZ0FuaW1hdGUgd2lsbCBoYW5kbGUgdGhlIHN0eWxlIHRvZ2dsaW5nIGF1dG9tYXRpY2FsbHkgZm9yIHlvdS5cbiAqXG4gKiBAYW5pbWF0aW9uc1xuICogYWRkQ2xhc3M6IGAubmctaGlkZWAgLSBoYXBwZW5zIGFmdGVyIHRoZSBgbmdTaG93YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHRydXRoeSB2YWx1ZSBhbmQgdGhlIGp1c3QgYmVmb3JlIGNvbnRlbnRzIGFyZSBzZXQgdG8gdmlzaWJsZVxuICogcmVtb3ZlQ2xhc3M6IGAubmctaGlkZWAgLSBoYXBwZW5zIGFmdGVyIHRoZSBgbmdTaG93YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIG5vbiB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIHRoZSBjb250ZW50cyBhcmUgc2V0IHRvIGhpZGRlblxuICpcbiAqIEBlbGVtZW50IEFOWVxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ1Nob3cgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeVxuICogICAgIHRoZW4gdGhlIGVsZW1lbnQgaXMgc2hvd24gb3IgaGlkZGVuIHJlc3BlY3RpdmVseS5cbiAqXG4gKiBAZXhhbXBsZVxuICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FuaW1hdGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgQ2xpY2sgbWU6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIiBhcmlhLWxhYmVsPVwiVG9nZ2xlIG5nSGlkZVwiPjxici8+XG4gICAgICA8ZGl2PlxuICAgICAgICBTaG93OlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2hlY2stZWxlbWVudCBhbmltYXRlLXNob3dcIiBuZy1zaG93PVwiY2hlY2tlZFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi10aHVtYnMtdXBcIj48L3NwYW4+IEkgc2hvdyB1cCB3aGVuIHlvdXIgY2hlY2tib3ggaXMgY2hlY2tlZC5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXY+XG4gICAgICAgIEhpZGU6XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaGVjay1lbGVtZW50IGFuaW1hdGUtc2hvd1wiIG5nLWhpZGU9XCJjaGVja2VkXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXRodW1icy1kb3duXCI+PC9zcGFuPiBJIGhpZGUgd2hlbiB5b3VyIGNoZWNrYm94IGlzIGNoZWNrZWQuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJnbHlwaGljb25zLmNzc1wiPlxuICAgICAgQGltcG9ydCB1cmwoLi4vLi4vY29tcG9uZW50cy9ib290c3RyYXAtMy4xLjEvY3NzL2Jvb3RzdHJhcC5jc3MpO1xuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cbiAgICAgIC5hbmltYXRlLXNob3cge1xuICAgICAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICAgICAgfVxuXG4gICAgICAuYW5pbWF0ZS1zaG93Lm5nLWhpZGUtYWRkLm5nLWhpZGUtYWRkLWFjdGl2ZSxcbiAgICAgIC5hbmltYXRlLXNob3cubmctaGlkZS1yZW1vdmUubmctaGlkZS1yZW1vdmUtYWN0aXZlIHtcbiAgICAgICAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgbGluZWFyIDAuNXM7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCBsaW5lYXIgMC41cztcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtc2hvdy5uZy1oaWRlIHtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDA7XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgIHBhZGRpbmc6IDAgMTBweDtcbiAgICAgIH1cblxuICAgICAgLmNoZWNrLWVsZW1lbnQge1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICB9XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIHZhciB0aHVtYnNVcCA9IGVsZW1lbnQoYnkuY3NzKCdzcGFuLmdseXBoaWNvbi10aHVtYnMtdXAnKSk7XG4gICAgICB2YXIgdGh1bWJzRG93biA9IGVsZW1lbnQoYnkuY3NzKCdzcGFuLmdseXBoaWNvbi10aHVtYnMtZG93bicpKTtcblxuICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1zaG93IC8gbmctaGlkZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QodGh1bWJzVXAuaXNEaXNwbGF5ZWQoKSkudG9CZUZhbHN5KCk7XG4gICAgICAgIGV4cGVjdCh0aHVtYnNEb3duLmlzRGlzcGxheWVkKCkpLnRvQmVUcnV0aHkoKTtcblxuICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2VkJykpLmNsaWNrKCk7XG5cbiAgICAgICAgZXhwZWN0KHRodW1ic1VwLmlzRGlzcGxheWVkKCkpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgZXhwZWN0KHRodW1ic0Rvd24uaXNEaXNwbGF5ZWQoKSkudG9CZUZhbHN5KCk7XG4gICAgICB9KTtcbiAgICA8L2ZpbGU+XG4gIDwvZXhhbXBsZT5cbiAqL1xudmFyIG5nU2hvd0RpcmVjdGl2ZSA9IFsnJGFuaW1hdGUnLCBmdW5jdGlvbigkYW5pbWF0ZSkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbXVsdGlFbGVtZW50OiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gICAgICBzY29wZS4kd2F0Y2goYXR0ci5uZ1Nob3csIGZ1bmN0aW9uIG5nU2hvd1dhdGNoQWN0aW9uKHZhbHVlKSB7XG4gICAgICAgIC8vIHdlJ3JlIGFkZGluZyBhIHRlbXBvcmFyeSwgYW5pbWF0aW9uLXNwZWNpZmljIGNsYXNzIGZvciBuZy1oaWRlIHNpbmNlIHRoaXMgd2F5XG4gICAgICAgIC8vIHdlIGNhbiBjb250cm9sIHdoZW4gdGhlIGVsZW1lbnQgaXMgYWN0dWFsbHkgZGlzcGxheWVkIG9uIHNjcmVlbiB3aXRob3V0IGhhdmluZ1xuICAgICAgICAvLyB0byBoYXZlIGEgZ2xvYmFsL2dyZWVkeSBDU1Mgc2VsZWN0b3IgdGhhdCBicmVha3Mgd2hlbiBvdGhlciBhbmltYXRpb25zIGFyZSBydW4uXG4gICAgICAgIC8vIFJlYWQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzkxMDMjaXNzdWVjb21tZW50LTU4MzM1ODQ1XG4gICAgICAgICRhbmltYXRlW3ZhbHVlID8gJ3JlbW92ZUNsYXNzJyA6ICdhZGRDbGFzcyddKGVsZW1lbnQsIE5HX0hJREVfQ0xBU1MsIHtcbiAgICAgICAgICB0ZW1wQ2xhc3NlczogTkdfSElERV9JTl9QUk9HUkVTU19DTEFTU1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dO1xuXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdIaWRlXG4gKiBAbXVsdGlFbGVtZW50XG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nSGlkZWAgZGlyZWN0aXZlIHNob3dzIG9yIGhpZGVzIHRoZSBnaXZlbiBIVE1MIGVsZW1lbnQgYmFzZWQgb24gdGhlIGV4cHJlc3Npb25cbiAqIHByb3ZpZGVkIHRvIHRoZSBgbmdIaWRlYCBhdHRyaWJ1dGUuIFRoZSBlbGVtZW50IGlzIHNob3duIG9yIGhpZGRlbiBieSByZW1vdmluZyBvciBhZGRpbmdcbiAqIHRoZSBgbmctaGlkZWAgQ1NTIGNsYXNzIG9udG8gdGhlIGVsZW1lbnQuIFRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyBwcmVkZWZpbmVkXG4gKiBpbiBBbmd1bGFySlMgYW5kIHNldHMgdGhlIGRpc3BsYXkgc3R5bGUgdG8gbm9uZSAodXNpbmcgYW4gIWltcG9ydGFudCBmbGFnKS5cbiAqIEZvciBDU1AgbW9kZSBwbGVhc2UgYWRkIGBhbmd1bGFyLWNzcC5jc3NgIHRvIHlvdXIgaHRtbCBmaWxlIChzZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NzcCBuZ0NzcH0pLlxuICpcbiAqIGBgYGh0bWxcbiAqIDwhLS0gd2hlbiAkc2NvcGUubXlWYWx1ZSBpcyB0cnV0aHkgKGVsZW1lbnQgaXMgaGlkZGVuKSAtLT5cbiAqIDxkaXYgbmctaGlkZT1cIm15VmFsdWVcIiBjbGFzcz1cIm5nLWhpZGVcIj48L2Rpdj5cbiAqXG4gKiA8IS0tIHdoZW4gJHNjb3BlLm15VmFsdWUgaXMgZmFsc3kgKGVsZW1lbnQgaXMgdmlzaWJsZSkgLS0+XG4gKiA8ZGl2IG5nLWhpZGU9XCJteVZhbHVlXCI+PC9kaXY+XG4gKiBgYGBcbiAqXG4gKiBXaGVuIHRoZSBgbmdIaWRlYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHRydXRoeSB2YWx1ZSB0aGVuIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyBhZGRlZCB0byB0aGUgY2xhc3NcbiAqIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCBjYXVzaW5nIGl0IHRvIGJlY29tZSBoaWRkZW4uIFdoZW4gZmFsc3ksIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyByZW1vdmVkXG4gKiBmcm9tIHRoZSBlbGVtZW50IGNhdXNpbmcgdGhlIGVsZW1lbnQgbm90IHRvIGFwcGVhciBoaWRkZW4uXG4gKlxuICogIyMgV2h5IGlzICFpbXBvcnRhbnQgdXNlZD9cbiAqXG4gKiBZb3UgbWF5IGJlIHdvbmRlcmluZyB3aHkgIWltcG9ydGFudCBpcyB1c2VkIGZvciB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MuIFRoaXMgaXMgYmVjYXVzZSB0aGUgYC5uZy1oaWRlYCBzZWxlY3RvclxuICogY2FuIGJlIGVhc2lseSBvdmVycmlkZGVuIGJ5IGhlYXZpZXIgc2VsZWN0b3JzLiBGb3IgZXhhbXBsZSwgc29tZXRoaW5nIGFzIHNpbXBsZVxuICogYXMgY2hhbmdpbmcgdGhlIGRpc3BsYXkgc3R5bGUgb24gYSBIVE1MIGxpc3QgaXRlbSB3b3VsZCBtYWtlIGhpZGRlbiBlbGVtZW50cyBhcHBlYXIgdmlzaWJsZS5cbiAqIFRoaXMgYWxzbyBiZWNvbWVzIGEgYmlnZ2VyIGlzc3VlIHdoZW4gZGVhbGluZyB3aXRoIENTUyBmcmFtZXdvcmtzLlxuICpcbiAqIEJ5IHVzaW5nICFpbXBvcnRhbnQsIHRoZSBzaG93IGFuZCBoaWRlIGJlaGF2aW9yIHdpbGwgd29yayBhcyBleHBlY3RlZCBkZXNwaXRlIGFueSBjbGFzaCBiZXR3ZWVuIENTUyBzZWxlY3RvclxuICogc3BlY2lmaWNpdHkgKHdoZW4gIWltcG9ydGFudCBpc24ndCB1c2VkIHdpdGggYW55IGNvbmZsaWN0aW5nIHN0eWxlcykuIElmIGEgZGV2ZWxvcGVyIGNob29zZXMgdG8gb3ZlcnJpZGUgdGhlXG4gKiBzdHlsaW5nIHRvIGNoYW5nZSBob3cgdG8gaGlkZSBhbiBlbGVtZW50IHRoZW4gaXQgaXMganVzdCBhIG1hdHRlciBvZiB1c2luZyAhaW1wb3J0YW50IGluIHRoZWlyIG93biBDU1MgY29kZS5cbiAqXG4gKiAjIyMgT3ZlcnJpZGluZyBgLm5nLWhpZGVgXG4gKlxuICogQnkgZGVmYXVsdCwgdGhlIGAubmctaGlkZWAgY2xhc3Mgd2lsbCBzdHlsZSB0aGUgZWxlbWVudCB3aXRoIGBkaXNwbGF5OiBub25lIWltcG9ydGFudGAuIElmIHlvdSB3aXNoIHRvIGNoYW5nZVxuICogdGhlIGhpZGUgYmVoYXZpb3Igd2l0aCBuZ1Nob3cvbmdIaWRlIHRoZW4gdGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgcmVzdGF0aW5nIHRoZSBzdHlsZXMgZm9yIHRoZSBgLm5nLWhpZGVgXG4gKiBjbGFzcyBpbiBDU1M6XG4gKlxuICogYGBgY3NzXG4gKiAubmctaGlkZSB7XG4gKiAgIC8mIzQyOyB0aGlzIGlzIGp1c3QgYW5vdGhlciBmb3JtIG9mIGhpZGluZyBhbiBlbGVtZW50ICYjNDI7L1xuICogICBkaXNwbGF5OiBibG9jayFpbXBvcnRhbnQ7XG4gKiAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAqICAgdG9wOiAtOTk5OXB4O1xuICogICBsZWZ0OiAtOTk5OXB4O1xuICogfVxuICogYGBgXG4gKlxuICogQnkgZGVmYXVsdCB5b3UgZG9uJ3QgbmVlZCB0byBvdmVycmlkZSBpbiBDU1MgYW55dGhpbmcgYW5kIHRoZSBhbmltYXRpb25zIHdpbGwgd29yayBhcm91bmQgdGhlIGRpc3BsYXkgc3R5bGUuXG4gKlxuICogIyMgQSBub3RlIGFib3V0IGFuaW1hdGlvbnMgd2l0aCBgbmdIaWRlYFxuICpcbiAqIEFuaW1hdGlvbnMgaW4gbmdTaG93L25nSGlkZSB3b3JrIHdpdGggdGhlIHNob3cgYW5kIGhpZGUgZXZlbnRzIHRoYXQgYXJlIHRyaWdnZXJlZCB3aGVuIHRoZSBkaXJlY3RpdmUgZXhwcmVzc2lvblxuICogaXMgdHJ1ZSBhbmQgZmFsc2UuIFRoaXMgc3lzdGVtIHdvcmtzIGxpa2UgdGhlIGFuaW1hdGlvbiBzeXN0ZW0gcHJlc2VudCB3aXRoIG5nQ2xhc3MsIGV4Y2VwdCB0aGF0IHRoZSBgLm5nLWhpZGVgXG4gKiBDU1MgY2xhc3MgaXMgYWRkZWQgYW5kIHJlbW92ZWQgZm9yIHlvdSBpbnN0ZWFkIG9mIHlvdXIgb3duIENTUyBjbGFzcy5cbiAqXG4gKiBgYGBjc3NcbiAqIC8vXG4gKiAvL2Egd29ya2luZyBleGFtcGxlIGNhbiBiZSBmb3VuZCBhdCB0aGUgYm90dG9tIG9mIHRoaXMgcGFnZVxuICogLy9cbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkLCAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZSB7XG4gKiAgIHRyYW5zaXRpb246IDAuNXMgbGluZWFyIGFsbDtcbiAqIH1cbiAqXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZCB7IC4uLiB9XG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZC5uZy1oaWRlLWFkZC1hY3RpdmUgeyAuLi4gfVxuICogLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUgeyAuLi4gfVxuICogLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUubmctaGlkZS1yZW1vdmUtYWN0aXZlIHsgLi4uIH1cbiAqIGBgYFxuICpcbiAqIEtlZXAgaW4gbWluZCB0aGF0LCBhcyBvZiBBbmd1bGFySlMgdmVyc2lvbiAxLjMuMC1iZXRhLjExLCB0aGVyZSBpcyBubyBuZWVkIHRvIGNoYW5nZSB0aGUgZGlzcGxheVxuICogcHJvcGVydHkgdG8gYmxvY2sgZHVyaW5nIGFuaW1hdGlvbiBzdGF0ZXMtLW5nQW5pbWF0ZSB3aWxsIGhhbmRsZSB0aGUgc3R5bGUgdG9nZ2xpbmcgYXV0b21hdGljYWxseSBmb3IgeW91LlxuICpcbiAqIEBhbmltYXRpb25zXG4gKiByZW1vdmVDbGFzczogYC5uZy1oaWRlYCAtIGhhcHBlbnMgYWZ0ZXIgdGhlIGBuZ0hpZGVgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgdHJ1dGh5IHZhbHVlIGFuZCBqdXN0IGJlZm9yZSB0aGUgY29udGVudHMgYXJlIHNldCB0byBoaWRkZW5cbiAqIGFkZENsYXNzOiBgLm5nLWhpZGVgIC0gaGFwcGVucyBhZnRlciB0aGUgYG5nSGlkZWAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBub24gdHJ1dGh5IHZhbHVlIGFuZCBqdXN0IGJlZm9yZSB0aGUgY29udGVudHMgYXJlIHNldCB0byB2aXNpYmxlXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nSGlkZSBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5IHRoZW5cbiAqICAgICB0aGUgZWxlbWVudCBpcyBzaG93biBvciBoaWRkZW4gcmVzcGVjdGl2ZWx5LlxuICpcbiAqIEBleGFtcGxlXG4gIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICBDbGljayBtZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiIGFyaWEtbGFiZWw9XCJUb2dnbGUgbmdTaG93XCI+PGJyLz5cbiAgICAgIDxkaXY+XG4gICAgICAgIFNob3c6XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaGVjay1lbGVtZW50IGFuaW1hdGUtaGlkZVwiIG5nLXNob3c9XCJjaGVja2VkXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXRodW1icy11cFwiPjwvc3Bhbj4gSSBzaG93IHVwIHdoZW4geW91ciBjaGVja2JveCBpcyBjaGVja2VkLlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdj5cbiAgICAgICAgSGlkZTpcbiAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrLWVsZW1lbnQgYW5pbWF0ZS1oaWRlXCIgbmctaGlkZT1cImNoZWNrZWRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tdGh1bWJzLWRvd25cIj48L3NwYW4+IEkgaGlkZSB3aGVuIHlvdXIgY2hlY2tib3ggaXMgY2hlY2tlZC5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImdseXBoaWNvbnMuY3NzXCI+XG4gICAgICBAaW1wb3J0IHVybCguLi8uLi9jb21wb25lbnRzL2Jvb3RzdHJhcC0zLjEuMS9jc3MvYm9vdHN0cmFwLmNzcyk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxuICAgICAgLmFuaW1hdGUtaGlkZSB7XG4gICAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIGxpbmVhciAwLjVzO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgbGluZWFyIDAuNXM7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcbiAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLWhpZGUubmctaGlkZSB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAwO1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICBwYWRkaW5nOiAwIDEwcHg7XG4gICAgICB9XG5cbiAgICAgIC5jaGVjay1lbGVtZW50IHtcbiAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICAgICAgfVxuICAgIDwvZmlsZT5cbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgICB2YXIgdGh1bWJzVXAgPSBlbGVtZW50KGJ5LmNzcygnc3Bhbi5nbHlwaGljb24tdGh1bWJzLXVwJykpO1xuICAgICAgdmFyIHRodW1ic0Rvd24gPSBlbGVtZW50KGJ5LmNzcygnc3Bhbi5nbHlwaGljb24tdGh1bWJzLWRvd24nKSk7XG5cbiAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctc2hvdyAvIG5nLWhpZGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KHRodW1ic1VwLmlzRGlzcGxheWVkKCkpLnRvQmVGYWxzeSgpO1xuICAgICAgICBleHBlY3QodGh1bWJzRG93bi5pc0Rpc3BsYXllZCgpKS50b0JlVHJ1dGh5KCk7XG5cbiAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tlZCcpKS5jbGljaygpO1xuXG4gICAgICAgIGV4cGVjdCh0aHVtYnNVcC5pc0Rpc3BsYXllZCgpKS50b0JlVHJ1dGh5KCk7XG4gICAgICAgIGV4cGVjdCh0aHVtYnNEb3duLmlzRGlzcGxheWVkKCkpLnRvQmVGYWxzeSgpO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cbnZhciBuZ0hpZGVEaXJlY3RpdmUgPSBbJyRhbmltYXRlJywgZnVuY3Rpb24oJGFuaW1hdGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdIaWRlLCBmdW5jdGlvbiBuZ0hpZGVXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyBUaGUgY29tbWVudCBpbnNpZGUgb2YgdGhlIG5nU2hvd0RpcmVjdGl2ZSBleHBsYWlucyB3aHkgd2UgYWRkIGFuZFxuICAgICAgICAvLyByZW1vdmUgYSB0ZW1wb3JhcnkgY2xhc3MgZm9yIHRoZSBzaG93L2hpZGUgYW5pbWF0aW9uXG4gICAgICAgICRhbmltYXRlW3ZhbHVlID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKGVsZW1lbnQsTkdfSElERV9DTEFTUywge1xuICAgICAgICAgIHRlbXBDbGFzc2VzOiBOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufV07XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgbmdTdHlsZVxuICogQHJlc3RyaWN0IEFDXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nU3R5bGVgIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNldCBDU1Mgc3R5bGUgb24gYW4gSFRNTCBlbGVtZW50IGNvbmRpdGlvbmFsbHkuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU3R5bGVcbiAqXG4gKiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB3aGljaCBldmFscyB0byBhblxuICogb2JqZWN0IHdob3NlIGtleXMgYXJlIENTUyBzdHlsZSBuYW1lcyBhbmQgdmFsdWVzIGFyZSBjb3JyZXNwb25kaW5nIHZhbHVlcyBmb3IgdGhvc2UgQ1NTXG4gKiBrZXlzLlxuICpcbiAqIFNpbmNlIHNvbWUgQ1NTIHN0eWxlIG5hbWVzIGFyZSBub3QgdmFsaWQga2V5cyBmb3IgYW4gb2JqZWN0LCB0aGV5IG11c3QgYmUgcXVvdGVkLlxuICogU2VlIHRoZSAnYmFja2dyb3VuZC1jb2xvcicgc3R5bGUgaW4gdGhlIGV4YW1wbGUgYmVsb3cuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwic2V0IGNvbG9yXCIgbmctY2xpY2s9XCJteVN0eWxlPXtjb2xvcjoncmVkJ31cIj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cInNldCBiYWNrZ3JvdW5kXCIgbmctY2xpY2s9XCJteVN0eWxlPXsnYmFja2dyb3VuZC1jb2xvcic6J2JsdWUnfVwiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwiY2xlYXJcIiBuZy1jbGljaz1cIm15U3R5bGU9e31cIj5cbiAgICAgICAgPGJyLz5cbiAgICAgICAgPHNwYW4gbmctc3R5bGU9XCJteVN0eWxlXCI+U2FtcGxlIFRleHQ8L3NwYW4+XG4gICAgICAgIDxwcmU+bXlTdHlsZT17e215U3R5bGV9fTwvcHJlPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cbiAgICAgICBzcGFuIHtcbiAgICAgICAgIGNvbG9yOiBibGFjaztcbiAgICAgICB9XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIHZhciBjb2xvclNwYW4gPSBlbGVtZW50KGJ5LmNzcygnc3BhbicpKTtcblxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctc3R5bGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChjb2xvclNwYW4uZ2V0Q3NzVmFsdWUoJ2NvbG9yJykpLnRvQmUoJ3JnYmEoMCwgMCwgMCwgMSknKTtcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCdpbnB1dFt2YWx1ZT1cXCdzZXQgY29sb3JcXCddJykpLmNsaWNrKCk7XG4gICAgICAgICBleHBlY3QoY29sb3JTcGFuLmdldENzc1ZhbHVlKCdjb2xvcicpKS50b0JlKCdyZ2JhKDI1NSwgMCwgMCwgMSknKTtcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCdpbnB1dFt2YWx1ZT1jbGVhcl0nKSkuY2xpY2soKTtcbiAgICAgICAgIGV4cGVjdChjb2xvclNwYW4uZ2V0Q3NzVmFsdWUoJ2NvbG9yJykpLnRvQmUoJ3JnYmEoMCwgMCwgMCwgMSknKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG52YXIgbmdTdHlsZURpcmVjdGl2ZSA9IG5nRGlyZWN0aXZlKGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG4gIHNjb3BlLiR3YXRjaChhdHRyLm5nU3R5bGUsIGZ1bmN0aW9uIG5nU3R5bGVXYXRjaEFjdGlvbihuZXdTdHlsZXMsIG9sZFN0eWxlcykge1xuICAgIGlmIChvbGRTdHlsZXMgJiYgKG5ld1N0eWxlcyAhPT0gb2xkU3R5bGVzKSkge1xuICAgICAgZm9yRWFjaChvbGRTdHlsZXMsIGZ1bmN0aW9uKHZhbCwgc3R5bGUpIHsgZWxlbWVudC5jc3Moc3R5bGUsICcnKTt9KTtcbiAgICB9XG4gICAgaWYgKG5ld1N0eWxlcykgZWxlbWVudC5jc3MobmV3U3R5bGVzKTtcbiAgfSwgdHJ1ZSk7XG59KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1N3aXRjaFxuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBUaGUgYG5nU3dpdGNoYCBkaXJlY3RpdmUgaXMgdXNlZCB0byBjb25kaXRpb25hbGx5IHN3YXAgRE9NIHN0cnVjdHVyZSBvbiB5b3VyIHRlbXBsYXRlIGJhc2VkIG9uIGEgc2NvcGUgZXhwcmVzc2lvbi5cbiAqIEVsZW1lbnRzIHdpdGhpbiBgbmdTd2l0Y2hgIGJ1dCB3aXRob3V0IGBuZ1N3aXRjaFdoZW5gIG9yIGBuZ1N3aXRjaERlZmF1bHRgIGRpcmVjdGl2ZXMgd2lsbCBiZSBwcmVzZXJ2ZWQgYXQgdGhlIGxvY2F0aW9uXG4gKiBhcyBzcGVjaWZpZWQgaW4gdGhlIHRlbXBsYXRlLlxuICpcbiAqIFRoZSBkaXJlY3RpdmUgaXRzZWxmIHdvcmtzIHNpbWlsYXIgdG8gbmdJbmNsdWRlLCBob3dldmVyLCBpbnN0ZWFkIG9mIGRvd25sb2FkaW5nIHRlbXBsYXRlIGNvZGUgKG9yIGxvYWRpbmcgaXRcbiAqIGZyb20gdGhlIHRlbXBsYXRlIGNhY2hlKSwgYG5nU3dpdGNoYCBzaW1wbHkgY2hvb3NlcyBvbmUgb2YgdGhlIG5lc3RlZCBlbGVtZW50cyBhbmQgbWFrZXMgaXQgdmlzaWJsZSBiYXNlZCBvbiB3aGljaCBlbGVtZW50XG4gKiBtYXRjaGVzIHRoZSB2YWx1ZSBvYnRhaW5lZCBmcm9tIHRoZSBldmFsdWF0ZWQgZXhwcmVzc2lvbi4gSW4gb3RoZXIgd29yZHMsIHlvdSBkZWZpbmUgYSBjb250YWluZXIgZWxlbWVudFxuICogKHdoZXJlIHlvdSBwbGFjZSB0aGUgZGlyZWN0aXZlKSwgcGxhY2UgYW4gZXhwcmVzc2lvbiBvbiB0aGUgKipgb249XCIuLi5cImAgYXR0cmlidXRlKipcbiAqIChvciB0aGUgKipgbmctc3dpdGNoPVwiLi4uXCJgIGF0dHJpYnV0ZSoqKSwgZGVmaW5lIGFueSBpbm5lciBlbGVtZW50cyBpbnNpZGUgb2YgdGhlIGRpcmVjdGl2ZSBhbmQgcGxhY2VcbiAqIGEgd2hlbiBhdHRyaWJ1dGUgcGVyIGVsZW1lbnQuIFRoZSB3aGVuIGF0dHJpYnV0ZSBpcyB1c2VkIHRvIGluZm9ybSBuZ1N3aXRjaCB3aGljaCBlbGVtZW50IHRvIGRpc3BsYXkgd2hlbiB0aGUgb25cbiAqIGV4cHJlc3Npb24gaXMgZXZhbHVhdGVkLiBJZiBhIG1hdGNoaW5nIGV4cHJlc3Npb24gaXMgbm90IGZvdW5kIHZpYSBhIHdoZW4gYXR0cmlidXRlIHRoZW4gYW4gZWxlbWVudCB3aXRoIHRoZSBkZWZhdWx0XG4gKiBhdHRyaWJ1dGUgaXMgZGlzcGxheWVkLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gKiBCZSBhd2FyZSB0aGF0IHRoZSBhdHRyaWJ1dGUgdmFsdWVzIHRvIG1hdGNoIGFnYWluc3QgY2Fubm90IGJlIGV4cHJlc3Npb25zLiBUaGV5IGFyZSBpbnRlcnByZXRlZFxuICogYXMgbGl0ZXJhbCBzdHJpbmcgdmFsdWVzIHRvIG1hdGNoIGFnYWluc3QuXG4gKiBGb3IgZXhhbXBsZSwgKipgbmctc3dpdGNoLXdoZW49XCJzb21lVmFsXCJgKiogd2lsbCBtYXRjaCBhZ2FpbnN0IHRoZSBzdHJpbmcgYFwic29tZVZhbFwiYCBub3QgYWdhaW5zdCB0aGVcbiAqIHZhbHVlIG9mIHRoZSBleHByZXNzaW9uIGAkc2NvcGUuc29tZVZhbGAuXG4gKiA8L2Rpdj5cblxuICogQGFuaW1hdGlvbnNcbiAqIGVudGVyIC0gaGFwcGVucyBhZnRlciB0aGUgbmdTd2l0Y2ggY29udGVudHMgY2hhbmdlIGFuZCB0aGUgbWF0Y2hlZCBjaGlsZCBlbGVtZW50IGlzIHBsYWNlZCBpbnNpZGUgdGhlIGNvbnRhaW5lclxuICogbGVhdmUgLSBoYXBwZW5zIGp1c3QgYWZ0ZXIgdGhlIG5nU3dpdGNoIGNvbnRlbnRzIGNoYW5nZSBhbmQganVzdCBiZWZvcmUgdGhlIGZvcm1lciBjb250ZW50cyBhcmUgcmVtb3ZlZCBmcm9tIHRoZSBET01cbiAqXG4gKiBAdXNhZ2VcbiAqXG4gKiBgYGBcbiAqIDxBTlkgbmctc3dpdGNoPVwiZXhwcmVzc2lvblwiPlxuICogICA8QU5ZIG5nLXN3aXRjaC13aGVuPVwibWF0Y2hWYWx1ZTFcIj4uLi48L0FOWT5cbiAqICAgPEFOWSBuZy1zd2l0Y2gtd2hlbj1cIm1hdGNoVmFsdWUyXCI+Li4uPC9BTlk+XG4gKiAgIDxBTlkgbmctc3dpdGNoLWRlZmF1bHQ+Li4uPC9BTlk+XG4gKiA8L0FOWT5cbiAqIGBgYFxuICpcbiAqXG4gKiBAc2NvcGVcbiAqIEBwcmlvcml0eSAxMjAwXG4gKiBAcGFyYW0geyp9IG5nU3dpdGNofG9uIGV4cHJlc3Npb24gdG8gbWF0Y2ggYWdhaW5zdCA8Y29kZT5uZy1zd2l0Y2gtd2hlbjwvY29kZT4uXG4gKiBPbiBjaGlsZCBlbGVtZW50cyBhZGQ6XG4gKlxuICogKiBgbmdTd2l0Y2hXaGVuYDogdGhlIGNhc2Ugc3RhdGVtZW50IHRvIG1hdGNoIGFnYWluc3QuIElmIG1hdGNoIHRoZW4gdGhpc1xuICogICBjYXNlIHdpbGwgYmUgZGlzcGxheWVkLiBJZiB0aGUgc2FtZSBtYXRjaCBhcHBlYXJzIG11bHRpcGxlIHRpbWVzLCBhbGwgdGhlXG4gKiAgIGVsZW1lbnRzIHdpbGwgYmUgZGlzcGxheWVkLlxuICogKiBgbmdTd2l0Y2hEZWZhdWx0YDogdGhlIGRlZmF1bHQgY2FzZSB3aGVuIG5vIG90aGVyIGNhc2UgbWF0Y2guIElmIHRoZXJlXG4gKiAgIGFyZSBtdWx0aXBsZSBkZWZhdWx0IGNhc2VzLCBhbGwgb2YgdGhlbSB3aWxsIGJlIGRpc3BsYXllZCB3aGVuIG5vIG90aGVyXG4gKiAgIGNhc2UgbWF0Y2guXG4gKlxuICpcbiAqIEBleGFtcGxlXG4gIDxleGFtcGxlIG1vZHVsZT1cInN3aXRjaEV4YW1wbGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIj5cbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cInNlbGVjdGlvblwiIG5nLW9wdGlvbnM9XCJpdGVtIGZvciBpdGVtIGluIGl0ZW1zXCI+XG4gICAgICAgIDwvc2VsZWN0PlxuICAgICAgICA8Y29kZT5zZWxlY3Rpb249e3tzZWxlY3Rpb259fTwvY29kZT5cbiAgICAgICAgPGhyLz5cbiAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtc3dpdGNoLWNvbnRhaW5lclwiXG4gICAgICAgICAgbmctc3dpdGNoIG9uPVwic2VsZWN0aW9uXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1zd2l0Y2hcIiBuZy1zd2l0Y2gtd2hlbj1cInNldHRpbmdzXCI+U2V0dGluZ3MgRGl2PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1zd2l0Y2hcIiBuZy1zd2l0Y2gtd2hlbj1cImhvbWVcIj5Ib21lIFNwYW48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXN3aXRjaFwiIG5nLXN3aXRjaC1kZWZhdWx0PmRlZmF1bHQ8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxuICAgICAgYW5ndWxhci5tb2R1bGUoJ3N3aXRjaEV4YW1wbGUnLCBbJ25nQW5pbWF0ZSddKVxuICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS5pdGVtcyA9IFsnc2V0dGluZ3MnLCAnaG9tZScsICdvdGhlciddO1xuICAgICAgICAgICRzY29wZS5zZWxlY3Rpb24gPSAkc2NvcGUuaXRlbXNbMF07XG4gICAgICAgIH1dKTtcbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gtY29udGFpbmVyIHtcbiAgICAgICAgcG9zaXRpb246cmVsYXRpdmU7XG4gICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XG4gICAgICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7XG4gICAgICAgIGhlaWdodDo0MHB4O1xuICAgICAgICBvdmVyZmxvdzpoaWRkZW47XG4gICAgICB9XG5cbiAgICAgIC5hbmltYXRlLXN3aXRjaCB7XG4gICAgICAgIHBhZGRpbmc6MTBweDtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWFuaW1hdGUge1xuICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcbiAgICAgICAgdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAwLjVzO1xuXG4gICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xuICAgICAgICB0b3A6MDtcbiAgICAgICAgbGVmdDowO1xuICAgICAgICByaWdodDowO1xuICAgICAgICBib3R0b206MDtcbiAgICAgIH1cblxuICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSxcbiAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1lbnRlciB7XG4gICAgICAgIHRvcDotNTBweDtcbiAgICAgIH1cbiAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1sZWF2ZSxcbiAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xuICAgICAgICB0b3A6MDtcbiAgICAgIH1cbiAgICA8L2ZpbGU+XG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgdmFyIHN3aXRjaEVsZW0gPSBlbGVtZW50KGJ5LmNzcygnW25nLXN3aXRjaF0nKSk7XG4gICAgICB2YXIgc2VsZWN0ID0gZWxlbWVudChieS5tb2RlbCgnc2VsZWN0aW9uJykpO1xuXG4gICAgICBpdCgnc2hvdWxkIHN0YXJ0IGluIHNldHRpbmdzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdChzd2l0Y2hFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvU2V0dGluZ3MgRGl2Lyk7XG4gICAgICB9KTtcbiAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHRvIGhvbWUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZWN0LmFsbChieS5jc3MoJ29wdGlvbicpKS5nZXQoMSkuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KHN3aXRjaEVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9Ib21lIFNwYW4vKTtcbiAgICAgIH0pO1xuICAgICAgaXQoJ3Nob3VsZCBzZWxlY3QgZGVmYXVsdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxlY3QuYWxsKGJ5LmNzcygnb3B0aW9uJykpLmdldCgyKS5jbGljaygpO1xuICAgICAgICBleHBlY3Qoc3dpdGNoRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL2RlZmF1bHQvKTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgPC9leGFtcGxlPlxuICovXG52YXIgbmdTd2l0Y2hEaXJlY3RpdmUgPSBbJyRhbmltYXRlJywgZnVuY3Rpb24oJGFuaW1hdGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnbmdTd2l0Y2gnLFxuXG4gICAgLy8gYXNrcyBmb3IgJHNjb3BlIHRvIGZvb2wgdGhlIEJDIGNvbnRyb2xsZXIgbW9kdWxlXG4gICAgY29udHJvbGxlcjogWyckc2NvcGUnLCBmdW5jdGlvbiBuZ1N3aXRjaENvbnRyb2xsZXIoKSB7XG4gICAgIHRoaXMuY2FzZXMgPSB7fTtcbiAgICB9XSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgbmdTd2l0Y2hDb250cm9sbGVyKSB7XG4gICAgICB2YXIgd2F0Y2hFeHByID0gYXR0ci5uZ1N3aXRjaCB8fCBhdHRyLm9uLFxuICAgICAgICAgIHNlbGVjdGVkVHJhbnNjbHVkZXMgPSBbXSxcbiAgICAgICAgICBzZWxlY3RlZEVsZW1lbnRzID0gW10sXG4gICAgICAgICAgcHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMgPSBbXSxcbiAgICAgICAgICBzZWxlY3RlZFNjb3BlcyA9IFtdO1xuXG4gICAgICB2YXIgc3BsaWNlRmFjdG9yeSA9IGZ1bmN0aW9uKGFycmF5LCBpbmRleCkge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTsgfTtcbiAgICAgIH07XG5cbiAgICAgIHNjb3BlLiR3YXRjaCh3YXRjaEV4cHIsIGZ1bmN0aW9uIG5nU3dpdGNoV2F0Y2hBY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIGksIGlpO1xuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IHByZXZpb3VzTGVhdmVBbmltYXRpb25zLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcbiAgICAgICAgICAkYW5pbWF0ZS5jYW5jZWwocHJldmlvdXNMZWF2ZUFuaW1hdGlvbnNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzTGVhdmVBbmltYXRpb25zLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBzZWxlY3RlZFNjb3Blcy5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XG4gICAgICAgICAgdmFyIHNlbGVjdGVkID0gZ2V0QmxvY2tOb2RlcyhzZWxlY3RlZEVsZW1lbnRzW2ldLmNsb25lKTtcbiAgICAgICAgICBzZWxlY3RlZFNjb3Blc1tpXS4kZGVzdHJveSgpO1xuICAgICAgICAgIHZhciBwcm9taXNlID0gcHJldmlvdXNMZWF2ZUFuaW1hdGlvbnNbaV0gPSAkYW5pbWF0ZS5sZWF2ZShzZWxlY3RlZCk7XG4gICAgICAgICAgcHJvbWlzZS50aGVuKHNwbGljZUZhY3RvcnkocHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMsIGkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGVjdGVkRWxlbWVudHMubGVuZ3RoID0gMDtcbiAgICAgICAgc2VsZWN0ZWRTY29wZXMubGVuZ3RoID0gMDtcblxuICAgICAgICBpZiAoKHNlbGVjdGVkVHJhbnNjbHVkZXMgPSBuZ1N3aXRjaENvbnRyb2xsZXIuY2FzZXNbJyEnICsgdmFsdWVdIHx8IG5nU3dpdGNoQ29udHJvbGxlci5jYXNlc1snPyddKSkge1xuICAgICAgICAgIGZvckVhY2goc2VsZWN0ZWRUcmFuc2NsdWRlcywgZnVuY3Rpb24oc2VsZWN0ZWRUcmFuc2NsdWRlKSB7XG4gICAgICAgICAgICBzZWxlY3RlZFRyYW5zY2x1ZGUudHJhbnNjbHVkZShmdW5jdGlvbihjYXNlRWxlbWVudCwgc2VsZWN0ZWRTY29wZSkge1xuICAgICAgICAgICAgICBzZWxlY3RlZFNjb3Blcy5wdXNoKHNlbGVjdGVkU2NvcGUpO1xuICAgICAgICAgICAgICB2YXIgYW5jaG9yID0gc2VsZWN0ZWRUcmFuc2NsdWRlLmVsZW1lbnQ7XG4gICAgICAgICAgICAgIGNhc2VFbGVtZW50W2Nhc2VFbGVtZW50Lmxlbmd0aCsrXSA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJyBlbmQgbmdTd2l0Y2hXaGVuOiAnKTtcbiAgICAgICAgICAgICAgdmFyIGJsb2NrID0geyBjbG9uZTogY2FzZUVsZW1lbnQgfTtcblxuICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnRzLnB1c2goYmxvY2spO1xuICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihjYXNlRWxlbWVudCwgYW5jaG9yLnBhcmVudCgpLCBhbmNob3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dO1xuXG52YXIgbmdTd2l0Y2hXaGVuRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xuICB0cmFuc2NsdWRlOiAnZWxlbWVudCcsXG4gIHByaW9yaXR5OiAxMjAwLFxuICByZXF1aXJlOiAnXm5nU3dpdGNoJyxcbiAgbXVsdGlFbGVtZW50OiB0cnVlLFxuICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwsICR0cmFuc2NsdWRlKSB7XG4gICAgY3RybC5jYXNlc1snIScgKyBhdHRycy5uZ1N3aXRjaFdoZW5dID0gKGN0cmwuY2FzZXNbJyEnICsgYXR0cnMubmdTd2l0Y2hXaGVuXSB8fCBbXSk7XG4gICAgY3RybC5jYXNlc1snIScgKyBhdHRycy5uZ1N3aXRjaFdoZW5dLnB1c2goeyB0cmFuc2NsdWRlOiAkdHJhbnNjbHVkZSwgZWxlbWVudDogZWxlbWVudCB9KTtcbiAgfVxufSk7XG5cbnZhciBuZ1N3aXRjaERlZmF1bHREaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7XG4gIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcbiAgcHJpb3JpdHk6IDEyMDAsXG4gIHJlcXVpcmU6ICdebmdTd2l0Y2gnLFxuICBtdWx0aUVsZW1lbnQ6IHRydWUsXG4gIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkdHJhbnNjbHVkZSkge1xuICAgIGN0cmwuY2FzZXNbJz8nXSA9IChjdHJsLmNhc2VzWyc/J10gfHwgW10pO1xuICAgIGN0cmwuY2FzZXNbJz8nXS5wdXNoKHsgdHJhbnNjbHVkZTogJHRyYW5zY2x1ZGUsIGVsZW1lbnQ6IGVsZW1lbnQgfSk7XG4gICB9XG59KTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBuZ1RyYW5zY2x1ZGVcbiAqIEByZXN0cmljdCBFQUNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIERpcmVjdGl2ZSB0aGF0IG1hcmtzIHRoZSBpbnNlcnRpb24gcG9pbnQgZm9yIHRoZSB0cmFuc2NsdWRlZCBET00gb2YgdGhlIG5lYXJlc3QgcGFyZW50IGRpcmVjdGl2ZSB0aGF0IHVzZXMgdHJhbnNjbHVzaW9uLlxuICpcbiAqIEFueSBleGlzdGluZyBjb250ZW50IG9mIHRoZSBlbGVtZW50IHRoYXQgdGhpcyBkaXJlY3RpdmUgaXMgcGxhY2VkIG9uIHdpbGwgYmUgcmVtb3ZlZCBiZWZvcmUgdGhlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgaXMgaW5zZXJ0ZWQuXG4gKlxuICogQGVsZW1lbnQgQU5ZXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cInRyYW5zY2x1ZGVFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd0cmFuc2NsdWRlRXhhbXBsZScsIFtdKVxuICAgICAgICAgIC5kaXJlY3RpdmUoJ3BhbmUnLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgICAgICAgICAgIHNjb3BlOiB7IHRpdGxlOidAJyB9LFxuICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IHN0eWxlPVwiYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IGdyYXlcIj57e3RpdGxlfX08L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICc8bmctdHJhbnNjbHVkZT48L25nLXRyYW5zY2x1ZGU+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PidcbiAgICAgICAgICAgICB9O1xuICAgICAgICAgfSlcbiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgICRzY29wZS50aXRsZSA9ICdMb3JlbSBJcHN1bSc7XG4gICAgICAgICAgICRzY29wZS50ZXh0ID0gJ05lcXVlIHBvcnJvIHF1aXNxdWFtIGVzdCBxdWkgZG9sb3JlbSBpcHN1bSBxdWlhIGRvbG9yLi4uJztcbiAgICAgICAgIH1dKTtcbiAgICAgICA8L3NjcmlwdD5cbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwidGl0bGVcIiBhcmlhLWxhYmVsPVwidGl0bGVcIj4gPGJyLz5cbiAgICAgICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cInRleHRcIiBhcmlhLWxhYmVsPVwidGV4dFwiPjwvdGV4dGFyZWE+IDxici8+XG4gICAgICAgICA8cGFuZSB0aXRsZT1cInt7dGl0bGV9fVwiPnt7dGV4dH19PC9wYW5lPlxuICAgICAgIDwvZGl2PlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICAgaXQoJ3Nob3VsZCBoYXZlIHRyYW5zY2x1ZGVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHRpdGxlRWxlbWVudCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RpdGxlJykpO1xuICAgICAgICAgIHRpdGxlRWxlbWVudC5jbGVhcigpO1xuICAgICAgICAgIHRpdGxlRWxlbWVudC5zZW5kS2V5cygnVElUTEUnKTtcbiAgICAgICAgICB2YXIgdGV4dEVsZW1lbnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0ZXh0JykpO1xuICAgICAgICAgIHRleHRFbGVtZW50LmNsZWFyKCk7XG4gICAgICAgICAgdGV4dEVsZW1lbnQuc2VuZEtleXMoJ1RFWFQnKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd0aXRsZScpKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1RJVExFJyk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndGV4dCcpKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1RFWFQnKTtcbiAgICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqXG4gKi9cbnZhciBuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7XG4gIHJlc3RyaWN0OiAnRUFDJyxcbiAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCBjb250cm9sbGVyLCAkdHJhbnNjbHVkZSkge1xuICAgIGlmICghJHRyYW5zY2x1ZGUpIHtcbiAgICAgIHRocm93IG1pbkVycignbmdUcmFuc2NsdWRlJykoJ29ycGhhbicsXG4gICAgICAgJ0lsbGVnYWwgdXNlIG9mIG5nVHJhbnNjbHVkZSBkaXJlY3RpdmUgaW4gdGhlIHRlbXBsYXRlISAnICtcbiAgICAgICAnTm8gcGFyZW50IGRpcmVjdGl2ZSB0aGF0IHJlcXVpcmVzIGEgdHJhbnNjbHVzaW9uIGZvdW5kLiAnICtcbiAgICAgICAnRWxlbWVudDogezB9JyxcbiAgICAgICBzdGFydGluZ1RhZygkZWxlbWVudCkpO1xuICAgIH1cblxuICAgICR0cmFuc2NsdWRlKGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICAkZWxlbWVudC5lbXB0eSgpO1xuICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcbiAgICB9KTtcbiAgfVxufSk7XG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgc2NyaXB0XG4gKiBAcmVzdHJpY3QgRVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogTG9hZCB0aGUgY29udGVudCBvZiBhIGA8c2NyaXB0PmAgZWxlbWVudCBpbnRvIHtAbGluayBuZy4kdGVtcGxhdGVDYWNoZSBgJHRlbXBsYXRlQ2FjaGVgfSwgc28gdGhhdCB0aGVcbiAqIHRlbXBsYXRlIGNhbiBiZSB1c2VkIGJ5IHtAbGluayBuZy5kaXJlY3RpdmU6bmdJbmNsdWRlIGBuZ0luY2x1ZGVgfSxcbiAqIHtAbGluayBuZ1JvdXRlLmRpcmVjdGl2ZTpuZ1ZpZXcgYG5nVmlld2B9LCBvciB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LiBUaGUgdHlwZSBvZiB0aGVcbiAqIGA8c2NyaXB0PmAgZWxlbWVudCBtdXN0IGJlIHNwZWNpZmllZCBhcyBgdGV4dC9uZy10ZW1wbGF0ZWAsIGFuZCBhIGNhY2hlIG5hbWUgZm9yIHRoZSB0ZW1wbGF0ZSBtdXN0IGJlXG4gKiBhc3NpZ25lZCB0aHJvdWdoIHRoZSBlbGVtZW50J3MgYGlkYCwgd2hpY2ggY2FuIHRoZW4gYmUgdXNlZCBhcyBhIGRpcmVjdGl2ZSdzIGB0ZW1wbGF0ZVVybGAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgTXVzdCBiZSBzZXQgdG8gYCd0ZXh0L25nLXRlbXBsYXRlJ2AuXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgQ2FjaGUgbmFtZSBvZiB0aGUgdGVtcGxhdGUuXG4gKlxuICogQGV4YW1wbGVcbiAgPGV4YW1wbGU+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxzY3JpcHQgdHlwZT1cInRleHQvbmctdGVtcGxhdGVcIiBpZD1cIi90cGwuaHRtbFwiPlxuICAgICAgICBDb250ZW50IG9mIHRoZSB0ZW1wbGF0ZS5cbiAgICAgIDwvc2NyaXB0PlxuXG4gICAgICA8YSBuZy1jbGljaz1cImN1cnJlbnRUcGw9Jy90cGwuaHRtbCdcIiBpZD1cInRwbC1saW5rXCI+TG9hZCBpbmxpbmVkIHRlbXBsYXRlPC9hPlxuICAgICAgPGRpdiBpZD1cInRwbC1jb250ZW50XCIgbmctaW5jbHVkZSBzcmM9XCJjdXJyZW50VHBsXCI+PC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgIGl0KCdzaG91bGQgbG9hZCB0ZW1wbGF0ZSBkZWZpbmVkIGluc2lkZSBzY3JpcHQgdGFnJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQoYnkuY3NzKCcjdHBsLWxpbmsnKSkuY2xpY2soKTtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjdHBsLWNvbnRlbnQnKSkuZ2V0VGV4dCgpKS50b01hdGNoKC9Db250ZW50IG9mIHRoZSB0ZW1wbGF0ZS8pO1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICA8L2V4YW1wbGU+XG4gKi9cbnZhciBzY3JpcHREaXJlY3RpdmUgPSBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0UnLFxuICAgIHRlcm1pbmFsOiB0cnVlLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIGlmIChhdHRyLnR5cGUgPT0gJ3RleHQvbmctdGVtcGxhdGUnKSB7XG4gICAgICAgIHZhciB0ZW1wbGF0ZVVybCA9IGF0dHIuaWQsXG4gICAgICAgICAgICB0ZXh0ID0gZWxlbWVudFswXS50ZXh0O1xuXG4gICAgICAgICR0ZW1wbGF0ZUNhY2hlLnB1dCh0ZW1wbGF0ZVVybCwgdGV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufV07XG5cbnZhciBub29wTmdNb2RlbENvbnRyb2xsZXIgPSB7ICRzZXRWaWV3VmFsdWU6IG5vb3AsICRyZW5kZXI6IG5vb3AgfTtcblxuLyoqXG4gKiBAbmdkb2MgdHlwZVxuICogQG5hbWUgIHNlbGVjdC5TZWxlY3RDb250cm9sbGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBjb250cm9sbGVyIGZvciB0aGUgYDxzZWxlY3Q+YCBkaXJlY3RpdmUuIFRoaXMgcHJvdmlkZXMgc3VwcG9ydCBmb3IgcmVhZGluZ1xuICogYW5kIHdyaXRpbmcgdGhlIHNlbGVjdGVkIHZhbHVlKHMpIG9mIHRoZSBjb250cm9sIGFuZCBhbHNvIGNvb3JkaW5hdGVzIGR5bmFtaWNhbGx5XG4gKiBhZGRlZCBgPG9wdGlvbj5gIGVsZW1lbnRzLCBwZXJoYXBzIGJ5IGFuIGBuZ1JlcGVhdGAgZGlyZWN0aXZlLlxuICovXG52YXIgU2VsZWN0Q29udHJvbGxlciA9XG4gICAgICAgIFsnJGVsZW1lbnQnLCAnJHNjb3BlJywgJyRhdHRycycsIGZ1bmN0aW9uKCRlbGVtZW50LCAkc2NvcGUsICRhdHRycykge1xuXG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIG9wdGlvbnNNYXAgPSBuZXcgSGFzaE1hcCgpO1xuXG4gIC8vIElmIHRoZSBuZ01vZGVsIGRvZXNuJ3QgZ2V0IHByb3ZpZGVkIHRoZW4gcHJvdmlkZSBhIGR1bW15IG5vb3AgdmVyc2lvbiB0byBwcmV2ZW50IGVycm9yc1xuICBzZWxmLm5nTW9kZWxDdHJsID0gbm9vcE5nTW9kZWxDb250cm9sbGVyO1xuXG4gIC8vIFRoZSBcInVua25vd25cIiBvcHRpb24gaXMgb25lIHRoYXQgaXMgcHJlcGVuZGVkIHRvIHRoZSBsaXN0IGlmIHRoZSB2aWV3VmFsdWVcbiAgLy8gZG9lcyBub3QgbWF0Y2ggYW55IG9mIHRoZSBvcHRpb25zLiBXaGVuIGl0IGlzIHJlbmRlcmVkIHRoZSB2YWx1ZSBvZiB0aGUgdW5rbm93blxuICAvLyBvcHRpb24gaXMgJz8gWFhYID8nIHdoZXJlIFhYWCBpcyB0aGUgaGFzaEtleSBvZiB0aGUgdmFsdWUgdGhhdCBpcyBub3Qga25vd24uXG4gIC8vXG4gIC8vIFdlIGNhbid0IGp1c3QganFMaXRlKCc8b3B0aW9uPicpIHNpbmNlIGpxTGl0ZSBpcyBub3Qgc21hcnQgZW5vdWdoXG4gIC8vIHRvIGNyZWF0ZSBpdCBpbiA8c2VsZWN0PiBhbmQgSUUgYmFyZnMgb3RoZXJ3aXNlLlxuICBzZWxmLnVua25vd25PcHRpb24gPSBqcUxpdGUoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJykpO1xuICBzZWxmLnJlbmRlclVua25vd25PcHRpb24gPSBmdW5jdGlvbih2YWwpIHtcbiAgICB2YXIgdW5rbm93blZhbCA9ICc/ICcgKyBoYXNoS2V5KHZhbCkgKyAnID8nO1xuICAgIHNlbGYudW5rbm93bk9wdGlvbi52YWwodW5rbm93blZhbCk7XG4gICAgJGVsZW1lbnQucHJlcGVuZChzZWxmLnVua25vd25PcHRpb24pO1xuICAgICRlbGVtZW50LnZhbCh1bmtub3duVmFsKTtcbiAgfTtcblxuICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgIC8vIGRpc2FibGUgdW5rbm93biBvcHRpb24gc28gdGhhdCB3ZSBkb24ndCBkbyB3b3JrIHdoZW4gdGhlIHdob2xlIHNlbGVjdCBpcyBiZWluZyBkZXN0cm95ZWRcbiAgICBzZWxmLnJlbmRlclVua25vd25PcHRpb24gPSBub29wO1xuICB9KTtcblxuICBzZWxmLnJlbW92ZVVua25vd25PcHRpb24gPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoc2VsZi51bmtub3duT3B0aW9uLnBhcmVudCgpKSBzZWxmLnVua25vd25PcHRpb24ucmVtb3ZlKCk7XG4gIH07XG5cblxuICAvLyBSZWFkIHRoZSB2YWx1ZSBvZiB0aGUgc2VsZWN0IGNvbnRyb2wsIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGlzIGNoYW5nZXMgZGVwZW5kaW5nXG4gIC8vIHVwb24gd2hldGhlciB0aGUgc2VsZWN0IGNhbiBoYXZlIG11bHRpcGxlIHZhbHVlcyBhbmQgd2hldGhlciBuZ09wdGlvbnMgaXMgYXQgd29yay5cbiAgc2VsZi5yZWFkVmFsdWUgPSBmdW5jdGlvbiByZWFkU2luZ2xlVmFsdWUoKSB7XG4gICAgc2VsZi5yZW1vdmVVbmtub3duT3B0aW9uKCk7XG4gICAgcmV0dXJuICRlbGVtZW50LnZhbCgpO1xuICB9O1xuXG5cbiAgLy8gV3JpdGUgdGhlIHZhbHVlIHRvIHRoZSBzZWxlY3QgY29udHJvbCwgdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoaXMgY2hhbmdlcyBkZXBlbmRpbmdcbiAgLy8gdXBvbiB3aGV0aGVyIHRoZSBzZWxlY3QgY2FuIGhhdmUgbXVsdGlwbGUgdmFsdWVzIGFuZCB3aGV0aGVyIG5nT3B0aW9ucyBpcyBhdCB3b3JrLlxuICBzZWxmLndyaXRlVmFsdWUgPSBmdW5jdGlvbiB3cml0ZVNpbmdsZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHNlbGYuaGFzT3B0aW9uKHZhbHVlKSkge1xuICAgICAgc2VsZi5yZW1vdmVVbmtub3duT3B0aW9uKCk7XG4gICAgICAkZWxlbWVudC52YWwodmFsdWUpO1xuICAgICAgaWYgKHZhbHVlID09PSAnJykgc2VsZi5lbXB0eU9wdGlvbi5wcm9wKCdzZWxlY3RlZCcsIHRydWUpOyAvLyB0byBtYWtlIElFOSBoYXBweVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiBzZWxmLmVtcHR5T3B0aW9uKSB7XG4gICAgICAgIHNlbGYucmVtb3ZlVW5rbm93bk9wdGlvbigpO1xuICAgICAgICAkZWxlbWVudC52YWwoJycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5yZW5kZXJVbmtub3duT3B0aW9uKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cblxuICAvLyBUZWxsIHRoZSBzZWxlY3QgY29udHJvbCB0aGF0IGFuIG9wdGlvbiwgd2l0aCB0aGUgZ2l2ZW4gdmFsdWUsIGhhcyBiZWVuIGFkZGVkXG4gIHNlbGYuYWRkT3B0aW9uID0gZnVuY3Rpb24odmFsdWUsIGVsZW1lbnQpIHtcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgJ1wib3B0aW9uIHZhbHVlXCInKTtcbiAgICBpZiAodmFsdWUgPT09ICcnKSB7XG4gICAgICBzZWxmLmVtcHR5T3B0aW9uID0gZWxlbWVudDtcbiAgICB9XG4gICAgdmFyIGNvdW50ID0gb3B0aW9uc01hcC5nZXQodmFsdWUpIHx8IDA7XG4gICAgb3B0aW9uc01hcC5wdXQodmFsdWUsIGNvdW50ICsgMSk7XG4gIH07XG5cbiAgLy8gVGVsbCB0aGUgc2VsZWN0IGNvbnRyb2wgdGhhdCBhbiBvcHRpb24sIHdpdGggdGhlIGdpdmVuIHZhbHVlLCBoYXMgYmVlbiByZW1vdmVkXG4gIHNlbGYucmVtb3ZlT3B0aW9uID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgY291bnQgPSBvcHRpb25zTWFwLmdldCh2YWx1ZSk7XG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBpZiAoY291bnQgPT09IDEpIHtcbiAgICAgICAgb3B0aW9uc01hcC5yZW1vdmUodmFsdWUpO1xuICAgICAgICBpZiAodmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgc2VsZi5lbXB0eU9wdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9uc01hcC5wdXQodmFsdWUsIGNvdW50IC0gMSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIENoZWNrIHdoZXRoZXIgdGhlIHNlbGVjdCBjb250cm9sIGhhcyBhbiBvcHRpb24gbWF0Y2hpbmcgdGhlIGdpdmVuIHZhbHVlXG4gIHNlbGYuaGFzT3B0aW9uID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gISFvcHRpb25zTWFwLmdldCh2YWx1ZSk7XG4gIH07XG59XTtcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSBzZWxlY3RcbiAqIEByZXN0cmljdCBFXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBIVE1MIGBTRUxFQ1RgIGVsZW1lbnQgd2l0aCBhbmd1bGFyIGRhdGEtYmluZGluZy5cbiAqXG4gKiBJbiBtYW55IGNhc2VzLCBgbmdSZXBlYXRgIGNhbiBiZSB1c2VkIG9uIGA8b3B0aW9uPmAgZWxlbWVudHMgaW5zdGVhZCBvZiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nT3B0aW9uc1xuICogbmdPcHRpb25zfSB0byBhY2hpZXZlIGEgc2ltaWxhciByZXN1bHQuIEhvd2V2ZXIsIGBuZ09wdGlvbnNgIHByb3ZpZGVzIHNvbWUgYmVuZWZpdHMgc3VjaCBhcyByZWR1Y2luZ1xuICogbWVtb3J5IGFuZCBpbmNyZWFzaW5nIHNwZWVkIGJ5IG5vdCBjcmVhdGluZyBhIG5ldyBzY29wZSBmb3IgZWFjaCByZXBlYXRlZCBpbnN0YW5jZSwgYXMgd2VsbCBhcyBwcm92aWRpbmdcbiAqIG1vcmUgZmxleGliaWxpdHkgaW4gaG93IHRoZSBgPHNlbGVjdD5gJ3MgbW9kZWwgaXMgYXNzaWduZWQgdmlhIHRoZSBgc2VsZWN0YCAqKmBhc2AqKiBwYXJ0IG9mIHRoZVxuICogY29tcHJlaGVuc2lvbiBleHByZXNzaW9uLlxuICpcbiAqIFdoZW4gYW4gaXRlbSBpbiB0aGUgYDxzZWxlY3Q+YCBtZW51IGlzIHNlbGVjdGVkLCB0aGUgYXJyYXkgZWxlbWVudCBvciBvYmplY3QgcHJvcGVydHlcbiAqIHJlcHJlc2VudGVkIGJ5IHRoZSBzZWxlY3RlZCBvcHRpb24gd2lsbCBiZSBib3VuZCB0byB0aGUgbW9kZWwgaWRlbnRpZmllZCBieSB0aGUgYG5nTW9kZWxgXG4gKiBkaXJlY3RpdmUuXG4gKlxuICogSWYgdGhlIHZpZXdWYWx1ZSBjb250YWlucyBhIHZhbHVlIHRoYXQgZG9lc24ndCBtYXRjaCBhbnkgb2YgdGhlIG9wdGlvbnMgdGhlbiB0aGUgY29udHJvbFxuICogd2lsbCBhdXRvbWF0aWNhbGx5IGFkZCBhbiBcInVua25vd25cIiBvcHRpb24sIHdoaWNoIGl0IHRoZW4gcmVtb3ZlcyB3aGVuIHRoaXMgaXMgcmVzb2x2ZWQuXG4gKlxuICogT3B0aW9uYWxseSwgYSBzaW5nbGUgaGFyZC1jb2RlZCBgPG9wdGlvbj5gIGVsZW1lbnQsIHdpdGggdGhlIHZhbHVlIHNldCB0byBhbiBlbXB0eSBzdHJpbmcsIGNhblxuICogYmUgbmVzdGVkIGludG8gdGhlIGA8c2VsZWN0PmAgZWxlbWVudC4gVGhpcyBlbGVtZW50IHdpbGwgdGhlbiByZXByZXNlbnQgdGhlIGBudWxsYCBvciBcIm5vdCBzZWxlY3RlZFwiXG4gKiBvcHRpb24uIFNlZSBleGFtcGxlIGJlbG93IGZvciBkZW1vbnN0cmF0aW9uLlxuICpcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XG4gKiBUaGUgdmFsdWUgb2YgYSBgc2VsZWN0YCBkaXJlY3RpdmUgdXNlZCB3aXRob3V0IGBuZ09wdGlvbnNgIGlzIGFsd2F5cyBhIHN0cmluZy5cbiAqIFdoZW4gdGhlIG1vZGVsIG5lZWRzIHRvIGJlIGJvdW5kIHRvIGEgbm9uLXN0cmluZyB2YWx1ZSwgeW91IG11c3QgZWl0aGVyIGV4cGxpY3RseSBjb252ZXJ0IGl0XG4gKiB1c2luZyBhIGRpcmVjdGl2ZSAoc2VlIGV4YW1wbGUgYmVsb3cpIG9yIHVzZSBgbmdPcHRpb25zYCB0byBzcGVjaWZ5IHRoZSBzZXQgb2Ygb3B0aW9ucy5cbiAqIFRoaXMgaXMgYmVjYXVzZSBhbiBvcHRpb24gZWxlbWVudCBjYW4gb25seSBiZSBib3VuZCB0byBzdHJpbmcgdmFsdWVzIGF0IHByZXNlbnQuXG4gKiA8L2Rpdj5cbiAqXG4gKiAjIyMgRXhhbXBsZSAoYmluZGluZyBgc2VsZWN0YCB0byBhIG5vbi1zdHJpbmcgdmFsdWUpXG4gKlxuICogPGV4YW1wbGUgbmFtZT1cInNlbGVjdC13aXRoLW5vbi1zdHJpbmctb3B0aW9uc1wiIG1vZHVsZT1cIm5vblN0cmluZ1NlbGVjdFwiPlxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICogICAgIDxzZWxlY3QgbmctbW9kZWw9XCJtb2RlbC5pZFwiIGNvbnZlcnQtdG8tbnVtYmVyPlxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIjBcIj5aZXJvPC9vcHRpb24+XG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwiMVwiPk9uZTwvb3B0aW9uPlxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIjJcIj5Ud288L29wdGlvbj5cbiAqICAgICA8L3NlbGVjdD5cbiAqICAgICB7eyBtb2RlbCB9fVxuICogICA8L2ZpbGU+XG4gKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cbiAqICAgICBhbmd1bGFyLm1vZHVsZSgnbm9uU3RyaW5nU2VsZWN0JywgW10pXG4gKiAgICAgICAucnVuKGZ1bmN0aW9uKCRyb290U2NvcGUpIHtcbiAqICAgICAgICAgJHJvb3RTY29wZS5tb2RlbCA9IHsgaWQ6IDIgfTtcbiAqICAgICAgIH0pXG4gKiAgICAgICAuZGlyZWN0aXZlKCdjb252ZXJ0VG9OdW1iZXInLCBmdW5jdGlvbigpIHtcbiAqICAgICAgICAgcmV0dXJuIHtcbiAqICAgICAgICAgICByZXF1aXJlOiAnbmdNb2RlbCcsXG4gKiAgICAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XG4gKiAgICAgICAgICAgICBuZ01vZGVsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsKSB7XG4gKiAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh2YWwsIDEwKTtcbiAqICAgICAgICAgICAgIH0pO1xuICogICAgICAgICAgICAgbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbCkge1xuICogICAgICAgICAgICAgICByZXR1cm4gJycgKyB2YWw7XG4gKiAgICAgICAgICAgICB9KTtcbiAqICAgICAgICAgICB9XG4gKiAgICAgICAgIH07XG4gKiAgICAgICB9KTtcbiAqICAgPC9maWxlPlxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gKiAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XG4gKiAgICAgICB2YXIgc2VsZWN0ID0gZWxlbWVudChieS5jc3MoJ3NlbGVjdCcpKTtcbiAqICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCdtb2RlbC5pZCcpKS4kKCdvcHRpb246Y2hlY2tlZCcpLmdldFRleHQoKSkudG9FcXVhbCgnVHdvJyk7XG4gKiAgICAgfSk7XG4gKiAgIDwvZmlsZT5cbiAqIDwvZXhhbXBsZT5cbiAqXG4gKi9cbnZhciBzZWxlY3REaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRScsXG4gICAgcmVxdWlyZTogWydzZWxlY3QnLCAnP25nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiBTZWxlY3RDb250cm9sbGVyLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xuXG4gICAgICAvLyBpZiBuZ01vZGVsIGlzIG5vdCBkZWZpbmVkLCB3ZSBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nXG4gICAgICB2YXIgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcbiAgICAgIGlmICghbmdNb2RlbEN0cmwpIHJldHVybjtcblxuICAgICAgdmFyIHNlbGVjdEN0cmwgPSBjdHJsc1swXTtcblxuICAgICAgc2VsZWN0Q3RybC5uZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsO1xuXG4gICAgICAvLyBXZSBkZWxlZ2F0ZSByZW5kZXJpbmcgdG8gdGhlIGB3cml0ZVZhbHVlYCBtZXRob2QsIHdoaWNoIGNhbiBiZSBjaGFuZ2VkXG4gICAgICAvLyBpZiB0aGUgc2VsZWN0IGNhbiBoYXZlIG11bHRpcGxlIHNlbGVjdGVkIHZhbHVlcyBvciBpZiB0aGUgb3B0aW9ucyBhcmUgYmVpbmdcbiAgICAgIC8vIGdlbmVyYXRlZCBieSBgbmdPcHRpb25zYFxuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxlY3RDdHJsLndyaXRlVmFsdWUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSk7XG4gICAgICB9O1xuXG4gICAgICAvLyBXaGVuIHRoZSBzZWxlY3RlZCBpdGVtKHMpIGNoYW5nZXMgd2UgZGVsZWdhdGUgZ2V0dGluZyB0aGUgdmFsdWUgb2YgdGhlIHNlbGVjdCBjb250cm9sXG4gICAgICAvLyB0byB0aGUgYHJlYWRWYWx1ZWAgbWV0aG9kLCB3aGljaCBjYW4gYmUgY2hhbmdlZCBpZiB0aGUgc2VsZWN0IGNhbiBoYXZlIG11bHRpcGxlXG4gICAgICAvLyBzZWxlY3RlZCB2YWx1ZXMgb3IgaWYgdGhlIG9wdGlvbnMgYXJlIGJlaW5nIGdlbmVyYXRlZCBieSBgbmdPcHRpb25zYFxuICAgICAgZWxlbWVudC5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHNlbGVjdEN0cmwucmVhZFZhbHVlKCkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBJZiB0aGUgc2VsZWN0IGFsbG93cyBtdWx0aXBsZSB2YWx1ZXMgdGhlbiB3ZSBuZWVkIHRvIG1vZGlmeSBob3cgd2UgcmVhZCBhbmQgd3JpdGVcbiAgICAgIC8vIHZhbHVlcyBmcm9tIGFuZCB0byB0aGUgY29udHJvbDsgYWxzbyB3aGF0IGl0IG1lYW5zIGZvciB0aGUgdmFsdWUgdG8gYmUgZW1wdHkgYW5kXG4gICAgICAvLyB3ZSBoYXZlIHRvIGFkZCBhbiBleHRyYSB3YXRjaCBzaW5jZSBuZ01vZGVsIGRvZXNuJ3Qgd29yayB3ZWxsIHdpdGggYXJyYXlzIC0gaXRcbiAgICAgIC8vIGRvZXNuJ3QgdHJpZ2dlciByZW5kZXJpbmcgaWYgb25seSBhbiBpdGVtIGluIHRoZSBhcnJheSBjaGFuZ2VzLlxuICAgICAgaWYgKGF0dHIubXVsdGlwbGUpIHtcblxuICAgICAgICAvLyBSZWFkIHZhbHVlIG5vdyBuZWVkcyB0byBjaGVjayBlYWNoIG9wdGlvbiB0byBzZWUgaWYgaXQgaXMgc2VsZWN0ZWRcbiAgICAgICAgc2VsZWN0Q3RybC5yZWFkVmFsdWUgPSBmdW5jdGlvbiByZWFkTXVsdGlwbGVWYWx1ZSgpIHtcbiAgICAgICAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICAgICAgICBmb3JFYWNoKGVsZW1lbnQuZmluZCgnb3B0aW9uJyksIGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICBhcnJheS5wdXNoKG9wdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFdyaXRlIHZhbHVlIG5vdyBuZWVkcyB0byBzZXQgdGhlIHNlbGVjdGVkIHByb3BlcnR5IG9mIGVhY2ggbWF0Y2hpbmcgb3B0aW9uXG4gICAgICAgIHNlbGVjdEN0cmwud3JpdGVWYWx1ZSA9IGZ1bmN0aW9uIHdyaXRlTXVsdGlwbGVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICAgIHZhciBpdGVtcyA9IG5ldyBIYXNoTWFwKHZhbHVlKTtcbiAgICAgICAgICBmb3JFYWNoKGVsZW1lbnQuZmluZCgnb3B0aW9uJyksIGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gaXNEZWZpbmVkKGl0ZW1zLmdldChvcHRpb24udmFsdWUpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyB3ZSBoYXZlIHRvIGRvIGl0IG9uIGVhY2ggd2F0Y2ggc2luY2UgbmdNb2RlbCB3YXRjaGVzIHJlZmVyZW5jZSwgYnV0XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gd29yayBvZiBhbiBhcnJheSwgc28gd2UgbmVlZCB0byBzZWUgaWYgYW55dGhpbmcgd2FzIGluc2VydGVkL3JlbW92ZWRcbiAgICAgICAgdmFyIGxhc3RWaWV3LCBsYXN0Vmlld1JlZiA9IE5hTjtcbiAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIHNlbGVjdE11bHRpcGxlV2F0Y2goKSB7XG4gICAgICAgICAgaWYgKGxhc3RWaWV3UmVmID09PSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlICYmICFlcXVhbHMobGFzdFZpZXcsIG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpKSB7XG4gICAgICAgICAgICBsYXN0VmlldyA9IHNoYWxsb3dDb3B5KG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpO1xuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsYXN0Vmlld1JlZiA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIElmIHdlIGFyZSBhIG11bHRpcGxlIHNlbGVjdCB0aGVuIHZhbHVlIGlzIG5vdyBhIGNvbGxlY3Rpb25cbiAgICAgICAgLy8gc28gdGhlIG1lYW5pbmcgb2YgJGlzRW1wdHkgY2hhbmdlc1xuICAgICAgICBuZ01vZGVsQ3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuICF2YWx1ZSB8fCB2YWx1ZS5sZW5ndGggPT09IDA7XG4gICAgICAgIH07XG5cbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG5cbi8vIFRoZSBvcHRpb24gZGlyZWN0aXZlIGlzIHB1cmVseSBkZXNpZ25lZCB0byBjb21tdW5pY2F0ZSB0aGUgZXhpc3RlbmNlIChvciBsYWNrIG9mKVxuLy8gb2YgZHluYW1pY2FsbHkgY3JlYXRlZCAoYW5kIGRlc3Ryb3llZCkgb3B0aW9uIGVsZW1lbnRzIHRvIHRoZWlyIGNvbnRhaW5pbmcgc2VsZWN0XG4vLyBkaXJlY3RpdmUgdmlhIGl0cyBjb250cm9sbGVyLlxudmFyIG9wdGlvbkRpcmVjdGl2ZSA9IFsnJGludGVycG9sYXRlJywgZnVuY3Rpb24oJGludGVycG9sYXRlKSB7XG5cbiAgZnVuY3Rpb24gY2hyb21lSGFjayhvcHRpb25FbGVtZW50KSB7XG4gICAgLy8gV29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM4MTQ1OVxuICAgIC8vIEFkZGluZyBhbiA8b3B0aW9uIHNlbGVjdGVkPVwic2VsZWN0ZWRcIj4gZWxlbWVudCB0byBhIDxzZWxlY3QgcmVxdWlyZWQ9XCJyZXF1aXJlZFwiPiBzaG91bGRcbiAgICAvLyBhdXRvbWF0aWNhbGx5IHNlbGVjdCB0aGUgbmV3IGVsZW1lbnRcbiAgICBpZiAob3B0aW9uRWxlbWVudFswXS5oYXNBdHRyaWJ1dGUoJ3NlbGVjdGVkJykpIHtcbiAgICAgIG9wdGlvbkVsZW1lbnRbMF0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICBwcmlvcml0eTogMTAwLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcblxuICAgICAgLy8gSWYgdGhlIHZhbHVlIGF0dHJpYnV0ZSBpcyBub3QgZGVmaW5lZCB0aGVuIHdlIGZhbGwgYmFjayB0byB0aGVcbiAgICAgIC8vIHRleHQgY29udGVudCBvZiB0aGUgb3B0aW9uIGVsZW1lbnQsIHdoaWNoIG1heSBiZSBpbnRlcnBvbGF0ZWRcbiAgICAgIGlmIChpc1VuZGVmaW5lZChhdHRyLnZhbHVlKSkge1xuICAgICAgICB2YXIgaW50ZXJwb2xhdGVGbiA9ICRpbnRlcnBvbGF0ZShlbGVtZW50LnRleHQoKSwgdHJ1ZSk7XG4gICAgICAgIGlmICghaW50ZXJwb2xhdGVGbikge1xuICAgICAgICAgIGF0dHIuJHNldCgndmFsdWUnLCBlbGVtZW50LnRleHQoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG5cbiAgICAgICAgLy8gVGhpcyBpcyBhbiBvcHRpbWl6YXRpb24gb3ZlciB1c2luZyBeXiBzaW5jZSB3ZSBkb24ndCB3YW50IHRvIGhhdmUgdG8gc2VhcmNoXG4gICAgICAgIC8vIGFsbCB0aGUgd2F5IHRvIHRoZSByb290IG9mIHRoZSBET00gZm9yIGV2ZXJ5IHNpbmdsZSBvcHRpb24gZWxlbWVudFxuICAgICAgICB2YXIgc2VsZWN0Q3RybE5hbWUgPSAnJHNlbGVjdENvbnRyb2xsZXInLFxuICAgICAgICAgICAgcGFyZW50ID0gZWxlbWVudC5wYXJlbnQoKSxcbiAgICAgICAgICAgIHNlbGVjdEN0cmwgPSBwYXJlbnQuZGF0YShzZWxlY3RDdHJsTmFtZSkgfHxcbiAgICAgICAgICAgICAgcGFyZW50LnBhcmVudCgpLmRhdGEoc2VsZWN0Q3RybE5hbWUpOyAvLyBpbiBjYXNlIHdlIGFyZSBpbiBvcHRncm91cFxuXG4gICAgICAgIC8vIE9ubHkgdXBkYXRlIHRyaWdnZXIgb3B0aW9uIHVwZGF0ZXMgaWYgdGhpcyBpcyBhbiBvcHRpb24gd2l0aGluIGEgYHNlbGVjdGBcbiAgICAgICAgLy8gdGhhdCBhbHNvIGhhcyBgbmdNb2RlbGAgYXR0YWNoZWRcbiAgICAgICAgaWYgKHNlbGVjdEN0cmwgJiYgc2VsZWN0Q3RybC5uZ01vZGVsQ3RybCkge1xuXG4gICAgICAgICAgaWYgKGludGVycG9sYXRlRm4pIHtcbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaChpbnRlcnBvbGF0ZUZuLCBmdW5jdGlvbiBpbnRlcnBvbGF0ZVdhdGNoQWN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7XG4gICAgICAgICAgICAgIGF0dHIuJHNldCgndmFsdWUnLCBuZXdWYWwpO1xuICAgICAgICAgICAgICBpZiAob2xkVmFsICE9PSBuZXdWYWwpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RDdHJsLnJlbW92ZU9wdGlvbihvbGRWYWwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNlbGVjdEN0cmwuYWRkT3B0aW9uKG5ld1ZhbCwgZWxlbWVudCk7XG4gICAgICAgICAgICAgIHNlbGVjdEN0cmwubmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICAgICAgICBjaHJvbWVIYWNrKGVsZW1lbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGVjdEN0cmwuYWRkT3B0aW9uKGF0dHIudmFsdWUsIGVsZW1lbnQpO1xuICAgICAgICAgICAgc2VsZWN0Q3RybC5uZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICAgICAgICBjaHJvbWVIYWNrKGVsZW1lbnQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxlY3RDdHJsLnJlbW92ZU9wdGlvbihhdHRyLnZhbHVlKTtcbiAgICAgICAgICAgIHNlbGVjdEN0cmwubmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dO1xuXG52YXIgc3R5bGVEaXJlY3RpdmUgPSB2YWx1ZUZuKHtcbiAgcmVzdHJpY3Q6ICdFJyxcbiAgdGVybWluYWw6IGZhbHNlXG59KTtcblxudmFyIHJlcXVpcmVkRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbG0sIGF0dHIsIGN0cmwpIHtcbiAgICAgIGlmICghY3RybCkgcmV0dXJuO1xuICAgICAgYXR0ci5yZXF1aXJlZCA9IHRydWU7IC8vIGZvcmNlIHRydXRoeSBpbiBjYXNlIHdlIGFyZSBvbiBub24gaW5wdXQgZWxlbWVudFxuXG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLnJlcXVpcmVkID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XG4gICAgICAgIHJldHVybiAhYXR0ci5yZXF1aXJlZCB8fCAhY3RybC4kaXNFbXB0eSh2aWV3VmFsdWUpO1xuICAgICAgfTtcblxuICAgICAgYXR0ci4kb2JzZXJ2ZSgncmVxdWlyZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn07XG5cblxudmFyIHBhdHRlcm5EaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkge1xuICAgICAgaWYgKCFjdHJsKSByZXR1cm47XG5cbiAgICAgIHZhciByZWdleHAsIHBhdHRlcm5FeHAgPSBhdHRyLm5nUGF0dGVybiB8fCBhdHRyLnBhdHRlcm47XG4gICAgICBhdHRyLiRvYnNlcnZlKCdwYXR0ZXJuJywgZnVuY3Rpb24ocmVnZXgpIHtcbiAgICAgICAgaWYgKGlzU3RyaW5nKHJlZ2V4KSAmJiByZWdleC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmVnZXggPSBuZXcgUmVnRXhwKCdeJyArIHJlZ2V4ICsgJyQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWdleCAmJiAhcmVnZXgudGVzdCkge1xuICAgICAgICAgIHRocm93IG1pbkVycignbmdQYXR0ZXJuJykoJ25vcmVnZXhwJyxcbiAgICAgICAgICAgICdFeHBlY3RlZCB7MH0gdG8gYmUgYSBSZWdFeHAgYnV0IHdhcyB7MX0uIEVsZW1lbnQ6IHsyfScsIHBhdHRlcm5FeHAsXG4gICAgICAgICAgICByZWdleCwgc3RhcnRpbmdUYWcoZWxtKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZWdleHAgPSByZWdleCB8fCB1bmRlZmluZWQ7XG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XG4gICAgICB9KTtcblxuICAgICAgY3RybC4kdmFsaWRhdG9ycy5wYXR0ZXJuID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpIHx8IGlzVW5kZWZpbmVkKHJlZ2V4cCkgfHwgcmVnZXhwLnRlc3QodmFsdWUpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59O1xuXG5cbnZhciBtYXhsZW5ndGhEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkge1xuICAgICAgaWYgKCFjdHJsKSByZXR1cm47XG5cbiAgICAgIHZhciBtYXhsZW5ndGggPSAtMTtcbiAgICAgIGF0dHIuJG9ic2VydmUoJ21heGxlbmd0aCcsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciBpbnRWYWwgPSB0b0ludCh2YWx1ZSk7XG4gICAgICAgIG1heGxlbmd0aCA9IGlzTmFOKGludFZhbCkgPyAtMSA6IGludFZhbDtcbiAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICAgIH0pO1xuICAgICAgY3RybC4kdmFsaWRhdG9ycy5tYXhsZW5ndGggPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIChtYXhsZW5ndGggPCAwKSB8fCBjdHJsLiRpc0VtcHR5KHZpZXdWYWx1ZSkgfHwgKHZpZXdWYWx1ZS5sZW5ndGggPD0gbWF4bGVuZ3RoKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcblxudmFyIG1pbmxlbmd0aERpcmVjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRyLCBjdHJsKSB7XG4gICAgICBpZiAoIWN0cmwpIHJldHVybjtcblxuICAgICAgdmFyIG1pbmxlbmd0aCA9IDA7XG4gICAgICBhdHRyLiRvYnNlcnZlKCdtaW5sZW5ndGgnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBtaW5sZW5ndGggPSB0b0ludCh2YWx1ZSkgfHwgMDtcbiAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcbiAgICAgIH0pO1xuICAgICAgY3RybC4kdmFsaWRhdG9ycy5taW5sZW5ndGggPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmlld1ZhbHVlKSB8fCB2aWV3VmFsdWUubGVuZ3RoID49IG1pbmxlbmd0aDtcbiAgICAgIH07XG4gICAgfVxuICB9O1xufTtcblxuICBpZiAod2luZG93LmFuZ3VsYXIuYm9vdHN0cmFwKSB7XG4gICAgLy9Bbmd1bGFySlMgaXMgYWxyZWFkeSBsb2FkZWQsIHNvIHdlIGNhbiByZXR1cm4gaGVyZS4uLlxuICAgIGNvbnNvbGUubG9nKCdXQVJOSU5HOiBUcmllZCB0byBsb2FkIGFuZ3VsYXIgbW9yZSB0aGFuIG9uY2UuJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy90cnkgdG8gYmluZCB0byBqcXVlcnkgbm93IHNvIHRoYXQgb25lIGNhbiB3cml0ZSBqcUxpdGUoZG9jdW1lbnQpLnJlYWR5KClcbiAgLy9idXQgd2Ugd2lsbCByZWJpbmQgb24gYm9vdHN0cmFwIGFnYWluLlxuICBiaW5kSlF1ZXJ5KCk7XG5cbiAgcHVibGlzaEV4dGVybmFsQVBJKGFuZ3VsYXIpO1xuXG4gIGpxTGl0ZShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgYW5ndWxhckluaXQoZG9jdW1lbnQsIGJvb3RzdHJhcCk7XG4gIH0pO1xuXG59KSh3aW5kb3csIGRvY3VtZW50KTtcblxuIXdpbmRvdy5hbmd1bGFyLiQkY3NwKCkgJiYgd2luZG93LmFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5oZWFkKS5wcmVwZW5kKCc8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+QGNoYXJzZXQgXCJVVEYtOFwiO1tuZ1xcXFw6Y2xvYWtdLFtuZy1jbG9ha10sW2RhdGEtbmctY2xvYWtdLFt4LW5nLWNsb2FrXSwubmctY2xvYWssLngtbmctY2xvYWssLm5nLWhpZGU6bm90KC5uZy1oaWRlLWFuaW1hdGUpe2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50O31uZ1xcXFw6Zm9ybXtkaXNwbGF5OmJsb2NrO30ubmctYW5pbWF0ZS1zaGlte3Zpc2liaWxpdHk6aGlkZGVuO30ubmctYW5jaG9ye3Bvc2l0aW9uOmFic29sdXRlO308L3N0eWxlPicpOyIsInJlcXVpcmUoJy4vYW5ndWxhcicpO1xubW9kdWxlLmV4cG9ydHMgPSBhbmd1bGFyO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9